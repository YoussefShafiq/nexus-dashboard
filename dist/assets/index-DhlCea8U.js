var PL=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var cce=PL((Ui,Hi)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var $p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ha(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Jv={exports:{}},Id={};var rj;function zL(){if(rj)return Id;rj=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var l in i)l!=="key"&&(s[l]=i[l])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:s}}return Id.Fragment=e,Id.jsx=n,Id.jsxs=n,Id}var ij;function IL(){return ij||(ij=1,Jv.exports=zL()),Jv.exports}var d=IL(),Zv={exports:{}},nn={};var sj;function BL(){if(sj)return nn;sj=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(q){return q===null||typeof q!="object"?null:(q=m&&q[m]||q["@@iterator"],typeof q=="function"?q:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,S={};function C(q,ae,pe){this.props=q,this.context=ae,this.refs=S,this.updater=pe||v}C.prototype.isReactComponent={},C.prototype.setState=function(q,ae){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ae,"setState")},C.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function N(){}N.prototype=C.prototype;function O(q,ae,pe){this.props=q,this.context=ae,this.refs=S,this.updater=pe||v}var D=O.prototype=new N;D.constructor=O,b(D,C.prototype),D.isPureReactComponent=!0;var R=Array.isArray,E={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function P(q,ae,pe,xe,Re,_e){return pe=_e.ref,{$$typeof:t,type:q,key:ae,ref:pe!==void 0?pe:null,props:_e}}function F(q,ae){return P(q.type,ae,void 0,void 0,void 0,q.props)}function G(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function ge(q){var ae={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(pe){return ae[pe]})}var oe=/\/+/g;function ne(q,ae){return typeof q=="object"&&q!==null&&q.key!=null?ge(""+q.key):ae.toString(36)}function ee(){}function Ee(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(ee,ee):(q.status="pending",q.then(function(ae){q.status==="pending"&&(q.status="fulfilled",q.value=ae)},function(ae){q.status==="pending"&&(q.status="rejected",q.reason=ae)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function Oe(q,ae,pe,xe,Re){var _e=typeof q;(_e==="undefined"||_e==="boolean")&&(q=null);var he=!1;if(q===null)he=!0;else switch(_e){case"bigint":case"string":case"number":he=!0;break;case"object":switch(q.$$typeof){case t:case e:he=!0;break;case p:return he=q._init,Oe(he(q._payload),ae,pe,xe,Re)}}if(he)return Re=Re(q),he=xe===""?"."+ne(q,0):xe,R(Re)?(pe="",he!=null&&(pe=he.replace(oe,"$&/")+"/"),Oe(Re,ae,pe,"",function(ot){return ot})):Re!=null&&(G(Re)&&(Re=F(Re,pe+(Re.key==null||q&&q.key===Re.key?"":(""+Re.key).replace(oe,"$&/")+"/")+he)),ae.push(Re)),1;he=0;var Be=xe===""?".":xe+":";if(R(q))for(var Le=0;Le<q.length;Le++)xe=q[Le],_e=Be+ne(xe,Le),he+=Oe(xe,ae,pe,_e,Re);else if(Le=y(q),typeof Le=="function")for(q=Le.call(q),Le=0;!(xe=q.next()).done;)xe=xe.value,_e=Be+ne(xe,Le++),he+=Oe(xe,ae,pe,_e,Re);else if(_e==="object"){if(typeof q.then=="function")return Oe(Ee(q),ae,pe,xe,Re);throw ae=String(q),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return he}function K(q,ae,pe){if(q==null)return q;var xe=[],Re=0;return Oe(q,xe,"","",function(_e){return ae.call(pe,_e,Re++)}),xe}function re(q){if(q._status===-1){var ae=q._result;ae=ae(),ae.then(function(pe){(q._status===0||q._status===-1)&&(q._status=1,q._result=pe)},function(pe){(q._status===0||q._status===-1)&&(q._status=2,q._result=pe)}),q._status===-1&&(q._status=0,q._result=ae)}if(q._status===1)return q._result.default;throw q._result}var ue=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function ze(){}return nn.Children={map:K,forEach:function(q,ae,pe){K(q,function(){ae.apply(this,arguments)},pe)},count:function(q){var ae=0;return K(q,function(){ae++}),ae},toArray:function(q){return K(q,function(ae){return ae})||[]},only:function(q){if(!G(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},nn.Component=C,nn.Fragment=n,nn.Profiler=i,nn.PureComponent=O,nn.StrictMode=r,nn.Suspense=u,nn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,nn.__COMPILER_RUNTIME={__proto__:null,c:function(q){return E.H.useMemoCache(q)}},nn.cache=function(q){return function(){return q.apply(null,arguments)}},nn.cloneElement=function(q,ae,pe){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var xe=b({},q.props),Re=q.key,_e=void 0;if(ae!=null)for(he in ae.ref!==void 0&&(_e=void 0),ae.key!==void 0&&(Re=""+ae.key),ae)!k.call(ae,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&ae.ref===void 0||(xe[he]=ae[he]);var he=arguments.length-2;if(he===1)xe.children=pe;else if(1<he){for(var Be=Array(he),Le=0;Le<he;Le++)Be[Le]=arguments[Le+2];xe.children=Be}return P(q.type,Re,void 0,void 0,_e,xe)},nn.createContext=function(q){return q={$$typeof:a,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:s,_context:q},q},nn.createElement=function(q,ae,pe){var xe,Re={},_e=null;if(ae!=null)for(xe in ae.key!==void 0&&(_e=""+ae.key),ae)k.call(ae,xe)&&xe!=="key"&&xe!=="__self"&&xe!=="__source"&&(Re[xe]=ae[xe]);var he=arguments.length-2;if(he===1)Re.children=pe;else if(1<he){for(var Be=Array(he),Le=0;Le<he;Le++)Be[Le]=arguments[Le+2];Re.children=Be}if(q&&q.defaultProps)for(xe in he=q.defaultProps,he)Re[xe]===void 0&&(Re[xe]=he[xe]);return P(q,_e,void 0,void 0,null,Re)},nn.createRef=function(){return{current:null}},nn.forwardRef=function(q){return{$$typeof:l,render:q}},nn.isValidElement=G,nn.lazy=function(q){return{$$typeof:p,_payload:{_status:-1,_result:q},_init:re}},nn.memo=function(q,ae){return{$$typeof:f,type:q,compare:ae===void 0?null:ae}},nn.startTransition=function(q){var ae=E.T,pe={};E.T=pe;try{var xe=q(),Re=E.S;Re!==null&&Re(pe,xe),typeof xe=="object"&&xe!==null&&typeof xe.then=="function"&&xe.then(ze,ue)}catch(_e){ue(_e)}finally{E.T=ae}},nn.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},nn.use=function(q){return E.H.use(q)},nn.useActionState=function(q,ae,pe){return E.H.useActionState(q,ae,pe)},nn.useCallback=function(q,ae){return E.H.useCallback(q,ae)},nn.useContext=function(q){return E.H.useContext(q)},nn.useDebugValue=function(){},nn.useDeferredValue=function(q,ae){return E.H.useDeferredValue(q,ae)},nn.useEffect=function(q,ae,pe){var xe=E.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return xe.useEffect(q,ae)},nn.useId=function(){return E.H.useId()},nn.useImperativeHandle=function(q,ae,pe){return E.H.useImperativeHandle(q,ae,pe)},nn.useInsertionEffect=function(q,ae){return E.H.useInsertionEffect(q,ae)},nn.useLayoutEffect=function(q,ae){return E.H.useLayoutEffect(q,ae)},nn.useMemo=function(q,ae){return E.H.useMemo(q,ae)},nn.useOptimistic=function(q,ae){return E.H.useOptimistic(q,ae)},nn.useReducer=function(q,ae,pe){return E.H.useReducer(q,ae,pe)},nn.useRef=function(q){return E.H.useRef(q)},nn.useState=function(q){return E.H.useState(q)},nn.useSyncExternalStore=function(q,ae,pe){return E.H.useSyncExternalStore(q,ae,pe)},nn.useTransition=function(){return E.H.useTransition()},nn.version="19.1.0",nn}var aj;function uy(){return aj||(aj=1,Zv.exports=BL()),Zv.exports}var T=uy();const Ut=Ha(T);var ex={exports:{}},Bd={},tx={exports:{}},nx={};var oj;function FL(){return oj||(oj=1,function(t){function e(K,re){var ue=K.length;K.push(re);e:for(;0<ue;){var ze=ue-1>>>1,q=K[ze];if(0<i(q,re))K[ze]=re,K[ue]=q,ue=ze;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var re=K[0],ue=K.pop();if(ue!==re){K[0]=ue;e:for(var ze=0,q=K.length,ae=q>>>1;ze<ae;){var pe=2*(ze+1)-1,xe=K[pe],Re=pe+1,_e=K[Re];if(0>i(xe,ue))Re<q&&0>i(_e,xe)?(K[ze]=_e,K[Re]=ue,ze=Re):(K[ze]=xe,K[pe]=ue,ze=pe);else if(Re<q&&0>i(_e,ue))K[ze]=_e,K[Re]=ue,ze=Re;else break e}}return re}function i(K,re){var ue=K.sortIndex-re.sortIndex;return ue!==0?ue:K.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],f=[],p=1,m=null,y=3,v=!1,b=!1,S=!1,C=!1,N=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function R(K){for(var re=n(f);re!==null;){if(re.callback===null)r(f);else if(re.startTime<=K)r(f),re.sortIndex=re.expirationTime,e(u,re);else break;re=n(f)}}function E(K){if(S=!1,R(K),!b)if(n(u)!==null)b=!0,k||(k=!0,ne());else{var re=n(f);re!==null&&Oe(E,re.startTime-K)}}var k=!1,P=-1,F=5,G=-1;function ge(){return C?!0:!(t.unstable_now()-G<F)}function oe(){if(C=!1,k){var K=t.unstable_now();G=K;var re=!0;try{e:{b=!1,S&&(S=!1,O(P),P=-1),v=!0;var ue=y;try{t:{for(R(K),m=n(u);m!==null&&!(m.expirationTime>K&&ge());){var ze=m.callback;if(typeof ze=="function"){m.callback=null,y=m.priorityLevel;var q=ze(m.expirationTime<=K);if(K=t.unstable_now(),typeof q=="function"){m.callback=q,R(K),re=!0;break t}m===n(u)&&r(u),R(K)}else r(u);m=n(u)}if(m!==null)re=!0;else{var ae=n(f);ae!==null&&Oe(E,ae.startTime-K),re=!1}}break e}finally{m=null,y=ue,v=!1}re=void 0}}finally{re?ne():k=!1}}}var ne;if(typeof D=="function")ne=function(){D(oe)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,Ee=ee.port2;ee.port1.onmessage=oe,ne=function(){Ee.postMessage(null)}}else ne=function(){N(oe,0)};function Oe(K,re){P=N(function(){K(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(K){switch(y){case 1:case 2:case 3:var re=3;break;default:re=y}var ue=y;y=re;try{return K()}finally{y=ue}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(K,re){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ue=y;y=K;try{return re()}finally{y=ue}},t.unstable_scheduleCallback=function(K,re,ue){var ze=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?ze+ue:ze):ue=ze,K){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ue+q,K={id:p++,callback:re,priorityLevel:K,startTime:ue,expirationTime:q,sortIndex:-1},ue>ze?(K.sortIndex=ue,e(f,K),n(u)===null&&K===n(f)&&(S?(O(P),P=-1):S=!0,Oe(E,ue-ze))):(K.sortIndex=q,e(u,K),b||v||(b=!0,k||(k=!0,ne()))),K},t.unstable_shouldYield=ge,t.unstable_wrapCallback=function(K){var re=y;return function(){var ue=y;y=re;try{return K.apply(this,arguments)}finally{y=ue}}}}(nx)),nx}var lj;function $L(){return lj||(lj=1,tx.exports=FL()),tx.exports}var rx={exports:{}},Wr={};var cj;function VL(){if(cj)return Wr;cj=1;var t=uy();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(u,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:u,containerInfo:f,implementation:p}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Wr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Wr.createPortal=function(u,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(u,f,null,p)},Wr.flushSync=function(u){var f=a.T,p=r.p;try{if(a.T=null,r.p=2,u)return u()}finally{a.T=f,r.p=p,r.d.f()}},Wr.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(u,f))},Wr.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Wr.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var p=f.as,m=l(p,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:v}):p==="script"&&r.d.X(u,{crossOrigin:m,integrity:y,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Wr.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=l(f.as,f.crossOrigin);r.d.M(u,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(u)},Wr.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=l(p,f.crossOrigin);r.d.L(u,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Wr.preloadModule=function(u,f){if(typeof u=="string")if(f){var p=l(f.as,f.crossOrigin);r.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(u)},Wr.requestFormReset=function(u){r.d.r(u)},Wr.unstable_batchedUpdates=function(u,f){return u(f)},Wr.useFormState=function(u,f,p){return a.H.useFormState(u,f,p)},Wr.useFormStatus=function(){return a.H.useHostTransitionStatus()},Wr.version="19.1.0",Wr}var uj;function J3(){if(uj)return rx.exports;uj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rx.exports=VL(),rx.exports}var dj;function UL(){if(dj)return Bd;dj=1;var t=$L(),e=uy(),n=J3();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var c=o,h=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(h=c.return),o=c.return;while(o)}return c.tag===3?h:null}function a(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(s(o)!==o)throw Error(r(188))}function u(o){var c=o.alternate;if(!c){if(c=s(o),c===null)throw Error(r(188));return c!==o?null:o}for(var h=o,g=c;;){var x=h.return;if(x===null)break;var w=x.alternate;if(w===null){if(g=x.return,g!==null){h=g;continue}break}if(x.child===w.child){for(w=x.child;w;){if(w===h)return l(x),o;if(w===g)return l(x),c;w=w.sibling}throw Error(r(188))}if(h.return!==g.return)h=x,g=w;else{for(var M=!1,z=x.child;z;){if(z===h){M=!0,h=x,g=w;break}if(z===g){M=!0,g=x,h=w;break}z=z.sibling}if(!M){for(z=w.child;z;){if(z===h){M=!0,h=w,g=x;break}if(z===g){M=!0,g=w,h=x;break}z=z.sibling}if(!M)throw Error(r(189))}}if(h.alternate!==g)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?o:c}function f(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=f(o),c!==null)return c;o=o.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),D=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),ge=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function ne(o){return o===null||typeof o!="object"?null:(o=oe&&o[oe]||o["@@iterator"],typeof o=="function"?o:null)}var ee=Symbol.for("react.client.reference");function Ee(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===ee?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case b:return"Fragment";case C:return"Profiler";case S:return"StrictMode";case E:return"Suspense";case k:return"SuspenseList";case G:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case v:return"Portal";case D:return(o.displayName||"Context")+".Provider";case O:return(o._context.displayName||"Context")+".Consumer";case R:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case P:return c=o.displayName||null,c!==null?c:Ee(o.type)||"Memo";case F:c=o._payload,o=o._init;try{return Ee(o(c))}catch{}}return null}var Oe=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},ze=[],q=-1;function ae(o){return{current:o}}function pe(o){0>q||(o.current=ze[q],ze[q]=null,q--)}function xe(o,c){q++,ze[q]=o.current,o.current=c}var Re=ae(null),_e=ae(null),he=ae(null),Be=ae(null);function Le(o,c){switch(xe(he,c),xe(_e,o),xe(Re,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?MT(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=MT(c),o=DT(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}pe(Re),xe(Re,o)}function ot(){pe(Re),pe(_e),pe(he)}function ut(o){o.memoizedState!==null&&xe(Be,o);var c=Re.current,h=DT(c,o.type);c!==h&&(xe(_e,o),xe(Re,h))}function Bt(o){_e.current===o&&(pe(Re),pe(_e)),Be.current===o&&(pe(Be),Rd._currentValue=ue)}var dt=Object.prototype.hasOwnProperty,_t=t.unstable_scheduleCallback,st=t.unstable_cancelCallback,Z=t.unstable_shouldYield,$e=t.unstable_requestPaint,Ue=t.unstable_now,Qe=t.unstable_getCurrentPriorityLevel,Nt=t.unstable_ImmediatePriority,_=t.unstable_UserBlockingPriority,W=t.unstable_NormalPriority,I=t.unstable_LowPriority,ce=t.unstable_IdlePriority,ye=t.log,$=t.unstable_setDisableYieldValue,U=null,be=null;function We(o){if(typeof ye=="function"&&$(o),be&&typeof be.setStrictMode=="function")try{be.setStrictMode(U,o)}catch{}}var ht=Math.clz32?Math.clz32:ln,Qt=Math.log,Lt=Math.LN2;function ln(o){return o>>>=0,o===0?32:31-(Qt(o)/Lt|0)|0}var sn=256,Se=4194304;function it(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function ft(o,c,h){var g=o.pendingLanes;if(g===0)return 0;var x=0,w=o.suspendedLanes,M=o.pingedLanes;o=o.warmLanes;var z=g&134217727;return z!==0?(g=z&~w,g!==0?x=it(g):(M&=z,M!==0?x=it(M):h||(h=z&~o,h!==0&&(x=it(h))))):(z=g&~w,z!==0?x=it(z):M!==0?x=it(M):h||(h=g&~o,h!==0&&(x=it(h)))),x===0?0:c!==0&&c!==x&&(c&w)===0&&(w=x&-x,h=c&-c,w>=h||w===32&&(h&4194048)!==0)?c:x}function de(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function lt(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ot(){var o=sn;return sn<<=1,(sn&4194048)===0&&(sn=256),o}function tt(){var o=Se;return Se<<=1,(Se&62914560)===0&&(Se=4194304),o}function Te(o){for(var c=[],h=0;31>h;h++)c.push(o);return c}function rt(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function wt(o,c,h,g,x,w){var M=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var z=o.entanglements,X=o.expirationTimes,Ne=o.hiddenUpdates;for(h=M&~h;0<h;){var Ie=31-ht(h),Ve=1<<Ie;z[Ie]=0,X[Ie]=-1;var je=Ne[Ie];if(je!==null)for(Ne[Ie]=null,Ie=0;Ie<je.length;Ie++){var Ae=je[Ie];Ae!==null&&(Ae.lane&=-536870913)}h&=~Ve}g!==0&&St(o,g,0),w!==0&&x===0&&o.tag!==0&&(o.suspendedLanes|=w&~(M&~c))}function St(o,c,h){o.pendingLanes|=c,o.suspendedLanes&=~c;var g=31-ht(c);o.entangledLanes|=c,o.entanglements[g]=o.entanglements[g]|1073741824|h&4194090}function Tt(o,c){var h=o.entangledLanes|=c;for(o=o.entanglements;h;){var g=31-ht(h),x=1<<g;x&c|o[g]&c&&(o[g]|=c),h&=~x}}function Zt(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Tn(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Q(){var o=re.p;return o!==0?o:(o=window.event,o===void 0?32:QT(o.type))}function fe(o,c){var h=re.p;try{return re.p=o,c()}finally{re.p=h}}var Ce=Math.random().toString(36).slice(2),Pe="__reactFiber$"+Ce,Ge="__reactProps$"+Ce,gt="__reactContainer$"+Ce,Ct="__reactEvents$"+Ce,nt="__reactListeners$"+Ce,pt="__reactHandles$"+Ce,mt="__reactResources$"+Ce,Mt="__reactMarker$"+Ce;function Y(o){delete o[Pe],delete o[Ge],delete o[Ct],delete o[nt],delete o[pt]}function Me(o){var c=o[Pe];if(c)return c;for(var h=o.parentNode;h;){if(c=h[gt]||h[Pe]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(o=PT(o);o!==null;){if(h=o[Pe])return h;o=PT(o)}return c}o=h,h=o.parentNode}return null}function Xe(o){if(o=o[Pe]||o[gt]){var c=o.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return o}return null}function vt(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(r(33))}function qt(o){var c=o[mt];return c||(c=o[mt]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Dt(o){o[Mt]=!0}var zt=new Set,Xn={};function An(o,c){Sn(o,c),Sn(o+"Capture",c)}function Sn(o,c){for(Xn[o]=c,o=0;o<c.length;o++)zt.add(c[o])}var Fn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jr={},A={};function H(o){return dt.call(A,o)?!0:dt.call(jr,o)?!1:Fn.test(o)?A[o]=!0:(jr[o]=!0,!1)}function V(o,c,h){if(H(c))if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+h)}}function ie(o,c,h){if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+h)}}function Je(o,c,h,g){if(g===null)o.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(c,h,""+g)}}var yt,bt;function Gt(o){if(yt===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);yt=c&&c[1]||"",bt=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yt+o+bt}var Dn=!1;function en(o,c){if(!o||Dn)return"";Dn=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var Ve=function(){throw Error()};if(Object.defineProperty(Ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ve,[])}catch(Ae){var je=Ae}Reflect.construct(o,[],Ve)}else{try{Ve.call()}catch(Ae){je=Ae}o.call(Ve.prototype)}}else{try{throw Error()}catch(Ae){je=Ae}(Ve=o())&&typeof Ve.catch=="function"&&Ve.catch(function(){})}}catch(Ae){if(Ae&&je&&typeof Ae.stack=="string")return[Ae.stack,je.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=g.DetermineComponentFrameRoot(),M=w[0],z=w[1];if(M&&z){var X=M.split(`
`),Ne=z.split(`
`);for(x=g=0;g<X.length&&!X[g].includes("DetermineComponentFrameRoot");)g++;for(;x<Ne.length&&!Ne[x].includes("DetermineComponentFrameRoot");)x++;if(g===X.length||x===Ne.length)for(g=X.length-1,x=Ne.length-1;1<=g&&0<=x&&X[g]!==Ne[x];)x--;for(;1<=g&&0<=x;g--,x--)if(X[g]!==Ne[x]){if(g!==1||x!==1)do if(g--,x--,0>x||X[g]!==Ne[x]){var Ie=`
`+X[g].replace(" at new "," at ");return o.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",o.displayName)),Ie}while(1<=g&&0<=x);break}}}finally{Dn=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?Gt(h):""}function zr(o){switch(o.tag){case 26:case 27:case 5:return Gt(o.type);case 16:return Gt("Lazy");case 13:return Gt("Suspense");case 19:return Gt("SuspenseList");case 0:case 15:return en(o.type,!1);case 11:return en(o.type.render,!1);case 1:return en(o.type,!0);case 31:return Gt("Activity");default:return""}}function j(o){try{var c="";do c+=zr(o),o=o.return;while(o);return c}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function L(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function B(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function J(o){var c=B(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),g=""+o[c];if(!o.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var x=h.get,w=h.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return x.call(this)},set:function(M){g=""+M,w.call(this,M)}}),Object.defineProperty(o,c,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(M){g=""+M},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function le(o){o._valueTracker||(o._valueTracker=J(o))}function te(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var h=c.getValue(),g="";return o&&(g=B(o)?o.checked?"true":"false":o.value),o=g,o!==h?(c.setValue(o),!0):!1}function ke(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var qe=/[\n"\\]/g;function Ke(o){return o.replace(qe,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Ze(o,c,h,g,x,w,M,z){o.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?o.type=M:o.removeAttribute("type"),c!=null?M==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+L(c)):o.value!==""+L(c)&&(o.value=""+L(c)):M!=="submit"&&M!=="reset"||o.removeAttribute("value"),c!=null?Et(o,M,L(c)):h!=null?Et(o,M,L(h)):g!=null&&o.removeAttribute("value"),x==null&&w!=null&&(o.defaultChecked=!!w),x!=null&&(o.checked=x&&typeof x!="function"&&typeof x!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?o.name=""+L(z):o.removeAttribute("name")}function at(o,c,h,g,x,w,M,z){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(o.type=w),c!=null||h!=null){if(!(w!=="submit"&&w!=="reset"||c!=null))return;h=h!=null?""+L(h):"",c=c!=null?""+L(c):h,z||c===o.value||(o.value=c),o.defaultValue=c}g=g??x,g=typeof g!="function"&&typeof g!="symbol"&&!!g,o.checked=z?o.checked:!!g,o.defaultChecked=!!g,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(o.name=M)}function Et(o,c,h){c==="number"&&ke(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function Xt(o,c,h,g){if(o=o.options,c){c={};for(var x=0;x<h.length;x++)c["$"+h[x]]=!0;for(h=0;h<o.length;h++)x=c.hasOwnProperty("$"+o[h].value),o[h].selected!==x&&(o[h].selected=x),x&&g&&(o[h].defaultSelected=!0)}else{for(h=""+L(h),c=null,x=0;x<o.length;x++){if(o[x].value===h){o[x].selected=!0,g&&(o[x].defaultSelected=!0);return}c!==null||o[x].disabled||(c=o[x])}c!==null&&(c.selected=!0)}}function vn(o,c,h){if(c!=null&&(c=""+L(c),c!==o.value&&(o.value=c),h==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=h!=null?""+L(h):""}function xn(o,c,h,g){if(c==null){if(g!=null){if(h!=null)throw Error(r(92));if(Oe(g)){if(1<g.length)throw Error(r(93));g=g[0]}h=g}h==null&&(h=""),c=h}h=L(c),o.defaultValue=h,g=o.textContent,g===h&&g!==""&&g!==null&&(o.value=g)}function Rn(o,c){if(c){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=c;return}}o.textContent=c}var Qn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ii(o,c,h){var g=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":g?o.setProperty(c,h):typeof h!="number"||h===0||Qn.has(c)?c==="float"?o.cssFloat=h:o[c]=(""+h).trim():o[c]=h+"px"}function Ka(o,c,h){if(c!=null&&typeof c!="object")throw Error(r(62));if(o=o.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?o.setProperty(g,""):g==="float"?o.cssFloat="":o[g]="");for(var x in c)g=c[x],c.hasOwnProperty(x)&&h[x]!==g&&ii(o,x,g)}else for(var w in c)c.hasOwnProperty(w)&&ii(o,w,c[w])}function il(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Uu(o){return Vu.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Hu=null;function qu(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ca=null,vc=null;function RS(o){var c=Xe(o);if(c&&(o=c.stateNode)){var h=o[Ge]||null;e:switch(o=c.stateNode,c.type){case"input":if(Ze(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Ke(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var g=h[c];if(g!==o&&g.form===o.form){var x=g[Ge]||null;if(!x)throw Error(r(90));Ze(g,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(c=0;c<h.length;c++)g=h[c],g.form===o.form&&te(g)}break e;case"textarea":vn(o,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&Xt(o,!!h.multiple,c,!1)}}}var e0=!1;function _S(o,c,h){if(e0)return o(c,h);e0=!0;try{var g=o(c);return g}finally{if(e0=!1,(ca!==null||vc!==null)&&(bp(),ca&&(c=ca,o=vc,vc=ca=null,RS(c),o)))for(c=0;c<o.length;c++)RS(o[c])}}function Ku(o,c){var h=o.stateNode;if(h===null)return null;var g=h[Ge]||null;if(g===null)return null;h=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(r(231,c,typeof h));return h}var ua=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),t0=!1;if(ua)try{var Yu={};Object.defineProperty(Yu,"passive",{get:function(){t0=!0}}),window.addEventListener("test",Yu,Yu),window.removeEventListener("test",Yu,Yu)}catch{t0=!1}var Ya=null,n0=null,Ph=null;function LS(){if(Ph)return Ph;var o,c=n0,h=c.length,g,x="value"in Ya?Ya.value:Ya.textContent,w=x.length;for(o=0;o<h&&c[o]===x[o];o++);var M=h-o;for(g=1;g<=M&&c[h-g]===x[w-g];g++);return Ph=x.slice(o,1<g?1-g:void 0)}function zh(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Ih(){return!0}function PS(){return!1}function pi(o){function c(h,g,x,w,M){this._reactName=h,this._targetInst=x,this.type=g,this.nativeEvent=w,this.target=M,this.currentTarget=null;for(var z in o)o.hasOwnProperty(z)&&(h=o[z],this[z]=h?h(w):w[z]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Ih:PS,this.isPropagationStopped=PS,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ih)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ih)},persist:function(){},isPersistent:Ih}),c}var sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bh=pi(sl),Wu=p({},sl,{view:0,detail:0}),P_=pi(Wu),r0,i0,Gu,Fh=p({},Wu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:a0,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Gu&&(Gu&&o.type==="mousemove"?(r0=o.screenX-Gu.screenX,i0=o.screenY-Gu.screenY):i0=r0=0,Gu=o),r0)},movementY:function(o){return"movementY"in o?o.movementY:i0}}),zS=pi(Fh),z_=p({},Fh,{dataTransfer:0}),I_=pi(z_),B_=p({},Wu,{relatedTarget:0}),s0=pi(B_),F_=p({},sl,{animationName:0,elapsedTime:0,pseudoElement:0}),$_=pi(F_),V_=p({},sl,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),U_=pi(V_),H_=p({},sl,{data:0}),IS=pi(H_),q_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W_(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=Y_[o])?!!c[o]:!1}function a0(){return W_}var G_=p({},Wu,{key:function(o){if(o.key){var c=q_[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=zh(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?K_[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:a0,charCode:function(o){return o.type==="keypress"?zh(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?zh(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),X_=pi(G_),Q_=p({},Fh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),BS=pi(Q_),J_=p({},Wu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:a0}),Z_=pi(J_),e8=p({},sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),t8=pi(e8),n8=p({},Fh,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),r8=pi(n8),i8=p({},sl,{newState:0,oldState:0}),s8=pi(i8),a8=[9,13,27,32],o0=ua&&"CompositionEvent"in window,Xu=null;ua&&"documentMode"in document&&(Xu=document.documentMode);var o8=ua&&"TextEvent"in window&&!Xu,FS=ua&&(!o0||Xu&&8<Xu&&11>=Xu),$S=" ",VS=!1;function US(o,c){switch(o){case"keyup":return a8.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HS(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var xc=!1;function l8(o,c){switch(o){case"compositionend":return HS(c);case"keypress":return c.which!==32?null:(VS=!0,$S);case"textInput":return o=c.data,o===$S&&VS?null:o;default:return null}}function c8(o,c){if(xc)return o==="compositionend"||!o0&&US(o,c)?(o=LS(),Ph=n0=Ya=null,xc=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return FS&&c.locale!=="ko"?null:c.data;default:return null}}var u8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qS(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!u8[o.type]:c==="textarea"}function KS(o,c,h,g){ca?vc?vc.push(g):vc=[g]:ca=g,c=jp(c,"onChange"),0<c.length&&(h=new Bh("onChange","change",null,h,g),o.push({event:h,listeners:c}))}var Qu=null,Ju=null;function d8(o){jT(o,0)}function $h(o){var c=vt(o);if(te(c))return o}function YS(o,c){if(o==="change")return c}var WS=!1;if(ua){var l0;if(ua){var c0="oninput"in document;if(!c0){var GS=document.createElement("div");GS.setAttribute("oninput","return;"),c0=typeof GS.oninput=="function"}l0=c0}else l0=!1;WS=l0&&(!document.documentMode||9<document.documentMode)}function XS(){Qu&&(Qu.detachEvent("onpropertychange",QS),Ju=Qu=null)}function QS(o){if(o.propertyName==="value"&&$h(Ju)){var c=[];KS(c,Ju,o,qu(o)),_S(d8,c)}}function f8(o,c,h){o==="focusin"?(XS(),Qu=c,Ju=h,Qu.attachEvent("onpropertychange",QS)):o==="focusout"&&XS()}function h8(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return $h(Ju)}function p8(o,c){if(o==="click")return $h(c)}function m8(o,c){if(o==="input"||o==="change")return $h(c)}function g8(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Mi=typeof Object.is=="function"?Object.is:g8;function Zu(o,c){if(Mi(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var h=Object.keys(o),g=Object.keys(c);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var x=h[g];if(!dt.call(c,x)||!Mi(o[x],c[x]))return!1}return!0}function JS(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function ZS(o,c){var h=JS(o);o=0;for(var g;h;){if(h.nodeType===3){if(g=o+h.textContent.length,o<=c&&g>=c)return{node:h,offset:c-o};o=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=JS(h)}}function eC(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?eC(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function tC(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=ke(o.document);c instanceof o.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)o=c.contentWindow;else break;c=ke(o.document)}return c}function u0(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var y8=ua&&"documentMode"in document&&11>=document.documentMode,bc=null,d0=null,ed=null,f0=!1;function nC(o,c,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;f0||bc==null||bc!==ke(g)||(g=bc,"selectionStart"in g&&u0(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),ed&&Zu(ed,g)||(ed=g,g=jp(d0,"onSelect"),0<g.length&&(c=new Bh("onSelect","select",null,c,h),o.push({event:c,listeners:g}),c.target=bc)))}function al(o,c){var h={};return h[o.toLowerCase()]=c.toLowerCase(),h["Webkit"+o]="webkit"+c,h["Moz"+o]="moz"+c,h}var wc={animationend:al("Animation","AnimationEnd"),animationiteration:al("Animation","AnimationIteration"),animationstart:al("Animation","AnimationStart"),transitionrun:al("Transition","TransitionRun"),transitionstart:al("Transition","TransitionStart"),transitioncancel:al("Transition","TransitionCancel"),transitionend:al("Transition","TransitionEnd")},h0={},rC={};ua&&(rC=document.createElement("div").style,"AnimationEvent"in window||(delete wc.animationend.animation,delete wc.animationiteration.animation,delete wc.animationstart.animation),"TransitionEvent"in window||delete wc.transitionend.transition);function ol(o){if(h0[o])return h0[o];if(!wc[o])return o;var c=wc[o],h;for(h in c)if(c.hasOwnProperty(h)&&h in rC)return h0[o]=c[h];return o}var iC=ol("animationend"),sC=ol("animationiteration"),aC=ol("animationstart"),v8=ol("transitionrun"),x8=ol("transitionstart"),b8=ol("transitioncancel"),oC=ol("transitionend"),lC=new Map,p0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");p0.push("scrollEnd");function ys(o,c){lC.set(o,c),An(c,[o])}var cC=new WeakMap;function Wi(o,c){if(typeof o=="object"&&o!==null){var h=cC.get(o);return h!==void 0?h:(c={value:o,source:c,stack:j(c)},cC.set(o,c),c)}return{value:o,source:c,stack:j(c)}}var Gi=[],Sc=0,m0=0;function Vh(){for(var o=Sc,c=m0=Sc=0;c<o;){var h=Gi[c];Gi[c++]=null;var g=Gi[c];Gi[c++]=null;var x=Gi[c];Gi[c++]=null;var w=Gi[c];if(Gi[c++]=null,g!==null&&x!==null){var M=g.pending;M===null?x.next=x:(x.next=M.next,M.next=x),g.pending=x}w!==0&&uC(h,x,w)}}function Uh(o,c,h,g){Gi[Sc++]=o,Gi[Sc++]=c,Gi[Sc++]=h,Gi[Sc++]=g,m0|=g,o.lanes|=g,o=o.alternate,o!==null&&(o.lanes|=g)}function g0(o,c,h,g){return Uh(o,c,h,g),Hh(o)}function Cc(o,c){return Uh(o,null,null,c),Hh(o)}function uC(o,c,h){o.lanes|=h;var g=o.alternate;g!==null&&(g.lanes|=h);for(var x=!1,w=o.return;w!==null;)w.childLanes|=h,g=w.alternate,g!==null&&(g.childLanes|=h),w.tag===22&&(o=w.stateNode,o===null||o._visibility&1||(x=!0)),o=w,w=w.return;return o.tag===3?(w=o.stateNode,x&&c!==null&&(x=31-ht(h),o=w.hiddenUpdates,g=o[x],g===null?o[x]=[c]:g.push(c),c.lane=h|536870912),w):null}function Hh(o){if(50<Td)throw Td=0,Sv=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var Nc={};function w8(o,c,h,g){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Di(o,c,h,g){return new w8(o,c,h,g)}function y0(o){return o=o.prototype,!(!o||!o.isReactComponent)}function da(o,c){var h=o.alternate;return h===null?(h=Di(o.tag,c,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=c,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,c=o.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function dC(o,c){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,c=h.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function qh(o,c,h,g,x,w){var M=0;if(g=o,typeof o=="function")y0(o)&&(M=1);else if(typeof o=="string")M=CL(o,h,Re.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case G:return o=Di(31,h,c,x),o.elementType=G,o.lanes=w,o;case b:return ll(h.children,x,w,c);case S:M=8,x|=24;break;case C:return o=Di(12,h,c,x|2),o.elementType=C,o.lanes=w,o;case E:return o=Di(13,h,c,x),o.elementType=E,o.lanes=w,o;case k:return o=Di(19,h,c,x),o.elementType=k,o.lanes=w,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case N:case D:M=10;break e;case O:M=9;break e;case R:M=11;break e;case P:M=14;break e;case F:M=16,g=null;break e}M=29,h=Error(r(130,o===null?"null":typeof o,"")),g=null}return c=Di(M,h,c,x),c.elementType=o,c.type=g,c.lanes=w,c}function ll(o,c,h,g){return o=Di(7,o,g,c),o.lanes=h,o}function v0(o,c,h){return o=Di(6,o,null,c),o.lanes=h,o}function x0(o,c,h){return c=Di(4,o.children!==null?o.children:[],o.key,c),c.lanes=h,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var Tc=[],jc=0,Kh=null,Yh=0,Xi=[],Qi=0,cl=null,fa=1,ha="";function ul(o,c){Tc[jc++]=Yh,Tc[jc++]=Kh,Kh=o,Yh=c}function fC(o,c,h){Xi[Qi++]=fa,Xi[Qi++]=ha,Xi[Qi++]=cl,cl=o;var g=fa;o=ha;var x=32-ht(g)-1;g&=~(1<<x),h+=1;var w=32-ht(c)+x;if(30<w){var M=x-x%5;w=(g&(1<<M)-1).toString(32),g>>=M,x-=M,fa=1<<32-ht(c)+x|h<<x|g,ha=w+o}else fa=1<<w|h<<x|g,ha=o}function b0(o){o.return!==null&&(ul(o,1),fC(o,1,0))}function w0(o){for(;o===Kh;)Kh=Tc[--jc],Tc[jc]=null,Yh=Tc[--jc],Tc[jc]=null;for(;o===cl;)cl=Xi[--Qi],Xi[Qi]=null,ha=Xi[--Qi],Xi[Qi]=null,fa=Xi[--Qi],Xi[Qi]=null}var si=null,tr=null,Cn=!1,dl=null,Ps=!1,S0=Error(r(519));function fl(o){var c=Error(r(418,""));throw rd(Wi(c,o)),S0}function hC(o){var c=o.stateNode,h=o.type,g=o.memoizedProps;switch(c[Pe]=o,c[Ge]=g,h){case"dialog":pn("cancel",c),pn("close",c);break;case"iframe":case"object":case"embed":pn("load",c);break;case"video":case"audio":for(h=0;h<Ed.length;h++)pn(Ed[h],c);break;case"source":pn("error",c);break;case"img":case"image":case"link":pn("error",c),pn("load",c);break;case"details":pn("toggle",c);break;case"input":pn("invalid",c),at(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),le(c);break;case"select":pn("invalid",c);break;case"textarea":pn("invalid",c),xn(c,g.value,g.defaultValue,g.children),le(c)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||g.suppressHydrationWarning===!0||OT(c.textContent,h)?(g.popover!=null&&(pn("beforetoggle",c),pn("toggle",c)),g.onScroll!=null&&pn("scroll",c),g.onScrollEnd!=null&&pn("scrollend",c),g.onClick!=null&&(c.onclick=Ep),c=!0):c=!1,c||fl(o)}function pC(o){for(si=o.return;si;)switch(si.tag){case 5:case 13:Ps=!1;return;case 27:case 3:Ps=!0;return;default:si=si.return}}function td(o){if(o!==si)return!1;if(!Cn)return pC(o),Cn=!0,!1;var c=o.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||Iv(o.type,o.memoizedProps)),h=!h),h&&tr&&fl(o),pC(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8)if(h=o.data,h==="/$"){if(c===0){tr=xs(o.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++;o=o.nextSibling}tr=null}}else c===27?(c=tr,co(o.type)?(o=Vv,Vv=null,tr=o):tr=c):tr=si?xs(o.stateNode.nextSibling):null;return!0}function nd(){tr=si=null,Cn=!1}function mC(){var o=dl;return o!==null&&(yi===null?yi=o:yi.push.apply(yi,o),dl=null),o}function rd(o){dl===null?dl=[o]:dl.push(o)}var C0=ae(null),hl=null,pa=null;function Wa(o,c,h){xe(C0,c._currentValue),c._currentValue=h}function ma(o){o._currentValue=C0.current,pe(C0)}function N0(o,c,h){for(;o!==null;){var g=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),o===h)break;o=o.return}}function T0(o,c,h,g){var x=o.child;for(x!==null&&(x.return=o);x!==null;){var w=x.dependencies;if(w!==null){var M=x.child;w=w.firstContext;e:for(;w!==null;){var z=w;w=x;for(var X=0;X<c.length;X++)if(z.context===c[X]){w.lanes|=h,z=w.alternate,z!==null&&(z.lanes|=h),N0(w.return,h,o),g||(M=null);break e}w=z.next}}else if(x.tag===18){if(M=x.return,M===null)throw Error(r(341));M.lanes|=h,w=M.alternate,w!==null&&(w.lanes|=h),N0(M,h,o),M=null}else M=x.child;if(M!==null)M.return=x;else for(M=x;M!==null;){if(M===o){M=null;break}if(x=M.sibling,x!==null){x.return=M.return,M=x;break}M=M.return}x=M}}function id(o,c,h,g){o=null;for(var x=c,w=!1;x!==null;){if(!w){if((x.flags&524288)!==0)w=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var M=x.alternate;if(M===null)throw Error(r(387));if(M=M.memoizedProps,M!==null){var z=x.type;Mi(x.pendingProps.value,M.value)||(o!==null?o.push(z):o=[z])}}else if(x===Be.current){if(M=x.alternate,M===null)throw Error(r(387));M.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(o!==null?o.push(Rd):o=[Rd])}x=x.return}o!==null&&T0(c,o,h,g),c.flags|=262144}function Wh(o){for(o=o.firstContext;o!==null;){if(!Mi(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function pl(o){hl=o,pa=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Yr(o){return gC(hl,o)}function Gh(o,c){return hl===null&&pl(o),gC(o,c)}function gC(o,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},pa===null){if(o===null)throw Error(r(308));pa=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else pa=pa.next=c;return h}var S8=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(h,g){o.push(g)}};this.abort=function(){c.aborted=!0,o.forEach(function(h){return h()})}},C8=t.unstable_scheduleCallback,N8=t.unstable_NormalPriority,Cr={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function j0(){return{controller:new S8,data:new Map,refCount:0}}function sd(o){o.refCount--,o.refCount===0&&C8(N8,function(){o.controller.abort()})}var ad=null,E0=0,Ec=0,Ac=null;function T8(o,c){if(ad===null){var h=ad=[];E0=0,Ec=kv(),Ac={status:"pending",value:void 0,then:function(g){h.push(g)}}}return E0++,c.then(yC,yC),c}function yC(){if(--E0===0&&ad!==null){Ac!==null&&(Ac.status="fulfilled");var o=ad;ad=null,Ec=0,Ac=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function j8(o,c){var h=[],g={status:"pending",value:null,reason:null,then:function(x){h.push(x)}};return o.then(function(){g.status="fulfilled",g.value=c;for(var x=0;x<h.length;x++)(0,h[x])(c)},function(x){for(g.status="rejected",g.reason=x,x=0;x<h.length;x++)(0,h[x])(void 0)}),g}var vC=K.S;K.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&T8(o,c),vC!==null&&vC(o,c)};var ml=ae(null);function A0(){var o=ml.current;return o!==null?o:Pn.pooledCache}function Xh(o,c){c===null?xe(ml,ml.current):xe(ml,c.pool)}function xC(){var o=A0();return o===null?null:{parent:Cr._currentValue,pool:o}}var od=Error(r(460)),bC=Error(r(474)),Qh=Error(r(542)),k0={then:function(){}};function wC(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Jh(){}function SC(o,c,h){switch(h=o[h],h===void 0?o.push(c):h!==c&&(c.then(Jh,Jh),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,NC(o),o;default:if(typeof c.status=="string")c.then(Jh,Jh);else{if(o=Pn,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(g){if(c.status==="pending"){var x=c;x.status="fulfilled",x.value=g}},function(g){if(c.status==="pending"){var x=c;x.status="rejected",x.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,NC(o),o}throw ld=c,od}}var ld=null;function CC(){if(ld===null)throw Error(r(459));var o=ld;return ld=null,o}function NC(o){if(o===od||o===Qh)throw Error(r(483))}var Ga=!1;function O0(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function M0(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Xa(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Qa(o,c,h){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(jn&2)!==0){var x=g.pending;return x===null?c.next=c:(c.next=x.next,x.next=c),g.pending=c,c=Hh(o),uC(o,null,h),c}return Uh(o,g,c,h),Hh(o)}function cd(o,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var g=c.lanes;g&=o.pendingLanes,h|=g,c.lanes=h,Tt(o,h)}}function D0(o,c){var h=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var x=null,w=null;if(h=h.firstBaseUpdate,h!==null){do{var M={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};w===null?x=w=M:w=w.next=M,h=h.next}while(h!==null);w===null?x=w=c:w=w.next=c}else x=w=c;h={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:w,shared:g.shared,callbacks:g.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=c}var R0=!1;function ud(){if(R0){var o=Ac;if(o!==null)throw o}}function dd(o,c,h,g){R0=!1;var x=o.updateQueue;Ga=!1;var w=x.firstBaseUpdate,M=x.lastBaseUpdate,z=x.shared.pending;if(z!==null){x.shared.pending=null;var X=z,Ne=X.next;X.next=null,M===null?w=Ne:M.next=Ne,M=X;var Ie=o.alternate;Ie!==null&&(Ie=Ie.updateQueue,z=Ie.lastBaseUpdate,z!==M&&(z===null?Ie.firstBaseUpdate=Ne:z.next=Ne,Ie.lastBaseUpdate=X))}if(w!==null){var Ve=x.baseState;M=0,Ie=Ne=X=null,z=w;do{var je=z.lane&-536870913,Ae=je!==z.lane;if(Ae?(gn&je)===je:(g&je)===je){je!==0&&je===Ec&&(R0=!0),Ie!==null&&(Ie=Ie.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var Yt=o,$t=z;je=c;var Mn=h;switch($t.tag){case 1:if(Yt=$t.payload,typeof Yt=="function"){Ve=Yt.call(Mn,Ve,je);break e}Ve=Yt;break e;case 3:Yt.flags=Yt.flags&-65537|128;case 0:if(Yt=$t.payload,je=typeof Yt=="function"?Yt.call(Mn,Ve,je):Yt,je==null)break e;Ve=p({},Ve,je);break e;case 2:Ga=!0}}je=z.callback,je!==null&&(o.flags|=64,Ae&&(o.flags|=8192),Ae=x.callbacks,Ae===null?x.callbacks=[je]:Ae.push(je))}else Ae={lane:je,tag:z.tag,payload:z.payload,callback:z.callback,next:null},Ie===null?(Ne=Ie=Ae,X=Ve):Ie=Ie.next=Ae,M|=je;if(z=z.next,z===null){if(z=x.shared.pending,z===null)break;Ae=z,z=Ae.next,Ae.next=null,x.lastBaseUpdate=Ae,x.shared.pending=null}}while(!0);Ie===null&&(X=Ve),x.baseState=X,x.firstBaseUpdate=Ne,x.lastBaseUpdate=Ie,w===null&&(x.shared.lanes=0),so|=M,o.lanes=M,o.memoizedState=Ve}}function TC(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function jC(o,c){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)TC(h[o],c)}var kc=ae(null),Zh=ae(0);function EC(o,c){o=Sa,xe(Zh,o),xe(kc,c),Sa=o|c.baseLanes}function _0(){xe(Zh,Sa),xe(kc,kc.current)}function L0(){Sa=Zh.current,pe(kc),pe(Zh)}var Ja=0,cn=null,kn=null,mr=null,ep=!1,Oc=!1,gl=!1,tp=0,fd=0,Mc=null,E8=0;function cr(){throw Error(r(321))}function P0(o,c){if(c===null)return!1;for(var h=0;h<c.length&&h<o.length;h++)if(!Mi(o[h],c[h]))return!1;return!0}function z0(o,c,h,g,x,w){return Ja=w,cn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,K.H=o===null||o.memoizedState===null?uN:dN,gl=!1,w=h(g,x),gl=!1,Oc&&(w=kC(c,h,g,x)),AC(o),w}function AC(o){K.H=op;var c=kn!==null&&kn.next!==null;if(Ja=0,mr=kn=cn=null,ep=!1,fd=0,Mc=null,c)throw Error(r(300));o===null||Er||(o=o.dependencies,o!==null&&Wh(o)&&(Er=!0))}function kC(o,c,h,g){cn=o;var x=0;do{if(Oc&&(Mc=null),fd=0,Oc=!1,25<=x)throw Error(r(301));if(x+=1,mr=kn=null,o.updateQueue!=null){var w=o.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}K.H=_8,w=c(h,g)}while(Oc);return w}function A8(){var o=K.H,c=o.useState()[0];return c=typeof c.then=="function"?hd(c):c,o=o.useState()[0],(kn!==null?kn.memoizedState:null)!==o&&(cn.flags|=1024),c}function I0(){var o=tp!==0;return tp=0,o}function B0(o,c,h){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~h}function F0(o){if(ep){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}ep=!1}Ja=0,mr=kn=cn=null,Oc=!1,fd=tp=0,Mc=null}function mi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mr===null?cn.memoizedState=mr=o:mr=mr.next=o,mr}function gr(){if(kn===null){var o=cn.alternate;o=o!==null?o.memoizedState:null}else o=kn.next;var c=mr===null?cn.memoizedState:mr.next;if(c!==null)mr=c,kn=o;else{if(o===null)throw cn.alternate===null?Error(r(467)):Error(r(310));kn=o,o={memoizedState:kn.memoizedState,baseState:kn.baseState,baseQueue:kn.baseQueue,queue:kn.queue,next:null},mr===null?cn.memoizedState=mr=o:mr=mr.next=o}return mr}function $0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hd(o){var c=fd;return fd+=1,Mc===null&&(Mc=[]),o=SC(Mc,o,c),c=cn,(mr===null?c.memoizedState:mr.next)===null&&(c=c.alternate,K.H=c===null||c.memoizedState===null?uN:dN),o}function np(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return hd(o);if(o.$$typeof===D)return Yr(o)}throw Error(r(438,String(o)))}function V0(o){var c=null,h=cn.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var g=cn.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(x){return x.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=$0(),cn.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(o),g=0;g<o;g++)h[g]=ge;return c.index++,h}function ga(o,c){return typeof c=="function"?c(o):c}function rp(o){var c=gr();return U0(c,kn,o)}function U0(o,c,h){var g=o.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=h;var x=o.baseQueue,w=g.pending;if(w!==null){if(x!==null){var M=x.next;x.next=w.next,w.next=M}c.baseQueue=x=w,g.pending=null}if(w=o.baseState,x===null)o.memoizedState=w;else{c=x.next;var z=M=null,X=null,Ne=c,Ie=!1;do{var Ve=Ne.lane&-536870913;if(Ve!==Ne.lane?(gn&Ve)===Ve:(Ja&Ve)===Ve){var je=Ne.revertLane;if(je===0)X!==null&&(X=X.next={lane:0,revertLane:0,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),Ve===Ec&&(Ie=!0);else if((Ja&je)===je){Ne=Ne.next,je===Ec&&(Ie=!0);continue}else Ve={lane:0,revertLane:Ne.revertLane,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null},X===null?(z=X=Ve,M=w):X=X.next=Ve,cn.lanes|=je,so|=je;Ve=Ne.action,gl&&h(w,Ve),w=Ne.hasEagerState?Ne.eagerState:h(w,Ve)}else je={lane:Ve,revertLane:Ne.revertLane,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null},X===null?(z=X=je,M=w):X=X.next=je,cn.lanes|=Ve,so|=Ve;Ne=Ne.next}while(Ne!==null&&Ne!==c);if(X===null?M=w:X.next=z,!Mi(w,o.memoizedState)&&(Er=!0,Ie&&(h=Ac,h!==null)))throw h;o.memoizedState=w,o.baseState=M,o.baseQueue=X,g.lastRenderedState=w}return x===null&&(g.lanes=0),[o.memoizedState,g.dispatch]}function H0(o){var c=gr(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var g=h.dispatch,x=h.pending,w=c.memoizedState;if(x!==null){h.pending=null;var M=x=x.next;do w=o(w,M.action),M=M.next;while(M!==x);Mi(w,c.memoizedState)||(Er=!0),c.memoizedState=w,c.baseQueue===null&&(c.baseState=w),h.lastRenderedState=w}return[w,g]}function OC(o,c,h){var g=cn,x=gr(),w=Cn;if(w){if(h===void 0)throw Error(r(407));h=h()}else h=c();var M=!Mi((kn||x).memoizedState,h);M&&(x.memoizedState=h,Er=!0),x=x.queue;var z=RC.bind(null,g,x,o);if(pd(2048,8,z,[o]),x.getSnapshot!==c||M||mr!==null&&mr.memoizedState.tag&1){if(g.flags|=2048,Dc(9,ip(),DC.bind(null,g,x,h,c),null),Pn===null)throw Error(r(349));w||(Ja&124)!==0||MC(g,c,h)}return h}function MC(o,c,h){o.flags|=16384,o={getSnapshot:c,value:h},c=cn.updateQueue,c===null?(c=$0(),cn.updateQueue=c,c.stores=[o]):(h=c.stores,h===null?c.stores=[o]:h.push(o))}function DC(o,c,h,g){c.value=h,c.getSnapshot=g,_C(c)&&LC(o)}function RC(o,c,h){return h(function(){_C(c)&&LC(o)})}function _C(o){var c=o.getSnapshot;o=o.value;try{var h=c();return!Mi(o,h)}catch{return!0}}function LC(o){var c=Cc(o,2);c!==null&&zi(c,o,2)}function q0(o){var c=mi();if(typeof o=="function"){var h=o;if(o=h(),gl){We(!0);try{h()}finally{We(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:o},c}function PC(o,c,h,g){return o.baseState=h,U0(o,kn,typeof g=="function"?g:ga)}function k8(o,c,h,g,x){if(ap(o))throw Error(r(485));if(o=c.action,o!==null){var w={payload:x,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){w.listeners.push(M)}};K.T!==null?h(!0):w.isTransition=!1,g(w),h=c.pending,h===null?(w.next=c.pending=w,zC(c,w)):(w.next=h.next,c.pending=h.next=w)}}function zC(o,c){var h=c.action,g=c.payload,x=o.state;if(c.isTransition){var w=K.T,M={};K.T=M;try{var z=h(x,g),X=K.S;X!==null&&X(M,z),IC(o,c,z)}catch(Ne){K0(o,c,Ne)}finally{K.T=w}}else try{w=h(x,g),IC(o,c,w)}catch(Ne){K0(o,c,Ne)}}function IC(o,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){BC(o,c,g)},function(g){return K0(o,c,g)}):BC(o,c,h)}function BC(o,c,h){c.status="fulfilled",c.value=h,FC(c),o.state=h,c=o.pending,c!==null&&(h=c.next,h===c?o.pending=null:(h=h.next,c.next=h,zC(o,h)))}function K0(o,c,h){var g=o.pending;if(o.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=h,FC(c),c=c.next;while(c!==g)}o.action=null}function FC(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function $C(o,c){return c}function VC(o,c){if(Cn){var h=Pn.formState;if(h!==null){e:{var g=cn;if(Cn){if(tr){t:{for(var x=tr,w=Ps;x.nodeType!==8;){if(!w){x=null;break t}if(x=xs(x.nextSibling),x===null){x=null;break t}}w=x.data,x=w==="F!"||w==="F"?x:null}if(x){tr=xs(x.nextSibling),g=x.data==="F!";break e}}fl(g)}g=!1}g&&(c=h[0])}}return h=mi(),h.memoizedState=h.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$C,lastRenderedState:c},h.queue=g,h=oN.bind(null,cn,g),g.dispatch=h,g=q0(!1),w=Q0.bind(null,cn,!1,g.queue),g=mi(),x={state:c,dispatch:null,action:o,pending:null},g.queue=x,h=k8.bind(null,cn,x,w,h),x.dispatch=h,g.memoizedState=o,[c,h,!1]}function UC(o){var c=gr();return HC(c,kn,o)}function HC(o,c,h){if(c=U0(o,c,$C)[0],o=rp(ga)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=hd(c)}catch(M){throw M===od?Qh:M}else g=c;c=gr();var x=c.queue,w=x.dispatch;return h!==c.memoizedState&&(cn.flags|=2048,Dc(9,ip(),O8.bind(null,x,h),null)),[g,w,o]}function O8(o,c){o.action=c}function qC(o){var c=gr(),h=kn;if(h!==null)return HC(c,h,o);gr(),c=c.memoizedState,h=gr();var g=h.queue.dispatch;return h.memoizedState=o,[c,g,!1]}function Dc(o,c,h,g){return o={tag:o,create:h,deps:g,inst:c,next:null},c=cn.updateQueue,c===null&&(c=$0(),cn.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=o.next=o:(g=h.next,h.next=o,o.next=g,c.lastEffect=o),o}function ip(){return{destroy:void 0,resource:void 0}}function KC(){return gr().memoizedState}function sp(o,c,h,g){var x=mi();g=g===void 0?null:g,cn.flags|=o,x.memoizedState=Dc(1|c,ip(),h,g)}function pd(o,c,h,g){var x=gr();g=g===void 0?null:g;var w=x.memoizedState.inst;kn!==null&&g!==null&&P0(g,kn.memoizedState.deps)?x.memoizedState=Dc(c,w,h,g):(cn.flags|=o,x.memoizedState=Dc(1|c,w,h,g))}function YC(o,c){sp(8390656,8,o,c)}function WC(o,c){pd(2048,8,o,c)}function GC(o,c){return pd(4,2,o,c)}function XC(o,c){return pd(4,4,o,c)}function QC(o,c){if(typeof c=="function"){o=o();var h=c(o);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function JC(o,c,h){h=h!=null?h.concat([o]):null,pd(4,4,QC.bind(null,c,o),h)}function Y0(){}function ZC(o,c){var h=gr();c=c===void 0?null:c;var g=h.memoizedState;return c!==null&&P0(c,g[1])?g[0]:(h.memoizedState=[o,c],o)}function eN(o,c){var h=gr();c=c===void 0?null:c;var g=h.memoizedState;if(c!==null&&P0(c,g[1]))return g[0];if(g=o(),gl){We(!0);try{o()}finally{We(!1)}}return h.memoizedState=[g,c],g}function W0(o,c,h){return h===void 0||(Ja&1073741824)!==0?o.memoizedState=c:(o.memoizedState=h,o=rT(),cn.lanes|=o,so|=o,h)}function tN(o,c,h,g){return Mi(h,c)?h:kc.current!==null?(o=W0(o,h,g),Mi(o,c)||(Er=!0),o):(Ja&42)===0?(Er=!0,o.memoizedState=h):(o=rT(),cn.lanes|=o,so|=o,c)}function nN(o,c,h,g,x){var w=re.p;re.p=w!==0&&8>w?w:8;var M=K.T,z={};K.T=z,Q0(o,!1,c,h);try{var X=x(),Ne=K.S;if(Ne!==null&&Ne(z,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var Ie=j8(X,g);md(o,c,Ie,Pi(o))}else md(o,c,g,Pi(o))}catch(Ve){md(o,c,{then:function(){},status:"rejected",reason:Ve},Pi())}finally{re.p=w,K.T=M}}function M8(){}function G0(o,c,h,g){if(o.tag!==5)throw Error(r(476));var x=rN(o).queue;nN(o,x,c,ue,h===null?M8:function(){return iN(o),h(g)})}function rN(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:ue},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:h},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function iN(o){var c=rN(o).next.queue;md(o,c,{},Pi())}function X0(){return Yr(Rd)}function sN(){return gr().memoizedState}function aN(){return gr().memoizedState}function D8(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var h=Pi();o=Xa(h);var g=Qa(c,o,h);g!==null&&(zi(g,c,h),cd(g,c,h)),c={cache:j0()},o.payload=c;return}c=c.return}}function R8(o,c,h){var g=Pi();h={lane:g,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},ap(o)?lN(c,h):(h=g0(o,c,h,g),h!==null&&(zi(h,o,g),cN(h,c,g)))}function oN(o,c,h){var g=Pi();md(o,c,h,g)}function md(o,c,h,g){var x={lane:g,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(ap(o))lN(c,x);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=c.lastRenderedReducer,w!==null))try{var M=c.lastRenderedState,z=w(M,h);if(x.hasEagerState=!0,x.eagerState=z,Mi(z,M))return Uh(o,c,x,0),Pn===null&&Vh(),!1}catch{}finally{}if(h=g0(o,c,x,g),h!==null)return zi(h,o,g),cN(h,c,g),!0}return!1}function Q0(o,c,h,g){if(g={lane:2,revertLane:kv(),action:g,hasEagerState:!1,eagerState:null,next:null},ap(o)){if(c)throw Error(r(479))}else c=g0(o,h,g,2),c!==null&&zi(c,o,2)}function ap(o){var c=o.alternate;return o===cn||c!==null&&c===cn}function lN(o,c){Oc=ep=!0;var h=o.pending;h===null?c.next=c:(c.next=h.next,h.next=c),o.pending=c}function cN(o,c,h){if((h&4194048)!==0){var g=c.lanes;g&=o.pendingLanes,h|=g,c.lanes=h,Tt(o,h)}}var op={readContext:Yr,use:np,useCallback:cr,useContext:cr,useEffect:cr,useImperativeHandle:cr,useLayoutEffect:cr,useInsertionEffect:cr,useMemo:cr,useReducer:cr,useRef:cr,useState:cr,useDebugValue:cr,useDeferredValue:cr,useTransition:cr,useSyncExternalStore:cr,useId:cr,useHostTransitionStatus:cr,useFormState:cr,useActionState:cr,useOptimistic:cr,useMemoCache:cr,useCacheRefresh:cr},uN={readContext:Yr,use:np,useCallback:function(o,c){return mi().memoizedState=[o,c===void 0?null:c],o},useContext:Yr,useEffect:YC,useImperativeHandle:function(o,c,h){h=h!=null?h.concat([o]):null,sp(4194308,4,QC.bind(null,c,o),h)},useLayoutEffect:function(o,c){return sp(4194308,4,o,c)},useInsertionEffect:function(o,c){sp(4,2,o,c)},useMemo:function(o,c){var h=mi();c=c===void 0?null:c;var g=o();if(gl){We(!0);try{o()}finally{We(!1)}}return h.memoizedState=[g,c],g},useReducer:function(o,c,h){var g=mi();if(h!==void 0){var x=h(c);if(gl){We(!0);try{h(c)}finally{We(!1)}}}else x=c;return g.memoizedState=g.baseState=x,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:x},g.queue=o,o=o.dispatch=R8.bind(null,cn,o),[g.memoizedState,o]},useRef:function(o){var c=mi();return o={current:o},c.memoizedState=o},useState:function(o){o=q0(o);var c=o.queue,h=oN.bind(null,cn,c);return c.dispatch=h,[o.memoizedState,h]},useDebugValue:Y0,useDeferredValue:function(o,c){var h=mi();return W0(h,o,c)},useTransition:function(){var o=q0(!1);return o=nN.bind(null,cn,o.queue,!0,!1),mi().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,h){var g=cn,x=mi();if(Cn){if(h===void 0)throw Error(r(407));h=h()}else{if(h=c(),Pn===null)throw Error(r(349));(gn&124)!==0||MC(g,c,h)}x.memoizedState=h;var w={value:h,getSnapshot:c};return x.queue=w,YC(RC.bind(null,g,w,o),[o]),g.flags|=2048,Dc(9,ip(),DC.bind(null,g,w,h,c),null),h},useId:function(){var o=mi(),c=Pn.identifierPrefix;if(Cn){var h=ha,g=fa;h=(g&~(1<<32-ht(g)-1)).toString(32)+h,c=""+c+"R"+h,h=tp++,0<h&&(c+="H"+h.toString(32)),c+=""}else h=E8++,c=""+c+"r"+h.toString(32)+"";return o.memoizedState=c},useHostTransitionStatus:X0,useFormState:VC,useActionState:VC,useOptimistic:function(o){var c=mi();c.memoizedState=c.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=Q0.bind(null,cn,!0,h),h.dispatch=c,[o,c]},useMemoCache:V0,useCacheRefresh:function(){return mi().memoizedState=D8.bind(null,cn)}},dN={readContext:Yr,use:np,useCallback:ZC,useContext:Yr,useEffect:WC,useImperativeHandle:JC,useInsertionEffect:GC,useLayoutEffect:XC,useMemo:eN,useReducer:rp,useRef:KC,useState:function(){return rp(ga)},useDebugValue:Y0,useDeferredValue:function(o,c){var h=gr();return tN(h,kn.memoizedState,o,c)},useTransition:function(){var o=rp(ga)[0],c=gr().memoizedState;return[typeof o=="boolean"?o:hd(o),c]},useSyncExternalStore:OC,useId:sN,useHostTransitionStatus:X0,useFormState:UC,useActionState:UC,useOptimistic:function(o,c){var h=gr();return PC(h,kn,o,c)},useMemoCache:V0,useCacheRefresh:aN},_8={readContext:Yr,use:np,useCallback:ZC,useContext:Yr,useEffect:WC,useImperativeHandle:JC,useInsertionEffect:GC,useLayoutEffect:XC,useMemo:eN,useReducer:H0,useRef:KC,useState:function(){return H0(ga)},useDebugValue:Y0,useDeferredValue:function(o,c){var h=gr();return kn===null?W0(h,o,c):tN(h,kn.memoizedState,o,c)},useTransition:function(){var o=H0(ga)[0],c=gr().memoizedState;return[typeof o=="boolean"?o:hd(o),c]},useSyncExternalStore:OC,useId:sN,useHostTransitionStatus:X0,useFormState:qC,useActionState:qC,useOptimistic:function(o,c){var h=gr();return kn!==null?PC(h,kn,o,c):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:V0,useCacheRefresh:aN},Rc=null,gd=0;function lp(o){var c=gd;return gd+=1,Rc===null&&(Rc=[]),SC(Rc,o,c)}function yd(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function cp(o,c){throw c.$$typeof===m?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function fN(o){var c=o._init;return c(o._payload)}function hN(o){function c(ve,se){if(o){var we=ve.deletions;we===null?(ve.deletions=[se],ve.flags|=16):we.push(se)}}function h(ve,se){if(!o)return null;for(;se!==null;)c(ve,se),se=se.sibling;return null}function g(ve){for(var se=new Map;ve!==null;)ve.key!==null?se.set(ve.key,ve):se.set(ve.index,ve),ve=ve.sibling;return se}function x(ve,se){return ve=da(ve,se),ve.index=0,ve.sibling=null,ve}function w(ve,se,we){return ve.index=we,o?(we=ve.alternate,we!==null?(we=we.index,we<se?(ve.flags|=67108866,se):we):(ve.flags|=67108866,se)):(ve.flags|=1048576,se)}function M(ve){return o&&ve.alternate===null&&(ve.flags|=67108866),ve}function z(ve,se,we,Fe){return se===null||se.tag!==6?(se=v0(we,ve.mode,Fe),se.return=ve,se):(se=x(se,we),se.return=ve,se)}function X(ve,se,we,Fe){var At=we.type;return At===b?Ie(ve,se,we.props.children,Fe,we.key):se!==null&&(se.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===F&&fN(At)===se.type)?(se=x(se,we.props),yd(se,we),se.return=ve,se):(se=qh(we.type,we.key,we.props,null,ve.mode,Fe),yd(se,we),se.return=ve,se)}function Ne(ve,se,we,Fe){return se===null||se.tag!==4||se.stateNode.containerInfo!==we.containerInfo||se.stateNode.implementation!==we.implementation?(se=x0(we,ve.mode,Fe),se.return=ve,se):(se=x(se,we.children||[]),se.return=ve,se)}function Ie(ve,se,we,Fe,At){return se===null||se.tag!==7?(se=ll(we,ve.mode,Fe,At),se.return=ve,se):(se=x(se,we),se.return=ve,se)}function Ve(ve,se,we){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return se=v0(""+se,ve.mode,we),se.return=ve,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case y:return we=qh(se.type,se.key,se.props,null,ve.mode,we),yd(we,se),we.return=ve,we;case v:return se=x0(se,ve.mode,we),se.return=ve,se;case F:var Fe=se._init;return se=Fe(se._payload),Ve(ve,se,we)}if(Oe(se)||ne(se))return se=ll(se,ve.mode,we,null),se.return=ve,se;if(typeof se.then=="function")return Ve(ve,lp(se),we);if(se.$$typeof===D)return Ve(ve,Gh(ve,se),we);cp(ve,se)}return null}function je(ve,se,we,Fe){var At=se!==null?se.key:null;if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return At!==null?null:z(ve,se,""+we,Fe);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case y:return we.key===At?X(ve,se,we,Fe):null;case v:return we.key===At?Ne(ve,se,we,Fe):null;case F:return At=we._init,we=At(we._payload),je(ve,se,we,Fe)}if(Oe(we)||ne(we))return At!==null?null:Ie(ve,se,we,Fe,null);if(typeof we.then=="function")return je(ve,se,lp(we),Fe);if(we.$$typeof===D)return je(ve,se,Gh(ve,we),Fe);cp(ve,we)}return null}function Ae(ve,se,we,Fe,At){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return ve=ve.get(we)||null,z(se,ve,""+Fe,At);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case y:return ve=ve.get(Fe.key===null?we:Fe.key)||null,X(se,ve,Fe,At);case v:return ve=ve.get(Fe.key===null?we:Fe.key)||null,Ne(se,ve,Fe,At);case F:var dn=Fe._init;return Fe=dn(Fe._payload),Ae(ve,se,we,Fe,At)}if(Oe(Fe)||ne(Fe))return ve=ve.get(we)||null,Ie(se,ve,Fe,At,null);if(typeof Fe.then=="function")return Ae(ve,se,we,lp(Fe),At);if(Fe.$$typeof===D)return Ae(ve,se,we,Gh(se,Fe),At);cp(se,Fe)}return null}function Yt(ve,se,we,Fe){for(var At=null,dn=null,Pt=se,Vt=se=0,kr=null;Pt!==null&&Vt<we.length;Vt++){Pt.index>Vt?(kr=Pt,Pt=null):kr=Pt.sibling;var bn=je(ve,Pt,we[Vt],Fe);if(bn===null){Pt===null&&(Pt=kr);break}o&&Pt&&bn.alternate===null&&c(ve,Pt),se=w(bn,se,Vt),dn===null?At=bn:dn.sibling=bn,dn=bn,Pt=kr}if(Vt===we.length)return h(ve,Pt),Cn&&ul(ve,Vt),At;if(Pt===null){for(;Vt<we.length;Vt++)Pt=Ve(ve,we[Vt],Fe),Pt!==null&&(se=w(Pt,se,Vt),dn===null?At=Pt:dn.sibling=Pt,dn=Pt);return Cn&&ul(ve,Vt),At}for(Pt=g(Pt);Vt<we.length;Vt++)kr=Ae(Pt,ve,Vt,we[Vt],Fe),kr!==null&&(o&&kr.alternate!==null&&Pt.delete(kr.key===null?Vt:kr.key),se=w(kr,se,Vt),dn===null?At=kr:dn.sibling=kr,dn=kr);return o&&Pt.forEach(function(mo){return c(ve,mo)}),Cn&&ul(ve,Vt),At}function $t(ve,se,we,Fe){if(we==null)throw Error(r(151));for(var At=null,dn=null,Pt=se,Vt=se=0,kr=null,bn=we.next();Pt!==null&&!bn.done;Vt++,bn=we.next()){Pt.index>Vt?(kr=Pt,Pt=null):kr=Pt.sibling;var mo=je(ve,Pt,bn.value,Fe);if(mo===null){Pt===null&&(Pt=kr);break}o&&Pt&&mo.alternate===null&&c(ve,Pt),se=w(mo,se,Vt),dn===null?At=mo:dn.sibling=mo,dn=mo,Pt=kr}if(bn.done)return h(ve,Pt),Cn&&ul(ve,Vt),At;if(Pt===null){for(;!bn.done;Vt++,bn=we.next())bn=Ve(ve,bn.value,Fe),bn!==null&&(se=w(bn,se,Vt),dn===null?At=bn:dn.sibling=bn,dn=bn);return Cn&&ul(ve,Vt),At}for(Pt=g(Pt);!bn.done;Vt++,bn=we.next())bn=Ae(Pt,ve,Vt,bn.value,Fe),bn!==null&&(o&&bn.alternate!==null&&Pt.delete(bn.key===null?Vt:bn.key),se=w(bn,se,Vt),dn===null?At=bn:dn.sibling=bn,dn=bn);return o&&Pt.forEach(function(LL){return c(ve,LL)}),Cn&&ul(ve,Vt),At}function Mn(ve,se,we,Fe){if(typeof we=="object"&&we!==null&&we.type===b&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case y:e:{for(var At=we.key;se!==null;){if(se.key===At){if(At=we.type,At===b){if(se.tag===7){h(ve,se.sibling),Fe=x(se,we.props.children),Fe.return=ve,ve=Fe;break e}}else if(se.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===F&&fN(At)===se.type){h(ve,se.sibling),Fe=x(se,we.props),yd(Fe,we),Fe.return=ve,ve=Fe;break e}h(ve,se);break}else c(ve,se);se=se.sibling}we.type===b?(Fe=ll(we.props.children,ve.mode,Fe,we.key),Fe.return=ve,ve=Fe):(Fe=qh(we.type,we.key,we.props,null,ve.mode,Fe),yd(Fe,we),Fe.return=ve,ve=Fe)}return M(ve);case v:e:{for(At=we.key;se!==null;){if(se.key===At)if(se.tag===4&&se.stateNode.containerInfo===we.containerInfo&&se.stateNode.implementation===we.implementation){h(ve,se.sibling),Fe=x(se,we.children||[]),Fe.return=ve,ve=Fe;break e}else{h(ve,se);break}else c(ve,se);se=se.sibling}Fe=x0(we,ve.mode,Fe),Fe.return=ve,ve=Fe}return M(ve);case F:return At=we._init,we=At(we._payload),Mn(ve,se,we,Fe)}if(Oe(we))return Yt(ve,se,we,Fe);if(ne(we)){if(At=ne(we),typeof At!="function")throw Error(r(150));return we=At.call(we),$t(ve,se,we,Fe)}if(typeof we.then=="function")return Mn(ve,se,lp(we),Fe);if(we.$$typeof===D)return Mn(ve,se,Gh(ve,we),Fe);cp(ve,we)}return typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint"?(we=""+we,se!==null&&se.tag===6?(h(ve,se.sibling),Fe=x(se,we),Fe.return=ve,ve=Fe):(h(ve,se),Fe=v0(we,ve.mode,Fe),Fe.return=ve,ve=Fe),M(ve)):h(ve,se)}return function(ve,se,we,Fe){try{gd=0;var At=Mn(ve,se,we,Fe);return Rc=null,At}catch(Pt){if(Pt===od||Pt===Qh)throw Pt;var dn=Di(29,Pt,null,ve.mode);return dn.lanes=Fe,dn.return=ve,dn}finally{}}}var _c=hN(!0),pN=hN(!1),Ji=ae(null),zs=null;function Za(o){var c=o.alternate;xe(Nr,Nr.current&1),xe(Ji,o),zs===null&&(c===null||kc.current!==null||c.memoizedState!==null)&&(zs=o)}function mN(o){if(o.tag===22){if(xe(Nr,Nr.current),xe(Ji,o),zs===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(zs=o)}}else eo()}function eo(){xe(Nr,Nr.current),xe(Ji,Ji.current)}function ya(o){pe(Ji),zs===o&&(zs=null),pe(Nr)}var Nr=ae(0);function up(o){for(var c=o;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||$v(h)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function J0(o,c,h,g){c=o.memoizedState,h=h(g,c),h=h==null?c:p({},c,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var Z0={enqueueSetState:function(o,c,h){o=o._reactInternals;var g=Pi(),x=Xa(g);x.payload=c,h!=null&&(x.callback=h),c=Qa(o,x,g),c!==null&&(zi(c,o,g),cd(c,o,g))},enqueueReplaceState:function(o,c,h){o=o._reactInternals;var g=Pi(),x=Xa(g);x.tag=1,x.payload=c,h!=null&&(x.callback=h),c=Qa(o,x,g),c!==null&&(zi(c,o,g),cd(c,o,g))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var h=Pi(),g=Xa(h);g.tag=2,c!=null&&(g.callback=c),c=Qa(o,g,h),c!==null&&(zi(c,o,h),cd(c,o,h))}};function gN(o,c,h,g,x,w,M){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,w,M):c.prototype&&c.prototype.isPureReactComponent?!Zu(h,g)||!Zu(x,w):!0}function yN(o,c,h,g){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,g),c.state!==o&&Z0.enqueueReplaceState(c,c.state,null)}function yl(o,c){var h=c;if("ref"in c){h={};for(var g in c)g!=="ref"&&(h[g]=c[g])}if(o=o.defaultProps){h===c&&(h=p({},h));for(var x in o)h[x]===void 0&&(h[x]=o[x])}return h}var dp=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function vN(o){dp(o)}function xN(o){console.error(o)}function bN(o){dp(o)}function fp(o,c){try{var h=o.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function wN(o,c,h){try{var g=o.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function ev(o,c,h){return h=Xa(h),h.tag=3,h.payload={element:null},h.callback=function(){fp(o,c)},h}function SN(o){return o=Xa(o),o.tag=3,o}function CN(o,c,h,g){var x=h.type.getDerivedStateFromError;if(typeof x=="function"){var w=g.value;o.payload=function(){return x(w)},o.callback=function(){wN(c,h,g)}}var M=h.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(o.callback=function(){wN(c,h,g),typeof x!="function"&&(ao===null?ao=new Set([this]):ao.add(this));var z=g.stack;this.componentDidCatch(g.value,{componentStack:z!==null?z:""})})}function L8(o,c,h,g,x){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=h.alternate,c!==null&&id(c,h,x,!0),h=Ji.current,h!==null){switch(h.tag){case 13:return zs===null?Nv():h.alternate===null&&nr===0&&(nr=3),h.flags&=-257,h.flags|=65536,h.lanes=x,g===k0?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([g]):c.add(g),jv(o,g,x)),!1;case 22:return h.flags|=65536,g===k0?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([g]):h.add(g)),jv(o,g,x)),!1}throw Error(r(435,h.tag))}return jv(o,g,x),Nv(),!1}if(Cn)return c=Ji.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=x,g!==S0&&(o=Error(r(422),{cause:g}),rd(Wi(o,h)))):(g!==S0&&(c=Error(r(423),{cause:g}),rd(Wi(c,h))),o=o.current.alternate,o.flags|=65536,x&=-x,o.lanes|=x,g=Wi(g,h),x=ev(o.stateNode,g,x),D0(o,x),nr!==4&&(nr=2)),!1;var w=Error(r(520),{cause:g});if(w=Wi(w,h),Nd===null?Nd=[w]:Nd.push(w),nr!==4&&(nr=2),c===null)return!0;g=Wi(g,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,o=x&-x,h.lanes|=o,o=ev(h.stateNode,g,o),D0(h,o),!1;case 1:if(c=h.type,w=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ao===null||!ao.has(w))))return h.flags|=65536,x&=-x,h.lanes|=x,x=SN(x),CN(x,o,h,g),D0(h,x),!1}h=h.return}while(h!==null);return!1}var NN=Error(r(461)),Er=!1;function Ir(o,c,h,g){c.child=o===null?pN(c,null,h,g):_c(c,o.child,h,g)}function TN(o,c,h,g,x){h=h.render;var w=c.ref;if("ref"in g){var M={};for(var z in g)z!=="ref"&&(M[z]=g[z])}else M=g;return pl(c),g=z0(o,c,h,M,w,x),z=I0(),o!==null&&!Er?(B0(o,c,x),va(o,c,x)):(Cn&&z&&b0(c),c.flags|=1,Ir(o,c,g,x),c.child)}function jN(o,c,h,g,x){if(o===null){var w=h.type;return typeof w=="function"&&!y0(w)&&w.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=w,EN(o,c,w,g,x)):(o=qh(h.type,null,g,c,c.mode,x),o.ref=c.ref,o.return=c,c.child=o)}if(w=o.child,!lv(o,x)){var M=w.memoizedProps;if(h=h.compare,h=h!==null?h:Zu,h(M,g)&&o.ref===c.ref)return va(o,c,x)}return c.flags|=1,o=da(w,g),o.ref=c.ref,o.return=c,c.child=o}function EN(o,c,h,g,x){if(o!==null){var w=o.memoizedProps;if(Zu(w,g)&&o.ref===c.ref)if(Er=!1,c.pendingProps=g=w,lv(o,x))(o.flags&131072)!==0&&(Er=!0);else return c.lanes=o.lanes,va(o,c,x)}return tv(o,c,h,g,x)}function AN(o,c,h){var g=c.pendingProps,x=g.children,w=o!==null?o.memoizedState:null;if(g.mode==="hidden"){if((c.flags&128)!==0){if(g=w!==null?w.baseLanes|h:h,o!==null){for(x=c.child=o.child,w=0;x!==null;)w=w|x.lanes|x.childLanes,x=x.sibling;c.childLanes=w&~g}else c.childLanes=0,c.child=null;return kN(o,c,g,h)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Xh(c,w!==null?w.cachePool:null),w!==null?EC(c,w):_0(),mN(c);else return c.lanes=c.childLanes=536870912,kN(o,c,w!==null?w.baseLanes|h:h,h)}else w!==null?(Xh(c,w.cachePool),EC(c,w),eo(),c.memoizedState=null):(o!==null&&Xh(c,null),_0(),eo());return Ir(o,c,x,h),c.child}function kN(o,c,h,g){var x=A0();return x=x===null?null:{parent:Cr._currentValue,pool:x},c.memoizedState={baseLanes:h,cachePool:x},o!==null&&Xh(c,null),_0(),mN(c),o!==null&&id(o,c,g,!0),null}function hp(o,c){var h=c.ref;if(h===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(o===null||o.ref!==h)&&(c.flags|=4194816)}}function tv(o,c,h,g,x){return pl(c),h=z0(o,c,h,g,void 0,x),g=I0(),o!==null&&!Er?(B0(o,c,x),va(o,c,x)):(Cn&&g&&b0(c),c.flags|=1,Ir(o,c,h,x),c.child)}function ON(o,c,h,g,x,w){return pl(c),c.updateQueue=null,h=kC(c,g,h,x),AC(o),g=I0(),o!==null&&!Er?(B0(o,c,w),va(o,c,w)):(Cn&&g&&b0(c),c.flags|=1,Ir(o,c,h,w),c.child)}function MN(o,c,h,g,x){if(pl(c),c.stateNode===null){var w=Nc,M=h.contextType;typeof M=="object"&&M!==null&&(w=Yr(M)),w=new h(g,w),c.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Z0,c.stateNode=w,w._reactInternals=c,w=c.stateNode,w.props=g,w.state=c.memoizedState,w.refs={},O0(c),M=h.contextType,w.context=typeof M=="object"&&M!==null?Yr(M):Nc,w.state=c.memoizedState,M=h.getDerivedStateFromProps,typeof M=="function"&&(J0(c,h,M,g),w.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(M=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),M!==w.state&&Z0.enqueueReplaceState(w,w.state,null),dd(c,g,w,x),ud(),w.state=c.memoizedState),typeof w.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(o===null){w=c.stateNode;var z=c.memoizedProps,X=yl(h,z);w.props=X;var Ne=w.context,Ie=h.contextType;M=Nc,typeof Ie=="object"&&Ie!==null&&(M=Yr(Ie));var Ve=h.getDerivedStateFromProps;Ie=typeof Ve=="function"||typeof w.getSnapshotBeforeUpdate=="function",z=c.pendingProps!==z,Ie||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(z||Ne!==M)&&yN(c,w,g,M),Ga=!1;var je=c.memoizedState;w.state=je,dd(c,g,w,x),ud(),Ne=c.memoizedState,z||je!==Ne||Ga?(typeof Ve=="function"&&(J0(c,h,Ve,g),Ne=c.memoizedState),(X=Ga||gN(c,h,X,g,je,Ne,M))?(Ie||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(c.flags|=4194308)):(typeof w.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=Ne),w.props=g,w.state=Ne,w.context=M,g=X):(typeof w.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{w=c.stateNode,M0(o,c),M=c.memoizedProps,Ie=yl(h,M),w.props=Ie,Ve=c.pendingProps,je=w.context,Ne=h.contextType,X=Nc,typeof Ne=="object"&&Ne!==null&&(X=Yr(Ne)),z=h.getDerivedStateFromProps,(Ne=typeof z=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(M!==Ve||je!==X)&&yN(c,w,g,X),Ga=!1,je=c.memoizedState,w.state=je,dd(c,g,w,x),ud();var Ae=c.memoizedState;M!==Ve||je!==Ae||Ga||o!==null&&o.dependencies!==null&&Wh(o.dependencies)?(typeof z=="function"&&(J0(c,h,z,g),Ae=c.memoizedState),(Ie=Ga||gN(c,h,Ie,g,je,Ae,X)||o!==null&&o.dependencies!==null&&Wh(o.dependencies))?(Ne||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(g,Ae,X),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(g,Ae,X)),typeof w.componentDidUpdate=="function"&&(c.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof w.componentDidUpdate!="function"||M===o.memoizedProps&&je===o.memoizedState||(c.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||M===o.memoizedProps&&je===o.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=Ae),w.props=g,w.state=Ae,w.context=X,g=Ie):(typeof w.componentDidUpdate!="function"||M===o.memoizedProps&&je===o.memoizedState||(c.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||M===o.memoizedProps&&je===o.memoizedState||(c.flags|=1024),g=!1)}return w=g,hp(o,c),g=(c.flags&128)!==0,w||g?(w=c.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:w.render(),c.flags|=1,o!==null&&g?(c.child=_c(c,o.child,null,x),c.child=_c(c,null,h,x)):Ir(o,c,h,x),c.memoizedState=w.state,o=c.child):o=va(o,c,x),o}function DN(o,c,h,g){return nd(),c.flags|=256,Ir(o,c,h,g),c.child}var nv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rv(o){return{baseLanes:o,cachePool:xC()}}function iv(o,c,h){return o=o!==null?o.childLanes&~h:0,c&&(o|=Zi),o}function RN(o,c,h){var g=c.pendingProps,x=!1,w=(c.flags&128)!==0,M;if((M=w)||(M=o!==null&&o.memoizedState===null?!1:(Nr.current&2)!==0),M&&(x=!0,c.flags&=-129),M=(c.flags&32)!==0,c.flags&=-33,o===null){if(Cn){if(x?Za(c):eo(),Cn){var z=tr,X;if(X=z){e:{for(X=z,z=Ps;X.nodeType!==8;){if(!z){z=null;break e}if(X=xs(X.nextSibling),X===null){z=null;break e}}z=X}z!==null?(c.memoizedState={dehydrated:z,treeContext:cl!==null?{id:fa,overflow:ha}:null,retryLane:536870912,hydrationErrors:null},X=Di(18,null,null,0),X.stateNode=z,X.return=c,c.child=X,si=c,tr=null,X=!0):X=!1}X||fl(c)}if(z=c.memoizedState,z!==null&&(z=z.dehydrated,z!==null))return $v(z)?c.lanes=32:c.lanes=536870912,null;ya(c)}return z=g.children,g=g.fallback,x?(eo(),x=c.mode,z=pp({mode:"hidden",children:z},x),g=ll(g,x,h,null),z.return=c,g.return=c,z.sibling=g,c.child=z,x=c.child,x.memoizedState=rv(h),x.childLanes=iv(o,M,h),c.memoizedState=nv,g):(Za(c),sv(c,z))}if(X=o.memoizedState,X!==null&&(z=X.dehydrated,z!==null)){if(w)c.flags&256?(Za(c),c.flags&=-257,c=av(o,c,h)):c.memoizedState!==null?(eo(),c.child=o.child,c.flags|=128,c=null):(eo(),x=g.fallback,z=c.mode,g=pp({mode:"visible",children:g.children},z),x=ll(x,z,h,null),x.flags|=2,g.return=c,x.return=c,g.sibling=x,c.child=g,_c(c,o.child,null,h),g=c.child,g.memoizedState=rv(h),g.childLanes=iv(o,M,h),c.memoizedState=nv,c=x);else if(Za(c),$v(z)){if(M=z.nextSibling&&z.nextSibling.dataset,M)var Ne=M.dgst;M=Ne,g=Error(r(419)),g.stack="",g.digest=M,rd({value:g,source:null,stack:null}),c=av(o,c,h)}else if(Er||id(o,c,h,!1),M=(h&o.childLanes)!==0,Er||M){if(M=Pn,M!==null&&(g=h&-h,g=(g&42)!==0?1:Zt(g),g=(g&(M.suspendedLanes|h))!==0?0:g,g!==0&&g!==X.retryLane))throw X.retryLane=g,Cc(o,g),zi(M,o,g),NN;z.data==="$?"||Nv(),c=av(o,c,h)}else z.data==="$?"?(c.flags|=192,c.child=o.child,c=null):(o=X.treeContext,tr=xs(z.nextSibling),si=c,Cn=!0,dl=null,Ps=!1,o!==null&&(Xi[Qi++]=fa,Xi[Qi++]=ha,Xi[Qi++]=cl,fa=o.id,ha=o.overflow,cl=c),c=sv(c,g.children),c.flags|=4096);return c}return x?(eo(),x=g.fallback,z=c.mode,X=o.child,Ne=X.sibling,g=da(X,{mode:"hidden",children:g.children}),g.subtreeFlags=X.subtreeFlags&65011712,Ne!==null?x=da(Ne,x):(x=ll(x,z,h,null),x.flags|=2),x.return=c,g.return=c,g.sibling=x,c.child=g,g=x,x=c.child,z=o.child.memoizedState,z===null?z=rv(h):(X=z.cachePool,X!==null?(Ne=Cr._currentValue,X=X.parent!==Ne?{parent:Ne,pool:Ne}:X):X=xC(),z={baseLanes:z.baseLanes|h,cachePool:X}),x.memoizedState=z,x.childLanes=iv(o,M,h),c.memoizedState=nv,g):(Za(c),h=o.child,o=h.sibling,h=da(h,{mode:"visible",children:g.children}),h.return=c,h.sibling=null,o!==null&&(M=c.deletions,M===null?(c.deletions=[o],c.flags|=16):M.push(o)),c.child=h,c.memoizedState=null,h)}function sv(o,c){return c=pp({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function pp(o,c){return o=Di(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function av(o,c,h){return _c(c,o.child,null,h),o=sv(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function _N(o,c,h){o.lanes|=c;var g=o.alternate;g!==null&&(g.lanes|=c),N0(o.return,c,h)}function ov(o,c,h,g,x){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:x}:(w.isBackwards=c,w.rendering=null,w.renderingStartTime=0,w.last=g,w.tail=h,w.tailMode=x)}function LN(o,c,h){var g=c.pendingProps,x=g.revealOrder,w=g.tail;if(Ir(o,c,g.children,h),g=Nr.current,(g&2)!==0)g=g&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&_N(o,h,c);else if(o.tag===19)_N(o,h,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}g&=1}switch(xe(Nr,g),x){case"forwards":for(h=c.child,x=null;h!==null;)o=h.alternate,o!==null&&up(o)===null&&(x=h),h=h.sibling;h=x,h===null?(x=c.child,c.child=null):(x=h.sibling,h.sibling=null),ov(c,!1,x,h,w);break;case"backwards":for(h=null,x=c.child,c.child=null;x!==null;){if(o=x.alternate,o!==null&&up(o)===null){c.child=x;break}o=x.sibling,x.sibling=h,h=x,x=o}ov(c,!0,h,null,w);break;case"together":ov(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function va(o,c,h){if(o!==null&&(c.dependencies=o.dependencies),so|=c.lanes,(h&c.childLanes)===0)if(o!==null){if(id(o,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,h=da(o,o.pendingProps),c.child=h,h.return=c;o.sibling!==null;)o=o.sibling,h=h.sibling=da(o,o.pendingProps),h.return=c;h.sibling=null}return c.child}function lv(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Wh(o)))}function P8(o,c,h){switch(c.tag){case 3:Le(c,c.stateNode.containerInfo),Wa(c,Cr,o.memoizedState.cache),nd();break;case 27:case 5:ut(c);break;case 4:Le(c,c.stateNode.containerInfo);break;case 10:Wa(c,c.type,c.memoizedProps.value);break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(Za(c),c.flags|=128,null):(h&c.child.childLanes)!==0?RN(o,c,h):(Za(c),o=va(o,c,h),o!==null?o.sibling:null);Za(c);break;case 19:var x=(o.flags&128)!==0;if(g=(h&c.childLanes)!==0,g||(id(o,c,h,!1),g=(h&c.childLanes)!==0),x){if(g)return LN(o,c,h);c.flags|=128}if(x=c.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),xe(Nr,Nr.current),g)break;return null;case 22:case 23:return c.lanes=0,AN(o,c,h);case 24:Wa(c,Cr,o.memoizedState.cache)}return va(o,c,h)}function PN(o,c,h){if(o!==null)if(o.memoizedProps!==c.pendingProps)Er=!0;else{if(!lv(o,h)&&(c.flags&128)===0)return Er=!1,P8(o,c,h);Er=(o.flags&131072)!==0}else Er=!1,Cn&&(c.flags&1048576)!==0&&fC(c,Yh,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var g=c.elementType,x=g._init;if(g=x(g._payload),c.type=g,typeof g=="function")y0(g)?(o=yl(g,o),c.tag=1,c=MN(null,c,g,o,h)):(c.tag=0,c=tv(null,c,g,o,h));else{if(g!=null){if(x=g.$$typeof,x===R){c.tag=11,c=TN(null,c,g,o,h);break e}else if(x===P){c.tag=14,c=jN(null,c,g,o,h);break e}}throw c=Ee(g)||g,Error(r(306,c,""))}}return c;case 0:return tv(o,c,c.type,c.pendingProps,h);case 1:return g=c.type,x=yl(g,c.pendingProps),MN(o,c,g,x,h);case 3:e:{if(Le(c,c.stateNode.containerInfo),o===null)throw Error(r(387));g=c.pendingProps;var w=c.memoizedState;x=w.element,M0(o,c),dd(c,g,null,h);var M=c.memoizedState;if(g=M.cache,Wa(c,Cr,g),g!==w.cache&&T0(c,[Cr],h,!0),ud(),g=M.element,w.isDehydrated)if(w={element:g,isDehydrated:!1,cache:M.cache},c.updateQueue.baseState=w,c.memoizedState=w,c.flags&256){c=DN(o,c,g,h);break e}else if(g!==x){x=Wi(Error(r(424)),c),rd(x),c=DN(o,c,g,h);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(tr=xs(o.firstChild),si=c,Cn=!0,dl=null,Ps=!0,h=pN(c,null,g,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(nd(),g===x){c=va(o,c,h);break e}Ir(o,c,g,h)}c=c.child}return c;case 26:return hp(o,c),o===null?(h=FT(c.type,null,c.pendingProps,null))?c.memoizedState=h:Cn||(h=c.type,o=c.pendingProps,g=Ap(he.current).createElement(h),g[Pe]=c,g[Ge]=o,Fr(g,h,o),Dt(g),c.stateNode=g):c.memoizedState=FT(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return ut(c),o===null&&Cn&&(g=c.stateNode=zT(c.type,c.pendingProps,he.current),si=c,Ps=!0,x=tr,co(c.type)?(Vv=x,tr=xs(g.firstChild)):tr=x),Ir(o,c,c.pendingProps.children,h),hp(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Cn&&((x=g=tr)&&(g=uL(g,c.type,c.pendingProps,Ps),g!==null?(c.stateNode=g,si=c,tr=xs(g.firstChild),Ps=!1,x=!0):x=!1),x||fl(c)),ut(c),x=c.type,w=c.pendingProps,M=o!==null?o.memoizedProps:null,g=w.children,Iv(x,w)?g=null:M!==null&&Iv(x,M)&&(c.flags|=32),c.memoizedState!==null&&(x=z0(o,c,A8,null,null,h),Rd._currentValue=x),hp(o,c),Ir(o,c,g,h),c.child;case 6:return o===null&&Cn&&((o=h=tr)&&(h=dL(h,c.pendingProps,Ps),h!==null?(c.stateNode=h,si=c,tr=null,o=!0):o=!1),o||fl(c)),null;case 13:return RN(o,c,h);case 4:return Le(c,c.stateNode.containerInfo),g=c.pendingProps,o===null?c.child=_c(c,null,g,h):Ir(o,c,g,h),c.child;case 11:return TN(o,c,c.type,c.pendingProps,h);case 7:return Ir(o,c,c.pendingProps,h),c.child;case 8:return Ir(o,c,c.pendingProps.children,h),c.child;case 12:return Ir(o,c,c.pendingProps.children,h),c.child;case 10:return g=c.pendingProps,Wa(c,c.type,g.value),Ir(o,c,g.children,h),c.child;case 9:return x=c.type._context,g=c.pendingProps.children,pl(c),x=Yr(x),g=g(x),c.flags|=1,Ir(o,c,g,h),c.child;case 14:return jN(o,c,c.type,c.pendingProps,h);case 15:return EN(o,c,c.type,c.pendingProps,h);case 19:return LN(o,c,h);case 31:return g=c.pendingProps,h=c.mode,g={mode:g.mode,children:g.children},o===null?(h=pp(g,h),h.ref=c.ref,c.child=h,h.return=c,c=h):(h=da(o.child,g),h.ref=c.ref,c.child=h,h.return=c,c=h),c;case 22:return AN(o,c,h);case 24:return pl(c),g=Yr(Cr),o===null?(x=A0(),x===null&&(x=Pn,w=j0(),x.pooledCache=w,w.refCount++,w!==null&&(x.pooledCacheLanes|=h),x=w),c.memoizedState={parent:g,cache:x},O0(c),Wa(c,Cr,x)):((o.lanes&h)!==0&&(M0(o,c),dd(c,null,null,h),ud()),x=o.memoizedState,w=c.memoizedState,x.parent!==g?(x={parent:g,cache:g},c.memoizedState=x,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=x),Wa(c,Cr,g)):(g=w.cache,Wa(c,Cr,g),g!==x.cache&&T0(c,[Cr],h,!0))),Ir(o,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function xa(o){o.flags|=4}function zN(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!qT(c)){if(c=Ji.current,c!==null&&((gn&4194048)===gn?zs!==null:(gn&62914560)!==gn&&(gn&536870912)===0||c!==zs))throw ld=k0,bC;o.flags|=8192}}function mp(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?tt():536870912,o.lanes|=c,Ic|=c)}function vd(o,c){if(!Cn)switch(o.tailMode){case"hidden":c=o.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function Jn(o){var c=o.alternate!==null&&o.alternate.child===o.child,h=0,g=0;if(c)for(var x=o.child;x!==null;)h|=x.lanes|x.childLanes,g|=x.subtreeFlags&65011712,g|=x.flags&65011712,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)h|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=g,o.childLanes=h,c}function z8(o,c,h){var g=c.pendingProps;switch(w0(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jn(c),null;case 1:return Jn(c),null;case 3:return h=c.stateNode,g=null,o!==null&&(g=o.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),ma(Cr),ot(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(td(c)?xa(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,mC())),Jn(c),null;case 26:return h=c.memoizedState,o===null?(xa(c),h!==null?(Jn(c),zN(c,h)):(Jn(c),c.flags&=-16777217)):h?h!==o.memoizedState?(xa(c),Jn(c),zN(c,h)):(Jn(c),c.flags&=-16777217):(o.memoizedProps!==g&&xa(c),Jn(c),c.flags&=-16777217),null;case 27:Bt(c),h=he.current;var x=c.type;if(o!==null&&c.stateNode!=null)o.memoizedProps!==g&&xa(c);else{if(!g){if(c.stateNode===null)throw Error(r(166));return Jn(c),null}o=Re.current,td(c)?hC(c):(o=zT(x,g,h),c.stateNode=o,xa(c))}return Jn(c),null;case 5:if(Bt(c),h=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==g&&xa(c);else{if(!g){if(c.stateNode===null)throw Error(r(166));return Jn(c),null}if(o=Re.current,td(c))hC(c);else{switch(x=Ap(he.current),o){case 1:o=x.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:o=x.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":o=x.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":o=x.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":o=x.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof g.is=="string"?x.createElement("select",{is:g.is}):x.createElement("select"),g.multiple?o.multiple=!0:g.size&&(o.size=g.size);break;default:o=typeof g.is=="string"?x.createElement(h,{is:g.is}):x.createElement(h)}}o[Pe]=c,o[Ge]=g;e:for(x=c.child;x!==null;){if(x.tag===5||x.tag===6)o.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===c)break e;for(;x.sibling===null;){if(x.return===null||x.return===c)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}c.stateNode=o;e:switch(Fr(o,h,g),h){case"button":case"input":case"select":case"textarea":o=!!g.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&xa(c)}}return Jn(c),c.flags&=-16777217,null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==g&&xa(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(r(166));if(o=he.current,td(c)){if(o=c.stateNode,h=c.memoizedProps,g=null,x=si,x!==null)switch(x.tag){case 27:case 5:g=x.memoizedProps}o[Pe]=c,o=!!(o.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||OT(o.nodeValue,h)),o||fl(c)}else o=Ap(o).createTextNode(g),o[Pe]=c,c.stateNode=o}return Jn(c),null;case 13:if(g=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(x=td(c),g!==null&&g.dehydrated!==null){if(o===null){if(!x)throw Error(r(318));if(x=c.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[Pe]=c}else nd(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Jn(c),x=!1}else x=mC(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=x),x=!0;if(!x)return c.flags&256?(ya(c),c):(ya(c),null)}if(ya(c),(c.flags&128)!==0)return c.lanes=h,c;if(h=g!==null,o=o!==null&&o.memoizedState!==null,h){g=c.child,x=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(x=g.alternate.memoizedState.cachePool.pool);var w=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(w=g.memoizedState.cachePool.pool),w!==x&&(g.flags|=2048)}return h!==o&&h&&(c.child.flags|=8192),mp(c,c.updateQueue),Jn(c),null;case 4:return ot(),o===null&&Rv(c.stateNode.containerInfo),Jn(c),null;case 10:return ma(c.type),Jn(c),null;case 19:if(pe(Nr),x=c.memoizedState,x===null)return Jn(c),null;if(g=(c.flags&128)!==0,w=x.rendering,w===null)if(g)vd(x,!1);else{if(nr!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(w=up(o),w!==null){for(c.flags|=128,vd(x,!1),o=w.updateQueue,c.updateQueue=o,mp(c,o),c.subtreeFlags=0,o=h,h=c.child;h!==null;)dC(h,o),h=h.sibling;return xe(Nr,Nr.current&1|2),c.child}o=o.sibling}x.tail!==null&&Ue()>vp&&(c.flags|=128,g=!0,vd(x,!1),c.lanes=4194304)}else{if(!g)if(o=up(w),o!==null){if(c.flags|=128,g=!0,o=o.updateQueue,c.updateQueue=o,mp(c,o),vd(x,!0),x.tail===null&&x.tailMode==="hidden"&&!w.alternate&&!Cn)return Jn(c),null}else 2*Ue()-x.renderingStartTime>vp&&h!==536870912&&(c.flags|=128,g=!0,vd(x,!1),c.lanes=4194304);x.isBackwards?(w.sibling=c.child,c.child=w):(o=x.last,o!==null?o.sibling=w:c.child=w,x.last=w)}return x.tail!==null?(c=x.tail,x.rendering=c,x.tail=c.sibling,x.renderingStartTime=Ue(),c.sibling=null,o=Nr.current,xe(Nr,g?o&1|2:o&1),c):(Jn(c),null);case 22:case 23:return ya(c),L0(),g=c.memoizedState!==null,o!==null?o.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(h&536870912)!==0&&(c.flags&128)===0&&(Jn(c),c.subtreeFlags&6&&(c.flags|=8192)):Jn(c),h=c.updateQueue,h!==null&&mp(c,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048),o!==null&&pe(ml),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),ma(Cr),Jn(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function I8(o,c){switch(w0(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return ma(Cr),ot(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Bt(c),null;case 13:if(ya(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));nd()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return pe(Nr),null;case 4:return ot(),null;case 10:return ma(c.type),null;case 22:case 23:return ya(c),L0(),o!==null&&pe(ml),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return ma(Cr),null;case 25:return null;default:return null}}function IN(o,c){switch(w0(c),c.tag){case 3:ma(Cr),ot();break;case 26:case 27:case 5:Bt(c);break;case 4:ot();break;case 13:ya(c);break;case 19:pe(Nr);break;case 10:ma(c.type);break;case 22:case 23:ya(c),L0(),o!==null&&pe(ml);break;case 24:ma(Cr)}}function xd(o,c){try{var h=c.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var x=g.next;h=x;do{if((h.tag&o)===o){g=void 0;var w=h.create,M=h.inst;g=w(),M.destroy=g}h=h.next}while(h!==x)}}catch(z){_n(c,c.return,z)}}function to(o,c,h){try{var g=c.updateQueue,x=g!==null?g.lastEffect:null;if(x!==null){var w=x.next;g=w;do{if((g.tag&o)===o){var M=g.inst,z=M.destroy;if(z!==void 0){M.destroy=void 0,x=c;var X=h,Ne=z;try{Ne()}catch(Ie){_n(x,X,Ie)}}}g=g.next}while(g!==w)}}catch(Ie){_n(c,c.return,Ie)}}function BN(o){var c=o.updateQueue;if(c!==null){var h=o.stateNode;try{jC(c,h)}catch(g){_n(o,o.return,g)}}}function FN(o,c,h){h.props=yl(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(g){_n(o,c,g)}}function bd(o,c){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var g=o.stateNode;break;case 30:g=o.stateNode;break;default:g=o.stateNode}typeof h=="function"?o.refCleanup=h(g):h.current=g}}catch(x){_n(o,c,x)}}function Is(o,c){var h=o.ref,g=o.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(x){_n(o,c,x)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(x){_n(o,c,x)}else h.current=null}function $N(o){var c=o.type,h=o.memoizedProps,g=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(x){_n(o,o.return,x)}}function cv(o,c,h){try{var g=o.stateNode;sL(g,o.type,h,c),g[Ge]=c}catch(x){_n(o,o.return,x)}}function VN(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&co(o.type)||o.tag===4}function uv(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||VN(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&co(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function dv(o,c,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(o),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Ep));else if(g!==4&&(g===27&&co(o.type)&&(h=o.stateNode,c=null),o=o.child,o!==null))for(dv(o,c,h),o=o.sibling;o!==null;)dv(o,c,h),o=o.sibling}function gp(o,c,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?h.insertBefore(o,c):h.appendChild(o);else if(g!==4&&(g===27&&co(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(gp(o,c,h),o=o.sibling;o!==null;)gp(o,c,h),o=o.sibling}function UN(o){var c=o.stateNode,h=o.memoizedProps;try{for(var g=o.type,x=c.attributes;x.length;)c.removeAttributeNode(x[0]);Fr(c,g,h),c[Pe]=o,c[Ge]=h}catch(w){_n(o,o.return,w)}}var ba=!1,ur=!1,fv=!1,HN=typeof WeakSet=="function"?WeakSet:Set,Ar=null;function B8(o,c){if(o=o.containerInfo,Pv=_p,o=tC(o),u0(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var x=g.anchorOffset,w=g.focusNode;g=g.focusOffset;try{h.nodeType,w.nodeType}catch{h=null;break e}var M=0,z=-1,X=-1,Ne=0,Ie=0,Ve=o,je=null;t:for(;;){for(var Ae;Ve!==h||x!==0&&Ve.nodeType!==3||(z=M+x),Ve!==w||g!==0&&Ve.nodeType!==3||(X=M+g),Ve.nodeType===3&&(M+=Ve.nodeValue.length),(Ae=Ve.firstChild)!==null;)je=Ve,Ve=Ae;for(;;){if(Ve===o)break t;if(je===h&&++Ne===x&&(z=M),je===w&&++Ie===g&&(X=M),(Ae=Ve.nextSibling)!==null)break;Ve=je,je=Ve.parentNode}Ve=Ae}h=z===-1||X===-1?null:{start:z,end:X}}else h=null}h=h||{start:0,end:0}}else h=null;for(zv={focusedElem:o,selectionRange:h},_p=!1,Ar=c;Ar!==null;)if(c=Ar,o=c.child,(c.subtreeFlags&1024)!==0&&o!==null)o.return=c,Ar=o;else for(;Ar!==null;){switch(c=Ar,w=c.alternate,o=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&w!==null){o=void 0,h=c,x=w.memoizedProps,w=w.memoizedState,g=h.stateNode;try{var Yt=yl(h.type,x,h.elementType===h.type);o=g.getSnapshotBeforeUpdate(Yt,w),g.__reactInternalSnapshotBeforeUpdate=o}catch($t){_n(h,h.return,$t)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,h=o.nodeType,h===9)Fv(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Fv(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=c.sibling,o!==null){o.return=c.return,Ar=o;break}Ar=c.return}}function qN(o,c,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:no(o,h),g&4&&xd(5,h);break;case 1:if(no(o,h),g&4)if(o=h.stateNode,c===null)try{o.componentDidMount()}catch(M){_n(h,h.return,M)}else{var x=yl(h.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(x,c,o.__reactInternalSnapshotBeforeUpdate)}catch(M){_n(h,h.return,M)}}g&64&&BN(h),g&512&&bd(h,h.return);break;case 3:if(no(o,h),g&64&&(o=h.updateQueue,o!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{jC(o,c)}catch(M){_n(h,h.return,M)}}break;case 27:c===null&&g&4&&UN(h);case 26:case 5:no(o,h),c===null&&g&4&&$N(h),g&512&&bd(h,h.return);break;case 12:no(o,h);break;case 13:no(o,h),g&4&&WN(o,h),g&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=W8.bind(null,h),fL(o,h))));break;case 22:if(g=h.memoizedState!==null||ba,!g){c=c!==null&&c.memoizedState!==null||ur,x=ba;var w=ur;ba=g,(ur=c)&&!w?ro(o,h,(h.subtreeFlags&8772)!==0):no(o,h),ba=x,ur=w}break;case 30:break;default:no(o,h)}}function KN(o){var c=o.alternate;c!==null&&(o.alternate=null,KN(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&Y(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var qn=null,gi=!1;function wa(o,c,h){for(h=h.child;h!==null;)YN(o,c,h),h=h.sibling}function YN(o,c,h){if(be&&typeof be.onCommitFiberUnmount=="function")try{be.onCommitFiberUnmount(U,h)}catch{}switch(h.tag){case 26:ur||Is(h,c),wa(o,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:ur||Is(h,c);var g=qn,x=gi;co(h.type)&&(qn=h.stateNode,gi=!1),wa(o,c,h),kd(h.stateNode),qn=g,gi=x;break;case 5:ur||Is(h,c);case 6:if(g=qn,x=gi,qn=null,wa(o,c,h),qn=g,gi=x,qn!==null)if(gi)try{(qn.nodeType===9?qn.body:qn.nodeName==="HTML"?qn.ownerDocument.body:qn).removeChild(h.stateNode)}catch(w){_n(h,c,w)}else try{qn.removeChild(h.stateNode)}catch(w){_n(h,c,w)}break;case 18:qn!==null&&(gi?(o=qn,LT(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),zd(o)):LT(qn,h.stateNode));break;case 4:g=qn,x=gi,qn=h.stateNode.containerInfo,gi=!0,wa(o,c,h),qn=g,gi=x;break;case 0:case 11:case 14:case 15:ur||to(2,h,c),ur||to(4,h,c),wa(o,c,h);break;case 1:ur||(Is(h,c),g=h.stateNode,typeof g.componentWillUnmount=="function"&&FN(h,c,g)),wa(o,c,h);break;case 21:wa(o,c,h);break;case 22:ur=(g=ur)||h.memoizedState!==null,wa(o,c,h),ur=g;break;default:wa(o,c,h)}}function WN(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{zd(o)}catch(h){_n(c,c.return,h)}}function F8(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new HN),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new HN),c;default:throw Error(r(435,o.tag))}}function hv(o,c){var h=F8(o);c.forEach(function(g){var x=G8.bind(null,o,g);h.has(g)||(h.add(g),g.then(x,x))})}function Ri(o,c){var h=c.deletions;if(h!==null)for(var g=0;g<h.length;g++){var x=h[g],w=o,M=c,z=M;e:for(;z!==null;){switch(z.tag){case 27:if(co(z.type)){qn=z.stateNode,gi=!1;break e}break;case 5:qn=z.stateNode,gi=!1;break e;case 3:case 4:qn=z.stateNode.containerInfo,gi=!0;break e}z=z.return}if(qn===null)throw Error(r(160));YN(w,M,x),qn=null,gi=!1,w=x.alternate,w!==null&&(w.return=null),x.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)GN(c,o),c=c.sibling}var vs=null;function GN(o,c){var h=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Ri(c,o),_i(o),g&4&&(to(3,o,o.return),xd(3,o),to(5,o,o.return));break;case 1:Ri(c,o),_i(o),g&512&&(ur||h===null||Is(h,h.return)),g&64&&ba&&(o=o.updateQueue,o!==null&&(g=o.callbacks,g!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var x=vs;if(Ri(c,o),_i(o),g&512&&(ur||h===null||Is(h,h.return)),g&4){var w=h!==null?h.memoizedState:null;if(g=o.memoizedState,h===null)if(g===null)if(o.stateNode===null){e:{g=o.type,h=o.memoizedProps,x=x.ownerDocument||x;t:switch(g){case"title":w=x.getElementsByTagName("title")[0],(!w||w[Mt]||w[Pe]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=x.createElement(g),x.head.insertBefore(w,x.querySelector("head > title"))),Fr(w,g,h),w[Pe]=o,Dt(w),g=w;break e;case"link":var M=UT("link","href",x).get(g+(h.href||""));if(M){for(var z=0;z<M.length;z++)if(w=M[z],w.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&w.getAttribute("rel")===(h.rel==null?null:h.rel)&&w.getAttribute("title")===(h.title==null?null:h.title)&&w.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){M.splice(z,1);break t}}w=x.createElement(g),Fr(w,g,h),x.head.appendChild(w);break;case"meta":if(M=UT("meta","content",x).get(g+(h.content||""))){for(z=0;z<M.length;z++)if(w=M[z],w.getAttribute("content")===(h.content==null?null:""+h.content)&&w.getAttribute("name")===(h.name==null?null:h.name)&&w.getAttribute("property")===(h.property==null?null:h.property)&&w.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&w.getAttribute("charset")===(h.charSet==null?null:h.charSet)){M.splice(z,1);break t}}w=x.createElement(g),Fr(w,g,h),x.head.appendChild(w);break;default:throw Error(r(468,g))}w[Pe]=o,Dt(w),g=w}o.stateNode=g}else HT(x,o.type,o.stateNode);else o.stateNode=VT(x,g,o.memoizedProps);else w!==g?(w===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):w.count--,g===null?HT(x,o.type,o.stateNode):VT(x,g,o.memoizedProps)):g===null&&o.stateNode!==null&&cv(o,o.memoizedProps,h.memoizedProps)}break;case 27:Ri(c,o),_i(o),g&512&&(ur||h===null||Is(h,h.return)),h!==null&&g&4&&cv(o,o.memoizedProps,h.memoizedProps);break;case 5:if(Ri(c,o),_i(o),g&512&&(ur||h===null||Is(h,h.return)),o.flags&32){x=o.stateNode;try{Rn(x,"")}catch(Ae){_n(o,o.return,Ae)}}g&4&&o.stateNode!=null&&(x=o.memoizedProps,cv(o,x,h!==null?h.memoizedProps:x)),g&1024&&(fv=!0);break;case 6:if(Ri(c,o),_i(o),g&4){if(o.stateNode===null)throw Error(r(162));g=o.memoizedProps,h=o.stateNode;try{h.nodeValue=g}catch(Ae){_n(o,o.return,Ae)}}break;case 3:if(Mp=null,x=vs,vs=kp(c.containerInfo),Ri(c,o),vs=x,_i(o),g&4&&h!==null&&h.memoizedState.isDehydrated)try{zd(c.containerInfo)}catch(Ae){_n(o,o.return,Ae)}fv&&(fv=!1,XN(o));break;case 4:g=vs,vs=kp(o.stateNode.containerInfo),Ri(c,o),_i(o),vs=g;break;case 12:Ri(c,o),_i(o);break;case 13:Ri(c,o),_i(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(xv=Ue()),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,hv(o,g)));break;case 22:x=o.memoizedState!==null;var X=h!==null&&h.memoizedState!==null,Ne=ba,Ie=ur;if(ba=Ne||x,ur=Ie||X,Ri(c,o),ur=Ie,ba=Ne,_i(o),g&8192)e:for(c=o.stateNode,c._visibility=x?c._visibility&-2:c._visibility|1,x&&(h===null||X||ba||ur||vl(o)),h=null,c=o;;){if(c.tag===5||c.tag===26){if(h===null){X=h=c;try{if(w=X.stateNode,x)M=w.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{z=X.stateNode;var Ve=X.memoizedProps.style,je=Ve!=null&&Ve.hasOwnProperty("display")?Ve.display:null;z.style.display=je==null||typeof je=="boolean"?"":(""+je).trim()}}catch(Ae){_n(X,X.return,Ae)}}}else if(c.tag===6){if(h===null){X=c;try{X.stateNode.nodeValue=x?"":X.memoizedProps}catch(Ae){_n(X,X.return,Ae)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=o.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,hv(o,h))));break;case 19:Ri(c,o),_i(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,hv(o,g)));break;case 30:break;case 21:break;default:Ri(c,o),_i(o)}}function _i(o){var c=o.flags;if(c&2){try{for(var h,g=o.return;g!==null;){if(VN(g)){h=g;break}g=g.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var x=h.stateNode,w=uv(o);gp(o,w,x);break;case 5:var M=h.stateNode;h.flags&32&&(Rn(M,""),h.flags&=-33);var z=uv(o);gp(o,z,M);break;case 3:case 4:var X=h.stateNode.containerInfo,Ne=uv(o);dv(o,Ne,X);break;default:throw Error(r(161))}}catch(Ie){_n(o,o.return,Ie)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function XN(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;XN(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function no(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)qN(o,c.alternate,c),c=c.sibling}function vl(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:to(4,c,c.return),vl(c);break;case 1:Is(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&FN(c,c.return,h),vl(c);break;case 27:kd(c.stateNode);case 26:case 5:Is(c,c.return),vl(c);break;case 22:c.memoizedState===null&&vl(c);break;case 30:vl(c);break;default:vl(c)}o=o.sibling}}function ro(o,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,x=o,w=c,M=w.flags;switch(w.tag){case 0:case 11:case 15:ro(x,w,h),xd(4,w);break;case 1:if(ro(x,w,h),g=w,x=g.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(Ne){_n(g,g.return,Ne)}if(g=w,x=g.updateQueue,x!==null){var z=g.stateNode;try{var X=x.shared.hiddenCallbacks;if(X!==null)for(x.shared.hiddenCallbacks=null,x=0;x<X.length;x++)TC(X[x],z)}catch(Ne){_n(g,g.return,Ne)}}h&&M&64&&BN(w),bd(w,w.return);break;case 27:UN(w);case 26:case 5:ro(x,w,h),h&&g===null&&M&4&&$N(w),bd(w,w.return);break;case 12:ro(x,w,h);break;case 13:ro(x,w,h),h&&M&4&&WN(x,w);break;case 22:w.memoizedState===null&&ro(x,w,h),bd(w,w.return);break;case 30:break;default:ro(x,w,h)}c=c.sibling}}function pv(o,c){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&sd(h))}function mv(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&sd(o))}function Bs(o,c,h,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)QN(o,c,h,g),c=c.sibling}function QN(o,c,h,g){var x=c.flags;switch(c.tag){case 0:case 11:case 15:Bs(o,c,h,g),x&2048&&xd(9,c);break;case 1:Bs(o,c,h,g);break;case 3:Bs(o,c,h,g),x&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&sd(o)));break;case 12:if(x&2048){Bs(o,c,h,g),o=c.stateNode;try{var w=c.memoizedProps,M=w.id,z=w.onPostCommit;typeof z=="function"&&z(M,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(X){_n(c,c.return,X)}}else Bs(o,c,h,g);break;case 13:Bs(o,c,h,g);break;case 23:break;case 22:w=c.stateNode,M=c.alternate,c.memoizedState!==null?w._visibility&2?Bs(o,c,h,g):wd(o,c):w._visibility&2?Bs(o,c,h,g):(w._visibility|=2,Lc(o,c,h,g,(c.subtreeFlags&10256)!==0)),x&2048&&pv(M,c);break;case 24:Bs(o,c,h,g),x&2048&&mv(c.alternate,c);break;default:Bs(o,c,h,g)}}function Lc(o,c,h,g,x){for(x=x&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var w=o,M=c,z=h,X=g,Ne=M.flags;switch(M.tag){case 0:case 11:case 15:Lc(w,M,z,X,x),xd(8,M);break;case 23:break;case 22:var Ie=M.stateNode;M.memoizedState!==null?Ie._visibility&2?Lc(w,M,z,X,x):wd(w,M):(Ie._visibility|=2,Lc(w,M,z,X,x)),x&&Ne&2048&&pv(M.alternate,M);break;case 24:Lc(w,M,z,X,x),x&&Ne&2048&&mv(M.alternate,M);break;default:Lc(w,M,z,X,x)}c=c.sibling}}function wd(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=o,g=c,x=g.flags;switch(g.tag){case 22:wd(h,g),x&2048&&pv(g.alternate,g);break;case 24:wd(h,g),x&2048&&mv(g.alternate,g);break;default:wd(h,g)}c=c.sibling}}var Sd=8192;function Pc(o){if(o.subtreeFlags&Sd)for(o=o.child;o!==null;)JN(o),o=o.sibling}function JN(o){switch(o.tag){case 26:Pc(o),o.flags&Sd&&o.memoizedState!==null&&TL(vs,o.memoizedState,o.memoizedProps);break;case 5:Pc(o);break;case 3:case 4:var c=vs;vs=kp(o.stateNode.containerInfo),Pc(o),vs=c;break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=Sd,Sd=16777216,Pc(o),Sd=c):Pc(o));break;default:Pc(o)}}function ZN(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Cd(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];Ar=g,tT(g,o)}ZN(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)eT(o),o=o.sibling}function eT(o){switch(o.tag){case 0:case 11:case 15:Cd(o),o.flags&2048&&to(9,o,o.return);break;case 3:Cd(o);break;case 12:Cd(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,yp(o)):Cd(o);break;default:Cd(o)}}function yp(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];Ar=g,tT(g,o)}ZN(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:to(8,c,c.return),yp(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,yp(c));break;default:yp(c)}o=o.sibling}}function tT(o,c){for(;Ar!==null;){var h=Ar;switch(h.tag){case 0:case 11:case 15:to(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:sd(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,Ar=g;else e:for(h=o;Ar!==null;){g=Ar;var x=g.sibling,w=g.return;if(KN(g),g===h){Ar=null;break e}if(x!==null){x.return=w,Ar=x;break e}Ar=w}}}var $8={getCacheForType:function(o){var c=Yr(Cr),h=c.data.get(o);return h===void 0&&(h=o(),c.data.set(o,h)),h}},V8=typeof WeakMap=="function"?WeakMap:Map,jn=0,Pn=null,hn=null,gn=0,En=0,Li=null,io=!1,zc=!1,gv=!1,Sa=0,nr=0,so=0,xl=0,yv=0,Zi=0,Ic=0,Nd=null,yi=null,vv=!1,xv=0,vp=1/0,xp=null,ao=null,Br=0,oo=null,Bc=null,Fc=0,bv=0,wv=null,nT=null,Td=0,Sv=null;function Pi(){if((jn&2)!==0&&gn!==0)return gn&-gn;if(K.T!==null){var o=Ec;return o!==0?o:kv()}return Q()}function rT(){Zi===0&&(Zi=(gn&536870912)===0||Cn?Ot():536870912);var o=Ji.current;return o!==null&&(o.flags|=32),Zi}function zi(o,c,h){(o===Pn&&(En===2||En===9)||o.cancelPendingCommit!==null)&&($c(o,0),lo(o,gn,Zi,!1)),rt(o,h),((jn&2)===0||o!==Pn)&&(o===Pn&&((jn&2)===0&&(xl|=h),nr===4&&lo(o,gn,Zi,!1)),Fs(o))}function iT(o,c,h){if((jn&6)!==0)throw Error(r(327));var g=!h&&(c&124)===0&&(c&o.expiredLanes)===0||de(o,c),x=g?q8(o,c):Tv(o,c,!0),w=g;do{if(x===0){zc&&!g&&lo(o,c,0,!1);break}else{if(h=o.current.alternate,w&&!U8(h)){x=Tv(o,c,!1),w=!1;continue}if(x===2){if(w=c,o.errorRecoveryDisabledLanes&w)var M=0;else M=o.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){c=M;e:{var z=o;x=Nd;var X=z.current.memoizedState.isDehydrated;if(X&&($c(z,M).flags|=256),M=Tv(z,M,!1),M!==2){if(gv&&!X){z.errorRecoveryDisabledLanes|=w,xl|=w,x=4;break e}w=yi,yi=x,w!==null&&(yi===null?yi=w:yi.push.apply(yi,w))}x=M}if(w=!1,x!==2)continue}}if(x===1){$c(o,0),lo(o,c,0,!0);break}e:{switch(g=o,w=x,w){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:lo(g,c,Zi,!io);break e;case 2:yi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(x=xv+300-Ue(),10<x)){if(lo(g,c,Zi,!io),ft(g,0,!0)!==0)break e;g.timeoutHandle=RT(sT.bind(null,g,h,yi,xp,vv,c,Zi,xl,Ic,io,w,2,-0,0),x);break e}sT(g,h,yi,xp,vv,c,Zi,xl,Ic,io,w,0,-0,0)}}break}while(!0);Fs(o)}function sT(o,c,h,g,x,w,M,z,X,Ne,Ie,Ve,je,Ae){if(o.timeoutHandle=-1,Ve=c.subtreeFlags,(Ve&8192||(Ve&16785408)===16785408)&&(Dd={stylesheets:null,count:0,unsuspend:NL},JN(c),Ve=jL(),Ve!==null)){o.cancelPendingCommit=Ve(fT.bind(null,o,c,w,h,g,x,M,z,X,Ie,1,je,Ae)),lo(o,w,M,!Ne);return}fT(o,c,w,h,g,x,M,z,X)}function U8(o){for(var c=o;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var x=h[g],w=x.getSnapshot;x=x.value;try{if(!Mi(w(),x))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function lo(o,c,h,g){c&=~yv,c&=~xl,o.suspendedLanes|=c,o.pingedLanes&=~c,g&&(o.warmLanes|=c),g=o.expirationTimes;for(var x=c;0<x;){var w=31-ht(x),M=1<<w;g[w]=-1,x&=~M}h!==0&&St(o,h,c)}function bp(){return(jn&6)===0?(jd(0),!1):!0}function Cv(){if(hn!==null){if(En===0)var o=hn.return;else o=hn,pa=hl=null,F0(o),Rc=null,gd=0,o=hn;for(;o!==null;)IN(o.alternate,o),o=o.return;hn=null}}function $c(o,c){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,oL(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),Cv(),Pn=o,hn=h=da(o.current,null),gn=c,En=0,Li=null,io=!1,zc=de(o,c),gv=!1,Ic=Zi=yv=xl=so=nr=0,yi=Nd=null,vv=!1,(c&8)!==0&&(c|=c&32);var g=o.entangledLanes;if(g!==0)for(o=o.entanglements,g&=c;0<g;){var x=31-ht(g),w=1<<x;c|=o[x],g&=~w}return Sa=c,Vh(),h}function aT(o,c){cn=null,K.H=op,c===od||c===Qh?(c=CC(),En=3):c===bC?(c=CC(),En=4):En=c===NN?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Li=c,hn===null&&(nr=1,fp(o,Wi(c,o.current)))}function oT(){var o=K.H;return K.H=op,o===null?op:o}function lT(){var o=K.A;return K.A=$8,o}function Nv(){nr=4,io||(gn&4194048)!==gn&&Ji.current!==null||(zc=!0),(so&134217727)===0&&(xl&134217727)===0||Pn===null||lo(Pn,gn,Zi,!1)}function Tv(o,c,h){var g=jn;jn|=2;var x=oT(),w=lT();(Pn!==o||gn!==c)&&(xp=null,$c(o,c)),c=!1;var M=nr;e:do try{if(En!==0&&hn!==null){var z=hn,X=Li;switch(En){case 8:Cv(),M=6;break e;case 3:case 2:case 9:case 6:Ji.current===null&&(c=!0);var Ne=En;if(En=0,Li=null,Vc(o,z,X,Ne),h&&zc){M=0;break e}break;default:Ne=En,En=0,Li=null,Vc(o,z,X,Ne)}}H8(),M=nr;break}catch(Ie){aT(o,Ie)}while(!0);return c&&o.shellSuspendCounter++,pa=hl=null,jn=g,K.H=x,K.A=w,hn===null&&(Pn=null,gn=0,Vh()),M}function H8(){for(;hn!==null;)cT(hn)}function q8(o,c){var h=jn;jn|=2;var g=oT(),x=lT();Pn!==o||gn!==c?(xp=null,vp=Ue()+500,$c(o,c)):zc=de(o,c);e:do try{if(En!==0&&hn!==null){c=hn;var w=Li;t:switch(En){case 1:En=0,Li=null,Vc(o,c,w,1);break;case 2:case 9:if(wC(w)){En=0,Li=null,uT(c);break}c=function(){En!==2&&En!==9||Pn!==o||(En=7),Fs(o)},w.then(c,c);break e;case 3:En=7;break e;case 4:En=5;break e;case 7:wC(w)?(En=0,Li=null,uT(c)):(En=0,Li=null,Vc(o,c,w,7));break;case 5:var M=null;switch(hn.tag){case 26:M=hn.memoizedState;case 5:case 27:var z=hn;if(!M||qT(M)){En=0,Li=null;var X=z.sibling;if(X!==null)hn=X;else{var Ne=z.return;Ne!==null?(hn=Ne,wp(Ne)):hn=null}break t}}En=0,Li=null,Vc(o,c,w,5);break;case 6:En=0,Li=null,Vc(o,c,w,6);break;case 8:Cv(),nr=6;break e;default:throw Error(r(462))}}K8();break}catch(Ie){aT(o,Ie)}while(!0);return pa=hl=null,K.H=g,K.A=x,jn=h,hn!==null?0:(Pn=null,gn=0,Vh(),nr)}function K8(){for(;hn!==null&&!Z();)cT(hn)}function cT(o){var c=PN(o.alternate,o,Sa);o.memoizedProps=o.pendingProps,c===null?wp(o):hn=c}function uT(o){var c=o,h=c.alternate;switch(c.tag){case 15:case 0:c=ON(h,c,c.pendingProps,c.type,void 0,gn);break;case 11:c=ON(h,c,c.pendingProps,c.type.render,c.ref,gn);break;case 5:F0(c);default:IN(h,c),c=hn=dC(c,Sa),c=PN(h,c,Sa)}o.memoizedProps=o.pendingProps,c===null?wp(o):hn=c}function Vc(o,c,h,g){pa=hl=null,F0(c),Rc=null,gd=0;var x=c.return;try{if(L8(o,x,c,h,gn)){nr=1,fp(o,Wi(h,o.current)),hn=null;return}}catch(w){if(x!==null)throw hn=x,w;nr=1,fp(o,Wi(h,o.current)),hn=null;return}c.flags&32768?(Cn||g===1?o=!0:zc||(gn&536870912)!==0?o=!1:(io=o=!0,(g===2||g===9||g===3||g===6)&&(g=Ji.current,g!==null&&g.tag===13&&(g.flags|=16384))),dT(c,o)):wp(c)}function wp(o){var c=o;do{if((c.flags&32768)!==0){dT(c,io);return}o=c.return;var h=z8(c.alternate,c,Sa);if(h!==null){hn=h;return}if(c=c.sibling,c!==null){hn=c;return}hn=c=o}while(c!==null);nr===0&&(nr=5)}function dT(o,c){do{var h=I8(o.alternate,o);if(h!==null){h.flags&=32767,hn=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(o=o.sibling,o!==null)){hn=o;return}hn=o=h}while(o!==null);nr=6,hn=null}function fT(o,c,h,g,x,w,M,z,X){o.cancelPendingCommit=null;do Sp();while(Br!==0);if((jn&6)!==0)throw Error(r(327));if(c!==null){if(c===o.current)throw Error(r(177));if(w=c.lanes|c.childLanes,w|=m0,wt(o,h,w,M,z,X),o===Pn&&(hn=Pn=null,gn=0),Bc=c,oo=o,Fc=h,bv=w,wv=x,nT=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,X8(W,function(){return yT(),null})):(o.callbackNode=null,o.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=K.T,K.T=null,x=re.p,re.p=2,M=jn,jn|=4;try{B8(o,c,h)}finally{jn=M,re.p=x,K.T=g}}Br=1,hT(),pT(),mT()}}function hT(){if(Br===1){Br=0;var o=oo,c=Bc,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=K.T,K.T=null;var g=re.p;re.p=2;var x=jn;jn|=4;try{GN(c,o);var w=zv,M=tC(o.containerInfo),z=w.focusedElem,X=w.selectionRange;if(M!==z&&z&&z.ownerDocument&&eC(z.ownerDocument.documentElement,z)){if(X!==null&&u0(z)){var Ne=X.start,Ie=X.end;if(Ie===void 0&&(Ie=Ne),"selectionStart"in z)z.selectionStart=Ne,z.selectionEnd=Math.min(Ie,z.value.length);else{var Ve=z.ownerDocument||document,je=Ve&&Ve.defaultView||window;if(je.getSelection){var Ae=je.getSelection(),Yt=z.textContent.length,$t=Math.min(X.start,Yt),Mn=X.end===void 0?$t:Math.min(X.end,Yt);!Ae.extend&&$t>Mn&&(M=Mn,Mn=$t,$t=M);var ve=ZS(z,$t),se=ZS(z,Mn);if(ve&&se&&(Ae.rangeCount!==1||Ae.anchorNode!==ve.node||Ae.anchorOffset!==ve.offset||Ae.focusNode!==se.node||Ae.focusOffset!==se.offset)){var we=Ve.createRange();we.setStart(ve.node,ve.offset),Ae.removeAllRanges(),$t>Mn?(Ae.addRange(we),Ae.extend(se.node,se.offset)):(we.setEnd(se.node,se.offset),Ae.addRange(we))}}}}for(Ve=[],Ae=z;Ae=Ae.parentNode;)Ae.nodeType===1&&Ve.push({element:Ae,left:Ae.scrollLeft,top:Ae.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<Ve.length;z++){var Fe=Ve[z];Fe.element.scrollLeft=Fe.left,Fe.element.scrollTop=Fe.top}}_p=!!Pv,zv=Pv=null}finally{jn=x,re.p=g,K.T=h}}o.current=c,Br=2}}function pT(){if(Br===2){Br=0;var o=oo,c=Bc,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=K.T,K.T=null;var g=re.p;re.p=2;var x=jn;jn|=4;try{qN(o,c.alternate,c)}finally{jn=x,re.p=g,K.T=h}}Br=3}}function mT(){if(Br===4||Br===3){Br=0,$e();var o=oo,c=Bc,h=Fc,g=nT;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Br=5:(Br=0,Bc=oo=null,gT(o,o.pendingLanes));var x=o.pendingLanes;if(x===0&&(ao=null),Tn(h),c=c.stateNode,be&&typeof be.onCommitFiberRoot=="function")try{be.onCommitFiberRoot(U,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=K.T,x=re.p,re.p=2,K.T=null;try{for(var w=o.onRecoverableError,M=0;M<g.length;M++){var z=g[M];w(z.value,{componentStack:z.stack})}}finally{K.T=c,re.p=x}}(Fc&3)!==0&&Sp(),Fs(o),x=o.pendingLanes,(h&4194090)!==0&&(x&42)!==0?o===Sv?Td++:(Td=0,Sv=o):Td=0,jd(0)}}function gT(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,sd(c)))}function Sp(o){return hT(),pT(),mT(),yT()}function yT(){if(Br!==5)return!1;var o=oo,c=bv;bv=0;var h=Tn(Fc),g=K.T,x=re.p;try{re.p=32>h?32:h,K.T=null,h=wv,wv=null;var w=oo,M=Fc;if(Br=0,Bc=oo=null,Fc=0,(jn&6)!==0)throw Error(r(331));var z=jn;if(jn|=4,eT(w.current),QN(w,w.current,M,h),jn=z,jd(0,!1),be&&typeof be.onPostCommitFiberRoot=="function")try{be.onPostCommitFiberRoot(U,w)}catch{}return!0}finally{re.p=x,K.T=g,gT(o,c)}}function vT(o,c,h){c=Wi(h,c),c=ev(o.stateNode,c,2),o=Qa(o,c,2),o!==null&&(rt(o,2),Fs(o))}function _n(o,c,h){if(o.tag===3)vT(o,o,h);else for(;c!==null;){if(c.tag===3){vT(c,o,h);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ao===null||!ao.has(g))){o=Wi(h,o),h=SN(2),g=Qa(c,h,2),g!==null&&(CN(h,g,c,o),rt(g,2),Fs(g));break}}c=c.return}}function jv(o,c,h){var g=o.pingCache;if(g===null){g=o.pingCache=new V8;var x=new Set;g.set(c,x)}else x=g.get(c),x===void 0&&(x=new Set,g.set(c,x));x.has(h)||(gv=!0,x.add(h),o=Y8.bind(null,o,c,h),c.then(o,o))}function Y8(o,c,h){var g=o.pingCache;g!==null&&g.delete(c),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,Pn===o&&(gn&h)===h&&(nr===4||nr===3&&(gn&62914560)===gn&&300>Ue()-xv?(jn&2)===0&&$c(o,0):yv|=h,Ic===gn&&(Ic=0)),Fs(o)}function xT(o,c){c===0&&(c=tt()),o=Cc(o,c),o!==null&&(rt(o,c),Fs(o))}function W8(o){var c=o.memoizedState,h=0;c!==null&&(h=c.retryLane),xT(o,h)}function G8(o,c){var h=0;switch(o.tag){case 13:var g=o.stateNode,x=o.memoizedState;x!==null&&(h=x.retryLane);break;case 19:g=o.stateNode;break;case 22:g=o.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(c),xT(o,h)}function X8(o,c){return _t(o,c)}var Cp=null,Uc=null,Ev=!1,Np=!1,Av=!1,bl=0;function Fs(o){o!==Uc&&o.next===null&&(Uc===null?Cp=Uc=o:Uc=Uc.next=o),Np=!0,Ev||(Ev=!0,J8())}function jd(o,c){if(!Av&&Np){Av=!0;do for(var h=!1,g=Cp;g!==null;){if(o!==0){var x=g.pendingLanes;if(x===0)var w=0;else{var M=g.suspendedLanes,z=g.pingedLanes;w=(1<<31-ht(42|o)+1)-1,w&=x&~(M&~z),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(h=!0,CT(g,w))}else w=gn,w=ft(g,g===Pn?w:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(w&3)===0||de(g,w)||(h=!0,CT(g,w));g=g.next}while(h);Av=!1}}function Q8(){bT()}function bT(){Np=Ev=!1;var o=0;bl!==0&&(aL()&&(o=bl),bl=0);for(var c=Ue(),h=null,g=Cp;g!==null;){var x=g.next,w=wT(g,c);w===0?(g.next=null,h===null?Cp=x:h.next=x,x===null&&(Uc=h)):(h=g,(o!==0||(w&3)!==0)&&(Np=!0)),g=x}jd(o)}function wT(o,c){for(var h=o.suspendedLanes,g=o.pingedLanes,x=o.expirationTimes,w=o.pendingLanes&-62914561;0<w;){var M=31-ht(w),z=1<<M,X=x[M];X===-1?((z&h)===0||(z&g)!==0)&&(x[M]=lt(z,c)):X<=c&&(o.expiredLanes|=z),w&=~z}if(c=Pn,h=gn,h=ft(o,o===c?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g=o.callbackNode,h===0||o===c&&(En===2||En===9)||o.cancelPendingCommit!==null)return g!==null&&g!==null&&st(g),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||de(o,h)){if(c=h&-h,c===o.callbackPriority)return c;switch(g!==null&&st(g),Tn(h)){case 2:case 8:h=_;break;case 32:h=W;break;case 268435456:h=ce;break;default:h=W}return g=ST.bind(null,o),h=_t(h,g),o.callbackPriority=c,o.callbackNode=h,c}return g!==null&&g!==null&&st(g),o.callbackPriority=2,o.callbackNode=null,2}function ST(o,c){if(Br!==0&&Br!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(Sp()&&o.callbackNode!==h)return null;var g=gn;return g=ft(o,o===Pn?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g===0?null:(iT(o,g,c),wT(o,Ue()),o.callbackNode!=null&&o.callbackNode===h?ST.bind(null,o):null)}function CT(o,c){if(Sp())return null;iT(o,c,!0)}function J8(){lL(function(){(jn&6)!==0?_t(Nt,Q8):bT()})}function kv(){return bl===0&&(bl=Ot()),bl}function NT(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Uu(""+o)}function TT(o,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,o.id&&h.setAttribute("form",o.id),c.parentNode.insertBefore(h,c),o=new FormData(o),h.parentNode.removeChild(h),o}function Z8(o,c,h,g,x){if(c==="submit"&&h&&h.stateNode===x){var w=NT((x[Ge]||null).action),M=g.submitter;M&&(c=(c=M[Ge]||null)?NT(c.formAction):M.getAttribute("formAction"),c!==null&&(w=c,M=null));var z=new Bh("action","action",null,g,x);o.push({event:z,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(bl!==0){var X=M?TT(x,M):new FormData(x);G0(h,{pending:!0,data:X,method:x.method,action:w},null,X)}}else typeof w=="function"&&(z.preventDefault(),X=M?TT(x,M):new FormData(x),G0(h,{pending:!0,data:X,method:x.method,action:w},w,X))},currentTarget:x}]})}}for(var Ov=0;Ov<p0.length;Ov++){var Mv=p0[Ov],eL=Mv.toLowerCase(),tL=Mv[0].toUpperCase()+Mv.slice(1);ys(eL,"on"+tL)}ys(iC,"onAnimationEnd"),ys(sC,"onAnimationIteration"),ys(aC,"onAnimationStart"),ys("dblclick","onDoubleClick"),ys("focusin","onFocus"),ys("focusout","onBlur"),ys(v8,"onTransitionRun"),ys(x8,"onTransitionStart"),ys(b8,"onTransitionCancel"),ys(oC,"onTransitionEnd"),Sn("onMouseEnter",["mouseout","mouseover"]),Sn("onMouseLeave",["mouseout","mouseover"]),Sn("onPointerEnter",["pointerout","pointerover"]),Sn("onPointerLeave",["pointerout","pointerover"]),An("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),An("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),An("onBeforeInput",["compositionend","keypress","textInput","paste"]),An("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ed="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ed));function jT(o,c){c=(c&4)!==0;for(var h=0;h<o.length;h++){var g=o[h],x=g.event;g=g.listeners;e:{var w=void 0;if(c)for(var M=g.length-1;0<=M;M--){var z=g[M],X=z.instance,Ne=z.currentTarget;if(z=z.listener,X!==w&&x.isPropagationStopped())break e;w=z,x.currentTarget=Ne;try{w(x)}catch(Ie){dp(Ie)}x.currentTarget=null,w=X}else for(M=0;M<g.length;M++){if(z=g[M],X=z.instance,Ne=z.currentTarget,z=z.listener,X!==w&&x.isPropagationStopped())break e;w=z,x.currentTarget=Ne;try{w(x)}catch(Ie){dp(Ie)}x.currentTarget=null,w=X}}}}function pn(o,c){var h=c[Ct];h===void 0&&(h=c[Ct]=new Set);var g=o+"__bubble";h.has(g)||(ET(c,o,2,!1),h.add(g))}function Dv(o,c,h){var g=0;c&&(g|=4),ET(h,o,g,c)}var Tp="_reactListening"+Math.random().toString(36).slice(2);function Rv(o){if(!o[Tp]){o[Tp]=!0,zt.forEach(function(h){h!=="selectionchange"&&(nL.has(h)||Dv(h,!1,o),Dv(h,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Tp]||(c[Tp]=!0,Dv("selectionchange",!1,c))}}function ET(o,c,h,g){switch(QT(c)){case 2:var x=kL;break;case 8:x=OL;break;default:x=Yv}h=x.bind(null,c,h,o),x=void 0,!t0||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(x=!0),g?x!==void 0?o.addEventListener(c,h,{capture:!0,passive:x}):o.addEventListener(c,h,!0):x!==void 0?o.addEventListener(c,h,{passive:x}):o.addEventListener(c,h,!1)}function _v(o,c,h,g,x){var w=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var M=g.tag;if(M===3||M===4){var z=g.stateNode.containerInfo;if(z===x)break;if(M===4)for(M=g.return;M!==null;){var X=M.tag;if((X===3||X===4)&&M.stateNode.containerInfo===x)return;M=M.return}for(;z!==null;){if(M=Me(z),M===null)return;if(X=M.tag,X===5||X===6||X===26||X===27){g=w=M;continue e}z=z.parentNode}}g=g.return}_S(function(){var Ne=w,Ie=qu(h),Ve=[];e:{var je=lC.get(o);if(je!==void 0){var Ae=Bh,Yt=o;switch(o){case"keypress":if(zh(h)===0)break e;case"keydown":case"keyup":Ae=X_;break;case"focusin":Yt="focus",Ae=s0;break;case"focusout":Yt="blur",Ae=s0;break;case"beforeblur":case"afterblur":Ae=s0;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=zS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=I_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=Z_;break;case iC:case sC:case aC:Ae=$_;break;case oC:Ae=t8;break;case"scroll":case"scrollend":Ae=P_;break;case"wheel":Ae=r8;break;case"copy":case"cut":case"paste":Ae=U_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=BS;break;case"toggle":case"beforetoggle":Ae=s8}var $t=(c&4)!==0,Mn=!$t&&(o==="scroll"||o==="scrollend"),ve=$t?je!==null?je+"Capture":null:je;$t=[];for(var se=Ne,we;se!==null;){var Fe=se;if(we=Fe.stateNode,Fe=Fe.tag,Fe!==5&&Fe!==26&&Fe!==27||we===null||ve===null||(Fe=Ku(se,ve),Fe!=null&&$t.push(Ad(se,Fe,we))),Mn)break;se=se.return}0<$t.length&&(je=new Ae(je,Yt,null,h,Ie),Ve.push({event:je,listeners:$t}))}}if((c&7)===0){e:{if(je=o==="mouseover"||o==="pointerover",Ae=o==="mouseout"||o==="pointerout",je&&h!==Hu&&(Yt=h.relatedTarget||h.fromElement)&&(Me(Yt)||Yt[gt]))break e;if((Ae||je)&&(je=Ie.window===Ie?Ie:(je=Ie.ownerDocument)?je.defaultView||je.parentWindow:window,Ae?(Yt=h.relatedTarget||h.toElement,Ae=Ne,Yt=Yt?Me(Yt):null,Yt!==null&&(Mn=s(Yt),$t=Yt.tag,Yt!==Mn||$t!==5&&$t!==27&&$t!==6)&&(Yt=null)):(Ae=null,Yt=Ne),Ae!==Yt)){if($t=zS,Fe="onMouseLeave",ve="onMouseEnter",se="mouse",(o==="pointerout"||o==="pointerover")&&($t=BS,Fe="onPointerLeave",ve="onPointerEnter",se="pointer"),Mn=Ae==null?je:vt(Ae),we=Yt==null?je:vt(Yt),je=new $t(Fe,se+"leave",Ae,h,Ie),je.target=Mn,je.relatedTarget=we,Fe=null,Me(Ie)===Ne&&($t=new $t(ve,se+"enter",Yt,h,Ie),$t.target=we,$t.relatedTarget=Mn,Fe=$t),Mn=Fe,Ae&&Yt)t:{for($t=Ae,ve=Yt,se=0,we=$t;we;we=Hc(we))se++;for(we=0,Fe=ve;Fe;Fe=Hc(Fe))we++;for(;0<se-we;)$t=Hc($t),se--;for(;0<we-se;)ve=Hc(ve),we--;for(;se--;){if($t===ve||ve!==null&&$t===ve.alternate)break t;$t=Hc($t),ve=Hc(ve)}$t=null}else $t=null;Ae!==null&&AT(Ve,je,Ae,$t,!1),Yt!==null&&Mn!==null&&AT(Ve,Mn,Yt,$t,!0)}}e:{if(je=Ne?vt(Ne):window,Ae=je.nodeName&&je.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&je.type==="file")var At=YS;else if(qS(je))if(WS)At=m8;else{At=h8;var dn=f8}else Ae=je.nodeName,!Ae||Ae.toLowerCase()!=="input"||je.type!=="checkbox"&&je.type!=="radio"?Ne&&il(Ne.elementType)&&(At=YS):At=p8;if(At&&(At=At(o,Ne))){KS(Ve,At,h,Ie);break e}dn&&dn(o,je,Ne),o==="focusout"&&Ne&&je.type==="number"&&Ne.memoizedProps.value!=null&&Et(je,"number",je.value)}switch(dn=Ne?vt(Ne):window,o){case"focusin":(qS(dn)||dn.contentEditable==="true")&&(bc=dn,d0=Ne,ed=null);break;case"focusout":ed=d0=bc=null;break;case"mousedown":f0=!0;break;case"contextmenu":case"mouseup":case"dragend":f0=!1,nC(Ve,h,Ie);break;case"selectionchange":if(y8)break;case"keydown":case"keyup":nC(Ve,h,Ie)}var Pt;if(o0)e:{switch(o){case"compositionstart":var Vt="onCompositionStart";break e;case"compositionend":Vt="onCompositionEnd";break e;case"compositionupdate":Vt="onCompositionUpdate";break e}Vt=void 0}else xc?US(o,h)&&(Vt="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(Vt="onCompositionStart");Vt&&(FS&&h.locale!=="ko"&&(xc||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&xc&&(Pt=LS()):(Ya=Ie,n0="value"in Ya?Ya.value:Ya.textContent,xc=!0)),dn=jp(Ne,Vt),0<dn.length&&(Vt=new IS(Vt,o,null,h,Ie),Ve.push({event:Vt,listeners:dn}),Pt?Vt.data=Pt:(Pt=HS(h),Pt!==null&&(Vt.data=Pt)))),(Pt=o8?l8(o,h):c8(o,h))&&(Vt=jp(Ne,"onBeforeInput"),0<Vt.length&&(dn=new IS("onBeforeInput","beforeinput",null,h,Ie),Ve.push({event:dn,listeners:Vt}),dn.data=Pt)),Z8(Ve,o,Ne,h,Ie)}jT(Ve,c)})}function Ad(o,c,h){return{instance:o,listener:c,currentTarget:h}}function jp(o,c){for(var h=c+"Capture",g=[];o!==null;){var x=o,w=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||w===null||(x=Ku(o,h),x!=null&&g.unshift(Ad(o,x,w)),x=Ku(o,c),x!=null&&g.push(Ad(o,x,w))),o.tag===3)return g;o=o.return}return[]}function Hc(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function AT(o,c,h,g,x){for(var w=c._reactName,M=[];h!==null&&h!==g;){var z=h,X=z.alternate,Ne=z.stateNode;if(z=z.tag,X!==null&&X===g)break;z!==5&&z!==26&&z!==27||Ne===null||(X=Ne,x?(Ne=Ku(h,w),Ne!=null&&M.unshift(Ad(h,Ne,X))):x||(Ne=Ku(h,w),Ne!=null&&M.push(Ad(h,Ne,X)))),h=h.return}M.length!==0&&o.push({event:c,listeners:M})}var rL=/\r\n?/g,iL=/\u0000|\uFFFD/g;function kT(o){return(typeof o=="string"?o:""+o).replace(rL,`
`).replace(iL,"")}function OT(o,c){return c=kT(c),kT(o)===c}function Ep(){}function On(o,c,h,g,x,w){switch(h){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||Rn(o,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&Rn(o,""+g);break;case"className":ie(o,"class",g);break;case"tabIndex":ie(o,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":ie(o,h,g);break;case"style":Ka(o,g,w);break;case"data":if(c!=="object"){ie(o,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||h!=="href")){o.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(h);break}g=Uu(""+g),o.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(h==="formAction"?(c!=="input"&&On(o,c,"name",x.name,x,null),On(o,c,"formEncType",x.formEncType,x,null),On(o,c,"formMethod",x.formMethod,x,null),On(o,c,"formTarget",x.formTarget,x,null)):(On(o,c,"encType",x.encType,x,null),On(o,c,"method",x.method,x,null),On(o,c,"target",x.target,x,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(h);break}g=Uu(""+g),o.setAttribute(h,g);break;case"onClick":g!=null&&(o.onclick=Ep);break;case"onScroll":g!=null&&pn("scroll",o);break;case"onScrollEnd":g!=null&&pn("scrollend",o);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"multiple":o.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":o.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){o.removeAttribute("xlink:href");break}h=Uu(""+g),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,""+g):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":g===!0?o.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,g):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?o.setAttribute(h,g):o.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?o.removeAttribute(h):o.setAttribute(h,g);break;case"popover":pn("beforetoggle",o),pn("toggle",o),V(o,"popover",g);break;case"xlinkActuate":Je(o,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Je(o,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Je(o,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Je(o,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Je(o,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Je(o,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Je(o,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Je(o,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Je(o,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":V(o,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Zy.get(h)||h,V(o,h,g))}}function Lv(o,c,h,g,x,w){switch(h){case"style":Ka(o,g,w);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"children":typeof g=="string"?Rn(o,g):(typeof g=="number"||typeof g=="bigint")&&Rn(o,""+g);break;case"onScroll":g!=null&&pn("scroll",o);break;case"onScrollEnd":g!=null&&pn("scrollend",o);break;case"onClick":g!=null&&(o.onclick=Ep);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xn.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(x=h.endsWith("Capture"),c=h.slice(2,x?h.length-7:void 0),w=o[Ge]||null,w=w!=null?w[h]:null,typeof w=="function"&&o.removeEventListener(c,w,x),typeof g=="function")){typeof w!="function"&&w!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(c,g,x);break e}h in o?o[h]=g:g===!0?o.setAttribute(h,""):V(o,h,g)}}}function Fr(o,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pn("error",o),pn("load",o);var g=!1,x=!1,w;for(w in h)if(h.hasOwnProperty(w)){var M=h[w];if(M!=null)switch(w){case"src":g=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:On(o,c,w,M,h,null)}}x&&On(o,c,"srcSet",h.srcSet,h,null),g&&On(o,c,"src",h.src,h,null);return;case"input":pn("invalid",o);var z=w=M=x=null,X=null,Ne=null;for(g in h)if(h.hasOwnProperty(g)){var Ie=h[g];if(Ie!=null)switch(g){case"name":x=Ie;break;case"type":M=Ie;break;case"checked":X=Ie;break;case"defaultChecked":Ne=Ie;break;case"value":w=Ie;break;case"defaultValue":z=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(r(137,c));break;default:On(o,c,g,Ie,h,null)}}at(o,w,z,X,Ne,M,x,!1),le(o);return;case"select":pn("invalid",o),g=M=w=null;for(x in h)if(h.hasOwnProperty(x)&&(z=h[x],z!=null))switch(x){case"value":w=z;break;case"defaultValue":M=z;break;case"multiple":g=z;default:On(o,c,x,z,h,null)}c=w,h=M,o.multiple=!!g,c!=null?Xt(o,!!g,c,!1):h!=null&&Xt(o,!!g,h,!0);return;case"textarea":pn("invalid",o),w=x=g=null;for(M in h)if(h.hasOwnProperty(M)&&(z=h[M],z!=null))switch(M){case"value":g=z;break;case"defaultValue":x=z;break;case"children":w=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(91));break;default:On(o,c,M,z,h,null)}xn(o,g,x,w),le(o);return;case"option":for(X in h)if(h.hasOwnProperty(X)&&(g=h[X],g!=null))switch(X){case"selected":o.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:On(o,c,X,g,h,null)}return;case"dialog":pn("beforetoggle",o),pn("toggle",o),pn("cancel",o),pn("close",o);break;case"iframe":case"object":pn("load",o);break;case"video":case"audio":for(g=0;g<Ed.length;g++)pn(Ed[g],o);break;case"image":pn("error",o),pn("load",o);break;case"details":pn("toggle",o);break;case"embed":case"source":case"link":pn("error",o),pn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ne in h)if(h.hasOwnProperty(Ne)&&(g=h[Ne],g!=null))switch(Ne){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:On(o,c,Ne,g,h,null)}return;default:if(il(c)){for(Ie in h)h.hasOwnProperty(Ie)&&(g=h[Ie],g!==void 0&&Lv(o,c,Ie,g,h,void 0));return}}for(z in h)h.hasOwnProperty(z)&&(g=h[z],g!=null&&On(o,c,z,g,h,null))}function sL(o,c,h,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,w=null,M=null,z=null,X=null,Ne=null,Ie=null;for(Ae in h){var Ve=h[Ae];if(h.hasOwnProperty(Ae)&&Ve!=null)switch(Ae){case"checked":break;case"value":break;case"defaultValue":X=Ve;default:g.hasOwnProperty(Ae)||On(o,c,Ae,null,g,Ve)}}for(var je in g){var Ae=g[je];if(Ve=h[je],g.hasOwnProperty(je)&&(Ae!=null||Ve!=null))switch(je){case"type":w=Ae;break;case"name":x=Ae;break;case"checked":Ne=Ae;break;case"defaultChecked":Ie=Ae;break;case"value":M=Ae;break;case"defaultValue":z=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(r(137,c));break;default:Ae!==Ve&&On(o,c,je,Ae,g,Ve)}}Ze(o,M,z,X,Ne,Ie,w,x);return;case"select":Ae=M=z=je=null;for(w in h)if(X=h[w],h.hasOwnProperty(w)&&X!=null)switch(w){case"value":break;case"multiple":Ae=X;default:g.hasOwnProperty(w)||On(o,c,w,null,g,X)}for(x in g)if(w=g[x],X=h[x],g.hasOwnProperty(x)&&(w!=null||X!=null))switch(x){case"value":je=w;break;case"defaultValue":z=w;break;case"multiple":M=w;default:w!==X&&On(o,c,x,w,g,X)}c=z,h=M,g=Ae,je!=null?Xt(o,!!h,je,!1):!!g!=!!h&&(c!=null?Xt(o,!!h,c,!0):Xt(o,!!h,h?[]:"",!1));return;case"textarea":Ae=je=null;for(z in h)if(x=h[z],h.hasOwnProperty(z)&&x!=null&&!g.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:On(o,c,z,null,g,x)}for(M in g)if(x=g[M],w=h[M],g.hasOwnProperty(M)&&(x!=null||w!=null))switch(M){case"value":je=x;break;case"defaultValue":Ae=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==w&&On(o,c,M,x,g,w)}vn(o,je,Ae);return;case"option":for(var Yt in h)if(je=h[Yt],h.hasOwnProperty(Yt)&&je!=null&&!g.hasOwnProperty(Yt))switch(Yt){case"selected":o.selected=!1;break;default:On(o,c,Yt,null,g,je)}for(X in g)if(je=g[X],Ae=h[X],g.hasOwnProperty(X)&&je!==Ae&&(je!=null||Ae!=null))switch(X){case"selected":o.selected=je&&typeof je!="function"&&typeof je!="symbol";break;default:On(o,c,X,je,g,Ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $t in h)je=h[$t],h.hasOwnProperty($t)&&je!=null&&!g.hasOwnProperty($t)&&On(o,c,$t,null,g,je);for(Ne in g)if(je=g[Ne],Ae=h[Ne],g.hasOwnProperty(Ne)&&je!==Ae&&(je!=null||Ae!=null))switch(Ne){case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(r(137,c));break;default:On(o,c,Ne,je,g,Ae)}return;default:if(il(c)){for(var Mn in h)je=h[Mn],h.hasOwnProperty(Mn)&&je!==void 0&&!g.hasOwnProperty(Mn)&&Lv(o,c,Mn,void 0,g,je);for(Ie in g)je=g[Ie],Ae=h[Ie],!g.hasOwnProperty(Ie)||je===Ae||je===void 0&&Ae===void 0||Lv(o,c,Ie,je,g,Ae);return}}for(var ve in h)je=h[ve],h.hasOwnProperty(ve)&&je!=null&&!g.hasOwnProperty(ve)&&On(o,c,ve,null,g,je);for(Ve in g)je=g[Ve],Ae=h[Ve],!g.hasOwnProperty(Ve)||je===Ae||je==null&&Ae==null||On(o,c,Ve,je,g,Ae)}var Pv=null,zv=null;function Ap(o){return o.nodeType===9?o:o.ownerDocument}function MT(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function DT(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function Iv(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Bv=null;function aL(){var o=window.event;return o&&o.type==="popstate"?o===Bv?!1:(Bv=o,!0):(Bv=null,!1)}var RT=typeof setTimeout=="function"?setTimeout:void 0,oL=typeof clearTimeout=="function"?clearTimeout:void 0,_T=typeof Promise=="function"?Promise:void 0,lL=typeof queueMicrotask=="function"?queueMicrotask:typeof _T<"u"?function(o){return _T.resolve(null).then(o).catch(cL)}:RT;function cL(o){setTimeout(function(){throw o})}function co(o){return o==="head"}function LT(o,c){var h=c,g=0,x=0;do{var w=h.nextSibling;if(o.removeChild(h),w&&w.nodeType===8)if(h=w.data,h==="/$"){if(0<g&&8>g){h=g;var M=o.ownerDocument;if(h&1&&kd(M.documentElement),h&2&&kd(M.body),h&4)for(h=M.head,kd(h),M=h.firstChild;M;){var z=M.nextSibling,X=M.nodeName;M[Mt]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&M.rel.toLowerCase()==="stylesheet"||h.removeChild(M),M=z}}if(x===0){o.removeChild(w),zd(c);return}x--}else h==="$"||h==="$?"||h==="$!"?x++:g=h.charCodeAt(0)-48;else g=0;h=w}while(h);zd(c)}function Fv(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Fv(h),Y(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function uL(o,c,h,g){for(;o.nodeType===1;){var x=h;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(g){if(!o[Mt])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(w=o.getAttribute("rel"),w==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(w!==x.rel||o.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||o.getAttribute("title")!==(x.title==null?null:x.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(w=o.getAttribute("src"),(w!==(x.src==null?null:x.src)||o.getAttribute("type")!==(x.type==null?null:x.type)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&w&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var w=x.name==null?null:""+x.name;if(x.type==="hidden"&&o.getAttribute("name")===w)return o}else return o;if(o=xs(o.nextSibling),o===null)break}return null}function dL(o,c,h){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=xs(o.nextSibling),o===null))return null;return o}function $v(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function fL(o,c){var h=o.ownerDocument;if(o.data!=="$?"||h.readyState==="complete")c();else{var g=function(){c(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),o._reactRetry=g}}function xs(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return o}var Vv=null;function PT(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return o;c--}else h==="/$"&&c++}o=o.previousSibling}return null}function zT(o,c,h){switch(c=Ap(h),o){case"html":if(o=c.documentElement,!o)throw Error(r(452));return o;case"head":if(o=c.head,!o)throw Error(r(453));return o;case"body":if(o=c.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function kd(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);Y(o)}var es=new Map,IT=new Set;function kp(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Ca=re.d;re.d={f:hL,r:pL,D:mL,C:gL,L:yL,m:vL,X:bL,S:xL,M:wL};function hL(){var o=Ca.f(),c=bp();return o||c}function pL(o){var c=Xe(o);c!==null&&c.tag===5&&c.type==="form"?iN(c):Ca.r(o)}var qc=typeof document>"u"?null:document;function BT(o,c,h){var g=qc;if(g&&typeof c=="string"&&c){var x=Ke(c);x='link[rel="'+o+'"][href="'+x+'"]',typeof h=="string"&&(x+='[crossorigin="'+h+'"]'),IT.has(x)||(IT.add(x),o={rel:o,crossOrigin:h,href:c},g.querySelector(x)===null&&(c=g.createElement("link"),Fr(c,"link",o),Dt(c),g.head.appendChild(c)))}}function mL(o){Ca.D(o),BT("dns-prefetch",o,null)}function gL(o,c){Ca.C(o,c),BT("preconnect",o,c)}function yL(o,c,h){Ca.L(o,c,h);var g=qc;if(g&&o&&c){var x='link[rel="preload"][as="'+Ke(c)+'"]';c==="image"&&h&&h.imageSrcSet?(x+='[imagesrcset="'+Ke(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(x+='[imagesizes="'+Ke(h.imageSizes)+'"]')):x+='[href="'+Ke(o)+'"]';var w=x;switch(c){case"style":w=Kc(o);break;case"script":w=Yc(o)}es.has(w)||(o=p({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:o,as:c},h),es.set(w,o),g.querySelector(x)!==null||c==="style"&&g.querySelector(Od(w))||c==="script"&&g.querySelector(Md(w))||(c=g.createElement("link"),Fr(c,"link",o),Dt(c),g.head.appendChild(c)))}}function vL(o,c){Ca.m(o,c);var h=qc;if(h&&o){var g=c&&typeof c.as=="string"?c.as:"script",x='link[rel="modulepreload"][as="'+Ke(g)+'"][href="'+Ke(o)+'"]',w=x;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Yc(o)}if(!es.has(w)&&(o=p({rel:"modulepreload",href:o},c),es.set(w,o),h.querySelector(x)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Md(w)))return}g=h.createElement("link"),Fr(g,"link",o),Dt(g),h.head.appendChild(g)}}}function xL(o,c,h){Ca.S(o,c,h);var g=qc;if(g&&o){var x=qt(g).hoistableStyles,w=Kc(o);c=c||"default";var M=x.get(w);if(!M){var z={loading:0,preload:null};if(M=g.querySelector(Od(w)))z.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":c},h),(h=es.get(w))&&Uv(o,h);var X=M=g.createElement("link");Dt(X),Fr(X,"link",o),X._p=new Promise(function(Ne,Ie){X.onload=Ne,X.onerror=Ie}),X.addEventListener("load",function(){z.loading|=1}),X.addEventListener("error",function(){z.loading|=2}),z.loading|=4,Op(M,c,g)}M={type:"stylesheet",instance:M,count:1,state:z},x.set(w,M)}}}function bL(o,c){Ca.X(o,c);var h=qc;if(h&&o){var g=qt(h).hoistableScripts,x=Yc(o),w=g.get(x);w||(w=h.querySelector(Md(x)),w||(o=p({src:o,async:!0},c),(c=es.get(x))&&Hv(o,c),w=h.createElement("script"),Dt(w),Fr(w,"link",o),h.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},g.set(x,w))}}function wL(o,c){Ca.M(o,c);var h=qc;if(h&&o){var g=qt(h).hoistableScripts,x=Yc(o),w=g.get(x);w||(w=h.querySelector(Md(x)),w||(o=p({src:o,async:!0,type:"module"},c),(c=es.get(x))&&Hv(o,c),w=h.createElement("script"),Dt(w),Fr(w,"link",o),h.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},g.set(x,w))}}function FT(o,c,h,g){var x=(x=he.current)?kp(x):null;if(!x)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=Kc(h.href),h=qt(x).hoistableStyles,g=h.get(c),g||(g={type:"style",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=Kc(h.href);var w=qt(x).hoistableStyles,M=w.get(o);if(M||(x=x.ownerDocument||x,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(o,M),(w=x.querySelector(Od(o)))&&!w._p&&(M.instance=w,M.state.loading=5),es.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},es.set(o,h),w||SL(x,o,h,M.state))),c&&g===null)throw Error(r(528,""));return M}if(c&&g!==null)throw Error(r(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Yc(h),h=qt(x).hoistableScripts,g=h.get(c),g||(g={type:"script",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Kc(o){return'href="'+Ke(o)+'"'}function Od(o){return'link[rel="stylesheet"]['+o+"]"}function $T(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function SL(o,c,h,g){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=o.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),Fr(c,"link",h),Dt(c),o.head.appendChild(c))}function Yc(o){return'[src="'+Ke(o)+'"]'}function Md(o){return"script[async]"+o}function VT(o,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var g=o.querySelector('style[data-href~="'+Ke(h.href)+'"]');if(g)return c.instance=g,Dt(g),g;var x=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(o.ownerDocument||o).createElement("style"),Dt(g),Fr(g,"style",x),Op(g,h.precedence,o),c.instance=g;case"stylesheet":x=Kc(h.href);var w=o.querySelector(Od(x));if(w)return c.state.loading|=4,c.instance=w,Dt(w),w;g=$T(h),(x=es.get(x))&&Uv(g,x),w=(o.ownerDocument||o).createElement("link"),Dt(w);var M=w;return M._p=new Promise(function(z,X){M.onload=z,M.onerror=X}),Fr(w,"link",g),c.state.loading|=4,Op(w,h.precedence,o),c.instance=w;case"script":return w=Yc(h.src),(x=o.querySelector(Md(w)))?(c.instance=x,Dt(x),x):(g=h,(x=es.get(w))&&(g=p({},h),Hv(g,x)),o=o.ownerDocument||o,x=o.createElement("script"),Dt(x),Fr(x,"link",g),o.head.appendChild(x),c.instance=x);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,Op(g,h.precedence,o));return c.instance}function Op(o,c,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=g.length?g[g.length-1]:null,w=x,M=0;M<g.length;M++){var z=g[M];if(z.dataset.precedence===c)w=z;else if(w!==x)break}w?w.parentNode.insertBefore(o,w.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(o,c.firstChild))}function Uv(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function Hv(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var Mp=null;function UT(o,c,h){if(Mp===null){var g=new Map,x=Mp=new Map;x.set(h,g)}else x=Mp,g=x.get(h),g||(g=new Map,x.set(h,g));if(g.has(o))return g;for(g.set(o,null),h=h.getElementsByTagName(o),x=0;x<h.length;x++){var w=h[x];if(!(w[Mt]||w[Pe]||o==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var M=w.getAttribute(c)||"";M=o+M;var z=g.get(M);z?z.push(w):g.set(M,[w])}}return g}function HT(o,c,h){o=o.ownerDocument||o,o.head.insertBefore(h,c==="title"?o.querySelector("head > title"):null)}function CL(o,c,h){if(h===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function qT(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Dd=null;function NL(){}function TL(o,c,h){if(Dd===null)throw Error(r(475));var g=Dd;if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var x=Kc(h.href),w=o.querySelector(Od(x));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(g.count++,g=Dp.bind(g),o.then(g,g)),c.state.loading|=4,c.instance=w,Dt(w);return}w=o.ownerDocument||o,h=$T(h),(x=es.get(x))&&Uv(h,x),w=w.createElement("link"),Dt(w);var M=w;M._p=new Promise(function(z,X){M.onload=z,M.onerror=X}),Fr(w,"link",h),c.instance=w}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(g.count++,c=Dp.bind(g),o.addEventListener("load",c),o.addEventListener("error",c))}}function jL(){if(Dd===null)throw Error(r(475));var o=Dd;return o.stylesheets&&o.count===0&&qv(o,o.stylesheets),0<o.count?function(c){var h=setTimeout(function(){if(o.stylesheets&&qv(o,o.stylesheets),o.unsuspend){var g=o.unsuspend;o.unsuspend=null,g()}},6e4);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(h)}}:null}function Dp(){if(this.count--,this.count===0){if(this.stylesheets)qv(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Rp=null;function qv(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Rp=new Map,c.forEach(EL,o),Rp=null,Dp.call(o))}function EL(o,c){if(!(c.state.loading&4)){var h=Rp.get(o);if(h)var g=h.get(null);else{h=new Map,Rp.set(o,h);for(var x=o.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<x.length;w++){var M=x[w];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(h.set(M.dataset.precedence,M),g=M)}g&&h.set(null,g)}x=c.instance,M=x.getAttribute("data-precedence"),w=h.get(M)||g,w===g&&h.set(null,x),h.set(M,x),this.count++,g=Dp.bind(this),x.addEventListener("load",g),x.addEventListener("error",g),w?w.parentNode.insertBefore(x,w.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(x,o.firstChild)),c.state.loading|=4}}var Rd={$$typeof:D,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function AL(o,c,h,g,x,w,M,z){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Te(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Te(0),this.hiddenUpdates=Te(null),this.identifierPrefix=g,this.onUncaughtError=x,this.onCaughtError=w,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function KT(o,c,h,g,x,w,M,z,X,Ne,Ie,Ve){return o=new AL(o,c,h,M,z,X,Ne,Ve),c=1,w===!0&&(c|=24),w=Di(3,null,null,c),o.current=w,w.stateNode=o,c=j0(),c.refCount++,o.pooledCache=c,c.refCount++,w.memoizedState={element:g,isDehydrated:h,cache:c},O0(w),o}function YT(o){return o?(o=Nc,o):Nc}function WT(o,c,h,g,x,w){x=YT(x),g.context===null?g.context=x:g.pendingContext=x,g=Xa(c),g.payload={element:h},w=w===void 0?null:w,w!==null&&(g.callback=w),h=Qa(o,g,c),h!==null&&(zi(h,o,c),cd(h,o,c))}function GT(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<c?h:c}}function Kv(o,c){GT(o,c),(o=o.alternate)&&GT(o,c)}function XT(o){if(o.tag===13){var c=Cc(o,67108864);c!==null&&zi(c,o,67108864),Kv(o,67108864)}}var _p=!0;function kL(o,c,h,g){var x=K.T;K.T=null;var w=re.p;try{re.p=2,Yv(o,c,h,g)}finally{re.p=w,K.T=x}}function OL(o,c,h,g){var x=K.T;K.T=null;var w=re.p;try{re.p=8,Yv(o,c,h,g)}finally{re.p=w,K.T=x}}function Yv(o,c,h,g){if(_p){var x=Wv(g);if(x===null)_v(o,c,g,Lp,h),JT(o,g);else if(DL(x,o,c,h,g))g.stopPropagation();else if(JT(o,g),c&4&&-1<ML.indexOf(o)){for(;x!==null;){var w=Xe(x);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var M=it(w.pendingLanes);if(M!==0){var z=w;for(z.pendingLanes|=2,z.entangledLanes|=2;M;){var X=1<<31-ht(M);z.entanglements[1]|=X,M&=~X}Fs(w),(jn&6)===0&&(vp=Ue()+500,jd(0))}}break;case 13:z=Cc(w,2),z!==null&&zi(z,w,2),bp(),Kv(w,2)}if(w=Wv(g),w===null&&_v(o,c,g,Lp,h),w===x)break;x=w}x!==null&&g.stopPropagation()}else _v(o,c,g,null,h)}}function Wv(o){return o=qu(o),Gv(o)}var Lp=null;function Gv(o){if(Lp=null,o=Me(o),o!==null){var c=s(o);if(c===null)o=null;else{var h=c.tag;if(h===13){if(o=a(c),o!==null)return o;o=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return Lp=o,null}function QT(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qe()){case Nt:return 2;case _:return 8;case W:case I:return 32;case ce:return 268435456;default:return 32}default:return 32}}var Xv=!1,uo=null,fo=null,ho=null,_d=new Map,Ld=new Map,po=[],ML="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function JT(o,c){switch(o){case"focusin":case"focusout":uo=null;break;case"dragenter":case"dragleave":fo=null;break;case"mouseover":case"mouseout":ho=null;break;case"pointerover":case"pointerout":_d.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ld.delete(c.pointerId)}}function Pd(o,c,h,g,x,w){return o===null||o.nativeEvent!==w?(o={blockedOn:c,domEventName:h,eventSystemFlags:g,nativeEvent:w,targetContainers:[x]},c!==null&&(c=Xe(c),c!==null&&XT(c)),o):(o.eventSystemFlags|=g,c=o.targetContainers,x!==null&&c.indexOf(x)===-1&&c.push(x),o)}function DL(o,c,h,g,x){switch(c){case"focusin":return uo=Pd(uo,o,c,h,g,x),!0;case"dragenter":return fo=Pd(fo,o,c,h,g,x),!0;case"mouseover":return ho=Pd(ho,o,c,h,g,x),!0;case"pointerover":var w=x.pointerId;return _d.set(w,Pd(_d.get(w)||null,o,c,h,g,x)),!0;case"gotpointercapture":return w=x.pointerId,Ld.set(w,Pd(Ld.get(w)||null,o,c,h,g,x)),!0}return!1}function ZT(o){var c=Me(o.target);if(c!==null){var h=s(c);if(h!==null){if(c=h.tag,c===13){if(c=a(h),c!==null){o.blockedOn=c,fe(o.priority,function(){if(h.tag===13){var g=Pi();g=Zt(g);var x=Cc(h,g);x!==null&&zi(x,h,g),Kv(h,g)}});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Pp(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var h=Wv(o.nativeEvent);if(h===null){h=o.nativeEvent;var g=new h.constructor(h.type,h);Hu=g,h.target.dispatchEvent(g),Hu=null}else return c=Xe(h),c!==null&&XT(c),o.blockedOn=h,!1;c.shift()}return!0}function ej(o,c,h){Pp(o)&&h.delete(c)}function RL(){Xv=!1,uo!==null&&Pp(uo)&&(uo=null),fo!==null&&Pp(fo)&&(fo=null),ho!==null&&Pp(ho)&&(ho=null),_d.forEach(ej),Ld.forEach(ej)}function zp(o,c){o.blockedOn===c&&(o.blockedOn=null,Xv||(Xv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,RL)))}var Ip=null;function tj(o){Ip!==o&&(Ip=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ip===o&&(Ip=null);for(var c=0;c<o.length;c+=3){var h=o[c],g=o[c+1],x=o[c+2];if(typeof g!="function"){if(Gv(g||h)===null)continue;break}var w=Xe(h);w!==null&&(o.splice(c,3),c-=3,G0(w,{pending:!0,data:x,method:h.method,action:g},g,x))}}))}function zd(o){function c(X){return zp(X,o)}uo!==null&&zp(uo,o),fo!==null&&zp(fo,o),ho!==null&&zp(ho,o),_d.forEach(c),Ld.forEach(c);for(var h=0;h<po.length;h++){var g=po[h];g.blockedOn===o&&(g.blockedOn=null)}for(;0<po.length&&(h=po[0],h.blockedOn===null);)ZT(h),h.blockedOn===null&&po.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var x=h[g],w=h[g+1],M=x[Ge]||null;if(typeof w=="function")M||tj(h);else if(M){var z=null;if(w&&w.hasAttribute("formAction")){if(x=w,M=w[Ge]||null)z=M.formAction;else if(Gv(x)!==null)continue}else z=M.action;typeof z=="function"?h[g+1]=z:(h.splice(g,3),g-=3),tj(h)}}}function Qv(o){this._internalRoot=o}Bp.prototype.render=Qv.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));var h=c.current,g=Pi();WT(h,g,o,c,null,null)},Bp.prototype.unmount=Qv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;WT(o.current,2,null,o,null,null),bp(),c[gt]=null}};function Bp(o){this._internalRoot=o}Bp.prototype.unstable_scheduleHydration=function(o){if(o){var c=Q();o={blockedOn:null,target:o,priority:c};for(var h=0;h<po.length&&c!==0&&c<po[h].priority;h++);po.splice(h,0,o),h===0&&ZT(o)}};var nj=e.version;if(nj!=="19.1.0")throw Error(r(527,nj,"19.1.0"));re.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=u(c),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var _L={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fp.isDisabled&&Fp.supportsFiber)try{U=Fp.inject(_L),be=Fp}catch{}}return Bd.createRoot=function(o,c){if(!i(o))throw Error(r(299));var h=!1,g="",x=vN,w=xN,M=bN,z=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(w=c.onCaughtError),c.onRecoverableError!==void 0&&(M=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(z=c.unstable_transitionCallbacks)),c=KT(o,1,!1,null,null,h,g,x,w,M,z,null),o[gt]=c.current,Rv(o),new Qv(c)},Bd.hydrateRoot=function(o,c,h){if(!i(o))throw Error(r(299));var g=!1,x="",w=vN,M=xN,z=bN,X=null,Ne=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(x=h.identifierPrefix),h.onUncaughtError!==void 0&&(w=h.onUncaughtError),h.onCaughtError!==void 0&&(M=h.onCaughtError),h.onRecoverableError!==void 0&&(z=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(X=h.unstable_transitionCallbacks),h.formState!==void 0&&(Ne=h.formState)),c=KT(o,1,!0,c,h??null,g,x,w,M,z,X,Ne),c.context=YT(null),h=c.current,g=Pi(),g=Zt(g),x=Xa(g),x.callback=null,Qa(h,x,g),h=g,c.current.lanes=h,rt(c,h),Fs(c),o[gt]=c.current,Rv(o),new Bp(c)},Bd.version="19.1.0",Bd}var fj;function HL(){if(fj)return ex.exports;fj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ex.exports=UL(),ex.exports}var qL=HL(),Fd={},hj;function KL(){if(hj)return Fd;hj=1,Object.defineProperty(Fd,"__esModule",{value:!0}),Fd.parse=a,Fd.serialize=f;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function a(y,v){const b=new s,S=y.length;if(S<2)return b;const C=v?.decode||p;let N=0;do{const O=y.indexOf("=",N);if(O===-1)break;const D=y.indexOf(";",N),R=D===-1?S:D;if(O>R){N=y.lastIndexOf(";",O-1)+1;continue}const E=l(y,N,O),k=u(y,O,E),P=y.slice(E,k);if(b[P]===void 0){let F=l(y,O+1,R),G=u(y,R,F);const ge=C(y.slice(F,G));b[P]=ge}N=R+1}while(N<S);return b}function l(y,v,b){do{const S=y.charCodeAt(v);if(S!==32&&S!==9)return v}while(++v<b);return b}function u(y,v,b){for(;v>b;){const S=y.charCodeAt(--v);if(S!==32&&S!==9)return v+1}return b}function f(y,v,b){const S=b?.encode||encodeURIComponent;if(!t.test(y))throw new TypeError(`argument name is invalid: ${y}`);const C=S(v);if(!e.test(C))throw new TypeError(`argument val is invalid: ${v}`);let N=y+"="+C;if(!b)return N;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);N+="; Max-Age="+b.maxAge}if(b.domain){if(!n.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);N+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);N+="; Path="+b.path}if(b.expires){if(!m(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);N+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(N+="; HttpOnly"),b.secure&&(N+="; Secure"),b.partitioned&&(N+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return N}function p(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function m(y){return i.call(y)==="[object Date]"}return Fd}KL();var Z3=t=>{throw TypeError(t)},YL=(t,e,n)=>e.has(t)||Z3("Cannot "+n),ix=(t,e,n)=>(YL(t,e,"read from private field"),n?n.call(t):e.get(t)),WL=(t,e,n)=>e.has(t)?Z3("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),pj="popstate";function GL(t={}){function e(r,i){let{pathname:s,search:a,hash:l}=r.location;return _f("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Bo(i)}return QL(e,n,null,t)}function fn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XL(){return Math.random().toString(36).substring(2,10)}function mj(t,e){return{usr:t.state,key:t.key,idx:e}}function _f(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Yo(e):e,state:n,key:e&&e.key||r||XL()}}function Bo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Yo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function QL(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l="POP",u=null,f=p();f==null&&(f=0,a.replaceState({...a.state,idx:f},""));function p(){return(a.state||{idx:null}).idx}function m(){l="POP";let C=p(),N=C==null?null:C-f;f=C,u&&u({action:l,location:S.location,delta:N})}function y(C,N){l="PUSH";let O=_f(S.location,C,N);f=p()+1;let D=mj(O,f),R=S.createHref(O);try{a.pushState(D,"",R)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(R)}s&&u&&u({action:l,location:S.location,delta:1})}function v(C,N){l="REPLACE";let O=_f(S.location,C,N);f=p();let D=mj(O,f),R=S.createHref(O);a.replaceState(D,"",R),s&&u&&u({action:l,location:S.location,delta:0})}function b(C){return eO(C)}let S={get action(){return l},get location(){return t(i,a)},listen(C){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(pj,m),u=C,()=>{i.removeEventListener(pj,m),u=null}},createHref(C){return e(i,C)},createURL:b,encodeLocation(C){let N=b(C);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:v,go(C){return a.go(C)}};return S}function eO(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),fn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Bo(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var ef,gj=class{constructor(t){if(WL(this,ef,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(ix(this,ef).has(t))return ix(this,ef).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){ix(this,ef).set(t,e)}};ef=new WeakMap;var JL=new Set(["lazy","caseSensitive","path","id","index","children"]);function ZL(t){return JL.has(t)}var e7=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function t7(t){return e7.has(t)}function n7(t){return t.index===!0}function Ym(t,e,n=[],r={}){return t.map((i,s)=>{let a=[...n,String(s)],l=typeof i.id=="string"?i.id:a.join("-");if(fn(i.index!==!0||!i.children,"Cannot specify children on an index route"),fn(!r[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),n7(i)){let u={...i,...e(i),id:l};return r[l]=u,u}else{let u={...i,...e(i),id:l,children:void 0};return r[l]=u,i.children&&(u.children=Ym(i.children,e,a,r)),u}})}function No(t,e,n="/"){return Cm(t,e,n,!1)}function Cm(t,e,n,r){let i=typeof e=="string"?Yo(e):e,s=ps(i.pathname||"/",n);if(s==null)return null;let a=tO(t);i7(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let f=m7(s);l=h7(a[u],f,r)}return l}function r7(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function tO(t,e=[],n=[],r=""){let i=(s,a,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(fn(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let f=Qs([r,u.relativePath]),p=n.concat(u);s.children&&s.children.length>0&&(fn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),tO(s.children,e,p,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:d7(f,s.index),routesMeta:p})};return t.forEach((s,a)=>{if(s.path===""||!s.path?.includes("?"))i(s,a);else for(let l of nO(s.path))i(s,a,l)}),e}function nO(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=nO(r.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function i7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:f7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var s7=/^:[\w-]+$/,a7=3,o7=2,l7=1,c7=10,u7=-2,yj=t=>t==="*";function d7(t,e){let n=t.split("/"),r=n.length;return n.some(yj)&&(r+=u7),e&&(r+=o7),n.filter(i=>!yj(i)).reduce((i,s)=>i+(s7.test(s)?a7:s===""?l7:c7),r)}function f7(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function h7(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",a=[];for(let l=0;l<r.length;++l){let u=r[l],f=l===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",m=Wm({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},p),y=u.route;if(!m&&f&&n&&!r[r.length-1].route.index&&(m=Wm({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:Qs([s,m.pathname]),pathnameBase:v7(Qs([s,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(s=Qs([s,m.pathnameBase]))}return a}function Wm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=p7(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:m},y)=>{if(p==="*"){let b=l[y]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const v=l[y];return m&&!v?f[p]=void 0:f[p]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:a,pattern:t}}function p7(t,e=!1,n=!0){hr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function m7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ps(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function g7(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Yo(t):t;return{pathname:n?n.startsWith("/")?n:y7(n,e):e,search:x7(r),hash:b7(i)}}function y7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function sx(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function dy(t){let e=rO(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function fy(t,e,n,r=!1){let i;typeof t=="string"?i=Yo(t):(i={...t},fn(!i.pathname||!i.pathname.includes("?"),sx("?","pathname","search",i)),fn(!i.pathname||!i.pathname.includes("#"),sx("#","pathname","hash",i)),fn(!i.search||!i.search.includes("#"),sx("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=n;else{let m=e.length-1;if(!r&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),m-=1;i.pathname=y.join("/")}l=m>=0?e[m]:"/"}let u=g7(i,l),f=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||p)&&(u.pathname+="/"),u}var Qs=t=>t.join("/").replace(/\/\/+/g,"/"),v7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),x7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,b7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Gm=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Lf(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var iO=["POST","PUT","PATCH","DELETE"],w7=new Set(iO),S7=["GET",...iO],C7=new Set(S7),N7=new Set([301,302,303,307,308]),T7=new Set([307,308]),ax={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},j7={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$d={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},vw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,E7=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),sO="remix-router-transitions",aO=Symbol("ResetLoaderData");function A7(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";fn(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||E7,s={},a=Ym(t.routes,i,void 0,s),l,u=t.basename||"/",f=t.dataStrategy||R7,p={unstable_middleware:!1,...t.future},m=null,y=new Set,v=null,b=null,S=null,C=t.hydrationData!=null,N=No(a,t.history.location,u),O=!1,D=null,R;if(N==null&&!t.patchRoutesOnNavigation){let Q=ls(404,{pathname:t.history.location.pathname}),{matches:fe,route:Ce}=kj(a);R=!0,N=fe,D={[Ce.id]:Q}}else if(N&&!t.hydrationData&&St(N,a,t.history.location.pathname).active&&(N=null),N)if(N.some(Q=>Q.route.lazy))R=!1;else if(!N.some(Q=>Q.route.loader))R=!0;else{let Q=t.hydrationData?t.hydrationData.loaderData:null,fe=t.hydrationData?t.hydrationData.errors:null;if(fe){let Ce=N.findIndex(Pe=>fe[Pe.route.id]!==void 0);R=N.slice(0,Ce+1).every(Pe=>!Eb(Pe.route,Q,fe))}else R=N.every(Ce=>!Eb(Ce.route,Q,fe))}else{R=!1,N=[];let Q=St(null,a,t.history.location.pathname);Q.active&&Q.matches&&(O=!0,N=Q.matches)}let E,k={historyAction:t.history.action,location:t.history.location,matches:N,initialized:R,navigation:ax,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||D,fetchers:new Map,blockers:new Map},P="POP",F=!1,G,ge=!1,oe=new Map,ne=null,ee=!1,Ee=!1,Oe=new Set,K=new Map,re=0,ue=-1,ze=new Map,q=new Set,ae=new Map,pe=new Map,xe=new Set,Re=new Map,_e,he=null;function Be(){if(m=t.history.listen(({action:Q,location:fe,delta:Ce})=>{if(_e){_e(),_e=void 0;return}hr(Re.size===0||Ce!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Pe=lt({currentLocation:k.location,nextLocation:fe,historyAction:Q});if(Pe&&Ce!=null){let Ge=new Promise(gt=>{_e=gt});t.history.go(Ce*-1),de(Pe,{state:"blocked",location:fe,proceed(){de(Pe,{state:"proceeding",proceed:void 0,reset:void 0,location:fe}),Ge.then(()=>t.history.go(Ce))},reset(){let gt=new Map(k.blockers);gt.set(Pe,$d),ut({blockers:gt})}});return}return st(Q,fe)}),n){H7(e,oe);let Q=()=>q7(e,oe);e.addEventListener("pagehide",Q),ne=()=>e.removeEventListener("pagehide",Q)}return k.initialized||st("POP",k.location,{initialHydration:!0}),E}function Le(){m&&m(),ne&&ne(),y.clear(),G&&G.abort(),k.fetchers.forEach((Q,fe)=>ht(fe)),k.blockers.forEach((Q,fe)=>ft(fe))}function ot(Q){return y.add(Q),()=>y.delete(Q)}function ut(Q,fe={}){k={...k,...Q};let Ce=[],Pe=[];k.fetchers.forEach((Ge,gt)=>{Ge.state==="idle"&&(xe.has(gt)?Ce.push(gt):Pe.push(gt))}),xe.forEach(Ge=>{!k.fetchers.has(Ge)&&!K.has(Ge)&&Ce.push(Ge)}),[...y].forEach(Ge=>Ge(k,{deletedFetchers:Ce,viewTransitionOpts:fe.viewTransitionOpts,flushSync:fe.flushSync===!0})),Ce.forEach(Ge=>ht(Ge)),Pe.forEach(Ge=>k.fetchers.delete(Ge))}function Bt(Q,fe,{flushSync:Ce}={}){let Pe=k.actionData!=null&&k.navigation.formMethod!=null&&Fi(k.navigation.formMethod)&&k.navigation.state==="loading"&&Q.state?._isRedirect!==!0,Ge;fe.actionData?Object.keys(fe.actionData).length>0?Ge=fe.actionData:Ge=null:Pe?Ge=k.actionData:Ge=null;let gt=fe.loaderData?Ej(k.loaderData,fe.loaderData,fe.matches||[],fe.errors):k.loaderData,Ct=k.blockers;Ct.size>0&&(Ct=new Map(Ct),Ct.forEach((mt,Mt)=>Ct.set(Mt,$d)));let nt=F===!0||k.navigation.formMethod!=null&&Fi(k.navigation.formMethod)&&Q.state?._isRedirect!==!0;l&&(a=l,l=void 0),ee||P==="POP"||(P==="PUSH"?t.history.push(Q,Q.state):P==="REPLACE"&&t.history.replace(Q,Q.state));let pt;if(P==="POP"){let mt=oe.get(k.location.pathname);mt&&mt.has(Q.pathname)?pt={currentLocation:k.location,nextLocation:Q}:oe.has(Q.pathname)&&(pt={currentLocation:Q,nextLocation:k.location})}else if(ge){let mt=oe.get(k.location.pathname);mt?mt.add(Q.pathname):(mt=new Set([Q.pathname]),oe.set(k.location.pathname,mt)),pt={currentLocation:k.location,nextLocation:Q}}ut({...fe,actionData:Ge,loaderData:gt,historyAction:P,location:Q,initialized:!0,navigation:ax,revalidation:"idle",restoreScrollPosition:wt(Q,fe.matches||k.matches),preventScrollReset:nt,blockers:Ct},{viewTransitionOpts:pt,flushSync:Ce===!0}),P="POP",F=!1,ge=!1,ee=!1,Ee=!1,he?.resolve(),he=null}async function dt(Q,fe){if(typeof Q=="number"){t.history.go(Q);return}let Ce=jb(k.location,k.matches,u,Q,fe?.fromRouteId,fe?.relative),{path:Pe,submission:Ge,error:gt}=vj(!1,Ce,fe),Ct=k.location,nt=_f(k.location,Pe,fe&&fe.state);nt={...nt,...t.history.encodeLocation(nt)};let pt=fe&&fe.replace!=null?fe.replace:void 0,mt="PUSH";pt===!0?mt="REPLACE":pt===!1||Ge!=null&&Fi(Ge.formMethod)&&Ge.formAction===k.location.pathname+k.location.search&&(mt="REPLACE");let Mt=fe&&"preventScrollReset"in fe?fe.preventScrollReset===!0:void 0,Y=(fe&&fe.flushSync)===!0,Me=lt({currentLocation:Ct,nextLocation:nt,historyAction:mt});if(Me){de(Me,{state:"blocked",location:nt,proceed(){de(Me,{state:"proceeding",proceed:void 0,reset:void 0,location:nt}),dt(Q,fe)},reset(){let Xe=new Map(k.blockers);Xe.set(Me,$d),ut({blockers:Xe})}});return}await st(mt,nt,{submission:Ge,pendingError:gt,preventScrollReset:Mt,replace:fe&&fe.replace,enableViewTransition:fe&&fe.viewTransition,flushSync:Y})}function _t(){he||(he=K7()),$(),ut({revalidation:"loading"});let Q=he.promise;return k.navigation.state==="submitting"?Q:k.navigation.state==="idle"?(st(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),Q):(st(P||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:ge===!0}),Q)}async function st(Q,fe,Ce){G&&G.abort(),G=null,P=Q,ee=(Ce&&Ce.startUninterruptedRevalidation)===!0,rt(k.location,k.matches),F=(Ce&&Ce.preventScrollReset)===!0,ge=(Ce&&Ce.enableViewTransition)===!0;let Pe=l||a,Ge=Ce&&Ce.overrideNavigation,gt=Ce?.initialHydration&&k.matches&&k.matches.length>0&&!O?k.matches:No(Pe,fe,u),Ct=(Ce&&Ce.flushSync)===!0;if(gt&&k.initialized&&!Ee&&B7(k.location,fe)&&!(Ce&&Ce.submission&&Fi(Ce.submission.formMethod))){Bt(fe,{matches:gt},{flushSync:Ct});return}let nt=St(gt,Pe,fe.pathname);if(nt.active&&nt.matches&&(gt=nt.matches),!gt){let{error:qt,notFoundMatches:Dt,route:zt}=Ot(fe.pathname);Bt(fe,{matches:Dt,loaderData:{},errors:{[zt.id]:qt}},{flushSync:Ct});return}G=new AbortController;let pt=eu(t.history,fe,G.signal,Ce&&Ce.submission),mt=new gj(t.unstable_getContext?await t.unstable_getContext():void 0),Mt;if(Ce&&Ce.pendingError)Mt=[Al(gt).route.id,{type:"error",error:Ce.pendingError}];else if(Ce&&Ce.submission&&Fi(Ce.submission.formMethod)){let qt=await Z(pt,fe,Ce.submission,gt,mt,nt.active,Ce&&Ce.initialHydration===!0,{replace:Ce.replace,flushSync:Ct});if(qt.shortCircuited)return;if(qt.pendingActionResult){let[Dt,zt]=qt.pendingActionResult;if(Bi(zt)&&Lf(zt.error)&&zt.error.status===404){G=null,Bt(fe,{matches:qt.matches,loaderData:{},errors:{[Dt]:zt.error}});return}}gt=qt.matches||gt,Mt=qt.pendingActionResult,Ge=ox(fe,Ce.submission),Ct=!1,nt.active=!1,pt=eu(t.history,pt.url,pt.signal)}let{shortCircuited:Y,matches:Me,loaderData:Xe,errors:vt}=await $e(pt,fe,gt,mt,nt.active,Ge,Ce&&Ce.submission,Ce&&Ce.fetcherSubmission,Ce&&Ce.replace,Ce&&Ce.initialHydration===!0,Ct,Mt);Y||(G=null,Bt(fe,{matches:Me||gt,...Aj(Mt),loaderData:Xe,errors:vt}))}async function Z(Q,fe,Ce,Pe,Ge,gt,Ct,nt={}){$();let pt=V7(fe,Ce);if(ut({navigation:pt},{flushSync:nt.flushSync===!0}),gt){let Y=await Tt(Pe,fe.pathname,Q.signal);if(Y.type==="aborted")return{shortCircuited:!0};if(Y.type==="error"){let Me=Al(Y.partialMatches).route.id;return{matches:Y.partialMatches,pendingActionResult:[Me,{type:"error",error:Y.error}]}}else if(Y.matches)Pe=Y.matches;else{let{notFoundMatches:Me,error:Xe,route:vt}=Ot(fe.pathname);return{matches:Me,pendingActionResult:[vt.id,{type:"error",error:Xe}]}}}let mt,Mt=tf(Pe,fe);if(!Mt.route.action&&!Mt.route.lazy)mt={type:"error",error:ls(405,{method:Q.method,pathname:fe.pathname,routeId:Mt.route.id})};else{let Y=hu(i,s,Q,Pe,Mt,Ct?[]:r,Ge),Me=await ce(Q,Y,Ge,null);if(mt=Me[Mt.route.id],!mt){for(let Xe of Pe)if(Me[Xe.route.id]){mt=Me[Xe.route.id];break}}if(Q.signal.aborted)return{shortCircuited:!0}}if(Ml(mt)){let Y;return nt&&nt.replace!=null?Y=nt.replace:Y=Nj(mt.response.headers.get("Location"),new URL(Q.url),u)===k.location.pathname+k.location.search,await I(Q,mt,!0,{submission:Ce,replace:Y}),{shortCircuited:!0}}if(Bi(mt)){let Y=Al(Pe,Mt.route.id);return(nt&&nt.replace)!==!0&&(P="PUSH"),{matches:Pe,pendingActionResult:[Y.route.id,mt,Mt.route.id]}}return{matches:Pe,pendingActionResult:[Mt.route.id,mt]}}async function $e(Q,fe,Ce,Pe,Ge,gt,Ct,nt,pt,mt,Mt,Y){let Me=gt||ox(fe,Ct),Xe=Ct||nt||Mj(Me),vt=!ee&&!mt;if(Ge){if(vt){let yt=Ue(Y);ut({navigation:Me,...yt!==void 0?{actionData:yt}:{}},{flushSync:Mt})}let Je=await Tt(Ce,fe.pathname,Q.signal);if(Je.type==="aborted")return{shortCircuited:!0};if(Je.type==="error"){let yt=Al(Je.partialMatches).route.id;return{matches:Je.partialMatches,loaderData:{},errors:{[yt]:Je.error}}}else if(Je.matches)Ce=Je.matches;else{let{error:yt,notFoundMatches:bt,route:Gt}=Ot(fe.pathname);return{matches:bt,loaderData:{},errors:{[Gt.id]:yt}}}}let qt=l||a,{dsMatches:Dt,revalidatingFetchers:zt}=xj(Q,Pe,i,s,t.history,k,Ce,Xe,fe,mt?[]:r,mt===!0,Ee,Oe,xe,ae,q,qt,u,t.patchRoutesOnNavigation!=null,Y);if(ue=++re,!t.dataStrategy&&!Dt.some(Je=>Je.shouldLoad)&&zt.length===0){let Je=sn();return Bt(fe,{matches:Ce,loaderData:{},errors:Y&&Bi(Y[1])?{[Y[0]]:Y[1].error}:null,...Aj(Y),...Je?{fetchers:new Map(k.fetchers)}:{}},{flushSync:Mt}),{shortCircuited:!0}}if(vt){let Je={};if(!Ge){Je.navigation=Me;let yt=Ue(Y);yt!==void 0&&(Je.actionData=yt)}zt.length>0&&(Je.fetchers=Qe(zt)),ut(Je,{flushSync:Mt})}zt.forEach(Je=>{Lt(Je.key),Je.controller&&K.set(Je.key,Je.controller)});let Xn=()=>zt.forEach(Je=>Lt(Je.key));G&&G.signal.addEventListener("abort",Xn);let{loaderResults:An,fetcherResults:Sn}=await ye(Dt,zt,Q,Pe);if(Q.signal.aborted)return{shortCircuited:!0};G&&G.signal.removeEventListener("abort",Xn),zt.forEach(Je=>K.delete(Je.key));let Fn=Vp(An);if(Fn)return await I(Q,Fn.result,!0,{replace:pt}),{shortCircuited:!0};if(Fn=Vp(Sn),Fn)return q.add(Fn.key),await I(Q,Fn.result,!0,{replace:pt}),{shortCircuited:!0};let{loaderData:jr,errors:A}=jj(k,Ce,An,Y,zt,Sn);mt&&k.errors&&(A={...k.errors,...A});let H=sn(),V=Se(ue),ie=H||V||zt.length>0;return{matches:Ce,loaderData:jr,errors:A,...ie?{fetchers:new Map(k.fetchers)}:{}}}function Ue(Q){if(Q&&!Bi(Q[1]))return{[Q[0]]:Q[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function Qe(Q){return Q.forEach(fe=>{let Ce=k.fetchers.get(fe.key),Pe=Vd(void 0,Ce?Ce.data:void 0);k.fetchers.set(fe.key,Pe)}),new Map(k.fetchers)}async function Nt(Q,fe,Ce,Pe){Lt(Q);let Ge=(Pe&&Pe.flushSync)===!0,gt=l||a,Ct=jb(k.location,k.matches,u,Ce,fe,Pe?.relative),nt=No(gt,Ct,u),pt=St(nt,gt,Ct);if(pt.active&&pt.matches&&(nt=pt.matches),!nt){be(Q,fe,ls(404,{pathname:Ct}),{flushSync:Ge});return}let{path:mt,submission:Mt,error:Y}=vj(!0,Ct,Pe);if(Y){be(Q,fe,Y,{flushSync:Ge});return}let Me=tf(nt,mt),Xe=new gj(t.unstable_getContext?await t.unstable_getContext():void 0),vt=(Pe&&Pe.preventScrollReset)===!0;if(Mt&&Fi(Mt.formMethod)){await _(Q,fe,mt,Me,nt,Xe,pt.active,Ge,vt,Mt);return}ae.set(Q,{routeId:fe,path:mt}),await W(Q,fe,mt,Me,nt,Xe,pt.active,Ge,vt,Mt)}async function _(Q,fe,Ce,Pe,Ge,gt,Ct,nt,pt,mt){$(),ae.delete(Q);function Mt(en){if(!en.route.action&&!en.route.lazy){let zr=ls(405,{method:mt.formMethod,pathname:Ce,routeId:fe});return be(Q,fe,zr,{flushSync:nt}),!0}return!1}if(!Ct&&Mt(Pe))return;let Y=k.fetchers.get(Q);U(Q,U7(mt,Y),{flushSync:nt});let Me=new AbortController,Xe=eu(t.history,Ce,Me.signal,mt);if(Ct){let en=await Tt(Ge,Ce,Xe.signal,Q);if(en.type==="aborted")return;if(en.type==="error"){be(Q,fe,en.error,{flushSync:nt});return}else if(en.matches){if(Ge=en.matches,Pe=tf(Ge,Ce),Mt(Pe))return}else{be(Q,fe,ls(404,{pathname:Ce}),{flushSync:nt});return}}K.set(Q,Me);let vt=re,qt=hu(i,s,Xe,Ge,Pe,r,gt),zt=(await ce(Xe,qt,gt,Q))[Pe.route.id];if(Xe.signal.aborted){K.get(Q)===Me&&K.delete(Q);return}if(xe.has(Q)){if(Ml(zt)||Bi(zt)){U(Q,yo(void 0));return}}else{if(Ml(zt))if(K.delete(Q),ue>vt){U(Q,yo(void 0));return}else return q.add(Q),U(Q,Vd(mt)),I(Xe,zt,!1,{fetcherSubmission:mt,preventScrollReset:pt});if(Bi(zt)){be(Q,fe,zt.error);return}}let Xn=k.navigation.location||k.location,An=eu(t.history,Xn,Me.signal),Sn=l||a,Fn=k.navigation.state!=="idle"?No(Sn,k.navigation.location,u):k.matches;fn(Fn,"Didn't find any matches after fetcher action");let jr=++re;ze.set(Q,jr);let A=Vd(mt,zt.data);k.fetchers.set(Q,A);let{dsMatches:H,revalidatingFetchers:V}=xj(An,gt,i,s,t.history,k,Fn,mt,Xn,r,!1,Ee,Oe,xe,ae,q,Sn,u,t.patchRoutesOnNavigation!=null,[Pe.route.id,zt]);V.filter(en=>en.key!==Q).forEach(en=>{let zr=en.key,j=k.fetchers.get(zr),L=Vd(void 0,j?j.data:void 0);k.fetchers.set(zr,L),Lt(zr),en.controller&&K.set(zr,en.controller)}),ut({fetchers:new Map(k.fetchers)});let ie=()=>V.forEach(en=>Lt(en.key));Me.signal.addEventListener("abort",ie);let{loaderResults:Je,fetcherResults:yt}=await ye(H,V,An,gt);if(Me.signal.aborted)return;if(Me.signal.removeEventListener("abort",ie),ze.delete(Q),K.delete(Q),V.forEach(en=>K.delete(en.key)),k.fetchers.has(Q)){let en=yo(zt.data);k.fetchers.set(Q,en)}let bt=Vp(Je);if(bt)return I(An,bt.result,!1,{preventScrollReset:pt});if(bt=Vp(yt),bt)return q.add(bt.key),I(An,bt.result,!1,{preventScrollReset:pt});let{loaderData:Gt,errors:Dn}=jj(k,Fn,Je,void 0,V,yt);Se(jr),k.navigation.state==="loading"&&jr>ue?(fn(P,"Expected pending action"),G&&G.abort(),Bt(k.navigation.location,{matches:Fn,loaderData:Gt,errors:Dn,fetchers:new Map(k.fetchers)})):(ut({errors:Dn,loaderData:Ej(k.loaderData,Gt,Fn,Dn),fetchers:new Map(k.fetchers)}),Ee=!1)}async function W(Q,fe,Ce,Pe,Ge,gt,Ct,nt,pt,mt){let Mt=k.fetchers.get(Q);U(Q,Vd(mt,Mt?Mt.data:void 0),{flushSync:nt});let Y=new AbortController,Me=eu(t.history,Ce,Y.signal);if(Ct){let zt=await Tt(Ge,Ce,Me.signal,Q);if(zt.type==="aborted")return;if(zt.type==="error"){be(Q,fe,zt.error,{flushSync:nt});return}else if(zt.matches)Ge=zt.matches,Pe=tf(Ge,Ce);else{be(Q,fe,ls(404,{pathname:Ce}),{flushSync:nt});return}}K.set(Q,Y);let Xe=re,vt=hu(i,s,Me,Ge,Pe,r,gt),Dt=(await ce(Me,vt,gt,Q))[Pe.route.id];if(K.get(Q)===Y&&K.delete(Q),!Me.signal.aborted){if(xe.has(Q)){U(Q,yo(void 0));return}if(Ml(Dt))if(ue>Xe){U(Q,yo(void 0));return}else{q.add(Q),await I(Me,Dt,!1,{preventScrollReset:pt});return}if(Bi(Dt)){be(Q,fe,Dt.error);return}U(Q,yo(Dt.data))}}async function I(Q,fe,Ce,{submission:Pe,fetcherSubmission:Ge,preventScrollReset:gt,replace:Ct}={}){fe.response.headers.has("X-Remix-Revalidate")&&(Ee=!0);let nt=fe.response.headers.get("Location");fn(nt,"Expected a Location header on the redirect Response"),nt=Nj(nt,new URL(Q.url),u);let pt=_f(k.location,nt,{_isRedirect:!0});if(n){let vt=!1;if(fe.response.headers.has("X-Remix-Reload-Document"))vt=!0;else if(vw.test(nt)){const qt=eO(nt,!0);vt=qt.origin!==e.location.origin||ps(qt.pathname,u)==null}if(vt){Ct?e.location.replace(nt):e.location.assign(nt);return}}G=null;let mt=Ct===!0||fe.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Mt,formAction:Y,formEncType:Me}=k.navigation;!Pe&&!Ge&&Mt&&Y&&Me&&(Pe=Mj(k.navigation));let Xe=Pe||Ge;if(T7.has(fe.response.status)&&Xe&&Fi(Xe.formMethod))await st(mt,pt,{submission:{...Xe,formAction:nt},preventScrollReset:gt||F,enableViewTransition:Ce?ge:void 0});else{let vt=ox(pt,Pe);await st(mt,pt,{overrideNavigation:vt,fetcherSubmission:Ge,preventScrollReset:gt||F,enableViewTransition:Ce?ge:void 0})}}async function ce(Q,fe,Ce,Pe){let Ge,gt={};try{Ge=await _7(f,Q,fe,Pe,Ce,!1)}catch(Ct){return fe.filter(nt=>nt.shouldLoad).forEach(nt=>{gt[nt.route.id]={type:"error",error:Ct}}),gt}if(Q.signal.aborted)return gt;for(let[Ct,nt]of Object.entries(Ge))if(F7(nt)){let pt=nt.result;gt[Ct]={type:"redirect",response:z7(pt,Q,Ct,fe,u)}}else gt[Ct]=await P7(nt);return gt}async function ye(Q,fe,Ce,Pe){let Ge=ce(Ce,Q,Pe,null),gt=Promise.all(fe.map(async pt=>{if(pt.matches&&pt.match&&pt.request&&pt.controller){let Mt=(await ce(pt.request,pt.matches,Pe,pt.key))[pt.match.route.id];return{[pt.key]:Mt}}else return Promise.resolve({[pt.key]:{type:"error",error:ls(404,{pathname:pt.path})}})})),Ct=await Ge,nt=(await gt).reduce((pt,mt)=>Object.assign(pt,mt),{});return{loaderResults:Ct,fetcherResults:nt}}function $(){Ee=!0,ae.forEach((Q,fe)=>{K.has(fe)&&Oe.add(fe),Lt(fe)})}function U(Q,fe,Ce={}){k.fetchers.set(Q,fe),ut({fetchers:new Map(k.fetchers)},{flushSync:(Ce&&Ce.flushSync)===!0})}function be(Q,fe,Ce,Pe={}){let Ge=Al(k.matches,fe);ht(Q),ut({errors:{[Ge.route.id]:Ce},fetchers:new Map(k.fetchers)},{flushSync:(Pe&&Pe.flushSync)===!0})}function We(Q){return pe.set(Q,(pe.get(Q)||0)+1),xe.has(Q)&&xe.delete(Q),k.fetchers.get(Q)||j7}function ht(Q){let fe=k.fetchers.get(Q);K.has(Q)&&!(fe&&fe.state==="loading"&&ze.has(Q))&&Lt(Q),ae.delete(Q),ze.delete(Q),q.delete(Q),xe.delete(Q),Oe.delete(Q),k.fetchers.delete(Q)}function Qt(Q){let fe=(pe.get(Q)||0)-1;fe<=0?(pe.delete(Q),xe.add(Q)):pe.set(Q,fe),ut({fetchers:new Map(k.fetchers)})}function Lt(Q){let fe=K.get(Q);fe&&(fe.abort(),K.delete(Q))}function ln(Q){for(let fe of Q){let Ce=We(fe),Pe=yo(Ce.data);k.fetchers.set(fe,Pe)}}function sn(){let Q=[],fe=!1;for(let Ce of q){let Pe=k.fetchers.get(Ce);fn(Pe,`Expected fetcher: ${Ce}`),Pe.state==="loading"&&(q.delete(Ce),Q.push(Ce),fe=!0)}return ln(Q),fe}function Se(Q){let fe=[];for(let[Ce,Pe]of ze)if(Pe<Q){let Ge=k.fetchers.get(Ce);fn(Ge,`Expected fetcher: ${Ce}`),Ge.state==="loading"&&(Lt(Ce),ze.delete(Ce),fe.push(Ce))}return ln(fe),fe.length>0}function it(Q,fe){let Ce=k.blockers.get(Q)||$d;return Re.get(Q)!==fe&&Re.set(Q,fe),Ce}function ft(Q){k.blockers.delete(Q),Re.delete(Q)}function de(Q,fe){let Ce=k.blockers.get(Q)||$d;fn(Ce.state==="unblocked"&&fe.state==="blocked"||Ce.state==="blocked"&&fe.state==="blocked"||Ce.state==="blocked"&&fe.state==="proceeding"||Ce.state==="blocked"&&fe.state==="unblocked"||Ce.state==="proceeding"&&fe.state==="unblocked",`Invalid blocker state transition: ${Ce.state} -> ${fe.state}`);let Pe=new Map(k.blockers);Pe.set(Q,fe),ut({blockers:Pe})}function lt({currentLocation:Q,nextLocation:fe,historyAction:Ce}){if(Re.size===0)return;Re.size>1&&hr(!1,"A router only supports one blocker at a time");let Pe=Array.from(Re.entries()),[Ge,gt]=Pe[Pe.length-1],Ct=k.blockers.get(Ge);if(!(Ct&&Ct.state==="proceeding")&&gt({currentLocation:Q,nextLocation:fe,historyAction:Ce}))return Ge}function Ot(Q){let fe=ls(404,{pathname:Q}),Ce=l||a,{matches:Pe,route:Ge}=kj(Ce);return{notFoundMatches:Pe,route:Ge,error:fe}}function tt(Q,fe,Ce){if(v=Q,S=fe,b=Ce||null,!C&&k.navigation===ax){C=!0;let Pe=wt(k.location,k.matches);Pe!=null&&ut({restoreScrollPosition:Pe})}return()=>{v=null,S=null,b=null}}function Te(Q,fe){return b&&b(Q,fe.map(Pe=>r7(Pe,k.loaderData)))||Q.key}function rt(Q,fe){if(v&&S){let Ce=Te(Q,fe);v[Ce]=S()}}function wt(Q,fe){if(v){let Ce=Te(Q,fe),Pe=v[Ce];if(typeof Pe=="number")return Pe}return null}function St(Q,fe,Ce){if(t.patchRoutesOnNavigation)if(Q){if(Object.keys(Q[0].params).length>0)return{active:!0,matches:Cm(fe,Ce,u,!0)}}else return{active:!0,matches:Cm(fe,Ce,u,!0)||[]};return{active:!1,matches:null}}async function Tt(Q,fe,Ce,Pe){if(!t.patchRoutesOnNavigation)return{type:"success",matches:Q};let Ge=Q;for(;;){let gt=l==null,Ct=l||a,nt=s;try{await t.patchRoutesOnNavigation({signal:Ce,path:fe,matches:Ge,fetcherKey:Pe,patch:(Mt,Y)=>{Ce.aborted||bj(Mt,Y,Ct,nt,i)}})}catch(Mt){return{type:"error",error:Mt,partialMatches:Ge}}finally{gt&&!Ce.aborted&&(a=[...a])}if(Ce.aborted)return{type:"aborted"};let pt=No(Ct,fe,u);if(pt)return{type:"success",matches:pt};let mt=Cm(Ct,fe,u,!0);if(!mt||Ge.length===mt.length&&Ge.every((Mt,Y)=>Mt.route.id===mt[Y].route.id))return{type:"success",matches:null};Ge=mt}}function Zt(Q){s={},l=Ym(Q,i,void 0,s)}function Tn(Q,fe){let Ce=l==null;bj(Q,fe,l||a,s,i),Ce&&(a=[...a],ut({}))}return E={get basename(){return u},get future(){return p},get state(){return k},get routes(){return a},get window(){return e},initialize:Be,subscribe:ot,enableScrollRestoration:tt,navigate:dt,fetch:Nt,revalidate:_t,createHref:Q=>t.history.createHref(Q),encodeLocation:Q=>t.history.encodeLocation(Q),getFetcher:We,deleteFetcher:Qt,dispose:Le,getBlocker:it,deleteBlocker:ft,patchRoutes:Tn,_internalFetchControllers:K,_internalSetRoutes:Zt},E}function k7(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function jb(t,e,n,r,i,s){let a,l;if(i){a=[];for(let f of e)if(a.push(f),f.route.id===i){l=f;break}}else a=e,l=e[e.length-1];let u=fy(r||".",dy(a),ps(t.pathname,n)||t.pathname,s==="path");if(r==null&&(u.search=t.search,u.hash=t.hash),(r==null||r===""||r===".")&&l){let f=xw(u.search);if(l.route.index&&!f)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&f){let p=new URLSearchParams(u.search),m=p.getAll("index");p.delete("index"),m.filter(v=>v).forEach(v=>p.append("index",v));let y=p.toString();u.search=y?`?${y}`:""}}return n!=="/"&&(u.pathname=u.pathname==="/"?n:Qs([n,u.pathname])),Bo(u)}function vj(t,e,n){if(!n||!k7(n))return{path:e};if(n.formMethod&&!$7(n.formMethod))return{path:e,error:ls(405,{method:n.formMethod})};let r=()=>({path:e,error:ls(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),a=fO(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Fi(s))return r();let m=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((y,[v,b])=>`${y}${v}=${b}
`,""):String(n.body);return{path:e,submission:{formMethod:s,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:m}}}else if(n.formEncType==="application/json"){if(!Fi(s))return r();try{let m=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:s,formAction:a,formEncType:n.formEncType,formData:void 0,json:m,text:void 0}}}catch{return r()}}}fn(typeof FormData=="function","FormData is not available in this environment");let l,u;if(n.formData)l=kb(n.formData),u=n.formData;else if(n.body instanceof FormData)l=kb(n.body),u=n.body;else if(n.body instanceof URLSearchParams)l=n.body,u=Tj(l);else if(n.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(n.body),u=Tj(l)}catch{return r()}let f={formMethod:s,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Fi(f.formMethod))return{path:e,submission:f};let p=Yo(e);return t&&p.search&&xw(p.search)&&l.append("index",""),p.search=`?${l}`,{path:Bo(p),submission:f}}function xj(t,e,n,r,i,s,a,l,u,f,p,m,y,v,b,S,C,N,O,D){let R=D?Bi(D[1])?D[1].error:D[1].data:void 0,E=i.createURL(s.location),k=i.createURL(u),P;if(p&&s.errors){let ee=Object.keys(s.errors)[0];P=a.findIndex(Ee=>Ee.route.id===ee)}else if(D&&Bi(D[1])){let ee=D[0];P=a.findIndex(Ee=>Ee.route.id===ee)-1}let F=D?D[1].statusCode:void 0,G=F&&F>=400,ge={currentUrl:E,currentParams:s.matches[0]?.params||{},nextUrl:k,nextParams:a[0].params,...l,actionResult:R,actionStatus:F},oe=a.map((ee,Ee)=>{let{route:Oe}=ee,K=null;if(P!=null&&Ee>P?K=!1:Oe.lazy?K=!0:Oe.loader==null?K=!1:p?K=Eb(Oe,s.loaderData,s.errors):O7(s.loaderData,s.matches[Ee],ee)&&(K=!0),K!==null)return Ab(n,r,t,ee,f,e,K);let re=G?!1:m||E.pathname+E.search===k.pathname+k.search||E.search!==k.search||M7(s.matches[Ee],ee),ue={...ge,defaultShouldRevalidate:re},ze=Xm(ee,ue);return Ab(n,r,t,ee,f,e,ze,ue)}),ne=[];return b.forEach((ee,Ee)=>{if(p||!a.some(pe=>pe.route.id===ee.routeId)||v.has(Ee))return;let Oe=s.fetchers.get(Ee),K=Oe&&Oe.state!=="idle"&&Oe.data===void 0,re=No(C,ee.path,N);if(!re){if(O&&K)return;ne.push({key:Ee,routeId:ee.routeId,path:ee.path,matches:null,match:null,request:null,controller:null});return}if(S.has(Ee))return;let ue=tf(re,ee.path),ze=new AbortController,q=eu(i,ee.path,ze.signal),ae=null;if(y.has(Ee))y.delete(Ee),ae=hu(n,r,q,re,ue,f,e);else if(K)m&&(ae=hu(n,r,q,re,ue,f,e));else{let pe={...ge,defaultShouldRevalidate:G?!1:m};Xm(ue,pe)&&(ae=hu(n,r,q,re,ue,f,e,pe))}ae&&ne.push({key:Ee,routeId:ee.routeId,path:ee.path,matches:ae,match:ue,request:q,controller:ze})}),{dsMatches:oe,revalidatingFetchers:ne}}function Eb(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function O7(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function M7(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Xm(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function bj(t,e,n,r,i){let s;if(t){let u=r[t];fn(u,`No route found to patch children into: routeId = ${t}`),u.children||(u.children=[]),s=u.children}else s=n;let a=e.filter(u=>!s.some(f=>oO(u,f))),l=Ym(a,i,[t||"_","patch",String(s?.length||"0")],r);s.push(...l)}function oO(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>e.children?.some(i=>oO(n,i))):!1}var wj=new WeakMap,lO=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(fn(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[t];if(!s)return;let a=wj.get(i);a||(a={},wj.set(i,a));let l=a[t];if(l)return l;let u=(async()=>{let f=ZL(t),m=i[t]!==void 0&&t!=="hasErrorBoundary";if(f)hr(!f,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),a[t]=Promise.resolve();else if(m)hr(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let y=await s();y!=null&&(Object.assign(i,{[t]:y}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(y=>y===void 0)&&(i.lazy=void 0))})();return a[t]=u,u},Sj=new WeakMap;function D7(t,e,n,r,i){let s=n[t.id];if(fn(s,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let p=Sj.get(s);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let m=(async()=>{fn(typeof t.lazy=="function","No lazy route function found");let y=await t.lazy(),v={};for(let b in y){let S=y[b];if(S===void 0)continue;let C=t7(b),O=s[b]!==void 0&&b!=="hasErrorBoundary";C?hr(!C,"Route property "+b+" is not a supported property to be returned from a lazy route function. This property will be ignored."):O?hr(!O,`Route "${s.id}" has a static property "${b}" defined but its lazy function is also returning a value for this property. The lazy route property "${b}" will be ignored.`):v[b]=S}Object.assign(s,v),Object.assign(s,{...r(s),lazy:void 0})})();return Sj.set(s,m),m.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:m}}let a=Object.keys(t.lazy),l=[],u;for(let p of a){if(i&&i.includes(p))continue;let m=lO({key:p,route:t,manifest:n,mapRouteProperties:r});m&&(l.push(m),p===e&&(u=m))}let f=l.length>0?Promise.all(l).then(()=>{}):void 0;return f?.catch(()=>{}),u?.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:u}}async function Cj(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,s)=>{n[e[s].route.id]=i}),n}async function R7(t){return t.matches.some(e=>e.route.unstable_middleware)?cO(t,!1,()=>Cj(t),(e,n)=>({[n]:{type:"error",result:e}})):Cj(t)}async function cO(t,e,n,r){let{matches:i,request:s,params:a,context:l}=t,u={handlerResult:void 0};try{let f=i.flatMap(m=>m.route.unstable_middleware?m.route.unstable_middleware.map(y=>[m.route.id,y]):[]),p=await uO({request:s,params:a,context:l},f,e,u,n);return e?p:u.handlerResult}catch(f){if(!u.middlewareError)throw f;let p=await r(u.middlewareError.error,u.middlewareError.routeId);return u.handlerResult?Object.assign(u.handlerResult,p):p}}async function uO(t,e,n,r,i,s=0){let{request:a}=t;if(a.signal.aborted)throw a.signal.reason?a.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${a.method} ${a.url}`);let l=e[s];if(!l)return r.handlerResult=await i(),r.handlerResult;let[u,f]=l,p=!1,m,y=async()=>{if(p)throw new Error("You may only call `next()` once per middleware");p=!0,await uO(t,e,n,r,i,s+1)};try{let v=await f({request:t.request,params:t.params,context:t.context},y);return p?v===void 0?m:v:y()}catch(v){throw r.middlewareError?r.middlewareError.error!==v&&(r.middlewareError={routeId:u,error:v}):r.middlewareError={routeId:u,error:v},v}}function dO(t,e,n,r,i){let s=lO({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),a=D7(r.route,Fi(n.method)?"action":"loader",e,t,i);return{middleware:s,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function Ab(t,e,n,r,i,s,a,l=null){let u=!1,f=dO(t,e,n,r,i);return{...r,_lazyPromises:f,shouldLoad:a,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler(p){return u=!0,l?typeof p=="boolean"?Xm(r,{...l,defaultShouldRevalidate:p}):Xm(r,l):a},resolve(p){return u||a||p&&n.method==="GET"&&(r.route.lazy||r.route.loader)?L7({request:n,match:r,lazyHandlerPromise:f?.handler,lazyRoutePromise:f?.route,handlerOverride:p,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function hu(t,e,n,r,i,s,a,l=null){return r.map(u=>u.route.id!==i.route.id?{...u,shouldLoad:!1,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler:()=>!1,_lazyPromises:dO(t,e,n,u,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Ab(t,e,n,u,s,a,!0,l))}async function _7(t,e,n,r,i,s){n.some(f=>f._lazyPromises?.middleware)&&await Promise.all(n.map(f=>f._lazyPromises?.middleware));let a={request:e,params:n[0].params,context:i,matches:n},u=await t({...a,fetcherKey:r,unstable_runClientMiddleware:f=>{let p=a;return cO(p,!1,()=>f({...p,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(m,y)=>({[y]:{type:"error",result:m}}))}});try{await Promise.all(n.flatMap(f=>[f._lazyPromises?.handler,f._lazyPromises?.route]))}catch{}return u}async function L7({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:s}){let a,l,u=Fi(t.method),f=u?"action":"loader",p=m=>{let y,v=new Promise((C,N)=>y=N);l=()=>y(),t.signal.addEventListener("abort",l);let b=C=>typeof m!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${f}" [routeId: ${e.route.id}]`)):m({request:t,params:e.params,context:s},...C!==void 0?[C]:[]),S=(async()=>{try{return{type:"data",result:await(i?i(N=>b(N)):b())}}catch(C){return{type:"error",result:C}}})();return Promise.race([S,v])};try{let m=u?e.route.action:e.route.loader;if(n||r)if(m){let y,[v]=await Promise.all([p(m).catch(b=>{y=b}),n,r]);if(y!==void 0)throw y;a=v}else{await n;let y=u?e.route.action:e.route.loader;if(y)[a]=await Promise.all([p(y),r]);else if(f==="action"){let v=new URL(t.url),b=v.pathname+v.search;throw ls(405,{method:t.method,pathname:b,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(m)a=await p(m);else{let y=new URL(t.url),v=y.pathname+y.search;throw ls(404,{pathname:v})}}catch(m){return{type:"error",result:m}}finally{l&&t.signal.removeEventListener("abort",l)}return a}async function P7(t){let{result:e,type:n}=t;if(hO(e)){let r;try{let i=e.headers.get("Content-Type");i&&/\bapplication\/json\b/.test(i)?e.body==null?r=null:r=await e.json():r=await e.text()}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new Gm(e.status,e.statusText,r),statusCode:e.status,headers:e.headers}:{type:"data",data:r,statusCode:e.status,headers:e.headers}}return n==="error"?Oj(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Gm(e.init?.status||500,void 0,e.data),statusCode:Lf(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Lf(e)?e.status:void 0}:Oj(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function z7(t,e,n,r,i){let s=t.headers.get("Location");if(fn(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!vw.test(s)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);s=jb(new URL(e.url),a,i,s),t.headers.set("Location",s)}return t}function Nj(t,e,n){if(vw.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=ps(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function eu(t,e,n,r){let i=t.createURL(fO(e)).toString(),s={signal:n};if(r&&Fi(r.formMethod)){let{formMethod:a,formEncType:l}=r;s.method=a.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=kb(r.formData):s.body=r.formData}return new Request(i,s)}function kb(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Tj(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function I7(t,e,n,r=!1,i=!1){let s={},a=null,l,u=!1,f={},p=n&&Bi(n[1])?n[1].error:void 0;return t.forEach(m=>{if(!(m.route.id in e))return;let y=m.route.id,v=e[y];if(fn(!Ml(v),"Cannot handle redirect results in processLoaderData"),Bi(v)){let b=v.error;if(p!==void 0&&(b=p,p=void 0),a=a||{},i)a[y]=b;else{let S=Al(t,y);a[S.route.id]==null&&(a[S.route.id]=b)}r||(s[y]=aO),u||(u=!0,l=Lf(v.error)?v.error.status:500),v.headers&&(f[y]=v.headers)}else s[y]=v.data,v.statusCode&&v.statusCode!==200&&!u&&(l=v.statusCode),v.headers&&(f[y]=v.headers)}),p!==void 0&&n&&(a={[n[0]]:p},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:a,statusCode:l||200,loaderHeaders:f}}function jj(t,e,n,r,i,s){let{loaderData:a,errors:l}=I7(e,n,r);return i.filter(u=>!u.matches||u.matches.some(f=>f.shouldLoad)).forEach(u=>{let{key:f,match:p,controller:m}=u,y=s[f];if(fn(y,"Did not find corresponding fetcher result"),!(m&&m.signal.aborted))if(Bi(y)){let v=Al(t.matches,p?.route.id);l&&l[v.route.id]||(l={...l,[v.route.id]:y.error}),t.fetchers.delete(f)}else if(Ml(y))fn(!1,"Unhandled fetcher revalidation redirect");else{let v=yo(y.data);t.fetchers.set(f,v)}}),{loaderData:a,errors:l}}function Ej(t,e,n,r){let i=Object.entries(e).filter(([,s])=>s!==aO).reduce((s,[a,l])=>(s[a]=l,s),{});for(let s of n){let a=s.route.id;if(!e.hasOwnProperty(a)&&t.hasOwnProperty(a)&&s.route.loader&&(i[a]=t[a]),r&&r.hasOwnProperty(a))break}return i}function Aj(t){return t?Bi(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Al(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function kj(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ls(t,{pathname:e,routeId:n,method:r,type:i,message:s}={}){let a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",r&&e&&n?l=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l=`Route "${n}" does not match URL "${e}"`):t===404?(a="Not Found",l=`No route matches URL "${e}"`):t===405&&(a="Method Not Allowed",r&&e&&n?l=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(l=`Invalid request method "${r.toUpperCase()}"`)),new Gm(t||500,a,new Error(l),!0)}function Vp(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Ml(i))return{key:r,result:i}}}function fO(t){let e=typeof t=="string"?Yo(t):t;return Bo({...e,hash:""})}function B7(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function F7(t){return hO(t.result)&&N7.has(t.result.status)}function Bi(t){return t.type==="error"}function Ml(t){return(t&&t.type)==="redirect"}function Oj(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function hO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function $7(t){return C7.has(t.toUpperCase())}function Fi(t){return w7.has(t.toUpperCase())}function xw(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function tf(t,e){let n=typeof e=="string"?Yo(e).search:e.search;if(t[t.length-1].route.index&&xw(n||""))return t[t.length-1];let r=rO(t);return r[r.length-1]}function Mj(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:a}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function ox(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function V7(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Vd(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function U7(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function yo(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function H7(t,e){try{let n=t.sessionStorage.getItem(sO);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function q7(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(sO,JSON.stringify(n))}catch(r){hr(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function K7(){let t,e,n=new Promise((r,i)=>{t=async s=>{r(s);try{await n}catch{}},e=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var uc=T.createContext(null);uc.displayName="DataRouter";var hh=T.createContext(null);hh.displayName="DataRouterState";var bw=T.createContext({isTransitioning:!1});bw.displayName="ViewTransition";var pO=T.createContext(new Map);pO.displayName="Fetchers";var Y7=T.createContext(null);Y7.displayName="Await";var Ms=T.createContext(null);Ms.displayName="Navigation";var hy=T.createContext(null);hy.displayName="Location";var Ds=T.createContext({outlet:null,matches:[],isDataRoute:!1});Ds.displayName="Route";var ww=T.createContext(null);ww.displayName="RouteError";function W7(t,{relative:e}={}){fn(Mu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(Ms),{hash:i,pathname:s,search:a}=ph(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:Qs([n,s])),r.createHref({pathname:l,search:a,hash:i})}function Mu(){return T.useContext(hy)!=null}function Wo(){return fn(Mu(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(hy).location}var mO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gO(t){T.useContext(Ms).static||T.useLayoutEffect(t)}function Hn(){let{isDataRoute:t}=T.useContext(Ds);return t?cP():G7()}function G7(){fn(Mu(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(uc),{basename:e,navigator:n}=T.useContext(Ms),{matches:r}=T.useContext(Ds),{pathname:i}=Wo(),s=JSON.stringify(dy(r)),a=T.useRef(!1);return gO(()=>{a.current=!0}),T.useCallback((u,f={})=>{if(hr(a.current,mO),!a.current)return;if(typeof u=="number"){n.go(u);return}let p=fy(u,JSON.parse(s),i,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Qs([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,s,i,t])}var X7=T.createContext(null);function Q7(t){let e=T.useContext(Ds).outlet;return e&&T.createElement(X7.Provider,{value:t},e)}function ph(t,{relative:e}={}){let{matches:n}=T.useContext(Ds),{pathname:r}=Wo(),i=JSON.stringify(dy(n));return T.useMemo(()=>fy(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function J7(t,e,n,r){fn(Mu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=T.useContext(Ms),{matches:s}=T.useContext(Ds),a=s[s.length-1],l=a?a.params:{},u=a?a.pathname:"/",f=a?a.pathnameBase:"/",p=a&&a.route;{let N=p&&p.path||"";yO(u,!p||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let m=Wo(),y;y=m;let v=y.pathname||"/",b=v;if(f!=="/"){let N=f.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(N.length).join("/")}let S=No(t,{pathname:b});return hr(p||S!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),hr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),rP(S&&S.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:Qs([f,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?f:Qs([f,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),s,n,r)}function Z7(){let t=lP(),e=Lf(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:s},"ErrorBoundary")," or"," ",T.createElement("code",{style:s},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,a)}var eP=T.createElement(Z7,null),tP=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?T.createElement(Ds.Provider,{value:this.props.routeContext},T.createElement(ww.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nP({routeContext:t,match:e,children:n}){let r=T.useContext(uc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(Ds.Provider,{value:t},n)}function rP(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n?.errors;if(s!=null){let u=i.findIndex(f=>f.route.id&&s?.[f.route.id]!==void 0);fn(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let a=!1,l=-1;if(n)for(let u=0;u<i.length;u++){let f=i[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=u),f.route.id){let{loaderData:p,errors:m}=n,y=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){a=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((u,f,p)=>{let m,y=!1,v=null,b=null;n&&(m=s&&f.route.id?s[f.route.id]:void 0,v=f.route.errorElement||eP,a&&(l<0&&p===0?(yO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,b=null):l===p&&(y=!0,b=f.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,p+1)),C=()=>{let N;return m?N=v:y?N=b:f.route.Component?N=T.createElement(f.route.Component,null):f.route.element?N=f.route.element:N=u,T.createElement(nP,{match:f,routeContext:{outlet:u,matches:S,isDataRoute:n!=null},children:N})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?T.createElement(tP,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):C()},null)}function Sw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iP(t){let e=T.useContext(uc);return fn(e,Sw(t)),e}function sP(t){let e=T.useContext(hh);return fn(e,Sw(t)),e}function aP(t){let e=T.useContext(Ds);return fn(e,Sw(t)),e}function Cw(t){let e=aP(t),n=e.matches[e.matches.length-1];return fn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function oP(){return Cw("useRouteId")}function lP(){let t=T.useContext(ww),e=sP("useRouteError"),n=Cw("useRouteError");return t!==void 0?t:e.errors?.[n]}function cP(){let{router:t}=iP("useNavigate"),e=Cw("useNavigate"),n=T.useRef(!1);return gO(()=>{n.current=!0}),T.useCallback(async(i,s={})=>{hr(n.current,mO),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var Dj={};function yO(t,e,n){!e&&!Dj[t]&&(Dj[t]=!0,hr(!1,n))}var Rj={};function _j(t,e){!t&&!Rj[e]&&(Rj[e]=!0,console.warn(e))}function uP(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&hr(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:T.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&hr(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:T.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&hr(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:T.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var dP=["HydrateFallback","hydrateFallbackElement"],fP=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function hP({router:t,flushSync:e}){let[n,r]=T.useState(t.state),[i,s]=T.useState(),[a,l]=T.useState({isTransitioning:!1}),[u,f]=T.useState(),[p,m]=T.useState(),[y,v]=T.useState(),b=T.useRef(new Map),S=T.useCallback((D,{deletedFetchers:R,flushSync:E,viewTransitionOpts:k})=>{D.fetchers.forEach((F,G)=>{F.data!==void 0&&b.current.set(G,F.data)}),R.forEach(F=>b.current.delete(F)),_j(E===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let P=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(_j(k==null||P,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!k||!P){e&&E?e(()=>r(D)):T.startTransition(()=>r(D));return}if(e&&E){e(()=>{p&&(u&&u.resolve(),p.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:k.currentLocation,nextLocation:k.nextLocation})});let F=t.window.document.startViewTransition(()=>{e(()=>r(D))});F.finished.finally(()=>{e(()=>{f(void 0),m(void 0),s(void 0),l({isTransitioning:!1})})}),e(()=>m(F));return}p?(u&&u.resolve(),p.skipTransition(),v({state:D,currentLocation:k.currentLocation,nextLocation:k.nextLocation})):(s(D),l({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}))},[t.window,e,p,u]);T.useLayoutEffect(()=>t.subscribe(S),[t,S]),T.useEffect(()=>{a.isTransitioning&&!a.flushSync&&f(new fP)},[a]),T.useEffect(()=>{if(u&&i&&t.window){let D=i,R=u.promise,E=t.window.document.startViewTransition(async()=>{T.startTransition(()=>r(D)),await R});E.finished.finally(()=>{f(void 0),m(void 0),s(void 0),l({isTransitioning:!1})}),m(E)}},[i,u,t.window]),T.useEffect(()=>{u&&i&&n.location.key===i.location.key&&u.resolve()},[u,p,n.location,i]),T.useEffect(()=>{!a.isTransitioning&&y&&(s(y.state),l({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),v(void 0))},[a.isTransitioning,y]);let C=T.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:D=>t.navigate(D),push:(D,R,E)=>t.navigate(D,{state:R,preventScrollReset:E?.preventScrollReset}),replace:(D,R,E)=>t.navigate(D,{replace:!0,state:R,preventScrollReset:E?.preventScrollReset})}),[t]),N=t.basename||"/",O=T.useMemo(()=>({router:t,navigator:C,static:!1,basename:N}),[t,C,N]);return T.createElement(T.Fragment,null,T.createElement(uc.Provider,{value:O},T.createElement(hh.Provider,{value:n},T.createElement(pO.Provider,{value:b.current},T.createElement(bw.Provider,{value:a},T.createElement(vP,{basename:N,location:n.location,navigationType:n.historyAction,navigator:C},T.createElement(pP,{routes:t.routes,future:t.future,state:n})))))),null)}var pP=T.memo(mP);function mP({routes:t,future:e,state:n}){return J7(t,void 0,n,e)}function gP({to:t,replace:e,state:n,relative:r}){fn(Mu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(Ms);hr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=T.useContext(Ds),{pathname:a}=Wo(),l=Hn(),u=fy(t,dy(s),a,r==="path"),f=JSON.stringify(u);return T.useEffect(()=>{l(JSON.parse(f),{replace:e,state:n,relative:r})},[l,f,r,e,n]),null}function yP(t){return Q7(t.context)}function vP({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){fn(!Mu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=T.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof n=="string"&&(n=Yo(n));let{pathname:u="/",search:f="",hash:p="",state:m=null,key:y="default"}=n,v=T.useMemo(()=>{let b=ps(u,a);return b==null?null:{location:{pathname:b,search:f,hash:p,state:m,key:y},navigationType:r}},[a,u,f,p,m,y,r]);return hr(v!=null,`<Router basename="${a}"> is not able to match the URL "${u}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:T.createElement(Ms.Provider,{value:l},T.createElement(hy.Provider,{children:e,value:v}))}var Nm="get",Tm="application/x-www-form-urlencoded";function py(t){return t!=null&&typeof t.tagName=="string"}function xP(t){return py(t)&&t.tagName.toLowerCase()==="button"}function bP(t){return py(t)&&t.tagName.toLowerCase()==="form"}function wP(t){return py(t)&&t.tagName.toLowerCase()==="input"}function SP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function CP(t,e){return t.button===0&&(!e||e==="_self")&&!SP(t)}var Up=null;function NP(){if(Up===null)try{new FormData(document.createElement("form"),0),Up=!1}catch{Up=!0}return Up}var TP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lx(t){return t!=null&&!TP.has(t)?(hr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tm}"`),null):t}function jP(t,e){let n,r,i,s,a;if(bP(t)){let l=t.getAttribute("action");r=l?ps(l,e):null,n=t.getAttribute("method")||Nm,i=lx(t.getAttribute("enctype"))||Tm,s=new FormData(t)}else if(xP(t)||wP(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(r=u?ps(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Nm,i=lx(t.getAttribute("formenctype"))||lx(l.getAttribute("enctype"))||Tm,s=new FormData(l,t),!NP()){let{name:f,type:p,value:m}=t;if(p==="image"){let y=f?`${f}.`:"";s.append(`${y}x`,"0"),s.append(`${y}y`,"0")}else f&&s.append(f,m)}}else{if(py(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Nm,r=null,i=Tm,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}function Nw(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function EP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function kP(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await EP(s,n);return a.links?a.links():[]}return[]}));return RP(r.flat(1).filter(AP).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Lj(t,e,n,r,i,s){let a=(u,f)=>n[f]?u.route.id!==n[f].route.id:!0,l=(u,f)=>n[f].pathname!==u.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==u.params["*"];return s==="assets"?e.filter((u,f)=>a(u,f)||l(u,f)):s==="data"?e.filter((u,f)=>{let p=r.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(a(u,f)||l(u,f))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function OP(t,e,{includeHydrateFallback:n}={}){return MP(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function MP(t){return[...new Set(t)]}function DP(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function RP(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(DP(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _P=new Set([100,101,204,205]);function LP(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&ps(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function vO(){let t=T.useContext(uc);return Nw(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function PP(){let t=T.useContext(hh);return Nw(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Tw=T.createContext(void 0);Tw.displayName="FrameworkContext";function xO(){let t=T.useContext(Tw);return Nw(t,"You must render this element inside a <HydratedRouter> element"),t}function zP(t,e){let n=T.useContext(Tw),[r,i]=T.useState(!1),[s,a]=T.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=e,y=T.useRef(null);T.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let S=N=>{N.forEach(O=>{a(O.isIntersecting)})},C=new IntersectionObserver(S,{threshold:.5});return y.current&&C.observe(y.current),()=>{C.disconnect()}}},[t]),T.useEffect(()=>{if(r){let S=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(S)}}},[r]);let v=()=>{i(!0)},b=()=>{i(!1),a(!1)};return n?t!=="intent"?[s,y,{}]:[s,y,{onFocus:Ud(l,v),onBlur:Ud(u,b),onMouseEnter:Ud(f,v),onMouseLeave:Ud(p,b),onTouchStart:Ud(m,v)}]:[!1,y,{}]}function Ud(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function IP({page:t,...e}){let{router:n}=vO(),r=T.useMemo(()=>No(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement(FP,{page:t,matches:r,...e}):null}function BP(t){let{manifest:e,routeModules:n}=xO(),[r,i]=T.useState([]);return T.useEffect(()=>{let s=!1;return kP(t,e,n).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,n]),r}function FP({page:t,matches:e,...n}){let r=Wo(),{manifest:i,routeModules:s}=xO(),{basename:a}=vO(),{loaderData:l,matches:u}=PP(),f=T.useMemo(()=>Lj(t,e,u,i,r,"data"),[t,e,u,i,r]),p=T.useMemo(()=>Lj(t,e,u,i,r,"assets"),[t,e,u,i,r]),m=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let b=new Set,S=!1;if(e.forEach(N=>{let O=i.routes[N.route.id];!O||!O.hasLoader||(!f.some(D=>D.route.id===N.route.id)&&N.route.id in l&&s[N.route.id]?.shouldRevalidate||O.hasClientLoader?S=!0:b.add(N.route.id))}),b.size===0)return[];let C=LP(t,a);return S&&b.size>0&&C.searchParams.set("_routes",e.filter(N=>b.has(N.route.id)).map(N=>N.route.id).join(",")),[C.pathname+C.search]},[a,l,r,i,f,e,t,s]),y=T.useMemo(()=>OP(p,i),[p,i]),v=BP(p);return T.createElement(T.Fragment,null,m.map(b=>T.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),y.map(b=>T.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),v.map(({key:b,link:S})=>T.createElement("link",{key:b,...S})))}function $P(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var bO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bO&&(window.__reactRouterVersion="7.6.2")}catch{}function VP(t,e){return A7({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:GL({window:e?.window}),hydrationData:UP(),routes:t,mapRouteProperties:uP,hydrationRouteProperties:dP,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function UP(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:HP(t.errors)}),t}function HP(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Gm(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let a=new s(i.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var wO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,SO=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:l,target:u,to:f,preventScrollReset:p,viewTransition:m,...y},v){let{basename:b}=T.useContext(Ms),S=typeof f=="string"&&wO.test(f),C,N=!1;if(typeof f=="string"&&S&&(C=f,bO))try{let G=new URL(window.location.href),ge=f.startsWith("//")?new URL(G.protocol+f):new URL(f),oe=ps(ge.pathname,b);ge.origin===G.origin&&oe!=null?f=oe+ge.search+ge.hash:N=!0}catch{hr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=W7(f,{relative:i}),[D,R,E]=zP(r,y),k=YP(f,{replace:a,state:l,target:u,preventScrollReset:p,relative:i,viewTransition:m});function P(G){e&&e(G),G.defaultPrevented||k(G)}let F=T.createElement("a",{...y,...E,href:C||O,onClick:N||s?e:P,ref:$P(v,R),target:u,"data-discover":!S&&n==="render"?"true":void 0});return D&&!S?T.createElement(T.Fragment,null,F,T.createElement(IP,{page:O})):F});SO.displayName="Link";var CO=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:l,children:u,...f},p){let m=ph(a,{relative:f.relative}),y=Wo(),v=T.useContext(hh),{navigator:b,basename:S}=T.useContext(Ms),C=v!=null&&JP(m)&&l===!0,N=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,O=y.pathname,D=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(O=O.toLowerCase(),D=D?D.toLowerCase():null,N=N.toLowerCase()),D&&S&&(D=ps(D,S)||D);const R=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let E=O===N||!i&&O.startsWith(N)&&O.charAt(R)==="/",k=D!=null&&(D===N||!i&&D.startsWith(N)&&D.charAt(N.length)==="/"),P={isActive:E,isPending:k,isTransitioning:C},F=E?e:void 0,G;typeof r=="function"?G=r(P):G=[r,E?"active":null,k?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let ge=typeof s=="function"?s(P):s;return T.createElement(SO,{...f,"aria-current":F,className:G,ref:p,style:ge,to:a,viewTransition:l},typeof u=="function"?u(P):u)});CO.displayName="NavLink";var qP=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:a=Nm,action:l,onSubmit:u,relative:f,preventScrollReset:p,viewTransition:m,...y},v)=>{let b=XP(),S=QP(l,{relative:f}),C=a.toLowerCase()==="get"?"get":"post",N=typeof l=="string"&&wO.test(l),O=D=>{if(u&&u(D),D.defaultPrevented)return;D.preventDefault();let R=D.nativeEvent.submitter,E=R?.getAttribute("formmethod")||a;b(R||D.currentTarget,{fetcherKey:e,method:E,navigate:n,replace:i,state:s,relative:f,preventScrollReset:p,viewTransition:m})};return T.createElement("form",{ref:v,method:C,action:S,onSubmit:r?u:O,...y,"data-discover":!N&&t==="render"?"true":void 0})});qP.displayName="Form";function KP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NO(t){let e=T.useContext(uc);return fn(e,KP(t)),e}function YP(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let l=Hn(),u=Wo(),f=ph(t,{relative:s});return T.useCallback(p=>{if(CP(p,e)){p.preventDefault();let m=n!==void 0?n:Bo(u)===Bo(f);l(t,{replace:m,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[u,l,f,n,r,e,t,i,s,a])}var WP=0,GP=()=>`__${String(++WP)}__`;function XP(){let{router:t}=NO("useSubmit"),{basename:e}=T.useContext(Ms),n=oP();return T.useCallback(async(r,i={})=>{let{action:s,method:a,encType:l,formData:u,body:f}=jP(r,e);if(i.navigate===!1){let p=i.fetcherKey||GP();await t.fetch(p,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:f,formMethod:i.method||a,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:f,formMethod:i.method||a,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function QP(t,{relative:e}={}){let{basename:n}=T.useContext(Ms),r=T.useContext(Ds);fn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...ph(t||".",{relative:e})},a=Wo();if(t==null){s.search=a.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(p=>p==="")){l.delete("index"),u.filter(m=>m).forEach(m=>l.append("index",m));let p=l.toString();s.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Qs([n,s.pathname])),Bo(s)}function JP(t,e={}){let n=T.useContext(bw);fn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=NO("useViewTransitionState"),i=ph(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=ps(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=ps(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Wm(i.pathname,a)!=null||Wm(i.pathname,s)!=null}[..._P];var jw=J3();const TO=Ha(jw);function ZP(t){return T.createElement(hP,{flushSync:jw.flushSync,...t})}const jO="/assets/Logo-DEFM2MOm.png";var cx,Pj;function e9(){if(Pj)return cx;Pj=1;function t(N){this._maxSize=N,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(N){return this._values[N]},t.prototype.set=function(N,O){return this._size>=this._maxSize&&this.clear(),N in this._values||this._size++,this._values[N]=O};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,r=/^\d/,i=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,s=/^\s*(['"]?)(.*?)(\1)\s*$/,a=512,l=new t(a),u=new t(a),f=new t(a);cx={Cache:t,split:m,normalizePath:p,setter:function(N){var O=p(N);return u.get(N)||u.set(N,function(R,E){for(var k=0,P=O.length,F=R;k<P-1;){var G=O[k];if(G==="__proto__"||G==="constructor"||G==="prototype")return R;F=F[O[k++]]}F[O[k]]=E})},getter:function(N,O){var D=p(N);return f.get(N)||f.set(N,function(E){for(var k=0,P=D.length;k<P;)if(E!=null||!O)E=E[D[k++]];else return;return E})},join:function(N){return N.reduce(function(O,D){return O+(v(D)||n.test(D)?"["+D+"]":(O?".":"")+D)},"")},forEach:function(N,O,D){y(Array.isArray(N)?N:m(N),O,D)}};function p(N){return l.get(N)||l.set(N,m(N).map(function(O){return O.replace(s,"$2")}))}function m(N){return N.match(e)||[""]}function y(N,O,D){var R=N.length,E,k,P,F;for(k=0;k<R;k++)E=N[k],E&&(C(E)&&(E='"'+E+'"'),F=v(E),P=!F&&/^\d+$/.test(E),O.call(D,E,F,P,k,N))}function v(N){return typeof N=="string"&&N&&["'",'"'].indexOf(N.charAt(0))!==-1}function b(N){return N.match(r)&&!N.match(n)}function S(N){return i.test(N)}function C(N){return!v(N)&&(b(N)||S(N))}return cx}var $l=e9(),ux,zj;function t9(){if(zj)return ux;zj=1;const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=p=>p.match(t)||[],n=p=>p[0].toUpperCase()+p.slice(1),r=(p,m)=>e(p).join(m).toLowerCase(),i=p=>e(p).reduce((m,y)=>`${m}${m?y[0].toUpperCase()+y.slice(1).toLowerCase():y.toLowerCase()}`,"");return ux={words:e,upperFirst:n,camelCase:i,pascalCase:p=>n(i(p)),snakeCase:p=>r(p,"_"),kebabCase:p=>r(p,"-"),sentenceCase:p=>n(r(p," ")),titleCase:p=>e(p).map(n).join(" ")},ux}var dx=t9(),Hp={exports:{}},Ij;function n9(){if(Ij)return Hp.exports;Ij=1,Hp.exports=function(i){return t(e(i),i)},Hp.exports.array=t;function t(i,s){var a=i.length,l=new Array(a),u={},f=a,p=n(s),m=r(i);for(s.forEach(function(v){if(!m.has(v[0])||!m.has(v[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});f--;)u[f]||y(i[f],f,new Set);return l;function y(v,b,S){if(S.has(v)){var C;try{C=", node was:"+JSON.stringify(v)}catch{C=""}throw new Error("Cyclic dependency"+C)}if(!m.has(v))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(v));if(!u[b]){u[b]=!0;var N=p.get(v)||new Set;if(N=Array.from(N),b=N.length){S.add(v);do{var O=N[--b];y(O,m.get(O),S)}while(b);S.delete(v)}l[--a]=v}}}function e(i){for(var s=new Set,a=0,l=i.length;a<l;a++){var u=i[a];s.add(u[0]),s.add(u[1])}return Array.from(s)}function n(i){for(var s=new Map,a=0,l=i.length;a<l;a++){var u=i[a];s.has(u[0])||s.set(u[0],new Set),s.has(u[1])||s.set(u[1],new Set),s.get(u[0]).add(u[1])}return s}function r(i){for(var s=new Map,a=0,l=i.length;a<l;a++)s.set(i[a],a);return s}return Hp.exports}var r9=n9();const i9=Ha(r9),s9=Object.prototype.toString,a9=Error.prototype.toString,o9=RegExp.prototype.toString,l9=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",c9=/^Symbol\((.*)\)(.*)$/;function u9(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function Bj(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return u9(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return l9.call(t).replace(c9,"Symbol($1)");const r=s9.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+a9.call(t)+"]":r==="RegExp"?o9.call(t):null}function Ro(t,e){let n=Bj(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=Bj(this[r],e);return s!==null?s:i},2)}function EO(t){return t==null?[]:[].concat(t)}let AO,kO,OO,d9=/\$\{\s*(\w+)\s*\}/g;AO=Symbol.toStringTag;class Fj{constructor(e,n,r,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[AO]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],EO(e).forEach(s=>{if(wi.isError(s)){this.errors.push(...s.errors);const a=s.inner.length?s.inner:[s];this.inner.push(...a)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}kO=Symbol.hasInstance;OO=Symbol.toStringTag;class wi extends Error{static formatError(e,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof e=="string"?e.replace(d9,(i,s)=>Ro(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i,s){const a=new Fj(e,n,r,i);if(s)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[OO]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,wi)}static[kO](e){return Fj[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let qs={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${Ro(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Ro(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${Ro(n,!0)}\``+i}},vi={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},f9={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Ob={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},h9={isValue:"${path} field must be ${value}"},jm={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},p9={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},m9={notType:t=>{const{path:e,value:n,spec:r}=t,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${Ro(n,!0)}\``;if(n.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${Ro(n,!0)}\``}return wi.formatError(qs.notType,t)}};Object.assign(Object.create(null),{mixed:qs,string:vi,number:f9,date:Ob,object:jm,array:p9,boolean:h9,tuple:m9});const Ew=t=>t&&t.__isYupSchema__;class Qm{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,a=typeof r=="function"?r:(...l)=>l.every(u=>u===r);return new Qm(e,(l,u)=>{var f;let p=a(...l)?i:s;return(f=p?.(u))!=null?f:u})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n?.value,n?.parent,n?.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!Ew(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const qp={context:"$",value:"."};class dc{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===qp.context,this.isValue=this.key[0]===qp.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?qp.context:this.isValue?qp.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&$l.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n?.parent,n?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}dc.prototype.__isYupRef=!0;const Dl=t=>t==null;function Wc(t){function e({value:n,path:r="",options:i,originalValue:s,schema:a},l,u){const{name:f,test:p,params:m,message:y,skipAbsent:v}=t;let{parent:b,context:S,abortEarly:C=a.spec.abortEarly,disableStackTrace:N=a.spec.disableStackTrace}=i;function O(oe){return dc.isRef(oe)?oe.getValue(n,b,S):oe}function D(oe={}){const ne=Object.assign({value:n,originalValue:s,label:a.spec.label,path:oe.path||r,spec:a.spec,disableStackTrace:oe.disableStackTrace||N},m,oe.params);for(const Ee of Object.keys(ne))ne[Ee]=O(ne[Ee]);const ee=new wi(wi.formatError(oe.message||y,ne),n,ne.path,oe.type||f,ne.disableStackTrace);return ee.params=ne,ee}const R=C?l:u;let E={path:r,parent:b,type:f,from:i.from,createError:D,resolve:O,options:i,originalValue:s,schema:a};const k=oe=>{wi.isError(oe)?R(oe):oe?u(null):R(D())},P=oe=>{wi.isError(oe)?R(oe):l(oe)};if(v&&Dl(n))return k(!0);let G;try{var ge;if(G=p.call(E,n,E),typeof((ge=G)==null?void 0:ge.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${E.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(G).then(k,P)}}catch(oe){P(oe);return}k(G)}return e.OPTIONS=t,e}function g9(t,e,n,r=n){let i,s,a;return e?($l.forEach(e,(l,u,f)=>{let p=u?l.slice(1,l.length-1):l;t=t.resolve({context:r,parent:i,value:n});let m=t.type==="tuple",y=f?parseInt(p,10):0;if(t.innerType||m){if(m&&!f)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(n&&y>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[y],t=m?t.spec.types[y]:t.innerType}if(!f){if(!t.fields||!t.fields[p])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${a} which is a type: "${t.type}")`);i=n,n=n&&n[p],t=t.fields[p]}s=p,a=u?"["+l+"]":"."+l}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class Jm extends Set{describe(){const e=[];for(const n of this.values())e.push(dc.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new Jm(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function su(t,e=new Map){if(Ew(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=su(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,su(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(su(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=su(i,e)}else throw Error(`Unable to clone ${t}`);return n}let ra=class{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Jm,this._blacklist=new Jm,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(qs.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e?.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=su(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(a=>{s.test(a.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),i=n.assert==="ignore-optionality",s=r._cast(e,n);if(n.assert!==!1&&!r.isType(s)){if(i&&Dl(s))return s;let a=Ro(e),l=Ro(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${a} 
`+(l!==a?`result of cast: ${l}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:s,originalValue:a=e,strict:l=this.spec.strict}=n,u=e;l||(u=this._cast(u,Object.assign({assert:!1},n)));let f=[];for(let p of Object.values(this.internalTests))p&&f.push(p);this.runTests({path:s,value:u,originalValue:a,options:n,tests:f},r,p=>{if(p.length)return i(p,u);this.runTests({path:s,value:u,originalValue:a,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:s,value:a,originalValue:l,path:u,options:f}=e,p=S=>{i||(i=!0,n(S,a))},m=S=>{i||(i=!0,r(S,a))},y=s.length,v=[];if(!y)return m([]);let b={value:a,originalValue:l,path:u,options:f,schema:this};for(let S=0;S<s.length;S++){const C=s[S];C(b,p,function(O){O&&(Array.isArray(O)?v.push(...O):v.push(O)),--y<=0&&m(v)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:s,options:a}){const l=e??n;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const u=typeof l=="number";let f=r[l];const p=Object.assign({},a,{strict:!0,parent:r,value:f,originalValue:s[l],key:void 0,[u?"index":"key"]:l,path:u||l.includes(".")?`${i||""}[${u?l:`"${l}"`}]`:(i?`${i}.`:"")+e});return(m,y,v)=>this.resolve(p)._validate(f,p,y,v)}validate(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s=(r=n?.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((a,l)=>i._validate(e,n,(u,f)=>{wi.isError(u)&&(u.value=f),l(u)},(u,f)=>{u.length?l(new wi(u,f,void 0,void 0,s)):a(f)}))}validateSync(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s,a=(r=n?.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},n,{sync:!0}),(l,u)=>{throw wi.isError(l)&&(l.value=u),l},(l,u)=>{if(l.length)throw new wi(l,e,void 0,void 0,a);s=u}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(wi.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(wi.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):su(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=Wc({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=Wc({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=qs.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=qs.notNull){return this.nullability(!1,e)}required(e=qs.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=qs.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=Wc(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(a=>!(a.OPTIONS.name===n.name&&(s||a.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=EO(e).map(s=>new dc(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new Qm(i,n):Qm.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=Wc({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=qs.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=Wc({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,a=s.resolveAll(this.resolve);return a.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:a}})}}),r}notOneOf(e,n=qs.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=Wc({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,a=s.resolveAll(this.resolve);return a.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:a}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:a}=n.spec;return{meta:i,label:r,optional:s,nullable:a,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(u=>({name:u.OPTIONS.name,params:u.OPTIONS.params})).filter((u,f,p)=>p.findIndex(m=>m.name===u.name)===f)}}};ra.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])ra.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:a}=g9(this,e,n,r.context);return a[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])ra.prototype[t]=ra.prototype.oneOf;for(const t of["not","nope"])ra.prototype[t]=ra.prototype.notOneOf;const y9=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function v9(t){const e=Mb(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function Mb(t){var e,n;const r=y9.exec(t);return r?{year:Na(r[1]),month:Na(r[2],1)-1,day:Na(r[3],1),hour:Na(r[4]),minute:Na(r[5]),second:Na(r[6]),millisecond:r[7]?Na(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Na(r[10]),minuteOffset:Na(r[11])}:null}function Na(t,e=0){return Number(t)||e}let x9=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,b9=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,w9=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,S9="^\\d{4}-\\d{2}-\\d{2}",C9="\\d{2}:\\d{2}:\\d{2}",N9="(([+-]\\d{2}(:?\\d{2})?)|Z)",T9=new RegExp(`${S9}T${C9}(\\.\\d+)?${N9}$`),j9=t=>Dl(t)||t===t.trim(),E9={}.toString();function Db(){return new MO}class MO extends ra{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===E9?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||qs.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=vi.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=vi.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=vi.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||vi.matches,params:{regex:e},skipAbsent:!0,test:a=>a===""&&r||a.search(e)!==-1})}email(e=vi.email){return this.matches(x9,{name:"email",message:e,excludeEmptyString:!0})}url(e=vi.url){return this.matches(b9,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=vi.uuid){return this.matches(w9,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,i;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:i=void 0}=e:n=e),this.matches(T9,{name:"datetime",message:n||vi.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||vi.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:s=>{if(!s||r)return!0;const a=Mb(s);return a?!!a.z:!1}}).test({name:"datetime_precision",message:n||vi.datetime_precision,params:{precision:i},skipAbsent:!0,test:s=>{if(!s||i==null)return!0;const a=Mb(s);return a?a.precision===i:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=vi.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:j9})}lowercase(e=vi.lowercase){return this.transform(n=>Dl(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Dl(n)||n===n.toLowerCase()})}uppercase(e=vi.uppercase){return this.transform(n=>Dl(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Dl(n)||n===n.toUpperCase()})}}Db.prototype=MO.prototype;let A9=new Date(""),k9=t=>Object.prototype.toString.call(t)==="[object Date]";class Aw extends ra{constructor(){super({type:"date",check(e){return k9(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=v9(e),isNaN(e)?Aw.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(dc.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=Ob.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=Ob.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}Aw.INVALID_DATE=A9;function O9(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([a,l])=>`${a}-${l}`));function s(a,l){let u=$l.split(a)[0];r.add(u),i.has(`${l}-${u}`)||n.push([l,u])}for(const a of Object.keys(t)){let l=t[a];r.add(a),dc.isRef(l)&&l.isSibling?s(l.path,a):Ew(l)&&"deps"in l&&l.deps.forEach(u=>s(u,a))}return i9.array(Array.from(r),n).reverse()}function $j(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function DO(t){return(e,n)=>$j(t,e)-$j(t,n)}const M9=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function Em(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=Em(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Em(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Em)}):"optional"in t?t.optional():t}const D9=(t,e)=>{const n=[...$l.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=$l.getter($l.join(n),!0)(t);return!!(i&&r in i)};let Vj=t=>Object.prototype.toString.call(t)==="[object Object]";function Uj(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const R9=DO([]);function RO(t){return new _O(t)}class _O extends ra{constructor(e){super({type:"object",check(n){return Vj(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=R9,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,a=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(i).filter(m=>!this._nodes.includes(m))),u={},f=Object.assign({},n,{parent:u,__validating:n.__validating||!1}),p=!1;for(const m of l){let y=s[m],v=m in i;if(y){let b,S=i[m];f.path=(n.path?`${n.path}.`:"")+m,y=y.resolve({value:S,context:n.context,parent:u});let C=y instanceof ra?y.spec:void 0,N=C?.strict;if(C!=null&&C.strip){p=p||m in i;continue}b=!n.__validating||!N?y.cast(i[m],f):i[m],b!==void 0&&(u[m]=b)}else v&&!a&&(u[m]=i[m]);(v!==m in u||u[m]!==i[m])&&(p=!0)}return p?u:i}_validate(e,n={},r,i){let{from:s=[],originalValue:a=e,recursive:l=this.spec.recursive}=n;n.from=[{schema:this,value:a},...s],n.__validating=!0,n.originalValue=a,super._validate(e,n,r,(u,f)=>{if(!l||!Vj(f)){i(u,f);return}a=a||f;let p=[];for(let m of this._nodes){let y=this.fields[m];!y||dc.isRef(y)||p.push(y.asNestedTest({options:n,key:m,parent:f,parentPath:n.path,originalParent:a}))}this.runTests({tests:p,value:f,originalValue:a,options:n},r,m=>{i(m.sort(this._sortErrors).concat(u),f)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const a=r[i];r[i]=a===void 0?s:a}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(a):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=O9(e,n),r._sortErrors=DO(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return Em(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let i=$l.getter(e,!0);return this.transform(s=>{if(!s)return s;let a=s;return D9(s,e)&&(a=Object.assign({},s),r||delete a[e],a[n]=i(s)),a})}json(){return this.transform(M9)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||jm.exact,test(n){if(n==null)return!0;const r=Uj(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=jm.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=Uj(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=jm.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(dx.camelCase)}snakeCase(){return this.transformKeys(dx.snakeCase)}constantCase(){return this.transformKeys(e=>dx.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[s,a]of Object.entries(n.fields)){var i;let l=e;(i=l)!=null&&i.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[s]})),r.fields[s]=a.describe(l)}return r}}RO.prototype=_O.prototype;var _9=function(e){return L9(e)&&!P9(e)};function L9(t){return!!t&&typeof t=="object"}function P9(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||B9(t)}var z9=typeof Symbol=="function"&&Symbol.for,I9=z9?Symbol.for("react.element"):60103;function B9(t){return t.$$typeof===I9}function F9(t){return Array.isArray(t)?[]:{}}function Zm(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Pf(F9(t),t,e):t}function $9(t,e,n){return t.concat(e).map(function(r){return Zm(r,n)})}function V9(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(i){r[i]=Zm(t[i],n)}),Object.keys(e).forEach(function(i){!n.isMergeableObject(e[i])||!t[i]?r[i]=Zm(e[i],n):r[i]=Pf(t[i],e[i],n)}),r}function Pf(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||$9,n.isMergeableObject=n.isMergeableObject||_9;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):V9(t,e,n):Zm(e,n)}Pf.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return Pf(r,i,n)},{})};var Rb=Pf,LO=typeof global=="object"&&global&&global.Object===Object&&global,U9=typeof self=="object"&&self&&self.Object===Object&&self,oa=LO||U9||Function("return this")(),Fo=oa.Symbol,PO=Object.prototype,H9=PO.hasOwnProperty,q9=PO.toString,Hd=Fo?Fo.toStringTag:void 0;function K9(t){var e=H9.call(t,Hd),n=t[Hd];try{t[Hd]=void 0;var r=!0}catch{}var i=q9.call(t);return r&&(e?t[Hd]=n:delete t[Hd]),i}var Y9=Object.prototype,W9=Y9.toString;function G9(t){return W9.call(t)}var X9="[object Null]",Q9="[object Undefined]",Hj=Fo?Fo.toStringTag:void 0;function fc(t){return t==null?t===void 0?Q9:X9:Hj&&Hj in Object(t)?K9(t):G9(t)}function zO(t,e){return function(n){return t(e(n))}}var kw=zO(Object.getPrototypeOf,Object);function hc(t){return t!=null&&typeof t=="object"}var J9="[object Object]",Z9=Function.prototype,ez=Object.prototype,IO=Z9.toString,tz=ez.hasOwnProperty,nz=IO.call(Object);function qj(t){if(!hc(t)||fc(t)!=J9)return!1;var e=kw(t);if(e===null)return!0;var n=tz.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&IO.call(n)==nz}function rz(){this.__data__=[],this.size=0}function BO(t,e){return t===e||t!==t&&e!==e}function my(t,e){for(var n=t.length;n--;)if(BO(t[n][0],e))return n;return-1}var iz=Array.prototype,sz=iz.splice;function az(t){var e=this.__data__,n=my(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():sz.call(e,n,1),--this.size,!0}function oz(t){var e=this.__data__,n=my(e,t);return n<0?void 0:e[n][1]}function lz(t){return my(this.__data__,t)>-1}function cz(t,e){var n=this.__data__,r=my(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function qa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}qa.prototype.clear=rz;qa.prototype.delete=az;qa.prototype.get=oz;qa.prototype.has=lz;qa.prototype.set=cz;function uz(){this.__data__=new qa,this.size=0}function dz(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function fz(t){return this.__data__.get(t)}function hz(t){return this.__data__.has(t)}function mh(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var pz="[object AsyncFunction]",mz="[object Function]",gz="[object GeneratorFunction]",yz="[object Proxy]";function FO(t){if(!mh(t))return!1;var e=fc(t);return e==mz||e==gz||e==pz||e==yz}var fx=oa["__core-js_shared__"],Kj=function(){var t=/[^.]+$/.exec(fx&&fx.keys&&fx.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function vz(t){return!!Kj&&Kj in t}var xz=Function.prototype,bz=xz.toString;function pc(t){if(t!=null){try{return bz.call(t)}catch{}try{return t+""}catch{}}return""}var wz=/[\\^$.*+?()[\]{}|]/g,Sz=/^\[object .+?Constructor\]$/,Cz=Function.prototype,Nz=Object.prototype,Tz=Cz.toString,jz=Nz.hasOwnProperty,Ez=RegExp("^"+Tz.call(jz).replace(wz,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Az(t){if(!mh(t)||vz(t))return!1;var e=FO(t)?Ez:Sz;return e.test(pc(t))}function kz(t,e){return t?.[e]}function mc(t,e){var n=kz(t,e);return Az(n)?n:void 0}var zf=mc(oa,"Map"),If=mc(Object,"create");function Oz(){this.__data__=If?If(null):{},this.size=0}function Mz(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Dz="__lodash_hash_undefined__",Rz=Object.prototype,_z=Rz.hasOwnProperty;function Lz(t){var e=this.__data__;if(If){var n=e[t];return n===Dz?void 0:n}return _z.call(e,t)?e[t]:void 0}var Pz=Object.prototype,zz=Pz.hasOwnProperty;function Iz(t){var e=this.__data__;return If?e[t]!==void 0:zz.call(e,t)}var Bz="__lodash_hash_undefined__";function Fz(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=If&&e===void 0?Bz:e,this}function Zl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Zl.prototype.clear=Oz;Zl.prototype.delete=Mz;Zl.prototype.get=Lz;Zl.prototype.has=Iz;Zl.prototype.set=Fz;function $z(){this.size=0,this.__data__={hash:new Zl,map:new(zf||qa),string:new Zl}}function Vz(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function gy(t,e){var n=t.__data__;return Vz(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Uz(t){var e=gy(this,t).delete(t);return this.size-=e?1:0,e}function Hz(t){return gy(this,t).get(t)}function qz(t){return gy(this,t).has(t)}function Kz(t,e){var n=gy(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Go(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Go.prototype.clear=$z;Go.prototype.delete=Uz;Go.prototype.get=Hz;Go.prototype.has=qz;Go.prototype.set=Kz;var Yz=200;function Wz(t,e){var n=this.__data__;if(n instanceof qa){var r=n.__data__;if(!zf||r.length<Yz-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Go(r)}return n.set(t,e),this.size=n.size,this}function Du(t){var e=this.__data__=new qa(t);this.size=e.size}Du.prototype.clear=uz;Du.prototype.delete=dz;Du.prototype.get=fz;Du.prototype.has=hz;Du.prototype.set=Wz;function Gz(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var Yj=function(){try{var t=mc(Object,"defineProperty");return t({},"",{}),t}catch{}}();function $O(t,e,n){e=="__proto__"&&Yj?Yj(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Xz=Object.prototype,Qz=Xz.hasOwnProperty;function VO(t,e,n){var r=t[e];(!(Qz.call(t,e)&&BO(r,n))||n===void 0&&!(e in t))&&$O(t,e,n)}function yy(t,e,n,r){var i=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var l=e[s],u=void 0;u===void 0&&(u=t[l]),i?$O(n,l,u):VO(n,l,u)}return n}function Jz(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Zz="[object Arguments]";function Wj(t){return hc(t)&&fc(t)==Zz}var UO=Object.prototype,eI=UO.hasOwnProperty,tI=UO.propertyIsEnumerable,nI=Wj(function(){return arguments}())?Wj:function(t){return hc(t)&&eI.call(t,"callee")&&!tI.call(t,"callee")},gh=Array.isArray;function rI(){return!1}var HO=typeof Ui=="object"&&Ui&&!Ui.nodeType&&Ui,Gj=HO&&typeof Hi=="object"&&Hi&&!Hi.nodeType&&Hi,iI=Gj&&Gj.exports===HO,Xj=iI?oa.Buffer:void 0,sI=Xj?Xj.isBuffer:void 0,qO=sI||rI,aI=9007199254740991,oI=/^(?:0|[1-9]\d*)$/;function lI(t,e){var n=typeof t;return e=e??aI,!!e&&(n=="number"||n!="symbol"&&oI.test(t))&&t>-1&&t%1==0&&t<e}var cI=9007199254740991;function KO(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=cI}var uI="[object Arguments]",dI="[object Array]",fI="[object Boolean]",hI="[object Date]",pI="[object Error]",mI="[object Function]",gI="[object Map]",yI="[object Number]",vI="[object Object]",xI="[object RegExp]",bI="[object Set]",wI="[object String]",SI="[object WeakMap]",CI="[object ArrayBuffer]",NI="[object DataView]",TI="[object Float32Array]",jI="[object Float64Array]",EI="[object Int8Array]",AI="[object Int16Array]",kI="[object Int32Array]",OI="[object Uint8Array]",MI="[object Uint8ClampedArray]",DI="[object Uint16Array]",RI="[object Uint32Array]",$n={};$n[TI]=$n[jI]=$n[EI]=$n[AI]=$n[kI]=$n[OI]=$n[MI]=$n[DI]=$n[RI]=!0;$n[uI]=$n[dI]=$n[CI]=$n[fI]=$n[NI]=$n[hI]=$n[pI]=$n[mI]=$n[gI]=$n[yI]=$n[vI]=$n[xI]=$n[bI]=$n[wI]=$n[SI]=!1;function _I(t){return hc(t)&&KO(t.length)&&!!$n[fc(t)]}function Ow(t){return function(e){return t(e)}}var YO=typeof Ui=="object"&&Ui&&!Ui.nodeType&&Ui,cf=YO&&typeof Hi=="object"&&Hi&&!Hi.nodeType&&Hi,LI=cf&&cf.exports===YO,hx=LI&&LO.process,yu=function(){try{var t=cf&&cf.require&&cf.require("util").types;return t||hx&&hx.binding&&hx.binding("util")}catch{}}(),Qj=yu&&yu.isTypedArray,PI=Qj?Ow(Qj):_I,zI=Object.prototype,II=zI.hasOwnProperty;function WO(t,e){var n=gh(t),r=!n&&nI(t),i=!n&&!r&&qO(t),s=!n&&!r&&!i&&PI(t),a=n||r||i||s,l=a?Jz(t.length,String):[],u=l.length;for(var f in t)(e||II.call(t,f))&&!(a&&(f=="length"||i&&(f=="offset"||f=="parent")||s&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||lI(f,u)))&&l.push(f);return l}var BI=Object.prototype;function Mw(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||BI;return t===n}var FI=zO(Object.keys,Object),$I=Object.prototype,VI=$I.hasOwnProperty;function UI(t){if(!Mw(t))return FI(t);var e=[];for(var n in Object(t))VI.call(t,n)&&n!="constructor"&&e.push(n);return e}function GO(t){return t!=null&&KO(t.length)&&!FO(t)}function Dw(t){return GO(t)?WO(t):UI(t)}function HI(t,e){return t&&yy(e,Dw(e),t)}function qI(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var KI=Object.prototype,YI=KI.hasOwnProperty;function WI(t){if(!mh(t))return qI(t);var e=Mw(t),n=[];for(var r in t)r=="constructor"&&(e||!YI.call(t,r))||n.push(r);return n}function Rw(t){return GO(t)?WO(t,!0):WI(t)}function GI(t,e){return t&&yy(e,Rw(e),t)}var XO=typeof Ui=="object"&&Ui&&!Ui.nodeType&&Ui,Jj=XO&&typeof Hi=="object"&&Hi&&!Hi.nodeType&&Hi,XI=Jj&&Jj.exports===XO,Zj=XI?oa.Buffer:void 0,eE=Zj?Zj.allocUnsafe:void 0;function QI(t,e){if(e)return t.slice();var n=t.length,r=eE?eE(n):new t.constructor(n);return t.copy(r),r}function QO(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function JI(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var a=t[n];e(a,n,t)&&(s[i++]=a)}return s}function JO(){return[]}var ZI=Object.prototype,eB=ZI.propertyIsEnumerable,tE=Object.getOwnPropertySymbols,_w=tE?function(t){return t==null?[]:(t=Object(t),JI(tE(t),function(e){return eB.call(t,e)}))}:JO;function tB(t,e){return yy(t,_w(t),e)}function ZO(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var nB=Object.getOwnPropertySymbols,e5=nB?function(t){for(var e=[];t;)ZO(e,_w(t)),t=kw(t);return e}:JO;function rB(t,e){return yy(t,e5(t),e)}function t5(t,e,n){var r=e(t);return gh(t)?r:ZO(r,n(t))}function iB(t){return t5(t,Dw,_w)}function sB(t){return t5(t,Rw,e5)}var _b=mc(oa,"DataView"),Lb=mc(oa,"Promise"),Pb=mc(oa,"Set"),zb=mc(oa,"WeakMap"),nE="[object Map]",aB="[object Object]",rE="[object Promise]",iE="[object Set]",sE="[object WeakMap]",aE="[object DataView]",oB=pc(_b),lB=pc(zf),cB=pc(Lb),uB=pc(Pb),dB=pc(zb),_a=fc;(_b&&_a(new _b(new ArrayBuffer(1)))!=aE||zf&&_a(new zf)!=nE||Lb&&_a(Lb.resolve())!=rE||Pb&&_a(new Pb)!=iE||zb&&_a(new zb)!=sE)&&(_a=function(t){var e=fc(t),n=e==aB?t.constructor:void 0,r=n?pc(n):"";if(r)switch(r){case oB:return aE;case lB:return nE;case cB:return rE;case uB:return iE;case dB:return sE}return e});var fB=Object.prototype,hB=fB.hasOwnProperty;function pB(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&hB.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var oE=oa.Uint8Array;function Lw(t){var e=new t.constructor(t.byteLength);return new oE(e).set(new oE(t)),e}function mB(t,e){var n=e?Lw(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var gB=/\w*$/;function yB(t){var e=new t.constructor(t.source,gB.exec(t));return e.lastIndex=t.lastIndex,e}var lE=Fo?Fo.prototype:void 0,cE=lE?lE.valueOf:void 0;function vB(t){return cE?Object(cE.call(t)):{}}function xB(t,e){var n=e?Lw(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var bB="[object Boolean]",wB="[object Date]",SB="[object Map]",CB="[object Number]",NB="[object RegExp]",TB="[object Set]",jB="[object String]",EB="[object Symbol]",AB="[object ArrayBuffer]",kB="[object DataView]",OB="[object Float32Array]",MB="[object Float64Array]",DB="[object Int8Array]",RB="[object Int16Array]",_B="[object Int32Array]",LB="[object Uint8Array]",PB="[object Uint8ClampedArray]",zB="[object Uint16Array]",IB="[object Uint32Array]";function BB(t,e,n){var r=t.constructor;switch(e){case AB:return Lw(t);case bB:case wB:return new r(+t);case kB:return mB(t,n);case OB:case MB:case DB:case RB:case _B:case LB:case PB:case zB:case IB:return xB(t,n);case SB:return new r;case CB:case jB:return new r(t);case NB:return yB(t);case TB:return new r;case EB:return vB(t)}}var uE=Object.create,FB=function(){function t(){}return function(e){if(!mh(e))return{};if(uE)return uE(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function $B(t){return typeof t.constructor=="function"&&!Mw(t)?FB(kw(t)):{}}var VB="[object Map]";function UB(t){return hc(t)&&_a(t)==VB}var dE=yu&&yu.isMap,HB=dE?Ow(dE):UB,qB="[object Set]";function KB(t){return hc(t)&&_a(t)==qB}var fE=yu&&yu.isSet,YB=fE?Ow(fE):KB,WB=1,GB=2,XB=4,n5="[object Arguments]",QB="[object Array]",JB="[object Boolean]",ZB="[object Date]",eF="[object Error]",r5="[object Function]",tF="[object GeneratorFunction]",nF="[object Map]",rF="[object Number]",i5="[object Object]",iF="[object RegExp]",sF="[object Set]",aF="[object String]",oF="[object Symbol]",lF="[object WeakMap]",cF="[object ArrayBuffer]",uF="[object DataView]",dF="[object Float32Array]",fF="[object Float64Array]",hF="[object Int8Array]",pF="[object Int16Array]",mF="[object Int32Array]",gF="[object Uint8Array]",yF="[object Uint8ClampedArray]",vF="[object Uint16Array]",xF="[object Uint32Array]",zn={};zn[n5]=zn[QB]=zn[cF]=zn[uF]=zn[JB]=zn[ZB]=zn[dF]=zn[fF]=zn[hF]=zn[pF]=zn[mF]=zn[nF]=zn[rF]=zn[i5]=zn[iF]=zn[sF]=zn[aF]=zn[oF]=zn[gF]=zn[yF]=zn[vF]=zn[xF]=!0;zn[eF]=zn[r5]=zn[lF]=!1;function uf(t,e,n,r,i,s){var a,l=e&WB,u=e&GB,f=e&XB;if(a!==void 0)return a;if(!mh(t))return t;var p=gh(t);if(p){if(a=pB(t),!l)return QO(t,a)}else{var m=_a(t),y=m==r5||m==tF;if(qO(t))return QI(t,l);if(m==i5||m==n5||y&&!i){if(a=u||y?{}:$B(t),!l)return u?rB(t,GI(a,t)):tB(t,HI(a,t))}else{if(!zn[m])return i?t:{};a=BB(t,m,l)}}s||(s=new Du);var v=s.get(t);if(v)return v;s.set(t,a),YB(t)?t.forEach(function(C){a.add(uf(C,e,n,C,t,s))}):HB(t)&&t.forEach(function(C,N){a.set(N,uf(C,e,n,N,t,s))});var b=f?u?sB:iB:u?Rw:Dw,S=p?void 0:b(t);return Gz(S||t,function(C,N){S&&(N=C,C=t[N]),VO(a,N,uf(C,e,n,N,t,s))}),a}var bF=1,wF=4;function Kp(t){return uf(t,bF|wF)}var px,hE;function SF(){if(hE)return px;hE=1;var t=Array.isArray,e=Object.keys,n=Object.prototype.hasOwnProperty,r=typeof Element<"u";function i(s,a){if(s===a)return!0;if(s&&a&&typeof s=="object"&&typeof a=="object"){var l=t(s),u=t(a),f,p,m;if(l&&u){if(p=s.length,p!=a.length)return!1;for(f=p;f--!==0;)if(!i(s[f],a[f]))return!1;return!0}if(l!=u)return!1;var y=s instanceof Date,v=a instanceof Date;if(y!=v)return!1;if(y&&v)return s.getTime()==a.getTime();var b=s instanceof RegExp,S=a instanceof RegExp;if(b!=S)return!1;if(b&&S)return s.toString()==a.toString();var C=e(s);if(p=C.length,p!==e(a).length)return!1;for(f=p;f--!==0;)if(!n.call(a,C[f]))return!1;if(r&&s instanceof Element&&a instanceof Element)return s===a;for(f=p;f--!==0;)if(m=C[f],!(m==="_owner"&&s.$$typeof)&&!i(s[m],a[m]))return!1;return!0}return s!==s&&a!==a}return px=function(a,l){try{return i(a,l)}catch(u){if(u.message&&u.message.match(/stack|recursion/i)||u.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",u.name,u.message),!1;throw u}},px}var CF=SF();const Tl=Ha(CF);var NF=4;function pE(t){return uf(t,NF)}function s5(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var TF="[object Symbol]";function Pw(t){return typeof t=="symbol"||hc(t)&&fc(t)==TF}var jF="Expected a function";function zw(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(jF);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=t.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(zw.Cache||Go),n}zw.Cache=Go;var EF=500;function AF(t){var e=zw(t,function(r){return n.size===EF&&n.clear(),r}),n=e.cache;return e}var kF=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,OF=/\\(\\)?/g,MF=AF(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(kF,function(n,r,i,s){e.push(i?s.replace(OF,"$1"):r||n)}),e});function DF(t){if(typeof t=="string"||Pw(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var mE=Fo?Fo.prototype:void 0,gE=mE?mE.toString:void 0;function a5(t){if(typeof t=="string")return t;if(gh(t))return s5(t,a5)+"";if(Pw(t))return gE?gE.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function RF(t){return t==null?"":a5(t)}function o5(t){return gh(t)?s5(t,DF):Pw(t)?[t]:QO(MF(RF(t)))}var mx={exports:{}},Nn={};var yE;function _F(){if(yE)return Nn;yE=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,a=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,u=t?Symbol.for("react.async_mode"):60111,f=t?Symbol.for("react.concurrent_mode"):60111,p=t?Symbol.for("react.forward_ref"):60112,m=t?Symbol.for("react.suspense"):60113,y=t?Symbol.for("react.suspense_list"):60120,v=t?Symbol.for("react.memo"):60115,b=t?Symbol.for("react.lazy"):60116,S=t?Symbol.for("react.block"):60121,C=t?Symbol.for("react.fundamental"):60117,N=t?Symbol.for("react.responder"):60118,O=t?Symbol.for("react.scope"):60119;function D(E){if(typeof E=="object"&&E!==null){var k=E.$$typeof;switch(k){case e:switch(E=E.type,E){case u:case f:case r:case s:case i:case m:return E;default:switch(E=E&&E.$$typeof,E){case l:case p:case b:case v:case a:return E;default:return k}}case n:return k}}}function R(E){return D(E)===f}return Nn.AsyncMode=u,Nn.ConcurrentMode=f,Nn.ContextConsumer=l,Nn.ContextProvider=a,Nn.Element=e,Nn.ForwardRef=p,Nn.Fragment=r,Nn.Lazy=b,Nn.Memo=v,Nn.Portal=n,Nn.Profiler=s,Nn.StrictMode=i,Nn.Suspense=m,Nn.isAsyncMode=function(E){return R(E)||D(E)===u},Nn.isConcurrentMode=R,Nn.isContextConsumer=function(E){return D(E)===l},Nn.isContextProvider=function(E){return D(E)===a},Nn.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===e},Nn.isForwardRef=function(E){return D(E)===p},Nn.isFragment=function(E){return D(E)===r},Nn.isLazy=function(E){return D(E)===b},Nn.isMemo=function(E){return D(E)===v},Nn.isPortal=function(E){return D(E)===n},Nn.isProfiler=function(E){return D(E)===s},Nn.isStrictMode=function(E){return D(E)===i},Nn.isSuspense=function(E){return D(E)===m},Nn.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===r||E===f||E===s||E===i||E===m||E===y||typeof E=="object"&&E!==null&&(E.$$typeof===b||E.$$typeof===v||E.$$typeof===a||E.$$typeof===l||E.$$typeof===p||E.$$typeof===C||E.$$typeof===N||E.$$typeof===O||E.$$typeof===S)},Nn.typeOf=D,Nn}var vE;function LF(){return vE||(vE=1,mx.exports=_F()),mx.exports}var gx,xE;function PF(){if(xE)return gx;xE=1;var t=LF(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[t.ForwardRef]=r,s[t.Memo]=i;function a(b){return t.isMemo(b)?i:s[b.$$typeof]||e}var l=Object.defineProperty,u=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,y=Object.prototype;function v(b,S,C){if(typeof S!="string"){if(y){var N=m(S);N&&N!==y&&v(b,N,C)}var O=u(S);f&&(O=O.concat(f(S)));for(var D=a(b),R=a(S),E=0;E<O.length;++E){var k=O[E];if(!n[k]&&!(C&&C[k])&&!(R&&R[k])&&!(D&&D[k])){var P=p(S,k);try{l(b,k,P)}catch{}}}}return b}return gx=v,gx}PF();function Dr(){return Dr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dr.apply(this,arguments)}function l5(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var vy=T.createContext(void 0);vy.displayName="FormikContext";vy.Provider;vy.Consumer;function zF(){var t=T.useContext(vy);return t}var bs=function(e){return typeof e=="function"},xy=function(e){return e!==null&&typeof e=="object"},IF=function(e){return String(Math.floor(Number(e)))===e},yx=function(e){return Object.prototype.toString.call(e)==="[object String]"},vx=function(e){return xy(e)&&bs(e.then)};function Ii(t,e,n,r){r===void 0&&(r=0);for(var i=o5(e);t&&r<i.length;)t=t[i[r++]];return r!==i.length&&!t||t===void 0?n:t}function Vl(t,e,n){for(var r=pE(t),i=r,s=0,a=o5(e);s<a.length-1;s++){var l=a[s],u=Ii(t,a.slice(0,s+1));if(u&&(xy(u)||Array.isArray(u)))i=i[l]=pE(u);else{var f=a[s+1];i=i[l]=IF(f)&&Number(f)>=0?[]:{}}}return(s===0?t:i)[a[s]]===n?t:(n===void 0?delete i[a[s]]:i[a[s]]=n,s===0&&n===void 0&&delete r[a[s]],r)}function c5(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,s=Object.keys(t);i<s.length;i++){var a=s[i],l=t[a];xy(l)?n.get(l)||(n.set(l,!0),r[a]=Array.isArray(l)?[]:{},c5(l,e,n,r[a])):r[a]=e}return r}function BF(t,e){switch(e.type){case"SET_VALUES":return Dr({},t,{values:e.payload});case"SET_TOUCHED":return Dr({},t,{touched:e.payload});case"SET_ERRORS":return Tl(t.errors,e.payload)?t:Dr({},t,{errors:e.payload});case"SET_STATUS":return Dr({},t,{status:e.payload});case"SET_ISSUBMITTING":return Dr({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return Dr({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return Dr({},t,{values:Vl(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return Dr({},t,{touched:Vl(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return Dr({},t,{errors:Vl(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return Dr({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return Dr({},t,{touched:c5(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return Dr({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Dr({},t,{isSubmitting:!1});default:return t}}var wl={},Yp={};function FF(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,i=r===void 0?!0:r,s=t.validateOnMount,a=s===void 0?!1:s,l=t.isInitialValid,u=t.enableReinitialize,f=u===void 0?!1:u,p=t.onSubmit,m=l5(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),y=Dr({validateOnChange:n,validateOnBlur:i,validateOnMount:a,onSubmit:p},m),v=T.useRef(y.initialValues),b=T.useRef(y.initialErrors||wl),S=T.useRef(y.initialTouched||Yp),C=T.useRef(y.initialStatus),N=T.useRef(!1),O=T.useRef({});T.useEffect(function(){return N.current=!0,function(){N.current=!1}},[]);var D=T.useState(0),R=D[1],E=T.useRef({values:Kp(y.initialValues),errors:Kp(y.initialErrors)||wl,touched:Kp(y.initialTouched)||Yp,status:Kp(y.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),k=E.current,P=T.useCallback(function(I){var ce=E.current;E.current=BF(ce,I),ce!==E.current&&R(function(ye){return ye+1})},[]),F=T.useCallback(function(I,ce){return new Promise(function(ye,$){var U=y.validate(I,ce);U==null?ye(wl):vx(U)?U.then(function(be){ye(be||wl)},function(be){$(be)}):ye(U)})},[y.validate]),G=T.useCallback(function(I,ce){var ye=y.validationSchema,$=bs(ye)?ye(ce):ye,U=ce&&$.validateAt?$.validateAt(ce,I):VF(I,$);return new Promise(function(be,We){U.then(function(){be(wl)},function(ht){ht.name==="ValidationError"?be($F(ht)):We(ht)})})},[y.validationSchema]),ge=T.useCallback(function(I,ce){return new Promise(function(ye){return ye(O.current[I].validate(ce))})},[]),oe=T.useCallback(function(I){var ce=Object.keys(O.current).filter(function($){return bs(O.current[$].validate)}),ye=ce.length>0?ce.map(function($){return ge($,Ii(I,$))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(ye).then(function($){return $.reduce(function(U,be,We){return be==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||be&&(U=Vl(U,ce[We],be)),U},{})})},[ge]),ne=T.useCallback(function(I){return Promise.all([oe(I),y.validationSchema?G(I):{},y.validate?F(I):{}]).then(function(ce){var ye=ce[0],$=ce[1],U=ce[2],be=Rb.all([ye,$,U],{arrayMerge:UF});return be})},[y.validate,y.validationSchema,oe,F,G]),ee=ts(function(I){return I===void 0&&(I=k.values),P({type:"SET_ISVALIDATING",payload:!0}),ne(I).then(function(ce){return N.current&&(P({type:"SET_ISVALIDATING",payload:!1}),P({type:"SET_ERRORS",payload:ce})),ce})});T.useEffect(function(){a&&N.current===!0&&Tl(v.current,y.initialValues)&&ee(v.current)},[a,ee]);var Ee=T.useCallback(function(I){var ce=I&&I.values?I.values:v.current,ye=I&&I.errors?I.errors:b.current?b.current:y.initialErrors||{},$=I&&I.touched?I.touched:S.current?S.current:y.initialTouched||{},U=I&&I.status?I.status:C.current?C.current:y.initialStatus;v.current=ce,b.current=ye,S.current=$,C.current=U;var be=function(){P({type:"RESET_FORM",payload:{isSubmitting:!!I&&!!I.isSubmitting,errors:ye,touched:$,status:U,values:ce,isValidating:!!I&&!!I.isValidating,submitCount:I&&I.submitCount&&typeof I.submitCount=="number"?I.submitCount:0}})};if(y.onReset){var We=y.onReset(k.values,_t);vx(We)?We.then(be):be()}else be()},[y.initialErrors,y.initialStatus,y.initialTouched,y.onReset]);T.useEffect(function(){N.current===!0&&!Tl(v.current,y.initialValues)&&f&&(v.current=y.initialValues,Ee(),a&&ee(v.current))},[f,y.initialValues,Ee,a,ee]),T.useEffect(function(){f&&N.current===!0&&!Tl(b.current,y.initialErrors)&&(b.current=y.initialErrors||wl,P({type:"SET_ERRORS",payload:y.initialErrors||wl}))},[f,y.initialErrors]),T.useEffect(function(){f&&N.current===!0&&!Tl(S.current,y.initialTouched)&&(S.current=y.initialTouched||Yp,P({type:"SET_TOUCHED",payload:y.initialTouched||Yp}))},[f,y.initialTouched]),T.useEffect(function(){f&&N.current===!0&&!Tl(C.current,y.initialStatus)&&(C.current=y.initialStatus,P({type:"SET_STATUS",payload:y.initialStatus}))},[f,y.initialStatus,y.initialTouched]);var Oe=ts(function(I){if(O.current[I]&&bs(O.current[I].validate)){var ce=Ii(k.values,I),ye=O.current[I].validate(ce);return vx(ye)?(P({type:"SET_ISVALIDATING",payload:!0}),ye.then(function($){return $}).then(function($){P({type:"SET_FIELD_ERROR",payload:{field:I,value:$}}),P({type:"SET_ISVALIDATING",payload:!1})})):(P({type:"SET_FIELD_ERROR",payload:{field:I,value:ye}}),Promise.resolve(ye))}else if(y.validationSchema)return P({type:"SET_ISVALIDATING",payload:!0}),G(k.values,I).then(function($){return $}).then(function($){P({type:"SET_FIELD_ERROR",payload:{field:I,value:Ii($,I)}}),P({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),K=T.useCallback(function(I,ce){var ye=ce.validate;O.current[I]={validate:ye}},[]),re=T.useCallback(function(I){delete O.current[I]},[]),ue=ts(function(I,ce){P({type:"SET_TOUCHED",payload:I});var ye=ce===void 0?i:ce;return ye?ee(k.values):Promise.resolve()}),ze=T.useCallback(function(I){P({type:"SET_ERRORS",payload:I})},[]),q=ts(function(I,ce){var ye=bs(I)?I(k.values):I;P({type:"SET_VALUES",payload:ye});var $=ce===void 0?n:ce;return $?ee(ye):Promise.resolve()}),ae=T.useCallback(function(I,ce){P({type:"SET_FIELD_ERROR",payload:{field:I,value:ce}})},[]),pe=ts(function(I,ce,ye){P({type:"SET_FIELD_VALUE",payload:{field:I,value:ce}});var $=ye===void 0?n:ye;return $?ee(Vl(k.values,I,ce)):Promise.resolve()}),xe=T.useCallback(function(I,ce){var ye=ce,$=I,U;if(!yx(I)){I.persist&&I.persist();var be=I.target?I.target:I.currentTarget,We=be.type,ht=be.name,Qt=be.id,Lt=be.value,ln=be.checked;be.outerHTML;var sn=be.options,Se=be.multiple;ye=ce||ht||Qt,$=/number|range/.test(We)?(U=parseFloat(Lt),isNaN(U)?"":U):/checkbox/.test(We)?qF(Ii(k.values,ye),ln,Lt):sn&&Se?HF(sn):Lt}ye&&pe(ye,$)},[pe,k.values]),Re=ts(function(I){if(yx(I))return function(ce){return xe(ce,I)};xe(I)}),_e=ts(function(I,ce,ye){ce===void 0&&(ce=!0),P({type:"SET_FIELD_TOUCHED",payload:{field:I,value:ce}});var $=ye===void 0?i:ye;return $?ee(k.values):Promise.resolve()}),he=T.useCallback(function(I,ce){I.persist&&I.persist();var ye=I.target,$=ye.name,U=ye.id;ye.outerHTML;var be=ce||$||U;_e(be,!0)},[_e]),Be=ts(function(I){if(yx(I))return function(ce){return he(ce,I)};he(I)}),Le=T.useCallback(function(I){bs(I)?P({type:"SET_FORMIK_STATE",payload:I}):P({type:"SET_FORMIK_STATE",payload:function(){return I}})},[]),ot=T.useCallback(function(I){P({type:"SET_STATUS",payload:I})},[]),ut=T.useCallback(function(I){P({type:"SET_ISSUBMITTING",payload:I})},[]),Bt=ts(function(){return P({type:"SUBMIT_ATTEMPT"}),ee().then(function(I){var ce=I instanceof Error,ye=!ce&&Object.keys(I).length===0;if(ye){var $;try{if($=st(),$===void 0)return}catch(U){throw U}return Promise.resolve($).then(function(U){return N.current&&P({type:"SUBMIT_SUCCESS"}),U}).catch(function(U){if(N.current)throw P({type:"SUBMIT_FAILURE"}),U})}else if(N.current&&(P({type:"SUBMIT_FAILURE"}),ce))throw I})}),dt=ts(function(I){I&&I.preventDefault&&bs(I.preventDefault)&&I.preventDefault(),I&&I.stopPropagation&&bs(I.stopPropagation)&&I.stopPropagation(),Bt().catch(function(ce){console.warn("Warning: An unhandled error was caught from submitForm()",ce)})}),_t={resetForm:Ee,validateForm:ee,validateField:Oe,setErrors:ze,setFieldError:ae,setFieldTouched:_e,setFieldValue:pe,setStatus:ot,setSubmitting:ut,setTouched:ue,setValues:q,setFormikState:Le,submitForm:Bt},st=ts(function(){return p(k.values,_t)}),Z=ts(function(I){I&&I.preventDefault&&bs(I.preventDefault)&&I.preventDefault(),I&&I.stopPropagation&&bs(I.stopPropagation)&&I.stopPropagation(),Ee()}),$e=T.useCallback(function(I){return{value:Ii(k.values,I),error:Ii(k.errors,I),touched:!!Ii(k.touched,I),initialValue:Ii(v.current,I),initialTouched:!!Ii(S.current,I),initialError:Ii(b.current,I)}},[k.errors,k.touched,k.values]),Ue=T.useCallback(function(I){return{setValue:function(ye,$){return pe(I,ye,$)},setTouched:function(ye,$){return _e(I,ye,$)},setError:function(ye){return ae(I,ye)}}},[pe,_e,ae]),Qe=T.useCallback(function(I){var ce=xy(I),ye=ce?I.name:I,$=Ii(k.values,ye),U={name:ye,value:$,onChange:Re,onBlur:Be};if(ce){var be=I.type,We=I.value,ht=I.as,Qt=I.multiple;be==="checkbox"?We===void 0?U.checked=!!$:(U.checked=!!(Array.isArray($)&&~$.indexOf(We)),U.value=We):be==="radio"?(U.checked=$===We,U.value=We):ht==="select"&&Qt&&(U.value=U.value||[],U.multiple=!0)}return U},[Be,Re,k.values]),Nt=T.useMemo(function(){return!Tl(v.current,k.values)},[v.current,k.values]),_=T.useMemo(function(){return typeof l<"u"?Nt?k.errors&&Object.keys(k.errors).length===0:l!==!1&&bs(l)?l(y):l:k.errors&&Object.keys(k.errors).length===0},[l,Nt,k.errors,y]),W=Dr({},k,{initialValues:v.current,initialErrors:b.current,initialTouched:S.current,initialStatus:C.current,handleBlur:Be,handleChange:Re,handleReset:Z,handleSubmit:dt,resetForm:Ee,setErrors:ze,setFormikState:Le,setFieldTouched:_e,setFieldValue:pe,setFieldError:ae,setStatus:ot,setSubmitting:ut,setTouched:ue,setValues:q,submitForm:Bt,validateForm:ee,validateField:Oe,isValid:_,dirty:Nt,unregisterField:re,registerField:K,getFieldProps:Qe,getFieldMeta:$e,getFieldHelpers:Ue,validateOnBlur:i,validateOnChange:n,validateOnMount:a});return W}function $F(t){var e={};if(t.inner){if(t.inner.length===0)return Vl(e,t.path,t.message);for(var i=t.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(r>=i.length)break;s=i[r++]}else{if(r=i.next(),r.done)break;s=r.value}var a=s;Ii(e,a.path)||(e=Vl(e,a.path,a.message))}}return e}function VF(t,e,n,r){n===void 0&&(n=!1);var i=Ib(t);return e[n?"validateSync":"validate"](i,{abortEarly:!1,context:i})}function Ib(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(i){return Array.isArray(i)===!0||qj(i)?Ib(i):i!==""?i:void 0}):qj(t[r])?e[r]=Ib(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function UF(t,e,n){var r=t.slice();return e.forEach(function(s,a){if(typeof r[a]>"u"){var l=n.clone!==!1,u=l&&n.isMergeableObject(s);r[a]=u?Rb(Array.isArray(s)?[]:{},s,n):s}else n.isMergeableObject(s)?r[a]=Rb(t[a],s,n):t.indexOf(s)===-1&&r.push(s)}),r}function HF(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function qF(t,e,n){if(typeof t=="boolean")return!!e;var r=[],i=!1,s=-1;if(Array.isArray(t))r=t,s=t.indexOf(n),i=s>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!i?r.concat(n):i?r.slice(0,s).concat(r.slice(s+1)):r}var KF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?T.useLayoutEffect:T.useEffect;function ts(t){var e=T.useRef(t);return KF(function(){e.current=t}),T.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}var YF=T.forwardRef(function(t,e){var n=t.action,r=l5(t,["action"]),i=n??"#",s=zF(),a=s.handleReset,l=s.handleSubmit;return T.createElement("form",Dr({onSubmit:l,ref:e,onReset:a,action:i},r))});YF.displayName="Form";let WF={data:""},GF=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||WF,XF=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,QF=/\/\*[^]*?\*\/|  +/g,bE=/\n+/g,To=(t,e)=>{let n="",r="",i="";for(let s in t){let a=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+a+";":r+=s[1]=="f"?To(a,s):s+"{"+To(a,s[1]=="k"?"":e)+"}":typeof a=="object"?r+=To(a,e?e.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):s):a!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=To.p?To.p(s,a):s+":"+a+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Ta={},u5=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+u5(t[n]);return e}return t},JF=(t,e,n,r,i)=>{let s=u5(t),a=Ta[s]||(Ta[s]=(u=>{let f=0,p=11;for(;f<u.length;)p=101*p+u.charCodeAt(f++)>>>0;return"go"+p})(s));if(!Ta[a]){let u=s!==t?t:(f=>{let p,m,y=[{}];for(;p=XF.exec(f.replace(QF,""));)p[4]?y.shift():p[3]?(m=p[3].replace(bE," ").trim(),y.unshift(y[0][m]=y[0][m]||{})):y[0][p[1]]=p[2].replace(bE," ").trim();return y[0]})(t);Ta[a]=To(i?{["@keyframes "+a]:u}:u,n?"":"."+a)}let l=n&&Ta.g?Ta.g:null;return n&&(Ta.g=Ta[a]),((u,f,p,m)=>{m?f.data=f.data.replace(m,u):f.data.indexOf(u)===-1&&(f.data=p?u+f.data:f.data+u)})(Ta[a],e,r,l),a},ZF=(t,e,n)=>t.reduce((r,i,s)=>{let a=e[s];if(a&&a.call){let l=a(n),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=u?"."+u:l&&typeof l=="object"?l.props?"":To(l,""):l===!1?"":l}return r+i+(a??"")},"");function by(t){let e=this||{},n=t.call?t(e.p):t;return JF(n.unshift?n.raw?ZF(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,GF(e.target),e.g,e.o,e.k)}let d5,Bb,Fb;by.bind({g:1});let Fa=by.bind({k:1});function e$(t,e,n,r){To.p=e,d5=t,Bb=n,Fb=r}function Xo(t,e){let n=this||{};return function(){let r=arguments;function i(s,a){let l=Object.assign({},s),u=l.className||i.className;n.p=Object.assign({theme:Bb&&Bb()},l),n.o=/ *go\d+/.test(u),l.className=by.apply(n,r)+(u?" "+u:"");let f=t;return t[0]&&(f=l.as||t,delete l.as),Fb&&f[0]&&Fb(l),d5(f,l)}return i}}var t$=t=>typeof t=="function",eg=(t,e)=>t$(t)?t(e):t,n$=(()=>{let t=0;return()=>(++t).toString()})(),f5=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),r$=20,h5=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,r$)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return h5(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},Am=[],Rl={toasts:[],pausedAt:void 0},gc=t=>{Rl=h5(Rl,t),Am.forEach(e=>{e(Rl)})},i$={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},s$=(t={})=>{let[e,n]=T.useState(Rl),r=T.useRef(Rl);T.useEffect(()=>(r.current!==Rl&&n(Rl),Am.push(n),()=>{let s=Am.indexOf(n);s>-1&&Am.splice(s,1)}),[]);let i=e.toasts.map(s=>{var a,l,u;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((a=t[s.type])==null?void 0:a.removeDelay)||t?.removeDelay,duration:s.duration||((l=t[s.type])==null?void 0:l.duration)||t?.duration||i$[s.type],style:{...t.style,...(u=t[s.type])==null?void 0:u.style,...s.style}}});return{...e,toasts:i}},a$=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||n$()}),yh=t=>(e,n)=>{let r=a$(e,t,n);return gc({type:2,toast:r}),r.id},br=(t,e)=>yh("blank")(t,e);br.error=yh("error");br.success=yh("success");br.loading=yh("loading");br.custom=yh("custom");br.dismiss=t=>{gc({type:3,toastId:t})};br.remove=t=>gc({type:4,toastId:t});br.promise=(t,e,n)=>{let r=br.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?eg(e.success,i):void 0;return s?br.success(s,{id:r,...n,...n?.success}):br.dismiss(r),i}).catch(i=>{let s=e.error?eg(e.error,i):void 0;s?br.error(s,{id:r,...n,...n?.error}):br.dismiss(r)}),t};var o$=(t,e)=>{gc({type:1,toast:{id:t,height:e}})},l$=()=>{gc({type:5,time:Date.now()})},df=new Map,c$=1e3,u$=(t,e=c$)=>{if(df.has(t))return;let n=setTimeout(()=>{df.delete(t),gc({type:4,toastId:t})},e);df.set(t,n)},d$=t=>{let{toasts:e,pausedAt:n}=s$(t);T.useEffect(()=>{if(n)return;let s=Date.now(),a=e.map(l=>{if(l.duration===1/0)return;let u=(l.duration||0)+l.pauseDuration-(s-l.createdAt);if(u<0){l.visible&&br.dismiss(l.id);return}return setTimeout(()=>br.dismiss(l.id),u)});return()=>{a.forEach(l=>l&&clearTimeout(l))}},[e,n]);let r=T.useCallback(()=>{n&&gc({type:6,time:Date.now()})},[n]),i=T.useCallback((s,a)=>{let{reverseOrder:l=!1,gutter:u=8,defaultPosition:f}=a||{},p=e.filter(v=>(v.position||f)===(s.position||f)&&v.height),m=p.findIndex(v=>v.id===s.id),y=p.filter((v,b)=>b<m&&v.visible).length;return p.filter(v=>v.visible).slice(...l?[y+1]:[0,y]).reduce((v,b)=>v+(b.height||0)+u,0)},[e]);return T.useEffect(()=>{e.forEach(s=>{if(s.dismissed)u$(s.id,s.removeDelay);else{let a=df.get(s.id);a&&(clearTimeout(a),df.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:o$,startPause:l$,endPause:r,calculateOffset:i}}},f$=Fa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,h$=Fa`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,p$=Fa`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,m$=Xo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${f$} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${h$} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${p$} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,g$=Fa`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,y$=Xo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${g$} 1s linear infinite;
`,v$=Fa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,x$=Fa`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,b$=Xo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${v$} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${x$} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,w$=Xo("div")`
  position: absolute;
`,S$=Xo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,C$=Fa`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,N$=Xo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${C$} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,T$=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?T.createElement(N$,null,e):e:n==="blank"?null:T.createElement(S$,null,T.createElement(y$,{...r}),n!=="loading"&&T.createElement(w$,null,n==="error"?T.createElement(m$,{...r}):T.createElement(b$,{...r})))},j$=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,E$=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,A$="0%{opacity:0;} 100%{opacity:1;}",k$="0%{opacity:1;} 100%{opacity:0;}",O$=Xo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,M$=Xo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,D$=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=f5()?[A$,k$]:[j$(n),E$(n)];return{animation:e?`${Fa(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Fa(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},R$=T.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?D$(t.position||e||"top-center",t.visible):{opacity:0},s=T.createElement(T$,{toast:t}),a=T.createElement(M$,{...t.ariaProps},eg(t.message,t));return T.createElement(O$,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:a}):T.createElement(T.Fragment,null,s,a))});e$(T.createElement);var _$=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=T.useCallback(a=>{if(a){let l=()=>{let u=a.getBoundingClientRect().height;r(t,u)};l(),new MutationObserver(l).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return T.createElement("div",{ref:s,className:e,style:n},i)},L$=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:f5()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},P$=by`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Wp=16,z$=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:a})=>{let{toasts:l,handlers:u}=d$(n);return T.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Wp,left:Wp,right:Wp,bottom:Wp,pointerEvents:"none",...s},className:a,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(f=>{let p=f.position||e,m=u.calculateOffset(f,{reverseOrder:t,gutter:r,defaultPosition:e}),y=L$(p,m);return T.createElement(_$,{id:f.id,key:f.id,onHeightUpdate:u.updateHeight,className:f.visible?P$:"",style:y},f.type==="custom"?eg(f.message,f):i?i(f):T.createElement(R$,{toast:f,position:p}))}))},me=br;function p5(t,e){return function(){return t.apply(e,arguments)}}const{toString:I$}=Object.prototype,{getPrototypeOf:Iw}=Object,{iterator:wy,toStringTag:m5}=Symbol,Sy=(t=>e=>{const n=I$.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Rs=t=>(t=t.toLowerCase(),e=>Sy(e)===t),Cy=t=>e=>typeof e===t,{isArray:Ru}=Array,vu=Cy("undefined");function vh(t){return t!==null&&!vu(t)&&t.constructor!==null&&!vu(t.constructor)&&Ni(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const g5=Rs("ArrayBuffer");function B$(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&g5(t.buffer),e}const F$=Cy("string"),Ni=Cy("function"),y5=Cy("number"),xh=t=>t!==null&&typeof t=="object",$$=t=>t===!0||t===!1,km=t=>{if(Sy(t)!=="object")return!1;const e=Iw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(m5 in t)&&!(wy in t)},V$=t=>{if(!xh(t)||vh(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},U$=Rs("Date"),H$=Rs("File"),q$=Rs("Blob"),K$=Rs("FileList"),Y$=t=>xh(t)&&Ni(t.pipe),W$=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ni(t.append)&&((e=Sy(t))==="formdata"||e==="object"&&Ni(t.toString)&&t.toString()==="[object FormData]"))},G$=Rs("URLSearchParams"),[X$,Q$,J$,Z$]=["ReadableStream","Request","Response","Headers"].map(Rs),eV=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function bh(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Ru(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(vh(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let l;for(r=0;r<a;r++)l=s[r],e.call(null,t[l],l,t)}}function v5(t,e){if(vh(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const _l=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,x5=t=>!vu(t)&&t!==_l;function $b(){const{caseless:t,skipUndefined:e}=x5(this)&&this||{},n={},r=(i,s)=>{const a=t&&v5(n,s)||s;km(n[a])&&km(i)?n[a]=$b(n[a],i):km(i)?n[a]=$b({},i):Ru(i)?n[a]=i.slice():(!e||!vu(i))&&(n[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&bh(arguments[i],r);return n}const tV=(t,e,n,{allOwnKeys:r}={})=>(bh(e,(i,s)=>{n&&Ni(i)?t[s]=p5(i,n):t[s]=i},{allOwnKeys:r}),t),nV=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),rV=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},iV=(t,e,n,r)=>{let i,s,a;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!r||r(a,t,e))&&!l[a]&&(e[a]=t[a],l[a]=!0);t=n!==!1&&Iw(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},sV=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},aV=t=>{if(!t)return null;if(Ru(t))return t;let e=t.length;if(!y5(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},oV=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Iw(Uint8Array)),lV=(t,e)=>{const r=(t&&t[wy]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},cV=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},uV=Rs("HTMLFormElement"),dV=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),wE=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),fV=Rs("RegExp"),b5=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};bh(n,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(r[s]=a||i)}),Object.defineProperties(t,r)},hV=t=>{b5(t,(e,n)=>{if(Ni(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Ni(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},pV=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Ru(t)?r(t):r(String(t).split(e)),n},mV=()=>{},gV=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function yV(t){return!!(t&&Ni(t.append)&&t[m5]==="FormData"&&t[wy])}const vV=t=>{const e=new Array(10),n=(r,i)=>{if(xh(r)){if(e.indexOf(r)>=0)return;if(vh(r))return r;if(!("toJSON"in r)){e[i]=r;const s=Ru(r)?[]:{};return bh(r,(a,l)=>{const u=n(a,i+1);!vu(u)&&(s[l]=u)}),e[i]=void 0,s}}return r};return n(t,0)},xV=Rs("AsyncFunction"),bV=t=>t&&(xh(t)||Ni(t))&&Ni(t.then)&&Ni(t.catch),w5=((t,e)=>t?setImmediate:e?((n,r)=>(_l.addEventListener("message",({source:i,data:s})=>{i===_l&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),_l.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ni(_l.postMessage)),wV=typeof queueMicrotask<"u"?queueMicrotask.bind(_l):typeof process<"u"&&process.nextTick||w5,SV=t=>t!=null&&Ni(t[wy]),De={isArray:Ru,isArrayBuffer:g5,isBuffer:vh,isFormData:W$,isArrayBufferView:B$,isString:F$,isNumber:y5,isBoolean:$$,isObject:xh,isPlainObject:km,isEmptyObject:V$,isReadableStream:X$,isRequest:Q$,isResponse:J$,isHeaders:Z$,isUndefined:vu,isDate:U$,isFile:H$,isBlob:q$,isRegExp:fV,isFunction:Ni,isStream:Y$,isURLSearchParams:G$,isTypedArray:oV,isFileList:K$,forEach:bh,merge:$b,extend:tV,trim:eV,stripBOM:nV,inherits:rV,toFlatObject:iV,kindOf:Sy,kindOfTest:Rs,endsWith:sV,toArray:aV,forEachEntry:lV,matchAll:cV,isHTMLForm:uV,hasOwnProperty:wE,hasOwnProp:wE,reduceDescriptors:b5,freezeMethods:hV,toObjectSet:pV,toCamelCase:dV,noop:mV,toFiniteNumber:gV,findKey:v5,global:_l,isContextDefined:x5,isSpecCompliantForm:yV,toJSONObject:vV,isAsyncFn:xV,isThenable:bV,setImmediate:w5,asap:wV,isIterable:SV};function tn(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}De.inherits(tn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:De.toJSONObject(this.config),code:this.code,status:this.status}}});const S5=tn.prototype,C5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{C5[t]={value:t}});Object.defineProperties(tn,C5);Object.defineProperty(S5,"isAxiosError",{value:!0});tn.from=(t,e,n,r,i,s)=>{const a=Object.create(S5);De.toFlatObject(t,a,function(p){return p!==Error.prototype},f=>f!=="isAxiosError");const l=t&&t.message?t.message:"Error",u=e==null&&t?t.code:e;return tn.call(a,l,u,n,r,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",s&&Object.assign(a,s),a};const CV=null;function Vb(t){return De.isPlainObject(t)||De.isArray(t)}function N5(t){return De.endsWith(t,"[]")?t.slice(0,-2):t}function SE(t,e,n){return t?t.concat(e).map(function(i,s){return i=N5(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function NV(t){return De.isArray(t)&&!t.some(Vb)}const TV=De.toFlatObject(De,{},null,function(e){return/^is[A-Z]/.test(e)});function Ny(t,e,n){if(!De.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=De.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,C){return!De.isUndefined(C[S])});const r=n.metaTokens,i=n.visitor||p,s=n.dots,a=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&De.isSpecCompliantForm(e);if(!De.isFunction(i))throw new TypeError("visitor must be a function");function f(b){if(b===null)return"";if(De.isDate(b))return b.toISOString();if(De.isBoolean(b))return b.toString();if(!u&&De.isBlob(b))throw new tn("Blob is not supported. Use a Buffer instead.");return De.isArrayBuffer(b)||De.isTypedArray(b)?u&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function p(b,S,C){let N=b;if(b&&!C&&typeof b=="object"){if(De.endsWith(S,"{}"))S=r?S:S.slice(0,-2),b=JSON.stringify(b);else if(De.isArray(b)&&NV(b)||(De.isFileList(b)||De.endsWith(S,"[]"))&&(N=De.toArray(b)))return S=N5(S),N.forEach(function(D,R){!(De.isUndefined(D)||D===null)&&e.append(a===!0?SE([S],R,s):a===null?S:S+"[]",f(D))}),!1}return Vb(b)?!0:(e.append(SE(C,S,s),f(b)),!1)}const m=[],y=Object.assign(TV,{defaultVisitor:p,convertValue:f,isVisitable:Vb});function v(b,S){if(!De.isUndefined(b)){if(m.indexOf(b)!==-1)throw Error("Circular reference detected in "+S.join("."));m.push(b),De.forEach(b,function(N,O){(!(De.isUndefined(N)||N===null)&&i.call(e,N,De.isString(O)?O.trim():O,S,y))===!0&&v(N,S?S.concat(O):[O])}),m.pop()}}if(!De.isObject(t))throw new TypeError("data must be an object");return v(t),e}function CE(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Bw(t,e){this._pairs=[],t&&Ny(t,this,e)}const T5=Bw.prototype;T5.append=function(e,n){this._pairs.push([e,n])};T5.toString=function(e){const n=e?function(r){return e.call(this,r,CE)}:CE;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function jV(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function j5(t,e,n){if(!e)return t;const r=n&&n.encode||jV;De.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=De.isURLSearchParams(e)?e.toString():new Bw(e,n).toString(r),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class NE{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){De.forEach(this.handlers,function(r){r!==null&&e(r)})}}const E5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},EV=typeof URLSearchParams<"u"?URLSearchParams:Bw,AV=typeof FormData<"u"?FormData:null,kV=typeof Blob<"u"?Blob:null,OV={isBrowser:!0,classes:{URLSearchParams:EV,FormData:AV,Blob:kV},protocols:["http","https","file","blob","url","data"]},Fw=typeof window<"u"&&typeof document<"u",Ub=typeof navigator=="object"&&navigator||void 0,MV=Fw&&(!Ub||["ReactNative","NativeScript","NS"].indexOf(Ub.product)<0),DV=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",RV=Fw&&window.location.href||"http://localhost",_V=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Fw,hasStandardBrowserEnv:MV,hasStandardBrowserWebWorkerEnv:DV,navigator:Ub,origin:RV},Symbol.toStringTag,{value:"Module"})),Qr={..._V,...OV};function LV(t,e){return Ny(t,new Qr.classes.URLSearchParams,{visitor:function(n,r,i,s){return Qr.isNode&&De.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function PV(t){return De.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function zV(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function A5(t){function e(n,r,i,s){let a=n[s++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),u=s>=n.length;return a=!a&&De.isArray(i)?i.length:a,u?(De.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!l):((!i[a]||!De.isObject(i[a]))&&(i[a]=[]),e(n,r,i[a],s)&&De.isArray(i[a])&&(i[a]=zV(i[a])),!l)}if(De.isFormData(t)&&De.isFunction(t.entries)){const n={};return De.forEachEntry(t,(r,i)=>{e(PV(r),i,n,0)}),n}return null}function IV(t,e,n){if(De.isString(t))try{return(e||JSON.parse)(t),De.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const wh={transitional:E5,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=De.isObject(e);if(s&&De.isHTMLForm(e)&&(e=new FormData(e)),De.isFormData(e))return i?JSON.stringify(A5(e)):e;if(De.isArrayBuffer(e)||De.isBuffer(e)||De.isStream(e)||De.isFile(e)||De.isBlob(e)||De.isReadableStream(e))return e;if(De.isArrayBufferView(e))return e.buffer;if(De.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return LV(e,this.formSerializer).toString();if((l=De.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Ny(l?{"files[]":e}:e,u&&new u,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),IV(e)):e}],transformResponse:[function(e){const n=this.transitional||wh.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(De.isResponse(e)||De.isReadableStream(e))return e;if(e&&De.isString(e)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?tn.from(l,tn.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qr.classes.FormData,Blob:Qr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};De.forEach(["delete","get","head","post","put","patch"],t=>{wh.headers[t]={}});const BV=De.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),FV=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||e[n]&&BV[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},TE=Symbol("internals");function qd(t){return t&&String(t).trim().toLowerCase()}function Om(t){return t===!1||t==null?t:De.isArray(t)?t.map(Om):String(t)}function $V(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const VV=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function xx(t,e,n,r,i){if(De.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!De.isString(e)){if(De.isString(r))return e.indexOf(r)!==-1;if(De.isRegExp(r))return r.test(e)}}function UV(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function HV(t,e){const n=De.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,a){return this[r].call(this,e,i,s,a)},configurable:!0})})}let Ti=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(l,u,f){const p=qd(u);if(!p)throw new Error("header name must be a non-empty string");const m=De.findKey(i,p);(!m||i[m]===void 0||f===!0||f===void 0&&i[m]!==!1)&&(i[m||u]=Om(l))}const a=(l,u)=>De.forEach(l,(f,p)=>s(f,p,u));if(De.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(De.isString(e)&&(e=e.trim())&&!VV(e))a(FV(e),n);else if(De.isObject(e)&&De.isIterable(e)){let l={},u,f;for(const p of e){if(!De.isArray(p))throw TypeError("Object iterator must return a key-value pair");l[f=p[0]]=(u=l[f])?De.isArray(u)?[...u,p[1]]:[u,p[1]]:p[1]}a(l,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=qd(e),e){const r=De.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return $V(i);if(De.isFunction(n))return n.call(this,i,r);if(De.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=qd(e),e){const r=De.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||xx(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(a){if(a=qd(a),a){const l=De.findKey(r,a);l&&(!n||xx(r,r[l],l,n))&&(delete r[l],i=!0)}}return De.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||xx(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return De.forEach(this,(i,s)=>{const a=De.findKey(r,s);if(a){n[a]=Om(i),delete n[s];return}const l=e?UV(s):String(s).trim();l!==s&&delete n[s],n[l]=Om(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return De.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&De.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[TE]=this[TE]={accessors:{}}).accessors,i=this.prototype;function s(a){const l=qd(a);r[l]||(HV(i,a),r[l]=!0)}return De.isArray(e)?e.forEach(s):s(e),this}};Ti.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);De.reduceDescriptors(Ti.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});De.freezeMethods(Ti);function bx(t,e){const n=this||wh,r=e||n,i=Ti.from(r.headers);let s=r.data;return De.forEach(t,function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function k5(t){return!!(t&&t.__CANCEL__)}function _u(t,e,n){tn.call(this,t??"canceled",tn.ERR_CANCELED,e,n),this.name="CanceledError"}De.inherits(_u,tn,{__CANCEL__:!0});function O5(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new tn("Request failed with status code "+n.status,[tn.ERR_BAD_REQUEST,tn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function qV(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function KV(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(u){const f=Date.now(),p=r[s];a||(a=f),n[i]=u,r[i]=f;let m=s,y=0;for(;m!==i;)y+=n[m++],m=m%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),f-a<e)return;const v=p&&f-p;return v?Math.round(y*1e3/v):void 0}}function YV(t,e){let n=0,r=1e3/e,i,s;const a=(f,p=Date.now())=>{n=p,i=null,s&&(clearTimeout(s),s=null),t(...f)};return[(...f)=>{const p=Date.now(),m=p-n;m>=r?a(f,p):(i=f,s||(s=setTimeout(()=>{s=null,a(i)},r-m)))},()=>i&&a(i)]}const tg=(t,e,n=3)=>{let r=0;const i=KV(50,250);return YV(s=>{const a=s.loaded,l=s.lengthComputable?s.total:void 0,u=a-r,f=i(u),p=a<=l;r=a;const m={loaded:a,total:l,progress:l?a/l:void 0,bytes:u,rate:f||void 0,estimated:f&&l&&p?(l-a)/f:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(m)},n)},jE=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},EE=t=>(...e)=>De.asap(()=>t(...e)),WV=Qr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Qr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Qr.origin),Qr.navigator&&/(msie|trident)/i.test(Qr.navigator.userAgent)):()=>!0,GV=Qr.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const a=[t+"="+encodeURIComponent(e)];De.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),De.isString(r)&&a.push("path="+r),De.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function XV(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function QV(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function M5(t,e,n){let r=!XV(e);return t&&(r||n==!1)?QV(t,e):e}const AE=t=>t instanceof Ti?{...t}:t;function ec(t,e){e=e||{};const n={};function r(f,p,m,y){return De.isPlainObject(f)&&De.isPlainObject(p)?De.merge.call({caseless:y},f,p):De.isPlainObject(p)?De.merge({},p):De.isArray(p)?p.slice():p}function i(f,p,m,y){if(De.isUndefined(p)){if(!De.isUndefined(f))return r(void 0,f,m,y)}else return r(f,p,m,y)}function s(f,p){if(!De.isUndefined(p))return r(void 0,p)}function a(f,p){if(De.isUndefined(p)){if(!De.isUndefined(f))return r(void 0,f)}else return r(void 0,p)}function l(f,p,m){if(m in e)return r(f,p);if(m in t)return r(void 0,f)}const u={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(f,p,m)=>i(AE(f),AE(p),m,!0)};return De.forEach(Object.keys({...t,...e}),function(p){const m=u[p]||i,y=m(t[p],e[p],p);De.isUndefined(y)&&m!==l||(n[p]=y)}),n}const D5=t=>{const e=ec({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:l}=e;if(e.headers=a=Ti.from(a),e.url=j5(M5(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),De.isFormData(n)){if(Qr.hasStandardBrowserEnv||Qr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(De.isFunction(n.getHeaders)){const u=n.getHeaders(),f=["content-type","content-length"];Object.entries(u).forEach(([p,m])=>{f.includes(p.toLowerCase())&&a.set(p,m)})}}if(Qr.hasStandardBrowserEnv&&(r&&De.isFunction(r)&&(r=r(e)),r||r!==!1&&WV(e.url))){const u=i&&s&&GV.read(s);u&&a.set(i,u)}return e},JV=typeof XMLHttpRequest<"u",ZV=JV&&function(t){return new Promise(function(n,r){const i=D5(t);let s=i.data;const a=Ti.from(i.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:f}=i,p,m,y,v,b;function S(){v&&v(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let C=new XMLHttpRequest;C.open(i.method.toUpperCase(),i.url,!0),C.timeout=i.timeout;function N(){if(!C)return;const D=Ti.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:D,config:t,request:C};O5(function(P){n(P),S()},function(P){r(P),S()},E),C=null}"onloadend"in C?C.onloadend=N:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(N)},C.onabort=function(){C&&(r(new tn("Request aborted",tn.ECONNABORTED,t,C)),C=null)},C.onerror=function(R){const E=R&&R.message?R.message:"Network Error",k=new tn(E,tn.ERR_NETWORK,t,C);k.event=R||null,r(k),C=null},C.ontimeout=function(){let R=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const E=i.transitional||E5;i.timeoutErrorMessage&&(R=i.timeoutErrorMessage),r(new tn(R,E.clarifyTimeoutError?tn.ETIMEDOUT:tn.ECONNABORTED,t,C)),C=null},s===void 0&&a.setContentType(null),"setRequestHeader"in C&&De.forEach(a.toJSON(),function(R,E){C.setRequestHeader(E,R)}),De.isUndefined(i.withCredentials)||(C.withCredentials=!!i.withCredentials),l&&l!=="json"&&(C.responseType=i.responseType),f&&([y,b]=tg(f,!0),C.addEventListener("progress",y)),u&&C.upload&&([m,v]=tg(u),C.upload.addEventListener("progress",m),C.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(p=D=>{C&&(r(!D||D.type?new _u(null,t,C):D),C.abort(),C=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const O=qV(i.url);if(O&&Qr.protocols.indexOf(O)===-1){r(new tn("Unsupported protocol "+O+":",tn.ERR_BAD_REQUEST,t));return}C.send(s||null)})},eU=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(f){if(!i){i=!0,l();const p=f instanceof Error?f:this.reason;r.abort(p instanceof tn?p:new _u(p instanceof Error?p.message:p))}};let a=e&&setTimeout(()=>{a=null,s(new tn(`timeout ${e} of ms exceeded`,tn.ETIMEDOUT))},e);const l=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(s):f.removeEventListener("abort",s)}),t=null)};t.forEach(f=>f.addEventListener("abort",s));const{signal:u}=r;return u.unsubscribe=()=>De.asap(l),u}},tU=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},nU=async function*(t,e){for await(const n of rU(t))yield*tU(n,e)},rU=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},kE=(t,e,n,r)=>{const i=nU(t,e);let s=0,a,l=u=>{a||(a=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:f,value:p}=await i.next();if(f){l(),u.close();return}let m=p.byteLength;if(n){let y=s+=m;n(y)}u.enqueue(new Uint8Array(p))}catch(f){throw l(f),f}},cancel(u){return l(u),i.return()}},{highWaterMark:2})},OE=64*1024,{isFunction:Gp}=De,iU=(({Request:t,Response:e})=>({Request:t,Response:e}))(De.global),{ReadableStream:ME,TextEncoder:DE}=De.global,RE=(t,...e)=>{try{return!!t(...e)}catch{return!1}},sU=t=>{t=De.merge.call({skipUndefined:!0},iU,t);const{fetch:e,Request:n,Response:r}=t,i=e?Gp(e):typeof fetch=="function",s=Gp(n),a=Gp(r);if(!i)return!1;const l=i&&Gp(ME),u=i&&(typeof DE=="function"?(b=>S=>b.encode(S))(new DE):async b=>new Uint8Array(await new n(b).arrayBuffer())),f=s&&l&&RE(()=>{let b=!1;const S=new n(Qr.origin,{body:new ME,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!S}),p=a&&l&&RE(()=>De.isReadableStream(new r("").body)),m={stream:p&&(b=>b.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!m[b]&&(m[b]=(S,C)=>{let N=S&&S[b];if(N)return N.call(S);throw new tn(`Response type '${b}' is not supported`,tn.ERR_NOT_SUPPORT,C)})});const y=async b=>{if(b==null)return 0;if(De.isBlob(b))return b.size;if(De.isSpecCompliantForm(b))return(await new n(Qr.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(De.isArrayBufferView(b)||De.isArrayBuffer(b))return b.byteLength;if(De.isURLSearchParams(b)&&(b=b+""),De.isString(b))return(await u(b)).byteLength},v=async(b,S)=>{const C=De.toFiniteNumber(b.getContentLength());return C??y(S)};return async b=>{let{url:S,method:C,data:N,signal:O,cancelToken:D,timeout:R,onDownloadProgress:E,onUploadProgress:k,responseType:P,headers:F,withCredentials:G="same-origin",fetchOptions:ge}=D5(b),oe=e||fetch;P=P?(P+"").toLowerCase():"text";let ne=eU([O,D&&D.toAbortSignal()],R),ee=null;const Ee=ne&&ne.unsubscribe&&(()=>{ne.unsubscribe()});let Oe;try{if(k&&f&&C!=="get"&&C!=="head"&&(Oe=await v(F,N))!==0){let ae=new n(S,{method:"POST",body:N,duplex:"half"}),pe;if(De.isFormData(N)&&(pe=ae.headers.get("content-type"))&&F.setContentType(pe),ae.body){const[xe,Re]=jE(Oe,tg(EE(k)));N=kE(ae.body,OE,xe,Re)}}De.isString(G)||(G=G?"include":"omit");const K=s&&"credentials"in n.prototype,re={...ge,signal:ne,method:C.toUpperCase(),headers:F.normalize().toJSON(),body:N,duplex:"half",credentials:K?G:void 0};ee=s&&new n(S,re);let ue=await(s?oe(ee,ge):oe(S,re));const ze=p&&(P==="stream"||P==="response");if(p&&(E||ze&&Ee)){const ae={};["status","statusText","headers"].forEach(_e=>{ae[_e]=ue[_e]});const pe=De.toFiniteNumber(ue.headers.get("content-length")),[xe,Re]=E&&jE(pe,tg(EE(E),!0))||[];ue=new r(kE(ue.body,OE,xe,()=>{Re&&Re(),Ee&&Ee()}),ae)}P=P||"text";let q=await m[De.findKey(m,P)||"text"](ue,b);return!ze&&Ee&&Ee(),await new Promise((ae,pe)=>{O5(ae,pe,{data:q,headers:Ti.from(ue.headers),status:ue.status,statusText:ue.statusText,config:b,request:ee})})}catch(K){throw Ee&&Ee(),K&&K.name==="TypeError"&&/Load failed|fetch/i.test(K.message)?Object.assign(new tn("Network Error",tn.ERR_NETWORK,b,ee),{cause:K.cause||K}):tn.from(K,K&&K.code,b,ee)}}},aU=new Map,R5=t=>{let e=t?t.env:{};const{fetch:n,Request:r,Response:i}=e,s=[r,i,n];let a=s.length,l=a,u,f,p=aU;for(;l--;)u=s[l],f=p.get(u),f===void 0&&p.set(u,f=l?new Map:sU(e)),p=f;return f};R5();const Hb={http:CV,xhr:ZV,fetch:{get:R5}};De.forEach(Hb,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const _E=t=>`- ${t}`,oU=t=>De.isFunction(t)||t===null||t===!1,_5={getAdapter:(t,e)=>{t=De.isArray(t)?t:[t];const{length:n}=t;let r,i;const s={};for(let a=0;a<n;a++){r=t[a];let l;if(i=r,!oU(r)&&(i=Hb[(l=String(r)).toLowerCase()],i===void 0))throw new tn(`Unknown adapter '${l}'`);if(i&&(De.isFunction(i)||(i=i.get(e))))break;s[l||"#"+a]=i}if(!i){const a=Object.entries(s).map(([u,f])=>`adapter ${u} `+(f===!1?"is not supported by the environment":"is not available in the build"));let l=n?a.length>1?`since :
`+a.map(_E).join(`
`):" "+_E(a[0]):"as no adapter specified";throw new tn("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i},adapters:Hb};function wx(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new _u(null,t)}function LE(t){return wx(t),t.headers=Ti.from(t.headers),t.data=bx.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),_5.getAdapter(t.adapter||wh.adapter,t)(t).then(function(r){return wx(t),r.data=bx.call(t,t.transformResponse,r),r.headers=Ti.from(r.headers),r},function(r){return k5(r)||(wx(t),r&&r.response&&(r.response.data=bx.call(t,t.transformResponse,r.response),r.response.headers=Ti.from(r.response.headers))),Promise.reject(r)})}const L5="1.12.2",Ty={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ty[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const PE={};Ty.transitional=function(e,n,r){function i(s,a){return"[Axios v"+L5+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,l)=>{if(e===!1)throw new tn(i(a," has been removed"+(n?" in "+n:"")),tn.ERR_DEPRECATED);return n&&!PE[a]&&(PE[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,a,l):!0}};Ty.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function lU(t,e,n){if(typeof t!="object")throw new tn("options must be an object",tn.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],a=e[s];if(a){const l=t[s],u=l===void 0||a(l,s,t);if(u!==!0)throw new tn("option "+s+" must be "+u,tn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new tn("Unknown option "+s,tn.ERR_BAD_OPTION)}}const Mm={assertOptions:lU,validators:Ty},$s=Mm.validators;let Ul=class{constructor(e){this.defaults=e||{},this.interceptors={request:new NE,response:new NE}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ec(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Mm.assertOptions(r,{silentJSONParsing:$s.transitional($s.boolean),forcedJSONParsing:$s.transitional($s.boolean),clarifyTimeoutError:$s.transitional($s.boolean)},!1),i!=null&&(De.isFunction(i)?n.paramsSerializer={serialize:i}:Mm.assertOptions(i,{encode:$s.function,serialize:$s.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Mm.assertOptions(n,{baseUrl:$s.spelling("baseURL"),withXsrfToken:$s.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&De.merge(s.common,s[n.method]);s&&De.forEach(["delete","get","head","post","put","patch","common"],b=>{delete s[b]}),n.headers=Ti.concat(a,s);const l=[];let u=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(u=u&&S.synchronous,l.unshift(S.fulfilled,S.rejected))});const f=[];this.interceptors.response.forEach(function(S){f.push(S.fulfilled,S.rejected)});let p,m=0,y;if(!u){const b=[LE.bind(this),void 0];for(b.unshift(...l),b.push(...f),y=b.length,p=Promise.resolve(n);m<y;)p=p.then(b[m++],b[m++]);return p}y=l.length;let v=n;for(;m<y;){const b=l[m++],S=l[m++];try{v=b(v)}catch(C){S.call(this,C);break}}try{p=LE.call(this,v)}catch(b){return Promise.reject(b)}for(m=0,y=f.length;m<y;)p=p.then(f[m++],f[m++]);return p}getUri(e){e=ec(this.defaults,e);const n=M5(e.baseURL,e.url,e.allowAbsoluteUrls);return j5(n,e.params,e.paramsSerializer)}};De.forEach(["delete","get","head","options"],function(e){Ul.prototype[e]=function(n,r){return this.request(ec(r||{},{method:e,url:n,data:(r||{}).data}))}});De.forEach(["post","put","patch"],function(e){function n(r){return function(s,a,l){return this.request(ec(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Ul.prototype[e]=n(),Ul.prototype[e+"Form"]=n(!0)});let cU=class P5{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(l=>{r.subscribe(l),s=l}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},e(function(s,a,l){r.reason||(r.reason=new _u(s,a,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new P5(function(i){e=i}),cancel:e}}};function uU(t){return function(n){return t.apply(null,n)}}function dU(t){return De.isObject(t)&&t.isAxiosError===!0}const qb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qb).forEach(([t,e])=>{qb[e]=t});function z5(t){const e=new Ul(t),n=p5(Ul.prototype.request,e);return De.extend(n,Ul.prototype,e,{allOwnKeys:!0}),De.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return z5(ec(t,i))},n}const Ye=z5(wh);Ye.Axios=Ul;Ye.CanceledError=_u;Ye.CancelToken=cU;Ye.isCancel=k5;Ye.VERSION=L5;Ye.toFormData=Ny;Ye.AxiosError=tn;Ye.Cancel=Ye.CanceledError;Ye.all=function(e){return Promise.all(e)};Ye.spread=uU;Ye.isAxiosError=dU;Ye.mergeConfig=ec;Ye.AxiosHeaders=Ti;Ye.formToJSON=t=>A5(De.isHTMLForm(t)?new FormData(t):t);Ye.getAdapter=_5.getAdapter;Ye.HttpStatusCode=qb;Ye.default=Ye;const{Axios:pce,AxiosError:mce,CanceledError:gce,isCancel:yce,CancelToken:vce,VERSION:xce,all:bce,Cancel:wce,isAxiosError:Sce,spread:Cce,toFormData:Nce,AxiosHeaders:Tce,HttpStatusCode:jce,formToJSON:Ece,getAdapter:Ace,mergeConfig:kce}=Ye;function fU(){const t=Hn(),[e,n]=T.useState(!1);async function r(a){n(!0);try{let{data:l}=await Ye.post("https://nexus-consults.com/api/public/api/admin/auth/login",a);n(!1),me.success("logged in successfully",{duration:2e3}),localStorage.setItem("userToken",l.data.token),t("/")}catch(l){me.error(l?.response?.data?.message,{duration:5e3}),n(!1)}}let i=RO({email:Db().email("invalid mail").required("email is required"),password:Db().min(9,"password must be at least 9 length").required("password is required")}),s=FF({initialValues:{email:"",password:""},validationSchema:i,onSubmit:r});return d.jsx(d.Fragment,{children:d.jsx("div",{className:"h-screen w-screen bg-gradient-to-tl from-primary/70 to-white flex flex-col justify-center items-center",children:d.jsxs("div",{className:`lg:w-1/3 w-full bg-primary text-white rounded-xl shadow-xl p-8 space-y-5\r
            `,children:[d.jsx("img",{className:"lg:w-1/3 w-1/2 m-auto",src:jO,alt:"logo"}),d.jsx("h1",{className:"text-3xl font-bold text-center",children:"Login"}),d.jsxs("form",{className:"flex flex-col gap-5",onSubmit:s.handleSubmit,children:[d.jsxs("div",{className:"relative z-0 w-full group mb-4",children:[d.jsx("input",{type:"email",name:"email",id:"email",onBlur:s.handleBlur,onChange:s.handleChange,className:"block py-2.5 px-0 w-full text-sm text-white bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-darkTeal peer",placeholder:" "}),d.jsx("label",{htmlFor:"email",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-darkTeal peer-focus:dark:text-darkTeal peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Email"}),s.errors.email&&s.touched.email&&d.jsx("div",{className:" text-sm text-red-800 rounded-lg bg-transparent dark:text-red-600 ",role:"alert",children:s.errors.email})]}),d.jsxs("div",{className:"relative z-0 w-full group",children:[d.jsx("input",{type:"password",name:"password",id:"password",onBlur:s.handleBlur,onChange:s.handleChange,className:"block py-2.5 px-0 w-full text-sm text-white bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-darkTeal peer",placeholder:" "}),d.jsx("label",{htmlFor:"password",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-darkTeal peer-focus:dark:text-darkTeal peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Password"}),s.errors.password&&s.touched.password&&d.jsx("div",{className:" text-sm text-red-800 rounded-lg bg-transparent dark:text-red-600",role:"alert",children:s.errors.password})]}),d.jsx("button",{type:"submit",disabled:e,className:"w-full h-12 rounded-xl bg-gradient-to-r from-white  to-primary/5 text-primary text-xl font-bold hover:shadow-md",style:{transition:"background-position 0.4s ease",backgroundSize:"110%"},onMouseEnter:a=>a.target.style.backgroundPosition="right",onMouseLeave:a=>a.target.style.backgroundPosition="left",children:e?d.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-gray-100 m-auto"}):"login"})]})]})})})}function ns({children:t}){return localStorage.getItem("userToken")?t:d.jsx(gP,{to:"/login"})}let $w=T.createContext(!0);function hU(t){const[e,n]=T.useState(!0);return d.jsx($w.Provider,{value:{sidebarOpen:e,setSidebarOpen:n},children:t.children})}var I5={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},zE=Ut.createContext&&Ut.createContext(I5),pU=["attr","size","title"];function mU(t,e){if(t==null)return{};var n=gU(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ng(){return ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ng.apply(this,arguments)}function IE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IE(Object(n),!0).forEach(function(r){yU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yU(t,e,n){return e=vU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vU(t){var e=xU(t,"string");return typeof e=="symbol"?e:e+""}function xU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B5(t){return t&&t.map((e,n)=>Ut.createElement(e.tag,rg({key:n},e.attr),B5(e.child)))}function rn(t){return e=>Ut.createElement(bU,ng({attr:rg({},t.attr)},e),B5(t.child))}function bU(t){var e=n=>{var{attr:r,size:i,title:s}=t,a=mU(t,pU),l=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),Ut.createElement("svg",ng({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:u,style:rg(rg({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&Ut.createElement("title",null,s),t.children)};return zE!==void 0?Ut.createElement(zE.Consumer,null,n=>e(n)):e(I5)}function wU(t){return rn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.28 9.53 8.81 12l2.47 2.47a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215l-3-3a.75.75 0 0 1 0-1.06l3-3a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734Z"},child:[]},{tag:"path",attr:{d:"M3.75 2h16.5c.966 0 1.75.784 1.75 1.75v16.5A1.75 1.75 0 0 1 20.25 22H3.75A1.75 1.75 0 0 1 2 20.25V3.75C2 2.784 2.784 2 3.75 2ZM3.5 3.75v16.5c0 .138.112.25.25.25H15v-17H3.75a.25.25 0 0 0-.25.25Zm13 16.75h3.75a.25.25 0 0 0 .25-.25V3.75a.25.25 0 0 0-.25-.25H16.5Z"},child:[]}]})(t)}function SU(t){return rn({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Logout"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M20.968,18.448a2.577,2.577,0,0,1-2.73,2.5c-2.153.012-4.306,0-6.459,0a.5.5,0,0,1,0-1c2.2,0,4.4.032,6.6,0,1.107-.016,1.589-.848,1.589-1.838V5.647A1.546,1.546,0,0,0,19,4.175a3.023,3.023,0,0,0-1.061-.095H11.779a.5.5,0,0,1,0-1c2.224,0,4.465-.085,6.687,0a2.567,2.567,0,0,1,2.5,2.67Z"},child:[]},{tag:"path",attr:{d:"M3.176,11.663a.455.455,0,0,0-.138.311c0,.015,0,.028-.006.043s0,.027.006.041a.457.457,0,0,0,.138.312l3.669,3.669a.5.5,0,0,0,.707-.707L4.737,12.516H15.479a.5.5,0,0,0,0-1H4.737L7.552,8.7a.5.5,0,0,0-.707-.707Z"},child:[]}]}]}]})(t)}var Lu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},tc=typeof window>"u"||"Deno"in globalThis;function ai(){}function CU(t,e){return typeof t=="function"?t(e):t}function Kb(t){return typeof t=="number"&&t>=0&&t!==1/0}function F5(t,e){return Math.max(t+(e||0)-Date.now(),0)}function _o(t,e){return typeof t=="function"?t(e):t}function Ss(t,e){return typeof t=="function"?t(e):t}function BE(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==Vw(a,e.options))return!1}else if(!Bf(e.queryKey,a))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function FE(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(nc(e.options.mutationKey)!==nc(s))return!1}else if(!Bf(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Vw(t,e){return(e?.queryKeyHashFn||nc)(t)}function nc(t){return JSON.stringify(t,(e,n)=>Yb(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Bf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Bf(t[n],e[n])):!1}function $5(t,e){if(t===e)return t;const n=$E(t)&&$E(e);if(n||Yb(t)&&Yb(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),a=s.length,l=n?[]:{},u=new Set(r);let f=0;for(let p=0;p<a;p++){const m=n?p:s[p];(!n&&u.has(m)||n)&&t[m]===void 0&&e[m]===void 0?(l[m]=void 0,f++):(l[m]=$5(t[m],e[m]),l[m]===t[m]&&t[m]!==void 0&&f++)}return i===a&&f===i?t:l}return e}function ig(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function $E(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Yb(t){if(!VE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!VE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function VE(t){return Object.prototype.toString.call(t)==="[object Object]"}function NU(t){return new Promise(e=>{setTimeout(e,t)})}function Wb(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?$5(t,e):e}function TU(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function jU(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Uw=Symbol();function V5(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Uw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function U5(t,e){return typeof t=="function"?t(...e):!!t}var EU=class extends Lu{#t;#e;#n;constructor(){super(),this.#n=t=>{if(!tc&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#n=t,this.#e?.(),this.#e=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},Hw=new EU,AU=class extends Lu{#t=!0;#e;#n;constructor(){super(),this.#n=t=>{if(!tc&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#n=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#t}},sg=new AU;function Gb(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function kU(t){return Math.min(1e3*2**t,3e4)}function H5(t){return(t??"online")==="online"?sg.isOnline():!0}var q5=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Sx(t){return t instanceof q5}function K5(t){let e=!1,n=0,r=!1,i;const s=Gb(),a=S=>{r||(y(new q5(S)),t.abort?.())},l=()=>{e=!0},u=()=>{e=!1},f=()=>Hw.isFocused()&&(t.networkMode==="always"||sg.isOnline())&&t.canRun(),p=()=>H5(t.networkMode)&&t.canRun(),m=S=>{r||(r=!0,t.onSuccess?.(S),i?.(),s.resolve(S))},y=S=>{r||(r=!0,t.onError?.(S),i?.(),s.reject(S))},v=()=>new Promise(S=>{i=C=>{(r||f())&&S(C)},t.onPause?.()}).then(()=>{i=void 0,r||t.onContinue?.()}),b=()=>{if(r)return;let S;const C=n===0?t.initialPromise:void 0;try{S=C??t.fn()}catch(N){S=Promise.reject(N)}Promise.resolve(S).then(m).catch(N=>{if(r)return;const O=t.retry??(tc?0:3),D=t.retryDelay??kU,R=typeof D=="function"?D(n,N):D,E=O===!0||typeof O=="number"&&n<O||typeof O=="function"&&O(n,N);if(e||!E){y(N);return}n++,t.onFail?.(n,N),NU(R).then(()=>f()?void 0:v()).then(()=>{e?y(N):b()})})};return{promise:s,cancel:a,continue:()=>(i?.(),s),cancelRetry:l,continueRetry:u,canStart:p,start:()=>(p()?b():v().then(b),s)}}var OU=t=>setTimeout(t,0);function MU(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=OU;const s=l=>{e?t.push(l):i(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||a()}return u},batchCalls:l=>(...u)=>{s(()=>{l(...u)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Tr=MU(),Y5=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Kb(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(tc?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},DU=class extends Y5{#t;#e;#n;#r;#i;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=RU(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=Wb(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(ai).catch(ai):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>Ss(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Uw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>_o(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!F5(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(f=>f.options.queryFn);u&&this.setOptions(u.options)}const n=new AbortController,r=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{const u=V5(this.options,e),p=(()=>{const m={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(m),m})();return this.#o=!1,this.options.persister?this.options.persister(u,p,this):u(p)},a=(()=>{const u={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:i};return r(u),u})();this.options.behavior?.onFetch(a,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#s({type:"fetch",meta:a.fetchOptions?.meta});const l=u=>{Sx(u)&&u.silent||this.#s({type:"error",error:u}),Sx(u)||(this.#n.config.onError?.(u,this),this.#n.config.onSettled?.(this.state.data,u,this)),this.scheduleGc()};return this.#i=K5({initialPromise:e?.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:u=>{if(u===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(f){l(f);return}this.#n.config.onSuccess?.(u,this),this.#n.config.onSettled?.(u,this.state.error,this),this.scheduleGc()},onError:l,onFail:(u,f)=>{this.#s({type:"failed",failureCount:u,error:f})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#i.start()}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...W5(n.data,this.options),fetchMeta:t.meta??null};case"success":return this.#e=void 0,{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return Sx(r)&&r.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Tr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function W5(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:H5(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function RU(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var _U=class extends Lu{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,n){const r=e.queryKey,i=e.queryHash??Vw(r,e);let s=this.get(i);return s||(s=new DU({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(s)),s}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Tr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>BE(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>BE(t,n)):e}notify(t){Tr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Tr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Tr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},LU=class extends Y5{#t;#e;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#e=t.mutationCache,this.#t=[],this.state=t.state||G5(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})};this.#n=K5({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(i,s)=>{this.#r({type:"failed",failureCount:i,error:s})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const n=this.state.status==="pending",r=!this.#n.canStart();try{if(n)e();else{this.#r({type:"pending",variables:t,isPaused:r}),await this.#e.config.onMutate?.(t,this);const s=await this.options.onMutate?.(t);s!==this.state.context&&this.#r({type:"pending",context:s,variables:t,isPaused:r})}const i=await this.#n.start();return await this.#e.config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{this.#r({type:"error",error:i})}}finally{this.#e.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Tr.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#e.notify({mutation:this,type:"updated",action:t})})}};function G5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var PU=class extends Lu{constructor(t={}){super(),this.config=t,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(t,e,n){const r=new LU({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#t.add(t);const e=Xp(t);if(typeof e=="string"){const n=this.#e.get(e);n?n.push(t):this.#e.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#t.delete(t)){const e=Xp(t);if(typeof e=="string"){const n=this.#e.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#e.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Xp(t);if(typeof e=="string"){const r=this.#e.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=Xp(t);return typeof e=="string"?this.#e.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Tr.batch(()=>{this.#t.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>FE(e,n))}findAll(t={}){return this.getAll().filter(e=>FE(t,e))}notify(t){Tr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Tr.batch(()=>Promise.all(t.map(e=>e.continue().catch(ai))))}};function Xp(t){return t.options.scope?.id}function UE(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},u=0;const f=async()=>{let p=!1;const m=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},y=V5(e.options,e.fetchOptions),v=async(b,S,C)=>{if(p)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const O=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:S,direction:C?"backward":"forward",meta:e.options.meta};return m(k),k})(),D=await y(O),{maxPages:R}=e.options,E=C?jU:TU;return{pages:E(b.pages,D,R),pageParams:E(b.pageParams,S,R)}};if(i&&s.length){const b=i==="backward",S=b?zU:HE,C={pages:s,pageParams:a},N=S(r,C);l=await v(C,N,b)}else{const b=t??s.length;do{const S=u===0?a[0]??r.initialPageParam:HE(r,l);if(u>0&&S==null)break;l=await v(l,S),u++}while(u<b)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=f}}}function HE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function zU(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var IU=class{#t;#e;#n;#r;#i;#a;#o;#s;constructor(t={}){this.#t=t.queryCache||new _U,this.#e=t.mutationCache||new PU,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=Hw.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=sg.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#t.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#e.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#t.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(_o(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#t.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=this.#t.get(r.queryHash)?.state.data,a=CU(e,s);if(a!==void 0)return this.#t.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Tr.batch(()=>this.#t.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state}removeQueries(t){const e=this.#t;Tr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#t;return Tr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Tr.batch(()=>this.#t.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(ai).catch(ai)}invalidateQueries(t,e={}){return Tr.batch(()=>(this.#t.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Tr.batch(()=>this.#t.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(ai)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(ai)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#t.build(this,e);return n.isStaleByTime(_o(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ai).catch(ai)}fetchInfiniteQuery(t){return t.behavior=UE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ai).catch(ai)}ensureInfiniteQueryData(t){return t.behavior=UE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return sg.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(nc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{Bf(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(nc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(r=>{Bf(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Vw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Uw&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},BU=class extends Lu{constructor(t,e){super(),this.options=e,this.#t=t,this.#s=null,this.#o=Gb(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#n=void 0;#r=void 0;#i;#a;#o;#s;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),qE(this.#e,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Xb(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Xb(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(t){const e=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ss(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#e.setOptions(this.options),e._defaulted&&!ig(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&KE(this.#e,n,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#e!==n||Ss(this.options.enabled,this.#e)!==Ss(e.enabled,this.#e)||_o(this.options.staleTime,this.#e)!==_o(e.staleTime,this.#e))&&this.#g();const i=this.#y();r&&(this.#e!==n||Ss(this.options.enabled,this.#e)!==Ss(e.enabled,this.#e)||i!==this.#l)&&this.#v(i)}getOptimisticResult(t){const e=this.#t.getQueryCache().build(this.#t,t),n=this.createResult(e,t);return $U(this,n)&&(this.#r=n,this.#a=this.options,this.#i=this.#e.state),n}getCurrentResult(){return this.#r}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),Reflect.get(n,r))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#t.defaultQueryOptions(t),n=this.#t.getQueryCache().build(this.#t,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(t){this.#S();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(ai)),e}#g(){this.#b();const t=_o(this.options.staleTime,this.#e);if(tc||this.#r.isStale||!Kb(t))return;const n=F5(this.#r.dataUpdatedAt,t)+1;this.#c=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(t){this.#w(),this.#l=t,!(tc||Ss(this.options.enabled,this.#e)===!1||!Kb(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||Hw.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#v(this.#y())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#e,r=this.options,i=this.#r,s=this.#i,a=this.#a,u=t!==n?t.state:this.#n,{state:f}=t;let p={...f},m=!1,y;if(e._optimisticResults){const F=this.hasListeners(),G=!F&&qE(t,e),ge=F&&KE(t,n,e,r);(G||ge)&&(p={...p,...W5(f.data,t.options)}),e._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:v,errorUpdatedAt:b,status:S}=p;y=p.data;let C=!1;if(e.placeholderData!==void 0&&y===void 0&&S==="pending"){let F;i?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(F=i.data,C=!0):F=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,F!==void 0&&(S="success",y=Wb(i?.data,F,e),m=!0)}if(e.select&&y!==void 0&&!C)if(i&&y===s?.data&&e.select===this.#m)y=this.#f;else try{this.#m=e.select,y=e.select(y),y=Wb(i?.data,y,e),this.#f=y,this.#s=null}catch(F){this.#s=F}this.#s&&(v=this.#s,y=this.#f,b=Date.now(),S="error");const N=p.fetchStatus==="fetching",O=S==="pending",D=S==="error",R=O&&N,E=y!==void 0,P={status:S,fetchStatus:p.fetchStatus,isPending:O,isSuccess:S==="success",isError:D,isInitialLoading:R,isLoading:R,data:y,dataUpdatedAt:p.dataUpdatedAt,error:v,errorUpdatedAt:b,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>u.dataUpdateCount||p.errorUpdateCount>u.errorUpdateCount,isFetching:N,isRefetching:N&&!O,isLoadingError:D&&!E,isPaused:p.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:D&&E,isStale:qw(t,e),refetch:this.refetch,promise:this.#o};if(this.options.experimental_prefetchInRender){const F=oe=>{P.status==="error"?oe.reject(P.error):P.data!==void 0&&oe.resolve(P.data)},G=()=>{const oe=this.#o=P.promise=Gb();F(oe)},ge=this.#o;switch(ge.status){case"pending":t.queryHash===n.queryHash&&F(ge);break;case"fulfilled":(P.status==="error"||P.data!==ge.value)&&G();break;case"rejected":(P.status!=="error"||P.error!==ge.reason)&&G();break}}return P}updateResult(){const t=this.#r,e=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#a=this.options,this.#i.data!==void 0&&(this.#h=this.#e),ig(e,t))return;this.#r=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#p.size)return!0;const s=new Set(i??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#r).some(a=>{const l=a;return this.#r[l]!==t[l]&&s.has(l)})};this.#C({listeners:n()})}#S(){const t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;const e=this.#e;this.#e=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#C(t){Tr.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function FU(t,e){return Ss(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function qE(t,e){return FU(t,e)||t.state.data!==void 0&&Xb(t,e,e.refetchOnMount)}function Xb(t,e,n){if(Ss(e.enabled,t)!==!1&&_o(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&qw(t,e)}return!1}function KE(t,e,n,r){return(t!==e||Ss(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&qw(t,n)}function qw(t,e){return Ss(e.enabled,t)!==!1&&t.isStaleByTime(_o(e.staleTime,t))}function $U(t,e){return!ig(t.getCurrentResult(),e)}var VU=class extends Lu{#t;#e=void 0;#n;#r;constructor(e,n){super(),this.#t=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#t.defaultMutationOptions(e),ig(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&nc(n.mutationKey)!==nc(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#a(e)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#a()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??G5();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){Tr.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#e.variables,r=this.#e.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,n,r),this.#r.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#r.onError?.(e.error,n,r),this.#r.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#e)})})}},X5=T.createContext(void 0),_s=t=>{const e=T.useContext(X5);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},UU=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(X5.Provider,{value:t,children:e})),Q5=T.createContext(!1),HU=()=>T.useContext(Q5);Q5.Provider;function qU(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var KU=T.createContext(qU()),YU=()=>T.useContext(KU),WU=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},GU=t=>{T.useEffect(()=>{t.clearReset()},[t])},XU=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||U5(n,[t.error,r])),QU=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},JU=(t,e)=>t.isLoading&&t.isFetching&&!e,ZU=(t,e)=>t?.suspense&&e.isPending,YE=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function eH(t,e,n){const r=HU(),i=YU(),s=_s(),a=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=r?"isRestoring":"optimistic",QU(a),WU(a,i),GU(i);const l=!s.getQueryCache().get(a.queryHash),[u]=T.useState(()=>new e(s,a)),f=u.getOptimisticResult(a),p=!r&&t.subscribed!==!1;if(T.useSyncExternalStore(T.useCallback(m=>{const y=p?u.subscribe(Tr.batchCalls(m)):ai;return u.updateResult(),y},[u,p]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),T.useEffect(()=>{u.setOptions(a)},[a,u]),ZU(a,f))throw YE(a,u,i);if(XU({result:f,errorResetBoundary:i,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw f.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(a,f),a.experimental_prefetchInRender&&!tc&&JU(f,r)&&(l?YE(a,u,i):s.getQueryCache().get(a.queryHash)?.promise)?.catch(ai).finally(()=>{u.updateResult()}),a.notifyOnChangeProps?f:u.trackResult(f)}function wn(t,e){return eH(t,BU)}function ji(t,e){const n=_s(),[r]=T.useState(()=>new VU(n,t));T.useEffect(()=>{r.setOptions(t)},[r,t]);const i=T.useSyncExternalStore(T.useCallback(a=>r.subscribe(Tr.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=T.useCallback((a,l)=>{r.mutate(a,l).catch(ai)},[r]);if(i.error&&U5(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function tH(t){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M436.67 184.11a27.17 27.17 0 0 1-38.3 0l-22.48-22.49a27.15 27.15 0 0 1 0-38.29l50.89-50.89a.85.85 0 0 0-.26-1.38C393.68 57 351.09 64.15 324.05 91c-25.88 25.69-27.35 64.27-17.87 98a27 27 0 0 1-7.67 27.14l-173 160.76a40.76 40.76 0 1 0 57.57 57.54l162.15-173.3a27 27 0 0 1 26.77-7.7c33.46 8.94 71.49 7.26 97.07-17.94 27.49-27.08 33.42-74.94 20.1-102.33a.85.85 0 0 0-1.36-.22z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M224 284c-17.48-17-25.49-24.91-31-30.29a18.24 18.24 0 0 1-3.33-21.35 20.76 20.76 0 0 1 3.5-4.62l15.68-15.29a18.66 18.66 0 0 1 5.63-3.87 18.11 18.11 0 0 1 20 3.62c5.45 5.29 15.43 15 33.41 32.52m49.18 46.58c40.95 38.1 90.62 83.27 110 99.41a13.46 13.46 0 0 1 .94 19.92L394.63 444a14 14 0 0 1-20.29-.76c-16.53-19.18-61.09-67.11-99.27-107"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m17.34 193.5 29.41-28.74a4.71 4.71 0 0 1 3.41-1.35 4.85 4.85 0 0 1 3.41 1.35h0a9.86 9.86 0 0 0 8.19 2.77c3.83-.42 7.92-1.6 10.57-4.12 6-5.8-.94-17.23 4.34-24.54a207 207 0 0 1 19.78-22.6c6-5.88 29.84-28.32 69.9-44.45A107.31 107.31 0 0 1 206.67 64c22.59 0 40 10 46.26 15.67a89.54 89.54 0 0 1 10.28 11.64 78.92 78.92 0 0 0-9.21-2.77 68.82 68.82 0 0 0-20-1.26c-13.33 1.09-29.41 7.26-38 14-13.9 11-19.87 25.72-20.81 44.71-.68 14.12 2.72 22.1 36.1 55.49a6.6 6.6 0 0 1-.34 9.16l-18.22 18a6.88 6.88 0 0 1-9.54.09c-21.94-21.94-36.65-33.09-45-38.16s-15.07-6.5-18.3-6.85a30.85 30.85 0 0 0-18.27 3.87 11.39 11.39 0 0 0-2.64 2 14.14 14.14 0 0 0 .42 20.08l1.71 1.6a4.63 4.63 0 0 1 0 6.64L71.73 246.6a4.71 4.71 0 0 1-3.41 1.4 4.86 4.86 0 0 1-3.41-1.35l-47.57-46.43a4.88 4.88 0 0 1 0-6.72z"},child:[]}]})(t)}function nH(t){return rn({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 14V16C8.68629 16 6 18.6863 6 22H4C4 17.5817 7.58172 14 12 14ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13ZM12 11C14.21 11 16 9.21 16 7C16 4.79 14.21 3 12 3C9.79 3 8 4.79 8 7C8 9.21 9.79 11 12 11ZM21 17H22V22H14V17H15V16C15 14.3431 16.3431 13 18 13C19.6569 13 21 14.3431 21 16V17ZM19 17V16C19 15.4477 18.5523 15 18 15C17.4477 15 17 15.4477 17 16V17H19Z"},child:[]}]})(t)}function rH(t){return rn({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14.763.075A.5.5 0 0 1 15 .5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V14h-1v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V10a.5.5 0 0 1 .342-.474L6 7.64V4.5a.5.5 0 0 1 .276-.447l8-4a.5.5 0 0 1 .487.022M6 8.694 1 10.36V15h5zM7 15h2v-1.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5V15h2V1.309l-7 3.5z"},child:[]},{tag:"path",attr:{d:"M2 11h1v1H2zm2 0h1v1H4zm-2 2h1v1H2zm2 0h1v1H4zm4-4h1v1H8zm2 0h1v1h-1zm-2 2h1v1H8zm2 0h1v1h-1zm2-2h1v1h-1zm0 2h1v1h-1zM8 7h1v1H8zm2 0h1v1h-1zm2 0h1v1h-1zM8 5h1v1H8zm2 0h1v1h-1zm2 0h1v1h-1zm0-2h1v1h-1z"},child:[]}]})(t)}function iH(t){return rn({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2 2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zM1 4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1zm7.5.5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0zM2 5.5a.5.5 0 0 1 .5-.5H6a.5.5 0 0 1 0 1H2.5a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5H6a.5.5 0 0 1 0 1H2.5a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5H6a.5.5 0 0 1 0 1H2.5a.5.5 0 0 1-.5-.5M10.5 5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5zM13 8h-2V6h2z"},child:[]}]})(t)}function sH(t){return rn({attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M17 7C17 5.34315 15.6569 4 14 4H10C8.34315 4 7 5.34315 7 7H6C4.34315 7 3 8.34315 3 10V18C3 19.6569 4.34315 21 6 21H18C19.6569 21 21 19.6569 21 18V10C21 8.34315 19.6569 7 18 7H17ZM14 6H10C9.44772 6 9 6.44772 9 7H15C15 6.44772 14.5523 6 14 6ZM6 9H18C18.5523 9 19 9.44772 19 10V18C19 18.5523 18.5523 19 18 19H6C5.44772 19 5 18.5523 5 18V10C5 9.44772 5.44772 9 6 9Z",fill:"currentColor"},child:[]}]})(t)}function aH(t){return rn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M3,6 L21,6 L3,6 Z M10,2 L10,4 M14,2 L14,4 M16,12 C18.3736719,13.1826446 20,15.6506255 20,19 L20,23 L4,23 L4,19 C4,15.6457258 5.6310898,13.1754259 8,12 M12,16.5 L12,23 M12,13 C15.3137085,13 18,10.3137085 18,7 C18,3.6862915 15.3137085,1 12,1 C8.6862915,1 6,3.6862915 6,7 C6,10.3137085 8.6862915,13 12,13 Z M8,12 C8,14.209139 9.790861,16 12,16 L12,16 C14.209139,16 16,14.209139 16,12"},child:[]}]})(t)}function oH(t){return rn({attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4.5 1L4 1.5V3.02746C4.16417 3.00932 4.331 3 4.5 3C4.669 3 4.83583 3.00932 5 3.02746V2H14V7H12.2929L11 8.29289V7H8.97254C8.99068 7.16417 9 7.331 9 7.5C9 7.669 8.99068 7.83583 8.97254 8H10V9.5L10.8536 9.85355L12.7071 8H14.5L15 7.5V1.5L14.5 1H4.5Z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M6.41705 10.4288C7.37039 9.80348 8 8.72527 8 7.5C8 5.567 6.433 4 4.5 4C2.567 4 1 5.567 1 7.5C1 8.72527 1.62961 9.80348 2.58295 10.4288C2.11364 10.6498 1.68557 10.9505 1.31802 11.318C0.900156 11.7359 0.568688 12.232 0.342542 12.7779C0.180451 13.1692 0.0747425 13.5807 0.0278638 14C0.00933826 14.1657 0 14.3326 0 14.5V15H1L0.999398 14.5C0.999398 14.4784 0.999599 14.4567 1 14.4351C1.00811 13.9975 1.09823 13.5651 1.26587 13.1604C1.44179 12.7357 1.69964 12.3498 2.0247 12.0247C2.34976 11.6996 2.73566 11.4418 3.16038 11.2659C3.57088 11.0958 4.00986 11.0056 4.45387 10.9997C4.46922 10.9999 4.4846 11 4.5 11C4.5154 11 4.53078 10.9999 4.54613 10.9997C4.99014 11.0056 5.42912 11.0958 5.83962 11.2659C6.26433 11.4418 6.65024 11.6996 6.9753 12.0247C7.30036 12.3498 7.55821 12.7357 7.73413 13.1604C7.90177 13.5651 7.99189 13.9975 8 14.4351C8.0004 14.4567 8.0006 14.4784 8.0006 14.5L8 15H9V14.5C9 14.3326 8.99066 14.1657 8.97214 14C8.92526 13.5807 8.81955 13.1692 8.65746 12.7779C8.43131 12.232 8.09984 11.7359 7.68198 11.318C7.31443 10.9505 6.88636 10.6498 6.41705 10.4288ZM4.5 10C3.11929 10 2 8.88071 2 7.5C2 6.11929 3.11929 5 4.5 5C5.88071 5 7 6.11929 7 7.5C7 8.88071 5.88071 10 4.5 10Z"},child:[]}]})(t)}function lH(t){return rn({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13.5 0h-12c-0.825 0-1.5 0.675-1.5 1.5v13c0 0.825 0.675 1.5 1.5 1.5h12c0.825 0 1.5-0.675 1.5-1.5v-13c0-0.825-0.675-1.5-1.5-1.5zM13 14h-11v-12h11v12zM4 9h7v1h-7zM4 11h7v1h-7zM5 4.5c0-0.828 0.672-1.5 1.5-1.5s1.5 0.672 1.5 1.5c0 0.828-0.672 1.5-1.5 1.5s-1.5-0.672-1.5-1.5zM7.5 6h-2c-0.825 0-1.5 0.45-1.5 1v1h5v-1c0-0.55-0.675-1-1.5-1z"},child:[]}]})(t)}function cH(t){return rn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 3H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zM9 9H5V5h4v4zm11 4h-6a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1zm-1 6h-4v-4h4v4zM17 3c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4-1.794-4-4-4zm0 6c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2zM7 13c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4-1.794-4-4-4zm0 6c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2z"},child:[]}]})(t)}function uH(){const{sidebarOpen:t,setSidebarOpen:e}=T.useContext($w),[n,r]=T.useState(!1),i=Hn();async function s(){r(!0);try{let y=await Ye.post("https://nexus-consults.com/api/public/api/admin/auth/logout",{},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}});localStorage.removeItem("userToken"),i("/login"),me.success("logged Out Successfully",{duration:2e3}),r(!1)}catch(y){y.status==401&&(localStorage.removeItem("userToken"),i("/login")),r(!1),me.error(y.response?.data?.message||"something went wrong",{duration:3e3}),localStorage.removeItem("userToken"),i("/login")}}const a=()=>e(!t),{data:l,isLoading:u,error:f,isError:p}=wn({queryKey:["currentUser"],queryFn:()=>Ye.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}),m=[{title:"Admins",path:"/admins",icon:d.jsx(nH,{}),permission:"view_admins"},{title:"Services",path:"/services",icon:d.jsx(tH,{}),permission:"view_services"},{title:"Projects",path:"/projects",icon:d.jsx(rH,{}),permission:"view_projects"},{title:"Blogs",path:"/blogs",icon:d.jsx(iH,{}),permission:"view_blogs"},{title:"Jobs",path:"/jobs",icon:d.jsx(sH,{}),permission:"view_jobs"},{title:"Jobs Applications",path:"/jobs-applications",icon:d.jsx(aH,{}),permission:"view_job_applications"},{title:"Testmonials",path:"/testmonials",icon:d.jsx(oH,{}),permission:"view_feedbacks"},{title:"About Us",path:"/about-us",icon:d.jsx(lH,{}),permission:"view_feedbacks"},{title:"Disciplines",path:"/disciplines",icon:d.jsx(cH,{}),permission:"view_disciplines"}];return d.jsx(d.Fragment,{children:d.jsxs("div",{className:`h-full bg-tramsparent p-5 fixed w-56 left-0 ${t?"translate-x-0":"-translate-x-full"} transition-all duration-500 z-50`,children:[d.jsx("div",{className:`absolute z-50 ${t?"top-5 right-5 -translate-x-1/2 translate-y-1/2 text-gray-400":"top-2 -right-2 translate-x-full p-1.5 flex justify-center items-center bg-white text-gray-700 bg-opacity-90 aspect-square rounded-full cursor-pointer"} transition-all duration-500`,children:d.jsx("button",{onClick:a,children:d.jsx(wU,{className:"text-2xl"})})}),d.jsxs("div",{className:"h-full bg-primary rounded-2xl p-5 pt-10 flex flex-col justify-between overflow-y-auto shadow-xl",children:[d.jsxs("div",{className:"",children:[d.jsx("div",{className:"flex justify-center items-center overflow-hidden mb-2",children:d.jsx("img",{src:jO,alt:"Logo",className:"w-4/5"})}),d.jsx("div",{className:"flex flex-col gap-1 text-gray-400 text-base",children:m.map((y,v)=>d.jsx(d.Fragment,{children:(l?.data?.data?.admin?.permissions.includes(y.permission)||y.permission=="")&&d.jsxs(CO,{className:"px-4 py-2 rounded-xl flex items-center gap-2",to:y.path,children:[d.jsxs("div",{className:"",children:[y.icon," "]}),y.title]},y.name)}))})]}),d.jsx("div",{className:"flex flex-col",children:d.jsxs("button",{onClick:s,disabled:n,className:"bg-gray-400 flex justify-center items-center text-white p-2 rounded-xl mb-2 gap-2 disabled:cursor-not-allowed disabled:opacity-50 capitalize",children:["Logout ",d.jsx(SU,{className:"text-2xl font-extrabold"})]})})]})]})})}const dH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fH=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),WE=t=>{const e=fH(t);return e.charAt(0).toUpperCase()+e.slice(1)},J5=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),hH=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var pH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const mH=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...l},u)=>T.createElement("svg",{ref:u,...pH,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:J5("lucide",i),...!s&&!hH(l)&&{"aria-hidden":"true"},...l},[...a.map(([f,p])=>T.createElement(f,p)),...Array.isArray(s)?s:[s]]));const mn=(t,e)=>{const n=T.forwardRef(({className:r,...i},s)=>T.createElement(mH,{ref:s,iconNode:e,className:J5(`lucide-${dH(WE(t))}`,`lucide-${t}`,r),...i}));return n.displayName=WE(t),n};const gH=[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],GE=mn("align-center",gH);const yH=[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]],vH=mn("align-justify",yH);const xH=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],XE=mn("align-left",xH);const bH=[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],QE=mn("align-right",bH);const wH=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],SH=mn("bold",wH);const CH=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],NH=mn("calendar",CH);const TH=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],JE=mn("check",TH);const jH=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],EH=mn("circle-user-round",jH);const AH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ui=mn("circle-x",AH);const kH=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],OH=mn("code-xml",kH);const MH=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],DH=mn("heading-1",MH);const RH=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],_H=mn("heading-2",RH);const LH=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],PH=mn("heading-3",LH);const zH=[["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 10v3a1 1 0 0 0 1 1h3",key:"tj5zdr"}],["path",{d:"M21 10v8",key:"1kdml4"}],["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}]],IH=mn("heading-4",zH);const BH=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 13v-3h4",key:"1nvgqp"}],["path",{d:"M17 17.7c.4.2.8.3 1.3.3 1.5 0 2.7-1.1 2.7-2.5S19.8 13 18.3 13H17",key:"2nebdn"}]],FH=mn("heading-5",BH);const $H=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["circle",{cx:"19",cy:"16",r:"2",key:"15mx69"}],["path",{d:"M20 10c-2 2-3 3.5-3 6",key:"f35dl0"}]],VH=mn("heading-6",$H);const UH=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Z5=mn("image",UH);const HH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],qH=mn("info",HH);const KH=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],YH=mn("italic",KH);const WH=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],eM=mn("link",WH);const GH=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],XH=mn("list-ordered",GH);const QH=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],JH=mn("list",QH);const ZH=[["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M12 2v10.3a4 4 0 0 1-1.172 2.872L4 22",key:"1hyw0i"}],["path",{d:"m20 22-5-5",key:"1m27yz"}]],eq=mn("merge",ZH);const tq=[["path",{d:"M5 12h14",key:"1ays0h"}]],nq=mn("minus",tq);const rq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ZE=mn("plus",rq);const iq=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],sq=mn("quote",iq);const aq=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],oq=mn("redo",aq);const lq=[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]],cq=mn("split",lq);const uq=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],dq=mn("strikethrough",uq);const fq=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],hq=mn("table",fq);const pq=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Cx=mn("trash-2",pq);const mq=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],gq=mn("underline",mq);const yq=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],vq=mn("undo",yq);const xq=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],tM=mn("unlink",xq);const bq=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],nM=mn("video",bq);const wq=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],eA=mn("x",wq);const Sq=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],Cq=mn("youtube",Sq);function Nq(){const t=Hn(),{data:e,isLoading:n}=wn({queryKey:["currentUser"],queryFn:()=>Ye.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})});return d.jsx(d.Fragment,{children:d.jsx("div",{onClick:()=>t("/user-setting"),className:"fixed top-5 right-5 h-11 w-11 flex justify-center items-center rounded-full bg-white cursor-pointer shadow-lg",children:e?.data?.data?.user?.profile_image?d.jsx("img",{src:e?.data?.data?.user?.profile_image,alt:"Profile",className:"w-10 h-10 rounded-full object-cover border-gray-200"}):d.jsx(EH,{className:"hover:scale-[1.04] transition-all"})})})}function Tq(){const{sidebarOpen:t,setSidebarOpen:e}=T.useContext($w);return d.jsxs(d.Fragment,{children:[d.jsx(Nq,{}),d.jsxs("div",{className:"flex min-h-screen",children:[d.jsx("div",{className:`${t?"md:w-56":"w-0"} transition-all duration-500`,children:d.jsx(uH,{})}),d.jsx("div",{className:`${t?"w-full md:w-[calc(100%-224px)] ps-0":"w-full"} md:p-5  text-black transition-all duration-500 bg-background`,children:d.jsx(yP,{})})]})]})}var Nx={exports:{}},Tx,tA;function jq(){if(tA)return Tx;tA=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Tx=t,Tx}var jx,nA;function Eq(){if(nA)return jx;nA=1;var t=jq();function e(){}function n(){}return n.resetWarningCache=e,jx=function(){function r(a,l,u,f,p,m){if(m!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},jx}var rA;function Aq(){return rA||(rA=1,Nx.exports=Eq()()),Nx.exports}var kq=Aq();const Kn=Ha(kq);var Ex,iA;function Oq(){if(iA)return Ex;iA=1;function t(l){return l&&typeof l=="object"&&"default"in l?l.default:l}var e=uy(),n=t(e);function r(l,u,f){return u in l?Object.defineProperty(l,u,{value:f,enumerable:!0,configurable:!0,writable:!0}):l[u]=f,l}function i(l,u){l.prototype=Object.create(u.prototype),l.prototype.constructor=l,l.__proto__=u}var s=!!(typeof window<"u"&&window.document&&window.document.createElement);function a(l,u,f){if(typeof l!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof u!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof f<"u"&&typeof f!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function p(m){return m.displayName||m.name||"Component"}return function(y){if(typeof y!="function")throw new Error("Expected WrappedComponent to be a React component.");var v=[],b;function S(){b=l(v.map(function(N){return N.props})),C.canUseDOM?u(b):f&&(b=f(b))}var C=function(N){i(O,N);function O(){return N.apply(this,arguments)||this}O.peek=function(){return b},O.rewind=function(){if(O.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var E=b;return b=void 0,v=[],E};var D=O.prototype;return D.UNSAFE_componentWillMount=function(){v.push(this),S()},D.componentDidUpdate=function(){S()},D.componentWillUnmount=function(){var E=v.indexOf(this);v.splice(E,1),S()},D.render=function(){return n.createElement(y,this.props)},O}(e.PureComponent);return r(C,"displayName","SideEffect("+p(y)+")"),r(C,"canUseDOM",s),C}}return Ex=a,Ex}var Mq=Oq();const Dq=Ha(Mq);var Ax,sA;function Rq(){if(sA)return Ax;sA=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(s,a){if(s===a)return!0;if(s&&a&&typeof s=="object"&&typeof a=="object"){if(s.constructor!==a.constructor)return!1;var l,u,f;if(Array.isArray(s)){if(l=s.length,l!=a.length)return!1;for(u=l;u--!==0;)if(!i(s[u],a[u]))return!1;return!0}var p;if(e&&s instanceof Map&&a instanceof Map){if(s.size!==a.size)return!1;for(p=s.entries();!(u=p.next()).done;)if(!a.has(u.value[0]))return!1;for(p=s.entries();!(u=p.next()).done;)if(!i(u.value[1],a.get(u.value[0])))return!1;return!0}if(n&&s instanceof Set&&a instanceof Set){if(s.size!==a.size)return!1;for(p=s.entries();!(u=p.next()).done;)if(!a.has(u.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(a)){if(l=s.length,l!=a.length)return!1;for(u=l;u--!==0;)if(s[u]!==a[u])return!1;return!0}if(s.constructor===RegExp)return s.source===a.source&&s.flags===a.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof a.valueOf=="function")return s.valueOf()===a.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof a.toString=="function")return s.toString()===a.toString();if(f=Object.keys(s),l=f.length,l!==Object.keys(a).length)return!1;for(u=l;u--!==0;)if(!Object.prototype.hasOwnProperty.call(a,f[u]))return!1;if(t&&s instanceof Element)return!1;for(u=l;u--!==0;)if(!((f[u]==="_owner"||f[u]==="__v"||f[u]==="__o")&&s.$$typeof)&&!i(s[f[u]],a[f[u]]))return!1;return!0}return s!==s&&a!==a}return Ax=function(a,l){try{return i(a,l)}catch(u){if((u.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw u}},Ax}var _q=Rq();const Lq=Ha(_q);var kx,aA;function Pq(){if(aA)return kx;aA=1;var t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function i(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var a={},l=0;l<10;l++)a["_"+String.fromCharCode(l)]=l;var u=Object.getOwnPropertyNames(a).map(function(p){return a[p]});if(u.join("")!=="0123456789")return!1;var f={};return"abcdefghijklmnopqrst".split("").forEach(function(p){f[p]=p}),Object.keys(Object.assign({},f)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return kx=i()?Object.assign:function(s,a){for(var l,u=r(s),f,p=1;p<arguments.length;p++){l=Object(arguments[p]);for(var m in l)e.call(l,m)&&(u[m]=l[m]);if(t){f=t(l);for(var y=0;y<f.length;y++)n.call(l,f[y])&&(u[f[y]]=l[f[y]])}}return u},kx}var zq=Pq();const Iq=Ha(zq);var Hl={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Jt={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Jt).map(function(t){return Jt[t]});var Wn={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},ag={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Ff={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},Bq=Object.keys(ag).reduce(function(t,e){return t[ag[e]]=e,t},{}),Fq=[Jt.NOSCRIPT,Jt.SCRIPT,Jt.STYLE],js="data-react-helmet",$q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vq=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Uq=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),xi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hq=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},oA=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},qq=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},Qb=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Kq=function(e){var n=pu(e,Jt.TITLE),r=pu(e,Ff.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=pu(e,Ff.DEFAULT_TITLE);return n||i||void 0},Yq=function(e){return pu(e,Ff.ON_CHANGE_CLIENT_STATE)||function(){}},Ox=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,i){return xi({},r,i)},{})},Wq=function(e,n){return n.filter(function(r){return typeof r[Jt.BASE]<"u"}).map(function(r){return r[Jt.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),a=0;a<s.length;a++){var l=s[a],u=l.toLowerCase();if(e.indexOf(u)!==-1&&i[u])return r.concat(i)}return r},[])},Kd=function(e,n,r){var i={};return r.filter(function(s){return Array.isArray(s[e])?!0:(typeof s[e]<"u"&&Jq("Helmet: "+e+' should be of type "Array". Instead found type "'+$q(s[e])+'"'),!1)}).map(function(s){return s[e]}).reverse().reduce(function(s,a){var l={};a.filter(function(y){for(var v=void 0,b=Object.keys(y),S=0;S<b.length;S++){var C=b[S],N=C.toLowerCase();n.indexOf(N)!==-1&&!(v===Wn.REL&&y[v].toLowerCase()==="canonical")&&!(N===Wn.REL&&y[N].toLowerCase()==="stylesheet")&&(v=N),n.indexOf(C)!==-1&&(C===Wn.INNER_HTML||C===Wn.CSS_TEXT||C===Wn.ITEM_PROP)&&(v=C)}if(!v||!y[v])return!1;var O=y[v].toLowerCase();return i[v]||(i[v]={}),l[v]||(l[v]={}),i[v][O]?!1:(l[v][O]=!0,!0)}).reverse().forEach(function(y){return s.push(y)});for(var u=Object.keys(l),f=0;f<u.length;f++){var p=u[f],m=Iq({},i[p],l[p]);i[p]=m}return s},[]).reverse()},pu=function(e,n){for(var r=e.length-1;r>=0;r--){var i=e[r];if(i.hasOwnProperty(n))return i[n]}return null},Gq=function(e){return{baseTag:Wq([Wn.HREF,Wn.TARGET],e),bodyAttributes:Ox(Hl.BODY,e),defer:pu(e,Ff.DEFER),encode:pu(e,Ff.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Ox(Hl.HTML,e),linkTags:Kd(Jt.LINK,[Wn.REL,Wn.HREF],e),metaTags:Kd(Jt.META,[Wn.NAME,Wn.CHARSET,Wn.HTTPEQUIV,Wn.PROPERTY,Wn.ITEM_PROP],e),noscriptTags:Kd(Jt.NOSCRIPT,[Wn.INNER_HTML],e),onChangeClientState:Yq(e),scriptTags:Kd(Jt.SCRIPT,[Wn.SRC,Wn.INNER_HTML],e),styleTags:Kd(Jt.STYLE,[Wn.CSS_TEXT],e),title:Kq(e),titleAttributes:Ox(Hl.TITLE,e)}},Jb=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){Jb(e)},0)}}(),lA=function(e){return clearTimeout(e)},Xq=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Jb:global.requestAnimationFrame||Jb,Qq=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||lA:global.cancelAnimationFrame||lA,Jq=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Yd=null,Zq=function(e){Yd&&Qq(Yd),e.defer?Yd=Xq(function(){cA(e,function(){Yd=null})}):(cA(e),Yd=null)},cA=function(e,n){var r=e.baseTag,i=e.bodyAttributes,s=e.htmlAttributes,a=e.linkTags,l=e.metaTags,u=e.noscriptTags,f=e.onChangeClientState,p=e.scriptTags,m=e.styleTags,y=e.title,v=e.titleAttributes;Zb(Jt.BODY,i),Zb(Jt.HTML,s),eK(y,v);var b={baseTag:Gc(Jt.BASE,r),linkTags:Gc(Jt.LINK,a),metaTags:Gc(Jt.META,l),noscriptTags:Gc(Jt.NOSCRIPT,u),scriptTags:Gc(Jt.SCRIPT,p),styleTags:Gc(Jt.STYLE,m)},S={},C={};Object.keys(b).forEach(function(N){var O=b[N],D=O.newTags,R=O.oldTags;D.length&&(S[N]=D),R.length&&(C[N]=b[N].oldTags)}),n&&n(),f(e,S,C)},rM=function(e){return Array.isArray(e)?e.join(""):e},eK=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=rM(e)),Zb(Jt.TITLE,n)},Zb=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var i=r.getAttribute(js),s=i?i.split(","):[],a=[].concat(s),l=Object.keys(n),u=0;u<l.length;u++){var f=l[u],p=n[f]||"";r.getAttribute(f)!==p&&r.setAttribute(f,p),s.indexOf(f)===-1&&s.push(f);var m=a.indexOf(f);m!==-1&&a.splice(m,1)}for(var y=a.length-1;y>=0;y--)r.removeAttribute(a[y]);s.length===a.length?r.removeAttribute(js):r.getAttribute(js)!==l.join(",")&&r.setAttribute(js,l.join(","))}},Gc=function(e,n){var r=document.head||document.querySelector(Jt.HEAD),i=r.querySelectorAll(e+"["+js+"]"),s=Array.prototype.slice.call(i),a=[],l=void 0;return n&&n.length&&n.forEach(function(u){var f=document.createElement(e);for(var p in u)if(u.hasOwnProperty(p))if(p===Wn.INNER_HTML)f.innerHTML=u.innerHTML;else if(p===Wn.CSS_TEXT)f.styleSheet?f.styleSheet.cssText=u.cssText:f.appendChild(document.createTextNode(u.cssText));else{var m=typeof u[p]>"u"?"":u[p];f.setAttribute(p,m)}f.setAttribute(js,"true"),s.some(function(y,v){return l=v,f.isEqualNode(y)})?s.splice(l,1):a.push(f)}),s.forEach(function(u){return u.parentNode.removeChild(u)}),a.forEach(function(u){return r.appendChild(u)}),{oldTags:s,newTags:a}},iM=function(e){return Object.keys(e).reduce(function(n,r){var i=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+i:i},"")},tK=function(e,n,r,i){var s=iM(r),a=rM(n);return s?"<"+e+" "+js+'="true" '+s+">"+Qb(a,i)+"</"+e+">":"<"+e+" "+js+'="true">'+Qb(a,i)+"</"+e+">"},nK=function(e,n,r){return n.reduce(function(i,s){var a=Object.keys(s).filter(function(f){return!(f===Wn.INNER_HTML||f===Wn.CSS_TEXT)}).reduce(function(f,p){var m=typeof s[p]>"u"?p:p+'="'+Qb(s[p],r)+'"';return f?f+" "+m:m},""),l=s.innerHTML||s.cssText||"",u=Fq.indexOf(e)===-1;return i+"<"+e+" "+js+'="true" '+a+(u?"/>":">"+l+"</"+e+">")},"")},sM=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[ag[i]||i]=e[i],r},n)},rK=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[Bq[i]||i]=e[i],r},n)},iK=function(e,n,r){var i,s=(i={key:n},i[js]=!0,i),a=sM(r,s);return[Ut.createElement(Jt.TITLE,a,n)]},sK=function(e,n){return n.map(function(r,i){var s,a=(s={key:i},s[js]=!0,s);return Object.keys(r).forEach(function(l){var u=ag[l]||l;if(u===Wn.INNER_HTML||u===Wn.CSS_TEXT){var f=r.innerHTML||r.cssText;a.dangerouslySetInnerHTML={__html:f}}else a[u]=r[l]}),Ut.createElement(e,a)})},ja=function(e,n,r){switch(e){case Jt.TITLE:return{toComponent:function(){return iK(e,n.title,n.titleAttributes)},toString:function(){return tK(e,n.title,n.titleAttributes,r)}};case Hl.BODY:case Hl.HTML:return{toComponent:function(){return sM(n)},toString:function(){return iM(n)}};default:return{toComponent:function(){return sK(e,n)},toString:function(){return nK(e,n,r)}}}},aM=function(e){var n=e.baseTag,r=e.bodyAttributes,i=e.encode,s=e.htmlAttributes,a=e.linkTags,l=e.metaTags,u=e.noscriptTags,f=e.scriptTags,p=e.styleTags,m=e.title,y=m===void 0?"":m,v=e.titleAttributes;return{base:ja(Jt.BASE,n,i),bodyAttributes:ja(Hl.BODY,r,i),htmlAttributes:ja(Hl.HTML,s,i),link:ja(Jt.LINK,a,i),meta:ja(Jt.META,l,i),noscript:ja(Jt.NOSCRIPT,u,i),script:ja(Jt.SCRIPT,f,i),style:ja(Jt.STYLE,p,i),title:ja(Jt.TITLE,{title:y,titleAttributes:v},i)}},aK=function(e){var n,r;return r=n=function(i){Hq(s,i);function s(){return Vq(this,s),qq(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(l){return!Lq(this.props,l)},s.prototype.mapNestedChildrenToProps=function(l,u){if(!u)return null;switch(l.type){case Jt.SCRIPT:case Jt.NOSCRIPT:return{innerHTML:u};case Jt.STYLE:return{cssText:u}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(l){var u,f=l.child,p=l.arrayTypeChildren,m=l.newChildProps,y=l.nestedChildren;return xi({},p,(u={},u[f.type]=[].concat(p[f.type]||[],[xi({},m,this.mapNestedChildrenToProps(f,y))]),u))},s.prototype.mapObjectTypeChildren=function(l){var u,f,p=l.child,m=l.newProps,y=l.newChildProps,v=l.nestedChildren;switch(p.type){case Jt.TITLE:return xi({},m,(u={},u[p.type]=v,u.titleAttributes=xi({},y),u));case Jt.BODY:return xi({},m,{bodyAttributes:xi({},y)});case Jt.HTML:return xi({},m,{htmlAttributes:xi({},y)})}return xi({},m,(f={},f[p.type]=xi({},y),f))},s.prototype.mapArrayTypeChildrenToProps=function(l,u){var f=xi({},u);return Object.keys(l).forEach(function(p){var m;f=xi({},f,(m={},m[p]=l[p],m))}),f},s.prototype.warnOnInvalidChildren=function(l,u){return!0},s.prototype.mapChildrenToProps=function(l,u){var f=this,p={};return Ut.Children.forEach(l,function(m){if(!(!m||!m.props)){var y=m.props,v=y.children,b=oA(y,["children"]),S=rK(b);switch(f.warnOnInvalidChildren(m,v),m.type){case Jt.LINK:case Jt.META:case Jt.NOSCRIPT:case Jt.SCRIPT:case Jt.STYLE:p=f.flattenArrayTypeChildren({child:m,arrayTypeChildren:p,newChildProps:S,nestedChildren:v});break;default:u=f.mapObjectTypeChildren({child:m,newProps:u,newChildProps:S,nestedChildren:v});break}}}),u=this.mapArrayTypeChildrenToProps(p,u),u},s.prototype.render=function(){var l=this.props,u=l.children,f=oA(l,["children"]),p=xi({},f);return u&&(p=this.mapChildrenToProps(u,p)),Ut.createElement(e,p)},Uq(s,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),s}(Ut.Component),n.propTypes={base:Kn.object,bodyAttributes:Kn.object,children:Kn.oneOfType([Kn.arrayOf(Kn.node),Kn.node]),defaultTitle:Kn.string,defer:Kn.bool,encodeSpecialCharacters:Kn.bool,htmlAttributes:Kn.object,link:Kn.arrayOf(Kn.object),meta:Kn.arrayOf(Kn.object),noscript:Kn.arrayOf(Kn.object),onChangeClientState:Kn.func,script:Kn.arrayOf(Kn.object),style:Kn.arrayOf(Kn.object),title:Kn.string,titleAttributes:Kn.object,titleTemplate:Kn.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var i=e.rewind();return i||(i=aM({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},oK=function(){return null},lK=Dq(Gq,Zq,aM)(oK),uA=aK(lK);uA.renderStatic=uA.rewind;function cK(){const t=Hn();return T.useEffect(()=>{t("/")},[]),d.jsx(d.Fragment,{})}const Kw=T.createContext({});function Yw(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ww=typeof window<"u",oM=Ww?T.useLayoutEffect:T.useEffect,jy=T.createContext(null);function Gw(t,e){t.indexOf(e)===-1&&t.push(e)}function Xw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const $a=(t,e,n)=>n>e?e:n<t?t:n;let Qw=()=>{};const Va={},lM=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function cM(t){return typeof t=="object"&&t!==null}const uM=t=>/^0[^.\s]+$/u.test(t);function Jw(t){let e;return()=>(e===void 0&&(e=t()),e)}const ds=t=>t,uK=(t,e)=>n=>e(t(n)),Sh=(...t)=>t.reduce(uK),$f=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Zw{constructor(){this.subscriptions=[]}add(e){return Gw(this.subscriptions,e),()=>Xw(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Js=t=>t*1e3,Zs=t=>t/1e3;function dM(t,e){return e?t*(1e3/e):0}const fM=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,dK=1e-7,fK=12;function hK(t,e,n,r,i){let s,a,l=0;do a=e+(n-e)/2,s=fM(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>dK&&++l<fK);return a}function Ch(t,e,n,r){if(t===e&&n===r)return ds;const i=s=>hK(s,0,1,t,n);return s=>s===0||s===1?s:fM(i(s),e,r)}const hM=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,pM=t=>e=>1-t(1-e),mM=Ch(.33,1.53,.69,.99),e2=pM(mM),gM=hM(e2),yM=t=>(t*=2)<1?.5*e2(t):.5*(2-Math.pow(2,-10*(t-1))),t2=t=>1-Math.sin(Math.acos(t)),vM=pM(t2),xM=hM(t2),pK=Ch(.42,0,1,1),mK=Ch(0,0,.58,1),bM=Ch(.42,0,.58,1),gK=t=>Array.isArray(t)&&typeof t[0]!="number",wM=t=>Array.isArray(t)&&typeof t[0]=="number",yK={linear:ds,easeIn:pK,easeInOut:bM,easeOut:mK,circIn:t2,circInOut:xM,circOut:vM,backIn:e2,backInOut:gM,backOut:mM,anticipate:yM},vK=t=>typeof t=="string",dA=t=>{if(wM(t)){Qw(t.length===4);const[e,n,r,i]=t;return Ch(e,n,r,i)}else if(vK(t))return yK[t];return t},Qp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],fA={value:null};function xK(t,e){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},u=0;function f(m){a.has(m)&&(p.schedule(m),t()),u++,m(l)}const p={schedule:(m,y=!1,v=!1)=>{const S=v&&i?n:r;return y&&a.add(m),S.has(m)||S.add(m),m},cancel:m=>{r.delete(m),a.delete(m)},process:m=>{if(l=m,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(f),e&&fA.value&&fA.value.frameloop[e].push(u),u=0,n.clear(),i=!1,s&&(s=!1,p.process(m))}};return p}const bK=40;function SM(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=Qp.reduce((D,R)=>(D[R]=xK(s,e?R:void 0),D),{}),{setup:l,read:u,resolveKeyframes:f,preUpdate:p,update:m,preRender:y,render:v,postRender:b}=a,S=()=>{const D=Va.useManualTiming?i.timestamp:performance.now();n=!1,Va.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(D-i.timestamp,bK),1)),i.timestamp=D,i.isProcessing=!0,l.process(i),u.process(i),f.process(i),p.process(i),m.process(i),y.process(i),v.process(i),b.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(S))},C=()=>{n=!0,r=!0,i.isProcessing||t(S)};return{schedule:Qp.reduce((D,R)=>{const E=a[R];return D[R]=(k,P=!1,F=!1)=>(n||C(),E.schedule(k,P,F)),D},{}),cancel:D=>{for(let R=0;R<Qp.length;R++)a[Qp[R]].cancel(D)},state:i,steps:a}}const{schedule:er,cancel:$o,state:Vr,steps:Mx}=SM(typeof requestAnimationFrame<"u"?requestAnimationFrame:ds,!0);let Dm;function wK(){Dm=void 0}const Ci={now:()=>(Dm===void 0&&Ci.set(Vr.isProcessing||Va.useManualTiming?Vr.timestamp:performance.now()),Dm),set:t=>{Dm=t,queueMicrotask(wK)}},CM=t=>e=>typeof e=="string"&&e.startsWith(t),n2=CM("--"),SK=CM("var(--"),r2=t=>SK(t)?CK.test(t.split("/*")[0].trim()):!1,CK=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Pu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Vf={...Pu,transform:t=>$a(0,1,t)},Jp={...Pu,default:1},ff=t=>Math.round(t*1e5)/1e5,i2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function NK(t){return t==null}const TK=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,s2=(t,e)=>n=>!!(typeof n=="string"&&TK.test(n)&&n.startsWith(t)||e&&!NK(n)&&Object.prototype.hasOwnProperty.call(n,e)),NM=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,l]=r.match(i2);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},jK=t=>$a(0,255,t),Dx={...Pu,transform:t=>Math.round(jK(t))},Ll={test:s2("rgb","red"),parse:NM("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Dx.transform(t)+", "+Dx.transform(e)+", "+Dx.transform(n)+", "+ff(Vf.transform(r))+")"};function EK(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const e1={test:s2("#"),parse:EK,transform:Ll.transform},Nh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),vo=Nh("deg"),ea=Nh("%"),Wt=Nh("px"),AK=Nh("vh"),kK=Nh("vw"),hA={...ea,parse:t=>ea.parse(t)/100,transform:t=>ea.transform(t*100)},au={test:s2("hsl","hue"),parse:NM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ea.transform(ff(e))+", "+ea.transform(ff(n))+", "+ff(Vf.transform(r))+")"},vr={test:t=>Ll.test(t)||e1.test(t)||au.test(t),parse:t=>Ll.test(t)?Ll.parse(t):au.test(t)?au.parse(t):e1.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ll.transform(t):au.transform(t),getAnimatableNone:t=>{const e=vr.parse(t);return e.alpha=0,vr.transform(e)}},OK=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function MK(t){return isNaN(t)&&typeof t=="string"&&(t.match(i2)?.length||0)+(t.match(OK)?.length||0)>0}const TM="number",jM="color",DK="var",RK="var(",pA="${}",_K=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Uf(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const l=e.replace(_K,u=>(vr.test(u)?(r.color.push(s),i.push(jM),n.push(vr.parse(u))):u.startsWith(RK)?(r.var.push(s),i.push(DK),n.push(u)):(r.number.push(s),i.push(TM),n.push(parseFloat(u))),++s,pA)).split(pA);return{values:n,split:l,indexes:r,types:i}}function EM(t){return Uf(t).values}function AM(t){const{split:e,types:n}=Uf(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const l=n[a];l===TM?s+=ff(i[a]):l===jM?s+=vr.transform(i[a]):s+=i[a]}return s}}const LK=t=>typeof t=="number"?0:vr.test(t)?vr.getAnimatableNone(t):t;function PK(t){const e=EM(t);return AM(t)(e.map(LK))}const Vo={test:MK,parse:EM,createTransformer:AM,getAnimatableNone:PK};function Rx(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function zK({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,u=2*n-l;i=Rx(u,l,t+1/3),s=Rx(u,l,t),a=Rx(u,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function og(t,e){return n=>n>0?e:t}const Zn=(t,e,n)=>t+(e-t)*n,_x=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},IK=[e1,Ll,au],BK=t=>IK.find(e=>e.test(t));function mA(t){const e=BK(t);if(!e)return!1;let n=e.parse(t);return e===au&&(n=zK(n)),n}const gA=(t,e)=>{const n=mA(t),r=mA(e);if(!n||!r)return og(t,e);const i={...n};return s=>(i.red=_x(n.red,r.red,s),i.green=_x(n.green,r.green,s),i.blue=_x(n.blue,r.blue,s),i.alpha=Zn(n.alpha,r.alpha,s),Ll.transform(i))},t1=new Set(["none","hidden"]);function FK(t,e){return t1.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function $K(t,e){return n=>Zn(t,e,n)}function a2(t){return typeof t=="number"?$K:typeof t=="string"?r2(t)?og:vr.test(t)?gA:HK:Array.isArray(t)?kM:typeof t=="object"?vr.test(t)?gA:VK:og}function kM(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>a2(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function VK(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=a2(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function UK(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][r[s]],l=t.values[a]??0;n[i]=l,r[s]++}return n}const HK=(t,e)=>{const n=Vo.createTransformer(e),r=Uf(t),i=Uf(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?t1.has(t)&&!i.values.length||t1.has(e)&&!r.values.length?FK(t,e):Sh(kM(UK(r,i),i.values),n):og(t,e)};function OM(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Zn(t,e,n):a2(t)(t,e)}const qK=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>er.update(e,n),stop:()=>$o(e),now:()=>Vr.isProcessing?Vr.timestamp:Ci.now()}},MM=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},lg=2e4;function o2(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<lg;)e+=n,r=t.next(e);return e>=lg?1/0:e}function KK(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(o2(r),lg);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Zs(i)}}const YK=5;function DM(t,e,n){const r=Math.max(e-YK,0);return dM(n-t(r),e-r)}const ir={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Lx=.001;function WK({duration:t=ir.duration,bounce:e=ir.bounce,velocity:n=ir.velocity,mass:r=ir.mass}){let i,s,a=1-e;a=$a(ir.minDamping,ir.maxDamping,a),t=$a(ir.minDuration,ir.maxDuration,Zs(t)),a<1?(i=f=>{const p=f*a,m=p*t,y=p-n,v=n1(f,a),b=Math.exp(-m);return Lx-y/v*b},s=f=>{const m=f*a*t,y=m*n+n,v=Math.pow(a,2)*Math.pow(f,2)*t,b=Math.exp(-m),S=n1(Math.pow(f,2),a);return(-i(f)+Lx>0?-1:1)*((y-v)*b)/S}):(i=f=>{const p=Math.exp(-f*t),m=(f-n)*t+1;return-Lx+p*m},s=f=>{const p=Math.exp(-f*t),m=(n-f)*(t*t);return p*m});const l=5/t,u=XK(i,s,l);if(t=Js(t),isNaN(u))return{stiffness:ir.stiffness,damping:ir.damping,duration:t};{const f=Math.pow(u,2)*r;return{stiffness:f,damping:a*2*Math.sqrt(r*f),duration:t}}}const GK=12;function XK(t,e,n){let r=n;for(let i=1;i<GK;i++)r=r-t(r)/e(r);return r}function n1(t,e){return t*Math.sqrt(1-e*e)}const QK=["duration","bounce"],JK=["stiffness","damping","mass"];function yA(t,e){return e.some(n=>t[n]!==void 0)}function ZK(t){let e={velocity:ir.velocity,stiffness:ir.stiffness,damping:ir.damping,mass:ir.mass,isResolvedFromDuration:!1,...t};if(!yA(t,JK)&&yA(t,QK))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*$a(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:ir.mass,stiffness:i,damping:s}}else{const n=WK(t);e={...e,...n,mass:ir.mass},e.isResolvedFromDuration=!0}return e}function cg(t=ir.visualDuration,e=ir.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:u,damping:f,mass:p,duration:m,velocity:y,isResolvedFromDuration:v}=ZK({...n,velocity:-Zs(n.velocity||0)}),b=y||0,S=f/(2*Math.sqrt(u*p)),C=a-s,N=Zs(Math.sqrt(u/p)),O=Math.abs(C)<5;r||(r=O?ir.restSpeed.granular:ir.restSpeed.default),i||(i=O?ir.restDelta.granular:ir.restDelta.default);let D;if(S<1){const E=n1(N,S);D=k=>{const P=Math.exp(-S*N*k);return a-P*((b+S*N*C)/E*Math.sin(E*k)+C*Math.cos(E*k))}}else if(S===1)D=E=>a-Math.exp(-N*E)*(C+(b+N*C)*E);else{const E=N*Math.sqrt(S*S-1);D=k=>{const P=Math.exp(-S*N*k),F=Math.min(E*k,300);return a-P*((b+S*N*C)*Math.sinh(F)+E*C*Math.cosh(F))/E}}const R={calculatedDuration:v&&m||null,next:E=>{const k=D(E);if(v)l.done=E>=m;else{let P=E===0?b:0;S<1&&(P=E===0?Js(b):DM(D,E,k));const F=Math.abs(P)<=r,G=Math.abs(a-k)<=i;l.done=F&&G}return l.value=l.done?a:k,l},toString:()=>{const E=Math.min(o2(R),lg),k=MM(P=>R.next(E*P).value,E,30);return E+"ms "+k},toTransition:()=>{}};return R}cg.applyToOptions=t=>{const e=KK(t,100,cg);return t.ease=e.ease,t.duration=Js(e.duration),t.type="keyframes",t};function r1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:u,restDelta:f=.5,restSpeed:p}){const m=t[0],y={done:!1,value:m},v=F=>l!==void 0&&F<l||u!==void 0&&F>u,b=F=>l===void 0?u:u===void 0||Math.abs(l-F)<Math.abs(u-F)?l:u;let S=n*e;const C=m+S,N=a===void 0?C:a(C);N!==C&&(S=N-m);const O=F=>-S*Math.exp(-F/r),D=F=>N+O(F),R=F=>{const G=O(F),ge=D(F);y.done=Math.abs(G)<=f,y.value=y.done?N:ge};let E,k;const P=F=>{v(y.value)&&(E=F,k=cg({keyframes:[y.value,b(y.value)],velocity:DM(D,F,y.value),damping:i,stiffness:s,restDelta:f,restSpeed:p}))};return P(0),{calculatedDuration:null,next:F=>{let G=!1;return!k&&E===void 0&&(G=!0,R(F),P(F)),E!==void 0&&F>=E?k.next(F-E):(!G&&R(F),y)}}}function eY(t,e,n){const r=[],i=n||Va.mix||OM,s=t.length-1;for(let a=0;a<s;a++){let l=i(t[a],t[a+1]);if(e){const u=Array.isArray(e)?e[a]||ds:e;l=Sh(u,l)}r.push(l)}return r}function tY(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Qw(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=eY(e,r,i),u=l.length,f=p=>{if(a&&p<t[0])return e[0];let m=0;if(u>1)for(;m<t.length-2&&!(p<t[m+1]);m++);const y=$f(t[m],t[m+1],p);return l[m](y)};return n?p=>f($a(t[0],t[s-1],p)):f}function nY(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=$f(0,e,r);t.push(Zn(n,1,i))}}function rY(t){const e=[0];return nY(e,t.length-1),e}function iY(t,e){return t.map(n=>n*e)}function sY(t,e){return t.map(()=>e||bM).splice(0,t.length-1)}function hf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=gK(r)?r.map(dA):dA(r),s={done:!1,value:e[0]},a=iY(n&&n.length===e.length?n:rY(e),t),l=tY(a,e,{ease:Array.isArray(i)?i:sY(e,i)});return{calculatedDuration:t,next:u=>(s.value=l(u),s.done=u>=t,s)}}const aY=t=>t!==null;function l2(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(aY),l=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!l||r===void 0?s[l]:r}const oY={decay:r1,inertia:r1,tween:hf,keyframes:hf,spring:cg};function RM(t){typeof t.type=="string"&&(t.type=oY[t.type])}class c2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const lY=t=>t/100;class u2 extends c2{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Ci.now()&&this.tick(Ci.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;RM(e);const{type:n=hf,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:l}=e;const u=n||hf;u!==hf&&typeof l[0]!="number"&&(this.mixKeyframes=Sh(lY,OM(l[0],l[1])),l=[0,100]);const f=u({...e,keyframes:l});s==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...l].reverse(),velocity:-a})),f.calculatedDuration===null&&(f.calculatedDuration=o2(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:p,repeat:m,repeatType:y,repeatDelay:v,type:b,onUpdate:S,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const N=this.currentTime-f*(this.playbackSpeed>=0?1:-1),O=this.playbackSpeed>=0?N<0:N>i;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let D=this.currentTime,R=r;if(m){const F=Math.min(this.currentTime,i)/l;let G=Math.floor(F),ge=F%1;!ge&&F>=1&&(ge=1),ge===1&&G--,G=Math.min(G,m+1),!!(G%2)&&(y==="reverse"?(ge=1-ge,v&&(ge-=v/l)):y==="mirror"&&(R=a)),D=$a(0,1,ge)*l}const E=O?{done:!1,value:p[0]}:R.next(D);s&&(E.value=s(E.value));let{done:k}=E;!O&&u!==null&&(k=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return P&&b!==r1&&(E.value=l2(p,this.options,C,this.speed)),S&&S(E.value),P&&this.finish(),E}then(e,n){return this.finished.then(e,n)}get duration(){return Zs(this.calculatedDuration)}get time(){return Zs(this.currentTime)}set time(e){e=Js(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ci.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Zs(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=qK,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ci.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function cY(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Pl=t=>t*180/Math.PI,i1=t=>{const e=Pl(Math.atan2(t[1],t[0]));return s1(e)},uY={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:i1,rotateZ:i1,skewX:t=>Pl(Math.atan(t[1])),skewY:t=>Pl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},s1=t=>(t=t%360,t<0&&(t+=360),t),vA=i1,xA=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),bA=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),dY={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:xA,scaleY:bA,scale:t=>(xA(t)+bA(t))/2,rotateX:t=>s1(Pl(Math.atan2(t[6],t[5]))),rotateY:t=>s1(Pl(Math.atan2(-t[2],t[0]))),rotateZ:vA,rotate:vA,skewX:t=>Pl(Math.atan(t[4])),skewY:t=>Pl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function a1(t){return t.includes("scale")?1:0}function o1(t,e){if(!t||t==="none")return a1(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=dY,i=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=uY,i=l}if(!i)return a1(e);const s=r[e],a=i[1].split(",").map(hY);return typeof s=="function"?s(a):a[s]}const fY=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return o1(n,e)};function hY(t){return parseFloat(t.trim())}const zu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Iu=new Set(zu),wA=t=>t===Pu||t===Wt,pY=new Set(["x","y","z"]),mY=zu.filter(t=>!pY.has(t));function gY(t){const e=[];return mY.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ql={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>o1(e,"x"),y:(t,{transform:e})=>o1(e,"y")};ql.translateX=ql.x;ql.translateY=ql.y;const Kl=new Set;let l1=!1,c1=!1,u1=!1;function _M(){if(c1){const t=Array.from(Kl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=gY(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{r.getValue(s)?.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}c1=!1,l1=!1,Kl.forEach(t=>t.complete(u1)),Kl.clear()}function LM(){Kl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(c1=!0)})}function yY(){u1=!0,LM(),_M(),u1=!1}class d2{constructor(e,n,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Kl.add(this),l1||(l1=!0,er.read(LM),er.resolveKeyframes(_M))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i?.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}cY(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Kl.delete(this)}cancel(){this.state==="scheduled"&&(Kl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const vY=t=>t.startsWith("--");function xY(t,e,n){vY(e)?t.style.setProperty(e,n):t.style[e]=n}const bY=Jw(()=>window.ScrollTimeline!==void 0),wY={};function SY(t,e){const n=Jw(t);return()=>wY[e]??n()}const PM=SY(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),nf=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,SA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nf([0,.65,.55,1]),circOut:nf([.55,0,1,.45]),backIn:nf([.31,.01,.66,-.59]),backOut:nf([.33,1.53,.69,.99])};function zM(t,e){if(t)return typeof t=="function"?PM()?MM(t,e):"ease-out":wM(t)?nf(t):Array.isArray(t)?t.map(n=>zM(n,e)||SA.easeOut):SA[t]}function CY(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:l="easeOut",times:u}={},f=void 0){const p={[e]:n};u&&(p.offset=u);const m=zM(l,i);Array.isArray(m)&&(p.easing=m);const y={delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return f&&(y.pseudoElement=f),t.animate(p,y)}function IM(t){return typeof t=="function"&&"applyToOptions"in t}function NY({type:t,...e}){return IM(t)&&PM()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class TY extends c2{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:l,onComplete:u}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,Qw(typeof e.type!="string");const f=NY(e);this.animation=CY(n,r,i,f,s),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const p=l2(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(p):xY(n,r,p),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Zs(Number(e))}get time(){return Zs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Js(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&bY()?(this.animation.timeline=e,ds):n(this)}}const BM={anticipate:yM,backInOut:gM,circInOut:xM};function jY(t){return t in BM}function EY(t){typeof t.ease=="string"&&jY(t.ease)&&(t.ease=BM[t.ease])}const CA=10;class AY extends TY{constructor(e){EY(e),RM(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new u2({...a,autoplay:!1}),u=Js(this.finishedTime??this.time);n.setWithVelocity(l.sample(u-CA).value,l.sample(u).value,CA),l.stop()}}const NA=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Vo.test(t)||t==="0")&&!t.startsWith("url("));function kY(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function OY(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=NA(i,e),l=NA(s,e);return!a||!l?!1:kY(t)||(n==="spring"||IM(n))&&r}function f2(t){return cM(t)&&"offsetHeight"in t}const MY=new Set(["opacity","clipPath","filter","transform"]),DY=Jw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function RY(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=t;if(!f2(e?.owner?.current))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return DY()&&n&&MY.has(n)&&(n!=="transform"||!u)&&!l&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const _Y=40;class LY extends c2{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:l,name:u,motionValue:f,element:p,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ci.now();const y={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,name:u,motionValue:f,element:p,...m},v=p?.KeyframeResolver||d2;this.keyframeResolver=new v(l,(b,S,C)=>this.onKeyframesResolved(b,S,y,!C),u,f,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:l,delay:u,isHandoff:f,onUpdate:p}=r;this.resolvedAt=Ci.now(),OY(e,s,a,l)||((Va.instantAnimations||!u)&&p?.(l2(e,r,n)),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const y={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>_Y?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},v=!f&&RY(y)?new AY({...y,element:y.motionValue.owner.current}):new u2(y);v.finished.then(()=>this.notifyFinished()).catch(ds),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),yY()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const PY=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function zY(t){const e=PY.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function FM(t,e,n=1){const[r,i]=zY(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return lM(a)?parseFloat(a):a}return r2(i)?FM(i,e,n+1):i}function h2(t,e){return t?.[e]??t?.default??t}const $M=new Set(["width","height","top","left","right","bottom",...zu]),IY={test:t=>t==="auto",parse:t=>t},VM=t=>e=>e.test(t),UM=[Pu,Wt,ea,vo,kK,AK,IY],TA=t=>UM.find(VM(t));function BY(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||uM(t):!0}const FY=new Set(["brightness","contrast","saturate","opacity"]);function $Y(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(i2)||[];if(!r)return t;const i=n.replace(r,"");let s=FY.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const VY=/\b([a-z-]*)\(.*?\)/gu,d1={...Vo,getAnimatableNone:t=>{const e=t.match(VY);return e?e.map($Y).join(" "):t}},jA={...Pu,transform:Math.round},UY={rotate:vo,rotateX:vo,rotateY:vo,rotateZ:vo,scale:Jp,scaleX:Jp,scaleY:Jp,scaleZ:Jp,skew:vo,skewX:vo,skewY:vo,distance:Wt,translateX:Wt,translateY:Wt,translateZ:Wt,x:Wt,y:Wt,z:Wt,perspective:Wt,transformPerspective:Wt,opacity:Vf,originX:hA,originY:hA,originZ:Wt},p2={borderWidth:Wt,borderTopWidth:Wt,borderRightWidth:Wt,borderBottomWidth:Wt,borderLeftWidth:Wt,borderRadius:Wt,radius:Wt,borderTopLeftRadius:Wt,borderTopRightRadius:Wt,borderBottomRightRadius:Wt,borderBottomLeftRadius:Wt,width:Wt,maxWidth:Wt,height:Wt,maxHeight:Wt,top:Wt,right:Wt,bottom:Wt,left:Wt,padding:Wt,paddingTop:Wt,paddingRight:Wt,paddingBottom:Wt,paddingLeft:Wt,margin:Wt,marginTop:Wt,marginRight:Wt,marginBottom:Wt,marginLeft:Wt,backgroundPositionX:Wt,backgroundPositionY:Wt,...UY,zIndex:jA,fillOpacity:Vf,strokeOpacity:Vf,numOctaves:jA},HY={...p2,color:vr,backgroundColor:vr,outlineColor:vr,fill:vr,stroke:vr,borderColor:vr,borderTopColor:vr,borderRightColor:vr,borderBottomColor:vr,borderLeftColor:vr,filter:d1,WebkitFilter:d1},HM=t=>HY[t];function qM(t,e){let n=HM(t);return n!==d1&&(n=Vo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const qY=new Set(["auto","none","0"]);function KY(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!qY.has(s)&&Uf(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=qM(n,i)}class YY extends d2{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let f=e[u];if(typeof f=="string"&&(f=f.trim(),r2(f))){const p=FM(f,n.current);p!==void 0&&(e[u]=p),u===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!$M.has(r)||e.length!==2)return;const[i,s]=e,a=TA(i),l=TA(s);if(a!==l)if(wA(a)&&wA(l))for(let u=0;u<e.length;u++){const f=e[u];typeof f=="string"&&(e[u]=parseFloat(f))}else ql[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||BY(e[i]))&&r.push(i);r.length&&KY(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ql[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=ql[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function WY(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const KM=(t,e)=>e&&typeof t=="number"?e.transform(t):t,EA=30,GY=t=>!isNaN(parseFloat(t));class XY{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Ci.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty();i&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ci.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=GY(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Zw);const r=this.events[e].add(n);return e==="change"?()=>{r(),er.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ci.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>EA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,EA);return dM(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xu(t,e){return new XY(t,e)}const{schedule:m2}=SM(queueMicrotask,!1),ws={x:!1,y:!1};function YM(){return ws.x||ws.y}function QY(t){return t==="x"||t==="y"?ws[t]?null:(ws[t]=!0,()=>{ws[t]=!1}):ws.x||ws.y?null:(ws.x=ws.y=!0,()=>{ws.x=ws.y=!1})}function WM(t,e){const n=WY(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function AA(t){return!(t.pointerType==="touch"||YM())}function JY(t,e,n={}){const[r,i,s]=WM(t,n),a=l=>{if(!AA(l))return;const{target:u}=l,f=e(u,l);if(typeof f!="function"||!u)return;const p=m=>{AA(m)&&(f(m),u.removeEventListener("pointerleave",p))};u.addEventListener("pointerleave",p,i)};return r.forEach(l=>{l.addEventListener("pointerenter",a,i)}),s}const GM=(t,e)=>e?t===e?!0:GM(t,e.parentElement):!1,g2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ZY=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function eW(t){return ZY.has(t.tagName)||t.tabIndex!==-1}const Rm=new WeakSet;function kA(t){return e=>{e.key==="Enter"&&t(e)}}function Px(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const tW=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=kA(()=>{if(Rm.has(n))return;Px(n,"down");const i=kA(()=>{Px(n,"up")}),s=()=>Px(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function OA(t){return g2(t)&&!YM()}function nW(t,e,n={}){const[r,i,s]=WM(t,n),a=l=>{const u=l.currentTarget;if(!OA(l))return;Rm.add(u);const f=e(u,l),p=(v,b)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",y),Rm.has(u)&&Rm.delete(u),OA(v)&&typeof f=="function"&&f(v,{success:b})},m=v=>{p(v,u===window||u===document||n.useGlobalTarget||GM(u,v.target))},y=v=>{p(v,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",y,i)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,i),f2(l)&&(l.addEventListener("focus",f=>tW(f,i)),!eW(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function XM(t){return cM(t)&&"ownerSVGElement"in t}function rW(t){return XM(t)&&t.tagName==="svg"}const Jr=t=>!!(t&&t.getVelocity),iW=[...UM,vr,Vo],sW=t=>iW.find(VM(t)),y2=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class aW extends T.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=f2(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function oW({children:t,isPresent:e,anchorX:n}){const r=T.useId(),i=T.useRef(null),s=T.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=T.useContext(y2);return T.useInsertionEffect(()=>{const{width:l,height:u,top:f,left:p,right:m}=s.current;if(e||!i.current||!l||!u)return;const y=n==="left"?`left: ${p}`:`right: ${m}`;i.current.dataset.motionPopId=r;const v=document.createElement("style");return a&&(v.nonce=a),document.head.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            ${y}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.contains(v)&&document.head.removeChild(v)}},[e]),d.jsx(aW,{isPresent:e,childRef:i,sizeRef:s,children:T.cloneElement(t,{ref:i})})}const lW=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a,anchorX:l})=>{const u=Yw(cW),f=T.useId();let p=!0,m=T.useMemo(()=>(p=!1,{id:f,initial:e,isPresent:n,custom:i,onExitComplete:y=>{u.set(y,!0);for(const v of u.values())if(!v)return;r&&r()},register:y=>(u.set(y,!1),()=>u.delete(y))}),[n,u,r]);return s&&p&&(m={...m}),T.useMemo(()=>{u.forEach((y,v)=>u.set(v,!1))},[n]),T.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),a==="popLayout"&&(t=d.jsx(oW,{isPresent:n,anchorX:l,children:t})),d.jsx(jy.Provider,{value:m,children:t})};function cW(){return new Map}function QM(t=!0){const e=T.useContext(jy);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=T.useId();T.useEffect(()=>{if(t)return i(s)},[t]);const a=T.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const Zp=t=>t.key||"";function MA(t){const e=[];return T.Children.forEach(t,n=>{T.isValidElement(n)&&e.push(n)}),e}const uW=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:l="left"})=>{const[u,f]=QM(a),p=T.useMemo(()=>MA(t),[t]),m=a&&!u?[]:p.map(Zp),y=T.useRef(!0),v=T.useRef(p),b=Yw(()=>new Map),[S,C]=T.useState(p),[N,O]=T.useState(p);oM(()=>{y.current=!1,v.current=p;for(let E=0;E<N.length;E++){const k=Zp(N[E]);m.includes(k)?b.delete(k):b.get(k)!==!0&&b.set(k,!1)}},[N,m.length,m.join("-")]);const D=[];if(p!==S){let E=[...p];for(let k=0;k<N.length;k++){const P=N[k],F=Zp(P);m.includes(F)||(E.splice(k,0,P),D.push(P))}return s==="wait"&&D.length&&(E=D),O(MA(E)),C(p),null}const{forceRender:R}=T.useContext(Kw);return d.jsx(d.Fragment,{children:N.map(E=>{const k=Zp(E),P=a&&!u?!1:p===N||m.includes(k),F=()=>{if(b.has(k))b.set(k,!0);else return;let G=!0;b.forEach(ge=>{ge||(G=!1)}),G&&(R?.(),O(v.current),a&&f?.(),r&&r())};return d.jsx(lW,{isPresent:P,initial:!y.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,onExitComplete:P?void 0:F,anchorX:l,children:E},k)})})},JM=T.createContext({strict:!1}),DA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bu={};for(const t in DA)bu[t]={isEnabled:e=>DA[t].some(n=>!!e[n])};function dW(t){for(const e in t)bu[e]={...bu[e],...t[e]}}const fW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ug(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||fW.has(t)}let ZM=t=>!ug(t);function hW(t){typeof t=="function"&&(ZM=e=>e.startsWith("on")?!ug(e):t(e))}try{hW(require("@emotion/is-prop-valid").default)}catch{}function pW(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(ZM(i)||n===!0&&ug(i)||!e&&!ug(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function mW(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Ey=T.createContext({});function Ay(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Hf(t){return typeof t=="string"||Array.isArray(t)}const v2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],x2=["initial",...v2];function ky(t){return Ay(t.animate)||x2.some(e=>Hf(t[e]))}function eD(t){return!!(ky(t)||t.variants)}function gW(t,e){if(ky(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Hf(n)?n:void 0,animate:Hf(r)?r:void 0}}return t.inherit!==!1?e:{}}function yW(t){const{initial:e,animate:n}=gW(t,T.useContext(Ey));return T.useMemo(()=>({initial:e,animate:n}),[RA(e),RA(n)])}function RA(t){return Array.isArray(t)?t.join(" "):t}const vW=Symbol.for("motionComponentSymbol");function ou(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function xW(t,e,n){return T.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ou(n)&&(n.current=r))},[e])}const b2=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),bW="framerAppearId",tD="data-"+b2(bW),nD=T.createContext({});function wW(t,e,n,r,i){const{visualElement:s}=T.useContext(Ey),a=T.useContext(JM),l=T.useContext(jy),u=T.useContext(y2).reducedMotion,f=T.useRef(null);r=r||a.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:s,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const p=f.current,m=T.useContext(nD);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&SW(f.current,n,i,m);const y=T.useRef(!1);T.useInsertionEffect(()=>{p&&y.current&&p.update(n,l)});const v=n[tD],b=T.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return oM(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),m2.render(p.render),b.current&&p.animationState&&p.animationState.animateChanges())}),T.useEffect(()=>{p&&(!b.current&&p.animationState&&p.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),b.current=!1))}),p}function SW(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:l,layoutScroll:u,layoutRoot:f,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:rD(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||l&&ou(l),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:u,layoutRoot:f})}function rD(t){if(t)return t.options.allowProjection!==!1?t.projection:rD(t.parent)}function CW({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&dW(t);function s(l,u){let f;const p={...T.useContext(y2),...l,layoutId:NW(l)},{isStatic:m}=p,y=yW(l),v=r(l,m);if(!m&&Ww){TW();const b=jW(p);f=b.MeasureLayout,y.visualElement=wW(i,v,p,e,b.ProjectionNode)}return d.jsxs(Ey.Provider,{value:y,children:[f&&y.visualElement?d.jsx(f,{visualElement:y.visualElement,...p}):null,n(i,l,xW(v,y.visualElement,u),v,m,y.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const a=T.forwardRef(s);return a[vW]=i,a}function NW({layoutId:t}){const e=T.useContext(Kw).id;return e&&t!==void 0?e+"-"+t:t}function TW(t,e){T.useContext(JM).strict}function jW(t){const{drag:e,layout:n}=bu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const qf={};function EW(t){for(const e in t)qf[e]=t[e],n2(e)&&(qf[e].isCSSVariable=!0)}function iD(t,{layout:e,layoutId:n}){return Iu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!qf[t]||t==="opacity")}const AW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},kW=zu.length;function OW(t,e,n){let r="",i=!0;for(let s=0;s<kW;s++){const a=zu[s],l=t[a];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(a.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||n){const f=KM(l,p2[a]);if(!u){i=!1;const p=AW[a]||a;r+=`${p}(${f}) `}n&&(e[a]=f)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function w2(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,l=!1;for(const u in e){const f=e[u];if(Iu.has(u)){a=!0;continue}else if(n2(u)){i[u]=f;continue}else{const p=KM(f,p2[u]);u.startsWith("origin")?(l=!0,s[u]=p):r[u]=p}}if(e.transform||(a||n?r.transform=OW(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:u="50%",originY:f="50%",originZ:p=0}=s;r.transformOrigin=`${u} ${f} ${p}`}}const S2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sD(t,e,n){for(const r in e)!Jr(e[r])&&!iD(r,n)&&(t[r]=e[r])}function MW({transformTemplate:t},e){return T.useMemo(()=>{const n=S2();return w2(n,e,t),Object.assign({},n.vars,n.style)},[e])}function DW(t,e){const n=t.style||{},r={};return sD(r,n,t),Object.assign(r,MW(t,e)),r}function RW(t,e){const n={},r=DW(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const _W={offset:"stroke-dashoffset",array:"stroke-dasharray"},LW={offset:"strokeDashoffset",array:"strokeDasharray"};function PW(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?_W:LW;t[s.offset]=Wt.transform(-r);const a=Wt.transform(e),l=Wt.transform(n);t[s.array]=`${a} ${l}`}function aD(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...l},u,f,p){if(w2(t,l,f),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:y}=t;m.transform&&(y.transform=m.transform,delete m.transform),(y.transform||m.transformOrigin)&&(y.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),y.transform&&(y.transformBox=p?.transformBox??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),i!==void 0&&PW(m,i,s,a,!1)}const oD=()=>({...S2(),attrs:{}}),lD=t=>typeof t=="string"&&t.toLowerCase()==="svg";function zW(t,e,n,r){const i=T.useMemo(()=>{const s=oD();return aD(s,e,lD(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};sD(s,t.style,t),i.style={...s,...i.style}}return i}const IW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function C2(t){return typeof t!="string"||t.includes("-")?!1:!!(IW.indexOf(t)>-1||/[A-Z]/u.test(t))}function BW(t=!1){return(n,r,i,{latestValues:s},a)=>{const u=(C2(n)?zW:RW)(r,s,a,n),f=pW(r,typeof n=="string",t),p=n!==T.Fragment?{...f,...u,ref:i}:{},{children:m}=r,y=T.useMemo(()=>Jr(m)?m.get():m,[m]);return T.createElement(n,{...p,children:y})}}function _A(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function N2(t,e,n,r){if(typeof e=="function"){const[i,s]=_A(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=_A(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function _m(t){return Jr(t)?t.get():t}function FW({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:$W(n,r,i,t),renderState:e()}}const cD=t=>(e,n)=>{const r=T.useContext(Ey),i=T.useContext(jy),s=()=>FW(t,e,r,i);return n?s():Yw(s)};function $W(t,e,n,r){const i={},s=r(t,{});for(const y in s)i[y]=_m(s[y]);let{initial:a,animate:l}=t;const u=ky(t),f=eD(t);e&&f&&!u&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let p=n?n.initial===!1:!1;p=p||a===!1;const m=p?l:a;if(m&&typeof m!="boolean"&&!Ay(m)){const y=Array.isArray(m)?m:[m];for(let v=0;v<y.length;v++){const b=N2(t,y[v]);if(b){const{transitionEnd:S,transition:C,...N}=b;for(const O in N){let D=N[O];if(Array.isArray(D)){const R=p?D.length-1:0;D=D[R]}D!==null&&(i[O]=D)}for(const O in S)i[O]=S[O]}}}return i}function T2(t,e,n){const{style:r}=t,i={};for(const s in r)(Jr(r[s])||e.style&&Jr(e.style[s])||iD(s,t)||n?.getValue(s)?.liveStyle!==void 0)&&(i[s]=r[s]);return i}const VW={useVisualState:cD({scrapeMotionValuesFromProps:T2,createRenderState:S2})};function uD(t,e,n){const r=T2(t,e,n);for(const i in t)if(Jr(t[i])||Jr(e[i])){const s=zu.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const UW={useVisualState:cD({scrapeMotionValuesFromProps:uD,createRenderState:oD})};function HW(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...C2(r)?UW:VW,preloadedFeatures:t,useRender:BW(i),createVisualElement:e,Component:r};return CW(a)}}function Kf(t,e,n){const r=t.getProps();return N2(r,e,n!==void 0?n:r.custom,t)}const f1=t=>Array.isArray(t);function qW(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,xu(n))}function KW(t){return f1(t)?t[t.length-1]||0:t}function YW(t,e){const n=Kf(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const l=KW(s[a]);qW(t,a,l)}}function WW(t){return!!(Jr(t)&&t.add)}function h1(t,e){const n=t.getValue("willChange");if(WW(n))return n.add(e);if(!n&&Va.WillChange){const r=new Va.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function dD(t){return t.props[tD]}const GW=t=>t!==null;function XW(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(GW),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const QW={type:"spring",stiffness:500,damping:25,restSpeed:10},JW=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),ZW={type:"keyframes",duration:.8},eG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},tG=(t,{keyframes:e})=>e.length>2?ZW:Iu.has(t)?t.startsWith("scale")?JW(e[1]):QW:eG;function nG({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:l,from:u,elapsed:f,...p}){return!!Object.keys(p).length}const j2=(t,e,n,r={},i,s)=>a=>{const l=h2(r,t)||{},u=l.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Js(u);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-f,onUpdate:y=>{e.set(y),l.onUpdate&&l.onUpdate(y)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:s?void 0:i};nG(l)||Object.assign(p,tG(t,p)),p.duration&&(p.duration=Js(p.duration)),p.repeatDelay&&(p.repeatDelay=Js(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let m=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(m=!0)),(Va.instantAnimations||Va.skipAnimations)&&(m=!0,p.duration=0,p.delay=0),p.allowFlatten=!l.type&&!l.ease,m&&!s&&e.get()!==void 0){const y=XW(p.keyframes,l);if(y!==void 0){er.update(()=>{p.onUpdate(y),p.onComplete()});return}}return l.isSync?new u2(p):new LY(p)};function rG({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function fD(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(s=r);const u=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const p in l){const m=t.getValue(p,t.latestValues[p]??null),y=l[p];if(y===void 0||f&&rG(f,p))continue;const v={delay:n,...h2(s||{},p)},b=m.get();if(b!==void 0&&!m.isAnimating&&!Array.isArray(y)&&y===b&&!v.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const N=dD(t);if(N){const O=window.MotionHandoffAnimation(N,p,er);O!==null&&(v.startTime=O,S=!0)}}h1(t,p),m.start(j2(p,m,y,t.shouldReduceMotion&&$M.has(p)?{type:!1}:v,t,S));const C=m.animation;C&&u.push(C)}return a&&Promise.all(u).then(()=>{er.update(()=>{a&&YW(t,a)})}),u}function p1(t,e,n={}){const r=Kf(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(fD(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:m}=i;return iG(t,e,f+u,p,m,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,f]=l==="beforeChildren"?[s,a]:[a,s];return u().then(()=>f())}else return Promise.all([s(),a(n.delay)])}function iG(t,e,n=0,r=0,i=1,s){const a=[],l=(t.variantChildren.size-1)*r,u=i===1?(f=0)=>f*r:(f=0)=>l-f*r;return Array.from(t.variantChildren).sort(sG).forEach((f,p)=>{f.notify("AnimationStart",e),a.push(p1(f,e,{...s,delay:n+u(p)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(a)}function sG(t,e){return t.sortNodePosition(e)}function aG(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>p1(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=p1(t,e,n);else{const i=typeof e=="function"?Kf(t,e,n.custom):e;r=Promise.all(fD(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function hD(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const oG=x2.length;function pD(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?pD(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<oG;n++){const r=x2[n],i=t.props[r];(Hf(i)||i===!1)&&(e[r]=i)}return e}const lG=[...v2].reverse(),cG=v2.length;function uG(t){return e=>Promise.all(e.map(({animation:n,options:r})=>aG(t,n,r)))}function dG(t){let e=uG(t),n=LA(),r=!0;const i=u=>(f,p)=>{const m=Kf(t,p,u==="exit"?t.presenceContext?.custom:void 0);if(m){const{transition:y,transitionEnd:v,...b}=m;f={...f,...b,...v}}return f};function s(u){e=u(t)}function a(u){const{props:f}=t,p=pD(t.parent)||{},m=[],y=new Set;let v={},b=1/0;for(let C=0;C<cG;C++){const N=lG[C],O=n[N],D=f[N]!==void 0?f[N]:p[N],R=Hf(D),E=N===u?O.isActive:null;E===!1&&(b=C);let k=D===p[N]&&D!==f[N]&&R;if(k&&r&&t.manuallyAnimateOnMount&&(k=!1),O.protectedKeys={...v},!O.isActive&&E===null||!D&&!O.prevProp||Ay(D)||typeof D=="boolean")continue;const P=fG(O.prevProp,D);let F=P||N===u&&O.isActive&&!k&&R||C>b&&R,G=!1;const ge=Array.isArray(D)?D:[D];let oe=ge.reduce(i(N),{});E===!1&&(oe={});const{prevResolvedValues:ne={}}=O,ee={...ne,...oe},Ee=re=>{F=!0,y.has(re)&&(G=!0,y.delete(re)),O.needsAnimating[re]=!0;const ue=t.getValue(re);ue&&(ue.liveStyle=!1)};for(const re in ee){const ue=oe[re],ze=ne[re];if(v.hasOwnProperty(re))continue;let q=!1;f1(ue)&&f1(ze)?q=!hD(ue,ze):q=ue!==ze,q?ue!=null?Ee(re):y.add(re):ue!==void 0&&y.has(re)?Ee(re):O.protectedKeys[re]=!0}O.prevProp=D,O.prevResolvedValues=oe,O.isActive&&(v={...v,...oe}),r&&t.blockInitialAnimation&&(F=!1),F&&(!(k&&P)||G)&&m.push(...ge.map(re=>({animation:re,options:{type:N}})))}if(y.size){const C={};if(typeof f.initial!="boolean"){const N=Kf(t,Array.isArray(f.initial)?f.initial[0]:f.initial);N&&N.transition&&(C.transition=N.transition)}y.forEach(N=>{const O=t.getBaseTarget(N),D=t.getValue(N);D&&(D.liveStyle=!0),C[N]=O??null}),m.push({animation:C})}let S=!!m.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(m):Promise.resolve()}function l(u,f){if(n[u].isActive===f)return Promise.resolve();t.variantChildren?.forEach(m=>m.animationState?.setActive(u,f)),n[u].isActive=f;const p=a(u);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:a,setActive:l,setAnimateFunction:s,getState:()=>n,reset:()=>{n=LA(),r=!0}}}function fG(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!hD(e,t):!1}function Sl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function LA(){return{animate:Sl(!0),whileInView:Sl(),whileHover:Sl(),whileTap:Sl(),whileDrag:Sl(),whileFocus:Sl(),exit:Sl()}}class Qo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class hG extends Qo{constructor(e){super(e),e.animationState||(e.animationState=dG(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ay(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let pG=0;class mG extends Qo{constructor(){super(...arguments),this.id=pG++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const gG={animation:{Feature:hG},exit:{Feature:mG}};function Yf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Th(t){return{point:{x:t.pageX,y:t.pageY}}}const yG=t=>e=>g2(e)&&t(e,Th(e));function pf(t,e,n,r){return Yf(t,e,yG(n),r)}function mD({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function vG({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function xG(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const gD=1e-4,bG=1-gD,wG=1+gD,yD=.01,SG=0-yD,CG=0+yD;function li(t){return t.max-t.min}function NG(t,e,n){return Math.abs(t-e)<=n}function PA(t,e,n,r=.5){t.origin=r,t.originPoint=Zn(e.min,e.max,t.origin),t.scale=li(n)/li(e),t.translate=Zn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=bG&&t.scale<=wG||isNaN(t.scale))&&(t.scale=1),(t.translate>=SG&&t.translate<=CG||isNaN(t.translate))&&(t.translate=0)}function mf(t,e,n,r){PA(t.x,e.x,n.x,r?r.originX:void 0),PA(t.y,e.y,n.y,r?r.originY:void 0)}function zA(t,e,n){t.min=n.min+e.min,t.max=t.min+li(e)}function TG(t,e,n){zA(t.x,e.x,n.x),zA(t.y,e.y,n.y)}function IA(t,e,n){t.min=e.min-n.min,t.max=t.min+li(e)}function gf(t,e,n){IA(t.x,e.x,n.x),IA(t.y,e.y,n.y)}const BA=()=>({translate:0,scale:1,origin:0,originPoint:0}),lu=()=>({x:BA(),y:BA()}),FA=()=>({min:0,max:0}),dr=()=>({x:FA(),y:FA()});function ss(t){return[t("x"),t("y")]}function zx(t){return t===void 0||t===1}function m1({scale:t,scaleX:e,scaleY:n}){return!zx(t)||!zx(e)||!zx(n)}function jl(t){return m1(t)||vD(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function vD(t){return $A(t.x)||$A(t.y)}function $A(t){return t&&t!=="0%"}function dg(t,e,n){const r=t-n,i=e*r;return n+i}function VA(t,e,n,r,i){return i!==void 0&&(t=dg(t,i,r)),dg(t,n,r)+e}function g1(t,e=0,n=1,r,i){t.min=VA(t.min,e,n,r,i),t.max=VA(t.max,e,n,r,i)}function xD(t,{x:e,y:n}){g1(t.x,e.translate,e.scale,e.originPoint),g1(t.y,n.translate,n.scale,n.originPoint)}const UA=.999999999999,HA=1.0000000000001;function jG(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let l=0;l<i;l++){s=n[l],a=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&uu(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,xD(t,a)),r&&jl(s.latestValues)&&uu(t,s.latestValues))}e.x<HA&&e.x>UA&&(e.x=1),e.y<HA&&e.y>UA&&(e.y=1)}function cu(t,e){t.min=t.min+e,t.max=t.max+e}function qA(t,e,n,r,i=.5){const s=Zn(t.min,t.max,i);g1(t,e,n,s,r)}function uu(t,e){qA(t.x,e.x,e.scaleX,e.scale,e.originX),qA(t.y,e.y,e.scaleY,e.scale,e.originY)}function bD(t,e){return mD(xG(t.getBoundingClientRect(),e))}function EG(t,e,n){const r=bD(t,n),{scroll:i}=e;return i&&(cu(r.x,i.offset.x),cu(r.y,i.offset.y)),r}const wD=({current:t})=>t?t.ownerDocument.defaultView:null,KA=(t,e)=>Math.abs(t-e);function AG(t,e){const n=KA(t.x,e.x),r=KA(t.y,e.y);return Math.sqrt(n**2+r**2)}class SD{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Bx(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,v=AG(m.offset,{x:0,y:0})>=3;if(!y&&!v)return;const{point:b}=m,{timestamp:S}=Vr;this.history.push({...b,timestamp:S});const{onStart:C,onMove:N}=this.handlers;y||(C&&C(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,m)},this.handlePointerMove=(m,y)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Ix(y,this.transformPagePoint),er.update(this.updatePoint,!0)},this.handlePointerUp=(m,y)=>{this.end();const{onEnd:v,onSessionEnd:b,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Bx(m.type==="pointercancel"?this.lastMoveEventInfo:Ix(y,this.transformPagePoint),this.history);this.startEvent&&v&&v(m,C),b&&b(m,C)},!g2(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const a=Th(e),l=Ix(a,this.transformPagePoint),{point:u}=l,{timestamp:f}=Vr;this.history=[{...u,timestamp:f}];const{onSessionStart:p}=n;p&&p(e,Bx(l,this.history)),this.removeListeners=Sh(pf(this.contextWindow,"pointermove",this.handlePointerMove),pf(this.contextWindow,"pointerup",this.handlePointerUp),pf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),$o(this.updatePoint)}}function Ix(t,e){return e?{point:e(t.point)}:t}function YA(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Bx({point:t},e){return{point:t,delta:YA(t,CD(e)),offset:YA(t,kG(e)),velocity:OG(e,.1)}}function kG(t){return t[0]}function CD(t){return t[t.length-1]}function OG(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=CD(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Js(e)));)n--;if(!r)return{x:0,y:0};const s=Zs(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function MG(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Zn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Zn(n,t,r.max):Math.min(t,n)),t}function WA(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function DG(t,{top:e,left:n,bottom:r,right:i}){return{x:WA(t.x,n,i),y:WA(t.y,e,r)}}function GA(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function RG(t,e){return{x:GA(t.x,e.x),y:GA(t.y,e.y)}}function _G(t,e){let n=.5;const r=li(t),i=li(e);return i>r?n=$f(e.min,e.max-r,t.min):r>i&&(n=$f(t.min,t.max-i,e.min)),$a(0,1,n)}function LG(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const y1=.35;function PG(t=y1){return t===!1?t=0:t===!0&&(t=y1),{x:XA(t,"left","right"),y:XA(t,"top","bottom")}}function XA(t,e,n){return{min:QA(t,e),max:QA(t,n)}}function QA(t,e){return typeof t=="number"?t:t[e]||0}const zG=new WeakMap;class IG{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=dr(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=p=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Th(p).point)},s=(p,m)=>{const{drag:y,dragPropagation:v,onDragStart:b}=this.getProps();if(y&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=QY(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ss(C=>{let N=this.getAxisMotionValue(C).get()||0;if(ea.test(N)){const{projection:O}=this.visualElement;if(O&&O.layout){const D=O.layout.layoutBox[C];D&&(N=li(D)*(parseFloat(N)/100))}}this.originPoint[C]=N}),b&&er.postRender(()=>b(p,m)),h1(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},a=(p,m)=>{const{dragPropagation:y,dragDirectionLock:v,onDirectionLock:b,onDrag:S}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:C}=m;if(v&&this.currentDirection===null){this.currentDirection=BG(C),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",m.point,C),this.updateAxis("y",m.point,C),this.visualElement.render(),S&&S(p,m)},l=(p,m)=>this.stop(p,m),u=()=>ss(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new SD(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:wD(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&er.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!em(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=MG(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&ou(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=DG(r.layoutBox,e):this.constraints=!1,this.elastic=PG(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ss(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=LG(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ou(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=EG(r,i.root,this.visualElement.getTransformPagePoint());let a=RG(i.layout.layoutBox,s);if(n){const l=n(vG(a));this.hasMutatedConstraints=!!l,l&&(a=mD(l))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},f=ss(p=>{if(!em(p,n,this.currentDirection))return;let m=u&&u[p]||{};a&&(m={min:0,max:0});const y=i?200:1e6,v=i?40:1e7,b={type:"inertia",velocity:r?e[p]:0,bounceStiffness:y,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...m};return this.startAxisValueAnimation(p,b)});return Promise.all(f).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return h1(this.visualElement,e),r.start(j2(e,r,0,n,this.visualElement,!1))}stopAnimation(){ss(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ss(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ss(n=>{const{drag:r}=this.getProps();if(!em(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[n];s.set(e[n]-Zn(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ou(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ss(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const u=l.get();i[a]=_G({min:u,max:u},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ss(a=>{if(!em(a,e,null))return;const l=this.getAxisMotionValue(a),{min:u,max:f}=this.constraints[a];l.set(Zn(u,f,i[a]))})}addListeners(){if(!this.visualElement.current)return;zG.set(this.visualElement,this);const e=this.visualElement.current,n=pf(e,"pointerdown",u=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();ou(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),er.read(r);const a=Yf(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f})=>{this.isDragging&&f&&(ss(p=>{const m=this.getAxisMotionValue(p);m&&(this.originPoint[p]+=u[p].translate,m.set(m.get()+u[p].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=y1,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:l}}}function em(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function BG(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class FG extends Qo{constructor(e){super(e),this.removeGroupControls=ds,this.removeListeners=ds,this.controls=new IG(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ds}unmount(){this.removeGroupControls(),this.removeListeners()}}const JA=t=>(e,n)=>{t&&er.postRender(()=>t(e,n))};class $G extends Qo{constructor(){super(...arguments),this.removePointerDownListener=ds}onPointerDown(e){this.session=new SD(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wD(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:JA(e),onStart:JA(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&er.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=pf(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Lm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ZA(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Wd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Wt.test(t))t=parseFloat(t);else return t;const n=ZA(t,e.target.x),r=ZA(t,e.target.y);return`${n}% ${r}%`}},VG={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Vo.parse(t);if(i.length>5)return r;const s=Vo.createTransformer(t),a=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,u=n.y.scale*e.y;i[0+a]/=l,i[1+a]/=u;const f=Zn(l,u,.5);return typeof i[2+a]=="number"&&(i[2+a]/=f),typeof i[3+a]=="number"&&(i[3+a]/=f),s(i)}};class UG extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;EW(HG),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Lm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||er.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),m2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ND(t){const[e,n]=QM(),r=T.useContext(Kw);return d.jsx(UG,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(nD),isPresent:e,safeToRemove:n})}const HG={borderRadius:{...Wd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wd,borderTopRightRadius:Wd,borderBottomLeftRadius:Wd,borderBottomRightRadius:Wd,boxShadow:VG};function qG(t,e,n){const r=Jr(t)?t:xu(t);return r.start(j2("",r,e,n)),r.animation}const KG=(t,e)=>t.depth-e.depth;class YG{constructor(){this.children=[],this.isDirty=!1}add(e){Gw(this.children,e),this.isDirty=!0}remove(e){Xw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(KG),this.isDirty=!1,this.children.forEach(e)}}function WG(t,e){const n=Ci.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&($o(r),t(s-e))};return er.setup(r,!0),()=>$o(r)}const TD=["TopLeft","TopRight","BottomLeft","BottomRight"],GG=TD.length,e4=t=>typeof t=="string"?parseFloat(t):t,t4=t=>typeof t=="number"||Wt.test(t);function XG(t,e,n,r,i,s){i?(t.opacity=Zn(0,n.opacity??1,QG(r)),t.opacityExit=Zn(e.opacity??1,0,JG(r))):s&&(t.opacity=Zn(e.opacity??1,n.opacity??1,r));for(let a=0;a<GG;a++){const l=`border${TD[a]}Radius`;let u=n4(e,l),f=n4(n,l);if(u===void 0&&f===void 0)continue;u||(u=0),f||(f=0),u===0||f===0||t4(u)===t4(f)?(t[l]=Math.max(Zn(e4(u),e4(f),r),0),(ea.test(f)||ea.test(u))&&(t[l]+="%")):t[l]=f}(e.rotate||n.rotate)&&(t.rotate=Zn(e.rotate||0,n.rotate||0,r))}function n4(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const QG=jD(0,.5,vM),JG=jD(.5,.95,ds);function jD(t,e,n){return r=>r<t?0:r>e?1:n($f(t,e,r))}function r4(t,e){t.min=e.min,t.max=e.max}function rs(t,e){r4(t.x,e.x),r4(t.y,e.y)}function i4(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function s4(t,e,n,r,i){return t-=e,t=dg(t,1/n,r),i!==void 0&&(t=dg(t,1/i,r)),t}function ZG(t,e=0,n=1,r=.5,i,s=t,a=t){if(ea.test(e)&&(e=parseFloat(e),e=Zn(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=Zn(s.min,s.max,r);t===s&&(l-=e),t.min=s4(t.min,e,n,l,i),t.max=s4(t.max,e,n,l,i)}function a4(t,e,[n,r,i],s,a){ZG(t,e[n],e[r],e[i],e.scale,s,a)}const eX=["x","scaleX","originX"],tX=["y","scaleY","originY"];function o4(t,e,n,r){a4(t.x,e,eX,n?n.x:void 0,r?r.x:void 0),a4(t.y,e,tX,n?n.y:void 0,r?r.y:void 0)}function l4(t){return t.translate===0&&t.scale===1}function ED(t){return l4(t.x)&&l4(t.y)}function c4(t,e){return t.min===e.min&&t.max===e.max}function nX(t,e){return c4(t.x,e.x)&&c4(t.y,e.y)}function u4(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function AD(t,e){return u4(t.x,e.x)&&u4(t.y,e.y)}function d4(t){return li(t.x)/li(t.y)}function f4(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class rX{constructor(){this.members=[]}add(e){Gw(this.members,e),e.scheduleRender()}remove(e){if(Xw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function iX(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=n?.z||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:p,rotateX:m,rotateY:y,skewX:v,skewY:b}=n;f&&(r=`perspective(${f}px) ${r}`),p&&(r+=`rotate(${p}deg) `),m&&(r+=`rotateX(${m}deg) `),y&&(r+=`rotateY(${y}deg) `),v&&(r+=`skewX(${v}deg) `),b&&(r+=`skewY(${b}deg) `)}const l=t.x.scale*e.x,u=t.y.scale*e.y;return(l!==1||u!==1)&&(r+=`scale(${l}, ${u})`),r||"none"}const Fx=["","X","Y","Z"],sX={visibility:"hidden"},aX=1e3;let oX=0;function $x(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function kD(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=dD(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",er,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&kD(r)}function OD({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},l=e?.()){this.id=oX++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(uX),this.nodes.forEach(mX),this.nodes.forEach(gX),this.nodes.forEach(dX)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new YG)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Zw),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const u=this.eventHandlers.get(a);u&&u.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=XM(a)&&!rW(a),this.instance=a;const{layoutId:l,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),t){let p;const m=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=WG(m,250),Lm.hasAnimatedSinceResize&&(Lm.hasAnimatedSinceResize=!1,this.nodes.forEach(p4))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeLayoutChanged:y,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||wX,{onLayoutAnimationStart:S,onLayoutAnimationComplete:C}=f.getProps(),N=!this.targetLayout||!AD(this.targetLayout,v),O=!m&&y;if(this.options.layoutRoot||this.resumeFrom||O||m&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...h2(b,"layout"),onPlay:S,onComplete:C};(f.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(p,O)}else m||p4(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),$o(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yX),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&kD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const m=this.path[p];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(h4);return}this.isUpdating||this.nodes.forEach(hX),this.isUpdating=!1,this.nodes.forEach(pX),this.nodes.forEach(lX),this.nodes.forEach(cX),this.clearAllSnapshots();const l=Ci.now();Vr.delta=$a(0,1e3/60,l-Vr.timestamp),Vr.timestamp=l,Vr.isProcessing=!0,Mx.update.process(Vr),Mx.preRender.process(Vr),Mx.render.process(Vr),Vr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,m2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fX),this.sharedNodes.forEach(vX)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,er.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){er.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!li(this.snapshot.measuredBox.x)&&!li(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=dr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!ED(this.projectionDelta),u=this.getTransformTemplate(),f=u?u(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;a&&this.instance&&(l||jl(this.latestValues)||p)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return a&&(u=this.removeTransform(u)),SX(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return dr();const l=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(CX))){const{scroll:f}=this.root;f&&(cu(l.x,f.offset.x),cu(l.y,f.offset.y))}return l}removeElementScroll(a){const l=dr();if(rs(l,a),this.scroll?.wasRoot)return l;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:p,options:m}=f;f!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&rs(l,a),cu(l.x,p.offset.x),cu(l.y,p.offset.y))}return l}applyTransform(a,l=!1){const u=dr();rs(u,a);for(let f=0;f<this.path.length;f++){const p=this.path[f];!l&&p.options.layoutScroll&&p.scroll&&p!==p.root&&uu(u,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),jl(p.latestValues)&&uu(u,p.latestValues)}return jl(this.latestValues)&&uu(u,this.latestValues),u}removeTransform(a){const l=dr();rs(l,a);for(let u=0;u<this.path.length;u++){const f=this.path[u];if(!f.instance||!jl(f.latestValues))continue;m1(f.latestValues)&&f.updateSnapshot();const p=dr(),m=f.measurePageBox();rs(p,m),o4(l,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return jl(this.latestValues)&&o4(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!(!this.layout||!(p||m))){if(this.resolvedRelativeTargetAt=Vr.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dr(),this.relativeTargetOrigin=dr(),gf(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),rs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=dr(),this.targetWithTransforms=dr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),TG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rs(this.target,this.layout.layoutBox),xD(this.target,this.targetDelta)):rs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dr(),this.relativeTargetOrigin=dr(),gf(this.relativeTargetOrigin,this.target,y.target),rs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||m1(this.parent.latestValues)||vD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Vr.timestamp&&(u=!1),u)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;rs(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,y=this.treeScale.y;jG(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=dr());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(i4(this.prevProjectionDelta.x,this.projectionDelta.x),i4(this.prevProjectionDelta.y,this.projectionDelta.y)),mf(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==y||!f4(this.projectionDelta.x,this.prevProjectionDelta.x)||!f4(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=lu(),this.projectionDelta=lu(),this.projectionDeltaWithTransform=lu()}setAnimationOrigin(a,l=!1){const u=this.snapshot,f=u?u.latestValues:{},p={...this.latestValues},m=lu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const y=dr(),v=u?u.source:void 0,b=this.layout?this.layout.source:void 0,S=v!==b,C=this.getStack(),N=!C||C.members.length<=1,O=!!(S&&!N&&this.options.crossfade===!0&&!this.path.some(bX));this.animationProgress=0;let D;this.mixTargetDelta=R=>{const E=R/1e3;m4(m.x,a.x,E),m4(m.y,a.y,E),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gf(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xX(this.relativeTarget,this.relativeTargetOrigin,y,E),D&&nX(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=dr()),rs(D,this.relativeTarget)),S&&(this.animationValues=p,XG(p,f,this.latestValues,E,O,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&($o(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=er.update(()=>{Lm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=xu(0)),this.currentAnimation=qG(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(aX),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:u,layout:f,latestValues:p}=a;if(!(!l||!u||!f)){if(this!==a&&this.layout&&f&&MD(this.options.animationType,this.layout.layoutBox,f.layoutBox)){u=this.target||dr();const m=li(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+m;const y=li(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+y}rs(l,u),uu(l,p),mf(this.projectionDeltaWithTransform,this.layoutCorrected,l,p)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new rX),this.sharedNodes.get(a).add(l);const f=l.options.initialPromotionConfig;l.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:u}={}){const f=this.getStack();f&&f.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const f={};u.z&&$x("z",a,f,this.animationValues);for(let p=0;p<Fx.length;p++)$x(`rotate${Fx[p]}`,a,f,this.animationValues),$x(`skew${Fx[p]}`,a,f,this.animationValues);a.render();for(const p in f)a.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);a.scheduleRender()}getProjectionStyles(a){if(!this.instance||this.isSVG)return;if(!this.isVisible)return sX;const l={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=_m(a?.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none",l;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=_m(a?.pointerEvents)||""),this.hasProjected&&!jl(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),l.transform=iX(this.projectionDeltaWithTransform,this.treeScale,p),u&&(l.transform=u(p,l.transform));const{x:m,y}=this.projectionDelta;l.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,f.animationValues?l.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in qf){if(p[v]===void 0)continue;const{correct:b,applyTo:S,isCSSVariable:C}=qf[v],N=l.transform==="none"?p[v]:b(p[v],f);if(S){const O=S.length;for(let D=0;D<O;D++)l[S[D]]=N}else C?this.options.visualElement.renderState.vars[v]=N:l[v]=N}return this.options.layoutId&&(l.pointerEvents=f===this?_m(a?.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(h4),this.root.sharedNodes.clear()}}}function lX(t){t.updateLayout()}function cX(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?ss(p=>{const m=s?e.measuredBox[p]:e.layoutBox[p],y=li(m);m.min=n[p].min,m.max=m.min+y}):MD(i,e.layoutBox,n)&&ss(p=>{const m=s?e.measuredBox[p]:e.layoutBox[p],y=li(n[p]);m.max=m.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+y)});const a=lu();mf(a,n,e.layoutBox);const l=lu();s?mf(l,t.applyTransform(r,!0),e.measuredBox):mf(l,n,e.layoutBox);const u=!ED(a);let f=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:y}=p;if(m&&y){const v=dr();gf(v,e.layoutBox,m.layoutBox);const b=dr();gf(b,n,y.layoutBox),AD(v,b)||(f=!0),p.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=v,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function uX(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function dX(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function fX(t){t.clearSnapshot()}function h4(t){t.clearMeasurements()}function hX(t){t.isLayoutDirty=!1}function pX(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function p4(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function mX(t){t.resolveTargetDelta()}function gX(t){t.calcProjection()}function yX(t){t.resetSkewAndRotation()}function vX(t){t.removeLeadSnapshot()}function m4(t,e,n){t.translate=Zn(e.translate,0,n),t.scale=Zn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function g4(t,e,n,r){t.min=Zn(e.min,n.min,r),t.max=Zn(e.max,n.max,r)}function xX(t,e,n,r){g4(t.x,e.x,n.x,r),g4(t.y,e.y,n.y,r)}function bX(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const wX={duration:.45,ease:[.4,0,.1,1]},y4=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),v4=y4("applewebkit/")&&!y4("chrome/")?Math.round:ds;function x4(t){t.min=v4(t.min),t.max=v4(t.max)}function SX(t){x4(t.x),x4(t.y)}function MD(t,e,n){return t==="position"||t==="preserve-aspect"&&!NG(d4(e),d4(n),.2)}function CX(t){return t!==t.root&&t.scroll?.wasRoot}const NX=OD({attachResizeListener:(t,e)=>Yf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Vx={current:void 0},DD=OD({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Vx.current){const t=new NX({});t.mount(window),t.setOptions({layoutScroll:!0}),Vx.current=t}return Vx.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),TX={pan:{Feature:$G},drag:{Feature:FG,ProjectionNode:DD,MeasureLayout:ND}};function b4(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&er.postRender(()=>s(e,Th(e)))}class jX extends Qo{mount(){const{current:e}=this.node;e&&(this.unmount=JY(e,(n,r)=>(b4(this.node,r,"Start"),i=>b4(this.node,i,"End"))))}unmount(){}}class EX extends Qo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Sh(Yf(this.node.current,"focus",()=>this.onFocus()),Yf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function w4(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&er.postRender(()=>s(e,Th(e)))}class AX extends Qo{mount(){const{current:e}=this.node;e&&(this.unmount=nW(e,(n,r)=>(w4(this.node,r,"Start"),(i,{success:s})=>w4(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const v1=new WeakMap,Ux=new WeakMap,kX=t=>{const e=v1.get(t.target);e&&e(t)},OX=t=>{t.forEach(kX)};function MX({root:t,...e}){const n=t||document;Ux.has(n)||Ux.set(n,{});const r=Ux.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(OX,{root:t,...e})),r[i]}function DX(t,e,n){const r=MX(e);return v1.set(t,n),r.observe(t),()=>{v1.delete(t),r.unobserve(t)}}const RX={some:0,all:1};class _X extends Qo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:RX[i]},l=u=>{const{isIntersecting:f}=u;if(this.isInView===f||(this.isInView=f,s&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:m}=this.node.getProps(),y=f?p:m;y&&y(u)};return DX(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(LX(e,n))&&this.startObserver()}unmount(){}}function LX({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const PX={inView:{Feature:_X},tap:{Feature:AX},focus:{Feature:EX},hover:{Feature:jX}},zX={layout:{ProjectionNode:DD,MeasureLayout:ND}},x1={current:null},RD={current:!1};function IX(){if(RD.current=!0,!!Ww)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>x1.current=t.matches;t.addListener(e),e()}else x1.current=!1}const BX=new WeakMap;function FX(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Jr(i))t.addValue(r,i);else if(Jr(s))t.addValue(r,xu(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,xu(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const S4=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $X{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=d2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Ci.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,er.render(this.render,!1,!0))};const{latestValues:u,renderState:f}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=ky(n),this.isVariantNode=eD(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in m){const v=m[y];u[y]!==void 0&&Jr(v)&&v.set(u[y],!1)}}mount(e){this.current=e,BX.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),RD.current||IX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:x1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),$o(this.notifyUpdate),$o(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Iu.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&er.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in bu){const n=bu[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):dr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<S4.length;r++){const i=S4[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=FX(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=xu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(lM(r)||uM(r))?r=parseFloat(r):!sW(r)&&Vo.test(n)&&(r=qM(e,n)),this.setBaseTarget(e,Jr(r)?r.get():r)),Jr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=N2(this.props,n,this.presenceContext?.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Jr(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Zw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class _D extends $X{constructor(){super(...arguments),this.KeyframeResolver=YY}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Jr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function LD(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}function VX(t){return window.getComputedStyle(t)}class UX extends _D{constructor(){super(...arguments),this.type="html",this.renderInstance=LD}readValueFromInstance(e,n){if(Iu.has(n))return this.projection?.isProjecting?a1(n):fY(e,n);{const r=VX(e),i=(n2(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return bD(e,n)}build(e,n,r){w2(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return T2(e,n,r)}}const PD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function HX(t,e,n,r){LD(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(PD.has(i)?i:b2(i),e.attrs[i])}class qX extends _D{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=dr}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Iu.has(n)){const r=HM(n);return r&&r.default||0}return n=PD.has(n)?n:b2(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return uD(e,n,r)}build(e,n,r){aD(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){HX(e,n,r,i)}mount(e){this.isSVGTag=lD(e.tagName),super.mount(e)}}const KX=(t,e)=>C2(t)?new qX(e):new UX(e,{allowProjection:t!==T.Fragment}),YX=HW({...gG,...PX,...TX,...zX},KX),jt=mW(YX);function zD(t){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320 336c0 8.84-7.16 16-16 16h-96c-8.84 0-16-7.16-16-16v-48H0v144c0 25.6 22.4 48 48 48h416c25.6 0 48-22.4 48-48V288H320v48zm144-208h-80V80c0-25.6-22.4-48-48-48H176c-25.6 0-48 22.4-48 48v48H48c-25.6 0-48 22.4-48 48v80h512v-80c0-25.6-22.4-48-48-48zm-144 0H192V96h128v32z"},child:[]}]})(t)}function WX(t){return rn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(t)}function GX(t){return rn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function Zr(t){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function Jo(t){return rn({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function Zo(t){return rn({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function XX(t){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function As(t){return rn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function ID(t){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function wu(t){return rn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function QX(t){return rn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(t)}function Oy(t){return rn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"},child:[]}]})(t)}function Uo(t){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(t)}function C4(t){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(t)}function N4(t){return rn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function JX(t){return rn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function ZX(t){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function ei(t){return rn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function eQ(t){return rn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M384 320H256c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h128c17.67 0 32-14.33 32-32V352c0-17.67-14.33-32-32-32zM192 32c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v128c0 17.67 14.33 32 32 32h95.72l73.16 128.04C211.98 300.98 232.4 288 256 288h.28L192 175.51V128h224V64H192V32zM608 0H480c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h128c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function tQ(t){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(t)}function jh(t){return rn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function E2(t){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function xt(t){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function nQ(t){return rn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M312 320h136V56c0-13.3-10.7-24-24-24H24C10.7 32 0 42.7 0 56v400c0 13.3 10.7 24 24 24h264V344c0-13.2 10.8-24 24-24zm129 55l-98 98c-4.5 4.5-10.6 7-17 7h-6V352h128v6.1c0 6.3-2.5 12.4-7 16.9z"},child:[]}]})(t)}function rQ(t){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(t)}function Kt(t){return rn({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Un(t){return rn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(t)}function fg(t){return rn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function iQ(t){return rn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M610.5 373.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 400.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm201.2 226.5c-2.3-1.2-4.6-2.6-6.8-3.9l-7.9 4.6c-6 3.4-12.8 5.3-19.6 5.3-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-5.5-17.7 1.9-36.4 17.9-45.7l7.9-4.6c-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-16-9.2-23.4-28-17.9-45.7.9-2.9 2.2-5.8 3.2-8.7-3.8-.3-7.5-1.2-11.4-1.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c10.1 0 19.5-3.2 27.2-8.5-1.2-3.8-2-7.7-2-11.8v-9.2z"},child:[]}]})(t)}function sQ(t){return rn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function $r(t){this.content=t}$r.prototype={constructor:$r,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new $r(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new $r(n)},addToStart:function(t,e){return new $r([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new $r(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new $r(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=$r.from(t),t.size?new $r(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=$r.from(t),t.size?new $r(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=$r.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};$r.from=function(t){if(t instanceof $r)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new $r(e)};function BD(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let a=0;i.text[a]==s.text[a];a++)n++;return n}if(i.content.size||s.content.size){let a=BD(i.content,s.content,n+1);if(a!=null)return a}n+=i.nodeSize}}function FD(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let a=t.child(--i),l=e.child(--s),u=a.nodeSize;if(a==l){n-=u,r-=u;continue}if(!a.sameMarkup(l))return{a:n,b:r};if(a.isText&&a.text!=l.text){let f=0,p=Math.min(a.text.length,l.text.length);for(;f<p&&a.text[a.text.length-f-1]==l.text[l.text.length-f-1];)f++,n--,r--;return{a:n,b:r}}if(a.content.size||l.content.size){let f=FD(a.content,l.content,n-1,r-1);if(f)return f}n-=u,r-=u}}class He{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let a=0,l=0;l<n;a++){let u=this.content[a],f=l+u.nodeSize;if(f>e&&r(u,i+l,s||null,a)!==!1&&u.content.size){let p=l+1;u.nodesBetween(Math.max(0,e-p),Math.min(u.content.size,n-p),r,i+p)}l=f}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",a=!0;return this.nodesBetween(e,n,(l,u)=>{let f=l.isText?l.text.slice(Math.max(e,u)-u,n-u):l.isLeaf?i?typeof i=="function"?i(l):i:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&f||l.isTextblock)&&r&&(a?a=!1:s+=r),s+=f},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new He(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,a=0;a<n;s++){let l=this.content[s],u=a+l.nodeSize;u>e&&((a<e||u>n)&&(l.isText?l=l.cut(Math.max(0,e-a),Math.min(l.text.length,n-a)):l=l.cut(Math.max(0,e-a-1),Math.min(l.content.size,n-a-1))),r.push(l),i+=l.nodeSize),a=u}return new He(r,i)}cutByIndex(e,n){return e==n?He.empty:e==0&&n==this.content.length?this:new He(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new He(i,s)}addToStart(e){return new He([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new He(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return BD(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return FD(this,e,n,r)}findIndex(e,n=-1){if(e==0)return tm(0,e);if(e==this.size)return tm(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),a=i+s.nodeSize;if(a>=e)return a==e||n>0?tm(r+1,a):tm(r,i);i=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return He.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new He(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return He.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new He(n||e,r)}static from(e){if(!e)return He.empty;if(e instanceof He)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new He([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}He.empty=new He([],0);const Hx={index:0,offset:0};function tm(t,e){return Hx.index=t,Hx.offset=e,Hx}function hg(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!hg(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!hg(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Ln=class b1{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&hg(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return b1.none;if(e instanceof b1)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Ln.none=[];class pg extends Error{}class ct{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=VD(this.content,e+this.openStart,n);return r&&new ct(r,this.openStart,this.openEnd)}removeBetween(e,n){return new ct($D(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return ct.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ct(He.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new ct(e,r,i)}}ct.empty=new ct(He.empty,0,0);function $D(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:a,offset:l}=t.findIndex(n);if(i==e||s.isText){if(l!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy($D(s.content,e-i-1,n-i-1)))}function VD(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),a=t.maybeChild(i);if(s==e||a.isText)return t.cut(0,e).append(n).append(t.cut(e));let l=VD(a.content,e-s-1,n);return l&&t.replaceChild(i,a.copy(l))}function aQ(t,e,n){if(n.openStart>t.depth)throw new pg("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new pg("Inconsistent open depths");return UD(t,e,n,0)}function UD(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let a=UD(t,e,n,r+1);return s.copy(s.content.replaceChild(i,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let a=t.parent,l=a.content;return Wl(a,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:a,end:l}=oQ(n,t);return Wl(s,qD(t,a,l,e,r))}else return Wl(s,mg(t,e,r))}function HD(t,e){if(!e.type.compatibleContent(t.type))throw new pg("Cannot join "+e.type.name+" onto "+t.type.name)}function w1(t,e,n){let r=t.node(n);return HD(r,e.node(n)),r}function Yl(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function yf(t,e,n,r){let i=(e||t).node(n),s=0,a=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(Yl(t.nodeAfter,r),s++));for(let l=s;l<a;l++)Yl(i.child(l),r);e&&e.depth==n&&e.textOffset&&Yl(e.nodeBefore,r)}function Wl(t,e){return t.type.checkContent(e),t.copy(e)}function qD(t,e,n,r,i){let s=t.depth>i&&w1(t,e,i+1),a=r.depth>i&&w1(n,r,i+1),l=[];return yf(null,t,i,l),s&&a&&e.index(i)==n.index(i)?(HD(s,a),Yl(Wl(s,qD(t,e,n,r,i+1)),l)):(s&&Yl(Wl(s,mg(t,e,i+1)),l),yf(e,n,i,l),a&&Yl(Wl(a,mg(n,r,i+1)),l)),yf(r,null,i,l),new He(l)}function mg(t,e,n){let r=[];if(yf(null,t,n,r),t.depth>n){let i=w1(t,e,n+1);Yl(Wl(i,mg(t,e,n+1)),r)}return yf(e,null,n,r),new He(r)}function oQ(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(He.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Wf{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Ln.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let l=r;r=i,i=l}let s=r.marks;for(var a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!i||!s[a].isInSet(i.marks))&&(s=s[a--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new gg(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let a=e;;){let{index:l,offset:u}=a.content.findIndex(s),f=s-u;if(r.push(a,l,i+u),!f||(a=a.child(l),a.isText))break;s=f-1,i+=u+1}return new Wf(n,r,s)}static resolveCached(e,n){let r=T4.get(e);if(r)for(let s=0;s<r.elts.length;s++){let a=r.elts[s];if(a.pos==n)return a}else T4.set(e,r=new lQ);let i=r.elts[r.i]=Wf.resolve(e,n);return r.i=(r.i+1)%cQ,i}}class lQ{constructor(){this.elts=[],this.i=0}}const cQ=12,T4=new WeakMap;class gg{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const uQ=Object.create(null);let Lo=class S1{constructor(e,n,r,i=Ln.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||He.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&hg(this.attrs,n||e.defaultAttrs||uQ)&&Ln.sameSet(this.marks,r||Ln.none)}copy(e=null){return e==this.content?this:new S1(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new S1(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return ct.empty;let i=this.resolve(e),s=this.resolve(n),a=r?0:i.sharedDepth(n),l=i.start(a),f=i.node(a).content.cut(i.pos-l,s.pos-l);return new ct(f,i.depth-a,s.depth-a)}replace(e,n,r){return aQ(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Wf.resolveCached(this,e)}resolveNoCache(e){return Wf.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),KD(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=He.empty,i=0,s=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,i,s),l=a&&a.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let u=i;u<s;u++)if(!this.type.allowsMarks(r.child(u).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),a=s&&s.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Ln.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Ln.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=He.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};Lo.prototype.text=void 0;class yg extends Lo{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):KD(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new yg(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new yg(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function KD(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class rc{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new dQ(e,n);if(r.next==null)return rc.empty;let i=YD(r);r.next&&r.err("Unexpected trailing text");let s=vQ(yQ(i));return xQ(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(a,l){let u=a.matchFragment(e,r);if(u&&(!n||u.validEnd))return He.from(l.map(f=>f.createAndFill()));for(let f=0;f<a.next.length;f++){let{type:p,next:m}=a.next[f];if(!(p.isText||p.hasRequiredAttrs())&&i.indexOf(m)==-1){i.push(m);let y=s(m,l.concat(p));if(y)return y}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let a=[];for(let l=i;l.type;l=l.via)a.push(l.type);return a.reverse()}for(let a=0;a<s.next.length;a++){let{type:l,next:u}=s.next[a];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!i.type||u.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)s+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return s}).join(`
`)}}rc.empty=new rc(!0);class dQ{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function YD(t){let e=[];do e.push(fQ(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function fQ(t){let e=[];do e.push(hQ(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function hQ(t){let e=gQ(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=pQ(t,e);else break;return e}function j4(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function pQ(t,e){let n=j4(t),r=n;return t.eat(",")&&(t.next!="}"?r=j4(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function mQ(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let a=n[s];a.isInGroup(e)&&i.push(a)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function gQ(t){if(t.eat("(")){let e=YD(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=mQ(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function yQ(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(a,l,u){let f={term:u,to:l};return e[a].push(f),f}function i(a,l){a.forEach(u=>u.to=l)}function s(a,l){if(a.type=="choice")return a.exprs.reduce((u,f)=>u.concat(s(f,l)),[]);if(a.type=="seq")for(let u=0;;u++){let f=s(a.exprs[u],l);if(u==a.exprs.length-1)return f;i(f,l=n())}else if(a.type=="star"){let u=n();return r(l,u),i(s(a.expr,u),u),[r(u)]}else if(a.type=="plus"){let u=n();return i(s(a.expr,l),u),i(s(a.expr,u),u),[r(u)]}else{if(a.type=="opt")return[r(l)].concat(s(a.expr,l));if(a.type=="range"){let u=l;for(let f=0;f<a.min;f++){let p=n();i(s(a.expr,u),p),u=p}if(a.max==-1)i(s(a.expr,u),u);else for(let f=a.min;f<a.max;f++){let p=n();r(u,p),i(s(a.expr,u),p),u=p}return[r(u)]}else{if(a.type=="name")return[r(l,void 0,a.value)];throw new Error("Unknown expr type")}}}}function WD(t,e){return e-t}function E4(t,e){let n=[];return r(e),n.sort(WD);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let a=0;a<s.length;a++){let{term:l,to:u}=s[a];!l&&n.indexOf(u)==-1&&r(u)}}}function vQ(t){let e=Object.create(null);return n(E4(t,0));function n(r){let i=[];r.forEach(a=>{t[a].forEach(({term:l,to:u})=>{if(!l)return;let f;for(let p=0;p<i.length;p++)i[p][0]==l&&(f=i[p][1]);E4(t,u).forEach(p=>{f||i.push([l,f=[]]),f.indexOf(p)==-1&&f.push(p)})})});let s=e[r.join(",")]=new rc(r.indexOf(t.length-1)>-1);for(let a=0;a<i.length;a++){let l=i[a][1].sort(WD);s.next.push({type:i[a][0],next:e[l.join(",")]||n(l)})}return s}}function xQ(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,a=[];for(let l=0;l<i.next.length;l++){let{type:u,next:f}=i.next[l];a.push(u.name),s&&!(u.isText||u.hasRequiredAttrs())&&(s=!1),r.indexOf(f)==-1&&r.push(f)}s&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function GD(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function XD(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function QD(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function JD(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new wQ(t,r,e[r]);return n}let A4=class ZD{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=JD(e,r.attrs),this.defaultAttrs=GD(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==rc.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:XD(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Lo(this,this.computeAttrs(e),He.from(n),Ln.setFrom(r))}createChecked(e=null,n,r){return n=He.from(n),this.checkContent(n),new Lo(this,this.computeAttrs(e),n,Ln.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=He.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(He.empty,!0);return s?new Lo(this,e,n.append(s),Ln.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){QD(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Ln.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,a)=>r[s]=new ZD(s,n,a));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function bQ(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class wQ{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?bQ(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class My{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=JD(e,i.attrs),this.excluded=null;let s=GD(this.attrs);this.instance=s?new Ln(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Ln(this,XD(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,a)=>r[s]=new My(s,i++,n,a)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){QD(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class eR{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=$r.from(e.nodes),n.marks=$r.from(e.marks||{}),this.nodes=A4.compile(this.spec.nodes,this),this.marks=My.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],a=s.spec.content||"",l=s.spec.marks;if(s.contentMatch=r[a]||(r[a]=rc.parse(a,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=l=="_"?null:l?k4(this,l.split(" ")):l==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],a=s.spec.excludes;s.excluded=a==null?[s]:a==""?[]:k4(this,a.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof A4){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new yg(r,r.defaultAttrs,e,Ln.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Lo.fromJSON(this,e)}markFromJSON(e){return Ln.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function k4(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],a=s;if(s)n.push(s);else for(let l in t.marks){let u=t.marks[l];(i=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=u)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function SQ(t){return t.tag!=null}function CQ(t){return t.style!=null}let vf=class C1{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(SQ(i))this.tags.push(i);else if(CQ(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new M4(this,n,!1);return r.addAll(e,Ln.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new M4(this,n,!0);return r.addAll(e,Ln.none,n.from,n.to),ct.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(jQ(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let a=s.getAttrs(e);if(a===!1)continue;s.attrs=a||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let a=this.styles[s],l=a.style;if(!(l.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(a.getAttrs){let u=a.getAttrs(n);if(u===!1)continue;a.attrs=u||void 0}return a}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,a=0;for(;a<n.length;a++){let l=n[a];if((l.priority==null?50:l.priority)<s)break}n.splice(a,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(a=>{r(a=D4(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(a=>{r(a=D4(a)),a.node||a.ignore||a.mark||(a.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new C1(e,C1.schemaRules(e)))}};const tR={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},NQ={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},nR={ol:!0,ul:!0},Gf=1,N1=2,xf=4;function O4(t,e,n){return e!=null?(e?Gf:0)|(e==="full"?N1:0):t&&t.whitespace=="pre"?Gf|N1:n&~xf}class nm{constructor(e,n,r,i,s,a){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=a,this.content=[],this.activeMarks=Ln.none,this.match=s||(a&xf?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(He.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Gf)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=He.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(He.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!tR.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class M4{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,a=O4(null,n.preserveWhitespace,0)|(r?xf:0);i?s=new nm(i.type,i.attrs,Ln.none,!0,n.topMatch||i.type.contentMatch,a):r?s=new nm(null,null,Ln.none,!0,null,a):s=new nm(e.schema.topNodeType,null,Ln.none,!0,null,a),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,s=i.options&N1?"full":this.localPreserveWS||(i.options&Gf)>0;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],l=e.previousSibling;(!a||l&&l.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),l;nR.hasOwnProperty(a)&&this.parser.normalizeLists&&TQ(e);let u=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,r));e:if(u?u.ignore:NQ.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,n);else if(!u||u.skip||u.closeParent){u&&u.closeParent?this.open=Math.max(0,this.open-1):u&&u.skip.nodeType&&(e=u.skip);let f,p=this.needsBlock;if(tR.hasOwnProperty(a))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),f=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let m=u&&u.skip?n:this.readStyles(e,n);m&&this.addAll(e,m),f&&this.sync(s),this.needsBlock=p}else{let f=this.readStyles(e,n);f&&this.addElementByRule(e,u,f,u.consuming===!1?l:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],a=r.getPropertyValue(s);if(a)for(let l=void 0;;){let u=this.parser.matchStyle(s,a,this,l);if(!u)break;if(u.ignore)return null;if(u.clearMark?n=n.filter(f=>!u.clearMark(f)):n=n.concat(this.parser.schema.marks[u.mark].create(u.attrs)),u.consuming===!1)l=u;else break}}return n}addElementByRule(e,n,r,i){let s,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let u=this.enter(a,n.attrs||null,r,n.preserveWhitespace);u&&(s=!0,r=u)}else{let u=this.parser.schema.marks[n.mark];r=r.concat(u.create(n.attrs))}let l=this.top;if(a&&a.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(u=>this.insertNode(u,r,!1));else{let u=e;typeof n.contentElement=="string"?u=e.querySelector(n.contentElement):typeof n.contentElement=="function"?u=n.contentElement(e):n.contentElement&&(u=n.contentElement),this.findAround(e,u,!0),this.addAll(u,r),this.findAround(e,u,!1)}s&&this.sync(l)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let a=r?e.childNodes[r]:e.firstChild,l=i==null?null:e.childNodes[i];a!=l;a=a.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(a,n);this.findAtPoint(e,s)}findPlace(e,n,r){let i,s;for(let a=this.open,l=0;a>=0;a--){let u=this.nodes[a],f=u.findWrapping(e);if(f&&(!i||i.length>f.length+l)&&(i=f,s=u,!f.length))break;if(u.solid){if(r)break;l+=2}}if(!i)return null;this.sync(s);for(let a=0;a<i.length;a++)n=this.enterInner(i[a],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let a=Ln.none;for(let l of i.concat(e.marks))(s.type?s.type.allowsMarkType(l.type):R4(l.type,e.type))&&(a=l.addToSet(a));return s.content.push(e.mark(a)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r,!1);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let l=O4(e,s,a.options);a.options&xf&&a.content.length==0&&(l|=xf);let u=Ln.none;return r=r.filter(f=>(a.type?a.type.allowsMarkType(f.type):R4(f.type,e))?(u=f.addToSet(u),!1):!0),this.nodes.push(new nm(e,n,u,i,null,l)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Gf)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),a=(l,u)=>{for(;l>=0;l--){let f=n[l];if(f==""){if(l==n.length-1||l==0)continue;for(;u>=s;u--)if(a(l-1,u))return!0;return!1}else{let p=u>0||u==0&&i?this.nodes[u].type:r&&u>=s?r.node(u-s).type:null;if(!p||p.name!=f&&!p.isInGroup(f))return!1;u--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function TQ(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&nR.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function jQ(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function D4(t){let e={};for(let n in t)e[n]=t[n];return e}function R4(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],a=l=>{s.push(l);for(let u=0;u<l.edgeCount;u++){let{type:f,next:p}=l.edge(u);if(f==e||s.indexOf(p)<0&&a(p))return!0}};if(a(i.contentMatch))return!0}}class yc{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=qx(n).createDocumentFragment());let i=r,s=[];return e.forEach(a=>{if(s.length||a.marks.length){let l=0,u=0;for(;l<s.length&&u<a.marks.length;){let f=a.marks[u];if(!this.marks[f.type.name]){u++;continue}if(!f.eq(s[l][0])||f.type.spec.spanning===!1)break;l++,u++}for(;l<s.length;)i=s.pop()[1];for(;u<a.marks.length;){let f=a.marks[u++],p=this.serializeMark(f,a.isInline,n);p&&(s.push([f,i]),i.appendChild(p.dom),i=p.contentDOM||p.dom)}}i.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Pm(qx(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Pm(qx(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return Pm(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new yc(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=_4(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return _4(e.marks)}}function _4(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function qx(t){return t.document||window.document}const L4=new WeakMap;function EQ(t){let e=L4.get(t);return e===void 0&&L4.set(t,e=AQ(t)),e}function AQ(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function Pm(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=EQ(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(n=i.slice(0,a),i=i.slice(a+1));let l,u=n?t.createElementNS(n,i):t.createElement(i),f=e[1],p=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){p=2;for(let m in f)if(f[m]!=null){let y=m.indexOf(" ");y>0?u.setAttributeNS(m.slice(0,y),m.slice(y+1),f[m]):u.setAttribute(m,f[m])}}for(let m=p;m<e.length;m++){let y=e[m];if(y===0){if(m<e.length-1||m>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}else{let{dom:v,contentDOM:b}=Pm(t,y,n,r);if(u.appendChild(v),b){if(l)throw new RangeError("Multiple content holes");l=b}}}return{dom:u,contentDOM:l}}const rR=65535,iR=Math.pow(2,16);function kQ(t,e){return t+e*iR}function P4(t){return t&rR}function OQ(t){return(t-(t&rR))/iR}const sR=1,aR=2,zm=4,oR=8;class T1{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&oR)>0}get deletedBefore(){return(this.delInfo&(sR|zm))>0}get deletedAfter(){return(this.delInfo&(aR|zm))>0}get deletedAcross(){return(this.delInfo&zm)>0}}class $i{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&$i.empty)return $i.empty}recover(e){let n=0,r=P4(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+OQ(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?i:0);if(u>e)break;let f=this.ranges[l+s],p=this.ranges[l+a],m=u+f;if(e<=m){let y=f?e==u?-1:e==m?1:n:n,v=u+i+(y<0?0:p);if(r)return v;let b=e==(n<0?u:m)?null:kQ(l/3,e-u),S=e==u?aR:e==m?sR:zm;return(n<0?e!=u:e!=m)&&(S|=oR),new T1(v,S,b)}i+=p-f}return r?e+i:new T1(e+i,0,null)}touches(e,n){let r=0,i=P4(n),s=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?r:0);if(u>e)break;let f=this.ranges[l+s],p=u+f;if(e<=p&&l==i*3)return!0;r+=this.ranges[l+a]-f}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let a=this.ranges[i],l=a-(this.inverted?s:0),u=a+(this.inverted?0:s),f=this.ranges[i+n],p=this.ranges[i+r];e(l,l+f,u,u+p),s+=p-f}}invert(){return new $i(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?$i.empty:new $i(e<0?[0,-e,0]:[0,0,e])}}$i.empty=new $i([]);class Xf{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Xf(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Xf;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let a=this._maps[s],l=a.mapResult(e,n);if(l.recover!=null){let u=this.getMirror(s);if(u!=null&&u>s&&u<this.to){s=u,e=this._maps[u].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return r?e:new T1(e,i,null)}}const Kx=Object.create(null);class ri{getMap(){return $i.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Kx[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Kx)throw new RangeError("Duplicate use of step JSON ID "+e);return Kx[e]=n,n.prototype.jsonID=e,n}}class wr{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new wr(e,null)}static fail(e){return new wr(null,e)}static fromReplace(e,n,r,i){try{return wr.ok(e.replace(n,r,i))}catch(s){if(s instanceof pg)return wr.fail(s.message);throw s}}}function A2(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(A2(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return He.fromArray(r)}class Oo extends ri{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new ct(A2(n.content,(a,l)=>!a.isAtom||!l.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),n.openStart,n.openEnd);return wr.fromReplace(e,this.from,this.to,s)}invert(){return new Ws(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Oo(n.pos,r.pos,this.mark)}merge(e){return e instanceof Oo&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Oo(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Oo(n.from,n.to,e.markFromJSON(n.mark))}}ri.jsonID("addMark",Oo);class Ws extends ri{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new ct(A2(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return wr.fromReplace(e,this.from,this.to,r)}invert(){return new Oo(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ws(n.pos,r.pos,this.mark)}merge(e){return e instanceof Ws&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ws(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ws(n.from,n.to,e.markFromJSON(n.mark))}}ri.jsonID("removeMark",Ws);class Mo extends ri{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return wr.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return wr.fromReplace(e,this.pos,this.pos+1,new ct(He.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Mo(this.pos,n.marks[i]);return new Mo(this.pos,this.mark)}}return new ic(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Mo(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Mo(n.pos,e.markFromJSON(n.mark))}}ri.jsonID("addNodeMark",Mo);class ic extends ri{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return wr.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return wr.fromReplace(e,this.pos,this.pos+1,new ct(He.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Mo(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ic(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ic(n.pos,e.markFromJSON(n.mark))}}ri.jsonID("removeNodeMark",ic);class Rr extends ri{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&j1(e,this.from,this.to)?wr.fail("Structure replace would overwrite content"):wr.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new $i([this.from,this.to-this.from,this.slice.size])}invert(e){return new Rr(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Rr(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Rr)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?ct.empty:new ct(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Rr(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?ct.empty:new ct(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Rr(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Rr(n.from,n.to,ct.fromJSON(e,n.slice),!!n.structure)}}ri.jsonID("replace",Rr);class _r extends ri{constructor(e,n,r,i,s,a,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=a,this.structure=l}apply(e){if(this.structure&&(j1(e,this.from,this.gapFrom)||j1(e,this.gapTo,this.to)))return wr.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return wr.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?wr.fromReplace(e,this.from,this.to,r):wr.fail("Content does not fit in gap")}getMap(){return new $i([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new _r(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new _r(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new _r(n.from,n.to,n.gapFrom,n.gapTo,ct.fromJSON(e,n.slice),n.insert,!!n.structure)}}ri.jsonID("replaceAround",_r);function j1(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let a=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function MQ(t,e,n,r){let i=[],s=[],a,l;t.doc.nodesBetween(e,n,(u,f,p)=>{if(!u.isInline)return;let m=u.marks;if(!r.isInSet(m)&&p.type.allowsMarkType(r.type)){let y=Math.max(f,e),v=Math.min(f+u.nodeSize,n),b=r.addToSet(m);for(let S=0;S<m.length;S++)m[S].isInSet(b)||(a&&a.to==y&&a.mark.eq(m[S])?a.to=v:i.push(a=new Ws(y,v,m[S])));l&&l.to==y?l.to=v:s.push(l=new Oo(y,v,r))}}),i.forEach(u=>t.step(u)),s.forEach(u=>t.step(u))}function DQ(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(a,l)=>{if(!a.isInline)return;s++;let u=null;if(r instanceof My){let f=a.marks,p;for(;p=r.isInSet(f);)(u||(u=[])).push(p),f=p.removeFromSet(f)}else r?r.isInSet(a.marks)&&(u=[r]):u=a.marks;if(u&&u.length){let f=Math.min(l+a.nodeSize,n);for(let p=0;p<u.length;p++){let m=u[p],y;for(let v=0;v<i.length;v++){let b=i[v];b.step==s-1&&m.eq(i[v].style)&&(y=b)}y?(y.to=f,y.step=s):i.push({style:m,from:Math.max(l,e),to:f,step:s})}}}),i.forEach(a=>t.step(new Ws(a.from,a.to,a.style)))}function k2(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),a=[],l=e+1;for(let u=0;u<s.childCount;u++){let f=s.child(u),p=l+f.nodeSize,m=r.matchType(f.type);if(!m)a.push(new Rr(l,p,ct.empty));else{r=m;for(let y=0;y<f.marks.length;y++)n.allowsMarkType(f.marks[y].type)||t.step(new Ws(l,p,f.marks[y]));if(i&&f.isText&&n.whitespace!="pre"){let y,v=/\r?\n|\r/g,b;for(;y=v.exec(f.text);)b||(b=new ct(He.from(n.schema.text(" ",n.allowedMarks(f.marks))),0,0)),a.push(new Rr(l+y.index,l+y.index+y[0].length,b))}}l=p}if(!r.validEnd){let u=r.fillBefore(He.empty,!0);t.replace(l,l,new ct(u,0,0))}for(let u=a.length-1;u>=0;u--)t.step(a[u])}function RQ(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Bu(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),a=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,a,n))return r;if(r==0||i.type.spec.isolating||!RQ(i,s,a))break}return null}function _Q(t,e,n){let{$from:r,$to:i,depth:s}=e,a=r.before(s+1),l=i.after(s+1),u=a,f=l,p=He.empty,m=0;for(let b=s,S=!1;b>n;b--)S||r.index(b)>0?(S=!0,p=He.from(r.node(b).copy(p)),m++):u--;let y=He.empty,v=0;for(let b=s,S=!1;b>n;b--)S||i.after(b+1)<i.end(b)?(S=!0,y=He.from(i.node(b).copy(y)),v++):f++;t.step(new _r(u,f,a,l,new ct(p.append(y),m,v),p.size-m,!0))}function O2(t,e,n=null,r=t){let i=LQ(t,e),s=i&&PQ(r,e);return s?i.map(z4).concat({type:e,attrs:n}).concat(s.map(z4)):null}function z4(t){return{type:t,attrs:null}}function LQ(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let a=s.length?s[0]:e;return n.canReplaceWith(r,i,a)?s:null}function PQ(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),a=e.contentMatch.findWrapping(s.type);if(!a)return null;let u=(a.length?a[a.length-1]:e).contentMatch;for(let f=r;u&&f<i;f++)u=u.matchType(n.child(f).type);return!u||!u.validEnd?null:a}function zQ(t,e,n){let r=He.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let l=n[a].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=He.from(n[a].type.create(n[a].attrs,r))}let i=e.start,s=e.end;t.step(new _r(i,s,i,s,new ct(r,0,0),n.length,!0))}function IQ(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(a,l)=>{let u=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(r,u)&&BQ(t.doc,t.mapping.slice(s).map(l),r)){let f=null;if(r.schema.linebreakReplacement){let v=r.whitespace=="pre",b=!!r.contentMatch.matchType(r.schema.linebreakReplacement);v&&!b?f=!1:!v&&b&&(f=!0)}f===!1&&cR(t,a,l,s),k2(t,t.mapping.slice(s).map(l,1),r,void 0,f===null);let p=t.mapping.slice(s),m=p.map(l,1),y=p.map(l+a.nodeSize,1);return t.step(new _r(m,y,m+1,y-1,new ct(He.from(r.create(u,null,a.marks)),0,0),1,!0)),f===!0&&lR(t,a,l,s),!1}})}function lR(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let a,l=/\r?\n|\r/g;for(;a=l.exec(i.text);){let u=t.mapping.slice(r).map(n+1+s+a.index);t.replaceWith(u,u+1,e.type.schema.linebreakReplacement.create())}}})}function cR(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let a=t.mapping.slice(r).map(n+1+s);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function BQ(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function FQ(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let a=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,a);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new _r(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new ct(He.from(a),0,0),1,!0))}function Ia(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,a=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let f=i.depth-1,p=n-2;f>s;f--,p--){let m=i.node(f),y=i.index(f);if(m.type.spec.isolating)return!1;let v=m.content.cutByIndex(y,m.childCount),b=r&&r[p+1];b&&(v=v.replaceChild(0,b.type.create(b.attrs)));let S=r&&r[p]||m;if(!m.canReplace(y+1,m.childCount)||!S.type.validContent(v))return!1}let l=i.indexAfter(s),u=r&&r[0];return i.node(s).canReplaceWith(l,l,u?u.type:i.node(s+1).type)}function $Q(t,e,n=1,r){let i=t.doc.resolve(e),s=He.empty,a=He.empty;for(let l=i.depth,u=i.depth-n,f=n-1;l>u;l--,f--){s=He.from(i.node(l).copy(s));let p=r&&r[f];a=He.from(p?p.type.create(p.attrs,a):i.node(l).copy(a))}t.step(new Rr(e,e,new ct(s.append(a),n,n),!0))}function el(t,e){let n=t.resolve(e),r=n.index();return uR(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function VQ(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),a=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(a),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function uR(t,e){return!!(t&&e&&!t.isLeaf&&VQ(t,e))}function Dy(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,a,l=r.index(i);if(i==r.depth?(s=r.nodeBefore,a=r.nodeAfter):n>0?(s=r.node(i+1),l++,a=r.node(i).maybeChild(l)):(s=r.node(i).maybeChild(l-1),a=r.node(i+1)),s&&!s.isTextblock&&uR(s,a)&&r.node(i).canReplace(l,l+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function UQ(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),a=s.node().type;if(i&&a.inlineContent){let p=a.whitespace=="pre",m=!!a.contentMatch.matchType(i);p&&!m?r=!1:!p&&m&&(r=!0)}let l=t.steps.length;if(r===!1){let p=t.doc.resolve(e+n);cR(t,p.node(),p.before(),l)}a.inlineContent&&k2(t,e+n-1,a,s.node().contentMatchAt(s.index()),r==null);let u=t.mapping.slice(l),f=u.map(e-n);if(t.step(new Rr(f,u.map(e+n,-1),ct.empty,!0)),r===!0){let p=t.doc.resolve(f);lR(t,p.node(),p.before(),t.steps.length)}return t}function HQ(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function dR(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let a=r.depth;a>=0;a--){let l=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,u=r.index(a)+(l>0?1:0),f=r.node(a),p=!1;if(s==1)p=f.canReplace(u,u,i);else{let m=f.contentMatchAt(u).findWrapping(i.firstChild.type);p=m&&f.canReplaceWith(u,u,m[0])}if(p)return l==0?r.pos:l<0?r.before(a+1):r.after(a+1)}return null}function Ry(t,e,n=e,r=ct.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return fR(i,s,r)?new Rr(e,n,r):new qQ(i,s,r).fit()}function fR(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class qQ{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=He.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=He.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,a=r.depth,l=i.depth;for(;a&&l&&s.childCount==1;)s=s.firstChild.content,a--,l--;let u=new ct(s,a,l);return e>-1?new _r(r.pos,e,this.$to.pos,this.$to.end(),u,n):u.size||r.pos!=this.$to.pos?new Rr(r.pos,i.pos,u):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=Yx(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let a=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:u,match:f}=this.frontier[l],p,m=null;if(n==1&&(a?f.matchType(a.type)||(m=f.fillBefore(He.from(a),!1)):s&&u.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:l,parent:s,inject:m};if(n==2&&a&&(p=f.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:l,parent:s,wrap:p};if(s&&f.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Yx(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new ct(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Yx(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new ct(rf(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new ct(rf(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let S=0;S<s.length;S++)this.openFrontierNode(s[S]);let a=this.unplaced,l=r?r.content:a.content,u=a.openStart-e,f=0,p=[],{match:m,type:y}=this.frontier[n];if(i){for(let S=0;S<i.childCount;S++)p.push(i.child(S));m=m.matchFragment(i)}let v=l.size+e-(a.content.size-a.openEnd);for(;f<l.childCount;){let S=l.child(f),C=m.matchType(S.type);if(!C)break;f++,(f>1||u==0||S.content.size)&&(m=C,p.push(hR(S.mark(y.allowedMarks(S.marks)),f==1?u:0,f==l.childCount?v:-1)))}let b=f==l.childCount;b||(v=-1),this.placed=sf(this.placed,n,He.from(p)),this.frontier[n].match=m,b&&v<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let S=0,C=l;S<v;S++){let N=C.lastChild;this.frontier.push({type:N.type,match:N.contentMatchAt(N.childCount)}),C=N.content}this.unplaced=b?e==0?ct.empty:new ct(rf(a.content,e-1,1),e-1,v<0?a.openEnd:e-1):new ct(rf(a.content,e,f),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Wx(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=Wx(e,n,i,r,s);if(a){for(let l=n-1;l>=0;l--){let{match:u,type:f}=this.frontier[l],p=Wx(e,l,f,u,!0);if(!p||p.childCount)continue e}return{depth:n,fit:a,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=sf(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=sf(this.placed,this.depth,He.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(He.empty,!0);n.childCount&&(this.placed=sf(this.placed,this.frontier.length,n))}}function rf(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(rf(t.firstChild.content,e-1,n)))}function sf(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(sf(t.lastChild.content,e-1,n)))}function Yx(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function hR(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,hR(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(He.empty,!0)))),t.copy(r)}function Wx(t,e,n,r,i){let s=t.node(e),a=i?t.indexAfter(e):t.index(e);if(a==s.childCount&&!n.compatibleContent(s.type))return null;let l=r.fillBefore(s.content,!0,a);return l&&!KQ(n,s.content,a)?l:null}function KQ(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function YQ(t){return t.spec.defining||t.spec.definingForContent}function WQ(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(fR(i,s,r))return t.step(new Rr(e,n,r));let a=mR(i,t.doc.resolve(n));a[a.length-1]==0&&a.pop();let l=-(i.depth+1);a.unshift(l);for(let y=i.depth,v=i.pos-1;y>0;y--,v--){let b=i.node(y).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;a.indexOf(y)>-1?l=y:i.before(y)==v&&a.splice(1,0,-y)}let u=a.indexOf(l),f=[],p=r.openStart;for(let y=r.content,v=0;;v++){let b=y.firstChild;if(f.push(b),v==r.openStart)break;y=b.content}for(let y=p-1;y>=0;y--){let v=f[y],b=YQ(v.type);if(b&&!v.sameMarkup(i.node(Math.abs(l)-1)))p=y;else if(b||!v.type.isTextblock)break}for(let y=r.openStart;y>=0;y--){let v=(y+p+1)%(r.openStart+1),b=f[v];if(b)for(let S=0;S<a.length;S++){let C=a[(S+u)%a.length],N=!0;C<0&&(N=!1,C=-C);let O=i.node(C-1),D=i.index(C-1);if(O.canReplaceWith(D,D,b.type,b.marks))return t.replace(i.before(C),N?s.after(C):n,new ct(pR(r.content,0,r.openStart,v),v,r.openEnd))}}let m=t.steps.length;for(let y=a.length-1;y>=0&&(t.replace(e,n,r),!(t.steps.length>m));y--){let v=a[y];v<0||(e=i.before(v),n=s.after(v))}}function pR(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(pR(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),a=s.fillBefore(t).append(t);t=a.append(s.matchFragment(a).fillBefore(He.empty,!0))}return t}function GQ(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=HQ(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new ct(He.from(r),0,0))}function XQ(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=mR(r,i);for(let a=0;a<s.length;a++){let l=s[a],u=a==s.length-1;if(u&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),i.end(l));if(l>0&&(u||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return t.delete(r.before(l),i.after(l))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(e-r.start(a)==r.depth-a&&n>r.end(a)&&i.end(a)-n!=i.depth-a&&r.start(a-1)==i.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),i.index(a-1)))return t.delete(r.before(a),n);t.delete(e,n)}function mR(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class mu extends ri{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return wr.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return wr.fromReplace(e,this.pos,this.pos+1,new ct(He.from(i),0,n.isLeaf?0:1))}getMap(){return $i.empty}invert(e){return new mu(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new mu(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new mu(n.pos,n.attr,n.value)}}ri.jsonID("attr",mu);class Qf extends ri{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return wr.ok(r)}getMap(){return $i.empty}invert(e){return new Qf(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Qf(n.attr,n.value)}}ri.jsonID("docAttr",Qf);let Su=class extends Error{};Su=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Su.prototype=Object.create(Error.prototype);Su.prototype.constructor=Su;Su.prototype.name="TransformError";class M2{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Xf}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Su(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=ct.empty){let i=Ry(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new ct(He.from(r),0,0))}delete(e,n){return this.replace(e,n,ct.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return WQ(this,e,n,r),this}replaceRangeWith(e,n,r){return GQ(this,e,n,r),this}deleteRange(e,n){return XQ(this,e,n),this}lift(e,n){return _Q(this,e,n),this}join(e,n=1){return UQ(this,e,n),this}wrap(e,n){return zQ(this,e,n),this}setBlockType(e,n=e,r,i=null){return IQ(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return FQ(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new mu(e,n,r)),this}setDocAttribute(e,n){return this.step(new Qf(e,n)),this}addNodeMark(e,n){return this.step(new Mo(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof Ln)n.isInSet(r.marks)&&this.step(new ic(e,n));else{let i=r.marks,s,a=[];for(;s=n.isInSet(i);)a.push(new ic(e,s)),i=s.removeFromSet(i);for(let l=a.length-1;l>=0;l--)this.step(a[l])}return this}split(e,n=1,r){return $Q(this,e,n,r),this}addMark(e,n,r){return MQ(this,e,n,r),this}removeMark(e,n,r){return DQ(this,e,n,r),this}clearIncompatible(e,n,r){return k2(this,e,n,r),this}}const Gx=Object.create(null);class Ht{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new gR(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=ct.empty){let r=n.content.lastChild,i=null;for(let l=0;l<n.openEnd;l++)i=r,r=r.lastChild;let s=e.steps.length,a=this.ranges;for(let l=0;l<a.length;l++){let{$from:u,$to:f}=a[l],p=e.mapping.slice(s);e.replaceRange(p.map(u.pos),p.map(f.pos),l?ct.empty:n),l==0&&F4(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:a,$to:l}=i[s],u=e.mapping.slice(r),f=u.map(a.pos),p=u.map(l.pos);s?e.deleteRange(f,p):(e.replaceRangeWith(f,p,n),F4(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new Ft(e):tu(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let a=n<0?tu(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):tu(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(a)return a}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new qi(e.node(0))}static atStart(e){return tu(e,e,0,0,1)||new qi(e)}static atEnd(e){return tu(e,e,e.content.size,e.childCount,-1)||new qi(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Gx[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Gx)throw new RangeError("Duplicate use of selection JSON ID "+e);return Gx[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Ft.between(this.$anchor,this.$head).getBookmark()}}Ht.prototype.visible=!0;class gR{constructor(e,n){this.$from=e,this.$to=n}}let I4=!1;function B4(t){!I4&&!t.parent.inlineContent&&(I4=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Ft extends Ht{constructor(e,n=e){B4(e),B4(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Ht.near(r);let i=e.resolve(n.map(this.anchor));return new Ft(i.parent.inlineContent?i:r,r)}replace(e,n=ct.empty){if(super.replace(e,n),n==ct.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Ft&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new _y(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ft(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Ht.findFrom(n,r,!0)||Ht.findFrom(n,-r,!0);if(s)n=s.$head;else return Ht.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Ht.findFrom(e,-r,!0)||Ht.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new Ft(e,n)}}Ht.jsonID("text",Ft);class _y{constructor(e,n){this.anchor=e,this.head=n}map(e){return new _y(e.map(this.anchor),e.map(this.head))}resolve(e){return Ft.between(e.resolve(this.anchor),e.resolve(this.head))}}class It extends Ht{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?Ht.near(s):new It(s)}content(){return new ct(He.from(this.node),0,0)}eq(e){return e instanceof It&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new D2(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new It(e.resolve(n.anchor))}static create(e,n){return new It(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}It.prototype.visible=!1;Ht.jsonID("node",It);class D2{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new _y(r,r):new D2(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&It.isSelectable(r)?new It(n):Ht.near(n)}}class qi extends Ht{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=ct.empty){if(n==ct.empty){e.delete(0,e.doc.content.size);let r=Ht.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new qi(e)}map(e){return new qi(e)}eq(e){return e instanceof qi}getBookmark(){return QQ}}Ht.jsonID("all",qi);const QQ={map(){return this},resolve(t){return new qi(t)}};function tu(t,e,n,r,i,s=!1){if(e.inlineContent)return Ft.create(t,n);for(let a=r-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){let l=e.child(a);if(l.isAtom){if(!s&&It.isSelectable(l))return It.create(t,n-(i<0?l.nodeSize:0))}else{let u=tu(t,l,n+i,i<0?l.childCount:0,i,s);if(u)return u}n+=l.nodeSize*i}return null}function F4(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Rr||i instanceof _r))return;let s=t.mapping.maps[r],a;s.forEach((l,u,f,p)=>{a==null&&(a=p)}),t.setSelection(Ht.near(t.doc.resolve(a),n))}const $4=1,rm=2,V4=4;class JQ extends M2{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|$4)&~rm,this.storedMarks=null,this}get selectionSet(){return(this.updated&$4)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=rm,this}ensureMarks(e){return Ln.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&rm)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~rm,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Ln.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let a=this.doc.resolve(n);s=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(Ht.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=V4,this}get scrolledIntoView(){return(this.updated&V4)>0}}function U4(t,e){return!e||!t?t:t.bind(e)}class af{constructor(e,n,r){this.name=e,this.init=U4(n.init,r),this.apply=U4(n.apply,r)}}const ZQ=[new af("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new af("selection",{init(t,e){return t.selection||Ht.atStart(e.doc)},apply(t){return t.selection}}),new af("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new af("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Xx{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=ZQ.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new af(r.key,r.spec.state,r))})}}class du{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let a=0;a<this.config.plugins.length;a++){let l=this.config.plugins[a];if(l.spec.appendTransaction){let u=i?i[a].n:0,f=i?i[a].state:this,p=u<n.length&&l.spec.appendTransaction.call(l,u?n.slice(u):n,f,r);if(p&&r.filterTransaction(p,a)){if(p.setMeta("appendedTransaction",e),!i){i=[];for(let m=0;m<this.config.plugins.length;m++)i.push(m<a?{state:r,n:n.length}:{state:this,n:0})}n.push(p),r=r.applyInner(p),s=!0}i&&(i[a]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new du(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new JQ(this)}static create(e){let n=new Xx(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new du(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new Xx(this.schema,e.plugins),r=n.fields,i=new du(n);for(let s=0;s<r.length;s++){let a=r[s].name;i[a]=this.hasOwnProperty(a)?this[a]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Xx(e.schema,e.plugins),s=new du(i);return i.fields.forEach(a=>{if(a.name=="doc")s.doc=Lo.fromJSON(e.schema,n.doc);else if(a.name=="selection")s.selection=Ht.fromJSON(s.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let u=r[l],f=u.spec.state;if(u.key==a.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){s[a.name]=f.fromJSON.call(u,e,n[l],s);return}}s[a.name]=a.init(e,s)}}),s}}function yR(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=yR(i,e,{})),n[r]=i}return n}class Sr{constructor(e){this.spec=e,this.props={},e.props&&yR(e.props,this,this.props),this.key=e.key?e.key.key:vR("plugin")}getState(e){return e[this.key]}}const Qx=Object.create(null);function vR(t){return t in Qx?t+"$"+ ++Qx[t]:(Qx[t]=0,t+"$")}class Kr{constructor(e="key"){this.key=vR(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Ur=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Cu=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let E1=null;const Ra=function(t,e,n){let r=E1||(E1=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},eJ=function(){E1=null},sc=function(t,e,n,r){return n&&(H4(t,e,n,r,-1)||H4(t,e,n,r,1))},tJ=/^(img|br|input|textarea|hr)$/i;function H4(t,e,n,r,i){for(var s;;){if(t==n&&e==r)return!0;if(e==(i<0?0:us(t))){let a=t.parentNode;if(!a||a.nodeType!=1||Eh(t)||tJ.test(t.nodeName)||t.contentEditable=="false")return!1;e=Ur(t)+(i<0?0:1),t=a}else if(t.nodeType==1){let a=t.childNodes[e+(i<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((s=a.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else t=a,e=i<0?us(t):0}else return!1}}function us(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function nJ(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=us(t)}else if(t.parentNode&&!Eh(t))e=Ur(t),t=t.parentNode;else return null}}function rJ(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Eh(t))e=Ur(t)+1,t=t.parentNode;else return null}}function iJ(t,e,n){for(let r=e==0,i=e==us(t);r||i;){if(t==n)return!0;let s=Ur(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==us(t)}}function Eh(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Ly=function(t){return t.focusNode&&sc(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function kl(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function sJ(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function aJ(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(us(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(us(r.startContainer),r.startOffset)}}}const ia=typeof navigator<"u"?navigator:null,q4=typeof document<"u"?document:null,tl=ia&&ia.userAgent||"",A1=/Edge\/(\d+)/.exec(tl),xR=/MSIE \d/.exec(tl),k1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(tl),Ei=!!(xR||k1||A1),Po=xR?document.documentMode:k1?+k1[1]:A1?+A1[1]:0,ks=!Ei&&/gecko\/(\d+)/i.test(tl);ks&&+(/Firefox\/(\d+)/.exec(tl)||[0,0])[1];const O1=!Ei&&/Chrome\/(\d+)/.exec(tl),ti=!!O1,bR=O1?+O1[1]:0,di=!Ei&&!!ia&&/Apple Computer/.test(ia.vendor),Nu=di&&(/Mobile\/\w+/.test(tl)||!!ia&&ia.maxTouchPoints>2),cs=Nu||(ia?/Mac/.test(ia.platform):!1),oJ=ia?/Win/.test(ia.platform):!1,La=/Android \d/.test(tl),Ah=!!q4&&"webkitFontSmoothing"in q4.documentElement.style,lJ=Ah?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function cJ(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Ea(t,e){return typeof t=="number"?t:t[e]}function uJ(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function K4(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let a=n||t.dom;a;){if(a.nodeType!=1){a=Cu(a);continue}let l=a,u=l==s.body,f=u?cJ(s):uJ(l),p=0,m=0;if(e.top<f.top+Ea(r,"top")?m=-(f.top-e.top+Ea(i,"top")):e.bottom>f.bottom-Ea(r,"bottom")&&(m=e.bottom-e.top>f.bottom-f.top?e.top+Ea(i,"top")-f.top:e.bottom-f.bottom+Ea(i,"bottom")),e.left<f.left+Ea(r,"left")?p=-(f.left-e.left+Ea(i,"left")):e.right>f.right-Ea(r,"right")&&(p=e.right-f.right+Ea(i,"right")),p||m)if(u)s.defaultView.scrollBy(p,m);else{let v=l.scrollLeft,b=l.scrollTop;m&&(l.scrollTop+=m),p&&(l.scrollLeft+=p);let S=l.scrollLeft-v,C=l.scrollTop-b;e={left:e.left-S,top:e.top-C,right:e.right-S,bottom:e.bottom-C}}let y=u?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(y))break;a=y=="absolute"?a.offsetParent:Cu(a)}}function dJ(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let l=t.root.elementFromPoint(s,a);if(!l||l==t.dom||!t.dom.contains(l))continue;let u=l.getBoundingClientRect();if(u.top>=n-20){r=l,i=u.top;break}}return{refDOM:r,refTop:i,stack:wR(t.dom)}}function wR(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Cu(r));return e}function fJ({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;SR(n,r==0?0:r-e)}function SR(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Xc=null;function hJ(t){if(t.setActive)return t.setActive();if(Xc)return t.focus(Xc);let e=wR(t);t.focus(Xc==null?{get preventScroll(){return Xc={preventScroll:!0},!0}}:void 0),Xc||(Xc=!1,SR(e,0))}function CR(t,e){let n,r=2e8,i,s=0,a=e.top,l=e.top,u,f;for(let p=t.firstChild,m=0;p;p=p.nextSibling,m++){let y;if(p.nodeType==1)y=p.getClientRects();else if(p.nodeType==3)y=Ra(p).getClientRects();else continue;for(let v=0;v<y.length;v++){let b=y[v];if(b.top<=a&&b.bottom>=l){a=Math.max(b.bottom,a),l=Math.min(b.top,l);let S=b.left>e.left?b.left-e.left:b.right<e.left?e.left-b.right:0;if(S<r){n=p,r=S,i=S&&n.nodeType==3?{left:b.right<e.left?b.right:b.left,top:e.top}:e,p.nodeType==1&&S&&(s=m+(e.left>=(b.left+b.right)/2?1:0));continue}}else b.top>e.top&&!u&&b.left<=e.left&&b.right>=e.left&&(u=p,f={left:Math.max(b.left,Math.min(b.right,e.left)),top:b.top});!n&&(e.left>=b.right&&e.top>=b.top||e.left>=b.left&&e.top>=b.bottom)&&(s=m+1)}}return!n&&u&&(n=u,i=f,r=0),n&&n.nodeType==3?pJ(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:CR(n,i)}function pJ(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=xo(r,1);if(s.top!=s.bottom&&R2(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function R2(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function mJ(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function gJ(t,e,n){let{node:r,offset:i}=CR(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function yJ(t,e,n,r){let i=-1;for(let s=e,a=!1;s!=t.dom;){let l=t.docView.nearestDesc(s,!0),u;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((u=l.dom.getBoundingClientRect()).width||u.height)&&(l.node.isBlock&&l.parent&&(!a&&u.left>r.left||u.top>r.top?i=l.posBefore:(!a&&u.right<r.left||u.bottom<r.top)&&(i=l.posAfter),a=!0),!l.contentDOM&&i<0&&!l.node.isText))return(l.node.isBlock?r.top<(u.top+u.bottom)/2:r.left<(u.left+u.right)/2)?l.posBefore:l.posAfter;s=l.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function NR(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let a=t.childNodes[s];if(a.nodeType==1){let l=a.getClientRects();for(let u=0;u<l.length;u++){let f=l[u];if(R2(e,f))return NR(a,e,f)}}if((s=(s+1)%r)==i)break}return t}function vJ(t,e){let n=t.dom.ownerDocument,r,i=0,s=aJ(n,e.left,e.top);s&&({node:r,offset:i}=s);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let f=t.dom.getBoundingClientRect();if(!R2(e,f)||(a=NR(t.dom,e,f),!a))return null}if(di)for(let f=a;r&&f;f=Cu(f))f.draggable&&(r=void 0);if(a=mJ(a,e),r){if(ks&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let p=r.childNodes[i],m;p.nodeName=="IMG"&&(m=p.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&i++}let f;Ah&&i&&r.nodeType==1&&(f=r.childNodes[i-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(l=yJ(t,r,i,e))}l==null&&(l=gJ(t,a,e));let u=t.docView.nearestDesc(a,!0);return{pos:l,inside:u?u.posAtStart-u.border:-1}}function Y4(t){return t.top<t.bottom||t.left<t.right}function xo(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(Y4(r))return r}return Array.prototype.find.call(n,Y4)||t.getBoundingClientRect()}const xJ=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function TR(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),a=Ah||ks;if(r.nodeType==3)if(a&&(xJ.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let u=xo(Ra(r,i,i),n);if(ks&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let f=xo(Ra(r,i-1,i-1),-1);if(f.top==u.top){let p=xo(Ra(r,i,i+1),-1);if(p.top!=u.top)return Gd(p,p.left<f.left)}}return u}else{let u=i,f=i,p=n<0?1:-1;return n<0&&!i?(f++,p=-1):n>=0&&i==r.nodeValue.length?(u--,p=1):n<0?u--:f++,Gd(xo(Ra(r,u,f),p),p<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==us(r))){let u=r.childNodes[i-1];if(u.nodeType==1)return Jx(u.getBoundingClientRect(),!1)}if(s==null&&i<us(r)){let u=r.childNodes[i];if(u.nodeType==1)return Jx(u.getBoundingClientRect(),!0)}return Jx(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==us(r))){let u=r.childNodes[i-1],f=u.nodeType==3?Ra(u,us(u)-(a?0:1)):u.nodeType==1&&(u.nodeName!="BR"||!u.nextSibling)?u:null;if(f)return Gd(xo(f,1),!1)}if(s==null&&i<us(r)){let u=r.childNodes[i];for(;u.pmViewDesc&&u.pmViewDesc.ignoreForCoords;)u=u.nextSibling;let f=u?u.nodeType==3?Ra(u,0,a?0:1):u.nodeType==1?u:null:null;if(f)return Gd(xo(f,-1),!0)}return Gd(xo(r.nodeType==3?Ra(r):r,-n),n>=0)}function Gd(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Jx(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function jR(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function bJ(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return jR(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(s,!0);if(!l)break;if(l.node.isBlock){s=l.contentDOM||l.dom;break}s=l.dom.parentNode}let a=TR(t,i.pos,1);for(let l=s.firstChild;l;l=l.nextSibling){let u;if(l.nodeType==1)u=l.getClientRects();else if(l.nodeType==3)u=Ra(l,0,l.nodeValue.length).getClientRects();else continue;for(let f=0;f<u.length;f++){let p=u[f];if(p.bottom>p.top+1&&(n=="up"?a.top-p.top>(p.bottom-a.top)*2:p.bottom-a.bottom>(a.bottom-p.top)*2))return!1}}return!0})}const wJ=/[\u0590-\u08ac]/;function SJ(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,a=i==r.parent.content.size,l=t.domSelection();return l?!wJ.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?s:a:jR(t,e,()=>{let{focusNode:u,focusOffset:f,anchorNode:p,anchorOffset:m}=t.domSelectionRange(),y=l.caretBidiLevel;l.modify("move",n,"character");let v=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:b,focusOffset:S}=t.domSelectionRange(),C=b&&!v.contains(b.nodeType==1?b:b.parentNode)||u==b&&f==S;try{l.collapse(p,m),u&&(u!=p||f!=m)&&l.extend&&l.extend(u,f)}catch{}return y!=null&&(l.caretBidiLevel=y),C}):r.pos==r.start()||r.pos==r.end()}let W4=null,G4=null,X4=!1;function CJ(t,e,n){return W4==e&&G4==n?X4:(W4=e,G4=n,X4=n=="up"||n=="down"?bJ(t,e,n):SJ(t,e,n))}const fs=0,Q4=1,zl=2,sa=3;class kh{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=fs,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,a;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(a)+a.size:this.posAtStart}else{let s,a;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Ur(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),a;if(s&&(!n||s.node))if(r&&(a=s.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let a=0;a<i.children.length;a++){let l=i.children[a];if(l.size){i=l;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let a=this.children[r],l=s+a.size;if(l>e||a instanceof AR){i=e-s;break}s=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof ER&&s.side>=0;r--);if(n<=0){let s,a=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,a=!1);return s&&n&&a&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Ur(s.dom)+1:0}}else{let s,a=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,a=!1);return s&&a&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Ur(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let a=r,l=0;;l++){let u=this.children[l],f=a+u.size;if(i==-1&&e<=f){let p=a+u.border;if(e>=p&&n<=f-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(e,n,p);e=a;for(let m=l;m>0;m--){let y=this.children[m-1];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(1)){i=Ur(y.dom)+1;break}e-=y.size}i==-1&&(i=0)}if(i>-1&&(f>n||l==this.children.length-1)){n=f;for(let p=l+1;p<this.children.length;p++){let m=this.children[p];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){s=Ur(m.dom);break}n+=m.size}s==-1&&(s=this.contentDOM.childNodes.length);break}a=f}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),a=Math.max(e,n);for(let v=0,b=0;v<this.children.length;v++){let S=this.children[v],C=b+S.size;if(s>b&&a<C)return S.setSelection(e-b-S.border,n-b-S.border,r,i);b=C}let l=this.domFromPos(e,e?-1:1),u=n==e?l:this.domFromPos(n,n?-1:1),f=r.root.getSelection(),p=r.domSelectionRange(),m=!1;if((ks||di)&&e==n){let{node:v,offset:b}=l;if(v.nodeType==3){if(m=!!(b&&v.nodeValue[b-1]==`
`),m&&b==v.nodeValue.length)for(let S=v,C;S;S=S.parentNode){if(C=S.nextSibling){C.nodeName=="BR"&&(l=u={node:C.parentNode,offset:Ur(C)+1});break}let N=S.pmViewDesc;if(N&&N.node&&N.node.isBlock)break}}else{let S=v.childNodes[b-1];m=S&&(S.nodeName=="BR"||S.contentEditable=="false")}}if(ks&&p.focusNode&&p.focusNode!=u.node&&p.focusNode.nodeType==1){let v=p.focusNode.childNodes[p.focusOffset];v&&v.contentEditable=="false"&&(i=!0)}if(!(i||m&&di)&&sc(l.node,l.offset,p.anchorNode,p.anchorOffset)&&sc(u.node,u.offset,p.focusNode,p.focusOffset))return;let y=!1;if((f.extend||e==n)&&!m){f.collapse(l.node,l.offset);try{e!=n&&f.extend(u.node,u.offset),y=!0}catch{}}if(!y){if(e>n){let b=l;l=u,u=b}let v=document.createRange();v.setEnd(u.node,u.offset),v.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],a=r+s.size;if(r==a?e<=a&&n>=r:e<a&&n>r){let l=r+s.border,u=a-s.border;if(e>=l&&n<=u){this.dirty=e==r||n==a?zl:Q4,e==l&&n==u&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=sa:s.markDirty(e-l,n-l);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?zl:sa}r=a}this.dirty=zl}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?zl:Q4;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class ER extends kh{constructor(e,n,r,i){let s,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(a.nodeType!=1){let l=document.createElement("span");l.appendChild(a),a=l}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==fs&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class NJ extends kh{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class ac extends kh{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],a=s&&s(n,i,r);return(!a||!a.dom)&&(a=yc.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new ac(e,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&sa||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=sa&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=fs){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=fs}}slice(e,n,r){let i=ac.create(this.parent,this.mark,!0,r),s=this.children,a=this.size;n<a&&(s=D1(s,n,a,r)),e>0&&(s=D1(s,0,e,r));for(let l=0;l<s.length;l++)s[l].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class zo extends kh{constructor(e,n,r,i,s,a,l,u,f){super(e,[],s,a),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l}static create(e,n,r,i,s,a){let l=s.nodeViews[n.type.name],u,f=l&&l(n,s,()=>{if(!u)return a;if(u.parent)return u.parent.posBeforeChild(u)},r,i),p=f&&f.dom,m=f&&f.contentDOM;if(n.isText){if(!p)p=document.createTextNode(n.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:m}=yc.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!m&&!n.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),n.type.spec.draggable&&(p.draggable=!0));let y=p;return p=MR(p,r,n),f?u=new TJ(e,n,r,i,p,m||null,y,f,s,a+1):n.isText?new Py(e,n,r,i,p,y,s):new zo(e,n,r,i,p,m||null,y,s,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>He.empty)}return e}matchesNode(e,n,r){return this.dirty==fs&&e.eq(this.node)&&vg(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,a=s&&s.pos>-1?s:null,l=s&&s.pos<0,u=new EJ(this,a&&a.node,e);OJ(this.node,this.innerDeco,(f,p,m)=>{f.spec.marks?u.syncToMarks(f.spec.marks,r,e):f.type.side>=0&&!m&&u.syncToMarks(p==this.node.childCount?Ln.none:this.node.child(p).marks,r,e),u.placeWidget(f,e,i)},(f,p,m,y)=>{u.syncToMarks(f.marks,r,e);let v;u.findNodeMatch(f,p,m,y)||l&&e.state.selection.from>i&&e.state.selection.to<i+f.nodeSize&&(v=u.findIndexWithChild(s.node))>-1&&u.updateNodeAt(f,p,m,v,e)||u.updateNextNode(f,p,m,e,y,i)||u.addNode(f,p,m,e,i),i+=f.nodeSize}),u.syncToMarks([],r,e),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==zl)&&(a&&this.protectLocalComposition(e,a),kR(this.contentDOM,this.children,e),Nu&&MJ(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Ft)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,l=DJ(this.node.content,a,r-n,i-n);return l<0?null:{node:s,pos:l,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let a=new NJ(this,s,n,i);e.input.compositionNodes.push(a),this.children=D1(this.children,r,r+i.length,e,a)}update(e,n,r,i){return this.dirty==sa||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=fs}updateOuterDeco(e){if(vg(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=OR(this.dom,this.nodeDOM,M1(this.outerDeco,this.node,n),M1(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function J4(t,e,n,r,i){MR(r,e,t);let s=new zo(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class Py extends zo{constructor(e,n,r,i,s,a,l){super(e,n,r,i,s,null,a,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==sa||this.dirty!=fs&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=fs||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=fs,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new Py(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=sa)}get domAtom(){return!1}isText(e){return this.node.text==e}}class AR extends kh{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==fs&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class TJ extends zo{constructor(e,n,r,i,s,a,l,u,f,p){super(e,n,r,i,s,a,l,f,p),this.spec=u}update(e,n,r,i){if(this.dirty==sa)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function kR(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let a=e[s],l=a.dom;if(l.parentNode==t){for(;l!=r;)r=Z4(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(l,r);if(a instanceof ac){let u=r?r.previousSibling:t.lastChild;kR(a.contentDOM,a.children,n),r=u?u.nextSibling:t.firstChild}}for(;r;)r=Z4(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const bf=function(t){t&&(this.nodeName=t)};bf.prototype=Object.create(null);const Il=[new bf];function M1(t,e,n){if(t.length==0)return Il;let r=n?Il[0]:new bf,i=[r];for(let s=0;s<t.length;s++){let a=t[s].type.attrs;if(a){a.nodeName&&i.push(r=new bf(a.nodeName));for(let l in a){let u=a[l];u!=null&&(n&&i.length==1&&i.push(r=new bf(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+u:l=="style"?r.style=(r.style?r.style+";":"")+u:l!="nodeName"&&(r[l]=u))}}}return i}function OR(t,e,n,r){if(n==Il&&r==Il)return e;let i=e;for(let s=0;s<r.length;s++){let a=r[s],l=n[s];if(s){let u;l&&l.nodeName==a.nodeName&&i!=t&&(u=i.parentNode)&&u.nodeName.toLowerCase()==a.nodeName||(u=document.createElement(a.nodeName),u.pmIsDeco=!0,u.appendChild(i),l=Il[0]),i=u}jJ(i,l||Il[0],a)}return i}function jJ(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function MR(t,e,n){return OR(t,t,Il,M1(e,n,t.nodeType!=1))}function vg(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function Z4(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class EJ{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=AJ(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,a=Math.min(s,e.length);for(;i<a&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=fs,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let u=this.index;u<Math.min(this.index+3,this.top.children.length);u++){let f=this.top.children[u];if(f.matchesMark(e[s])&&!this.isLocked(f.dom)){l=u;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let u=ac.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,r))s=this.top.children.indexOf(a,this.index);else for(let l=this.index,u=Math.min(this.top.children.length,l+5);l<u;l++){let f=this.top.children[l];if(f.matchesNode(e,n,r)&&!this.preMatch.matched.has(f)){s=l;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let a=this.top.children[i];return a.dirty==sa&&a.dom==a.contentDOM&&(a.dirty=zl),a.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,a){for(let l=this.index;l<this.top.children.length;l++){let u=this.top.children[l];if(u instanceof zo){let f=this.preMatch.matched.get(u);if(f!=null&&f!=s)return!1;let p=u.dom,m,y=this.isLocked(p)&&!(e.isText&&u.node&&u.node.isText&&u.nodeDOM.nodeValue==e.text&&u.dirty!=sa&&vg(n,u.outerDeco));if(!y&&u.update(e,n,r,i))return this.destroyBetween(this.index,l),u.dom!=p&&(this.changed=!0),this.index++,!0;if(!y&&(m=this.recreateWrapper(u,e,n,r,i,a)))return this.destroyBetween(this.index,l),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=zl,m.updateChildren(i,a+1),m.dirty=fs),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!vg(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let l=zo.create(this.top,n,r,i,s,a);if(l.contentDOM){l.children=e.children,e.children=[];for(let u of l.children)u.parent=l}return e.destroy(),l}addNode(e,n,r,i,s){let a=zo.create(this.top,e,n,r,i,s);a.contentDOM&&a.updateChildren(i,s+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new ER(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof ac;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Py)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((di||ti)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new AR(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function AJ(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,a=[];e:for(;i>0;){let l;for(;;)if(r){let f=n.children[r-1];if(f instanceof ac)n=f,r=f.children.length;else{l=f,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let u=l.node;if(u){if(u!=t.child(i-1))break;--i,s.set(l,i),a.push(l)}}return{index:i,matched:s,matches:a.reverse()}}function kJ(t,e){return t.type.side-e.type.side}function OJ(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let f=0;f<t.childCount;f++){let p=t.child(f);r(p,i,e.forChild(s,p),f),s+=p.nodeSize}return}let a=0,l=[],u=null;for(let f=0;;){let p,m;for(;a<i.length&&i[a].to==s;){let C=i[a++];C.widget&&(p?(m||(m=[p])).push(C):p=C)}if(p)if(m){m.sort(kJ);for(let C=0;C<m.length;C++)n(m[C],f,!!u)}else n(p,f,!!u);let y,v;if(u)v=-1,y=u,u=null;else if(f<t.childCount)v=f,y=t.child(f++);else break;for(let C=0;C<l.length;C++)l[C].to<=s&&l.splice(C--,1);for(;a<i.length&&i[a].from<=s&&i[a].to>s;)l.push(i[a++]);let b=s+y.nodeSize;if(y.isText){let C=b;a<i.length&&i[a].from<C&&(C=i[a].from);for(let N=0;N<l.length;N++)l[N].to<C&&(C=l[N].to);C<b&&(u=y.cut(C-s),y=y.cut(0,C-s),b=C,v=-1)}else for(;a<i.length&&i[a].to<b;)a++;let S=y.isInline&&!y.isLeaf?l.filter(C=>!C.inline):l.slice();r(y,S,e.forChild(s,y),v),s=b}}function MJ(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function DJ(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let a=t.child(i++),l=s;if(s+=a.nodeSize,!a.isText)continue;let u=a.text;for(;i<t.childCount;){let f=t.child(i++);if(s+=f.nodeSize,!f.isText)break;u+=f.text}if(s>=n){if(s>=r&&u.slice(r-e.length-l,r-l)==e)return r-e.length;let f=l<r?u.lastIndexOf(e,r-l-1):-1;if(f>=0&&f+e.length+l>=n)return l+f;if(n==r&&u.length>=r+e.length-l&&u.slice(r-l,r-l+e.length)==e)return r}}return-1}function D1(t,e,n,r,i){let s=[];for(let a=0,l=0;a<t.length;a++){let u=t[a],f=l,p=l+=u.size;f>=n||p<=e?s.push(u):(f<e&&s.push(u.slice(0,e-f,r)),i&&(s.push(i),i=void 0),p>n&&s.push(u.slice(n-f,u.size,r)))}return s}function _2(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let l=r.resolve(a),u,f;if(Ly(n)){for(u=a;i&&!i.node;)i=i.parent;let m=i.node;if(i&&m.isAtom&&It.isSelectable(m)&&i.parent&&!(m.isInline&&iJ(n.focusNode,n.focusOffset,i.dom))){let y=i.posBefore;f=new It(a==y?l:r.resolve(y))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let m=a,y=a;for(let v=0;v<n.rangeCount;v++){let b=n.getRangeAt(v);m=Math.min(m,t.docView.posFromDOM(b.startContainer,b.startOffset,1)),y=Math.max(y,t.docView.posFromDOM(b.endContainer,b.endOffset,-1))}if(m<0)return null;[u,a]=y==t.state.selection.anchor?[y,m]:[m,y],l=r.resolve(a)}else u=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null}let p=r.resolve(u);if(!f){let m=e=="pointer"||t.state.selection.head<l.pos&&!s?1:-1;f=L2(t,p,l,m)}return f}function DR(t){return t.editable?t.hasFocus():_R(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Ba(t,e=!1){let n=t.state.selection;if(RR(t,n),!!DR(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&ti){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&sc(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)_J(t);else{let{anchor:r,head:i}=n,s,a;ek&&!(n instanceof Ft)&&(n.$from.parent.inlineContent||(s=tk(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=tk(t,n.to))),t.docView.setSelection(r,i,t,e),ek&&(s&&nk(s),a&&nk(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&RJ(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const ek=di||ti&&bR<63;function tk(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(di&&i&&i.contentEditable=="false")return Zx(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return Zx(i);if(s)return Zx(s)}}function Zx(t){return t.contentEditable="true",di&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function nk(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function RJ(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!DR(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function _J(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,Ur(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&Ei&&Po<=11&&(r.disabled=!0,r.disabled=!1)}function RR(t,e){if(e instanceof It){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(rk(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else rk(t)}function rk(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function L2(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||Ft.between(e,n,r)}function ik(t){return t.editable&&!t.hasFocus()?!1:_R(t)}function _R(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function LJ(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return sc(e.node,e.offset,n.anchorNode,n.anchorOffset)}function R1(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Ht.findFrom(s,e)}function bo(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function sk(t,e,n){let r=t.state.selection;if(r instanceof Ft)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let a=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return bo(t,new Ft(r.$anchor,a))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=R1(t.state,e);return i&&i instanceof It?bo(t,i):!1}else if(!(cs&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,a;if(!s||s.isText)return!1;let l=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(a=t.docView.descAt(l))&&!a.contentDOM?It.isSelectable(s)?bo(t,new It(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):Ah?bo(t,new Ft(t.state.doc.resolve(e<0?l:l+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof It&&r.node.isInline)return bo(t,new Ft(e>0?r.$to:r.$from));{let i=R1(t.state,e);return i?bo(t,i):!1}}}function xg(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function wf(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Qc(t,e){return e<0?PJ(t):zJ(t)}function PJ(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,a=!1;for(ks&&n.nodeType==1&&r<xg(n)&&wf(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(wf(l,-1))i=n,s=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(LR(n))break;{let l=n.previousSibling;for(;l&&wf(l,-1);)i=n.parentNode,s=Ur(l),l=l.previousSibling;if(l)n=l,r=xg(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?_1(t,n,r):i&&_1(t,i,s)}function zJ(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=xg(n),s,a;for(;;)if(r<i){if(n.nodeType!=1)break;let l=n.childNodes[r];if(wf(l,1))s=n,a=++r;else break}else{if(LR(n))break;{let l=n.nextSibling;for(;l&&wf(l,1);)s=l.parentNode,a=Ur(l)+1,l=l.nextSibling;if(l)n=l,r=0,i=xg(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&_1(t,s,a)}function LR(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function IJ(t,e){for(;t&&e==t.childNodes.length&&!Eh(t);)e=Ur(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function BJ(t,e){for(;t&&!e&&!Eh(t);)e=Ur(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function _1(t,e,n){if(e.nodeType!=3){let s,a;(a=IJ(e,n))?(e=a,n=0):(s=BJ(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Ly(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Ba(t)},50)}function ak(t,e){let n=t.state.doc.resolve(e);if(!(ti||oJ)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function ok(t,e,n){let r=t.state.selection;if(r instanceof Ft&&!r.empty||n.indexOf("s")>-1||cs&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=R1(t.state,e);if(a&&a instanceof It)return bo(t,a)}if(!i.parent.inlineContent){let a=e<0?i:s,l=r instanceof qi?Ht.near(a,e):Ht.findFrom(a,e);return l?bo(t,l):!1}return!1}function lk(t,e){if(!(t.state.selection instanceof Ft))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let a=t.state.tr;return e<0?a.delete(n.pos-s.nodeSize,n.pos):a.delete(n.pos,n.pos+s.nodeSize),t.dispatch(a),!0}return!1}function ck(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function FJ(t){if(!di||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;ck(t,r,"true"),setTimeout(()=>ck(t,r,"false"),20)}return!1}function $J(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function VJ(t,e){let n=e.keyCode,r=$J(e);if(n==8||cs&&n==72&&r=="c")return lk(t,-1)||Qc(t,-1);if(n==46&&!e.shiftKey||cs&&n==68&&r=="c")return lk(t,1)||Qc(t,1);if(n==13||n==27)return!0;if(n==37||cs&&n==66&&r=="c"){let i=n==37?ak(t,t.state.selection.from)=="ltr"?-1:1:-1;return sk(t,i,r)||Qc(t,i)}else if(n==39||cs&&n==70&&r=="c"){let i=n==39?ak(t,t.state.selection.from)=="ltr"?1:-1:1;return sk(t,i,r)||Qc(t,i)}else{if(n==38||cs&&n==80&&r=="c")return ok(t,-1,r)||Qc(t,-1);if(n==40||cs&&n==78&&r=="c")return FJ(t)||ok(t,1,r)||Qc(t,1);if(r==(cs?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function P2(t,e){t.someProp("transformCopied",v=>{e=v(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let v=r.firstChild;n.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),r=v.content}let a=t.someProp("clipboardSerializer")||yc.fromSchema(t.state.schema),l=$R(),u=l.createElement("div");u.appendChild(a.serializeFragment(r,{document:l}));let f=u.firstChild,p,m=0;for(;f&&f.nodeType==1&&(p=FR[f.nodeName.toLowerCase()]);){for(let v=p.length-1;v>=0;v--){let b=l.createElement(p[v]);for(;u.firstChild;)b.appendChild(u.firstChild);u.appendChild(b),m++}f=u.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${i} ${s}${m?` -${m}`:""} ${JSON.stringify(n)}`);let y=t.someProp("clipboardTextSerializer",v=>v(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:u,text:y,slice:e}}function PR(t,e,n,r,i){let s=i.parent.type.spec.code,a,l;if(!n&&!e)return null;let u=e&&(r||s||!n);if(u){if(t.someProp("transformPastedText",y=>{e=y(e,s||r,t)}),s)return e?new ct(He.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):ct.empty;let m=t.someProp("clipboardTextParser",y=>y(e,i,r,t));if(m)l=m;else{let y=i.marks(),{schema:v}=t.state,b=yc.fromSchema(v);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(S=>{let C=a.appendChild(document.createElement("p"));S&&C.appendChild(b.serializeNode(v.text(S,y)))})}}else t.someProp("transformPastedHTML",m=>{n=m(n,t)}),a=KJ(n),Ah&&YJ(a);let f=a&&a.querySelector("[data-pm-slice]"),p=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let m=+p[3];m>0;m--){let y=a.firstChild;for(;y&&y.nodeType!=1;)y=y.nextSibling;if(!y)break;a=y}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||vf.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(u||p),context:i,ruleFromNode(y){return y.nodeName=="BR"&&!y.nextSibling&&y.parentNode&&!UJ.test(y.parentNode.nodeName)?{ignore:!0}:null}})),p)l=WJ(uk(l,+p[1],+p[2]),p[4]);else if(l=ct.maxOpen(HJ(l.content,i),!0),l.openStart||l.openEnd){let m=0,y=0;for(let v=l.content.firstChild;m<l.openStart&&!v.type.spec.isolating;m++,v=v.firstChild);for(let v=l.content.lastChild;y<l.openEnd&&!v.type.spec.isolating;y++,v=v.lastChild);l=uk(l,m,y)}return t.someProp("transformPasted",m=>{l=m(l,t)}),l}const UJ=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function HJ(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,a=[];if(t.forEach(l=>{if(!a)return;let u=i.findWrapping(l.type),f;if(!u)return a=null;if(f=a.length&&s.length&&IR(u,s,l,a[a.length-1],0))a[a.length-1]=f;else{a.length&&(a[a.length-1]=BR(a[a.length-1],s.length));let p=zR(l,u);a.push(p),i=i.matchType(p.type),s=u}}),a)return He.from(a)}return t}function zR(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,He.from(t));return t}function IR(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=IR(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(He.from(zR(n,t,i+1))))}}function BR(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,BR(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(He.empty,!0);return t.copy(n.append(r))}function L1(t,e,n,r,i,s){let a=e<0?t.firstChild:t.lastChild,l=a.content;return t.childCount>1&&(s=0),i<r-1&&(l=L1(l,e,n,r,i+1,s)),i>=n&&(l=e<0?a.contentMatchAt(0).fillBefore(l,s<=i).append(l):l.append(a.contentMatchAt(a.childCount).fillBefore(He.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(l))}function uk(t,e,n){return e<t.openStart&&(t=new ct(L1(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new ct(L1(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const FR={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let dk=null;function $R(){return dk||(dk=document.implementation.createHTMLDocument("title"))}let eb=null;function qJ(t){let e=window.trustedTypes;return e?(eb||(eb=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),eb.createHTML(t)):t}function KJ(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=$R().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&FR[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=qJ(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function YJ(t){let e=t.querySelectorAll(ti?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function WJ(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:a}=t;for(let l=r.length-2;l>=0;l-=2){let u=n.nodes[r[l]];if(!u||u.hasRequiredAttrs())break;i=He.from(u.create(r[l+1],i)),s++,a++}return new ct(i,s,a)}const fi={},hi={},GJ={touchstart:!0,touchmove:!0};class XJ{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function QJ(t){for(let e in fi){let n=fi[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{ZJ(t,r)&&!z2(t,r)&&(t.editable||!(r.type in hi))&&n(t,r)},GJ[e]?{passive:!0}:void 0)}di&&t.dom.addEventListener("input",()=>null),P1(t)}function Do(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function JJ(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function P1(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>z2(t,r))})}function z2(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function ZJ(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function eZ(t,e){!z2(t,e)&&fi[e.type]&&(t.editable||!(e.type in hi))&&fi[e.type](t,e)}hi.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!UR(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(La&&ti&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Nu&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,kl(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||VJ(t,n)?n.preventDefault():Do(t,"key")};hi.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};hi.keypress=(t,e)=>{let n=e;if(UR(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||cs&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Ft)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",a=>a(t,r.$from.pos,r.$to.pos,i,s))&&t.dispatch(s()),n.preventDefault()}};function zy(t){return{left:t.clientX,top:t.clientY}}function tZ(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function I2(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let a=s.depth+1;a>0;a--)if(t.someProp(e,l=>a>s.depth?l(t,n,s.nodeAfter,s.before(a),i,!0):l(t,n,s.node(a),s.before(a),i,!1)))return!0;return!1}function gu(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function nZ(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&It.isSelectable(r)?(gu(t,new It(n)),!0):!1}function rZ(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof It&&(r=n.node);let s=t.state.doc.resolve(e);for(let a=s.depth+1;a>0;a--){let l=a>s.depth?s.nodeAfter:s.node(a);if(It.isSelectable(l)){r&&n.$from.depth>0&&a>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(a);break}}return i!=null?(gu(t,It.create(t.state.doc,i)),!0):!1}function iZ(t,e,n,r,i){return I2(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?rZ(t,n):nZ(t,n))}function sZ(t,e,n,r){return I2(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function aZ(t,e,n,r){return I2(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||oZ(t,n,r)}function oZ(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(gu(t,Ft.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let a=s>i.depth?i.nodeAfter:i.node(s),l=i.before(s);if(a.inlineContent)gu(t,Ft.create(r,l+1,l+1+a.content.size));else if(It.isSelectable(a))gu(t,It.create(r,l));else continue;return!0}}function B2(t){return bg(t)}const VR=cs?"metaKey":"ctrlKey";fi.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=B2(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&tZ(n,t.input.lastClick)&&!n[VR]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s,button:n.button};let a=t.posAtCoords(zy(n));a&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new lZ(t,a,n,!!r)):(s=="doubleClick"?sZ:aZ)(t,a.pos,a.inside,n)?n.preventDefault():Do(t,"pointer"))};class lZ{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[VR],this.allowDefault=r.shiftKey;let s,a;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),a=n.inside;else{let p=e.state.doc.resolve(n.pos);s=p.parent,a=p.depth?p.before():0}const l=i?null:r.target,u=l?e.docView.nearestDesc(l,!0):null;this.target=u&&u.dom.nodeType==1?u.dom:null;let{selection:f}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||f instanceof It&&f.from<=a&&f.to>a)&&(this.mightDrag={node:s,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ks&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Do(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ba(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(zy(e))),this.updateAllowDefault(e),this.allowDefault||!n?Do(this.view,"pointer"):iZ(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||di&&this.mightDrag&&!this.mightDrag.node.isAtom||ti&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(gu(this.view,Ht.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Do(this.view,"pointer")}move(e){this.updateAllowDefault(e),Do(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}fi.touchstart=t=>{t.input.lastTouch=Date.now(),B2(t),Do(t,"pointer")};fi.touchmove=t=>{t.input.lastTouch=Date.now(),Do(t,"pointer")};fi.contextmenu=t=>B2(t);function UR(t,e){return t.composing?!0:di&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const cZ=La?5e3:-1;hi.compositionstart=hi.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Ft&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),bg(t,!0),t.markCursor=null;else if(bg(t,!e.selection.empty),ks&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let a=s<0?i.lastChild:i.childNodes[s-1];if(!a)break;if(a.nodeType==3){let l=t.domSelection();l&&l.collapse(a,a.nodeValue.length);break}else i=a,s=-1}}t.input.composing=!0}HR(t,cZ)};hi.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,HR(t,20))};function HR(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>bg(t),e))}function qR(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=dZ());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function uZ(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=nJ(e.focusNode,e.focusOffset),r=rJ(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function dZ(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function bg(t,e=!1){if(!(La&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),qR(t),e||t.docView&&t.docView.dirty){let n=_2(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function fZ(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Jf=Ei&&Po<15||Nu&&lJ<604;fi.copy=hi.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=Jf?null:n.clipboardData,a=r.content(),{dom:l,text:u}=P2(t,a);s?(n.preventDefault(),s.clearData(),s.setData("text/html",l.innerHTML),s.setData("text/plain",u)):fZ(t,l),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function hZ(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function pZ(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Zf(t,r.value,null,i,e):Zf(t,r.textContent,r.innerHTML,i,e)},50)}function Zf(t,e,n,r,i){let s=PR(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",u=>u(t,i,s||ct.empty)))return!0;if(!s)return!1;let a=hZ(s),l=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(s);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function KR(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}hi.paste=(t,e)=>{let n=e;if(t.composing&&!La)return;let r=Jf?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Zf(t,KR(r),r.getData("text/html"),i,n)?n.preventDefault():pZ(t,n)};class YR{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const mZ=cs?"altKey":"ctrlKey";function WR(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[mZ]}fi.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(zy(n)),a;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof It?i.to-1:i.to))){if(r&&r.mightDrag)a=It.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let m=t.docView.nearestDesc(n.target,!0);m&&m.node.type.spec.draggable&&m!=t.docView&&(a=It.create(t.state.doc,m.posBefore))}}let l=(a||t.state.selection).content(),{dom:u,text:f,slice:p}=P2(t,l);(!n.dataTransfer.files.length||!ti||bR>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Jf?"Text":"text/html",u.innerHTML),n.dataTransfer.effectAllowed="copyMove",Jf||n.dataTransfer.setData("text/plain",f),t.dragging=new YR(p,WR(t,n),a)};fi.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};hi.dragover=hi.dragenter=(t,e)=>e.preventDefault();hi.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(zy(n));if(!i)return;let s=t.state.doc.resolve(i.pos),a=r&&r.slice;a?t.someProp("transformPasted",b=>{a=b(a,t)}):a=PR(t,KR(n.dataTransfer),Jf?null:n.dataTransfer.getData("text/html"),!1,s);let l=!!(r&&WR(t,n));if(t.someProp("handleDrop",b=>b(t,n,a||ct.empty,l))){n.preventDefault();return}if(!a)return;n.preventDefault();let u=a?dR(t.state.doc,s.pos,a):s.pos;u==null&&(u=s.pos);let f=t.state.tr;if(l){let{node:b}=r;b?b.replace(f):f.deleteSelection()}let p=f.mapping.map(u),m=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,y=f.doc;if(m?f.replaceRangeWith(p,p,a.content.firstChild):f.replaceRange(p,p,a),f.doc.eq(y))return;let v=f.doc.resolve(p);if(m&&It.isSelectable(a.content.firstChild)&&v.nodeAfter&&v.nodeAfter.sameMarkup(a.content.firstChild))f.setSelection(new It(v));else{let b=f.mapping.map(u);f.mapping.maps[f.mapping.maps.length-1].forEach((S,C,N,O)=>b=O),f.setSelection(L2(t,v,f.doc.resolve(b)))}t.focus(),t.dispatch(f.setMeta("uiEvent","drop"))};fi.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Ba(t)},20))};fi.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};fi.beforeinput=(t,e)=>{if(ti&&La&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,kl(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in hi)fi[t]=hi[t];function eh(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class wg{constructor(e,n){this.toDOM=e,this.spec=n||Gl,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:a}=e.mapResult(n.from+i,this.side<0?-1:1);return a?null:new ci(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof wg&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&eh(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Io{constructor(e,n){this.attrs=e,this.spec=n||Gl}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,a=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=a?null:new ci(s,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Io&&eh(this.attrs,e.attrs)&&eh(this.spec,e.spec)}static is(e){return e.type instanceof Io}destroy(){}}class F2{constructor(e,n){this.attrs=e,this.spec=n||Gl}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let a=e.mapResult(n.to+i,-1);return a.deleted||a.pos<=s.pos?null:new ci(s.pos-r,a.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof F2&&eh(this.attrs,e.attrs)&&eh(this.spec,e.spec)}destroy(){}}class ci{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new ci(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new ci(e,e,new wg(n,r))}static inline(e,n,r,i){return new ci(e,n,new Io(r,i))}static node(e,n,r,i){return new ci(e,n,new F2(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Io}get widget(){return this.type instanceof wg}}const nu=[],Gl={};class sr{constructor(e,n){this.local=e.length?e:nu,this.children=n.length?n:nu}static create(e,n){return n.length?Sg(n,e,0,Gl):Xr}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let a=0;a<this.local.length;a++){let l=this.local[a];l.from<=n&&l.to>=e&&(!s||s(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let l=this.children[a]+1;this.children[a+2].findInner(e-l,n-l,r,i+l,s)}}map(e,n,r){return this==Xr||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Gl)}mapInner(e,n,r,i,s){let a;for(let l=0;l<this.local.length;l++){let u=this.local[l].map(e,r,i);u&&u.type.valid(n,u)?(a||(a=[])).push(u):s.onRemove&&s.onRemove(this.local[l].spec)}return this.children.length?gZ(this.children,a||[],e,n,r,i,s):a?new sr(a.sort(Xl),nu):Xr}add(e,n){return n.length?this==Xr?sr.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((l,u)=>{let f=u+r,p;if(p=XR(n,l,f)){for(i||(i=this.children.slice());s<i.length&&i[s]<u;)s+=3;i[s]==u?i[s+2]=i[s+2].addInner(l,p,f+1):i.splice(s,0,u,u+l.nodeSize,Sg(p,l,f+1,Gl)),s+=3}});let a=GR(s?QR(n):n,-r);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||a.splice(l--,1);return new sr(a.length?this.local.concat(a).sort(Xl):this.local,i||this.children)}remove(e){return e.length==0||this==Xr?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let a,l=r[s]+n,u=r[s+1]+n;for(let p=0,m;p<e.length;p++)(m=e[p])&&m.from>l&&m.to<u&&(e[p]=null,(a||(a=[])).push(m));if(!a)continue;r==this.children&&(r=this.children.slice());let f=r[s+2].removeInner(a,l+1);f!=Xr?r[s+2]=f:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,a;s<e.length;s++)if(a=e[s])for(let l=0;l<i.length;l++)i[l].eq(a,n)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new sr(i,r):Xr}forChild(e,n){if(this==Xr)return this;if(n.isLeaf)return sr.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let s=e+1,a=s+n.content.size;for(let l=0;l<this.local.length;l++){let u=this.local[l];if(u.from<a&&u.to>s&&u.type instanceof Io){let f=Math.max(s,u.from)-s,p=Math.min(a,u.to)-s;f<p&&(i||(i=[])).push(u.copy(f,p))}}if(i){let l=new sr(i.sort(Xl),nu);return r?new jo([l,r]):l}return r||Xr}eq(e){if(this==e)return!0;if(!(e instanceof sr)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return $2(this.localsInner(e))}localsInner(e){if(this==Xr)return nu;if(e.inlineContent||!this.local.some(Io.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Io||n.push(this.local[r]);return n}forEachSet(e){e(this)}}sr.empty=new sr([],[]);sr.removeOverlap=$2;const Xr=sr.empty;class jo{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Gl));return jo.from(r)}forChild(e,n){if(n.isLeaf)return sr.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=Xr&&(s instanceof jo?r=r.concat(s.members):r.push(s))}return jo.from(r)}eq(e){if(!(e instanceof jo)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let a=0;a<s.length;a++)n.push(s[a])}}return n?$2(r?n:n.sort(Xl)):nu}static from(e){switch(e.length){case 0:return Xr;case 1:return e[0];default:return new jo(e.every(n=>n instanceof sr)?e:e.reduce((n,r)=>n.concat(r instanceof sr?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function gZ(t,e,n,r,i,s,a){let l=t.slice();for(let f=0,p=s;f<n.maps.length;f++){let m=0;n.maps[f].forEach((y,v,b,S)=>{let C=S-b-(v-y);for(let N=0;N<l.length;N+=3){let O=l[N+1];if(O<0||y>O+p-m)continue;let D=l[N]+p-m;v>=D?l[N+1]=y<=D?-2:-1:y>=p&&C&&(l[N]+=C,l[N+1]+=C)}m+=C}),p=n.maps[f].map(p,-1)}let u=!1;for(let f=0;f<l.length;f+=3)if(l[f+1]<0){if(l[f+1]==-2){u=!0,l[f+1]=-1;continue}let p=n.map(t[f]+s),m=p-i;if(m<0||m>=r.content.size){u=!0;continue}let y=n.map(t[f+1]+s,-1),v=y-i,{index:b,offset:S}=r.content.findIndex(m),C=r.maybeChild(b);if(C&&S==m&&S+C.nodeSize==v){let N=l[f+2].mapInner(n,C,p+1,t[f]+s+1,a);N!=Xr?(l[f]=m,l[f+1]=v,l[f+2]=N):(l[f+1]=-2,u=!0)}else u=!0}if(u){let f=yZ(l,t,e,n,i,s,a),p=Sg(f,r,0,a);e=p.local;for(let m=0;m<l.length;m+=3)l[m+1]<0&&(l.splice(m,3),m-=3);for(let m=0,y=0;m<p.children.length;m+=3){let v=p.children[m];for(;y<l.length&&l[y]<v;)y+=3;l.splice(y,0,p.children[m],p.children[m+1],p.children[m+2])}}return new sr(e.sort(Xl),l)}function GR(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new ci(i.from+e,i.to+e,i.type))}return n}function yZ(t,e,n,r,i,s,a){function l(u,f){for(let p=0;p<u.local.length;p++){let m=u.local[p].map(r,i,f);m?n.push(m):a.onRemove&&a.onRemove(u.local[p].spec)}for(let p=0;p<u.children.length;p+=3)l(u.children[p+2],u.children[p]+f+1)}for(let u=0;u<t.length;u+=3)t[u+1]==-1&&l(t[u+2],e[u]+s+1);return n}function XR(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,a;s<t.length;s++)(a=t[s])&&a.from>n&&a.to<r&&((i||(i=[])).push(a),t[s]=null);return i}function QR(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Sg(t,e,n,r){let i=[],s=!1;e.forEach((l,u)=>{let f=XR(t,l,u+n);if(f){s=!0;let p=Sg(f,l,n+u+1,r);p!=Xr&&i.push(u,u+l.nodeSize,p)}});let a=GR(s?QR(t):t,-n).sort(Xl);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||(r.onRemove&&r.onRemove(a[l].spec),a.splice(l--,1));return a.length||i.length?new sr(a,i):Xr}function Xl(t,e){return t.from-e.from||t.to-e.to}function $2(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),fk(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),fk(e,i,r.copy(s.from,r.to)));break}}}return e}function fk(t,e,n){for(;e<t.length&&Xl(n,t[e])>0;)e++;t.splice(e,0,n)}function tb(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Xr&&e.push(r)}),t.cursorWrapper&&e.push(sr.create(t.state.doc,[t.cursorWrapper.deco])),jo.from(e)}const vZ={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},xZ=Ei&&Po<=11;class bZ{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class wZ{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new bZ,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Ei&&Po<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),xZ&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,vZ)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(ik(this.view)){if(this.suppressingSelectionUpdates)return Ba(this.view);if(Ei&&Po<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&sc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=Cu(s))n.add(s);for(let s=e.anchorNode;s;s=Cu(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&ik(e)&&!this.ignoreSelectionChange(r),s=-1,a=-1,l=!1,u=[];if(e.editable)for(let p=0;p<n.length;p++){let m=this.registerMutation(n[p],u);m&&(s=s<0?m.from:Math.min(m.from,s),a=a<0?m.to:Math.max(m.to,a),m.typeOver&&(l=!0))}if(ks&&u.length){let p=u.filter(m=>m.nodeName=="BR");if(p.length==2){let[m,y]=p;m.parentNode&&m.parentNode.parentNode==y.parentNode?y.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let y of p){let v=y.parentNode;v&&v.nodeName=="LI"&&(!m||NZ(e,m)!=v)&&y.remove()}}}let f=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Ly(r)&&(f=_2(e))&&f.eq(Ht.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Ba(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,a),SZ(e)),this.handleDOMChange(s,a,l,u),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Ba(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let m=e.addedNodes[p];n.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Ei&&Po<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:m,nextSibling:y}=e.addedNodes[p];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(i=m),(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(s=y)}let a=i&&i.parentNode==e.target?Ur(i)+1:0,l=r.localPosFromDOM(e.target,a,-1),u=s&&s.parentNode==e.target?Ur(s):e.target.childNodes.length,f=r.localPosFromDOM(e.target,u,1);return{from:l,to:f}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let hk=new WeakMap,pk=!1;function SZ(t){if(!hk.has(t)&&(hk.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=ks,pk)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),pk=!0}}function mk(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return sc(a.node,a.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function CZ(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return mk(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?mk(t,n):null}function NZ(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function TZ(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:a,to:l}=t.docView.parseRange(e,n),u=t.domSelectionRange(),f,p=u.anchorNode;if(p&&t.dom.contains(p.nodeType==1?p:p.parentNode)&&(f=[{node:p,offset:u.anchorOffset}],Ly(u)||f.push({node:u.focusNode,offset:u.focusOffset})),ti&&t.input.lastKeyCode===8)for(let C=s;C>i;C--){let N=r.childNodes[C-1],O=N.pmViewDesc;if(N.nodeName=="BR"&&!O){s=C;break}if(!O||O.size)break}let m=t.state.doc,y=t.someProp("domParser")||vf.fromSchema(t.state.schema),v=m.resolve(a),b=null,S=y.parse(r,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:i,to:s,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:jZ,context:v});if(f&&f[0].pos!=null){let C=f[0].pos,N=f[1]&&f[1].pos;N==null&&(N=C),b={anchor:C+a,head:N+a}}return{doc:S,sel:b,from:a,to:l}}function jZ(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(di&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||di&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const EZ=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function AZ(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let F=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,G=_2(t,F);if(G&&!t.state.selection.eq(G)){if(ti&&La&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",oe=>oe(t,kl(13,"Enter"))))return;let ge=t.state.tr.setSelection(G);F=="pointer"?ge.setMeta("pointer",!0):F=="key"&&ge.scrollIntoView(),s&&ge.setMeta("composition",s),t.dispatch(ge)}return}let a=t.state.doc.resolve(e),l=a.sharedDepth(n);e=a.before(l+1),n=t.state.doc.resolve(n).after(l+1);let u=t.state.selection,f=TZ(t,e,n),p=t.state.doc,m=p.slice(f.from,f.to),y,v;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(y=t.state.selection.to,v="end"):(y=t.state.selection.from,v="start"),t.input.lastKeyCode=null;let b=MZ(m.content,f.doc.content,f.from,y,v);if(b&&t.input.domChangeCount++,(Nu&&t.input.lastIOSEnter>Date.now()-225||La)&&i.some(F=>F.nodeType==1&&!EZ.test(F.nodeName))&&(!b||b.endA>=b.endB)&&t.someProp("handleKeyDown",F=>F(t,kl(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!b)if(r&&u instanceof Ft&&!u.empty&&u.$head.sameParent(u.$anchor)&&!t.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))b={start:u.from,endA:u.to,endB:u.to};else{if(f.sel){let F=gk(t,t.state.doc,f.sel);if(F&&!F.eq(t.state.selection)){let G=t.state.tr.setSelection(F);s&&G.setMeta("composition",s),t.dispatch(G)}}return}t.state.selection.from<t.state.selection.to&&b.start==b.endB&&t.state.selection instanceof Ft&&(b.start>t.state.selection.from&&b.start<=t.state.selection.from+2&&t.state.selection.from>=f.from?b.start=t.state.selection.from:b.endA<t.state.selection.to&&b.endA>=t.state.selection.to-2&&t.state.selection.to<=f.to&&(b.endB+=t.state.selection.to-b.endA,b.endA=t.state.selection.to)),Ei&&Po<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>f.from&&f.doc.textBetween(b.start-f.from-1,b.start-f.from+1)==" "&&(b.start--,b.endA--,b.endB--);let S=f.doc.resolveNoCache(b.start-f.from),C=f.doc.resolveNoCache(b.endB-f.from),N=p.resolve(b.start),O=S.sameParent(C)&&S.parent.inlineContent&&N.end()>=b.endA,D;if((Nu&&t.input.lastIOSEnter>Date.now()-225&&(!O||i.some(F=>F.nodeName=="DIV"||F.nodeName=="P"))||!O&&S.pos<f.doc.content.size&&(!S.sameParent(C)||!S.parent.inlineContent)&&!/\S/.test(f.doc.textBetween(S.pos,C.pos,"",""))&&(D=Ht.findFrom(f.doc.resolve(S.pos+1),1,!0))&&D.head>S.pos)&&t.someProp("handleKeyDown",F=>F(t,kl(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>b.start&&OZ(p,b.start,b.endA,S,C)&&t.someProp("handleKeyDown",F=>F(t,kl(8,"Backspace")))){La&&ti&&t.domObserver.suppressSelectionUpdates();return}ti&&b.endB==b.start&&(t.input.lastChromeDelete=Date.now()),La&&!O&&S.start()!=C.start()&&C.parentOffset==0&&S.depth==C.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==b.endA&&(b.endB-=2,C=f.doc.resolveNoCache(b.endB-f.from),setTimeout(()=>{t.someProp("handleKeyDown",function(F){return F(t,kl(13,"Enter"))})},20));let R=b.start,E=b.endA,k=F=>{let G=F||t.state.tr.replace(R,E,f.doc.slice(b.start-f.from,b.endB-f.from));if(f.sel){let ge=gk(t,G.doc,f.sel);ge&&!(ti&&t.composing&&ge.empty&&(b.start!=b.endB||t.input.lastChromeDelete<Date.now()-100)&&(ge.head==R||ge.head==G.mapping.map(E)-1)||Ei&&ge.empty&&ge.head==R)&&G.setSelection(ge)}return s&&G.setMeta("composition",s),G.scrollIntoView()},P;if(O){if(S.pos==C.pos){Ei&&Po<=11&&S.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ba(t),20));let F=k(t.state.tr.delete(R,E)),G=p.resolve(b.start).marksAcross(p.resolve(b.endA));G&&F.ensureMarks(G),t.dispatch(F)}else if(b.endA==b.endB&&(P=kZ(S.parent.content.cut(S.parentOffset,C.parentOffset),N.parent.content.cut(N.parentOffset,b.endA-N.start())))){let F=k(t.state.tr);P.type=="add"?F.addMark(R,E,P.mark):F.removeMark(R,E,P.mark),t.dispatch(F)}else if(S.parent.child(S.index()).isText&&S.index()==C.index()-(C.textOffset?0:1)){let F=S.parent.textBetween(S.parentOffset,C.parentOffset),G=()=>k(t.state.tr.insertText(F,R,E));t.someProp("handleTextInput",ge=>ge(t,R,E,F,G))||t.dispatch(G())}}else t.dispatch(k())}function gk(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:L2(t,e.resolve(n.anchor),e.resolve(n.head))}function kZ(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,a,l,u;for(let p=0;p<r.length;p++)i=r[p].removeFromSet(i);for(let p=0;p<n.length;p++)s=n[p].removeFromSet(s);if(i.length==1&&s.length==0)l=i[0],a="add",u=p=>p.mark(l.addToSet(p.marks));else if(i.length==0&&s.length==1)l=s[0],a="remove",u=p=>p.mark(l.removeFromSet(p.marks));else return null;let f=[];for(let p=0;p<e.childCount;p++)f.push(u(e.child(p)));if(He.from(f).eq(t))return{mark:l,type:a}}function OZ(t,e,n,r,i){if(n-e<=i.pos-r.pos||nb(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let l=s.nodeAfter;return l!=null&&n==e+l.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let a=t.resolve(nb(s,!0,!0));return!a.parent.isTextblock||a.pos>n||nb(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function nb(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function MZ(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let u=Math.max(0,s-Math.min(a,l));r-=a+u-s}if(a<s&&t.size<e.size){let u=r<=s&&r>=a?s-r:0;s-=u,s&&s<e.size&&yk(e.textBetween(s-1,s+1))&&(s+=u?1:-1),l=s+(l-a),a=s}else if(l<s){let u=r<=s&&r>=l?s-r:0;s-=u,s&&s<t.size&&yk(t.textBetween(s-1,s+1))&&(s+=u?1:-1),a=s+(a-l),l=s}return{start:s,endA:a,endB:l}}function yk(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class JR{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new XJ,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Sk),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=bk(this),xk(this),this.nodeViews=wk(this),this.docView=J4(this.state.doc,vk(this),tb(this),this.dom,this),this.domObserver=new wZ(this,(r,i,s,a)=>AZ(this,r,i,s,a)),this.domObserver.start(),QJ(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&P1(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Sk),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,a=!1;e.storedMarks&&this.composing&&(qR(this),a=!0),this.state=e;let l=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let v=wk(this);RZ(v,this.nodeViews)&&(this.nodeViews=v,s=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&P1(this),this.editable=bk(this),xk(this);let u=tb(this),f=vk(this),p=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",m=s||!this.docView.matchesNode(e.doc,f,u);(m||!e.selection.eq(i.selection))&&(a=!0);let y=p=="preserve"&&a&&this.dom.style.overflowAnchor==null&&dJ(this);if(a){this.domObserver.stop();let v=m&&(Ei||ti)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&DZ(i.selection,e.selection);if(m){let b=ti?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=uZ(this)),(s||!this.docView.update(e.doc,f,u,this))&&(this.docView.updateOuterDeco(f),this.docView.destroy(),this.docView=J4(e.doc,f,u,this.dom,this)),b&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&LJ(this))?Ba(this,v):(RR(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():y&&fJ(y)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof It){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&K4(this,n.getBoundingClientRect(),e)}else K4(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new YR(e.slice,e.move,i<0?void 0:It.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let a=0;a<this.directPlugins.length;a++){let l=this.directPlugins[a].props[e];if(l!=null&&(i=n?n(l):l))return i}let s=this.state.plugins;if(s)for(let a=0;a<s.length;a++){let l=s[a].props[e];if(l!=null&&(i=n?n(l):l))return i}}hasFocus(){if(Ei){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&hJ(this.dom),Ba(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return vJ(this,e)}coordsAtPos(e,n=1){return TR(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return CJ(this,n||this.state,e)}pasteHTML(e,n){return Zf(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Zf(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return P2(this,e)}destroy(){this.docView&&(JJ(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],tb(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,eJ())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return eZ(this,e)}domSelectionRange(){let e=this.domSelection();return e?di&&this.root.nodeType===11&&sJ(this.dom.ownerDocument)==this.dom&&CZ(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}JR.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function vk(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[ci.node(0,t.state.doc.content.size,e)]}function xk(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:ci.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function bk(t){return!t.someProp("editable",e=>e(t.state)===!1)}function DZ(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function wk(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function RZ(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function Sk(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Ho={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Cg={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},_Z=typeof navigator<"u"&&/Mac/.test(navigator.platform),LZ=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Hr=0;Hr<10;Hr++)Ho[48+Hr]=Ho[96+Hr]=String(Hr);for(var Hr=1;Hr<=24;Hr++)Ho[Hr+111]="F"+Hr;for(var Hr=65;Hr<=90;Hr++)Ho[Hr]=String.fromCharCode(Hr+32),Cg[Hr]=String.fromCharCode(Hr);for(var rb in Ho)Cg.hasOwnProperty(rb)||(Cg[rb]=Ho[rb]);function PZ(t){var e=_Z&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||LZ&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Cg:Ho)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const zZ=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),IZ=typeof navigator<"u"&&/Win/.test(navigator.platform);function BZ(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,a;for(let l=0;l<e.length-1;l++){let u=e[l];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))s=!0;else if(/^mod$/i.test(u))zZ?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),a&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function FZ(t){let e=Object.create(null);for(let n in t)e[BZ(n)]=t[n];return e}function ib(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function $Z(t){return new Sr({props:{handleKeyDown:V2(t)}})}function V2(t){let e=FZ(t);return function(n,r){let i=PZ(r),s,a=e[ib(i,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let l=e[ib(i,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(IZ&&r.ctrlKey&&r.altKey)&&(s=Ho[r.keyCode])&&s!=i){let l=e[ib(s,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const U2=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function ZR(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const e6=(t,e,n)=>{let r=ZR(t,n);if(!r)return!1;let i=H2(r);if(!i){let a=r.blockRange(),l=a&&Bu(a);return l==null?!1:(e&&e(t.tr.lift(a,l).scrollIntoView()),!0)}let s=i.nodeBefore;if(c6(t,i,e,-1))return!0;if(r.parent.content.size==0&&(Tu(s,"end")||It.isSelectable(s)))for(let a=r.depth;;a--){let l=Ry(t.doc,r.before(a),r.after(a),ct.empty);if(l&&l.slice.size<l.to-l.from){if(e){let u=t.tr.step(l);u.setSelection(Tu(s,"end")?Ht.findFrom(u.doc.resolve(u.mapping.map(i.pos,-1)),-1):It.create(u.doc,i.pos-s.nodeSize)),e(u.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},VZ=(t,e,n)=>{let r=ZR(t,n);if(!r)return!1;let i=H2(r);return i?t6(t,i,e):!1},UZ=(t,e,n)=>{let r=r6(t,n);if(!r)return!1;let i=q2(r);return i?t6(t,i,e):!1};function t6(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let p=i.lastChild;if(!p)return!1;i=p}let a=e.nodeAfter,l=a,u=e.pos+1;for(;!l.isTextblock;u++){if(l.type.spec.isolating)return!1;let p=l.firstChild;if(!p)return!1;l=p}let f=Ry(t.doc,s,u,ct.empty);if(!f||f.from!=s||f instanceof Rr&&f.slice.size>=u-s)return!1;if(n){let p=t.tr.step(f);p.setSelection(Ft.create(p.doc,s)),n(p.scrollIntoView())}return!0}function Tu(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const n6=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=H2(r)}let a=s&&s.nodeBefore;return!a||!It.isSelectable(a)?!1:(e&&e(t.tr.setSelection(It.create(t.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)};function H2(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function r6(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const i6=(t,e,n)=>{let r=r6(t,n);if(!r)return!1;let i=q2(r);if(!i)return!1;let s=i.nodeAfter;if(c6(t,i,e,1))return!0;if(r.parent.content.size==0&&(Tu(s,"start")||It.isSelectable(s))){let a=Ry(t.doc,r.before(),r.after(),ct.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(Tu(s,"start")?Ht.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):It.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},s6=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=q2(r)}let a=s&&s.nodeAfter;return!a||!It.isSelectable(a)?!1:(e&&e(t.tr.setSelection(It.create(t.doc,s.pos)).scrollIntoView()),!0)};function q2(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const HZ=(t,e)=>{let n=t.selection,r=n instanceof It,i;if(r){if(n.node.isTextblock||!el(t.doc,n.from))return!1;i=n.from}else if(i=Dy(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(It.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},qZ=(t,e)=>{let n=t.selection,r;if(n instanceof It){if(n.node.isTextblock||!el(t.doc,n.to))return!1;r=n.to}else if(r=Dy(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},KZ=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&Bu(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},a6=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function K2(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const YZ=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),a=K2(i.contentMatchAt(s));if(!a||!i.canReplaceWith(s,s,a))return!1;if(e){let l=n.after(),u=t.tr.replaceWith(l,l,a.createAndFill());u.setSelection(Ht.near(u.doc.resolve(l),1)),e(u.scrollIntoView())}return!0},o6=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof qi||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=K2(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=t.tr.insert(a,s.createAndFill());l.setSelection(Ft.create(l.doc,a+1)),e(l.scrollIntoView())}return!0},l6=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Ia(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Bu(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function WZ(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof It&&e.selection.node.isBlock)return!r.parentOffset||!Ia(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],a,l,u=!1,f=!1;for(let v=r.depth;;v--)if(r.node(v).isBlock){u=r.end(v)==r.pos+(r.depth-v),f=r.start(v)==r.pos-(r.depth-v),l=K2(r.node(v-1).contentMatchAt(r.indexAfter(v-1))),s.unshift(u&&l?{type:l}:null),a=v;break}else{if(v==1)return!1;s.unshift(null)}let p=e.tr;(e.selection instanceof Ft||e.selection instanceof qi)&&p.deleteSelection();let m=p.mapping.map(r.pos),y=Ia(p.doc,m,s.length,s);if(y||(s[0]=l?{type:l}:null,y=Ia(p.doc,m,s.length,s)),!y)return!1;if(p.split(m,s.length,s),!u&&f&&r.node(a).type!=l){let v=p.mapping.map(r.before(a)),b=p.doc.resolve(v);l&&r.node(a-1).canReplaceWith(b.index(),b.index()+1,l)&&p.setNodeMarkup(p.mapping.map(r.before(a)),l)}return n&&n(p.scrollIntoView()),!0}}const GZ=WZ(),XZ=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(It.create(t.doc,i))),!0)};function QZ(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||el(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function c6(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,a,l,u=i.type.spec.isolating||s.type.spec.isolating;if(!u&&QZ(t,e,n))return!0;let f=!u&&e.parent.canReplace(e.index(),e.index()+1);if(f&&(a=(l=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&l.matchType(a[0]||s.type).validEnd){if(n){let v=e.pos+s.nodeSize,b=He.empty;for(let N=a.length-1;N>=0;N--)b=He.from(a[N].create(null,b));b=He.from(i.copy(b));let S=t.tr.step(new _r(e.pos-1,v,e.pos,v,new ct(b,1,0),a.length,!0)),C=S.doc.resolve(v+2*a.length);C.nodeAfter&&C.nodeAfter.type==i.type&&el(S.doc,C.pos)&&S.join(C.pos),n(S.scrollIntoView())}return!0}let p=s.type.spec.isolating||r>0&&u?null:Ht.findFrom(e,1),m=p&&p.$from.blockRange(p.$to),y=m&&Bu(m);if(y!=null&&y>=e.depth)return n&&n(t.tr.lift(m,y).scrollIntoView()),!0;if(f&&Tu(s,"start",!0)&&Tu(i,"end")){let v=i,b=[];for(;b.push(v),!v.isTextblock;)v=v.lastChild;let S=s,C=1;for(;!S.isTextblock;S=S.firstChild)C++;if(v.canReplace(v.childCount,v.childCount,S.content)){if(n){let N=He.empty;for(let D=b.length-1;D>=0;D--)N=He.from(b[D].copy(N));let O=t.tr.step(new _r(e.pos-b.length,e.pos+s.nodeSize,e.pos+C,e.pos+s.nodeSize-C,new ct(N,b.length,0),0,!0));n(O.scrollIntoView())}return!0}}return!1}function u6(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(Ft.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const JZ=u6(-1),ZZ=u6(1);function eee(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s),l=a&&O2(a,t,e);return l?(r&&r(n.tr.wrap(a,l).scrollIntoView()),!0):!1}}function Ck(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];n.doc.nodesBetween(a,l,(u,f)=>{if(i)return!1;if(!(!u.isTextblock||u.hasMarkup(t,e)))if(u.type==t)i=!0;else{let p=n.doc.resolve(f),m=p.index();i=p.parent.canReplaceWith(m,m+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:l},$to:{pos:u}}=n.selection.ranges[a];s.setBlockType(l,u,t,e)}r(s.scrollIntoView())}return!0}}function Y2(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}Y2(U2,e6,n6);Y2(U2,i6,s6);Y2(a6,o6,l6,GZ);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function tee(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s);if(!a)return!1;let l=r?n.tr:null;return nee(l,a,t,e)?(r&&r(l.scrollIntoView()),!0):!1}}function nee(t,e,n,r=null){let i=!1,s=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let u=a.resolve(e.start-2);s=new gg(u,u,e.depth),e.endIndex<e.parent.childCount&&(e=new gg(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let l=O2(s,n,r,e);return l?(t&&ree(t,e,l,i,n),!0):!1}function ree(t,e,n,r,i){let s=He.empty;for(let p=n.length-1;p>=0;p--)s=He.from(n[p].type.create(n[p].attrs,s));t.step(new _r(e.start-(r?2:0),e.end,e.start,e.end,new ct(s,0,0),n.length,!0));let a=0;for(let p=0;p<n.length;p++)n[p].type==i&&(a=p+1);let l=n.length-a,u=e.start+n.length-(r?2:0),f=e.parent;for(let p=e.startIndex,m=e.endIndex,y=!0;p<m;p++,y=!1)!y&&Ia(t.doc,u,l)&&(t.split(u,l),u+=2*l),u+=f.child(p).nodeSize;return t}function iee(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,a=>a.childCount>0&&a.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?see(e,n,t,s):aee(e,n,s):!0:!1}}function see(t,e,n,r){let i=t.tr,s=r.end,a=r.$to.end(r.depth);s<a&&(i.step(new _r(s-1,a,s,a,new ct(He.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new gg(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));const l=Bu(r);if(l==null)return!1;i.lift(r,l);let u=i.doc.resolve(i.mapping.map(s,-1)-1);return el(i.doc,u.pos)&&u.nodeBefore.type==u.nodeAfter.type&&i.join(u.pos),e(i.scrollIntoView()),!0}function aee(t,e,n){let r=t.tr,i=n.parent;for(let v=n.end,b=n.endIndex-1,S=n.startIndex;b>S;b--)v-=i.child(b).nodeSize,r.delete(v-1,v+1);let s=r.doc.resolve(n.start),a=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,u=n.endIndex==i.childCount,f=s.node(-1),p=s.index(-1);if(!f.canReplace(p+(l?0:1),p+1,a.content.append(u?He.empty:He.from(i))))return!1;let m=s.pos,y=m+a.nodeSize;return r.step(new _r(m-(l?1:0),y+(u?1:0),m+1,y-1,new ct((l?He.empty:He.from(i.copy(He.empty))).append(u?He.empty:He.from(i.copy(He.empty))),l?0:1,u?0:1),l?0:1)),e(r.scrollIntoView()),!0}function oee(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,f=>f.childCount>0&&f.firstChild.type==t);if(!s)return!1;let a=s.startIndex;if(a==0)return!1;let l=s.parent,u=l.child(a-1);if(u.type!=t)return!1;if(n){let f=u.lastChild&&u.lastChild.type==l.type,p=He.from(f?t.create():null),m=new ct(He.from(t.create(null,He.from(l.type.create(null,p)))),f?3:1,0),y=s.start,v=s.end;n(e.tr.step(new _r(y-(f?3:1),v,y,v,m,1,!0)).scrollIntoView())}return!0}}function Iy(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}class By{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:s}=r,a=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([l,u])=>[l,(...p)=>{const m=u(...p)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:a}=i,l=[],u=!!e,f=e||s.tr,p=()=>(!u&&n&&!f.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(f),l.every(y=>y===!0)),m={...Object.fromEntries(Object.entries(r).map(([y,v])=>[y,(...S)=>{const C=this.buildProps(f,n),N=v(...S)(C);return l.push(N),m}])),run:p};return m}createCan(e){const{rawCommands:n,state:r}=this,i=!1,s=e||r.tr,a=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(n).map(([u,f])=>[u,(...p)=>f(...p)({...a,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:a}=i,l={tr:e,editor:i,view:a,state:Iy({state:s,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([u,f])=>[u,(...p)=>f(...p)(l)]))}};return l}}class lee{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}once(e,n){const r=(...i)=>{this.off(e,r),n.apply(this,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function kt(t,e,n){return t.config[e]===void 0&&t.parent?kt(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?kt(t.parent,e,n):null}):t.config[e]}function Fy(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function d6(t){const e=[],{nodeExtensions:n,markExtensions:r}=Fy(t),i=[...n,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage,extensions:i},u=kt(a,"addGlobalAttributes",l);if(!u)return;u().forEach(p=>{p.types.forEach(m=>{Object.entries(p.attributes).forEach(([y,v])=>{e.push({type:m,name:y,attribute:{...s,...v}})})})})}),i.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage},u=kt(a,"addAttributes",l);if(!u)return;const f=u();Object.entries(f).forEach(([p,m])=>{const y={...s,...m};typeof y?.default=="function"&&(y.default=y.default()),y?.isRequired&&y?.default===void 0&&delete y.default,e.push({type:a.name,name:p,attribute:y})})}),e}function Pr(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Gn(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const l=s?String(s).split(" "):[],u=r[i]?r[i].split(" "):[],f=l.filter(p=>!u.includes(p));r[i]=[...u,...f].join(" ")}else if(i==="style"){const l=s?s.split(";").map(p=>p.trim()).filter(Boolean):[],u=r[i]?r[i].split(";").map(p=>p.trim()).filter(Boolean):[],f=new Map;u.forEach(p=>{const[m,y]=p.split(":").map(v=>v.trim());f.set(m,y)}),l.forEach(p=>{const[m,y]=p.split(":").map(v=>v.trim());f.set(m,y)}),r[i]=Array.from(f.entries()).map(([p,m])=>`${p}: ${m}`).join("; ")}else r[i]=s}),r},{})}function z1(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Gn(n,r),{})}function f6(t){return typeof t=="function"}function on(t,e=void 0,...n){return f6(t)?e?t.bind(e)(...n):t(...n):t}function cee(t={}){return Object.keys(t).length===0&&t.constructor===Object}function uee(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Nk(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,a)=>{const l=a.attribute.parseHTML?a.attribute.parseHTML(n):uee(n.getAttribute(a.name));return l==null?s:{...s,[a.name]:l}},{});return{...r,...i}}}}function Tk(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&cee(n)?!1:n!=null))}function dee(t,e){var n;const r=d6(t),{nodeExtensions:i,markExtensions:s}=Fy(t),a=(n=i.find(f=>kt(f,"topNode")))===null||n===void 0?void 0:n.name,l=Object.fromEntries(i.map(f=>{const p=r.filter(N=>N.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},y=t.reduce((N,O)=>{const D=kt(O,"extendNodeSchema",m);return{...N,...D?D(f):{}}},{}),v=Tk({...y,content:on(kt(f,"content",m)),marks:on(kt(f,"marks",m)),group:on(kt(f,"group",m)),inline:on(kt(f,"inline",m)),atom:on(kt(f,"atom",m)),selectable:on(kt(f,"selectable",m)),draggable:on(kt(f,"draggable",m)),code:on(kt(f,"code",m)),whitespace:on(kt(f,"whitespace",m)),linebreakReplacement:on(kt(f,"linebreakReplacement",m)),defining:on(kt(f,"defining",m)),isolating:on(kt(f,"isolating",m)),attrs:Object.fromEntries(p.map(N=>{var O;return[N.name,{default:(O=N?.attribute)===null||O===void 0?void 0:O.default}]}))}),b=on(kt(f,"parseHTML",m));b&&(v.parseDOM=b.map(N=>Nk(N,p)));const S=kt(f,"renderHTML",m);S&&(v.toDOM=N=>S({node:N,HTMLAttributes:z1(N,p)}));const C=kt(f,"renderText",m);return C&&(v.toText=C),[f.name,v]})),u=Object.fromEntries(s.map(f=>{const p=r.filter(C=>C.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},y=t.reduce((C,N)=>{const O=kt(N,"extendMarkSchema",m);return{...C,...O?O(f):{}}},{}),v=Tk({...y,inclusive:on(kt(f,"inclusive",m)),excludes:on(kt(f,"excludes",m)),group:on(kt(f,"group",m)),spanning:on(kt(f,"spanning",m)),code:on(kt(f,"code",m)),attrs:Object.fromEntries(p.map(C=>{var N;return[C.name,{default:(N=C?.attribute)===null||N===void 0?void 0:N.default}]}))}),b=on(kt(f,"parseHTML",m));b&&(v.parseDOM=b.map(C=>Nk(C,p)));const S=kt(f,"renderHTML",m);return S&&(v.toDOM=C=>S({mark:C,HTMLAttributes:z1(C,p)})),[f.name,v]}));return new eR({topNode:a,nodes:l,marks:u})}function sb(t,e){return e.nodes[t]||e.marks[t]||null}function jk(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function W2(t,e){const n=yc.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}const fee=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,a,l)=>{var u,f;const p=((f=(u=i.type.spec).toText)===null||f===void 0?void 0:f.call(u,{node:i,pos:s,parent:a,index:l}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?p:p.slice(0,Math.max(0,r-s))}),n};function G2(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class $y{constructor(e){this.find=e.find,this.handler=e.handler}}const hee=(t,e)=>{if(G2(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function im(t){var e;const{editor:n,from:r,to:i,text:s,rules:a,plugin:l}=t,{view:u}=n;if(u.composing)return!1;const f=u.state.doc.resolve(r);if(f.parent.type.spec.code||!((e=f.nodeBefore||f.nodeAfter)===null||e===void 0)&&e.marks.find(y=>y.type.spec.code))return!1;let p=!1;const m=fee(f)+s;return a.forEach(y=>{if(p)return;const v=hee(m,y.find);if(!v)return;const b=u.state.tr,S=Iy({state:u.state,transaction:b}),C={from:r-(v[0].length-s.length),to:i},{commands:N,chain:O,can:D}=new By({editor:n,state:S});y.handler({state:S,range:C,match:v,commands:N,chain:O,can:D})===null||!b.steps.length||(b.setMeta(l,{transform:b,from:r,to:i,text:s}),u.dispatch(b),p=!0)}),p}function pee(t){const{editor:e,rules:n}=t,r=new Sr({state:{init(){return null},apply(i,s,a){const l=i.getMeta(r);if(l)return l;const u=i.getMeta("applyInputRules");return!!u&&setTimeout(()=>{let{text:p}=u;typeof p=="string"?p=p:p=W2(He.from(p),a.schema);const{from:m}=u,y=m+p.length;im({editor:e,from:m,to:y,text:p,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,a,l){return im({editor:e,from:s,to:a,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&im({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?im({editor:e,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function mee(t){return Object.prototype.toString.call(t).slice(8,-1)}function sm(t){return mee(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Vy(t,e){const n={...t};return sm(t)&&sm(e)&&Object.keys(e).forEach(r=>{sm(e[r])&&sm(t[r])?n[r]=Vy(t[r],e[r]):n[r]=e[r]}),n}class Os{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=on(kt(this,"addOptions",{name:this.name}))),this.storage=on(kt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Os(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Vy(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Os(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=on(kt(n,"addOptions",{name:n.name})),n.storage=on(kt(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const a=i.marks();if(!!!a.find(f=>f?.type.name===n.name))return!1;const u=a.find(f=>f?.type.name===n.name);return u&&r.removeStoredMark(u),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function gee(t){return typeof t=="number"}class yee{constructor(e){this.find=e.find,this.handler=e.handler}}const vee=(t,e,n)=>{if(G2(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function xee(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:a,dropEvent:l}=t,{commands:u,chain:f,can:p}=new By({editor:e,state:n}),m=[];return n.doc.nodesBetween(r,i,(v,b)=>{if(!v.isTextblock||v.type.spec.code)return;const S=Math.max(r,b),C=Math.min(i,b+v.content.size),N=v.textBetween(S-b,C-b,void 0,"");vee(N,s.find,a).forEach(D=>{if(D.index===void 0)return;const R=S+D.index+1,E=R+D[0].length,k={from:n.tr.mapping.map(R),to:n.tr.mapping.map(E)},P=s.handler({state:n,range:k,match:D,commands:u,chain:f,can:p,pasteEvent:a,dropEvent:l});m.push(P)})}),m.every(v=>v!==null)}let am=null;const bee=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function wee(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const u=({state:p,from:m,to:y,rule:v,pasteEvt:b})=>{const S=p.tr,C=Iy({state:p,transaction:S});if(!(!xee({editor:e,state:C,from:Math.max(m-1,0),to:y.b-1,rule:v,pasteEvent:b,dropEvent:l})||!S.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,S}};return n.map(p=>new Sr({view(m){const y=b=>{var S;r=!((S=m.dom.parentElement)===null||S===void 0)&&S.contains(b.target)?m.dom.parentElement:null,r&&(am=e)},v=()=>{am&&(am=null)};return window.addEventListener("dragstart",y),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",y),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:(m,y)=>{if(s=r===m.dom.parentElement,l=y,!s){const v=am;v?.isEditable&&setTimeout(()=>{const b=v.state.selection;b&&v.commands.deleteRange({from:b.from,to:b.to})},10)}return!1},paste:(m,y)=>{var v;const b=(v=y.clipboardData)===null||v===void 0?void 0:v.getData("text/html");return a=y,i=!!b?.includes("data-pm-slice"),!1}}},appendTransaction:(m,y,v)=>{const b=m[0],S=b.getMeta("uiEvent")==="paste"&&!i,C=b.getMeta("uiEvent")==="drop"&&!s,N=b.getMeta("applyPasteRules"),O=!!N;if(!S&&!C&&!O)return;if(O){let{text:E}=N;typeof E=="string"?E=E:E=W2(He.from(E),v.schema);const{from:k}=N,P=k+E.length,F=bee(E);return u({rule:p,state:v,from:k,to:{b:P},pasteEvt:F})}const D=y.doc.content.findDiffStart(v.doc.content),R=y.doc.content.findDiffEnd(v.doc.content);if(!(!gee(D)||!R||D===R.b))return u({rule:p,state:v,from:D,to:R,pasteEvt:a})}}))}function See(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}class fu{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=fu.resolve(e),this.schema=dee(this.extensions,n),this.setupExtensions()}static resolve(e){const n=fu.sort(fu.flatten(e)),r=See(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=kt(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const s=kt(r,"priority")||100,a=kt(i,"priority")||100;return s>a?-1:s<a?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:sb(n.name,this.schema)},i=kt(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=fu.sort([...this.extensions].reverse()),r=[],i=[],s=n.map(a=>{const l={name:a.name,options:a.options,storage:a.storage,editor:e,type:sb(a.name,this.schema)},u=[],f=kt(a,"addKeyboardShortcuts",l);let p={};if(a.type==="mark"&&kt(a,"exitable",l)&&(p.ArrowRight=()=>Os.handleExit({editor:e,mark:a})),f){const S=Object.fromEntries(Object.entries(f()).map(([C,N])=>[C,()=>N({editor:e})]));p={...p,...S}}const m=$Z(p);u.push(m);const y=kt(a,"addInputRules",l);jk(a,e.options.enableInputRules)&&y&&r.push(...y());const v=kt(a,"addPasteRules",l);jk(a,e.options.enablePasteRules)&&v&&i.push(...v());const b=kt(a,"addProseMirrorPlugins",l);if(b){const S=b();u.push(...S)}return u}).flat();return[pee({editor:e,rules:r}),...wee({editor:e,rules:i}),...s]}get attributes(){return d6(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=Fy(this.extensions);return Object.fromEntries(n.filter(r=>!!kt(r,"addNodeView")).map(r=>{const i=this.attributes.filter(u=>u.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:Pr(r.name,this.schema)},a=kt(r,"addNodeView",s);if(!a)return[];const l=(u,f,p,m,y)=>{const v=z1(u,i);return a()({node:u,view:f,getPos:p,decorations:m,innerDecorations:y,editor:e,extension:r,HTMLAttributes:v})};return[r.name,l]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:sb(e.name,this.schema)};e.type==="mark"&&(!((n=on(kt(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const i=kt(e,"onBeforeCreate",r),s=kt(e,"onCreate",r),a=kt(e,"onUpdate",r),l=kt(e,"onSelectionUpdate",r),u=kt(e,"onTransaction",r),f=kt(e,"onFocus",r),p=kt(e,"onBlur",r),m=kt(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),a&&this.editor.on("update",a),l&&this.editor.on("selectionUpdate",l),u&&this.editor.on("transaction",u),f&&this.editor.on("focus",f),p&&this.editor.on("blur",p),m&&this.editor.on("destroy",m)})}}class qr{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=on(kt(this,"addOptions",{name:this.name}))),this.storage=on(kt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new qr(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Vy(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new qr({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=on(kt(n,"addOptions",{name:n.name})),n.storage=on(kt(n,"addStorage",{name:n.name,options:n.options})),n}}function h6(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let l="";return t.nodesBetween(r,i,(u,f,p,m)=>{var y;u.isBlock&&f>r&&(l+=s);const v=a?.[u.type.name];if(v)return p&&(l+=v({node:u,pos:f,parent:p,index:m,range:e})),!1;u.isText&&(l+=(y=u?.text)===null||y===void 0?void 0:y.slice(Math.max(r,f)-f,i-f))}),l}function p6(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const Cee=qr.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Sr({key:new Kr("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,a=Math.min(...s.map(p=>p.$from.pos)),l=Math.max(...s.map(p=>p.$to.pos)),u=p6(n);return h6(r,{from:a,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:u})}}})]}}),Nee=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),Tee=(t=!1)=>({commands:e})=>e.setContent("",t),jee=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:a})=>{t.doc.nodesBetween(s.pos,a.pos,(l,u)=>{if(l.type.isText)return;const{doc:f,mapping:p}=e,m=f.resolve(p.map(u)),y=f.resolve(p.map(u+l.nodeSize)),v=m.blockRange(y);if(!v)return;const b=Bu(v);if(l.type.isTextblock){const{defaultType:S}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(v.start,S)}(b||b===0)&&e.lift(v,b)})}),!0},Eee=t=>e=>t(e),Aee=()=>({state:t,dispatch:e})=>o6(t,e),kee=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const a=r.mapping.map(e);return r.insert(a,s.content),r.setSelection(new Ft(r.doc.resolve(Math.max(a-1,0)))),!0},Oee=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const l=i.before(s),u=i.after(s);t.delete(l,u).scrollIntoView()}return!0}return!1},Mee=t=>({tr:e,state:n,dispatch:r})=>{const i=Pr(t,n.schema),s=e.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===i){if(r){const u=s.before(a),f=s.after(a);e.delete(u,f).scrollIntoView()}return!0}return!1},Dee=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},Ree=()=>({state:t,dispatch:e})=>U2(t,e),_ee=()=>({commands:t})=>t.keyboardShortcut("Enter"),Lee=()=>({state:t,dispatch:e})=>YZ(t,e);function Ng(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:G2(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function m6(t,e,n={}){return t.find(r=>r.type===e&&Ng(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function Ek(t,e,n={}){return!!m6(t,e,n)}function X2(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(p=>p.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(p=>p.type===e)||(n=n||((r=i.node.marks[0])===null||r===void 0?void 0:r.attrs),!m6([...i.node.marks],e,n)))return;let a=i.index,l=t.start()+i.offset,u=a+1,f=l+i.node.nodeSize;for(;a>0&&Ek([...t.parent.child(a-1).marks],e,n);)a-=1,l-=t.parent.child(a).nodeSize;for(;u<t.parent.childCount&&Ek([...t.parent.child(u).marks],e,n);)f+=t.parent.child(u).nodeSize,u+=1;return{from:l,to:f}}function nl(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const Pee=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=nl(t,r.schema),{doc:a,selection:l}=n,{$from:u,from:f,to:p}=l;if(i){const m=X2(u,s,e);if(m&&m.from<=f&&m.to>=p){const y=Ft.create(a,m.from,m.to);n.setSelection(y)}}return!0},zee=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function Q2(t){return t instanceof Ft}function Pa(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function g6(t,e=null){if(!e)return null;const n=Ht.atStart(t),r=Ht.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?Ft.create(t,Pa(0,i,s),Pa(t.content.size,i,s)):Ft.create(t,Pa(e,i,s),Pa(e,i,s))}function Iee(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function J2(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const Bee=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const a=()=>{(J2()||Iee())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!Q2(n.state.selection))return a(),!0;const l=g6(i.doc,t)||n.state.selection,u=n.state.selection.eq(l);return s&&(u||i.setSelection(l),u&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},Fee=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),$ee=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),y6=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&y6(r)}return t};function om(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return y6(n)}function th(t,e,n){if(t instanceof Lo||t instanceof He)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return He.fromArray(t.map(l=>e.nodeFromJSON(l)));const a=e.nodeFromJSON(t);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),th("",e,n)}if(i){if(n.errorOnInvalidContent){let a=!1,l="";const u=new eR({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:f=>(a=!0,l=typeof f=="string"?f:f.outerHTML,null)}]}})});if(n.slice?vf.fromSchema(u).parseSlice(om(t),n.parseOptions):vf.fromSchema(u).parse(om(t),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const s=vf.fromSchema(e);return n.slice?s.parseSlice(om(t),n.parseOptions).content:s.parse(om(t),n.parseOptions)}return th("",e,n)}function Vee(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof Rr||i instanceof _r))return;const s=t.mapping.maps[r];let a=0;s.forEach((l,u,f,p)=>{a===0&&(a=p)}),t.setSelection(Ht.near(t.doc.resolve(a),n))}const Uee=t=>!("type"in t),Hee=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var a;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;const u=C=>{s.emit("contentError",{editor:s,error:C,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},f={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{th(e,s.schema,{parseOptions:f,errorOnInvalidContent:!0})}catch(C){u(C)}try{l=th(e,s.schema,{parseOptions:f,errorOnInvalidContent:(a=n.errorOnInvalidContent)!==null&&a!==void 0?a:s.options.enableContentCheck})}catch(C){return u(C),!1}let{from:p,to:m}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},y=!0,v=!0;if((Uee(l)?l:[l]).forEach(C=>{C.check(),y=y?C.isText&&C.marks.length===0:!1,v=v?C.isBlock:!1}),p===m&&v){const{parent:C}=r.doc.resolve(p);C.isTextblock&&!C.type.spec.code&&!C.childCount&&(p-=1,m+=1)}let S;if(y){if(Array.isArray(e))S=e.map(C=>C.text||"").join("");else if(e instanceof He){let C="";e.forEach(N=>{N.text&&(C+=N.text)}),S=C}else typeof e=="object"&&e&&e.text?S=e.text:S=e;r.insertText(S,p,m)}else S=l,r.replaceWith(p,m,S);n.updateSelection&&Vee(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:p,text:S}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:p,text:S})}return!0},qee=()=>({state:t,dispatch:e})=>HZ(t,e),Kee=()=>({state:t,dispatch:e})=>qZ(t,e),Yee=()=>({state:t,dispatch:e})=>e6(t,e),Wee=()=>({state:t,dispatch:e})=>i6(t,e),Gee=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Dy(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},Xee=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Dy(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},Qee=()=>({state:t,dispatch:e})=>VZ(t,e),Jee=()=>({state:t,dispatch:e})=>UZ(t,e);function v6(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Zee(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,a;for(let l=0;l<e.length-1;l+=1){const u=e[l];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))s=!0;else if(/^mod$/i.test(u))J2()||v6()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${u}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}const ete=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=Zee(t).split(/-(?!$)/),a=s.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),l=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),u=e.captureTransaction(()=>{n.someProp("handleKeyDown",f=>f(n,l))});return u?.steps.forEach(f=>{const p=f.map(r.mapping);p&&i&&r.maybeStep(p)}),!0};function nh(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,a=e?Pr(e,t.schema):null,l=[];t.doc.nodesBetween(r,i,(m,y)=>{if(m.isText)return;const v=Math.max(r,y),b=Math.min(i,y+m.nodeSize);l.push({node:m,from:v,to:b})});const u=i-r,f=l.filter(m=>a?a.name===m.node.type.name:!0).filter(m=>Ng(m.node.attrs,n,{strict:!1}));return s?!!f.length:f.reduce((m,y)=>m+y.to-y.from,0)>=u}const tte=(t,e={})=>({state:n,dispatch:r})=>{const i=Pr(t,n.schema);return nh(n,i,e)?KZ(n,r):!1},nte=()=>({state:t,dispatch:e})=>l6(t,e),rte=t=>({state:e,dispatch:n})=>{const r=Pr(t,e.schema);return iee(r)(e,n)},ite=()=>({state:t,dispatch:e})=>a6(t,e);function Uy(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Ak(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const ste=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,a=null;const l=Uy(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(s=Pr(t,r.schema)),l==="mark"&&(a=nl(t,r.schema)),i&&n.selection.ranges.forEach(u=>{r.doc.nodesBetween(u.$from.pos,u.$to.pos,(f,p)=>{s&&s===f.type&&n.setNodeMarkup(p,void 0,Ak(f.attrs,e)),a&&f.marks.length&&f.marks.forEach(m=>{a===m.type&&n.addMark(p,p+f.nodeSize,a.create(Ak(m.attrs,e)))})})}),!0):!1},ate=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),ote=()=>({tr:t,dispatch:e})=>{if(e){const n=new qi(t.doc);t.setSelection(n)}return!0},lte=()=>({state:t,dispatch:e})=>n6(t,e),cte=()=>({state:t,dispatch:e})=>s6(t,e),ute=()=>({state:t,dispatch:e})=>XZ(t,e),dte=()=>({state:t,dispatch:e})=>ZZ(t,e),fte=()=>({state:t,dispatch:e})=>JZ(t,e);function I1(t,e,n={},r={}){return th(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const hte=(t,e=!1,n={},r={})=>({editor:i,tr:s,dispatch:a,commands:l})=>{var u,f;const{doc:p}=s;if(n.preserveWhitespace!=="full"){const m=I1(t,i.schema,n,{errorOnInvalidContent:(u=r.errorOnInvalidContent)!==null&&u!==void 0?u:i.options.enableContentCheck});return a&&s.replaceWith(0,p.content.size,m).setMeta("preventUpdate",!e),!0}return a&&s.setMeta("preventUpdate",!e),l.insertContentAt({from:0,to:p.content.size},t,{parseOptions:n,errorOnInvalidContent:(f=r.errorOnInvalidContent)!==null&&f!==void 0?f:i.options.enableContentCheck})};function x6(t,e){const n=nl(e,t.schema),{from:r,to:i,empty:s}=t.selection,a=[];s?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,u=>{a.push(...u.marks)});const l=a.find(u=>u.type.name===n.name);return l?{...l.attrs}:{}}function pte(t,e){const n=new M2(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function mte(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function gte(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function b6(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Z2(t){return e=>b6(e.$from,t)}function yte(t,e){const n={from:0,to:t.content.size};return h6(t,n,e)}function vte(t,e){const n=Pr(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,l=>{s.push(l)});const a=s.reverse().find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function w6(t,e){const n=Uy(typeof e=="string"?e:e.name,t.schema);return n==="node"?vte(t,e):n==="mark"?x6(t,e):{}}function xte(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function bte(t){const e=xte(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,a)=>a!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function wte(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,s)=>{const a=[];if(i.ranges.length)i.forEach((l,u)=>{a.push({from:l,to:u})});else{const{from:l,to:u}=n[s];if(l===void 0||u===void 0)return;a.push({from:l,to:u})}a.forEach(({from:l,to:u})=>{const f=e.slice(s).map(l,-1),p=e.slice(s).map(u),m=e.invert().map(f,-1),y=e.invert().map(p);r.push({oldRange:{from:m,to:y},newRange:{from:f,to:p}})})}),bte(r)}function eS(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),a=X2(s,i.type);a&&r.push({mark:i,...a})}):n.nodesBetween(t,e,(i,s)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(a=>({from:s,to:s+i.nodeSize,mark:a})))}),r}function Im(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function B1(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?nl(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(m=>s?s.name===m.type.name:!0).find(m=>Ng(m.attrs,n,{strict:!1}));let a=0;const l=[];if(i.forEach(({$from:m,$to:y})=>{const v=m.pos,b=y.pos;t.doc.nodesBetween(v,b,(S,C)=>{if(!S.isText&&!S.marks.length)return;const N=Math.max(v,C),O=Math.min(b,C+S.nodeSize),D=O-N;a+=D,l.push(...S.marks.map(R=>({mark:R,from:N,to:O})))})}),a===0)return!1;const u=l.filter(m=>s?s.name===m.mark.type.name:!0).filter(m=>Ng(m.mark.attrs,n,{strict:!1})).reduce((m,y)=>m+y.to-y.from,0),f=l.filter(m=>s?m.mark.type!==s&&m.mark.type.excludes(s):!0).reduce((m,y)=>m+y.to-y.from,0);return(u>0?u+f:u)>=a}function Ste(t,e,n={}){if(!e)return nh(t,null,n)||B1(t,null,n);const r=Uy(e,t.schema);return r==="node"?nh(t,e,n):r==="mark"?B1(t,e,n):!1}function kk(t,e){const{nodeExtensions:n}=Fy(e),r=n.find(a=>a.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=on(kt(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function tS(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!==null&&r!==void 0?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(tS(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function S6(t){return t instanceof It}function Cte(t,e,n){const i=t.state.doc.content.size,s=Pa(e,0,i),a=Pa(n,0,i),l=t.coordsAtPos(s),u=t.coordsAtPos(a,-1),f=Math.min(l.top,u.top),p=Math.max(l.bottom,u.bottom),m=Math.min(l.left,u.left),y=Math.max(l.right,u.right),v=y-m,b=p-f,N={top:f,bottom:p,left:m,right:y,width:v,height:b,x:m,y:f};return{...N,toJSON:()=>N}}function Nte(t,e,n){var r;const{selection:i}=e;let s=null;if(Q2(i)&&(s=i.$cursor),s){const l=(r=t.storedMarks)!==null&&r!==void 0?r:s.marks();return!!n.isInSet(l)||!l.some(u=>u.type.excludes(n))}const{ranges:a}=i;return a.some(({$from:l,$to:u})=>{let f=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,u.pos,(p,m,y)=>{if(f)return!1;if(p.isInline){const v=!y||y.type.allowsMarkType(n),b=!!n.isInSet(p.marks)||!p.marks.some(S=>S.type.excludes(n));f=v&&b}return!f}),f})}const Tte=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:a,ranges:l}=s,u=nl(t,r.schema);if(i)if(a){const f=x6(r,u);n.addStoredMark(u.create({...f,...e}))}else l.forEach(f=>{const p=f.$from.pos,m=f.$to.pos;r.doc.nodesBetween(p,m,(y,v)=>{const b=Math.max(v,p),S=Math.min(v+y.nodeSize,m);y.marks.find(N=>N.type===u)?y.marks.forEach(N=>{u===N.type&&n.addMark(b,S,u.create({...N.attrs,...e}))}):n.addMark(b,S,u.create(e))})});return Nte(r,n,u)},jte=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),Ete=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=Pr(t,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:l})=>Ck(s,{...a,...e})(n)?!0:l.clearNodes()).command(({state:l})=>Ck(s,{...a,...e})(l,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Ate=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=Pa(t,0,r.content.size),s=It.create(r,i);e.setSelection(s)}return!0},kte=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,a=Ft.atStart(r).from,l=Ft.atEnd(r).to,u=Pa(i,a,l),f=Pa(s,a,l),p=Ft.create(r,u,f);e.setSelection(p)}return!0},Ote=t=>({state:e,dispatch:n})=>{const r=Pr(t,e.schema);return oee(r)(e,n)};function Ok(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e?.includes(i.type.name));t.tr.ensureMarks(r)}}const Mte=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:a}=e,{$from:l,$to:u}=s,f=i.extensionManager.attributes,p=Im(f,l.node().type.name,l.node().attrs);if(s instanceof It&&s.node.isBlock)return!l.parentOffset||!Ia(a,l.pos)?!1:(r&&(t&&Ok(n,i.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const m=u.parentOffset===u.parent.content.size,y=l.depth===0?void 0:mte(l.node(-1).contentMatchAt(l.indexAfter(-1)));let v=m&&y?[{type:y,attrs:p}]:void 0,b=Ia(e.doc,e.mapping.map(l.pos),1,v);if(!v&&!b&&Ia(e.doc,e.mapping.map(l.pos),1,y?[{type:y}]:void 0)&&(b=!0,v=y?[{type:y,attrs:p}]:void 0),r){if(b&&(s instanceof Ft&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,v),y&&!m&&!l.parentOffset&&l.parent.type!==y)){const S=e.mapping.map(l.before()),C=e.doc.resolve(S);l.node(-1).canReplaceWith(C.index(),C.index()+1,y)&&e.setNodeMarkup(e.mapping.map(l.before()),y)}t&&Ok(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return b},Dte=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var a;const l=Pr(t,r.schema),{$from:u,$to:f}=r.selection,p=r.selection.node;if(p&&p.isBlock||u.depth<2||!u.sameParent(f))return!1;const m=u.node(-1);if(m.type!==l)return!1;const y=s.extensionManager.attributes;if(u.parent.content.size===0&&u.node(-1).childCount===u.indexAfter(-1)){if(u.depth===2||u.node(-3).type!==l||u.index(-2)!==u.node(-2).childCount-1)return!1;if(i){let N=He.empty;const O=u.index(-1)?1:u.index(-2)?2:3;for(let F=u.depth-O;F>=u.depth-3;F-=1)N=He.from(u.node(F).copy(N));const D=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,R={...Im(y,u.node().type.name,u.node().attrs),...e},E=((a=l.contentMatch.defaultType)===null||a===void 0?void 0:a.createAndFill(R))||void 0;N=N.append(He.from(l.createAndFill(null,E)||void 0));const k=u.before(u.depth-(O-1));n.replace(k,u.after(-D),new ct(N,4-O,0));let P=-1;n.doc.nodesBetween(k,n.doc.content.size,(F,G)=>{if(P>-1)return!1;F.isTextblock&&F.content.size===0&&(P=G+1)}),P>-1&&n.setSelection(Ft.near(n.doc.resolve(P))),n.scrollIntoView()}return!0}const v=f.pos===u.end()?m.contentMatchAt(0).defaultType:null,b={...Im(y,m.type.name,m.attrs),...e},S={...Im(y,u.node().type.name,u.node().attrs),...e};n.delete(u.pos,f.pos);const C=v?[{type:l,attrs:b},{type:v,attrs:S}]:[{type:l,attrs:b}];if(!Ia(n.doc,u.pos,2))return!1;if(i){const{selection:N,storedMarks:O}=r,{splittableMarks:D}=s.extensionManager,R=O||N.$to.parentOffset&&N.$from.marks();if(n.split(u.pos,2,C).scrollIntoView(),!R||!i)return!0;const E=R.filter(k=>D.includes(k.type.name));n.ensureMarks(E)}return!0},ab=(t,e)=>{const n=Z2(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&el(t.doc,n.pos)&&t.join(n.pos),!0},ob=(t,e)=>{const n=Z2(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&el(t.doc,r)&&t.join(r),!0},Rte=(t,e,n,r={})=>({editor:i,tr:s,state:a,dispatch:l,chain:u,commands:f,can:p})=>{const{extensions:m,splittableMarks:y}=i.extensionManager,v=Pr(t,a.schema),b=Pr(e,a.schema),{selection:S,storedMarks:C}=a,{$from:N,$to:O}=S,D=N.blockRange(O),R=C||S.$to.parentOffset&&S.$from.marks();if(!D)return!1;const E=Z2(k=>kk(k.type.name,m))(S);if(D.depth>=1&&E&&D.depth-E.depth<=1){if(E.node.type===v)return f.liftListItem(b);if(kk(E.node.type.name,m)&&v.validContent(E.node.content)&&l)return u().command(()=>(s.setNodeMarkup(E.pos,v),!0)).command(()=>ab(s,v)).command(()=>ob(s,v)).run()}return!n||!R||!l?u().command(()=>p().wrapInList(v,r)?!0:f.clearNodes()).wrapInList(v,r).command(()=>ab(s,v)).command(()=>ob(s,v)).run():u().command(()=>{const k=p().wrapInList(v,r),P=R.filter(F=>y.includes(F.type.name));return s.ensureMarks(P),k?!0:f.clearNodes()}).wrapInList(v,r).command(()=>ab(s,v)).command(()=>ob(s,v)).run()},_te=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,a=nl(t,r.schema);return B1(r,a,e)?i.unsetMark(a,{extendEmptyMarkRange:s}):i.setMark(a,e)},Lte=(t,e,n={})=>({state:r,commands:i})=>{const s=Pr(t,r.schema),a=Pr(e,r.schema),l=nh(r,s,n);let u;return r.selection.$anchor.sameParent(r.selection.$head)&&(u=r.selection.$anchor.parent.attrs),l?i.setNode(a,u):i.setNode(s,{...u,...n})},Pte=(t,e={})=>({state:n,commands:r})=>{const i=Pr(t,n.schema);return nh(n,i,e)?r.lift(i):r.wrapIn(i,e)},zte=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const a=t.tr,l=s.transform;for(let u=l.steps.length-1;u>=0;u-=1)a.step(l.steps[u].invert(l.docs[u]));if(s.text){const u=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,t.schema.text(s.text,u))}else a.delete(s.from,s.to)}return!0}}return!1},Ite=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},Bte=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:a=!1}=e,{selection:l}=n,u=nl(t,r.schema),{$from:f,empty:p,ranges:m}=l;if(!i)return!0;if(p&&a){let{from:y,to:v}=l;const b=(s=f.marks().find(C=>C.type===u))===null||s===void 0?void 0:s.attrs,S=X2(f,u,b);S&&(y=S.from,v=S.to),n.removeMark(y,v,u)}else m.forEach(y=>{n.removeMark(y.$from.pos,y.$to.pos,u)});return n.removeStoredMark(u),!0},Fte=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,a=null;const l=Uy(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(s=Pr(t,r.schema)),l==="mark"&&(a=nl(t,r.schema)),i&&n.selection.ranges.forEach(u=>{const f=u.$from.pos,p=u.$to.pos;let m,y,v,b;n.selection.empty?r.doc.nodesBetween(f,p,(S,C)=>{s&&s===S.type&&(v=Math.max(C,f),b=Math.min(C+S.nodeSize,p),m=C,y=S)}):r.doc.nodesBetween(f,p,(S,C)=>{C<f&&s&&s===S.type&&(v=Math.max(C,f),b=Math.min(C+S.nodeSize,p),m=C,y=S),C>=f&&C<=p&&(s&&s===S.type&&n.setNodeMarkup(C,void 0,{...S.attrs,...e}),a&&S.marks.length&&S.marks.forEach(N=>{if(a===N.type){const O=Math.max(C,f),D=Math.min(C+S.nodeSize,p);n.addMark(O,D,a.create({...N.attrs,...e}))}}))}),y&&(m!==void 0&&n.setNodeMarkup(m,void 0,{...y.attrs,...e}),a&&y.marks.length&&y.marks.forEach(S=>{a===S.type&&n.addMark(v,b,a.create({...S.attrs,...e}))}))}),!0):!1},$te=(t,e={})=>({state:n,dispatch:r})=>{const i=Pr(t,n.schema);return eee(i,e)(n,r)},Vte=(t,e={})=>({state:n,dispatch:r})=>{const i=Pr(t,n.schema);return tee(i,e)(n,r)};var Ute=Object.freeze({__proto__:null,blur:Nee,clearContent:Tee,clearNodes:jee,command:Eee,createParagraphNear:Aee,cut:kee,deleteCurrentNode:Oee,deleteNode:Mee,deleteRange:Dee,deleteSelection:Ree,enter:_ee,exitCode:Lee,extendMarkRange:Pee,first:zee,focus:Bee,forEach:Fee,insertContent:$ee,insertContentAt:Hee,joinBackward:Yee,joinDown:Kee,joinForward:Wee,joinItemBackward:Gee,joinItemForward:Xee,joinTextblockBackward:Qee,joinTextblockForward:Jee,joinUp:qee,keyboardShortcut:ete,lift:tte,liftEmptyBlock:nte,liftListItem:rte,newlineInCode:ite,resetAttributes:ste,scrollIntoView:ate,selectAll:ote,selectNodeBackward:lte,selectNodeForward:cte,selectParentNode:ute,selectTextblockEnd:dte,selectTextblockStart:fte,setContent:hte,setMark:Tte,setMeta:jte,setNode:Ete,setNodeSelection:Ate,setTextSelection:kte,sinkListItem:Ote,splitBlock:Mte,splitListItem:Dte,toggleList:Rte,toggleMark:_te,toggleNode:Lte,toggleWrap:Pte,undoInputRule:zte,unsetAllMarks:Ite,unsetMark:Bte,updateAttributes:Fte,wrapIn:$te,wrapInList:Vte});const Hte=qr.create({name:"commands",addCommands(){return{...Ute}}}),qte=qr.create({name:"drop",addProseMirrorPlugins(){return[new Sr({key:new Kr("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),Kte=qr.create({name:"editable",addProseMirrorPlugins(){return[new Sr({key:new Kr("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Yte=new Kr("focusEvents"),Wte=qr.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Sr({key:Yte,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),Gte=qr.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:l})=>{const{selection:u,doc:f}=l,{empty:p,$anchor:m}=u,{pos:y,parent:v}=m,b=m.parent.isTextblock&&y>0?l.doc.resolve(y-1):m,S=b.parent.type.spec.isolating,C=m.pos-m.parentOffset,N=S&&b.parent.childCount===1?C===m.pos:Ht.atStart(f).from===y;return!p||!v.type.isTextblock||v.textContent.length||!N||N&&m.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return J2()||v6()?s:i},addProseMirrorPlugins(){return[new Sr({key:new Kr("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(S=>S.getMeta("composition")))return;const r=t.some(S=>S.docChanged)&&!e.doc.eq(n.doc),i=t.some(S=>S.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:a,to:l}=e.selection,u=Ht.atStart(e.doc).from,f=Ht.atEnd(e.doc).to;if(s||!(a===u&&l===f)||!tS(n.doc))return;const y=n.tr,v=Iy({state:n,transaction:y}),{commands:b}=new By({editor:this.editor,state:v});if(b.clearNodes(),!!y.steps.length)return y}})]}}),Xte=qr.create({name:"paste",addProseMirrorPlugins(){return[new Sr({key:new Kr("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),Qte=qr.create({name:"tabindex",addProseMirrorPlugins(){return[new Sr({key:new Kr("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Ol{get name(){return this.node.type.name}constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Ol(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Ol(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Ol(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,a=this.pos+r+(s?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(a);if(!i&&l.depth<=this.depth)return;const u=new Ol(l,this.editor,i,i?n:null);i&&(u.actualDepth=this.depth+1),e.push(new Ol(l,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,a=Object.keys(n);for(let l=0;l<a.length;l+=1){const u=a[l];if(s[u]!==n[u])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(a=>{r&&i.length>0||(a.node.type.name===e&&s.every(u=>n[u]===a.node.attrs[u])&&i.push(a),!(r&&i.length>0)&&(i=i.concat(a.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const Jte=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function Zte(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}class ene extends lee{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:r,moved:i})=>this.options.onDrop(n,r,i)),this.on("paste",({event:n,slice:r})=>this.options.onPaste(n,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=Zte(Jte,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=f6(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(e).forEach(s=>{const a=typeof s=="string"?`${s}$`:s.key;r=r.filter(l=>!l.key.startsWith(a))}),n.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,n;const i=[...this.options.enableCoreExtensions?[Kte,Cee.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),Hte,Wte,Gte,Qte,qte,Xte].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s?.type));this.extensionManager=new fu(i,this)}createCommandManager(){this.commandManager=new By({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let n;try{n=I1(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(a){if(!(a instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(a.message))throw a;this.emit("contentError",{editor:this,error:a,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(l=>l.name!=="collaboration"),this.createExtensionManager()}}),n=I1(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=g6(n,this.options.autofocus);this.view=new JR(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:du.create({doc:n,selection:r||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(a=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(a)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return w6(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return Ste(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return W2(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return yte(this.state.doc,{blockSeparator:n,textSerializers:{...p6(this.schema),...r}})}get isEmpty(){return tS(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new Ol(n,this)}get $doc(){return this.$pos(0)}}function ju(t){return new $y({find:t.find,handler:({state:e,range:n,match:r})=>{const i=on(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,a=r[r.length-1],l=r[0];if(a){const u=l.search(/\S/),f=n.from+l.indexOf(a),p=f+a.length;if(eS(n.from,n.to,e.doc).filter(v=>v.mark.type.excluded.find(S=>S===t.type&&S!==v.mark.type)).filter(v=>v.to>f).length)return null;p<n.to&&s.delete(p,n.to),f>n.from&&s.delete(n.from+u,f);const y=n.from+u+a.length;s.addMark(n.from+u,y,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}function C6(t){return new $y({find:t.find,handler:({state:e,range:n,match:r})=>{const i=on(t.getAttributes,void 0,r)||{},{tr:s}=e,a=n.from;let l=n.to;const u=t.type.create(i);if(r[1]){const f=r[0].lastIndexOf(r[1]);let p=a+f;p>l?p=l:l=p+r[1].length;const m=r[0][r[0].length-1];s.insertText(m,a+r[0].length-1),s.replaceWith(p,l,u)}else if(r[0]){const f=t.type.isInline?a:a-1;s.insert(f,t.type.create(i)).delete(s.mapping.map(a),s.mapping.map(l))}s.scrollIntoView()}})}function F1(t){return new $y({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=on(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)}})}function rh(t){return new $y({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=on(t.getAttributes,void 0,r)||{},a=e.tr.delete(n.from,n.to),u=a.doc.resolve(n.from).blockRange(),f=u&&O2(u,t.type,s);if(!f)return null;if(a.wrap(u,f),t.keepMarks&&t.editor){const{selection:m,storedMarks:y}=e,{splittableMarks:v}=t.editor.extensionManager,b=y||m.$to.parentOffset&&m.$from.marks();if(b){const S=b.filter(C=>v.includes(C.type.name));a.ensureMarks(S)}}if(t.keepAttributes){const m=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(m,s).run()}const p=a.doc.resolve(n.from-1).nodeBefore;p&&p.type===t.type&&el(a.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,p))&&a.join(n.from-1)}})}class lr{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=on(kt(this,"addOptions",{name:this.name}))),this.storage=on(kt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new lr(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Vy(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new lr(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=on(kt(n,"addOptions",{name:n.name})),n.storage=on(kt(n,"addStorage",{name:n.name,options:n.options})),n}}function oc(t){return new yee({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=on(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:a}=e,l=r[r.length-1],u=r[0];let f=n.to;if(l){const p=u.search(/\S/),m=n.from+u.indexOf(l),y=m+l.length;if(eS(n.from,n.to,e.doc).filter(b=>b.mark.type.excluded.find(C=>C===t.type&&C!==b.mark.type)).filter(b=>b.to>m).length)return null;y<n.to&&a.delete(y,n.to),m>n.from&&a.delete(n.from+p,m),f=n.from+p+l.length,a.addMark(n.from+p,f,t.type.create(s||{})),a.removeStoredMark(t.type)}}})}function tne(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof It){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}var Ai="top",ms="bottom",gs="right",ki="left",nS="auto",Oh=[Ai,ms,gs,ki],Eu="start",ih="end",nne="clippingParents",N6="viewport",Xd="popper",rne="reference",Mk=Oh.reduce(function(t,e){return t.concat([e+"-"+Eu,e+"-"+ih])},[]),T6=[].concat(Oh,[nS]).reduce(function(t,e){return t.concat([e,e+"-"+Eu,e+"-"+ih])},[]),ine="beforeRead",sne="read",ane="afterRead",one="beforeMain",lne="main",cne="afterMain",une="beforeWrite",dne="write",fne="afterWrite",hne=[ine,sne,ane,one,lne,cne,une,dne,fne];function aa(t){return t?(t.nodeName||"").toLowerCase():null}function Ki(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function lc(t){var e=Ki(t).Element;return t instanceof e||t instanceof Element}function hs(t){var e=Ki(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function rS(t){if(typeof ShadowRoot>"u")return!1;var e=Ki(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function pne(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!hs(s)||!aa(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(a){var l=i[a];l===!1?s.removeAttribute(a):s.setAttribute(a,l===!0?"":l)}))})}function mne(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),l=a.reduce(function(u,f){return u[f]="",u},{});!hs(i)||!aa(i)||(Object.assign(i.style,l),Object.keys(s).forEach(function(u){i.removeAttribute(u)}))})}}const j6={name:"applyStyles",enabled:!0,phase:"write",fn:pne,effect:mne,requires:["computeStyles"]};function ta(t){return t.split("-")[0]}var Ql=Math.max,Tg=Math.min,Au=Math.round;function $1(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function E6(){return!/^((?!chrome|android).)*safari/i.test($1())}function ku(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&hs(t)&&(i=t.offsetWidth>0&&Au(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Au(r.height)/t.offsetHeight||1);var a=lc(t)?Ki(t):window,l=a.visualViewport,u=!E6()&&n,f=(r.left+(u&&l?l.offsetLeft:0))/i,p=(r.top+(u&&l?l.offsetTop:0))/s,m=r.width/i,y=r.height/s;return{width:m,height:y,top:p,right:f+m,bottom:p+y,left:f,x:f,y:p}}function iS(t){var e=ku(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function A6(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&rS(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ua(t){return Ki(t).getComputedStyle(t)}function gne(t){return["table","td","th"].indexOf(aa(t))>=0}function rl(t){return((lc(t)?t.ownerDocument:t.document)||window.document).documentElement}function Hy(t){return aa(t)==="html"?t:t.assignedSlot||t.parentNode||(rS(t)?t.host:null)||rl(t)}function Dk(t){return!hs(t)||Ua(t).position==="fixed"?null:t.offsetParent}function yne(t){var e=/firefox/i.test($1()),n=/Trident/i.test($1());if(n&&hs(t)){var r=Ua(t);if(r.position==="fixed")return null}var i=Hy(t);for(rS(i)&&(i=i.host);hs(i)&&["html","body"].indexOf(aa(i))<0;){var s=Ua(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Mh(t){for(var e=Ki(t),n=Dk(t);n&&gne(n)&&Ua(n).position==="static";)n=Dk(n);return n&&(aa(n)==="html"||aa(n)==="body"&&Ua(n).position==="static")?e:n||yne(t)||e}function sS(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Sf(t,e,n){return Ql(t,Tg(e,n))}function vne(t,e,n){var r=Sf(t,e,n);return r>n?n:r}function k6(){return{top:0,right:0,bottom:0,left:0}}function O6(t){return Object.assign({},k6(),t)}function M6(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var xne=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,O6(typeof e!="number"?e:M6(e,Oh))};function bne(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,a=n.modifiersData.popperOffsets,l=ta(n.placement),u=sS(l),f=[ki,gs].indexOf(l)>=0,p=f?"height":"width";if(!(!s||!a)){var m=xne(i.padding,n),y=iS(s),v=u==="y"?Ai:ki,b=u==="y"?ms:gs,S=n.rects.reference[p]+n.rects.reference[u]-a[u]-n.rects.popper[p],C=a[u]-n.rects.reference[u],N=Mh(s),O=N?u==="y"?N.clientHeight||0:N.clientWidth||0:0,D=S/2-C/2,R=m[v],E=O-y[p]-m[b],k=O/2-y[p]/2+D,P=Sf(R,k,E),F=u;n.modifiersData[r]=(e={},e[F]=P,e.centerOffset=P-k,e)}}function wne(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||A6(e.elements.popper,i)&&(e.elements.arrow=i))}const Sne={name:"arrow",enabled:!0,phase:"main",fn:bne,effect:wne,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ou(t){return t.split("-")[1]}var Cne={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Nne(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Au(n*i)/i||0,y:Au(r*i)/i||0}}function Rk(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,a=t.offsets,l=t.position,u=t.gpuAcceleration,f=t.adaptive,p=t.roundOffsets,m=t.isFixed,y=a.x,v=y===void 0?0:y,b=a.y,S=b===void 0?0:b,C=typeof p=="function"?p({x:v,y:S}):{x:v,y:S};v=C.x,S=C.y;var N=a.hasOwnProperty("x"),O=a.hasOwnProperty("y"),D=ki,R=Ai,E=window;if(f){var k=Mh(n),P="clientHeight",F="clientWidth";if(k===Ki(n)&&(k=rl(n),Ua(k).position!=="static"&&l==="absolute"&&(P="scrollHeight",F="scrollWidth")),k=k,i===Ai||(i===ki||i===gs)&&s===ih){R=ms;var G=m&&k===E&&E.visualViewport?E.visualViewport.height:k[P];S-=G-r.height,S*=u?1:-1}if(i===ki||(i===Ai||i===ms)&&s===ih){D=gs;var ge=m&&k===E&&E.visualViewport?E.visualViewport.width:k[F];v-=ge-r.width,v*=u?1:-1}}var oe=Object.assign({position:l},f&&Cne),ne=p===!0?Nne({x:v,y:S},Ki(n)):{x:v,y:S};if(v=ne.x,S=ne.y,u){var ee;return Object.assign({},oe,(ee={},ee[R]=O?"0":"",ee[D]=N?"0":"",ee.transform=(E.devicePixelRatio||1)<=1?"translate("+v+"px, "+S+"px)":"translate3d("+v+"px, "+S+"px, 0)",ee))}return Object.assign({},oe,(e={},e[R]=O?S+"px":"",e[D]=N?v+"px":"",e.transform="",e))}function Tne(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,a=s===void 0?!0:s,l=n.roundOffsets,u=l===void 0?!0:l,f={placement:ta(e.placement),variation:Ou(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Rk(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Rk(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const jne={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Tne,data:{}};var lm={passive:!0};function Ene(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,a=r.resize,l=a===void 0?!0:a,u=Ki(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&f.forEach(function(p){p.addEventListener("scroll",n.update,lm)}),l&&u.addEventListener("resize",n.update,lm),function(){s&&f.forEach(function(p){p.removeEventListener("scroll",n.update,lm)}),l&&u.removeEventListener("resize",n.update,lm)}}const Ane={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ene,data:{}};var kne={left:"right",right:"left",bottom:"top",top:"bottom"};function Bm(t){return t.replace(/left|right|bottom|top/g,function(e){return kne[e]})}var One={start:"end",end:"start"};function _k(t){return t.replace(/start|end/g,function(e){return One[e]})}function aS(t){var e=Ki(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function oS(t){return ku(rl(t)).left+aS(t).scrollLeft}function Mne(t,e){var n=Ki(t),r=rl(t),i=n.visualViewport,s=r.clientWidth,a=r.clientHeight,l=0,u=0;if(i){s=i.width,a=i.height;var f=E6();(f||!f&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:s,height:a,x:l+oS(t),y:u}}function Dne(t){var e,n=rl(t),r=aS(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Ql(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Ql(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+oS(t),u=-r.scrollTop;return Ua(i||n).direction==="rtl"&&(l+=Ql(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:l,y:u}}function lS(t){var e=Ua(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function D6(t){return["html","body","#document"].indexOf(aa(t))>=0?t.ownerDocument.body:hs(t)&&lS(t)?t:D6(Hy(t))}function Cf(t,e){var n;e===void 0&&(e=[]);var r=D6(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Ki(r),a=i?[s].concat(s.visualViewport||[],lS(r)?r:[]):r,l=e.concat(a);return i?l:l.concat(Cf(Hy(a)))}function V1(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Rne(t,e){var n=ku(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Lk(t,e,n){return e===N6?V1(Mne(t,n)):lc(e)?Rne(e,n):V1(Dne(rl(t)))}function _ne(t){var e=Cf(Hy(t)),n=["absolute","fixed"].indexOf(Ua(t).position)>=0,r=n&&hs(t)?Mh(t):t;return lc(r)?e.filter(function(i){return lc(i)&&A6(i,r)&&aa(i)!=="body"}):[]}function Lne(t,e,n,r){var i=e==="clippingParents"?_ne(t):[].concat(e),s=[].concat(i,[n]),a=s[0],l=s.reduce(function(u,f){var p=Lk(t,f,r);return u.top=Ql(p.top,u.top),u.right=Tg(p.right,u.right),u.bottom=Tg(p.bottom,u.bottom),u.left=Ql(p.left,u.left),u},Lk(t,a,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function R6(t){var e=t.reference,n=t.element,r=t.placement,i=r?ta(r):null,s=r?Ou(r):null,a=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,u;switch(i){case Ai:u={x:a,y:e.y-n.height};break;case ms:u={x:a,y:e.y+e.height};break;case gs:u={x:e.x+e.width,y:l};break;case ki:u={x:e.x-n.width,y:l};break;default:u={x:e.x,y:e.y}}var f=i?sS(i):null;if(f!=null){var p=f==="y"?"height":"width";switch(s){case Eu:u[f]=u[f]-(e[p]/2-n[p]/2);break;case ih:u[f]=u[f]+(e[p]/2-n[p]/2);break}}return u}function sh(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,a=s===void 0?t.strategy:s,l=n.boundary,u=l===void 0?nne:l,f=n.rootBoundary,p=f===void 0?N6:f,m=n.elementContext,y=m===void 0?Xd:m,v=n.altBoundary,b=v===void 0?!1:v,S=n.padding,C=S===void 0?0:S,N=O6(typeof C!="number"?C:M6(C,Oh)),O=y===Xd?rne:Xd,D=t.rects.popper,R=t.elements[b?O:y],E=Lne(lc(R)?R:R.contextElement||rl(t.elements.popper),u,p,a),k=ku(t.elements.reference),P=R6({reference:k,element:D,placement:i}),F=V1(Object.assign({},D,P)),G=y===Xd?F:k,ge={top:E.top-G.top+N.top,bottom:G.bottom-E.bottom+N.bottom,left:E.left-G.left+N.left,right:G.right-E.right+N.right},oe=t.modifiersData.offset;if(y===Xd&&oe){var ne=oe[i];Object.keys(ge).forEach(function(ee){var Ee=[gs,ms].indexOf(ee)>=0?1:-1,Oe=[Ai,ms].indexOf(ee)>=0?"y":"x";ge[ee]+=ne[Oe]*Ee})}return ge}function Pne(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,a=n.padding,l=n.flipVariations,u=n.allowedAutoPlacements,f=u===void 0?T6:u,p=Ou(r),m=p?l?Mk:Mk.filter(function(b){return Ou(b)===p}):Oh,y=m.filter(function(b){return f.indexOf(b)>=0});y.length===0&&(y=m);var v=y.reduce(function(b,S){return b[S]=sh(t,{placement:S,boundary:i,rootBoundary:s,padding:a})[ta(S)],b},{});return Object.keys(v).sort(function(b,S){return v[b]-v[S]})}function zne(t){if(ta(t)===nS)return[];var e=Bm(t);return[_k(t),e,_k(e)]}function Ine(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,a=n.altAxis,l=a===void 0?!0:a,u=n.fallbackPlacements,f=n.padding,p=n.boundary,m=n.rootBoundary,y=n.altBoundary,v=n.flipVariations,b=v===void 0?!0:v,S=n.allowedAutoPlacements,C=e.options.placement,N=ta(C),O=N===C,D=u||(O||!b?[Bm(C)]:zne(C)),R=[C].concat(D).reduce(function(Re,_e){return Re.concat(ta(_e)===nS?Pne(e,{placement:_e,boundary:p,rootBoundary:m,padding:f,flipVariations:b,allowedAutoPlacements:S}):_e)},[]),E=e.rects.reference,k=e.rects.popper,P=new Map,F=!0,G=R[0],ge=0;ge<R.length;ge++){var oe=R[ge],ne=ta(oe),ee=Ou(oe)===Eu,Ee=[Ai,ms].indexOf(ne)>=0,Oe=Ee?"width":"height",K=sh(e,{placement:oe,boundary:p,rootBoundary:m,altBoundary:y,padding:f}),re=Ee?ee?gs:ki:ee?ms:Ai;E[Oe]>k[Oe]&&(re=Bm(re));var ue=Bm(re),ze=[];if(s&&ze.push(K[ne]<=0),l&&ze.push(K[re]<=0,K[ue]<=0),ze.every(function(Re){return Re})){G=oe,F=!1;break}P.set(oe,ze)}if(F)for(var q=b?3:1,ae=function(_e){var he=R.find(function(Be){var Le=P.get(Be);if(Le)return Le.slice(0,_e).every(function(ot){return ot})});if(he)return G=he,"break"},pe=q;pe>0;pe--){var xe=ae(pe);if(xe==="break")break}e.placement!==G&&(e.modifiersData[r]._skip=!0,e.placement=G,e.reset=!0)}}const Bne={name:"flip",enabled:!0,phase:"main",fn:Ine,requiresIfExists:["offset"],data:{_skip:!1}};function Pk(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function zk(t){return[Ai,gs,ms,ki].some(function(e){return t[e]>=0})}function Fne(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,a=sh(e,{elementContext:"reference"}),l=sh(e,{altBoundary:!0}),u=Pk(a,r),f=Pk(l,i,s),p=zk(u),m=zk(f);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:f,isReferenceHidden:p,hasPopperEscaped:m},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":m})}const $ne={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Fne};function Vne(t,e,n){var r=ta(t),i=[ki,Ai].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=s[0],l=s[1];return a=a||0,l=(l||0)*i,[ki,gs].indexOf(r)>=0?{x:l,y:a}:{x:a,y:l}}function Une(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,a=T6.reduce(function(p,m){return p[m]=Vne(m,e.rects,s),p},{}),l=a[e.placement],u=l.x,f=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=f),e.modifiersData[r]=a}const Hne={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Une};function qne(t){var e=t.state,n=t.name;e.modifiersData[n]=R6({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Kne={name:"popperOffsets",enabled:!0,phase:"read",fn:qne,data:{}};function Yne(t){return t==="x"?"y":"x"}function Wne(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,a=n.altAxis,l=a===void 0?!1:a,u=n.boundary,f=n.rootBoundary,p=n.altBoundary,m=n.padding,y=n.tether,v=y===void 0?!0:y,b=n.tetherOffset,S=b===void 0?0:b,C=sh(e,{boundary:u,rootBoundary:f,padding:m,altBoundary:p}),N=ta(e.placement),O=Ou(e.placement),D=!O,R=sS(N),E=Yne(R),k=e.modifiersData.popperOffsets,P=e.rects.reference,F=e.rects.popper,G=typeof S=="function"?S(Object.assign({},e.rects,{placement:e.placement})):S,ge=typeof G=="number"?{mainAxis:G,altAxis:G}:Object.assign({mainAxis:0,altAxis:0},G),oe=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ne={x:0,y:0};if(k){if(s){var ee,Ee=R==="y"?Ai:ki,Oe=R==="y"?ms:gs,K=R==="y"?"height":"width",re=k[R],ue=re+C[Ee],ze=re-C[Oe],q=v?-F[K]/2:0,ae=O===Eu?P[K]:F[K],pe=O===Eu?-F[K]:-P[K],xe=e.elements.arrow,Re=v&&xe?iS(xe):{width:0,height:0},_e=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:k6(),he=_e[Ee],Be=_e[Oe],Le=Sf(0,P[K],Re[K]),ot=D?P[K]/2-q-Le-he-ge.mainAxis:ae-Le-he-ge.mainAxis,ut=D?-P[K]/2+q+Le+Be+ge.mainAxis:pe+Le+Be+ge.mainAxis,Bt=e.elements.arrow&&Mh(e.elements.arrow),dt=Bt?R==="y"?Bt.clientTop||0:Bt.clientLeft||0:0,_t=(ee=oe?.[R])!=null?ee:0,st=re+ot-_t-dt,Z=re+ut-_t,$e=Sf(v?Tg(ue,st):ue,re,v?Ql(ze,Z):ze);k[R]=$e,ne[R]=$e-re}if(l){var Ue,Qe=R==="x"?Ai:ki,Nt=R==="x"?ms:gs,_=k[E],W=E==="y"?"height":"width",I=_+C[Qe],ce=_-C[Nt],ye=[Ai,ki].indexOf(N)!==-1,$=(Ue=oe?.[E])!=null?Ue:0,U=ye?I:_-P[W]-F[W]-$+ge.altAxis,be=ye?_+P[W]+F[W]-$-ge.altAxis:ce,We=v&&ye?vne(U,_,be):Sf(v?U:I,_,v?be:ce);k[E]=We,ne[E]=We-_}e.modifiersData[r]=ne}}const Gne={name:"preventOverflow",enabled:!0,phase:"main",fn:Wne,requiresIfExists:["offset"]};function Xne(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Qne(t){return t===Ki(t)||!hs(t)?aS(t):Xne(t)}function Jne(t){var e=t.getBoundingClientRect(),n=Au(e.width)/t.offsetWidth||1,r=Au(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Zne(t,e,n){n===void 0&&(n=!1);var r=hs(e),i=hs(e)&&Jne(e),s=rl(e),a=ku(t,i,n),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((aa(e)!=="body"||lS(s))&&(l=Qne(e)),hs(e)?(u=ku(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):s&&(u.x=oS(s))),{x:a.left+l.scrollLeft-u.x,y:a.top+l.scrollTop-u.y,width:a.width,height:a.height}}function ere(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(l){if(!n.has(l)){var u=e.get(l);u&&i(u)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function tre(t){var e=ere(t);return hne.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function nre(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function rre(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Ik={placement:"bottom",modifiers:[],strategy:"absolute"};function Bk(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function ire(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?Ik:i;return function(l,u,f){f===void 0&&(f=s);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ik,s),modifiersData:{},elements:{reference:l,popper:u},attributes:{},styles:{}},m=[],y=!1,v={state:p,setOptions:function(N){var O=typeof N=="function"?N(p.options):N;S(),p.options=Object.assign({},s,p.options,O),p.scrollParents={reference:lc(l)?Cf(l):l.contextElement?Cf(l.contextElement):[],popper:Cf(u)};var D=tre(rre([].concat(r,p.options.modifiers)));return p.orderedModifiers=D.filter(function(R){return R.enabled}),b(),v.update()},forceUpdate:function(){if(!y){var N=p.elements,O=N.reference,D=N.popper;if(Bk(O,D)){p.rects={reference:Zne(O,Mh(D),p.options.strategy==="fixed"),popper:iS(D)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(ge){return p.modifiersData[ge.name]=Object.assign({},ge.data)});for(var R=0;R<p.orderedModifiers.length;R++){if(p.reset===!0){p.reset=!1,R=-1;continue}var E=p.orderedModifiers[R],k=E.fn,P=E.options,F=P===void 0?{}:P,G=E.name;typeof k=="function"&&(p=k({state:p,options:F,name:G,instance:v})||p)}}}},update:nre(function(){return new Promise(function(C){v.forceUpdate(),C(p)})}),destroy:function(){S(),y=!0}};if(!Bk(l,u))return v;v.setOptions(f).then(function(C){!y&&f.onFirstUpdate&&f.onFirstUpdate(C)});function b(){p.orderedModifiers.forEach(function(C){var N=C.name,O=C.options,D=O===void 0?{}:O,R=C.effect;if(typeof R=="function"){var E=R({state:p,name:N,instance:v,options:D}),k=function(){};m.push(E||k)}})}function S(){m.forEach(function(C){return C()}),m=[]}return v}}var sre=[Ane,Kne,jne,j6,Hne,Bne,Gne,Sne,$ne],are=ire({defaultModifiers:sre}),ore="tippy-box",_6="tippy-content",lre="tippy-backdrop",L6="tippy-arrow",P6="tippy-svg-arrow",El={passive:!0,capture:!0},z6=function(){return document.body};function lb(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function cS(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function I6(t,e){return typeof t=="function"?t.apply(void 0,e):t}function Fk(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function cre(t){return t.split(/\s+/).filter(Boolean)}function ru(t){return[].concat(t)}function $k(t,e){t.indexOf(e)===-1&&t.push(e)}function ure(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function dre(t){return t.split("-")[0]}function jg(t){return[].slice.call(t)}function Vk(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Nf(){return document.createElement("div")}function qy(t){return["Element","Fragment"].some(function(e){return cS(t,e)})}function fre(t){return cS(t,"NodeList")}function hre(t){return cS(t,"MouseEvent")}function pre(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function mre(t){return qy(t)?[t]:fre(t)?jg(t):Array.isArray(t)?t:jg(document.querySelectorAll(t))}function cb(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function Uk(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function gre(t){var e,n=ru(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function yre(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var s=i.popperRect,a=i.popperState,l=i.props,u=l.interactiveBorder,f=dre(a.placement),p=a.modifiersData.offset;if(!p)return!0;var m=f==="bottom"?p.top.y:0,y=f==="top"?p.bottom.y:0,v=f==="right"?p.left.x:0,b=f==="left"?p.right.x:0,S=s.top-r+m>u,C=r-s.bottom-y>u,N=s.left-n+v>u,O=n-s.right-b>u;return S||C||N||O})}function ub(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function Hk(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Ys={isTouch:!1},qk=0;function vre(){Ys.isTouch||(Ys.isTouch=!0,window.performance&&document.addEventListener("mousemove",B6))}function B6(){var t=performance.now();t-qk<20&&(Ys.isTouch=!1,document.removeEventListener("mousemove",B6)),qk=t}function xre(){var t=document.activeElement;if(pre(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function bre(){document.addEventListener("touchstart",vre,El),window.addEventListener("blur",xre)}var wre=typeof window<"u"&&typeof document<"u",Sre=wre?!!window.msCrypto:!1,Cre={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Nre={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Es=Object.assign({appendTo:z6,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Cre,Nre),Tre=Object.keys(Es),jre=function(e){var n=Object.keys(e);n.forEach(function(r){Es[r]=e[r]})};function F6(t){var e=t.plugins||[],n=e.reduce(function(r,i){var s=i.name,a=i.defaultValue;if(s){var l;r[s]=t[s]!==void 0?t[s]:(l=Es[s])!=null?l:a}return r},{});return Object.assign({},t,n)}function Ere(t,e){var n=e?Object.keys(F6(Object.assign({},Es,{plugins:e}))):Tre,r=n.reduce(function(i,s){var a=(t.getAttribute("data-tippy-"+s)||"").trim();if(!a)return i;if(s==="content")i[s]=a;else try{i[s]=JSON.parse(a)}catch{i[s]=a}return i},{});return r}function Kk(t,e){var n=Object.assign({},e,{content:I6(e.content,[t])},e.ignoreAttributes?{}:Ere(t,e.plugins));return n.aria=Object.assign({},Es.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var Are=function(){return"innerHTML"};function U1(t,e){t[Are()]=e}function Yk(t){var e=Nf();return t===!0?e.className=L6:(e.className=P6,qy(t)?e.appendChild(t):U1(e,t)),e}function Wk(t,e){qy(e.content)?(U1(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?U1(t,e.content):t.textContent=e.content)}function H1(t){var e=t.firstElementChild,n=jg(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(_6)}),arrow:n.find(function(r){return r.classList.contains(L6)||r.classList.contains(P6)}),backdrop:n.find(function(r){return r.classList.contains(lre)})}}function $6(t){var e=Nf(),n=Nf();n.className=ore,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Nf();r.className=_6,r.setAttribute("data-state","hidden"),Wk(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(s,a){var l=H1(e),u=l.box,f=l.content,p=l.arrow;a.theme?u.setAttribute("data-theme",a.theme):u.removeAttribute("data-theme"),typeof a.animation=="string"?u.setAttribute("data-animation",a.animation):u.removeAttribute("data-animation"),a.inertia?u.setAttribute("data-inertia",""):u.removeAttribute("data-inertia"),u.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?u.setAttribute("role",a.role):u.removeAttribute("role"),(s.content!==a.content||s.allowHTML!==a.allowHTML)&&Wk(f,t.props),a.arrow?p?s.arrow!==a.arrow&&(u.removeChild(p),u.appendChild(Yk(a.arrow))):u.appendChild(Yk(a.arrow)):p&&u.removeChild(p)}return{popper:e,onUpdate:i}}$6.$$tippy=!0;var kre=1,cm=[],db=[];function Ore(t,e){var n=Kk(t,Object.assign({},Es,F6(Vk(e)))),r,i,s,a=!1,l=!1,u=!1,f=!1,p,m,y,v=[],b=Fk(st,n.interactiveDebounce),S,C=kre++,N=null,O=ure(n.plugins),D={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},R={id:C,reference:t,popper:Nf(),popperInstance:N,props:n,state:D,plugins:O,clearDelayTimeouts:U,setProps:be,setContent:We,show:ht,hide:Qt,hideWithInteractivity:Lt,enable:ye,disable:$,unmount:ln,destroy:sn};if(!n.render)return R;var E=n.render(R),k=E.popper,P=E.onUpdate;k.setAttribute("data-tippy-root",""),k.id="tippy-"+R.id,R.popper=k,t._tippy=R,k._tippy=R;var F=O.map(function(Se){return Se.fn(R)}),G=t.hasAttribute("aria-expanded");return Bt(),q(),re(),ue("onCreate",[R]),n.showOnCreate&&I(),k.addEventListener("mouseenter",function(){R.props.interactive&&R.state.isVisible&&R.clearDelayTimeouts()}),k.addEventListener("mouseleave",function(){R.props.interactive&&R.props.trigger.indexOf("mouseenter")>=0&&Ee().addEventListener("mousemove",b)}),R;function ge(){var Se=R.props.touch;return Array.isArray(Se)?Se:[Se,0]}function oe(){return ge()[0]==="hold"}function ne(){var Se;return!!((Se=R.props.render)!=null&&Se.$$tippy)}function ee(){return S||t}function Ee(){var Se=ee().parentNode;return Se?gre(Se):document}function Oe(){return H1(k)}function K(Se){return R.state.isMounted&&!R.state.isVisible||Ys.isTouch||p&&p.type==="focus"?0:lb(R.props.delay,Se?0:1,Es.delay)}function re(Se){Se===void 0&&(Se=!1),k.style.pointerEvents=R.props.interactive&&!Se?"":"none",k.style.zIndex=""+R.props.zIndex}function ue(Se,it,ft){if(ft===void 0&&(ft=!0),F.forEach(function(lt){lt[Se]&&lt[Se].apply(lt,it)}),ft){var de;(de=R.props)[Se].apply(de,it)}}function ze(){var Se=R.props.aria;if(Se.content){var it="aria-"+Se.content,ft=k.id,de=ru(R.props.triggerTarget||t);de.forEach(function(lt){var Ot=lt.getAttribute(it);if(R.state.isVisible)lt.setAttribute(it,Ot?Ot+" "+ft:ft);else{var tt=Ot&&Ot.replace(ft,"").trim();tt?lt.setAttribute(it,tt):lt.removeAttribute(it)}})}}function q(){if(!(G||!R.props.aria.expanded)){var Se=ru(R.props.triggerTarget||t);Se.forEach(function(it){R.props.interactive?it.setAttribute("aria-expanded",R.state.isVisible&&it===ee()?"true":"false"):it.removeAttribute("aria-expanded")})}}function ae(){Ee().removeEventListener("mousemove",b),cm=cm.filter(function(Se){return Se!==b})}function pe(Se){if(!(Ys.isTouch&&(u||Se.type==="mousedown"))){var it=Se.composedPath&&Se.composedPath()[0]||Se.target;if(!(R.props.interactive&&Hk(k,it))){if(ru(R.props.triggerTarget||t).some(function(ft){return Hk(ft,it)})){if(Ys.isTouch||R.state.isVisible&&R.props.trigger.indexOf("click")>=0)return}else ue("onClickOutside",[R,Se]);R.props.hideOnClick===!0&&(R.clearDelayTimeouts(),R.hide(),l=!0,setTimeout(function(){l=!1}),R.state.isMounted||he())}}}function xe(){u=!0}function Re(){u=!1}function _e(){var Se=Ee();Se.addEventListener("mousedown",pe,!0),Se.addEventListener("touchend",pe,El),Se.addEventListener("touchstart",Re,El),Se.addEventListener("touchmove",xe,El)}function he(){var Se=Ee();Se.removeEventListener("mousedown",pe,!0),Se.removeEventListener("touchend",pe,El),Se.removeEventListener("touchstart",Re,El),Se.removeEventListener("touchmove",xe,El)}function Be(Se,it){ot(Se,function(){!R.state.isVisible&&k.parentNode&&k.parentNode.contains(k)&&it()})}function Le(Se,it){ot(Se,it)}function ot(Se,it){var ft=Oe().box;function de(lt){lt.target===ft&&(ub(ft,"remove",de),it())}if(Se===0)return it();ub(ft,"remove",m),ub(ft,"add",de),m=de}function ut(Se,it,ft){ft===void 0&&(ft=!1);var de=ru(R.props.triggerTarget||t);de.forEach(function(lt){lt.addEventListener(Se,it,ft),v.push({node:lt,eventType:Se,handler:it,options:ft})})}function Bt(){oe()&&(ut("touchstart",_t,{passive:!0}),ut("touchend",Z,{passive:!0})),cre(R.props.trigger).forEach(function(Se){if(Se!=="manual")switch(ut(Se,_t),Se){case"mouseenter":ut("mouseleave",Z);break;case"focus":ut(Sre?"focusout":"blur",$e);break;case"focusin":ut("focusout",$e);break}})}function dt(){v.forEach(function(Se){var it=Se.node,ft=Se.eventType,de=Se.handler,lt=Se.options;it.removeEventListener(ft,de,lt)}),v=[]}function _t(Se){var it,ft=!1;if(!(!R.state.isEnabled||Ue(Se)||l)){var de=((it=p)==null?void 0:it.type)==="focus";p=Se,S=Se.currentTarget,q(),!R.state.isVisible&&hre(Se)&&cm.forEach(function(lt){return lt(Se)}),Se.type==="click"&&(R.props.trigger.indexOf("mouseenter")<0||a)&&R.props.hideOnClick!==!1&&R.state.isVisible?ft=!0:I(Se),Se.type==="click"&&(a=!ft),ft&&!de&&ce(Se)}}function st(Se){var it=Se.target,ft=ee().contains(it)||k.contains(it);if(!(Se.type==="mousemove"&&ft)){var de=W().concat(k).map(function(lt){var Ot,tt=lt._tippy,Te=(Ot=tt.popperInstance)==null?void 0:Ot.state;return Te?{popperRect:lt.getBoundingClientRect(),popperState:Te,props:n}:null}).filter(Boolean);yre(de,Se)&&(ae(),ce(Se))}}function Z(Se){var it=Ue(Se)||R.props.trigger.indexOf("click")>=0&&a;if(!it){if(R.props.interactive){R.hideWithInteractivity(Se);return}ce(Se)}}function $e(Se){R.props.trigger.indexOf("focusin")<0&&Se.target!==ee()||R.props.interactive&&Se.relatedTarget&&k.contains(Se.relatedTarget)||ce(Se)}function Ue(Se){return Ys.isTouch?oe()!==Se.type.indexOf("touch")>=0:!1}function Qe(){Nt();var Se=R.props,it=Se.popperOptions,ft=Se.placement,de=Se.offset,lt=Se.getReferenceClientRect,Ot=Se.moveTransition,tt=ne()?H1(k).arrow:null,Te=lt?{getBoundingClientRect:lt,contextElement:lt.contextElement||ee()}:t,rt={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Tt){var Zt=Tt.state;if(ne()){var Tn=Oe(),Q=Tn.box;["placement","reference-hidden","escaped"].forEach(function(fe){fe==="placement"?Q.setAttribute("data-placement",Zt.placement):Zt.attributes.popper["data-popper-"+fe]?Q.setAttribute("data-"+fe,""):Q.removeAttribute("data-"+fe)}),Zt.attributes.popper={}}}},wt=[{name:"offset",options:{offset:de}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Ot}},rt];ne()&&tt&&wt.push({name:"arrow",options:{element:tt,padding:3}}),wt.push.apply(wt,it?.modifiers||[]),R.popperInstance=are(Te,k,Object.assign({},it,{placement:ft,onFirstUpdate:y,modifiers:wt}))}function Nt(){R.popperInstance&&(R.popperInstance.destroy(),R.popperInstance=null)}function _(){var Se=R.props.appendTo,it,ft=ee();R.props.interactive&&Se===z6||Se==="parent"?it=ft.parentNode:it=I6(Se,[ft]),it.contains(k)||it.appendChild(k),R.state.isMounted=!0,Qe()}function W(){return jg(k.querySelectorAll("[data-tippy-root]"))}function I(Se){R.clearDelayTimeouts(),Se&&ue("onTrigger",[R,Se]),_e();var it=K(!0),ft=ge(),de=ft[0],lt=ft[1];Ys.isTouch&&de==="hold"&&lt&&(it=lt),it?r=setTimeout(function(){R.show()},it):R.show()}function ce(Se){if(R.clearDelayTimeouts(),ue("onUntrigger",[R,Se]),!R.state.isVisible){he();return}if(!(R.props.trigger.indexOf("mouseenter")>=0&&R.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(Se.type)>=0&&a)){var it=K(!1);it?i=setTimeout(function(){R.state.isVisible&&R.hide()},it):s=requestAnimationFrame(function(){R.hide()})}}function ye(){R.state.isEnabled=!0}function $(){R.hide(),R.state.isEnabled=!1}function U(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(s)}function be(Se){if(!R.state.isDestroyed){ue("onBeforeUpdate",[R,Se]),dt();var it=R.props,ft=Kk(t,Object.assign({},it,Vk(Se),{ignoreAttributes:!0}));R.props=ft,Bt(),it.interactiveDebounce!==ft.interactiveDebounce&&(ae(),b=Fk(st,ft.interactiveDebounce)),it.triggerTarget&&!ft.triggerTarget?ru(it.triggerTarget).forEach(function(de){de.removeAttribute("aria-expanded")}):ft.triggerTarget&&t.removeAttribute("aria-expanded"),q(),re(),P&&P(it,ft),R.popperInstance&&(Qe(),W().forEach(function(de){requestAnimationFrame(de._tippy.popperInstance.forceUpdate)})),ue("onAfterUpdate",[R,Se])}}function We(Se){R.setProps({content:Se})}function ht(){var Se=R.state.isVisible,it=R.state.isDestroyed,ft=!R.state.isEnabled,de=Ys.isTouch&&!R.props.touch,lt=lb(R.props.duration,0,Es.duration);if(!(Se||it||ft||de)&&!ee().hasAttribute("disabled")&&(ue("onShow",[R],!1),R.props.onShow(R)!==!1)){if(R.state.isVisible=!0,ne()&&(k.style.visibility="visible"),re(),_e(),R.state.isMounted||(k.style.transition="none"),ne()){var Ot=Oe(),tt=Ot.box,Te=Ot.content;cb([tt,Te],0)}y=function(){var wt;if(!(!R.state.isVisible||f)){if(f=!0,k.offsetHeight,k.style.transition=R.props.moveTransition,ne()&&R.props.animation){var St=Oe(),Tt=St.box,Zt=St.content;cb([Tt,Zt],lt),Uk([Tt,Zt],"visible")}ze(),q(),$k(db,R),(wt=R.popperInstance)==null||wt.forceUpdate(),ue("onMount",[R]),R.props.animation&&ne()&&Le(lt,function(){R.state.isShown=!0,ue("onShown",[R])})}},_()}}function Qt(){var Se=!R.state.isVisible,it=R.state.isDestroyed,ft=!R.state.isEnabled,de=lb(R.props.duration,1,Es.duration);if(!(Se||it||ft)&&(ue("onHide",[R],!1),R.props.onHide(R)!==!1)){if(R.state.isVisible=!1,R.state.isShown=!1,f=!1,a=!1,ne()&&(k.style.visibility="hidden"),ae(),he(),re(!0),ne()){var lt=Oe(),Ot=lt.box,tt=lt.content;R.props.animation&&(cb([Ot,tt],de),Uk([Ot,tt],"hidden"))}ze(),q(),R.props.animation?ne()&&Be(de,R.unmount):R.unmount()}}function Lt(Se){Ee().addEventListener("mousemove",b),$k(cm,b),b(Se)}function ln(){R.state.isVisible&&R.hide(),R.state.isMounted&&(Nt(),W().forEach(function(Se){Se._tippy.unmount()}),k.parentNode&&k.parentNode.removeChild(k),db=db.filter(function(Se){return Se!==R}),R.state.isMounted=!1,ue("onHidden",[R]))}function sn(){R.state.isDestroyed||(R.clearDelayTimeouts(),R.unmount(),dt(),delete t._tippy,R.state.isDestroyed=!0,ue("onDestroy",[R]))}}function Dh(t,e){e===void 0&&(e={});var n=Es.plugins.concat(e.plugins||[]);bre();var r=Object.assign({},e,{plugins:n}),i=mre(t),s=i.reduce(function(a,l){var u=l&&Ore(l,r);return u&&a.push(u),a},[]);return qy(t)?s[0]:s}Dh.defaultProps=Es;Dh.setDefaultProps=jre;Dh.currentInput=Ys;Object.assign({},j6,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});Dh.setDefaultProps({render:$6});class Mre{constructor({editor:e,element:n,view:r,tippyOptions:i={},updateDelay:s=250,shouldShow:a}){this.preventHide=!1,this.shouldShow=({view:l,state:u,from:f,to:p})=>{const{doc:m,selection:y}=u,{empty:v}=y,b=!m.textBetween(f,p).length&&Q2(u.selection),S=this.element.contains(document.activeElement);return!(!(l.hasFocus()||S)||v||b||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:l})=>{var u;if(this.preventHide){this.preventHide=!1;return}l?.relatedTarget&&(!((u=this.element.parentNode)===null||u===void 0)&&u.contains(l.relatedTarget))||l?.relatedTarget!==this.editor.view.dom&&this.hide()},this.tippyBlurHandler=l=>{this.blurHandler({event:l})},this.handleDebouncedUpdate=(l,u)=>{const f=!u?.selection.eq(l.state.selection),p=!u?.doc.eq(l.state.doc);!f&&!p||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(l,f,p,u)},this.updateDelay))},this.updateHandler=(l,u,f,p)=>{var m,y,v;const{state:b,composing:S}=l,{selection:C}=b;if(S||!u&&!f)return;this.createTooltip();const{ranges:O}=C,D=Math.min(...O.map(k=>k.$from.pos)),R=Math.max(...O.map(k=>k.$to.pos));if(!((m=this.shouldShow)===null||m===void 0?void 0:m.call(this,{editor:this.editor,element:this.element,view:l,state:b,oldState:p,from:D,to:R}))){this.hide();return}(y=this.tippy)===null||y===void 0||y.setProps({getReferenceClientRect:((v=this.tippyOptions)===null||v===void 0?void 0:v.getReferenceClientRect)||(()=>{if(S6(b.selection)){let k=l.nodeDOM(D);if(k){const P=k.dataset.nodeViewWrapper?k:k.querySelector("[data-node-view-wrapper]");if(P&&(k=P.firstChild),k)return k.getBoundingClientRect()}}return Cte(l,D,R)})}),this.show()},this.editor=e,this.element=n,this.view=r,this.updateDelay=s,a&&(this.shouldShow=a),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,n=!!e.parentElement;this.element.tabIndex=0,!(this.tippy||!n)&&(this.tippy=Dh(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,n){const{state:r}=e,i=r.selection.from!==r.selection.to;if(this.updateDelay>0&&i){this.handleDebouncedUpdate(e,n);return}const s=!n?.selection.eq(e.state.selection),a=!n?.doc.eq(e.state.doc);this.updateHandler(e,s,a,n)}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,n;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(n=this.tippy)===null||n===void 0||n.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const V6=t=>new Sr({key:typeof t.pluginKey=="string"?new Kr(t.pluginKey):t.pluginKey,view:e=>new Mre({view:e,...t})});qr.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[V6({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});function Dre(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var U6={exports:{}},fb={};var Gk;function Rre(){if(Gk)return fb;Gk=1;var t=Ut;function e(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function l(m,y){var v=y(),b=r({inst:{value:v,getSnapshot:y}}),S=b[0].inst,C=b[1];return s(function(){S.value=v,S.getSnapshot=y,u(S)&&C({inst:S})},[m,v,y]),i(function(){return u(S)&&C({inst:S}),m(function(){u(S)&&C({inst:S})})},[m]),a(v),v}function u(m){var y=m.getSnapshot;m=m.value;try{var v=y();return!n(m,v)}catch{return!0}}function f(m,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return fb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,fb}U6.exports=Rre();var uS=U6.exports;const _re=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},Lre=({contentComponent:t})=>{const e=uS.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return Ut.createElement(Ut.Fragment,null,Object.values(e))};function Pre(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:TO.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}class zre extends Ut.Component{constructor(e){var n;super(e),this.editorContentRef=Ut.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=Pre(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...r}=this.props;return Ut.createElement(Ut.Fragment,null,Ut.createElement("div",{ref:_re(n,this.editorContentRef),...r}),e?.contentComponent&&Ut.createElement(Lre,{contentComponent:e.contentComponent}))}}const Ire=T.forwardRef((t,e)=>{const n=Ut.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Ut.createElement(zre,{key:n,innerRef:e,...t})}),Bre=Ut.memo(Ire);var Fre=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var a=s[i];if(!(a==="_owner"&&e.$$typeof)&&!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n},$re=Dre(Fre),H6={exports:{}},hb={};var Xk;function Vre(){if(Xk)return hb;Xk=1;var t=Ut,e=uS;function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,a=t.useEffect,l=t.useMemo,u=t.useDebugValue;return hb.useSyncExternalStoreWithSelector=function(f,p,m,y,v){var b=s(null);if(b.current===null){var S={hasValue:!1,value:null};b.current=S}else S=b.current;b=l(function(){function N(k){if(!O){if(O=!0,D=k,k=y(k),v!==void 0&&S.hasValue){var P=S.value;if(v(P,k))return R=P}return R=k}if(P=R,r(D,k))return P;var F=y(k);return v!==void 0&&v(P,F)?P:(D=k,R=F)}var O=!1,D,R,E=m===void 0?null:m;return[function(){return N(p())},E===null?void 0:function(){return N(E())}]},[p,m,y,v]);var C=i(f,b[0],b[1]);return a(function(){S.hasValue=!0,S.value=C},[C]),u(C),C},hb}H6.exports=Vre();var Ure=H6.exports;const Hre=typeof window<"u"?T.useLayoutEffect:T.useEffect;class qre{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},r=this.editor;return r.on("transaction",n),()=>{r.off("transaction",n)}}}}function Kre(t){var e;const[n]=T.useState(()=>new qre(t.editor)),r=Ure.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!==null&&e!==void 0?e:$re);return Hre(()=>n.watch(t.editor),[t.editor,n]),T.useDebugValue(r),r}const Yre=!1,q1=typeof window>"u",Wre=q1||!!(typeof window<"u"&&window.next);class dS{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?q1||Wre?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)===null||s===void 0?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)===null||s===void 0?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)===null||s===void 0?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)===null||s===void 0?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)===null||s===void 0?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)===null||s===void 0?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)===null||s===void 0?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)===null||s===void 0?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)===null||s===void 0?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)===null||s===void 0?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)===null||s===void 0?void 0:s.call(i,...r)}};return new ene(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,s)=>{var a;return i===((a=n.extensions)===null||a===void 0?void 0:a[s])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?dS.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function Gre(t={},e=[]){const n=T.useRef(t);n.current=t;const[r]=T.useState(()=>new dS(n)),i=uS.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return T.useDebugValue(i),T.useEffect(r.onRender(e)),Kre({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&s===0?0:s+1}),i}const fS=T.createContext({editor:null}),Xre=fS.Consumer,hS=()=>T.useContext(fS);function Qre({children:t,slotAfter:e,slotBefore:n,editorContainerProps:r={},...i}){const s=Gre(i);return s?Ut.createElement(fS.Provider,{value:{editor:s}},n,Ut.createElement(Xre,null,({editor:a})=>Ut.createElement(Bre,{editor:a,...r})),t,e):null}const Jre=t=>{const[e,n]=T.useState(null),{editor:r}=hS();return T.useEffect(()=>{var i;if(!e||!((i=t.editor)===null||i===void 0)&&i.isDestroyed||r?.isDestroyed)return;const{pluginKey:s="bubbleMenu",editor:a,tippyOptions:l={},updateDelay:u,shouldShow:f=null}=t,p=a||r;if(!p){console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");return}const m=V6({updateDelay:u,editor:p,element:e,pluginKey:s,shouldShow:f,tippyOptions:l});return p.registerPlugin(m),()=>{p.unregisterPlugin(s)}},[t.editor,r,e]),Ut.createElement("div",{ref:n,className:t.className,style:{visibility:"hidden"}},t.children)},Zre=T.createContext({onDragStart:void 0}),eie=()=>T.useContext(Zre);Ut.forwardRef((t,e)=>{const{onDragStart:n}=eie(),r=t.as||"div";return Ut.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});const tie=/^\s*>\s$/,nie=lr.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",Gn(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[rh({find:tie,type:this.type})]}}),rie=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,iie=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,sie=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,aie=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,oie=Os.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",Gn(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[ju({find:rie,type:this.type}),ju({find:sie,type:this.type})]},addPasteRules(){return[oc({find:iie,type:this.type}),oc({find:aie,type:this.type})]}}),lie="listItem",Qk="textStyle",Jk=/^\s*([-+*])\s$/,cie=lr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Gn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(lie,this.editor.getAttributes(Qk)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=rh({find:Jk,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=rh({find:Jk,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Qk),editor:this.editor})),[t]}}),uie=/(^|[^`])`([^`]+)`(?!`)/,die=/(^|[^`])`([^`]+)`(?!`)/g,fie=Os.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Gn(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[ju({find:uie,type:this.type})]},addPasteRules(){return[oc({find:die,type:this.type})]}}),hie=/^```([a-z]+)?[\s\n]$/,pie=/^~~~([a-z]+)?[\s\n]$/,mie=lr.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,s=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Gn(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!s||!a?!1:t.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const l=i.after();return l===void 0?!1:r.nodeAt(l)?t.commands.command(({tr:f})=>(f.setSelection(Ht.near(r.resolve(l))),!0)):t.commands.exitCode()}}},addInputRules(){return[F1({find:hie,type:this.type,getAttributes:t=>({language:t[1]})}),F1({find:pie,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Sr({key:new Kr("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i?.mode;if(!n||!s)return!1;const{tr:a,schema:l}=t.state,u=l.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:s},u)),a.selection.$from.parent.type!==this.type&&a.setSelection(Ft.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),gie=lr.create({name:"doc",topNode:!0,content:"block+"});function yie(t={}){return new Sr({view(e){return new vie(e,t)}})}class vie{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=a=>{this[i](a)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),a=s.width/i.offsetWidth,l=s.height/i.offsetHeight;if(n){let m=e.nodeBefore,y=e.nodeAfter;if(m||y){let v=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(v){let b=v.getBoundingClientRect(),S=m?b.bottom:b.top;m&&y&&(S=(S+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let C=this.width/2*l;r={left:b.left,right:b.right,top:S-C,bottom:S+C}}}}if(!r){let m=this.editorView.coordsAtPos(this.cursorPos),y=this.width/2*a;r={left:m.left-y,right:m.left+y,top:m.top,bottom:m.bottom}}let u=this.editorView.dom.offsetParent;this.element||(this.element=u.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let f,p;if(!u||u==document.body&&getComputedStyle(u).position=="static")f=-pageXOffset,p=-pageYOffset;else{let m=u.getBoundingClientRect(),y=m.width/u.offsetWidth,v=m.height/u.offsetHeight;f=m.left-u.scrollLeft*y,p=m.top-u.scrollTop*v}this.element.style.left=(r.left-f)/a+"px",this.element.style.top=(r.top-p)/l+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=dR(this.editorView.state.doc,a,this.editorView.dragging.slice);l!=null&&(a=l)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const xie=qr.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[yie(this.options)]}});class ar extends Ht{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return ar.valid(r)?new ar(r):Ht.near(r)}content(){return ct.empty}eq(e){return e instanceof ar&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new ar(e.resolve(n.pos))}getBookmark(){return new pS(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!bie(e)||!wie(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&ar.valid(e))return e;let i=e.pos,s=null;for(let a=e.depth;;a--){let l=e.node(a);if(n>0?e.indexAfter(a)<l.childCount:e.index(a)>0){s=l.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;i+=n;let u=e.doc.resolve(i);if(ar.valid(u))return u}for(;;){let a=n>0?s.firstChild:s.lastChild;if(!a){if(s.isAtom&&!s.isText&&!It.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=a,i+=n;let l=e.doc.resolve(i);if(ar.valid(l))return l}return null}}}ar.prototype.visible=!1;ar.findFrom=ar.findGapCursorFrom;Ht.jsonID("gapcursor",ar);class pS{constructor(e){this.pos=e}map(e){return new pS(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return ar.valid(n)?new ar(n):Ht.near(n)}}function bie(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function wie(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function Sie(){return new Sr({props:{decorations:jie,createSelectionBetween(t,e,n){return e.pos==n.pos&&ar.valid(n)?new ar(n):null},handleClick:Nie,handleKeyDown:Cie,handleDOMEvents:{beforeinput:Tie}}})}const Cie=V2({ArrowLeft:um("horiz",-1),ArrowRight:um("horiz",1),ArrowUp:um("vert",-1),ArrowDown:um("vert",1)});function um(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let a=r.selection,l=e>0?a.$to:a.$from,u=a.empty;if(a instanceof Ft){if(!s.endOfTextblock(n)||l.depth==0)return!1;u=!1,l=r.doc.resolve(e>0?l.after():l.before())}let f=ar.findGapCursorFrom(l,e,u);return f?(i&&i(r.tr.setSelection(new ar(f))),!0):!1}}function Nie(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!ar.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&It.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new ar(r))),!0)}function Tie(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof ar))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=He.empty;for(let a=r.length-1;a>=0;a--)i=He.from(r[a].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new ct(i,0,0));return s.setSelection(Ft.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function jie(t){if(!(t.selection instanceof ar))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",sr.create(t.doc,[ci.widget(t.selection.head,e,{key:"gapcursor"})])}const Eie=qr.create({name:"gapCursor",addProseMirrorPlugins(){return[Sie()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=on(kt(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),Aie=lr.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Gn(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:l}=r.extensionManager,u=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:f,dispatch:p})=>{if(p&&u&&a){const m=u.filter(y=>l.includes(y.type.name));f.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),q6=lr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Gn(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>F1({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var Eg=200,Lr=function(){};Lr.prototype.append=function(e){return e.length?(e=Lr.from(e),!this.length&&e||e.length<Eg&&this.leafAppend(e)||this.length<Eg&&e.leafPrepend(this)||this.appendInner(e)):this};Lr.prototype.prepend=function(e){return e.length?Lr.from(e).append(this):this};Lr.prototype.appendInner=function(e){return new kie(this,e)};Lr.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Lr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Lr.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Lr.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Lr.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,a){return i.push(e(s,a))},n,r),i};Lr.from=function(e){return e instanceof Lr?e:e&&e.length?new K6(e):Lr.empty};var K6=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,a,l){for(var u=s;u<a;u++)if(i(this.values[u],l+u)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,a,l){for(var u=s-1;u>=a;u--)if(i(this.values[u],l+u)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Eg)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Eg)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Lr);Lr.empty=new K6([]);var kie=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,a){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(s,l),a)===!1||s>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,s)-l,a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,a){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(s,l)-l,a+l)===!1||s<l&&this.left.forEachInvertedInner(r,Math.min(i,l),s,a)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Lr);const Oie=500;class Cs{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let a=e.tr,l,u,f=[],p=[];return this.items.forEach((m,y)=>{if(!m.step){i||(i=this.remapping(r,y+1),s=i.maps.length),s--,p.push(m);return}if(i){p.push(new Vs(m.map));let v=m.step.map(i.slice(s)),b;v&&a.maybeStep(v).doc&&(b=a.mapping.maps[a.mapping.maps.length-1],f.push(new Vs(b,void 0,void 0,f.length+p.length))),s--,b&&i.appendMap(b,s)}else a.maybeStep(m.step);if(m.selection)return l=i?m.selection.map(i.slice(s)):m.selection,u=new Cs(this.items.slice(0,r).append(p.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:u,transform:a,selection:l}}addTransform(e,n,r,i){let s=[],a=this.eventCount,l=this.items,u=!i&&l.length?l.get(l.length-1):null;for(let p=0;p<e.steps.length;p++){let m=e.steps[p].invert(e.docs[p]),y=new Vs(e.mapping.maps[p],m,n),v;(v=u&&u.merge(y))&&(y=v,p?s.pop():l=l.slice(0,l.length-1)),s.push(y),n&&(a++,n=void 0),i||(u=y)}let f=a-r.depth;return f>Die&&(l=Mie(l,f),a-=f),new Cs(l.append(s),a)}remapping(e,n){let r=new Xf;return this.items.forEach((i,s)=>{let a=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,a)},e,n),r}addMaps(e){return this.eventCount==0?this:new Cs(this.items.append(e.map(n=>new Vs(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,a=e.steps.length,l=this.eventCount;this.items.forEach(y=>{y.selection&&l--},i);let u=n;this.items.forEach(y=>{let v=s.getMirror(--u);if(v==null)return;a=Math.min(a,v);let b=s.maps[v];if(y.step){let S=e.steps[v].invert(e.docs[v]),C=y.selection&&y.selection.map(s.slice(u+1,v));C&&l++,r.push(new Vs(b,S,C))}else r.push(new Vs(b))},i);let f=[];for(let y=n;y<a;y++)f.push(new Vs(s.maps[y]));let p=this.items.slice(0,i).append(f).append(r),m=new Cs(p,l);return m.emptyItemCount()>Oie&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((a,l)=>{if(l>=e)i.push(a),a.selection&&s++;else if(a.step){let u=a.step.map(n.slice(r)),f=u&&u.getMap();if(r--,f&&n.appendMap(f,r),u){let p=a.selection&&a.selection.map(n.slice(r));p&&s++;let m=new Vs(f.invert(),u,p),y,v=i.length-1;(y=i.length&&i[v].merge(m))?i[v]=y:i.push(m)}}else a.map&&r--},this.items.length,0),new Cs(Lr.from(i.reverse()),s)}}Cs.empty=new Cs(Lr.empty,0);function Mie(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class Vs{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Vs(n.getMap().invert(),n,this.selection)}}}class wo{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const Die=20;function Rie(t,e,n,r){let i=n.getMeta(Jl),s;if(i)return i.historyState;n.getMeta(Pie)&&(t=new wo(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(Jl))return a.getMeta(Jl).redo?new wo(t.done.addTransform(n,void 0,r,Fm(e)),t.undone,Zk(n.mapping.maps),t.prevTime,t.prevComposition):new wo(t.done,t.undone.addTransform(n,void 0,r,Fm(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),u=t.prevTime==0||!a&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-r.newGroupDelay||!_ie(n,t.prevRanges)),f=a?pb(t.prevRanges,n.mapping):Zk(n.mapping.maps);return new wo(t.done.addTransform(n,u?e.selection.getBookmark():void 0,r,Fm(e)),Cs.empty,f,n.time,l??t.prevComposition)}else return(s=n.getMeta("rebased"))?new wo(t.done.rebased(n,s),t.undone.rebased(n,s),pb(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new wo(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),pb(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function _ie(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function Zk(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,a)=>e.push(s,a));return e}function pb(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function Lie(t,e,n){let r=Fm(e),i=Jl.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let a=s.selection.resolve(s.transform.doc),l=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),u=new wo(n?l:s.remaining,n?s.remaining:l,null,0,-1);return s.transform.setSelection(a).setMeta(Jl,{redo:n,historyState:u})}let mb=!1,e3=null;function Fm(t){let e=t.plugins;if(e3!=e){mb=!1,e3=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){mb=!0;break}}return mb}const Jl=new Kr("history"),Pie=new Kr("closeHistory");function zie(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Sr({key:Jl,state:{init(){return new wo(Cs.empty,Cs.empty,null,0,-1)},apply(e,n,r){return Rie(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?W6:r=="historyRedo"?G6:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function Y6(t,e){return(n,r)=>{let i=Jl.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=Lie(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const W6=Y6(!1,!0),G6=Y6(!0,!0),Iie=qr.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>W6(t,e),redo:()=>({state:t,dispatch:e})=>G6(t,e)}},addProseMirrorPlugins(){return[zie(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Bie=lr.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Gn(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!tne(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$from:r,$to:i}=n,s=t();return r.parentOffset===0?s.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):S6(n)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:a,dispatch:l})=>{var u;if(l){const{$to:f}=a.selection,p=f.end();if(f.nodeAfter)f.nodeAfter.isTextblock?a.setSelection(Ft.create(a.doc,f.pos+1)):f.nodeAfter.isBlock?a.setSelection(It.create(a.doc,f.pos)):a.setSelection(Ft.create(a.doc,f.pos));else{const m=(u=f.parent.type.contentMatch.defaultType)===null||u===void 0?void 0:u.create();m&&(a.insert(p,m),a.setSelection(Ft.create(a.doc,p+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[C6({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),Fie=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,$ie=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Vie=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Uie=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Hie=Os.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Gn(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[ju({find:Fie,type:this.type}),ju({find:Vie,type:this.type})]},addPasteRules(){return[oc({find:$ie,type:this.type}),oc({find:Uie,type:this.type})]}}),qie=lr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Gn(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Kie="listItem",t3="textStyle",n3=/^(\d+)\.\s$/,Yie=lr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Gn(this.options.HTMLAttributes,n),0]:["ol",Gn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Kie,this.editor.getAttributes(t3)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=rh({find:n3,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=rh({find:n3,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(t3)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),Wie=lr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Gn(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Gie=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Xie=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Qie=Os.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Gn(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[ju({find:Gie,type:this.type})]},addPasteRules(){return[oc({find:Xie,type:this.type})]}}),Jie=lr.create({name:"text",group:"inline"}),Zie=qr.create({name:"starterKit",addExtensions(){const t=[];return this.options.bold!==!1&&t.push(oie.configure(this.options.bold)),this.options.blockquote!==!1&&t.push(nie.configure(this.options.blockquote)),this.options.bulletList!==!1&&t.push(cie.configure(this.options.bulletList)),this.options.code!==!1&&t.push(fie.configure(this.options.code)),this.options.codeBlock!==!1&&t.push(mie.configure(this.options.codeBlock)),this.options.document!==!1&&t.push(gie.configure(this.options.document)),this.options.dropcursor!==!1&&t.push(xie.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&t.push(Eie.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&t.push(Aie.configure(this.options.hardBreak)),this.options.heading!==!1&&t.push(q6.configure(this.options.heading)),this.options.history!==!1&&t.push(Iie.configure(this.options.history)),this.options.horizontalRule!==!1&&t.push(Bie.configure(this.options.horizontalRule)),this.options.italic!==!1&&t.push(Hie.configure(this.options.italic)),this.options.listItem!==!1&&t.push(qie.configure(this.options.listItem)),this.options.orderedList!==!1&&t.push(Yie.configure(this.options.orderedList)),this.options.paragraph!==!1&&t.push(Wie.configure(this.options.paragraph)),this.options.strike!==!1&&t.push(Qie.configure(this.options.strike)),this.options.text!==!1&&t.push(Jie.configure(this.options.text)),t}}),ese=qr.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),tse=Os.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Gn(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),nse=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,rse=lr.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",Gn(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[C6({find:nse,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),ise="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",sse="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",K1="numeric",Y1="ascii",W1="alpha",Tf="asciinumeric",of="alphanumeric",G1="domain",X6="emoji",ase="scheme",ose="slashscheme",gb="whitespace";function lse(t,e){return t in e||(e[t]=[]),e[t]}function Bl(t,e,n){e[K1]&&(e[Tf]=!0,e[of]=!0),e[Y1]&&(e[Tf]=!0,e[W1]=!0),e[Tf]&&(e[of]=!0),e[W1]&&(e[of]=!0),e[of]&&(e[G1]=!0),e[X6]&&(e[G1]=!0);for(const r in e){const i=lse(r,n);i.indexOf(t)<0&&i.push(t)}}function cse(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Si(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Si.groups={};Si.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||Si.groups;let i;return e&&e.j?i=e:(i=new Si(e),n&&r&&Bl(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const s=t.length;if(!s)return i;for(let a=0;a<s-1;a++)i=i.tt(t[a]);return i.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||Si.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let a,l=i.go(t);if(l?(a=new Si,Object.assign(a.j,l.j),a.jr.push.apply(a.jr,l.jr),a.jd=l.jd,a.t=l.t):a=new Si,s){if(r)if(a.t&&typeof a.t=="string"){const u=Object.assign(cse(a.t,r),n);Bl(s,u,r)}else n&&Bl(s,n,r);a.t=s}return i.j[t]=a,a}};const an=(t,e,n,r,i)=>t.ta(e,n,r,i),rr=(t,e,n,r,i)=>t.tr(e,n,r,i),r3=(t,e,n,r,i)=>t.ts(e,n,r,i),et=(t,e,n,r,i)=>t.tt(e,n,r,i),Ma="WORD",X1="UWORD",Q6="ASCIINUMERICAL",J6="ALPHANUMERICAL",ah="LOCALHOST",Q1="TLD",J1="UTLD",$m="SCHEME",iu="SLASH_SCHEME",mS="NUM",Z1="WS",gS="NL",jf="OPENBRACE",Ef="CLOSEBRACE",Ag="OPENBRACKET",kg="CLOSEBRACKET",Og="OPENPAREN",Mg="CLOSEPAREN",Dg="OPENANGLEBRACKET",Rg="CLOSEANGLEBRACKET",_g="FULLWIDTHLEFTPAREN",Lg="FULLWIDTHRIGHTPAREN",Pg="LEFTCORNERBRACKET",zg="RIGHTCORNERBRACKET",Ig="LEFTWHITECORNERBRACKET",Bg="RIGHTWHITECORNERBRACKET",Fg="FULLWIDTHLESSTHAN",$g="FULLWIDTHGREATERTHAN",Vg="AMPERSAND",Ug="APOSTROPHE",Hg="ASTERISK",So="AT",qg="BACKSLASH",Kg="BACKTICK",Yg="CARET",Eo="COLON",yS="COMMA",Wg="DOLLAR",Us="DOT",Gg="EQUALS",vS="EXCLAMATION",as="HYPHEN",Af="PERCENT",Xg="PIPE",Qg="PLUS",Jg="POUND",kf="QUERY",xS="QUOTE",Z6="FULLWIDTHMIDDLEDOT",bS="SEMI",Hs="SLASH",Of="TILDE",Zg="UNDERSCORE",e_="EMOJI",ey="SYM";var t_=Object.freeze({__proto__:null,ALPHANUMERICAL:J6,AMPERSAND:Vg,APOSTROPHE:Ug,ASCIINUMERICAL:Q6,ASTERISK:Hg,AT:So,BACKSLASH:qg,BACKTICK:Kg,CARET:Yg,CLOSEANGLEBRACKET:Rg,CLOSEBRACE:Ef,CLOSEBRACKET:kg,CLOSEPAREN:Mg,COLON:Eo,COMMA:yS,DOLLAR:Wg,DOT:Us,EMOJI:e_,EQUALS:Gg,EXCLAMATION:vS,FULLWIDTHGREATERTHAN:$g,FULLWIDTHLEFTPAREN:_g,FULLWIDTHLESSTHAN:Fg,FULLWIDTHMIDDLEDOT:Z6,FULLWIDTHRIGHTPAREN:Lg,HYPHEN:as,LEFTCORNERBRACKET:Pg,LEFTWHITECORNERBRACKET:Ig,LOCALHOST:ah,NL:gS,NUM:mS,OPENANGLEBRACKET:Dg,OPENBRACE:jf,OPENBRACKET:Ag,OPENPAREN:Og,PERCENT:Af,PIPE:Xg,PLUS:Qg,POUND:Jg,QUERY:kf,QUOTE:xS,RIGHTCORNERBRACKET:zg,RIGHTWHITECORNERBRACKET:Bg,SCHEME:$m,SEMI:bS,SLASH:Hs,SLASH_SCHEME:iu,SYM:ey,TILDE:Of,TLD:Q1,UNDERSCORE:Zg,UTLD:J1,UWORD:X1,WORD:Ma,WS:Z1});const Aa=/[a-z]/,Qd=new RegExp("\\p{L}","u"),yb=new RegExp("\\p{Emoji}","u"),ka=/\d/,vb=/\s/,i3="\r",xb=`
`,use="",dse="",bb="";let dm=null,fm=null;function fse(t=[]){const e={};Si.groups=e;const n=new Si;dm==null&&(dm=s3(ise)),fm==null&&(fm=s3(sse)),et(n,"'",Ug),et(n,"{",jf),et(n,"}",Ef),et(n,"[",Ag),et(n,"]",kg),et(n,"(",Og),et(n,")",Mg),et(n,"<",Dg),et(n,">",Rg),et(n,"",_g),et(n,"",Lg),et(n,"",Pg),et(n,"",zg),et(n,"",Ig),et(n,"",Bg),et(n,"",Fg),et(n,"",$g),et(n,"&",Vg),et(n,"*",Hg),et(n,"@",So),et(n,"`",Kg),et(n,"^",Yg),et(n,":",Eo),et(n,",",yS),et(n,"$",Wg),et(n,".",Us),et(n,"=",Gg),et(n,"!",vS),et(n,"-",as),et(n,"%",Af),et(n,"|",Xg),et(n,"+",Qg),et(n,"#",Jg),et(n,"?",kf),et(n,'"',xS),et(n,"/",Hs),et(n,";",bS),et(n,"~",Of),et(n,"_",Zg),et(n,"\\",qg),et(n,"",Z6);const r=rr(n,ka,mS,{[K1]:!0});rr(r,ka,r);const i=rr(r,Aa,Q6,{[Tf]:!0}),s=rr(r,Qd,J6,{[of]:!0}),a=rr(n,Aa,Ma,{[Y1]:!0});rr(a,ka,i),rr(a,Aa,a),rr(i,ka,i),rr(i,Aa,i);const l=rr(n,Qd,X1,{[W1]:!0});rr(l,Aa),rr(l,ka,s),rr(l,Qd,l),rr(s,ka,s),rr(s,Aa),rr(s,Qd,s);const u=et(n,xb,gS,{[gb]:!0}),f=et(n,i3,Z1,{[gb]:!0}),p=rr(n,vb,Z1,{[gb]:!0});et(n,bb,p),et(f,xb,u),et(f,bb,p),rr(f,vb,p),et(p,i3),et(p,xb),rr(p,vb,p),et(p,bb,p);const m=rr(n,yb,e_,{[X6]:!0});et(m,"#"),rr(m,yb,m),et(m,use,m);const y=et(m,dse);et(y,"#"),rr(y,yb,m);const v=[[Aa,a],[ka,i]],b=[[Aa,null],[Qd,l],[ka,s]];for(let S=0;S<dm.length;S++)go(n,dm[S],Q1,Ma,v);for(let S=0;S<fm.length;S++)go(n,fm[S],J1,X1,b);Bl(Q1,{tld:!0,ascii:!0},e),Bl(J1,{utld:!0,alpha:!0},e),go(n,"file",$m,Ma,v),go(n,"mailto",$m,Ma,v),go(n,"http",iu,Ma,v),go(n,"https",iu,Ma,v),go(n,"ftp",iu,Ma,v),go(n,"ftps",iu,Ma,v),Bl($m,{scheme:!0,ascii:!0},e),Bl(iu,{slashscheme:!0,ascii:!0},e),t=t.sort((S,C)=>S[0]>C[0]?1:-1);for(let S=0;S<t.length;S++){const C=t[S][0],O=t[S][1]?{[ase]:!0}:{[ose]:!0};C.indexOf("-")>=0?O[G1]=!0:Aa.test(C)?ka.test(C)?O[Tf]=!0:O[Y1]=!0:O[K1]=!0,r3(n,C,C,O)}return r3(n,"localhost",ah,{ascii:!0}),n.jd=new Si(ey),{start:n,tokens:Object.assign({groups:e},t_)}}function n_(t,e){const n=hse(e.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,i=[];let s=0,a=0;for(;a<r;){let l=t,u=null,f=0,p=null,m=-1,y=-1;for(;a<r&&(u=l.go(n[a]));)l=u,l.accepts()?(m=0,y=0,p=l):m>=0&&(m+=n[a].length,y++),f+=n[a].length,s+=n[a].length,a++;s-=m,a-=y,f-=m,i.push({t:p.t,v:e.slice(s-f,s),s:s-f,e:s})}return i}function hse(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),s,a=i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(a),r+=a.length}return e}function go(t,e,n,r,i){let s;const a=e.length;for(let l=0;l<a-1;l++){const u=e[l];t.j[u]?s=t.j[u]:(s=new Si(r),s.jr=i.slice(),t.j[u]=s),t=s}return s=new Si(n),s.jr=i.slice(),t.j[e[a-1]]=s,s}function s3(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let s=0;for(;i.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let a=parseInt(t.substring(r,r+s),10);a>0;a--)n.pop();r+=s}else n.push(t[r]),r++}return e}const oh={defaultProtocol:"http",events:null,format:a3,formatHref:a3,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function wS(t,e=null){let n=Object.assign({},oh);t&&(n=Object.assign(n,t instanceof wS?t.o:t));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}wS.prototype={o:oh,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:oh[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function a3(t){return t}function r_(t,e){this.t="token",this.v=t,this.tk=e}r_.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=oh.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),s=this.toFormattedString(t),a={},l=t.get("className",n,e),u=t.get("target",n,e),f=t.get("rel",n,e),p=t.getObj("attributes",n,e),m=t.getObj("events",n,e);return a.href=r,l&&(a.class=l),u&&(a.target=u),f&&(a.rel=f),p&&Object.assign(a,p),{tagName:i,attributes:a,content:s,eventListeners:m}}};function Ky(t,e){class n extends r_{constructor(i,s){super(i,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const o3=Ky("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),l3=Ky("text"),pse=Ky("nl"),hm=Ky("url",{isLink:!0,toHref(t=oh.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==ah&&t[1].t===Eo}}),is=t=>new Si(t);function mse({groups:t}){const e=t.domain.concat([Vg,Hg,So,qg,Kg,Yg,Wg,Gg,as,mS,Af,Xg,Qg,Jg,Hs,ey,Of,Zg]),n=[Ug,Eo,yS,Us,vS,Af,kf,xS,bS,Dg,Rg,jf,Ef,kg,Ag,Og,Mg,_g,Lg,Pg,zg,Ig,Bg,Fg,$g],r=[Vg,Ug,Hg,qg,Kg,Yg,Wg,Gg,as,jf,Ef,Af,Xg,Qg,Jg,kf,Hs,ey,Of,Zg],i=is(),s=et(i,Of);an(s,r,s),an(s,t.domain,s);const a=is(),l=is(),u=is();an(i,t.domain,a),an(i,t.scheme,l),an(i,t.slashscheme,u),an(a,r,s),an(a,t.domain,a);const f=et(a,So);et(s,So,f),et(l,So,f),et(u,So,f);const p=et(s,Us);an(p,r,s),an(p,t.domain,s);const m=is();an(f,t.domain,m),an(m,t.domain,m);const y=et(m,Us);an(y,t.domain,m);const v=is(o3);an(y,t.tld,v),an(y,t.utld,v),et(f,ah,v);const b=et(m,as);et(b,as,b),an(b,t.domain,m),an(v,t.domain,m),et(v,Us,y),et(v,as,b);const S=et(v,Eo);an(S,t.numeric,o3);const C=et(a,as),N=et(a,Us);et(C,as,C),an(C,t.domain,a),an(N,r,s),an(N,t.domain,a);const O=is(hm);an(N,t.tld,O),an(N,t.utld,O),an(O,t.domain,a),an(O,r,s),et(O,Us,N),et(O,as,C),et(O,So,f);const D=et(O,Eo),R=is(hm);an(D,t.numeric,R);const E=is(hm),k=is();an(E,e,E),an(E,n,k),an(k,e,E),an(k,n,k),et(O,Hs,E),et(R,Hs,E);const P=et(l,Eo),F=et(u,Eo),G=et(F,Hs),ge=et(G,Hs);an(l,t.domain,a),et(l,Us,N),et(l,as,C),an(u,t.domain,a),et(u,Us,N),et(u,as,C),an(P,t.domain,E),et(P,Hs,E),et(P,kf,E),an(ge,t.domain,E),an(ge,e,E),et(ge,Hs,E);const oe=[[jf,Ef],[Ag,kg],[Og,Mg],[Dg,Rg],[_g,Lg],[Pg,zg],[Ig,Bg],[Fg,$g]];for(let ne=0;ne<oe.length;ne++){const[ee,Ee]=oe[ne],Oe=et(E,ee);et(k,ee,Oe),et(Oe,Ee,E);const K=is(hm);an(Oe,e,K);const re=is();an(Oe,n),an(K,e,K),an(K,n,re),an(re,e,K),an(re,n,re),et(K,Ee,E),et(re,Ee,E)}return et(i,ah,O),et(i,gS,pse),{start:i,tokens:t_}}function gse(t,e,n){let r=n.length,i=0,s=[],a=[];for(;i<r;){let l=t,u=null,f=null,p=0,m=null,y=-1;for(;i<r&&!(u=l.go(n[i].t));)a.push(n[i++]);for(;i<r&&(f=u||l.go(n[i].t));)u=null,l=f,l.accepts()?(y=0,m=l):y>=0&&y++,i++,p++;if(y<0)i-=p,i<r&&(a.push(n[i]),i++);else{a.length>0&&(s.push(wb(l3,e,a)),a=[]),i-=y,p-=y;const v=m.t,b=n.slice(i-p,i);s.push(wb(v,e,b))}}return a.length>0&&s.push(wb(l3,e,a)),s}function wb(t,e,n){const r=n[0].s,i=n[n.length-1].e,s=e.slice(r,i);return new t(s,n)}const yse=typeof console<"u"&&console&&console.warn||(()=>{}),vse="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Vn={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function xse(){return Si.groups={},Vn.scanner=null,Vn.parser=null,Vn.tokenQueue=[],Vn.pluginQueue=[],Vn.customSchemes=[],Vn.initialized=!1,Vn}function c3(t,e=!1){if(Vn.initialized&&yse(`linkifyjs: already initialized - will not register custom scheme "${t}" ${vse}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Vn.customSchemes.push([t,e])}function bse(){Vn.scanner=fse(Vn.customSchemes);for(let t=0;t<Vn.tokenQueue.length;t++)Vn.tokenQueue[t][1]({scanner:Vn.scanner});Vn.parser=mse(Vn.scanner.tokens);for(let t=0;t<Vn.pluginQueue.length;t++)Vn.pluginQueue[t][1]({scanner:Vn.scanner,parser:Vn.parser});return Vn.initialized=!0,Vn}function SS(t){return Vn.initialized||bse(),gse(Vn.parser.start,t,n_(Vn.scanner.start,t))}SS.scan=n_;function i_(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new wS(n),i=SS(t),s=[];for(let a=0;a<i.length;a++){const l=i[a];l.isLink&&(!e||l.t===e)&&r.check(l)&&s.push(l.toFormattedObject(r))}return s}const CS="[\0- -\u2029]",wse=new RegExp(CS),Sse=new RegExp(`${CS}$`),Cse=new RegExp(CS,"g");function Nse(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function Tse(t){return new Sr({key:new Kr("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(f=>f.docChanged)&&!n.doc.eq(r.doc),s=e.some(f=>f.getMeta("preventAutolink"));if(!i||s)return;const{tr:a}=r,l=pte(n.doc,[...e]);if(wte(l).forEach(({newRange:f})=>{const p=gte(r.doc,f,v=>v.isTextblock);let m,y;if(p.length>1)m=p[0],y=r.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(p.length){const v=r.doc.textBetween(f.from,f.to," "," ");if(!Sse.test(v))return;m=p[0],y=r.doc.textBetween(m.pos,f.to,void 0," ")}if(m&&y){const v=y.split(wse).filter(Boolean);if(v.length<=0)return!1;const b=v[v.length-1],S=m.pos+y.lastIndexOf(b);if(!b)return!1;const C=SS(b).map(N=>N.toObject(t.defaultProtocol));if(!Nse(C))return!1;C.filter(N=>N.isLink).map(N=>({...N,from:S+N.start+1,to:S+N.end+1})).filter(N=>r.schema.marks.code?!r.doc.rangeHasMark(N.from,N.to,r.schema.marks.code):!0).filter(N=>t.validate(N.value)).filter(N=>t.shouldAutoLink(N.value)).forEach(N=>{eS(N.from,N.to,r.doc).some(O=>O.mark.type===t.type)||a.addMark(N.from,N.to,t.type.create({href:N.href}))})}}),!!a.steps.length)return a}})}function jse(t){return new Sr({key:new Kr("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let a=r.target;const l=[];for(;a.nodeName!=="DIV";)l.push(a),a=a.parentNode;if(!l.find(y=>y.nodeName==="A"))return!1;const u=w6(e.state,t.type.name),f=r.target,p=(i=f?.href)!==null&&i!==void 0?i:u.href,m=(s=f?.target)!==null&&s!==void 0?s:u.target;return f&&p?(window.open(p,m),!0):!1}}})}function Ese(t){return new Sr({key:new Kr("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:i}=e,{selection:s}=i,{empty:a}=s;if(a)return!1;let l="";r.content.forEach(f=>{l+=f.textContent});const u=i_(l,{defaultProtocol:t.defaultProtocol}).find(f=>f.isLink&&f.value===l);return!l||!u?!1:t.editor.commands.setMark(t.type,{href:u.href})}}})}function Cl(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(Cse,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const Ase=Os.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){c3(t);return}c3(t.scheme,t.optionalSlashes)})},onDestroy(){xse()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Cl(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Cl(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Cl(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Gn(this.options.HTMLAttributes,t),0]:["a",Gn(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Cl(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Cl(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[oc({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=i_(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:a=>!!Cl(a,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(s=>e.push({text:s.value,data:{href:s.href},index:s.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(Tse({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Cl(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(jse({type:this.type})),this.options.linkOnPaste&&t.push(Ese({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}});var ew,tw;if(typeof WeakMap<"u"){let t=new WeakMap;ew=e=>t.get(e),tw=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;ew=r=>{for(let i=0;i<t.length;i+=2)if(t[i]==r)return t[i+1]},tw=(r,i)=>(n==10&&(n=0),t[n++]=r,t[n++]=i)}var or=class{constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,i=e/this.width|0;let s=r+1,a=i+1;for(let l=1;s<this.width&&this.map[e+l]==n;l++)s++;for(let l=1;a<this.height&&this.map[e+this.width*l]==n;l++)a++;return{left:r,top:i,right:s,bottom:a}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:i,top:s,bottom:a}=this.findCell(t);return e=="horiz"?(n<0?r==0:i==this.width)?null:this.map[s*this.width+(n<0?r-1:i)]:(n<0?s==0:a==this.height)?null:this.map[r+this.width*(n<0?s-1:a)]}rectBetween(t,e){const{left:n,right:r,top:i,bottom:s}=this.findCell(t),{left:a,right:l,top:u,bottom:f}=this.findCell(e);return{left:Math.min(n,a),top:Math.min(i,u),right:Math.max(r,l),bottom:Math.max(s,f)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let i=t.left;i<t.right;i++){const s=r*this.width+i,a=this.map[s];n[a]||(n[a]=!0,!(i==t.left&&i&&this.map[s-1]==a||r==t.top&&r&&this.map[s-this.width]==a)&&e.push(a))}return e}positionAt(t,e,n){for(let r=0,i=0;;r++){const s=i+n.child(r).nodeSize;if(r==t){let a=e+t*this.width;const l=(t+1)*this.width;for(;a<l&&this.map[a]<i;)a++;return a==l?s-1:this.map[a]}i=s}}static get(t){return ew(t)||tw(t,kse(t))}};function kse(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=Ose(t),n=t.childCount,r=[];let i=0,s=null;const a=[];for(let f=0,p=e*n;f<p;f++)r[f]=0;for(let f=0,p=0;f<n;f++){const m=t.child(f);p++;for(let b=0;;b++){for(;i<r.length&&r[i]!=0;)i++;if(b==m.childCount)break;const S=m.child(b),{colspan:C,rowspan:N,colwidth:O}=S.attrs;for(let D=0;D<N;D++){if(D+f>=n){(s||(s=[])).push({type:"overlong_rowspan",pos:p,n:N-D});break}const R=i+D*e;for(let E=0;E<C;E++){r[R+E]==0?r[R+E]=p:(s||(s=[])).push({type:"collision",row:f,pos:p,n:C-E});const k=O&&O[E];if(k){const P=(R+E)%e*2,F=a[P];F==null||F!=k&&a[P+1]==1?(a[P]=k,a[P+1]=1):F==k&&a[P+1]++}}}i+=C,p+=S.nodeSize}const y=(f+1)*e;let v=0;for(;i<y;)r[i++]==0&&v++;v&&(s||(s=[])).push({type:"missing",row:f,n:v}),p++}(e===0||n===0)&&(s||(s=[])).push({type:"zero_sized"});const l=new or(e,n,r,s);let u=!1;for(let f=0;!u&&f<a.length;f+=2)a[f]!=null&&a[f+1]<n&&(u=!0);return u&&Mse(l,a,t),l}function Ose(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const i=t.child(r);let s=0;if(n)for(let a=0;a<r;a++){const l=t.child(a);for(let u=0;u<l.childCount;u++){const f=l.child(u);a+f.attrs.rowspan>r&&(s+=f.attrs.colspan)}}for(let a=0;a<i.childCount;a++){const l=i.child(a);s+=l.attrs.colspan,l.attrs.rowspan>1&&(n=!0)}e==-1?e=s:e!=s&&(e=Math.max(e,s))}return e}function Mse(t,e,n){t.problems||(t.problems=[]);const r={};for(let i=0;i<t.map.length;i++){const s=t.map[i];if(r[s])continue;r[s]=!0;const a=n.nodeAt(s);if(!a)throw new RangeError(`No cell with offset ${s} found`);let l=null;const u=a.attrs;for(let f=0;f<u.colspan;f++){const p=(i+f)%t.width,m=e[p*2];m!=null&&(!u.colwidth||u.colwidth[f]!=m)&&((l||(l=Dse(u)))[f]=m)}l&&t.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:l})}}function Dse(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function ni(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],i=r.spec.tableRole;i&&(e[i]=r)}}return e}var Ao=new Kr("selectingCells");function Fu(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function Rse(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function Ls(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function Yy(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=Fu(e.$head)||_se(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function _se(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function nw(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function Lse(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function NS(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function s_(t,e,n){const r=t.node(-1),i=or.get(r),s=t.start(-1),a=i.nextCell(t.pos-s,e,n);return a==null?null:t.node(0).resolve(s+a)}function cc(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function a_(t,e,n=1){const r={...t,colspan:t.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(e,0,0)}return r}function Pse(t,e,n){const r=ni(e.type.schema).header_cell;for(let i=0;i<t.height;i++)if(e.nodeAt(t.map[n+i*t.width]).type!=r)return!1;return!0}var Bn=class Da extends Ht{constructor(e,n=e){const r=e.node(-1),i=or.get(r),s=e.start(-1),a=i.rectBetween(e.pos-s,n.pos-s),l=e.node(0),u=i.cellsInRect(a).filter(p=>p!=n.pos-s);u.unshift(n.pos-s);const f=u.map(p=>{const m=r.nodeAt(p);if(!m)throw RangeError(`No cell with offset ${p} found`);const y=s+p+1;return new gR(l.resolve(y),l.resolve(y+m.content.size))});super(f[0].$from,f[0].$to,f),this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),i=e.resolve(n.map(this.$headCell.pos));if(nw(r)&&nw(i)&&NS(r,i)){const s=this.$anchorCell.node(-1)!=r.node(-1);return s&&this.isRowSelection()?Da.rowSelection(r,i):s&&this.isColSelection()?Da.colSelection(r,i):new Da(r,i)}return Ft.between(r,i)}content(){const e=this.$anchorCell.node(-1),n=or.get(e),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),s={},a=[];for(let u=i.top;u<i.bottom;u++){const f=[];for(let p=u*n.width+i.left,m=i.left;m<i.right;m++,p++){const y=n.map[p];if(s[y])continue;s[y]=!0;const v=n.findCell(y);let b=e.nodeAt(y);if(!b)throw RangeError(`No cell with offset ${y} found`);const S=i.left-v.left,C=v.right-i.right;if(S>0||C>0){let N=b.attrs;if(S>0&&(N=cc(N,0,S)),C>0&&(N=cc(N,N.colspan-C,C)),v.left<i.left){if(b=b.type.createAndFill(N),!b)throw RangeError(`Could not create cell with attrs ${JSON.stringify(N)}`)}else b=b.type.create(N,b.content)}if(v.top<i.top||v.bottom>i.bottom){const N={...b.attrs,rowspan:Math.min(v.bottom,i.bottom)-Math.max(v.top,i.top)};v.top<i.top?b=b.type.createAndFill(N):b=b.type.create(N,b.content)}f.push(b)}a.push(e.child(u).copy(He.from(f)))}const l=this.isColSelection()&&this.isRowSelection()?e:a;return new ct(He.from(l),1,1)}replace(e,n=ct.empty){const r=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){const{$from:l,$to:u}=i[a],f=e.mapping.slice(r);e.replace(f.map(l.pos),f.map(u.pos),a?ct.empty:n)}const s=Ht.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);s&&e.setSelection(s)}replaceWith(e,n){this.replace(e,new ct(He.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=or.get(n),i=this.$anchorCell.start(-1),s=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let a=0;a<s.length;a++)e(n.nodeAt(s[a]),i+s[a])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=e.node(-1),i=or.get(r),s=e.start(-1),a=i.findCell(e.pos-s),l=i.findCell(n.pos-s),u=e.node(0);return a.top<=l.top?(a.top>0&&(e=u.resolve(s+i.map[a.left])),l.bottom<i.height&&(n=u.resolve(s+i.map[i.width*(i.height-1)+l.right-1]))):(l.top>0&&(n=u.resolve(s+i.map[l.left])),a.bottom<i.height&&(e=u.resolve(s+i.map[i.width*(i.height-1)+a.right-1]))),new Da(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=or.get(e),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),s=n.colCount(this.$headCell.pos-r);if(Math.min(i,s)>0)return!1;const a=i+this.$anchorCell.nodeAfter.attrs.colspan,l=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,l)==n.width}eq(e){return e instanceof Da&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=e.node(-1),i=or.get(r),s=e.start(-1),a=i.findCell(e.pos-s),l=i.findCell(n.pos-s),u=e.node(0);return a.left<=l.left?(a.left>0&&(e=u.resolve(s+i.map[a.top*i.width])),l.right<i.width&&(n=u.resolve(s+i.map[i.width*(l.top+1)-1]))):(l.left>0&&(n=u.resolve(s+i.map[l.top*i.width])),a.right<i.width&&(e=u.resolve(s+i.map[i.width*(a.top+1)-1]))),new Da(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new Da(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new Da(e.resolve(n),e.resolve(r))}getBookmark(){return new zse(this.$anchorCell.pos,this.$headCell.pos)}};Bn.prototype.visible=!1;Ht.jsonID("cell",Bn);var zse=class o_{constructor(e,n){this.anchor=e,this.head=n}map(e){return new o_(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&NS(n,r)?new Bn(n,r):Ht.near(r,1)}};function Ise(t){if(!(t.selection instanceof Bn))return null;const e=[];return t.selection.forEachCell((n,r)=>{e.push(ci.node(r,r+n.nodeSize,{class:"selectedCell"}))}),sr.create(t.doc,e)}function Bse({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,r=e.pos,i=t.depth;for(;i>=0&&!(t.after(i+1)<t.end(i));i--,n++);for(let s=e.depth;s>=0&&!(e.before(s+1)>e.start(s));s--,r--);return n==r&&/row|table/.test(t.node(i).type.spec.tableRole)}function Fse({$from:t,$to:e}){let n,r;for(let i=t.depth;i>0;i--){const s=t.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){n=s;break}}for(let i=e.depth;i>0;i--){const s=e.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){r=s;break}}return n!==r&&e.parentOffset===0}function $se(t,e,n){const r=(e||t).selection,i=(e||t).doc;let s,a;if(r instanceof It&&(a=r.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")s=Bn.create(i,r.from);else if(a=="row"){const l=i.resolve(r.from+1);s=Bn.rowSelection(l,l)}else if(!n){const l=or.get(r.node),u=r.from+1,f=u+l.map[l.width*l.height-1];s=Bn.create(i,u+1,f)}}else r instanceof Ft&&Bse(r)?s=Ft.create(i,r.from):r instanceof Ft&&Fse(r)&&(s=Ft.create(i,r.$from.start(),r.$from.end()));return s&&(e||(e=t.tr)).setSelection(s),e}var Vse=new Kr("fix-tables");function l_(t,e,n,r){const i=t.childCount,s=e.childCount;e:for(let a=0,l=0;a<s;a++){const u=e.child(a);for(let f=l,p=Math.min(i,a+3);f<p;f++)if(t.child(f)==u){l=f+1,n+=u.nodeSize;continue e}r(u,n),l<i&&t.child(l).sameMarkup(u)?l_(t.child(l),u,n+1,r):u.nodesBetween(0,u.content.size,r,n+1),n+=u.nodeSize}}function c_(t,e){let n;const r=(i,s)=>{i.type.spec.tableRole=="table"&&(n=Use(t,i,s,n))};return e?e.doc!=t.doc&&l_(e.doc,t.doc,0,r):t.doc.descendants(r),n}function Use(t,e,n,r){const i=or.get(e);if(!i.problems)return r;r||(r=t.tr);const s=[];for(let u=0;u<i.height;u++)s.push(0);for(let u=0;u<i.problems.length;u++){const f=i.problems[u];if(f.type=="collision"){const p=e.nodeAt(f.pos);if(!p)continue;const m=p.attrs;for(let y=0;y<m.rowspan;y++)s[f.row+y]+=f.n;r.setNodeMarkup(r.mapping.map(n+1+f.pos),null,cc(m,m.colspan-f.n,f.n))}else if(f.type=="missing")s[f.row]+=f.n;else if(f.type=="overlong_rowspan"){const p=e.nodeAt(f.pos);if(!p)continue;r.setNodeMarkup(r.mapping.map(n+1+f.pos),null,{...p.attrs,rowspan:p.attrs.rowspan-f.n})}else if(f.type=="colwidth mismatch"){const p=e.nodeAt(f.pos);if(!p)continue;r.setNodeMarkup(r.mapping.map(n+1+f.pos),null,{...p.attrs,colwidth:f.colwidth})}else if(f.type=="zero_sized"){const p=r.mapping.map(n);r.delete(p,p+e.nodeSize)}}let a,l;for(let u=0;u<s.length;u++)s[u]&&(a==null&&(a=u),l=u);for(let u=0,f=n+1;u<i.height;u++){const p=e.child(u),m=f+p.nodeSize,y=s[u];if(y>0){let v="cell";p.firstChild&&(v=p.firstChild.type.spec.tableRole);const b=[];for(let C=0;C<y;C++){const N=ni(t.schema)[v].createAndFill();N&&b.push(N)}const S=(u==0||a==u-1)&&l==u?f+1:m-1;r.insert(r.mapping.map(S),b)}f=m}return r.setMeta(Vse,{fixTables:!0})}function la(t){const e=t.selection,n=Yy(t),r=n.node(-1),i=n.start(-1),s=or.get(r);return{...e instanceof Bn?s.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):s.findCell(n.pos-i),tableStart:i,map:s,table:r}}function u_(t,{map:e,tableStart:n,table:r},i){let s=i>0?-1:0;Pse(e,r,i+s)&&(s=i==0||i==e.width?null:0);for(let a=0;a<e.height;a++){const l=a*e.width+i;if(i>0&&i<e.width&&e.map[l-1]==e.map[l]){const u=e.map[l],f=r.nodeAt(u);t.setNodeMarkup(t.mapping.map(n+u),null,a_(f.attrs,i-e.colCount(u))),a+=f.attrs.rowspan-1}else{const u=s==null?ni(r.type.schema).cell:r.nodeAt(e.map[l+s]).type,f=e.positionAt(a,i,r);t.insert(t.mapping.map(n+f),u.createAndFill())}}return t}function Hse(t,e){if(!Ls(t))return!1;if(e){const n=la(t);e(u_(t.tr,n,n.left))}return!0}function qse(t,e){if(!Ls(t))return!1;if(e){const n=la(t);e(u_(t.tr,n,n.right))}return!0}function Kse(t,{map:e,table:n,tableStart:r},i){const s=t.mapping.maps.length;for(let a=0;a<e.height;){const l=a*e.width+i,u=e.map[l],f=n.nodeAt(u),p=f.attrs;if(i>0&&e.map[l-1]==u||i<e.width-1&&e.map[l+1]==u)t.setNodeMarkup(t.mapping.slice(s).map(r+u),null,cc(p,i-e.colCount(u)));else{const m=t.mapping.slice(s).map(r+u);t.delete(m,m+f.nodeSize)}a+=p.rowspan}}function Yse(t,e){if(!Ls(t))return!1;if(e){const n=la(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;Kse(r,n,i),i!=n.left;i--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=or.get(s)}e(r)}return!0}function Wse(t,e,n){var r;const i=ni(e.type.schema).header_cell;for(let s=0;s<t.width;s++)if(((r=e.nodeAt(t.map[s+n*t.width]))==null?void 0:r.type)!=i)return!1;return!0}function d_(t,{map:e,tableStart:n,table:r},i){var s;let a=n;for(let f=0;f<i;f++)a+=r.child(f).nodeSize;const l=[];let u=i>0?-1:0;Wse(e,r,i+u)&&(u=i==0||i==e.height?null:0);for(let f=0,p=e.width*i;f<e.width;f++,p++)if(i>0&&i<e.height&&e.map[p]==e.map[p-e.width]){const m=e.map[p],y=r.nodeAt(m).attrs;t.setNodeMarkup(n+m,null,{...y,rowspan:y.rowspan+1}),f+=y.colspan-1}else{const m=u==null?ni(r.type.schema).cell:(s=r.nodeAt(e.map[p+u*e.width]))==null?void 0:s.type,y=m?.createAndFill();y&&l.push(y)}return t.insert(a,ni(r.type.schema).row.create(null,l)),t}function Gse(t,e){if(!Ls(t))return!1;if(e){const n=la(t);e(d_(t.tr,n,n.top))}return!0}function Xse(t,e){if(!Ls(t))return!1;if(e){const n=la(t);e(d_(t.tr,n,n.bottom))}return!0}function Qse(t,{map:e,table:n,tableStart:r},i){let s=0;for(let f=0;f<i;f++)s+=n.child(f).nodeSize;const a=s+n.child(i).nodeSize,l=t.mapping.maps.length;t.delete(s+r,a+r);const u=new Set;for(let f=0,p=i*e.width;f<e.width;f++,p++){const m=e.map[p];if(!u.has(m)){if(u.add(m),i>0&&m==e.map[p-e.width]){const y=n.nodeAt(m).attrs;t.setNodeMarkup(t.mapping.slice(l).map(m+r),null,{...y,rowspan:y.rowspan-1}),f+=y.colspan-1}else if(i<e.height&&m==e.map[p+e.width]){const y=n.nodeAt(m),v=y.attrs,b=y.type.create({...v,rowspan:y.attrs.rowspan-1},y.content),S=e.positionAt(i+1,f,n);t.insert(t.mapping.slice(l).map(r+S),b),f+=v.colspan-1}}}}function Jse(t,e){if(!Ls(t))return!1;if(e){const n=la(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;Qse(r,n,i),i!=n.top;i--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=or.get(n.table)}e(r)}return!0}function u3(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function Zse({width:t,height:e,map:n},r){let i=r.top*t+r.left,s=i,a=(r.bottom-1)*t+r.left,l=i+(r.right-r.left-1);for(let u=r.top;u<r.bottom;u++){if(r.left>0&&n[s]==n[s-1]||r.right<t&&n[l]==n[l+1])return!0;s+=t,l+=t}for(let u=r.left;u<r.right;u++){if(r.top>0&&n[i]==n[i-t]||r.bottom<e&&n[a]==n[a+t])return!0;i++,a++}return!1}function d3(t,e){const n=t.selection;if(!(n instanceof Bn)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=la(t),{map:i}=r;if(Zse(i,r))return!1;if(e){const s=t.tr,a={};let l=He.empty,u,f;for(let p=r.top;p<r.bottom;p++)for(let m=r.left;m<r.right;m++){const y=i.map[p*i.width+m],v=r.table.nodeAt(y);if(!(a[y]||!v))if(a[y]=!0,u==null)u=y,f=v;else{u3(v)||(l=l.append(v.content));const b=s.mapping.map(y+r.tableStart);s.delete(b,b+v.nodeSize)}}if(u==null||f==null)return!0;if(s.setNodeMarkup(u+r.tableStart,null,{...a_(f.attrs,f.attrs.colspan,r.right-r.left-f.attrs.colspan),rowspan:r.bottom-r.top}),l.size){const p=u+1+f.content.size,m=u3(f)?u+1:p;s.replaceWith(m+r.tableStart,p+r.tableStart,l)}s.setSelection(new Bn(s.doc.resolve(u+r.tableStart))),e(s)}return!0}function f3(t,e){const n=ni(t.schema);return eae(({node:r})=>n[r.type.spec.tableRole])(t,e)}function eae(t){return(e,n)=>{var r;const i=e.selection;let s,a;if(i instanceof Bn){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;s=i.$anchorCell.nodeAfter,a=i.$anchorCell.pos}else{if(s=Rse(i.$from),!s)return!1;a=(r=Fu(i.$from))==null?void 0:r.pos}if(s==null||a==null||s.attrs.colspan==1&&s.attrs.rowspan==1)return!1;if(n){let l=s.attrs;const u=[],f=l.colwidth;l.rowspan>1&&(l={...l,rowspan:1}),l.colspan>1&&(l={...l,colspan:1});const p=la(e),m=e.tr;for(let v=0;v<p.right-p.left;v++)u.push(f?{...l,colwidth:f&&f[v]?[f[v]]:null}:l);let y;for(let v=p.top;v<p.bottom;v++){let b=p.map.positionAt(v,p.left,p.table);v==p.top&&(b+=s.nodeSize);for(let S=p.left,C=0;S<p.right;S++,C++)S==p.left&&v==p.top||m.insert(y=m.mapping.map(b+p.tableStart,1),t({node:s,row:v,col:S}).createAndFill(u[C]))}m.setNodeMarkup(a,t({node:s,row:p.top,col:p.left}),u[0]),i instanceof Bn&&m.setSelection(new Bn(m.doc.resolve(i.$anchorCell.pos),y?m.doc.resolve(y):void 0)),n(m)}return!0}}function tae(t,e){return function(n,r){if(!Ls(n))return!1;const i=Yy(n);if(i.nodeAfter.attrs[t]===e)return!1;if(r){const s=n.tr;n.selection instanceof Bn?n.selection.forEachCell((a,l)=>{a.attrs[t]!==e&&s.setNodeMarkup(l,null,{...a.attrs,[t]:e})}):s.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[t]:e}),r(s)}return!0}}function nae(t){return function(e,n){if(!Ls(e))return!1;if(n){const r=ni(e.schema),i=la(e),s=e.tr,a=i.map.cellsInRect(t=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:t=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),l=a.map(u=>i.table.nodeAt(u));for(let u=0;u<a.length;u++)l[u].type==r.header_cell&&s.setNodeMarkup(i.tableStart+a[u],r.cell,l[u].attrs);if(s.steps.length==0)for(let u=0;u<a.length;u++)s.setNodeMarkup(i.tableStart+a[u],r.header_cell,l[u].attrs);n(s)}return!0}}function h3(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let i=0;i<r.length;i++){const s=e.table.nodeAt(r[i]);if(s&&s.type!==n.header_cell)return!1}return!0}function lh(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?nae(t):function(n,r){if(!Ls(n))return!1;if(r){const i=ni(n.schema),s=la(n),a=n.tr,l=h3("row",s,i),u=h3("column",s,i),p=(t==="column"?l:t==="row"?u:!1)?1:0,m=t=="column"?{left:0,top:p,right:1,bottom:s.map.height}:t=="row"?{left:p,top:0,right:s.map.width,bottom:1}:s,y=t=="column"?u?i.cell:i.header_cell:t=="row"?l?i.cell:i.header_cell:i.cell;s.map.cellsInRect(m).forEach(v=>{const b=v+s.tableStart,S=a.doc.nodeAt(b);S&&a.setNodeMarkup(b,y,S.attrs)}),r(a)}return!0}}lh("row",{useDeprecatedLogic:!0});lh("column",{useDeprecatedLogic:!0});var rae=lh("cell",{useDeprecatedLogic:!0});function iae(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,i=t.before();r>=0;r--){const s=t.node(-1).child(r),a=s.lastChild;if(a)return i-1-a.nodeSize;i-=s.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let r=t.indexAfter(-1),i=t.after();r<n.childCount;r++){const s=n.child(r);if(s.childCount)return i+1;i+=s.nodeSize}}return null}function p3(t){return function(e,n){if(!Ls(e))return!1;const r=iae(Yy(e),t);if(r==null)return!1;if(n){const i=e.doc.resolve(r);n(e.tr.setSelection(Ft.between(i,Lse(i))).scrollIntoView())}return!0}}function sae(t,e){const n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function pm(t,e){const n=t.selection;if(!(n instanceof Bn))return!1;if(e){const r=t.tr,i=ni(t.schema).cell.createAndFill().content;n.forEachCell((s,a)=>{s.content.eq(i)||r.replace(r.mapping.map(a+1),r.mapping.map(a+s.nodeSize-1),new ct(i,0,0))}),r.docChanged&&e(r)}return!0}function aae(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.child(0).type.spec.tableRole=="table");)n--,r--,e=e.child(0).content;const i=e.child(0),s=i.type.spec.tableRole,a=i.type.schema,l=[];if(s=="row")for(let u=0;u<e.childCount;u++){let f=e.child(u).content;const p=u?0:Math.max(0,n-1),m=u<e.childCount-1?0:Math.max(0,r-1);(p||m)&&(f=rw(ni(a).row,new ct(f,p,m)).content),l.push(f)}else if(s=="cell"||s=="header_cell")l.push(n||r?rw(ni(a).row,new ct(e,n,r)).content:e);else return null;return oae(a,l)}function oae(t,e){const n=[];for(let i=0;i<e.length;i++){const s=e[i];for(let a=s.childCount-1;a>=0;a--){const{rowspan:l,colspan:u}=s.child(a).attrs;for(let f=i;f<i+l;f++)n[f]=(n[f]||0)+u}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=e.length&&e.push(He.empty),n[i]<r){const s=ni(t).cell.createAndFill(),a=[];for(let l=n[i];l<r;l++)a.push(s);e[i]=e[i].append(He.from(a))}return{height:e.length,width:r,rows:e}}function rw(t,e){const n=t.createAndFill();return new M2(n).replace(0,n.content.size,e).doc}function lae({width:t,height:e,rows:n},r,i){if(t!=r){const s=[],a=[];for(let l=0;l<n.length;l++){const u=n[l],f=[];for(let p=s[l]||0,m=0;p<r;m++){let y=u.child(m%u.childCount);p+y.attrs.colspan>r&&(y=y.type.createChecked(cc(y.attrs,y.attrs.colspan,p+y.attrs.colspan-r),y.content)),f.push(y),p+=y.attrs.colspan;for(let v=1;v<y.attrs.rowspan;v++)s[l+v]=(s[l+v]||0)+y.attrs.colspan}a.push(He.from(f))}n=a,t=r}if(e!=i){const s=[];for(let a=0,l=0;a<i;a++,l++){const u=[],f=n[l%e];for(let p=0;p<f.childCount;p++){let m=f.child(p);a+m.attrs.rowspan>i&&(m=m.type.create({...m.attrs,rowspan:Math.max(1,i-m.attrs.rowspan)},m.content)),u.push(m)}s.push(He.from(u))}n=s,e=i}return{width:t,height:e,rows:n}}function cae(t,e,n,r,i,s,a){const l=t.doc.type.schema,u=ni(l);let f,p;if(i>e.width)for(let m=0,y=0;m<e.height;m++){const v=n.child(m);y+=v.nodeSize;const b=[];let S;v.lastChild==null||v.lastChild.type==u.cell?S=f||(f=u.cell.createAndFill()):S=p||(p=u.header_cell.createAndFill());for(let C=e.width;C<i;C++)b.push(S);t.insert(t.mapping.slice(a).map(y-1+r),b)}if(s>e.height){const m=[];for(let b=0,S=(e.height-1)*e.width;b<Math.max(e.width,i);b++){const C=b>=e.width?!1:n.nodeAt(e.map[S+b]).type==u.header_cell;m.push(C?p||(p=u.header_cell.createAndFill()):f||(f=u.cell.createAndFill()))}const y=u.row.create(null,He.from(m)),v=[];for(let b=e.height;b<s;b++)v.push(y);t.insert(t.mapping.slice(a).map(r+n.nodeSize-2),v)}return!!(f||p)}function m3(t,e,n,r,i,s,a,l){if(a==0||a==e.height)return!1;let u=!1;for(let f=i;f<s;f++){const p=a*e.width+f,m=e.map[p];if(e.map[p-e.width]==m){u=!0;const y=n.nodeAt(m),{top:v,left:b}=e.findCell(m);t.setNodeMarkup(t.mapping.slice(l).map(m+r),null,{...y.attrs,rowspan:a-v}),t.insert(t.mapping.slice(l).map(e.positionAt(a,b,n)),y.type.createAndFill({...y.attrs,rowspan:v+y.attrs.rowspan-a})),f+=y.attrs.colspan-1}}return u}function g3(t,e,n,r,i,s,a,l){if(a==0||a==e.width)return!1;let u=!1;for(let f=i;f<s;f++){const p=f*e.width+a,m=e.map[p];if(e.map[p-1]==m){u=!0;const y=n.nodeAt(m),v=e.colCount(m),b=t.mapping.slice(l).map(m+r);t.setNodeMarkup(b,null,cc(y.attrs,a-v,y.attrs.colspan-(a-v))),t.insert(b+y.nodeSize,y.type.createAndFill(cc(y.attrs,0,a-v))),f+=y.attrs.rowspan-1}}return u}function y3(t,e,n,r,i){let s=n?t.doc.nodeAt(n-1):t.doc;if(!s)throw new Error("No table found");let a=or.get(s);const{top:l,left:u}=r,f=u+i.width,p=l+i.height,m=t.tr;let y=0;function v(){if(s=n?m.doc.nodeAt(n-1):m.doc,!s)throw new Error("No table found");a=or.get(s),y=m.mapping.maps.length}cae(m,a,s,n,f,p,y)&&v(),m3(m,a,s,n,u,f,l,y)&&v(),m3(m,a,s,n,u,f,p,y)&&v(),g3(m,a,s,n,l,p,u,y)&&v(),g3(m,a,s,n,l,p,f,y)&&v();for(let b=l;b<p;b++){const S=a.positionAt(b,u,s),C=a.positionAt(b,f,s);m.replace(m.mapping.slice(y).map(S+n),m.mapping.slice(y).map(C+n),new ct(i.rows[b-l],0,0))}v(),m.setSelection(new Bn(m.doc.resolve(n+a.positionAt(l,u,s)),m.doc.resolve(n+a.positionAt(p-1,f-1,s)))),e(m)}var uae=V2({ArrowLeft:mm("horiz",-1),ArrowRight:mm("horiz",1),ArrowUp:mm("vert",-1),ArrowDown:mm("vert",1),"Shift-ArrowLeft":gm("horiz",-1),"Shift-ArrowRight":gm("horiz",1),"Shift-ArrowUp":gm("vert",-1),"Shift-ArrowDown":gm("vert",1),Backspace:pm,"Mod-Backspace":pm,Delete:pm,"Mod-Delete":pm});function Vm(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function mm(t,e){return(n,r,i)=>{if(!i)return!1;const s=n.selection;if(s instanceof Bn)return Vm(n,r,Ht.near(s.$headCell,e));if(t!="horiz"&&!s.empty)return!1;const a=f_(i,t,e);if(a==null)return!1;if(t=="horiz")return Vm(n,r,Ht.near(n.doc.resolve(s.head+e),e));{const l=n.doc.resolve(a),u=s_(l,t,e);let f;return u?f=Ht.near(u,1):e<0?f=Ht.near(n.doc.resolve(l.before(-1)),-1):f=Ht.near(n.doc.resolve(l.after(-1)),1),Vm(n,r,f)}}}function gm(t,e){return(n,r,i)=>{if(!i)return!1;const s=n.selection;let a;if(s instanceof Bn)a=s;else{const u=f_(i,t,e);if(u==null)return!1;a=new Bn(n.doc.resolve(u))}const l=s_(a.$headCell,t,e);return l?Vm(n,r,new Bn(a.$anchorCell,l)):!1}}function dae(t,e){const n=t.state.doc,r=Fu(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new Bn(r))),!0):!1}function fae(t,e,n){if(!Ls(t.state))return!1;let r=aae(n);const i=t.state.selection;if(i instanceof Bn){r||(r={width:1,height:1,rows:[He.from(rw(ni(t.state.schema).cell,n))]});const s=i.$anchorCell.node(-1),a=i.$anchorCell.start(-1),l=or.get(s).rectBetween(i.$anchorCell.pos-a,i.$headCell.pos-a);return r=lae(r,l.right-l.left,l.bottom-l.top),y3(t.state,t.dispatch,a,l,r),!0}else if(r){const s=Yy(t.state),a=s.start(-1);return y3(t.state,t.dispatch,a,or.get(s.node(-1)).findCell(s.pos-a),r),!0}else return!1}function hae(t,e){var n;if(e.ctrlKey||e.metaKey)return;const r=v3(t,e.target);let i;if(e.shiftKey&&t.state.selection instanceof Bn)s(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(i=Fu(t.state.selection.$anchor))!=null&&((n=Sb(t,e))==null?void 0:n.pos)!=i.pos)s(i,e),e.preventDefault();else if(!r)return;function s(u,f){let p=Sb(t,f);const m=Ao.getState(t.state)==null;if(!p||!NS(u,p))if(m)p=u;else return;const y=new Bn(u,p);if(m||!t.state.selection.eq(y)){const v=t.state.tr.setSelection(y);m&&v.setMeta(Ao,u.pos),t.dispatch(v)}}function a(){t.root.removeEventListener("mouseup",a),t.root.removeEventListener("dragstart",a),t.root.removeEventListener("mousemove",l),Ao.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(Ao,-1))}function l(u){const f=u,p=Ao.getState(t.state);let m;if(p!=null)m=t.state.doc.resolve(p);else if(v3(t,f.target)!=r&&(m=Sb(t,e),!m))return a();m&&s(m,f)}t.root.addEventListener("mouseup",a),t.root.addEventListener("dragstart",a),t.root.addEventListener("mousemove",l)}function f_(t,e,n){if(!(t.state.selection instanceof Ft))return null;const{$head:r}=t.state.selection;for(let i=r.depth-1;i>=0;i--){const s=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){const l=r.before(i),u=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(u)?l:null}}return null}function v3(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function Sb(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?Fu(t.state.doc.resolve(n.pos)):null}var pae=class{constructor(e,n){this.node=e,this.defaultCellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${n}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),iw(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,iw(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function iw(t,e,n,r,i,s){var a;let l=0,u=!0,f=e.firstChild;const p=t.firstChild;if(p){for(let m=0,y=0;m<p.childCount;m++){const{colspan:v,colwidth:b}=p.child(m).attrs;for(let S=0;S<v;S++,y++){const C=i==y?s:b&&b[S],N=C?C+"px":"";if(l+=C||r,C||(u=!1),f)f.style.width!=N&&(f.style.width=N),f=f.nextSibling;else{const O=document.createElement("col");O.style.width=N,e.appendChild(O)}}}for(;f;){const m=f.nextSibling;(a=f.parentNode)==null||a.removeChild(f),f=m}u?(n.style.width=l+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=l+"px")}}var Vi=new Kr("tableColumnResizing");function mae({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:r=pae,lastColumnResizable:i=!0}={}){const s=new Sr({key:Vi,state:{init(a,l){var u,f;const p=(f=(u=s.spec)==null?void 0:u.props)==null?void 0:f.nodeViews,m=ni(l.schema).table.name;return r&&p&&(p[m]=(y,v)=>new r(y,n,v)),new gae(-1,!1)},apply(a,l){return l.apply(a)}},props:{attributes:a=>{const l=Vi.getState(a);return l&&l.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(a,l)=>{yae(a,l,t,i)},mouseleave:a=>{vae(a)},mousedown:(a,l)=>{xae(a,l,e,n)}},decorations:a=>{const l=Vi.getState(a);if(l&&l.activeHandle>-1)return Nae(a,l.activeHandle)},nodeViews:{}}});return s}var gae=class Um{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,r=e.getMeta(Vi);if(r&&r.setHandle!=null)return new Um(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new Um(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){let i=e.mapping.map(n.activeHandle,-1);return nw(e.doc.resolve(i))||(i=-1),new Um(i,n.dragging)}return n}};function yae(t,e,n,r){if(!t.editable)return;const i=Vi.getState(t.state);if(i&&!i.dragging){const s=wae(e.target);let a=-1;if(s){const{left:l,right:u}=s.getBoundingClientRect();e.clientX-l<=n?a=x3(t,e,"left",n):u-e.clientX<=n&&(a=x3(t,e,"right",n))}if(a!=i.activeHandle){if(!r&&a!==-1){const l=t.state.doc.resolve(a),u=l.node(-1),f=or.get(u),p=l.start(-1);if(f.colCount(l.pos-p)+l.nodeAfter.attrs.colspan-1==f.width-1)return}h_(t,a)}}}function vae(t){if(!t.editable)return;const e=Vi.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&h_(t,-1)}function xae(t,e,n,r){var i;if(!t.editable)return!1;const s=(i=t.dom.ownerDocument.defaultView)!=null?i:window,a=Vi.getState(t.state);if(!a||a.activeHandle==-1||a.dragging)return!1;const l=t.state.doc.nodeAt(a.activeHandle),u=bae(t,a.activeHandle,l.attrs);t.dispatch(t.state.tr.setMeta(Vi,{setDragging:{startX:e.clientX,startWidth:u}}));function f(m){s.removeEventListener("mouseup",f),s.removeEventListener("mousemove",p);const y=Vi.getState(t.state);y?.dragging&&(Sae(t,y.activeHandle,b3(y.dragging,m,n)),t.dispatch(t.state.tr.setMeta(Vi,{setDragging:null})))}function p(m){if(!m.which)return f(m);const y=Vi.getState(t.state);if(y&&y.dragging){const v=b3(y.dragging,m,n);w3(t,y.activeHandle,v,r)}}return w3(t,a.activeHandle,u,r),s.addEventListener("mouseup",f),s.addEventListener("mousemove",p),e.preventDefault(),!0}function bae(t,e,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const s=t.domAtPos(e);let l=s.node.childNodes[s.offset].offsetWidth,u=n;if(r)for(let f=0;f<n;f++)r[f]&&(l-=r[f],u--);return l/u}function wae(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function x3(t,e,n,r){const i=n=="right"?-r:r,s=t.posAtCoords({left:e.clientX+i,top:e.clientY});if(!s)return-1;const{pos:a}=s,l=Fu(t.state.doc.resolve(a));if(!l)return-1;if(n=="right")return l.pos;const u=or.get(l.node(-1)),f=l.start(-1),p=u.map.indexOf(l.pos-f);return p%u.width==0?-1:f+u.map[p-1]}function b3(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function h_(t,e){t.dispatch(t.state.tr.setMeta(Vi,{setHandle:e}))}function Sae(t,e,n){const r=t.state.doc.resolve(e),i=r.node(-1),s=or.get(i),a=r.start(-1),l=s.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,u=t.state.tr;for(let f=0;f<s.height;f++){const p=f*s.width+l;if(f&&s.map[p]==s.map[p-s.width])continue;const m=s.map[p],y=i.nodeAt(m).attrs,v=y.colspan==1?0:l-s.colCount(m);if(y.colwidth&&y.colwidth[v]==n)continue;const b=y.colwidth?y.colwidth.slice():Cae(y.colspan);b[v]=n,u.setNodeMarkup(a+m,null,{...y,colwidth:b})}u.docChanged&&t.dispatch(u)}function w3(t,e,n,r){const i=t.state.doc.resolve(e),s=i.node(-1),a=i.start(-1),l=or.get(s).colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1;let u=t.domAtPos(i.start(-1)).node;for(;u&&u.nodeName!="TABLE";)u=u.parentNode;u&&iw(s,u.firstChild,u,r,l,n)}function Cae(t){return Array(t).fill(0)}function Nae(t,e){var n;const r=[],i=t.doc.resolve(e),s=i.node(-1);if(!s)return sr.empty;const a=or.get(s),l=i.start(-1),u=a.colCount(i.pos-l)+i.nodeAfter.attrs.colspan-1;for(let f=0;f<a.height;f++){const p=u+f*a.width;if((u==a.width-1||a.map[p]!=a.map[p+1])&&(f==0||a.map[p]!=a.map[p-a.width])){const m=a.map[p],y=l+m+s.nodeAt(m).nodeSize-1,v=document.createElement("div");v.className="column-resize-handle",(n=Vi.getState(t))!=null&&n.dragging&&r.push(ci.node(l+m,l+m+s.nodeAt(m).nodeSize,{class:"column-resize-dragging"})),r.push(ci.widget(y,v))}}return sr.create(t.doc,r)}function Tae({allowTableNodeSelection:t=!1}={}){return new Sr({key:Ao,state:{init(){return null},apply(e,n){const r=e.getMeta(Ao);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;const{deleted:i,pos:s}=e.mapping.mapResult(n);return i?null:s}},props:{decorations:Ise,handleDOMEvents:{mousedown:hae},createSelectionBetween(e){return Ao.getState(e.state)!=null?e.state.selection:null},handleTripleClick:dae,handleKeyDown:uae,handlePaste:fae},appendTransaction(e,n,r){return $se(r,c_(r,n),t)}})}function sw(t,e){return e?["width",`${Math.max(e,t)}px`]:["min-width",`${t}px`]}function S3(t,e,n,r,i,s){var a;let l=0,u=!0,f=e.firstChild;const p=t.firstChild;if(p!==null)for(let m=0,y=0;m<p.childCount;m+=1){const{colspan:v,colwidth:b}=p.child(m).attrs;for(let S=0;S<v;S+=1,y+=1){const C=i===y?s:b&&b[S],N=C?`${C}px`:"";if(l+=C||r,C||(u=!1),f){if(f.style.width!==N){const[O,D]=sw(r,C);f.style.setProperty(O,D)}f=f.nextSibling}else{const O=document.createElement("col"),[D,R]=sw(r,C);O.style.setProperty(D,R),e.appendChild(O)}}}for(;f;){const m=f.nextSibling;(a=f.parentNode)===null||a===void 0||a.removeChild(f),f=m}u?(n.style.width=`${l}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${l}px`)}class jae{constructor(e,n){this.node=e,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),S3(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,S3(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type==="attributes"&&(e.target===this.table||this.colgroup.contains(e.target))}}function Eae(t,e,n,r){let i=0,s=!0;const a=[],l=t.firstChild;if(!l)return{};for(let m=0,y=0;m<l.childCount;m+=1){const{colspan:v,colwidth:b}=l.child(m).attrs;for(let S=0;S<v;S+=1,y+=1){const C=n===y?r:b&&b[S];i+=C||e,C||(s=!1);const[N,O]=sw(e,C);a.push(["col",{style:`${N}: ${O}`}])}}const u=s?`${i}px`:"",f=s?"":`${i}px`;return{colgroup:["colgroup",{},...a],tableWidth:u,tableMinWidth:f}}function C3(t,e){return t.createAndFill()}function Aae(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(n=>{const r=t.nodes[n];r.spec.tableRole&&(e[r.spec.tableRole]=r)}),t.cached.tableNodeTypes=e,e}function kae(t,e,n,r,i){const s=Aae(t),a=[],l=[];for(let f=0;f<n;f+=1){const p=C3(s.cell);if(p&&l.push(p),r){const m=C3(s.header_cell);m&&a.push(m)}}const u=[];for(let f=0;f<e;f+=1)u.push(s.row.createChecked(null,r&&f===0?a:l));return s.table.createChecked(null,u)}function Oae(t){return t instanceof Bn}const ym=({editor:t})=>{const{selection:e}=t.state;if(!Oae(e))return!1;let n=0;const r=b6(e.ranges[0].$from,s=>s.type.name==="table");return r?.node.descendants(s=>{if(s.type.name==="table")return!1;["tableCell","tableHeader"].includes(s.type.name)&&(n+=1)}),n===e.ranges.length?(t.commands.deleteTable(),!0):!1},Mae=lr.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:jae,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:t,HTMLAttributes:e}){const{colgroup:n,tableWidth:r,tableMinWidth:i}=Eae(t,this.options.cellMinWidth);return["table",Gn(this.options.HTMLAttributes,e,{style:r?`width: ${r}`:`min-width: ${i}`}),n,["tbody",0]]},addCommands(){return{insertTable:({rows:t=3,cols:e=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:i,editor:s})=>{const a=kae(s.schema,t,e,n);if(i){const l=r.selection.from+1;r.replaceSelectionWith(a).scrollIntoView().setSelection(Ft.near(r.doc.resolve(l)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>Hse(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>qse(t,e),deleteColumn:()=>({state:t,dispatch:e})=>Yse(t,e),addRowBefore:()=>({state:t,dispatch:e})=>Gse(t,e),addRowAfter:()=>({state:t,dispatch:e})=>Xse(t,e),deleteRow:()=>({state:t,dispatch:e})=>Jse(t,e),deleteTable:()=>({state:t,dispatch:e})=>sae(t,e),mergeCells:()=>({state:t,dispatch:e})=>d3(t,e),splitCell:()=>({state:t,dispatch:e})=>f3(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>lh("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>lh("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>rae(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>d3(t,e)?!0:f3(t,e),setCellAttribute:(t,e)=>({state:n,dispatch:r})=>tae(t,e)(n,r),goToNextCell:()=>({state:t,dispatch:e})=>p3(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>p3(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&c_(t),!0),setCellSelection:t=>({tr:e,dispatch:n})=>{if(n){const r=Bn.create(e.doc,t.anchorCell,t.headCell);e.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:ym,"Mod-Backspace":ym,Delete:ym,"Mod-Delete":ym}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[mae({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],Tae({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:on(kt(t,"tableRole",e))}}}),Dae=lr.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",Gn(this.options.HTMLAttributes,t),0]}}),Rae=lr.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",Gn(this.options.HTMLAttributes,t),0]}}),_ae=lr.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",Gn(this.options.HTMLAttributes,t),0]}}),Lae=Rae.extend({addAttributes(){return{...this.parent?.(),style:{default:null,parseHTML:t=>t.getAttribute("style"),renderHTML:t=>({style:t.style})},"data-colwidth":{default:null,parseHTML:t=>t.getAttribute("data-colwidth"),renderHTML:t=>({"data-colwidth":t["data-colwidth"]})},"data-colindex":{default:null,parseHTML:t=>t.getAttribute("data-colindex"),renderHTML:t=>({"data-colindex":t["data-colindex"]})}}},renderHTML({node:t,HTMLAttributes:e}){return["td",{...e,class:"tiptap-table-cell","data-colwidth":t.attrs.colwidth?t.attrs.colwidth.join(","):null,"data-colindex":t.attrs["data-colindex"]||null},0]},addNodeView(){return({node:t,getPos:e,editor:n})=>{const{view:r}=n,i=document.createElement("td"),s=document.createElement("div"),a=document.createElement("div");s.contentEditable="true",i.appendChild(s),a.classList.add("column-resize-handle"),i.appendChild(a);const l=Array.from(i.parentElement?.children||[]).indexOf(i);l!==-1&&i.setAttribute("data-colindex",l);let u,f,p=!1;const m=b=>{b.button===0&&(b.preventDefault(),b.stopPropagation(),p=!0,u=b.clientX,f=i.offsetWidth,document.addEventListener("mousemove",y),document.addEventListener("mouseup",v),document.body.style.cursor="col-resize",document.body.style.userSelect="none",a.classList.add("is-resizing"))},y=b=>{if(!p)return;const S=b.clientX-u,C=Math.max(50,f+S),N=i.closest("table");if(N){const O=Array.from(i.parentElement.children).indexOf(i);N.querySelectorAll("tr").forEach(R=>{const E=R.querySelectorAll("td, th");E[O]&&(E[O].style.width=`${C}px`,E[O].style.minWidth=`${C}px`)})}},v=()=>{if(p&&(p=!1,document.body.style.cursor="",document.body.style.userSelect="",a.classList.remove("is-resizing"),document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",v),typeof e=="function")){const b=e(),S=Array.from(i.parentElement.children).indexOf(i),C=i.offsetWidth,N=r.state.tr,O=r.state.doc.resolve(b),D=O.node(-1),R=O.start(-1);D.descendants((E,k)=>{(E.type.name==="tableCell"||E.type.name==="tableHeader")&&(E.attrs.colspan>1?k-1:E.attrs["data-colindex"]||0)===S&&N.setNodeMarkup(R+k,null,{...E.attrs,style:`width: ${C}px; min-width: ${C}px;`,"data-colindex":S})}),N.steps.length>0&&r.dispatch(N)}};return a.addEventListener("mousedown",m),{dom:i,contentDOM:s,destroy:()=>{a.removeEventListener("mousedown",m),document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",v)}}}}}),TS=t=>t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""),Pae=q6.extend({addAttributes(){return{...this.parent?.(),id:{default:null,parseHTML:t=>t.getAttribute("id"),renderHTML:t=>t.id?{id:t.id}:{}}}},addCommands(){return{...this.parent?.(),setHeadingWithId:t=>({commands:e})=>e.setNode(this.name,t)}}}),zae=rse.extend({addAttributes(){return{...this.parent?.(),alt:{default:"",parseHTML:t=>t.getAttribute("alt"),renderHTML:t=>t.alt?{alt:t.alt}:{}},title:{default:"",parseHTML:t=>t.getAttribute("title"),renderHTML:t=>t.title?{title:t.title}:{}},content:{default:"",parseHTML:t=>t.getAttribute("data-content"),renderHTML:t=>t.content?{"data-content":t.content}:{}}}}}),Iae=lr.create({name:"infoBox",group:"block",content:"inline*",defining:!0,addAttributes(){return{class:{default:"info-box"}}},parseHTML(){return[{tag:'div[class*="info-box"]'}]},renderHTML({HTMLAttributes:t}){return["div",Gn(t,{class:"info-box"}),0]},addCommands(){return{setInfoBox:()=>({commands:t})=>t.setNode("infoBox")}}}),Bae=Os.create({name:"dynamicDate",inclusive(){return!1},parseHTML(){return[{tag:"span.dynamic-date"}]},renderHTML(){return["span",{class:"dynamic-date"},0]},addCommands(){return{toggleDynamicDate:()=>({commands:t})=>t.toggleMark(this.name)}}}),Fae=lr.create({name:"video",group:"block",atom:!0,inline:!1,addAttributes(){return{src:{default:null},alt:{default:""},title:{default:""},description:{default:""},type:{default:"local"},youtubeId:{default:null},width:{default:"100%"},height:{default:"auto"}}},parseHTML(){return[{tag:"video",getAttrs:t=>({src:t.getAttribute("src"),alt:t.getAttribute("alt"),title:t.getAttribute("title"),description:t.getAttribute("data-description"),type:t.getAttribute("data-type")||"local",youtubeId:t.getAttribute("data-youtube-id"),width:t.getAttribute("width")||"100%",height:t.getAttribute("height")||"auto"})},{tag:"div[data-video]",getAttrs:t=>({src:t.getAttribute("data-src"),alt:t.getAttribute("data-alt"),title:t.getAttribute("data-title"),description:t.getAttribute("data-description"),type:t.getAttribute("data-type")||"local",youtubeId:t.getAttribute("data-youtube-id"),width:t.getAttribute("width")||"100%",height:t.getAttribute("height")||"auto"})}]},renderHTML({HTMLAttributes:t}){const{src:e,alt:n,title:r,description:i,type:s,youtubeId:a,width:l,height:u}=t;return s==="youtube"&&a?["div",{class:"video-container youtube-video","data-video":!0,"data-type":"youtube","data-youtube-id":a,"data-alt":n,"data-title":r,"data-description":i,"data-width":l,"data-height":u},["iframe",{src:`https://www.youtube.com/embed/${a}`,width:l,height:u==="auto"?"315":u,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0,title:r||n}]]:["video",{src:e,alt:n,title:r,"data-description":i,"data-type":"local",width:l,height:u,controls:!0,preload:"metadata",class:"help-center-video"}]},addCommands(){return{setVideo:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}}}),$ae=lr.create({name:"youtubeVideo",group:"block",atom:!0,inline:!1,defining:!0,content:"",addAttributes(){return{videoId:{default:null},alt:{default:""},title:{default:""},description:{default:""},width:{default:"100%"},height:{default:"400"}}},parseHTML(){return[{tag:"div[data-youtube-video]",getAttrs:t=>({videoId:t.getAttribute("data-video-id"),alt:t.getAttribute("data-alt"),title:t.getAttribute("data-title"),description:t.getAttribute("data-description"),width:t.getAttribute("data-width")||"100%",height:t.getAttribute("data-height")||"400"})}]},renderHTML({HTMLAttributes:t}){const{videoId:e,alt:n,title:r,description:i,width:s,height:a}=t;return["div",{"data-youtube-video":!0,"data-video-id":e,"data-alt":n,"data-title":r,"data-description":i,"data-width":s,"data-height":a,class:"youtube-video-container"},["iframe",{src:`https://www.youtube.com/embed/${e}`,title:r||"YouTube video player",alt:n,width:s,height:a,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowfullscreen:!0,class:"youtube-iframe"}]]},addCommands(){return{setYouTubeVideo:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}}}),Vae=[Zie.configure({heading:!1,paragraph:!0,blockquote:!0,codeBlock:!0}),Iae,Pae.configure({levels:[1,2,3,4,5,6],HTMLAttributes:{class:"heading-with-id"}}),ese.configure({types:["heading","paragraph"],alignments:["left","center","right","justify"]}),tse,Bae,zae.configure({inline:!0,allowBase64:!1,HTMLAttributes:{class:"help-center-image"}}),Ase.configure({openOnClick:!1,HTMLAttributes:{class:"custom-link",rel:"noopener noreferrer"}}),Mae.extend({content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({HTMLAttributes:t}){return["div",{class:"table-wrapper"},["table",{...t,class:"tiptap-table"},["tbody",0]]]},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.insertTable({rows:3,cols:3,withHeaderRow:!0})}}}).configure({resizable:!0,lastColumnResizable:!0,allowTableNodeSelection:!0,HTMLAttributes:{class:"tiptap-table"}}),Dae,_ae,Lae.configure({HTMLAttributes:{class:"tiptap-table-cell"}}),Fae,$ae],Uae=({uploadImgUrl:t="",uploadVideoUrl:e="https://api.nexus.com/api/admin/blog-media/upload-video",processYoutubeUrl:n="https://api.nexus.com/api/admin/blog-media/process-youtube"})=>{const{editor:r}=hS(),i=T.useRef(null),s=T.useRef(null),[a,l]=T.useState(!1),[u,f]=T.useState(!1),[p,m]=T.useState(!1),[y,v]=T.useState(""),[b,S]=T.useState(!1),[C,N]=T.useState(""),[O,D]=T.useState(""),[R,E]=T.useState(""),[k,P]=T.useState(null),[F,G]=T.useState(!1),[ge,oe]=T.useState(""),[ne,ee]=T.useState(""),[Ee,Oe]=T.useState(""),[K,re]=T.useState(null),[ue,ze]=T.useState(!1),[q,ae]=T.useState(""),[pe,xe]=T.useState(!1),[Re,_e]=T.useState(3),[he,Be]=T.useState(3),Le=T.useRef(null),ot=T.useRef(null),ut=T.useRef(null),Bt=T.useRef(null);if(!r)return null;const dt=async de=>{const lt=de.target.files[0];if(lt){l(!0);try{const Ot=new FormData;Ot.append("image",lt);const tt=await Ye.post(t,Ot,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("userToken")}`}});if(tt.data.success&&tt.data.data?.url){const Te=tt.data.data.url;r.chain().focus().setImage({src:Te}).run();const{state:rt}=r,{selection:wt}=rt,St=wt.$anchor.pos-1;P(St),N(""),D(""),E(""),S(!0),setTimeout(()=>{ot.current?.focus()},100)}else throw new Error("Invalid response format")}catch(Ot){console.error("Image upload failed:",Ot),me.error("Failed to upload image. Please try again.")}finally{l(!1),de.target.value=""}}},_t=async de=>{const lt=de.target.files[0];if(!lt)return;if(lt.size>100*1024*1024){me.error("Video file size must be less than 100MB");return}if(!["video/mp4","video/mov","video/avi","video/wmv","video/webm"].includes(lt.type)){me.error("Please select a valid video file (MP4, MOV, AVI, WMV, WebM)");return}f(!0);try{const tt=new FormData;tt.append("video",lt);const Te=await Ye.post(e,tt,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("userToken")}`}});if(Te.data.success&&Te.data.data?.url){const rt=Te.data.data.url;r.chain().focus().setVideo({src:rt,type:"local"}).run();const{state:wt}=r,{selection:St}=wt,Tt=St.$anchor.pos-1;re(Tt),oe(""),ee(""),Oe(""),G(!0),setTimeout(()=>{ut.current?.focus()},100)}else throw new Error("Invalid response format")}catch(tt){console.error("Video upload failed:",tt),me.error("Failed to upload video. Please try again.")}finally{f(!1),de.target.value=""}},st=async de=>{if(de.preventDefault(),!q.trim()){me.error("Please enter a YouTube URL");return}let lt=null;const Ot=q.trim();if(Ot.includes("youtube.com/watch?v=")?lt=Ot.split("v=")[1]?.split("&")[0]:Ot.includes("youtu.be/")?lt=Ot.split("youtu.be/")[1]?.split("?")[0]:Ot.includes("youtube.com/embed/")&&(lt=Ot.split("embed/")[1]?.split("?")[0]),!lt){me.error("Invalid YouTube URL. Please enter a valid YouTube video URL.");return}try{r.chain().focus().setYouTubeVideo({videoId:lt,alt:"",title:"YouTube video player",description:"",width:"100%",height:"400"}).run(),setTimeout(()=>{const wt=r.getHTML()},100)}catch(wt){console.error("Error inserting YouTube video:",wt),r.chain().focus().insertContent(`[YouTube Video: ${lt}]`).run(),me.error("Failed to embed YouTube video. Please try again.")}const{state:tt}=r,{selection:Te}=tt,rt=Te.$anchor.pos-1;re(rt),oe(""),ee(""),Oe(""),G(!0),setTimeout(()=>{ut.current?.focus()},100),ae(""),ze(!1)},Z=de=>{if(de.preventDefault(),!k)return;const{state:lt}=r,Ot=lt.doc.nodeAt(k);Ot&&Ot.type.name==="image"&&r.chain().focus().command(({tr:tt})=>{const Te={...Ot.attrs,alt:C,title:O,content:R};return tt.setNodeMarkup(k,void 0,Te),!0}).run(),S(!1),N(""),D(""),E(""),P(null)},$e=de=>{if(de.preventDefault(),!K)return;const{state:lt}=r,Ot=lt.doc.nodeAt(K);Ot&&Ot.type.name==="video"&&r.chain().focus().command(({tr:Te})=>{const rt={...Ot.attrs,alt:ge,title:ne,description:Ee};return Te.setNodeMarkup(K,void 0,rt),!0}).run();const tt=r.getHTML();if(tt.includes("data-youtube-video")){let Te=tt;Te=Te.replace(/<div([^>]*data-youtube-video[^>]*)>/g,(rt,wt)=>{let St=wt.replace(/data-alt="[^"]*"/g,"").replace(/data-title="[^"]*"/g,"").replace(/data-description="[^"]*"/g,"");return ge&&(St+=` data-alt="${ge}"`),ne&&(St+=` data-title="${ne}"`),Ee&&(St+=` data-description="${Ee}"`),`<div${St}>`}),r.commands.setContent(Te)}G(!1),oe(""),ee(""),Oe(""),re(null)},Ue=()=>{G(!1),oe(""),ee(""),Oe(""),re(null),r.chain().focus().run()},Qe=()=>{S(!1),N(""),D(""),E(""),P(null),r.chain().focus().run()},Nt=de=>{de.preventDefault();const{from:lt,to:Ot}=r.state.selection;if(r.state.doc.textBetween(lt,Ot," ").trim()===""){me.error("Please select some text first");return}if(r.isActive("link")){const Te=r.getAttributes("link").href||"";v(Te)}else v("");m(!0),setTimeout(()=>{Le.current?.focus()},100)},_=de=>{if(de.preventDefault(),y.trim()===""){m(!1);return}let lt=y.trim();!lt.startsWith("http://")&&!lt.startsWith("https://")&&(lt="https://"+lt),r.chain().focus().setLink({href:lt}).run(),m(!1),v("")},W=()=>{m(!1),v(""),r.chain().focus().run()},I=de=>{de.preventDefault(),r.chain().focus().unsetLink().run()},ce=de=>{de.preventDefault(),xe(!pe)},ye=de=>{de.preventDefault(),r.chain().focus().insertTable({rows:Re,cols:he,withHeaderRow:!0}).run(),xe(!1)},$=de=>{de.preventDefault(),r.chain().focus().addRowAfter().run()},U=de=>{de.preventDefault(),r.chain().focus().addColumnAfter().run()},be=de=>{de.preventDefault(),r.chain().focus().deleteRow().run()},We=de=>{de.preventDefault(),r.chain().focus().deleteColumn().run()},ht=de=>{de.preventDefault(),r.chain().focus().deleteTable().run()},Qt=de=>{de.preventDefault(),r.chain().focus().mergeCells().run()},Lt=de=>{de.preventDefault(),r.chain().focus().splitCell().run()},ln=de=>{de.preventDefault(),r.chain().focus().toggleHeaderRow().run()},sn=de=>{de.preventDefault(),r.chain().focus().toggleHeaderColumn().run()},Se=de=>{de.preventDefault(),r.chain().focus().setCellAttribute("textAlign","left").run()},it=de=>{de.preventDefault(),r.chain().focus().setCellAttribute("textAlign","center").run()},ft=de=>{de.preventDefault(),r.chain().focus().setCellAttribute("textAlign","right").run()};return d.jsxs("div",{className:"tiptap-toolbar single-line",children:[d.jsxs("div",{className:"toolbar-group",children:[d.jsx("button",{onClick:de=>{de.preventDefault(),r.chain().focus().toggleBold().run()},disabled:!r.can().chain().focus().toggleBold().run(),className:r.isActive("bold")?"is-active":"",title:"Bold",children:d.jsx(SH,{size:16})}),d.jsx("button",{onClick:de=>{de.preventDefault(),r.chain().focus().toggleItalic().run()},disabled:!r.can().chain().focus().toggleItalic().run(),className:r.isActive("italic")?"is-active":"",title:"Italic",children:d.jsx(YH,{size:16})}),d.jsx("button",{onClick:de=>{de.preventDefault(),r.chain().focus().toggleStrike().run()},disabled:!r.can().chain().focus().toggleStrike().run(),className:r.isActive("strike")?"is-active":"",title:"Strikethrough",children:d.jsx(dq,{size:16})}),d.jsx("button",{onClick:de=>{de.preventDefault(),r.chain().focus().toggleUnderline().run()},disabled:!r.can().chain().focus().toggleUnderline().run(),className:r.isActive("underline")?"is-active":"",title:"Underline",children:d.jsx(gq,{size:16})}),d.jsx("button",{onClick:de=>{de.preventDefault(),r.chain().focus().toggleDynamicDate().run()},disabled:!r.can().chain().focus().toggleDynamicDate().run(),className:r.isActive("dynamicDate")?"is-active":"",title:"Dynamic Date",children:d.jsx(NH,{size:16})})]}),d.jsx("div",{className:"toolbar-divider"}),d.jsxs("div",{className:"toolbar-group",children:[d.jsx("button",{onClick:de=>{de.preventDefault(),r.chain().focus().toggleHeading({level:1}).run()},className:r.isActive("heading",{level:1})?"is-active":"",title:"Heading 1",children:d.jsx(DH,{size:16})}),d.jsx("button",{onClick:de=>{de.preventDefault(),r.chain().focus().toggleHeading({level:2}).run()},className:r.isActive("heading",{level:2})?"is-active":"",title:"Heading 2",children:d.jsx(_H,{size:16})}),d.jsx("button",{onClick:de=>{de.preventDefault(),r.chain().focus().toggleHeading({level:3}).run()},className:r.isActive("heading",{level:3})?"is-active":"",title:"Heading 3",children:d.jsx(PH,{size:16})}),d.jsx("button",{onClick:de=>{de.preventDefault(),r.chain().focus().toggleHeading({level:4}).run()},className:r.isActive("heading",{level:4})?"is-active":"",title:"Heading 4",children:d.jsx(IH,{size:16})}),d.jsx("button",{onClick:de=>{de.preventDefault(),r.chain().focus().toggleHeading({level:5}).run()},className:r.isActive("heading",{level:5})?"is-active":"",title:"Heading 5",children:d.jsx(FH,{size:16})}),d.jsx("button",{onClick:de=>{de.preventDefault(),r.chain().focus().toggleHeading({level:6}).run()},className:r.isActive("heading",{level:6})?"is-active":"",title:"Heading 6",children:d.jsx(VH,{size:16})})]}),d.jsx("div",{className:"toolbar-divider"}),d.jsxs("div",{className:"toolbar-group",children:[d.jsx("button",{onClick:de=>{de.preventDefault(),r.chain().focus().toggleBulletList().run()},className:r.isActive("bulletList")?"is-active":"",title:"Bullet List",children:d.jsx(JH,{size:16})}),d.jsx("button",{onClick:de=>{de.preventDefault(),r.chain().focus().toggleOrderedList().run()},className:r.isActive("orderedList")?"is-active":"",title:"Numbered List",children:d.jsx(XH,{size:16})})]}),d.jsx("div",{className:"toolbar-divider"}),d.jsxs("div",{className:"toolbar-group",children:[d.jsx("button",{onClick:de=>{de.preventDefault(),r.isActive("blockquote")?r.chain().focus().toggleBlockquote().run():r.chain().focus().toggleBlockquote().updateAttributes("blockquote",{class:""}).run()},className:r.isActive("blockquote")&&r.getAttributes("blockquote").class!=="info-box"?"is-active":"",title:"Blockquote",children:d.jsx(sq,{size:16})}),d.jsx("button",{onClick:de=>{de.preventDefault(),r.isActive("infoBox")?r.chain().focus().setParagraph().run():r.chain().focus().setInfoBox().run()},className:r.isActive("infoBox")?"is-active":"",title:"Info Box",children:d.jsx(qH,{size:16})}),d.jsx("button",{onClick:de=>{de.preventDefault(),r.chain().focus().toggleCodeBlock().run()},className:r.isActive("codeBlock")?"is-active":"",title:"Code Block",children:d.jsx(OH,{size:16})}),d.jsx("button",{onClick:de=>{de.preventDefault(),r.chain().focus().setHorizontalRule().run()},title:"Horizontal Rule",children:d.jsx(nq,{size:16})})]}),d.jsx("div",{className:"toolbar-divider"}),d.jsxs("div",{className:"toolbar-group",children:[d.jsx("button",{onClick:de=>{de.preventDefault(),r.chain().focus().setTextAlign("left").run()},className:r.isActive({textAlign:"left"})?"is-active":"",title:"Align Left",children:d.jsx(XE,{size:16})}),d.jsx("button",{onClick:de=>{de.preventDefault(),r.chain().focus().setTextAlign("center").run()},className:r.isActive({textAlign:"center"})?"is-active":"",title:"Align Center",children:d.jsx(GE,{size:16})}),d.jsx("button",{onClick:de=>{de.preventDefault(),r.chain().focus().setTextAlign("right").run()},className:r.isActive({textAlign:"right"})?"is-active":"",title:"Align Right",children:d.jsx(QE,{size:16})}),d.jsx("button",{onClick:de=>{de.preventDefault(),r.chain().focus().setTextAlign("justify").run()},className:r.isActive({textAlign:"justify"})?"is-active":"",title:"Justify",children:d.jsx(vH,{size:16})})]}),d.jsx("div",{className:"toolbar-divider"}),d.jsxs("div",{className:"toolbar-group",children:[d.jsx("button",{onClick:Nt,className:r.isActive("link")?"is-active":"",title:"Add/Edit Link",children:d.jsx(eM,{size:16})}),r.isActive("link")&&d.jsx("button",{onClick:I,title:"Remove Link",children:d.jsx(tM,{size:16})})]}),d.jsx("div",{className:"toolbar-divider"}),d.jsxs("div",{className:"toolbar-group",children:[d.jsx("input",{type:"file",ref:i,onChange:dt,accept:"image/*",style:{display:"none"},disabled:a}),d.jsx("button",{onClick:de=>{de.preventDefault(),i.current.click()},title:"Upload Image",disabled:a,className:a?"is-uploading":"",children:a?"Uploading...":d.jsx(Z5,{size:16})})]}),d.jsx("div",{className:"toolbar-divider"}),d.jsxs("div",{className:"toolbar-group",children:[d.jsx("input",{type:"file",ref:s,onChange:_t,accept:"video/*",style:{display:"none"},disabled:u}),d.jsx("button",{onClick:de=>{de.preventDefault(),s.current.click()},title:"Upload Video",disabled:u,className:u?"is-uploading":"",children:u?"Uploading...":d.jsx(nM,{size:16})}),d.jsx("button",{onClick:de=>{de.preventDefault(),ze(!0),setTimeout(()=>{Bt.current?.focus()},100)},title:"Add YouTube Video",children:d.jsx(Cq,{size:16})})]}),d.jsx("div",{className:"toolbar-divider"}),d.jsx("div",{className:"toolbar-group",children:d.jsx("button",{onClick:ce,className:r.isActive("table")?"is-active":"",title:"Table",children:d.jsx(hq,{size:16})})}),d.jsx("div",{className:"toolbar-divider"}),d.jsxs("div",{className:"toolbar-group",children:[d.jsx("button",{onClick:de=>{de.preventDefault(),r.chain().focus().undo().run()},disabled:!r.can().undo(),title:"Undo",children:d.jsx(vq,{size:16})}),d.jsx("button",{onClick:de=>{de.preventDefault(),r.chain().focus().redo().run()},disabled:!r.can().redo(),title:"Redo",children:d.jsx(oq,{size:16})})]}),pe&&d.jsxs("div",{className:"table-controls-modal",children:[d.jsx("div",{className:"table-controls-overlay",onClick:()=>xe(!1)}),d.jsxs("div",{className:"table-controls-container",children:[d.jsx("h4",{children:"Create Table"}),d.jsxs("div",{className:"table-controls-grid",children:[d.jsxs("div",{className:"table-control-row",children:[d.jsx("label",{children:"Rows:"}),d.jsx("input",{type:"number",min:"1",max:"10",value:Re,onChange:de=>_e(parseInt(de.target.value)||1)})]}),d.jsxs("div",{className:"table-control-row",children:[d.jsx("label",{children:"Columns:"}),d.jsx("input",{type:"number",min:"1",max:"10",value:he,onChange:de=>Be(parseInt(de.target.value)||1)})]})]}),d.jsxs("div",{className:"table-controls-buttons",children:[d.jsx("button",{onClick:ye,className:"table-create-btn",children:"Create Table"}),d.jsx("button",{onClick:()=>xe(!1),className:"table-cancel-btn",children:"Cancel"})]})]})]}),r?.isActive("table")&&d.jsxs("div",{className:"table-edit-controls",children:[d.jsxs("div",{className:"table-controls-group",children:[d.jsx("button",{onClick:$,title:"Add Row",children:d.jsx(ZE,{size:14})}),d.jsx("button",{onClick:U,title:"Add Column",children:d.jsx(ZE,{size:14,style:{transform:"rotate(90deg)"}})}),d.jsx("button",{onClick:be,title:"Delete Row",children:d.jsx(Cx,{size:14})}),d.jsx("button",{onClick:We,title:"Delete Column",children:d.jsx(Cx,{size:14,style:{transform:"rotate(90deg)"}})})]}),d.jsx("div",{className:"table-controls-divider"}),d.jsxs("div",{className:"table-controls-group",children:[d.jsx("button",{onClick:Qt,title:"Merge Cells",children:d.jsx(eq,{size:14})}),d.jsx("button",{onClick:Lt,title:"Split Cell",children:d.jsx(cq,{size:14})})]}),d.jsx("div",{className:"table-controls-divider"}),d.jsxs("div",{className:"table-controls-group",children:[d.jsx("button",{onClick:Se,title:"Align Left",children:d.jsx(XE,{size:14})}),d.jsx("button",{onClick:it,title:"Align Center",children:d.jsx(GE,{size:14})}),d.jsx("button",{onClick:ft,title:"Align Right",children:d.jsx(QE,{size:14})})]}),d.jsx("div",{className:"table-controls-divider"}),d.jsxs("div",{className:"table-controls-group",children:[d.jsx("button",{onClick:ln,title:"Toggle Header Row",children:"H"}),d.jsx("button",{onClick:sn,title:"Toggle Header Column",children:"H|"}),d.jsx("button",{onClick:ht,title:"Delete Table",children:d.jsx(Cx,{size:14,color:"#ef4444"})})]})]}),p&&d.jsxs("div",{className:"link-input-modal",children:[d.jsx("div",{className:"link-input-overlay",onClick:W}),d.jsx("div",{className:"link-input-container",children:d.jsxs("div",{children:[d.jsx("input",{ref:Le,type:"text",value:y,onChange:de=>v(de.target.value),placeholder:"Enter URL (e.g., https://example.com)",className:"link-input",onKeyDown:de=>{de.key==="Enter"&&(de.preventDefault(),_(de)),de.key==="Escape"&&W()}}),d.jsxs("div",{className:"link-input-buttons",children:[d.jsxs("button",{type:"button",onClick:_,className:"link-submit-btn",children:[r.isActive("link")?"Update":"Add"," Link"]}),d.jsx("button",{type:"button",onClick:W,className:"link-cancel-btn",children:"Cancel"})]})]})})]}),b&&d.jsxs("div",{className:"link-input-modal",children:[d.jsx("div",{className:"link-input-overlay",onClick:Qe}),d.jsx("div",{className:"link-input-container",children:d.jsxs("div",{className:"image-meta-form",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Alt Text"}),d.jsx("input",{ref:ot,type:"text",value:C,onChange:de=>N(de.target.value),placeholder:"Enter alt text for accessibility",className:"link-input"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Title"}),d.jsx("input",{type:"text",value:O,onChange:de=>D(de.target.value),placeholder:"Enter title text (shown on hover)",className:"link-input"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Content"}),d.jsx("textarea",{value:R,onChange:de=>E(de.target.value),placeholder:"Enter additional content or description",className:"link-input textarea",rows:3})]}),d.jsxs("div",{className:"link-input-buttons",children:[d.jsx("button",{type:"button",onClick:Z,className:"link-submit-btn",children:"Save Image Details"}),d.jsx("button",{type:"button",onClick:Qe,className:"link-cancel-btn",children:"Cancel"})]})]})})]}),F&&d.jsxs("div",{className:"link-input-modal",children:[d.jsx("div",{className:"link-input-overlay",onClick:Ue}),d.jsx("div",{className:"link-input-container",children:d.jsxs("div",{className:"image-meta-form",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Alt Text"}),d.jsx("input",{ref:ut,type:"text",value:ge,onChange:de=>oe(de.target.value),placeholder:"Enter alt text for accessibility",className:"link-input"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Title"}),d.jsx("input",{type:"text",value:ne,onChange:de=>ee(de.target.value),placeholder:"Enter title text (shown on hover)",className:"link-input"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Description"}),d.jsx("textarea",{value:Ee,onChange:de=>Oe(de.target.value),placeholder:"Enter video description",className:"link-input textarea",rows:3})]}),d.jsxs("div",{className:"link-input-buttons",children:[d.jsx("button",{type:"button",onClick:$e,className:"link-submit-btn",children:"Save Video Details"}),d.jsx("button",{type:"button",onClick:Ue,className:"link-cancel-btn",children:"Cancel"})]})]})})]}),ue&&d.jsxs("div",{className:"link-input-modal",children:[d.jsx("div",{className:"link-input-overlay",onClick:()=>ze(!1)}),d.jsx("div",{className:"link-input-container",children:d.jsxs("div",{children:[d.jsx("h4",{children:"Add YouTube Video"}),d.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Enter a YouTube URL to embed the video directly in your content."}),d.jsx("input",{ref:Bt,type:"text",value:q,onChange:de=>ae(de.target.value),placeholder:"Enter YouTube URL (e.g., https://www.youtube.com/watch?v=VIDEO_ID)",className:"link-input",onKeyDown:de=>{de.key==="Enter"&&(de.preventDefault(),st(de)),de.key==="Escape"&&ze(!1)}}),d.jsxs("div",{className:"link-input-buttons",children:[d.jsx("button",{type:"button",onClick:st,className:"link-submit-btn",children:"Embed Video"}),d.jsx("button",{type:"button",onClick:()=>ze(!1),className:"link-cancel-btn",children:"Cancel"})]})]})})]})]})},Hae=()=>{const{editor:t}=hS(),[e,n]=T.useState(!1),[r,i]=T.useState(""),[s,a]=T.useState(!1),[l,u]=T.useState(""),[f,p]=T.useState(""),[m,y]=T.useState(""),[v,b]=T.useState(null),[S,C]=T.useState(!1),[N,O]=T.useState(""),[D,R]=T.useState(""),[E,k]=T.useState(""),[P,F]=T.useState(null),G=T.useRef(null),ge=T.useRef(null),oe=T.useRef(null);if(!t)return null;const ne=pe=>{if(pe.preventDefault(),t.isActive("link")){const xe=t.getAttributes("link").href||"";i(xe)}else i("");n(!0),setTimeout(()=>{G.current?.focus()},100)},ee=pe=>{if(pe.preventDefault(),r.trim()===""){n(!1);return}let xe=r.trim();!xe.startsWith("http://")&&!xe.startsWith("https://")&&(xe="https://"+xe),t.chain().focus().setLink({href:xe}).run(),n(!1),i("")},Ee=()=>{n(!1),i(""),t.chain().focus().run()},Oe=pe=>{pe.preventDefault(),t.chain().focus().unsetLink().run()},K=pe=>{pe.preventDefault();const{state:xe}=t,{from:Re,to:_e}=xe.selection;xe.doc.nodesBetween(Re,_e,(he,Be)=>{if(he.type.name==="image")return b(Be),u(he.attrs.alt||""),p(he.attrs.title||""),y(he.attrs.content||""),a(!0),setTimeout(()=>{ge.current?.focus()},100),!1})},re=pe=>{pe.preventDefault(),v!==null&&(t.chain().focus().command(({tr:xe})=>{const Re=xe.doc.nodeAt(v);return Re&&Re.type.name==="image"&&xe.setNodeMarkup(v,void 0,{...Re.attrs,alt:l,title:f,content:m}),!0}).run(),a(!1),u(""),p(""),y(""),b(null))},ue=()=>{a(!1),u(""),p(""),y(""),b(null),t.chain().focus().run()},ze=pe=>{pe.preventDefault();const{state:xe}=t,{from:Re,to:_e}=xe.selection;xe.doc.nodesBetween(Re,_e,(Be,Le)=>{if(Be.type.name==="video")return F(Le),O(Be.attrs.alt||""),R(Be.attrs.title||""),k(Be.attrs.description||""),C(!0),setTimeout(()=>{oe.current?.focus()},100),!1});const he=t.getHTML();if(he.includes("data-youtube-video")){const Be=he.match(/<div[^>]*data-youtube-video[^>]*>/);if(Be){const Le=Be[0],ot=Le.match(/data-title="([^"]*)"/),ut=Le.match(/data-alt="([^"]*)"/),Bt=Le.match(/data-description="([^"]*)"/);F(Re),O(ut?ut[1]:""),R(ot?ot[1]:""),k(Bt?Bt[1]:""),C(!0),setTimeout(()=>{oe.current?.focus()},100)}}},q=pe=>{if(pe.preventDefault(),P===null)return;t.chain().focus().command(({tr:Re})=>{const _e=Re.doc.nodeAt(P);return _e&&_e.type.name==="video"?(Re.setNodeMarkup(P,void 0,{..._e.attrs,alt:N,title:D,description:E}),!0):!1}).run();const xe=t.getHTML();if(xe.includes("data-youtube-video")){let Re=xe;Re=Re.replace(/<div([^>]*data-youtube-video[^>]*)>/g,(_e,he)=>{let Be=he.replace(/data-alt="[^"]*"/g,"").replace(/data-title="[^"]*"/g,"").replace(/data-description="[^"]*"/g,"");return N&&(Be+=` data-alt="${N}"`),D&&(Be+=` data-title="${D}"`),E&&(Be+=` data-description="${E}"`),`<div${Be}>`}),t.commands.setContent(Re)}C(!1),O(""),R(""),k(""),F(null)},ae=()=>{C(!1),O(""),R(""),k(""),F(null),t.chain().focus().run()};return d.jsx(Jre,{editor:t,tippyOptions:{duration:100,onHidden:()=>{n(!1),a(!1),C(!1),i(""),u(""),p(""),y(""),b(null),O(""),R(""),k(""),F(null)}},children:d.jsxs("div",{className:"bubble-menu",children:[d.jsxs("div",{className:"flex",children:[d.jsx("button",{onClick:ne,className:t.isActive("link")?"is-active":"",title:"Add/Edit Link",children:d.jsx(eM,{size:14})}),t.isActive("link")&&d.jsx("button",{onClick:Oe,title:"Remove Link",children:d.jsx(tM,{size:14})}),t.isActive("image")&&d.jsx("button",{onClick:K,title:"Edit Image Details",children:d.jsx(Z5,{size:14})}),(t.isActive("video")||t.getHTML().includes("data-youtube-video"))&&d.jsx("button",{onClick:ze,title:"Edit Video Details",children:d.jsx(nM,{size:14})})]}),s&&d.jsx("div",{className:"bubble-link-input",children:d.jsxs("div",{className:"image-meta-form",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Alt:"}),d.jsx("input",{ref:ge,type:"text",value:l,onChange:pe=>u(pe.target.value),placeholder:"Alt text",className:"bubble-link-field !w-full"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Title:"}),d.jsx("input",{type:"text",value:f,onChange:pe=>p(pe.target.value),placeholder:"Title",className:"bubble-link-field !w-full"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Content:"}),d.jsx("textarea",{value:m,onChange:pe=>y(pe.target.value),placeholder:"Content",className:"bubble-link-field textarea",rows:2})]}),d.jsxs("div",{className:"form-buttons",children:[d.jsx("button",{type:"button",onClick:re,className:"bubble-link-submit",children:d.jsx(JE,{size:16,color:"green"})}),d.jsx("button",{type:"button",onClick:ue,className:"bubble-link-cancel",children:d.jsx(eA,{size:16,color:"red"})})]})]})}),e&&d.jsx("div",{className:"bubble-link-input",children:d.jsxs("div",{children:[d.jsx("input",{ref:G,type:"text",value:r,onChange:pe=>i(pe.target.value),placeholder:"Enter URL",className:"bubble-link-field",onKeyDown:pe=>{pe.key==="Enter"&&(pe.preventDefault(),ee(pe)),pe.key==="Escape"&&Ee()}}),d.jsx("button",{type:"button",onClick:ee,className:"bubble-link-submit",children:""}),d.jsx("button",{type:"button",onClick:Ee,className:"bubble-link-cancel",children:""})]})}),S&&d.jsx("div",{className:"bubble-link-input",children:d.jsxs("div",{className:"image-meta-form",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Alt:"}),d.jsx("input",{ref:oe,type:"text",value:N,onChange:pe=>O(pe.target.value),placeholder:"Alt text",className:"bubble-link-field !w-full"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Title:"}),d.jsx("input",{type:"text",value:D,onChange:pe=>R(pe.target.value),placeholder:"Title",className:"bubble-link-field !w-full"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Desc:"}),d.jsx("textarea",{value:E,onChange:pe=>k(pe.target.value),placeholder:"Description",className:"bubble-link-field textarea",rows:2})]}),d.jsxs("div",{className:"form-buttons",children:[d.jsx("button",{type:"button",onClick:q,className:"bubble-link-submit",children:d.jsx(JE,{size:16,color:"green"})}),d.jsx("button",{type:"button",onClick:ae,className:"bubble-link-cancel",children:d.jsx(eA,{size:16,color:"red"})})]})]})})]})})},qae=t=>{const r=new DOMParser().parseFromString(t,"text/html").querySelectorAll("h1, h2, h3, h4, h5, h6");return Array.from(r).map(i=>{const s=i.textContent.trim(),a=i.id,l=TS(s);return{id:a||l,text:s,level:parseInt(i.tagName.substring(1)),tag:i.tagName.toLowerCase()}})},Kae=t=>{const n=new DOMParser().parseFromString(t,"text/html"),r=n.querySelectorAll("h1, h2, h3, h4, h5, h6");let i=!1;return r.forEach(s=>{const a=s.textContent.trim();a&&!s.id&&(s.id=TS(a),i=!0)}),i?n.body.innerHTML:t},Gs=({content:t="",onUpdate:e,onHeadingsUpdate:n,uploadImgUrl:r="https://nexus-consults.com/api/public/api/admin/blogs/upload-content-image",uploadVideoUrl:i="https://api.nexus.com/api/admin/blog-media/upload-video",processYoutubeUrl:s="https://api.nexus.com/api/admin/blog-media/process-youtube"})=>{const[a,l]=T.useState(!1),[u,f]=T.useState(null),p=T.useRef(null),m=T.useCallback(b=>{!b||!a||(p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{const{state:S}=b,{tr:C}=S;let N=!1;S.doc.descendants((O,D)=>{if(O.type.name==="heading"&&O.textContent){const R=O.attrs.id,E=TS(O.textContent);R!==E&&(C.setNodeMarkup(D,void 0,{...O.attrs,id:E}),N=!0)}}),N&&b.view.dispatch(C)},500))},[a]),y=T.useCallback(({editor:b})=>{if(a){let S=b.getHTML();S=Kae(S);const C=qae(S);e&&e(S),n&&n(C),m(b)}},[e,n,a,m]),v=T.useCallback(({editor:b})=>{f(b)},[]);return T.useEffect(()=>(l(!0),()=>{p.current&&clearTimeout(p.current)}),[]),d.jsx("div",{className:"tiptap-container",children:d.jsxs(Qre,{extensions:Vae,content:t,onUpdate:y,onCreate:v,children:[d.jsx(Uae,{uploadImgUrl:r,uploadVideoUrl:i,processYoutubeUrl:s}),d.jsx(Hae,{})]})})};function Rh({onDateChange:t,initialRange:e}){const[n,r]=T.useState(e?.startDate||null),[i,s]=T.useState(e?.endDate||null),[a,l]=T.useState(!1),u=T.useRef(null),f=T.useRef(null),[p,m]=T.useState({top:0,left:0,width:256});T.useEffect(()=>{(e?.startDate||e?.startDate===null)&&r(e.startDate||null),(e?.endDate||e?.endDate===null)&&s(e.endDate||null)},[e?.startDate,e?.endDate]),T.useEffect(()=>{const N=O=>{u.current&&!u.current.contains(O.target)&&f.current&&!f.current.contains(O.target)&&l(!1)};return a&&document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[a]);const y=()=>{const N=f.current;if(!N)return;const O=N.getBoundingClientRect(),D=4,R=256;let E=O.left;E+R>window.innerWidth-D&&(E=window.innerWidth-D-R),E<D&&(E=D);const k=O.bottom+D;m({top:k,left:E,width:R})};T.useLayoutEffect(()=>{if(a){y();const N=()=>y(),O=()=>y();return window.addEventListener("scroll",N,!0),window.addEventListener("resize",O),()=>{window.removeEventListener("scroll",N,!0),window.removeEventListener("resize",O)}}},[a]);const v=N=>{if(!(N instanceof Date)||isNaN(N))return"";const O=N.getFullYear(),D=String(N.getMonth()+1).padStart(2,"0"),R=String(N.getDate()).padStart(2,"0");return`${O}-${D}-${R}`},b=()=>{const N=v(n),O=v(i);return!N&&!O?"Select date range":N&&!O?`${N}  ...`:!N&&O?`...  ${O}`:`${N}  ${O}`},S=()=>{t?.({startDate:n,endDate:i}),l(!1)},C=()=>{r(null),s(null),t?.({startDate:null,endDate:null}),l(!1)};return d.jsxs("div",{className:"relative",children:[d.jsx("button",{type:"button",ref:f,className:"w-full text-left text-xs p-1.5 border rounded hover:bg-gray-50",onClick:()=>l(N=>!N),title:"Filter by created date range",children:b()}),a&&jw.createPortal(d.jsx("div",{ref:u,className:"bg-white border rounded shadow p-3",style:{position:"fixed",top:p.top,left:p.left,width:p.width,zIndex:9999},children:d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("label",{className:"text-[10px] text-gray-500",children:"From"}),d.jsx("input",{type:"date",value:v(n),onChange:N=>r(N.target.value?new Date(`${N.target.value}T00:00:00`):null),className:"text-xs p-1 border rounded w-full"}),d.jsx("label",{className:"text-[10px] text-gray-500",children:"To"}),d.jsx("input",{type:"date",value:v(i),onChange:N=>s(N.target.value?new Date(`${N.target.value}T00:00:00`):null),className:"text-xs p-1 border rounded w-full"}),d.jsxs("div",{className:"flex justify-between gap-2 pt-1",children:[d.jsx("button",{type:"button",className:"px-2 py-1 text-xs bg-gray-100 rounded",onClick:C,children:"Clear"}),d.jsx("button",{type:"button",className:"px-2 py-1 text-xs bg-primary text-white rounded",onClick:S,children:"Apply"})]})]})}),document.body)]})}var Yae={};function Wae(t){if(Array.isArray(t))return t}function Gae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],u=!0,f=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(u=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(p){f=!0,i=p}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function aw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function p_(t,e){if(t){if(typeof t=="string")return aw(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aw(t,e):void 0}}function Xae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hm(t,e){return Wae(t)||Gae(t,e)||p_(t,e)||Xae()}function In(t){"@babel/helpers - typeof";return In=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},In(t)}function na(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e){for(var r=[],i=0;i<e.length;i++){var s=e[i];if(s){var a=In(s);if(a==="string"||a==="number")r.push(s);else if(a==="object"){var l=Array.isArray(s)?s:Object.entries(s).map(function(u){var f=Hm(u,2),p=f[0],m=f[1];return m?p:null});r=l.length?r.concat(l.filter(function(u){return!!u})):r}}}return r.join(" ").trim()}}function Qae(t){if(Array.isArray(t))return aw(t)}function Jae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ty(t){return Qae(t)||Jae(t)||p_(t)||Zae()}function jS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eoe(t,e){if(In(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(In(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function m_(t){var e=eoe(t,"string");return In(e)=="symbol"?e:e+""}function toe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m_(r.key),r)}}function ES(t,e,n){return n&&toe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wy(t,e,n){return(e=m_(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cb(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=noe(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(f){throw f},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,a=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var f=n.next();return a=f.done,f},e:function(f){l=!0,s=f},f:function(){try{a||n.return==null||n.return()}finally{if(l)throw s}}}}function noe(t,e){if(t){if(typeof t=="string")return N3(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N3(t,e):void 0}}function N3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var yn=function(){function t(){jS(this,t)}return ES(t,null,[{key:"innerWidth",value:function(n){if(n){var r=n.offsetWidth,i=getComputedStyle(n);return r=r+(parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)),r}return 0}},{key:"width",value:function(n){if(n){var r=n.offsetWidth,i=getComputedStyle(n);return r=r-(parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)),r}return 0}},{key:"getBrowserLanguage",value:function(){return navigator.userLanguage||navigator.languages&&navigator.languages.length&&navigator.languages[0]||navigator.language||navigator.browserLanguage||navigator.systemLanguage||"en"}},{key:"getWindowScrollTop",value:function(){var n=document.documentElement;return(window.pageYOffset||n.scrollTop)-(n.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var n=document.documentElement;return(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}},{key:"getOuterWidth",value:function(n,r){if(n){var i=n.getBoundingClientRect().width||n.offsetWidth;if(r){var s=getComputedStyle(n);i=i+(parseFloat(s.marginLeft)+parseFloat(s.marginRight))}return i}return 0}},{key:"getOuterHeight",value:function(n,r){if(n){var i=n.getBoundingClientRect().height||n.offsetHeight;if(r){var s=getComputedStyle(n);i=i+(parseFloat(s.marginTop)+parseFloat(s.marginBottom))}return i}return 0}},{key:"getClientHeight",value:function(n,r){if(n){var i=n.clientHeight;if(r){var s=getComputedStyle(n);i=i+(parseFloat(s.marginTop)+parseFloat(s.marginBottom))}return i}return 0}},{key:"getClientWidth",value:function(n,r){if(n){var i=n.clientWidth;if(r){var s=getComputedStyle(n);i=i+(parseFloat(s.marginLeft)+parseFloat(s.marginRight))}return i}return 0}},{key:"getViewport",value:function(){var n=window,r=document,i=r.documentElement,s=r.getElementsByTagName("body")[0],a=n.innerWidth||i.clientWidth||s.clientWidth,l=n.innerHeight||i.clientHeight||s.clientHeight;return{width:a,height:l}}},{key:"getOffset",value:function(n){if(n){var r=n.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}},{key:"index",value:function(n){if(n)for(var r=n.parentNode.childNodes,i=0,s=0;s<r.length;s++){if(r[s]===n)return i;r[s].nodeType===1&&i++}return-1}},{key:"addMultipleClasses",value:function(n,r){if(n&&r)if(n.classList)for(var i=r.split(" "),s=0;s<i.length;s++)n.classList.add(i[s]);else for(var a=r.split(" "),l=0;l<a.length;l++)n.className=n.className+(" "+a[l])}},{key:"removeMultipleClasses",value:function(n,r){if(n&&r)if(n.classList)for(var i=r.split(" "),s=0;s<i.length;s++)n.classList.remove(i[s]);else for(var a=r.split(" "),l=0;l<a.length;l++)n.className=n.className.replace(new RegExp("(^|\\b)"+a[l].split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"addClass",value:function(n,r){n&&r&&(n.classList?n.classList.add(r):n.className=n.className+(" "+r))}},{key:"removeClass",value:function(n,r){n&&r&&(n.classList?n.classList.remove(r):n.className=n.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(n,r){return n?n.classList?n.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(n.className):!1}},{key:"addStyles",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};n&&Object.entries(r).forEach(function(i){var s=Hm(i,2),a=s[0],l=s[1];return n.style[a]=l})}},{key:"find",value:function(n,r){return n?Array.from(n.querySelectorAll(r)):[]}},{key:"findSingle",value:function(n,r){return n?n.querySelector(r):null}},{key:"setAttributes",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n){var s=function(l,u){var f,p,m=n!=null&&(f=n.$attrs)!==null&&f!==void 0&&f[l]?[n==null||(p=n.$attrs)===null||p===void 0?void 0:p[l]]:[];return[u].flat().reduce(function(y,v){if(v!=null){var b=In(v);if(b==="string"||b==="number")y.push(v);else if(b==="object"){var S=Array.isArray(v)?s(l,v):Object.entries(v).map(function(C){var N=Hm(C,2),O=N[0],D=N[1];return l==="style"&&(D||D===0)?"".concat(O.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(D):D?O:void 0});y=S.length?y.concat(S.filter(function(C){return!!C})):y}}return y},m)};Object.entries(i).forEach(function(a){var l=Hm(a,2),u=l[0],f=l[1];if(f!=null){var p=u.match(/^on(.+)/);p?n.addEventListener(p[1].toLowerCase(),f):u==="p-bind"?r.setAttributes(n,f):(f=u==="class"?ty(new Set(s("class",f))).join(" ").trim():u==="style"?s("style",f).join(";").trim():f,(n.$attrs=n.$attrs||{})&&(n.$attrs[u]=f),n.setAttribute(u,f))}})}}},{key:"getAttribute",value:function(n,r){if(n){var i=n.getAttribute(r);return isNaN(i)?i==="true"||i==="false"?i==="true":i:+i}}},{key:"isAttributeEquals",value:function(n,r,i){return n?this.getAttribute(n,r)===i:!1}},{key:"isAttributeNotEquals",value:function(n,r,i){return!this.isAttributeEquals(n,r,i)}},{key:"getHeight",value:function(n){if(n){var r=n.offsetHeight,i=getComputedStyle(n);return r=r-(parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth)),r}return 0}},{key:"getWidth",value:function(n){if(n){var r=n.offsetWidth,i=getComputedStyle(n);return r=r-(parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth)),r}return 0}},{key:"alignOverlay",value:function(n,r,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;n&&r&&(i==="self"?this.relativePosition(n,r):(s&&(n.style.minWidth=t.getOuterWidth(r)+"px"),this.absolutePosition(n,r)))}},{key:"absolutePosition",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left";if(n&&r){var s=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),a=s.height,l=s.width,u=r.offsetHeight,f=r.offsetWidth,p=r.getBoundingClientRect(),m=this.getWindowScrollTop(),y=this.getWindowScrollLeft(),v=this.getViewport(),b,S;p.top+u+a>v.height?(b=p.top+m-a,b<0&&(b=m),n.style.transformOrigin="bottom"):(b=u+p.top+m,n.style.transformOrigin="top");var C=p.left;i==="left"?C+l>v.width?S=Math.max(0,C+y+f-l):S=C+y:C+f-l<0?S=y:S=C+f-l+y,n.style.top=b+"px",n.style.left=S+"px"}}},{key:"relativePosition",value:function(n,r){if(n&&r){var i=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),s=r.offsetHeight,a=r.getBoundingClientRect(),l=this.getViewport(),u,f;a.top+s+i.height>l.height?(u=-1*i.height,a.top+u<0&&(u=-1*a.top),n.style.transformOrigin="bottom"):(u=s,n.style.transformOrigin="top"),i.width>l.width?f=a.left*-1:a.left+i.width>l.width?f=(a.left+i.width-l.width)*-1:f=0,n.style.top=u+"px",n.style.left=f+"px"}}},{key:"flipfitCollision",value:function(n,r){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left top",a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"left bottom",l=arguments.length>4?arguments[4]:void 0;if(n&&r){var u=r.getBoundingClientRect(),f=this.getViewport(),p=s.split(" "),m=a.split(" "),y=function(N,O){return O?+N.substring(N.search(/(\+|-)/g))||0:N.substring(0,N.search(/(\+|-)/g))||N},v={my:{x:y(p[0]),y:y(p[1]||p[0]),offsetX:y(p[0],!0),offsetY:y(p[1]||p[0],!0)},at:{x:y(m[0]),y:y(m[1]||m[0]),offsetX:y(m[0],!0),offsetY:y(m[1]||m[0],!0)}},b={left:function(){var N=v.my.offsetX+v.at.offsetX;return N+u.left+(v.my.x==="left"?0:-1*(v.my.x==="center"?i.getOuterWidth(n)/2:i.getOuterWidth(n)))},top:function(){var N=v.my.offsetY+v.at.offsetY;return N+u.top+(v.my.y==="top"?0:-1*(v.my.y==="center"?i.getOuterHeight(n)/2:i.getOuterHeight(n)))}},S={count:{x:0,y:0},left:function(){var N=b.left(),O=t.getWindowScrollLeft();n.style.left=N+O+"px",this.count.x===2?(n.style.left=O+"px",this.count.x=0):N<0&&(this.count.x++,v.my.x="left",v.at.x="right",v.my.offsetX*=-1,v.at.offsetX*=-1,this.right())},right:function(){var N=b.left()+t.getOuterWidth(r),O=t.getWindowScrollLeft();n.style.left=N+O+"px",this.count.x===2?(n.style.left=f.width-t.getOuterWidth(n)+O+"px",this.count.x=0):N+t.getOuterWidth(n)>f.width&&(this.count.x++,v.my.x="right",v.at.x="left",v.my.offsetX*=-1,v.at.offsetX*=-1,this.left())},top:function(){var N=b.top(),O=t.getWindowScrollTop();n.style.top=N+O+"px",this.count.y===2?(n.style.left=O+"px",this.count.y=0):N<0&&(this.count.y++,v.my.y="top",v.at.y="bottom",v.my.offsetY*=-1,v.at.offsetY*=-1,this.bottom())},bottom:function(){var N=b.top()+t.getOuterHeight(r),O=t.getWindowScrollTop();n.style.top=N+O+"px",this.count.y===2?(n.style.left=f.height-t.getOuterHeight(n)+O+"px",this.count.y=0):N+t.getOuterHeight(r)>f.height&&(this.count.y++,v.my.y="bottom",v.at.y="top",v.my.offsetY*=-1,v.at.offsetY*=-1,this.top())},center:function(N){if(N==="y"){var O=b.top()+t.getOuterHeight(r)/2;n.style.top=O+t.getWindowScrollTop()+"px",O<0?this.bottom():O+t.getOuterHeight(r)>f.height&&this.top()}else{var D=b.left()+t.getOuterWidth(r)/2;n.style.left=D+t.getWindowScrollLeft()+"px",D<0?this.left():D+t.getOuterWidth(n)>f.width&&this.right()}}};S[v.at.x]("x"),S[v.at.y]("y"),this.isFunction(l)&&l(v)}}},{key:"findCollisionPosition",value:function(n){if(n){var r=n==="top"||n==="bottom",i=n==="left"?"right":"left",s=n==="top"?"bottom":"top";return r?{axis:"y",my:"center ".concat(s),at:"center ".concat(n)}:{axis:"x",my:"".concat(i," center"),at:"".concat(n," center")}}}},{key:"getParents",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n.parentNode===null?r:this.getParents(n.parentNode,r.concat([n.parentNode]))}},{key:"getScrollableParents",value:function(n){var r=this,i=[];if(n){var s=this.getParents(n),a=/(auto|scroll)/,l=function(R){var E=R?getComputedStyle(R):null;return E&&(a.test(E.getPropertyValue("overflow"))||a.test(E.getPropertyValue("overflow-x"))||a.test(E.getPropertyValue("overflow-y")))},u=function(R){i.push(R.nodeName==="BODY"||R.nodeName==="HTML"||r.isDocument(R)?window:R)},f=Cb(s),p;try{for(f.s();!(p=f.n()).done;){var m,y=p.value,v=y.nodeType===1&&((m=y.dataset)===null||m===void 0?void 0:m.scrollselectors);if(v){var b=v.split(","),S=Cb(b),C;try{for(S.s();!(C=S.n()).done;){var N=C.value,O=this.findSingle(y,N);O&&l(O)&&u(O)}}catch(D){S.e(D)}finally{S.f()}}y.nodeType===1&&l(y)&&u(y)}}catch(D){f.e(D)}finally{f.f()}}return i}},{key:"getHiddenElementOuterHeight",value:function(n){if(n){n.style.visibility="hidden",n.style.display="block";var r=n.offsetHeight;return n.style.display="none",n.style.visibility="visible",r}return 0}},{key:"getHiddenElementOuterWidth",value:function(n){if(n){n.style.visibility="hidden",n.style.display="block";var r=n.offsetWidth;return n.style.display="none",n.style.visibility="visible",r}return 0}},{key:"getHiddenElementDimensions",value:function(n){var r={};return n&&(n.style.visibility="hidden",n.style.display="block",r.width=n.offsetWidth,r.height=n.offsetHeight,n.style.display="none",n.style.visibility="visible"),r}},{key:"fadeIn",value:function(n,r){if(n){n.style.opacity=0;var i=+new Date,s=0,a=function(){s=+n.style.opacity+(new Date().getTime()-i)/r,n.style.opacity=s,i=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(a)||setTimeout(a,16))};a()}}},{key:"fadeOut",value:function(n,r){if(n)var i=1,s=50,a=s/r,l=setInterval(function(){i=i-a,i<=0&&(i=0,clearInterval(l)),n.style.opacity=i},s)}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isChrome",value:function(){return/(chrome)/i.test(navigator.userAgent)}},{key:"isClient",value:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"appendChild",value:function(n,r){if(this.isElement(r))r.appendChild(n);else if(r.el&&r.el.nativeElement)r.el.nativeElement.appendChild(n);else throw new Error("Cannot append "+r+" to "+n)}},{key:"removeChild",value:function(n,r){if(this.isElement(r))r.removeChild(n);else if(r.el&&r.el.nativeElement)r.el.nativeElement.removeChild(n);else throw new Error("Cannot remove "+n+" from "+r)}},{key:"isElement",value:function(n){return(typeof HTMLElement>"u"?"undefined":In(HTMLElement))==="object"?n instanceof HTMLElement:n&&In(n)==="object"&&n!==null&&n.nodeType===1&&typeof n.nodeName=="string"}},{key:"isDocument",value:function(n){return(typeof Document>"u"?"undefined":In(Document))==="object"?n instanceof Document:n&&In(n)==="object"&&n!==null&&n.nodeType===9}},{key:"scrollInView",value:function(n,r){var i=getComputedStyle(n).getPropertyValue("border-top-width"),s=i?parseFloat(i):0,a=getComputedStyle(n).getPropertyValue("padding-top"),l=a?parseFloat(a):0,u=n.getBoundingClientRect(),f=r.getBoundingClientRect(),p=f.top+document.body.scrollTop-(u.top+document.body.scrollTop)-s-l,m=n.scrollTop,y=n.clientHeight,v=this.getOuterHeight(r);p<0?n.scrollTop=m+p:p+v>y&&(n.scrollTop=m+p-y+v)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}},{key:"calculateScrollbarWidth",value:function(n){if(n){var r=getComputedStyle(n);return n.offsetWidth-n.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);var s=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=s,s}},{key:"calculateBodyScrollbarWidth",value:function(){return window.innerWidth-document.documentElement.offsetWidth}},{key:"getBrowser",value:function(){if(!this.browser){var n=this.resolveUserAgent();this.browser={},n.browser&&(this.browser[n.browser]=!0,this.browser.version=n.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}},{key:"resolveUserAgent",value:function(){var n=navigator.userAgent.toLowerCase(),r=/(chrome)[ ]([\w.]+)/.exec(n)||/(webkit)[ ]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:r[1]||"",version:r[2]||"0"}}},{key:"blockBodyScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden",r=!!document.body.style.getPropertyValue("--scrollbar-width");!r&&document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,n)}},{key:"unblockBodyScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,n)}},{key:"isVisible",value:function(n){return n&&(n.clientHeight!==0||n.getClientRects().length!==0||getComputedStyle(n).display!=="none")}},{key:"isExist",value:function(n){return!!(n!==null&&typeof n<"u"&&n.nodeName&&n.parentNode)}},{key:"getFocusableElements",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=t.find(n,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(r,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r)),s=[],a=Cb(i),l;try{for(a.s();!(l=a.n()).done;){var u=l.value;getComputedStyle(u).display!=="none"&&getComputedStyle(u).visibility!=="hidden"&&s.push(u)}}catch(f){a.e(f)}finally{a.f()}return s}},{key:"getFirstFocusableElement",value:function(n,r){var i=t.getFocusableElements(n,r);return i.length>0?i[0]:null}},{key:"getLastFocusableElement",value:function(n,r){var i=t.getFocusableElements(n,r);return i.length>0?i[i.length-1]:null}},{key:"focus",value:function(n,r){var i=r===void 0?!0:!r;n&&document.activeElement!==n&&n.focus({preventScroll:i})}},{key:"focusFirstElement",value:function(n,r){if(n){var i=t.getFirstFocusableElement(n);return i&&t.focus(i,r),i}}},{key:"getCursorOffset",value:function(n,r,i,s){if(n){var a=getComputedStyle(n),l=document.createElement("div");l.style.position="absolute",l.style.top="0px",l.style.left="0px",l.style.visibility="hidden",l.style.pointerEvents="none",l.style.overflow=a.overflow,l.style.width=a.width,l.style.height=a.height,l.style.padding=a.padding,l.style.border=a.border,l.style.overflowWrap=a.overflowWrap,l.style.whiteSpace=a.whiteSpace,l.style.lineHeight=a.lineHeight,l.innerHTML=r.replace(/\r\n|\r|\n/g,"<br />");var u=document.createElement("span");u.textContent=s,l.appendChild(u);var f=document.createTextNode(i);l.appendChild(f),document.body.appendChild(l);var p=u.offsetLeft,m=u.offsetTop,y=u.clientHeight;return document.body.removeChild(l),{left:Math.abs(p-n.scrollLeft),top:Math.abs(m-n.scrollTop)+y}}return{top:"auto",left:"auto"}}},{key:"invokeElementMethod",value:function(n,r,i){n[r].apply(n,i)}},{key:"isClickable",value:function(n){var r=n.nodeName,i=n.parentElement&&n.parentElement.nodeName;return r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||i==="INPUT"||i==="TEXTAREA"||i==="BUTTON"||i==="A"||this.hasClass(n,"p-button")||this.hasClass(n.parentElement,"p-button")||this.hasClass(n.parentElement,"p-checkbox")||this.hasClass(n.parentElement,"p-radiobutton")}},{key:"applyStyle",value:function(n,r){if(typeof r=="string")n.style.cssText=r;else for(var i in r)n.style[i]=r[i]}},{key:"exportCSV",value:function(n,r){var i=new Blob([n],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(i,r+".csv");else{var s=t.saveAs({name:r+".csv",src:URL.createObjectURL(i)});s||(n="data:text/csv;charset=utf-8,"+n,window.open(encodeURI(n)))}}},{key:"saveAs",value:function(n){if(n){var r=document.createElement("a");if(r.download!==void 0){var i=n.name,s=n.src;return r.setAttribute("href",s),r.setAttribute("download",i),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),!0}}return!1}},{key:"createInlineStyle",value:function(n,r){var i=document.createElement("style");return t.addNonce(i,n),r||(r=document.head),r.appendChild(i),i}},{key:"removeInlineStyle",value:function(n){if(this.isExist(n)){try{n.parentNode.removeChild(n)}catch{}n=null}return n}},{key:"addNonce",value:function(n,r){try{r||(r=Yae.REACT_APP_CSS_NONCE)}catch{}r&&n.setAttribute("nonce",r)}},{key:"getTargetElement",value:function(n){if(!n)return null;if(n==="document")return document;if(n==="window")return window;if(In(n)==="object"&&n.hasOwnProperty("current"))return this.isExist(n.current)?n.current:null;var r=function(a){return!!(a&&a.constructor&&a.call&&a.apply)},i=r(n)?n():n;return this.isDocument(i)||this.isExist(i)?i:null}},{key:"getAttributeNames",value:function(n){var r,i,s;for(i=[],s=n.attributes,r=0;r<s.length;++r)i.push(s[r].nodeName);return i.sort(),i}},{key:"isEqualElement",value:function(n,r){var i,s,a,l,u;if(i=t.getAttributeNames(n),s=t.getAttributeNames(r),i.join(",")!==s.join(","))return!1;for(var f=0;f<i.length;++f)if(a=i[f],a==="style")for(var p=n.style,m=r.style,y=/^\d+$/,v=0,b=Object.keys(p);v<b.length;v++){var S=b[v];if(!y.test(S)&&p[S]!==m[S])return!1}else if(n.getAttribute(a)!==r.getAttribute(a))return!1;for(l=n.firstChild,u=r.firstChild;l&&u;l=l.nextSibling,u=u.nextSibling){if(l.nodeType!==u.nodeType)return!1;if(l.nodeType===1){if(!t.isEqualElement(l,u))return!1}else if(l.nodeValue!==u.nodeValue)return!1}return!(l||u)}},{key:"hasCSSAnimation",value:function(n){if(n){var r=getComputedStyle(n),i=parseFloat(r.getPropertyValue("animation-duration")||"0");return i>0}return!1}},{key:"hasCSSTransition",value:function(n){if(n){var r=getComputedStyle(n),i=parseFloat(r.getPropertyValue("transition-duration")||"0");return i>0}return!1}}])}();Wy(yn,"DATA_PROPS",["data-"]);Wy(yn,"ARIA_PROPS",["aria","focus-target"]);function ow(){return ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ow.apply(null,arguments)}function T3(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=roe(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(f){throw f},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,a=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var f=n.next();return a=f.done,f},e:function(f){l=!0,s=f},f:function(){try{a||n.return==null||n.return()}finally{if(l)throw s}}}}function roe(t,e){if(t){if(typeof t=="string")return j3(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j3(t,e):void 0}}function j3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var un=function(){function t(){jS(this,t)}return ES(t,null,[{key:"equals",value:function(n,r,i){return i&&n&&In(n)==="object"&&r&&In(r)==="object"?this.deepEquals(this.resolveFieldData(n,i),this.resolveFieldData(r,i)):this.deepEquals(n,r)}},{key:"deepEquals",value:function(n,r){if(n===r)return!0;if(n&&r&&In(n)==="object"&&In(r)==="object"){var i=Array.isArray(n),s=Array.isArray(r),a,l,u;if(i&&s){if(l=n.length,l!==r.length)return!1;for(a=l;a--!==0;)if(!this.deepEquals(n[a],r[a]))return!1;return!0}if(i!==s)return!1;var f=n instanceof Date,p=r instanceof Date;if(f!==p)return!1;if(f&&p)return n.getTime()===r.getTime();var m=n instanceof RegExp,y=r instanceof RegExp;if(m!==y)return!1;if(m&&y)return n.toString()===r.toString();var v=Object.keys(n);if(l=v.length,l!==Object.keys(r).length)return!1;for(a=l;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,v[a]))return!1;for(a=l;a--!==0;)if(u=v[a],!this.deepEquals(n[u],r[u]))return!1;return!0}return n!==n&&r!==r}},{key:"resolveFieldData",value:function(n,r){if(!n||!r)return null;try{var i=n[r];if(this.isNotEmpty(i))return i}catch{}if(Object.keys(n).length){if(this.isFunction(r))return r(n);if(this.isNotEmpty(n[r]))return n[r];if(r.indexOf(".")===-1)return n[r];for(var s=r.split("."),a=n,l=0,u=s.length;l<u;++l){if(a==null)return null;a=a[s[l]]}return a}return null}},{key:"findDiffKeys",value:function(n,r){return!n||!r?{}:Object.keys(n).filter(function(i){return!r.hasOwnProperty(i)}).reduce(function(i,s){return i[s]=n[s],i},{})}},{key:"reduceKeys",value:function(n,r){var i={};return!n||!r||r.length===0||Object.keys(n).filter(function(s){return r.some(function(a){return s.startsWith(a)})}).forEach(function(s){i[s]=n[s],delete n[s]}),i}},{key:"reorderArray",value:function(n,r,i){n&&r!==i&&(i>=n.length&&(i=i%n.length,r=r%n.length),n.splice(i,0,n.splice(r,1)[0]))}},{key:"findIndexInList",value:function(n,r,i){var s=this;return r?i?r.findIndex(function(a){return s.equals(a,n,i)}):r.findIndex(function(a){return a===n}):-1}},{key:"getJSXElement",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return this.isFunction(n)?n.apply(void 0,i):n}},{key:"getItemValue",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return this.isFunction(n)?n.apply(void 0,i):n}},{key:"getProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n?n[r]:void 0;return s===void 0?i[r]:s}},{key:"getPropCaseInsensitive",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.toFlatCase(r);for(var a in n)if(n.hasOwnProperty(a)&&this.toFlatCase(a)===s)return n[a];for(var l in i)if(i.hasOwnProperty(l)&&this.toFlatCase(l)===s)return i[l]}},{key:"getMergedProps",value:function(n,r){return Object.assign({},r,n)}},{key:"getDiffProps",value:function(n,r){return this.findDiffKeys(n,r)}},{key:"getPropValue",value:function(n){if(!this.isFunction(n))return n;for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];if(i.length===1){var a=i[0];return n(Array.isArray(a)?a[0]:a)}return n.apply(void 0,i)}},{key:"getComponentProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.isNotEmpty(n)?this.getProp(n.props,r,i):void 0}},{key:"getComponentProps",value:function(n,r){return this.isNotEmpty(n)?this.getMergedProps(n.props,r):void 0}},{key:"getComponentDiffProps",value:function(n,r){return this.isNotEmpty(n)?this.getDiffProps(n.props,r):void 0}},{key:"isValidChild",value:function(n,r,i){if(n){var s,a=this.getComponentProp(n,"__TYPE")||(n.type?n.type.displayName:void 0);!a&&n!==null&&n!==void 0&&(s=n.type)!==null&&s!==void 0&&(s=s._payload)!==null&&s!==void 0&&s.value&&(a=n.type._payload.value.find(function(f){return f===r}));var l=a===r;try{var u}catch{}return l}return!1}},{key:"getRefElement",value:function(n){return n?In(n)==="object"&&n.hasOwnProperty("current")?n.current:n:null}},{key:"combinedRefs",value:function(n,r){n&&r&&(typeof r=="function"?r(n.current):r.current=n.current)}},{key:"removeAccents",value:function(n){return n&&n.search(/[\xC0-\xFF]/g)>-1&&(n=n.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),n}},{key:"toFlatCase",value:function(n){return this.isNotEmpty(n)&&this.isString(n)?n.replace(/(-|_)/g,"").toLowerCase():n}},{key:"toCapitalCase",value:function(n){return this.isNotEmpty(n)&&this.isString(n)?n[0].toUpperCase()+n.slice(1):n}},{key:"trim",value:function(n){return this.isNotEmpty(n)&&this.isString(n)?n.trim():n}},{key:"isEmpty",value:function(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&In(n)==="object"&&Object.keys(n).length===0}},{key:"isNotEmpty",value:function(n){return!this.isEmpty(n)}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"isObject",value:function(n){return n!==null&&n instanceof Object&&n.constructor===Object}},{key:"isDate",value:function(n){return n!==null&&n instanceof Date&&n.constructor===Date}},{key:"isArray",value:function(n){return n!==null&&Array.isArray(n)}},{key:"isString",value:function(n){return n!==null&&typeof n=="string"}},{key:"isPrintableCharacter",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(n)&&n.length===1&&n.match(/\S| /)}},{key:"isLetter",value:function(n){return/^[a-zA-Z\u00C0-\u017F]$/.test(n)}},{key:"isScalar",value:function(n){return n!=null&&(typeof n=="string"||typeof n=="number"||typeof n=="bigint"||typeof n=="boolean")}},{key:"findLast",value:function(n,r){var i;if(this.isNotEmpty(n))try{i=n.findLast(r)}catch{i=ty(n).reverse().find(r)}return i}},{key:"findLastIndex",value:function(n,r){var i=-1;if(this.isNotEmpty(n))try{i=n.findLastIndex(r)}catch{i=n.lastIndexOf(ty(n).reverse().find(r))}return i}},{key:"sort",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,l=this.compare(n,r,s,i),u=i;return(this.isEmpty(n)||this.isEmpty(r))&&(u=a===1?i:a),u*l}},{key:"compare",value:function(n,r,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,a=-1,l=this.isEmpty(n),u=this.isEmpty(r);return l&&u?a=0:l?a=s:u?a=-s:typeof n=="string"&&typeof r=="string"?a=i(n,r):a=n<r?-1:n>r?1:0,a}},{key:"localeComparator",value:function(n){return new Intl.Collator(n,{numeric:!0}).compare}},{key:"findChildrenByKey",value:function(n,r){var i=T3(n),s;try{for(i.s();!(s=i.n()).done;){var a=s.value;if(a.key===r)return a.children||[];if(a.children){var l=this.findChildrenByKey(a.children,r);if(l.length>0)return l}}}catch(u){i.e(u)}finally{i.f()}return[]}},{key:"mutateFieldData",value:function(n,r,i){if(!(In(n)!=="object"||typeof r!="string"))for(var s=r.split("."),a=n,l=0,u=s.length;l<u;++l){if(l+1-u===0){a[s[l]]=i;break}a[s[l]]||(a[s[l]]={}),a=a[s[l]]}}},{key:"getNestedValue",value:function(n,r){return r.split(".").reduce(function(i,s){return i&&i[s]!==void 0?i[s]:void 0},n)}},{key:"absoluteCompare",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(!n||!r||s>i)return!0;if(In(n)!==In(r))return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(var u=0,f=a;u<f.length;u++){var p=f[u],m=n[p],y=r[p],v=t.isObject(m)&&t.isObject(y),b=t.isFunction(m)&&t.isFunction(y);if((v||b)&&!this.absoluteCompare(m,y,i,s+1)||!v&&m!==y)return!1}return!0}},{key:"selectiveCompare",value:function(n,r,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(n===r)return!0;if(!n||!r||In(n)!=="object"||In(r)!=="object")return!1;if(!i)return this.absoluteCompare(n,r,1);var a=T3(i),l;try{for(a.s();!(l=a.n()).done;){var u=l.value,f=this.getNestedValue(n,u),p=this.getNestedValue(r,u),m=In(f)==="object"&&f!==null&&In(p)==="object"&&p!==null;if(m&&!this.absoluteCompare(f,p,s)||!m&&f!==p)return!1}}catch(y){a.e(y)}finally{a.f()}return!0}}])}(),E3=0;function g_(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pr_id_";return E3++,"".concat(t).concat(E3)}function A3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ioe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A3(Object(n),!0).forEach(function(r){Wy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var soe=function(){function t(){jS(this,t)}return ES(t,null,[{key:"getJSXIcon",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=null;if(n!==null){var a=In(n),l=na(r.className,a==="string"&&n);if(s=T.createElement("span",ow({},r,{className:l,key:g_("icon")})),a!=="string"){var u=ioe({iconProps:r,element:s},i);return un.getJSXElement(n,u)}}return s}}])}();function k3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k3(Object(n),!0).forEach(function(r){Wy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ny(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t){var n=function(a){return typeof a=="function"},r=e.classNameMergeFunction,i=n(r);return t.reduce(function(s,a){if(!a)return s;var l=function(){var p=a[u];if(u==="style")s.style=O3(O3({},s.style),a.style);else if(u==="className"){var m="";i?m=r(s.className,a.className):m=[s.className,a.className].join(" ").trim(),s.className=m||void 0}else if(n(p)){var y=s[u];s[u]=y?function(){y.apply(void 0,arguments),p.apply(void 0,arguments)}:p}else s[u]=p};for(var u in a)l();return s},{})}}function aoe(){var t=[],e=function(l,u){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:999,p=i(l,u,f),m=p.value+(p.key===l?0:f)+1;return t.push({key:l,value:m}),m},n=function(l){t=t.filter(function(u){return u.value!==l})},r=function(l,u){return i(l,u).value},i=function(l,u){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return ty(t).reverse().find(function(p){return u?!0:p.key===l})||{key:l,value:f}},s=function(l){return l&&parseInt(l.style.zIndex,10)||0};return{get:s,set:function(l,u,f,p){u&&(u.style.zIndex=String(e(l,f,p)))},clear:function(l){l&&(n(lf.get(l)),l.style.zIndex="")},getCurrent:function(l,u){return r(l,u)}}}var lf=aoe(),Gr=Object.freeze({STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",NOT_IN:"notIn",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter",CUSTOM:"custom"});function ch(t){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}function ooe(t,e){if(ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function loe(t){var e=ooe(t,"string");return ch(e)=="symbol"?e:e+""}function Yi(t,e,n){return(e=loe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function coe(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function uoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Oi=coe(function t(){uoe(this,t)});Yi(Oi,"ripple",!1);Yi(Oi,"inputStyle","outlined");Yi(Oi,"locale","en");Yi(Oi,"appendTo",null);Yi(Oi,"cssTransition",!0);Yi(Oi,"autoZIndex",!0);Yi(Oi,"hideOverlaysOnDocumentScrolling",!1);Yi(Oi,"nonce",null);Yi(Oi,"nullSortOrder",1);Yi(Oi,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200});Yi(Oi,"pt",void 0);Yi(Oi,"filterMatchModeOptions",{text:[Gr.STARTS_WITH,Gr.CONTAINS,Gr.NOT_CONTAINS,Gr.ENDS_WITH,Gr.EQUALS,Gr.NOT_EQUALS],numeric:[Gr.EQUALS,Gr.NOT_EQUALS,Gr.LESS_THAN,Gr.LESS_THAN_OR_EQUAL_TO,Gr.GREATER_THAN,Gr.GREATER_THAN_OR_EQUAL_TO],date:[Gr.DATE_IS,Gr.DATE_IS_NOT,Gr.DATE_BEFORE,Gr.DATE_AFTER]});Yi(Oi,"changeTheme",function(t,e,n,r){var i,s=document.getElementById(n);if(!s)throw Error("Element with id ".concat(n," not found."));var a=s.getAttribute("href").replace(t,e),l=document.createElement("link");l.setAttribute("rel","stylesheet"),l.setAttribute("id",n),l.setAttribute("href",a),l.addEventListener("load",function(){r&&r()}),(i=s.parentNode)===null||i===void 0||i.replaceChild(l,s)});var $u=Ut.createContext(),qo=Oi;function doe(t){if(Array.isArray(t))return t}function foe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],u=!0,f=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(p){f=!0,i=p}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function lw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function y_(t,e){if(t){if(typeof t=="string")return lw(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lw(t,e):void 0}}function hoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ry(t,e){return doe(t)||foe(t,e)||y_(t,e)||hoe()}var iy=function(e){var n=T.useRef(null);return T.useEffect(function(){return n.current=e,function(){n.current=null}},[e]),n.current},_h=function(e){return T.useEffect(function(){return e},[])},poe=function(e){var n=e.target,r=n===void 0?"document":n,i=e.type,s=e.listener,a=e.options,l=e.when,u=l===void 0?!0:l,f=T.useRef(null),p=T.useRef(null),m=iy(s),y=iy(a),v=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},D=O.target;un.isNotEmpty(D)&&(b(),(O.when||u)&&(f.current=yn.getTargetElement(D))),!p.current&&f.current&&(p.current=function(R){return s&&s(R)},f.current.addEventListener(i,p.current,a))},b=function(){p.current&&(f.current.removeEventListener(i,p.current,a),p.current=null)},S=function(){b(),m=null,y=null},C=T.useCallback(function(){u?f.current=yn.getTargetElement(r):(b(),f.current=null)},[r,u]);return T.useEffect(function(){C()},[C]),T.useEffect(function(){var N="".concat(m)!=="".concat(s),O=y!==a,D=p.current;D&&(N||O)?(b(),u&&v()):D||S()},[s,a,u]),_h(function(){S()}),[v,b]},Nl={},moe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=T.useState(function(){return g_()}),i=ry(r,1),s=i[0],a=T.useState(0),l=ry(a,2),u=l[0],f=l[1];return T.useEffect(function(){if(n){Nl[e]||(Nl[e]=[]);var p=Nl[e].push(s);return f(p),function(){delete Nl[e][p-1];var m=Nl[e].length-1,y=un.findLastIndex(Nl[e],function(v){return v!==void 0});y!==m&&Nl[e].splice(y+1),f(void 0)}}},[e,s,n]),u};function goe(t){if(Array.isArray(t))return lw(t)}function yoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function voe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M3(t){return goe(t)||yoe(t)||y_(t)||voe()}var xoe={TOOLTIP:1200},v_={escKeyListeners:new Map,onGlobalKeyDown:function(e){if(e.code==="Escape"){var n=v_.escKeyListeners,r=Math.max.apply(Math,M3(n.keys())),i=n.get(r),s=Math.max.apply(Math,M3(i.keys())),a=i.get(s);a(e)}},refreshGlobalKeyDownListener:function(){var e=yn.getTargetElement("document");this.escKeyListeners.size>0?e.addEventListener("keydown",this.onGlobalKeyDown):e.removeEventListener("keydown",this.onGlobalKeyDown)},addListener:function(e,n){var r=this,i=ry(n,2),s=i[0],a=i[1],l=this.escKeyListeners;l.has(s)||l.set(s,new Map);var u=l.get(s);if(u.has(a))throw new Error("Unexpected: global esc key listener with priority [".concat(s,", ").concat(a,"] already exists."));return u.set(a,e),this.refreshGlobalKeyDownListener(),function(){u.delete(a),u.size===0&&l.delete(s),r.refreshGlobalKeyDownListener()}}},boe=function(e){var n=e.callback,r=e.when,i=e.priority;T.useEffect(function(){if(r)return v_.addListener(n,i)},[n,r,i])},x_=function(){var e=T.useContext($u);return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ny(r,e?.ptOptions)}},Gy=function(e){var n=T.useRef(!1);return T.useEffect(function(){if(!n.current)return n.current=!0,e&&e()},[])},woe=function(e){var n=e.target,r=e.listener,i=e.options,s=e.when,a=s===void 0?!0:s,l=T.useContext($u),u=T.useRef(null),f=T.useRef(null),p=T.useRef([]),m=iy(r),y=iy(i),v=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(un.isNotEmpty(O.target)&&(b(),(O.when||a)&&(u.current=yn.getTargetElement(O.target))),!f.current&&u.current){var D=l?l.hideOverlaysOnDocumentScrolling:qo.hideOverlaysOnDocumentScrolling,R=p.current=yn.getScrollableParents(u.current);R.some(function(E){return E===document.body||E===window})||R.push(D?window:document.body),f.current=function(E){return r&&r(E)},R.forEach(function(E){return E.addEventListener("scroll",f.current,i)})}},b=function(){if(f.current){var O=p.current;O.forEach(function(D){return D.removeEventListener("scroll",f.current,i)}),f.current=null}},S=function(){b(),p.current=null,m=null,y=null},C=T.useCallback(function(){a?u.current=yn.getTargetElement(n):(b(),u.current=null)},[n,a]);return T.useEffect(function(){C()},[C]),T.useEffect(function(){var N="".concat(m)!=="".concat(r),O=y!==i,D=f.current;D&&(N||O)?(b(),a&&v()):D||S()},[r,i,a]),_h(function(){S()}),[v,b]},Soe=function(e){var n=e.listener,r=e.when,i=r===void 0?!0:r;return poe({target:"window",type:"resize",listener:n,when:i})},Coe=0,vm=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=T.useState(!1),i=ry(r,2),s=i[0],a=i[1],l=T.useRef(null),u=T.useContext($u),f=yn.isClient()?window.document:void 0,p=n.document,m=p===void 0?f:p,y=n.manual,v=y===void 0?!1:y,b=n.name,S=b===void 0?"style_".concat(++Coe):b,C=n.id,N=C===void 0?void 0:C,O=n.media,D=O===void 0?void 0:O,R=function(G){var ge=G.querySelector('style[data-primereact-style-id="'.concat(S,'"]'));if(ge)return ge;if(N!==void 0){var oe=m.getElementById(N);if(oe)return oe}return m.createElement("style")},E=function(G){s&&e!==G&&(l.current.textContent=G)},k=function(){if(!(!m||s)){var G=u?.styleContainer||m.head;l.current=R(G),l.current.isConnected||(l.current.type="text/css",N&&(l.current.id=N),D&&(l.current.media=D),yn.addNonce(l.current,u&&u.nonce||qo.nonce),G.appendChild(l.current),S&&l.current.setAttribute("data-primereact-style-id",S)),l.current.textContent=e,a(!0)}},P=function(){!m||!l.current||(yn.removeInlineStyle(l.current),a(!1))};return T.useEffect(function(){v||k()},[v]),{id:N,name:S,update:E,unload:P,load:k,isLoaded:s}},Mf=function(e,n){var r=T.useRef(!1);return T.useEffect(function(){if(!r.current){r.current=!0;return}return e&&e()},n)};function cw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Noe(t){if(Array.isArray(t))return cw(t)}function Toe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function joe(t,e){if(t){if(typeof t=="string")return cw(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cw(t,e):void 0}}function Eoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D3(t){return Noe(t)||Toe(t)||joe(t)||Eoe()}function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function Aoe(t,e){if(uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function koe(t){var e=Aoe(t,"string");return uh(e)=="symbol"?e:e+""}function uw(t,e,n){return(e=koe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R3(Object(n),!0).forEach(function(r){uw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Ooe=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    opacity: 0;
    overflow: hidden;
    padding: 0;
    pointer-events: none;
    position: absolute;
    white-space: nowrap;
    width: 1px;
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,Moe=`
.p-button {
    margin: 0;
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    vertical-align: bottom;
    text-align: center;
    overflow: hidden;
    position: relative;
}

.p-button-label {
    flex: 1 1 auto;
}

.p-button-icon-right {
    order: 1;
}

.p-button:disabled {
    cursor: default;
}

.p-button-icon-only {
    justify-content: center;
}

.p-button-icon-only .p-button-label {
    visibility: hidden;
    width: 0;
    flex: 0 0 auto;
}

.p-button-vertical {
    flex-direction: column;
}

.p-button-icon-bottom {
    order: 2;
}

.p-button-group .p-button {
    margin: 0;
}

.p-button-group .p-button:not(:last-child) {
    border-right: 0 none;
}

.p-button-group .p-button:not(:first-of-type):not(:last-of-type) {
    border-radius: 0;
}

.p-button-group .p-button:first-of-type {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}

.p-button-group .p-button:last-of-type {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
}

.p-button-group .p-button:focus {
    position: relative;
    z-index: 1;
}

.p-button-group-single .p-button:first-of-type {
    border-top-right-radius: var(--border-radius) !important;
    border-bottom-right-radius: var(--border-radius) !important;
}

.p-button-group-single .p-button:last-of-type {
    border-top-left-radius: var(--border-radius) !important;
    border-bottom-left-radius: var(--border-radius) !important;
}
`,Doe=`
.p-inputtext {
    margin: 0;
}

.p-fluid .p-inputtext {
    width: 100%;
}

/* InputGroup */
.p-inputgroup {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup-addon {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-inputgroup .p-float-label {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup .p-inputtext,
.p-fluid .p-inputgroup .p-inputtext,
.p-inputgroup .p-inputwrapper,
.p-fluid .p-inputgroup .p-input {
    flex: 1 1 auto;
    width: 1%;
}

/* Floating Label */
.p-float-label {
    display: block;
    position: relative;
}

.p-float-label label {
    position: absolute;
    pointer-events: none;
    top: 50%;
    margin-top: -0.5rem;
    transition-property: all;
    transition-timing-function: ease;
    line-height: 1;
}

.p-float-label textarea ~ label,
.p-float-label .p-mention ~ label {
    top: 1rem;
}

.p-float-label input:focus ~ label,
.p-float-label input:-webkit-autofill ~ label,
.p-float-label input.p-filled ~ label,
.p-float-label textarea:focus ~ label,
.p-float-label textarea.p-filled ~ label,
.p-float-label .p-inputwrapper-focus ~ label,
.p-float-label .p-inputwrapper-filled ~ label,
.p-float-label .p-tooltip-target-wrapper ~ label {
    top: -0.75rem;
    font-size: 12px;
}

.p-float-label .p-placeholder,
.p-float-label input::placeholder,
.p-float-label .p-inputtext::placeholder {
    opacity: 0;
    transition-property: all;
    transition-timing-function: ease;
}

.p-float-label .p-focus .p-placeholder,
.p-float-label input:focus::placeholder,
.p-float-label .p-inputtext:focus::placeholder {
    opacity: 1;
    transition-property: all;
    transition-timing-function: ease;
}

.p-input-icon-left,
.p-input-icon-right {
    position: relative;
    display: inline-block;
}

.p-input-icon-left > i,
.p-input-icon-right > i,
.p-input-icon-left > svg,
.p-input-icon-right > svg,
.p-input-icon-left > .p-input-prefix,
.p-input-icon-right > .p-input-suffix {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
}

.p-fluid .p-input-icon-left,
.p-fluid .p-input-icon-right {
    display: block;
    width: 100%;
}
`,Roe=`
.p-icon {
    display: inline-block;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

svg.p-icon {
    pointer-events: auto;
}

svg.p-icon g,
.p-disabled svg.p-icon {
    pointer-events: none;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,_oe=`
@layer primereact {
    .p-component, .p-component * {
        box-sizing: border-box;
    }

    .p-hidden {
        display: none;
    }

    .p-hidden-space {
        visibility: hidden;
    }

    .p-reset {
        margin: 0;
        padding: 0;
        border: 0;
        outline: 0;
        text-decoration: none;
        font-size: 100%;
        list-style: none;
    }

    .p-disabled, .p-disabled * {
        cursor: default;
        pointer-events: none;
        user-select: none;
    }

    .p-component-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-unselectable-text {
        user-select: none;
    }

    .p-scrollbar-measure {
        width: 100px;
        height: 100px;
        overflow: scroll;
        position: absolute;
        top: -9999px;
    }

    @-webkit-keyframes p-fadein {
      0%   { opacity: 0; }
      100% { opacity: 1; }
    }
    @keyframes p-fadein {
      0%   { opacity: 0; }
      100% { opacity: 1; }
    }

    .p-link {
        text-align: left;
        background-color: transparent;
        margin: 0;
        padding: 0;
        border: none;
        cursor: pointer;
        user-select: none;
    }

    .p-link:disabled {
        cursor: default;
    }

    /* Non react overlay animations */
    .p-connected-overlay {
        opacity: 0;
        transform: scaleY(0.8);
        transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-visible {
        opacity: 1;
        transform: scaleY(1);
    }

    .p-connected-overlay-hidden {
        opacity: 0;
        transform: scaleY(1);
        transition: opacity .1s linear;
    }

    /* React based overlay animations */
    .p-connected-overlay-enter {
        opacity: 0;
        transform: scaleY(0.8);
    }

    .p-connected-overlay-enter-active {
        opacity: 1;
        transform: scaleY(1);
        transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-enter-done {
        transform: none;
    }

    .p-connected-overlay-exit {
        opacity: 1;
    }

    .p-connected-overlay-exit-active {
        opacity: 0;
        transition: opacity .1s linear;
    }

    /* Toggleable Content */
    .p-toggleable-content-enter {
        max-height: 0;
    }

    .p-toggleable-content-enter-active {
        overflow: hidden;
        max-height: 1000px;
        transition: max-height 1s ease-in-out;
    }

    .p-toggleable-content-enter-done {
        transform: none;
    }

    .p-toggleable-content-exit {
        max-height: 1000px;
    }

    .p-toggleable-content-exit-active {
        overflow: hidden;
        max-height: 0;
        transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
    }

    /* @todo Refactor */
    .p-menu .p-menuitem-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
    }

    `.concat(Moe,`
    `).concat(Doe,`
    `).concat(Roe,`
}
`),fr={cProps:void 0,cParams:void 0,cName:void 0,defaultProps:{pt:void 0,ptOptions:void 0,unstyled:!1},context:{},globalCSS:void 0,classes:{},styles:"",extend:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.css,r=Mr(Mr({},e.defaultProps),fr.defaultProps),i={},s=function(p){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return fr.context=m,fr.cProps=p,un.getMergedProps(p,r)},a=function(p){return un.getDiffProps(p,r)},l=function(){var p,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;m.hasOwnProperty("pt")&&m.pt!==void 0&&(m=m.pt);var S=y,C=/./g.test(S)&&!!v[S.split(".")[0]],N=C?un.toFlatCase(S.split(".")[1]):un.toFlatCase(S),O=v.hostName&&un.toFlatCase(v.hostName),D=O||v.props&&v.props.__TYPE&&un.toFlatCase(v.props.__TYPE)||"",R=N==="transition",E="data-pc-",k=function(ue){return ue!=null&&ue.props?ue.hostName?ue.props.__TYPE===ue.hostName?ue.props:k(ue.parent):ue.parent:void 0},P=function(ue){var ze,q;return((ze=v.props)===null||ze===void 0?void 0:ze[ue])||((q=k(v))===null||q===void 0?void 0:q[ue])};fr.cParams=v,fr.cName=D;var F=P("ptOptions")||fr.context.ptOptions||{},G=F.mergeSections,ge=G===void 0?!0:G,oe=F.mergeProps,ne=oe===void 0?!1:oe,ee=function(){var ue=za.apply(void 0,arguments);return Array.isArray(ue)?{className:na.apply(void 0,D3(ue))}:un.isString(ue)?{className:ue}:ue!=null&&ue.hasOwnProperty("className")&&Array.isArray(ue.className)?{className:na.apply(void 0,D3(ue.className))}:ue},Ee=b?C?b_(ee,S,v):w_(ee,S,v):void 0,Oe=C?void 0:Qy(Xy(m,D),ee,S,v),K=!R&&Mr(Mr({},N==="root"&&uw({},"".concat(E,"name"),v.props&&v.props.__parentMetadata?un.toFlatCase(v.props.__TYPE):D)),{},uw({},"".concat(E,"section"),N));return ge||!ge&&Oe?ne?ny([Ee,Oe,Object.keys(K).length?K:{}],{classNameMergeFunction:(p=fr.context.ptOptions)===null||p===void 0?void 0:p.classNameMergeFunction}):Mr(Mr(Mr({},Ee),Oe),Object.keys(K).length?K:{}):Mr(Mr({},Oe),Object.keys(K).length?K:{})},u=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=p.props,y=p.state,v=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return l((m||{}).pt,D,Mr(Mr({},p),R))},b=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return l(D,R,E,!1)},S=function(){return fr.context.unstyled||qo.unstyled||m.unstyled},C=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return S()?void 0:za(n&&n.classes,D,Mr({props:m,state:y},R))},N=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(E){var k,P=za(n&&n.inlineStyles,D,Mr({props:m,state:y},R)),F=za(i,D,Mr({props:m,state:y},R));return ny([F,P],{classNameMergeFunction:(k=fr.context.ptOptions)===null||k===void 0?void 0:k.classNameMergeFunction})}};return{ptm:v,ptmo:b,sx:N,cx:C,isUnstyled:S}};return Mr(Mr({getProps:s,getOtherProps:a,setMetaData:u},e),{},{defaultProps:r})}},za=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=String(un.toFlatCase(n)).split("."),s=i.shift(),a=un.isNotEmpty(e)?Object.keys(e).find(function(l){return un.toFlatCase(l)===s}):"";return s?un.isObject(e)?za(un.getItemValue(e[a],r),i.join("."),r):void 0:un.getItemValue(e,r)},Xy=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=e?._usept,s=function(l){var u,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,p=r?r(l):l,m=un.toFlatCase(n);return(u=f?m!==fr.cName?p?.[m]:void 0:p?.[m])!==null&&u!==void 0?u:p};return un.isNotEmpty(i)?{_usept:i,originalValue:s(e.originalValue),value:s(e.value)}:s(e,!0)},Qy=function(e,n,r,i){var s=function(S){return n(S,r,i)};if(e!=null&&e.hasOwnProperty("_usept")){var a=e._usept||fr.context.ptOptions||{},l=a.mergeSections,u=l===void 0?!0:l,f=a.mergeProps,p=f===void 0?!1:f,m=a.classNameMergeFunction,y=s(e.originalValue),v=s(e.value);return y===void 0&&v===void 0?void 0:un.isString(v)?v:un.isString(y)?y:u||!u&&v?p?ny([y,v],{classNameMergeFunction:m}):Mr(Mr({},y),v):v}return s(e)},Loe=function(){return Xy(fr.context.pt||qo.pt,void 0,function(e){return un.getItemValue(e,fr.cParams)})},Poe=function(){return Xy(fr.context.pt||qo.pt,void 0,function(e){return za(e,fr.cName,fr.cParams)||un.getItemValue(e,fr.cParams)})},b_=function(e,n,r){return Qy(Loe(),e,n,r)},w_=function(e,n,r){return Qy(Poe(),e,n,r)},S_=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2?arguments[2]:void 0,i=r.name,s=r.styled,a=s===void 0?!1:s,l=r.hostName,u=l===void 0?"":l,f=b_(za,"global.css",fr.cParams),p=un.toFlatCase(i),m=vm(Ooe,{name:"base",manual:!0}),y=m.load,v=vm(_oe,{name:"common",manual:!0}),b=v.load,S=vm(f,{name:"global",manual:!0}),C=S.load,N=vm(e,{name:i,manual:!0}),O=N.load,D=function(E){if(!u){var k=Qy(Xy((fr.cProps||{}).pt,p),za,"hooks.".concat(E)),P=w_(za,"hooks.".concat(E));k?.(),P?.()}};D("useMountEffect"),Gy(function(){y(),C(),n()||(b(),a||O())}),Mf(function(){D("useUpdateEffect")}),_h(function(){D("useUnmountEffect")})},qm={defaultProps:{__TYPE:"IconBase",className:null,label:null,spin:!1},getProps:function(e){return un.getMergedProps(e,qm.defaultProps)},getOtherProps:function(e){return un.getDiffProps(e,qm.defaultProps)},getPTI:function(e){var n=un.isEmpty(e.label),r=qm.getOtherProps(e),i={className:na("p-icon",{"p-icon-spin":e.spin},e.className),role:n?void 0:"img","aria-label":n?void 0:e.label,"aria-hidden":e.label?n:void 0};return un.getMergedProps(r,i)}};function dw(){return dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dw.apply(null,arguments)}var C_=T.memo(T.forwardRef(function(t,e){var n=qm.getPTI(t);return T.createElement("svg",dw({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"}))}));C_.displayName="TimesCircleIcon";function fw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function zoe(t){if(Array.isArray(t))return fw(t)}function Ioe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Boe(t,e){if(t){if(typeof t=="string")return fw(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fw(t,e):void 0}}function Foe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $oe(t){return zoe(t)||Ioe(t)||Boe(t)||Foe()}var sy={DEFAULT_MASKS:{pint:/[\d]/,int:/[\d\-]/,pnum:/[\d\.]/,money:/[\d\.\s,]/,num:/[\d\-\.]/,hex:/[0-9a-f]/i,email:/[a-z0-9_\.\-@]/i,alpha:/[a-z_]/i,alphanum:/[a-z0-9_]/i},getRegex:function(e){return sy.DEFAULT_MASKS[e]?sy.DEFAULT_MASKS[e]:e},onBeforeInput:function(e,n,r){r||!yn.isAndroid()||this.validateKey(e,e.data,n)},onKeyPress:function(e,n,r){r||yn.isAndroid()||e.ctrlKey||e.altKey||e.metaKey||this.validateKey(e,e.key,n)},onPaste:function(e,n,r){if(!r){var i=this.getRegex(n),s=e.clipboardData.getData("text");$oe(s).forEach(function(a){if(!i.test(a))return e.preventDefault(),!1})}},validateKey:function(e,n,r){if(n!=null){var i=n.length<=2;if(i){var s=this.getRegex(r);s.test(n)||e.preventDefault()}}},validate:function(e,n){var r=e.target.value,i=!0,s=this.getRegex(n);return r&&!s.test(r)&&(i=!1),i}};function Voe(t){if(Array.isArray(t))return t}function Uoe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],u=!0,f=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(u=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(p){f=!0,i=p}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function _3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Hoe(t,e){if(t){if(typeof t=="string")return _3(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_3(t,e):void 0}}function qoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Koe(t,e){return Voe(t)||Uoe(t,e)||Hoe(t,e)||qoe()}var hw={defaultProps:{__TYPE:"Portal",element:null,appendTo:null,visible:!1,onMounted:null,onUnmounted:null,children:void 0},getProps:function(e){return un.getMergedProps(e,hw.defaultProps)},getOtherProps:function(e){return un.getDiffProps(e,hw.defaultProps)}},N_=T.memo(function(t){var e=hw.getProps(t),n=T.useContext($u),r=T.useState(e.visible&&yn.isClient()),i=Koe(r,2),s=i[0],a=i[1];Gy(function(){yn.isClient()&&!s&&(a(!0),e.onMounted&&e.onMounted())}),Mf(function(){e.onMounted&&e.onMounted()},[s]),_h(function(){e.onUnmounted&&e.onUnmounted()});var l=e.element||e.children;if(l&&s){var u=e.appendTo||n&&n.appendTo||qo.appendTo;return un.isFunction(u)&&(u=u()),u||(u=document.body),u==="self"?l:TO.createPortal(l,u)}return null});N_.displayName="Portal";function ay(){return ay=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ay.apply(null,arguments)}function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}function Yoe(t,e){if(dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Woe(t){var e=Yoe(t,"string");return dh(e)=="symbol"?e:e+""}function T_(t,e,n){return(e=Woe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Goe(t){if(Array.isArray(t))return pw(t)}function Xoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function j_(t,e){if(t){if(typeof t=="string")return pw(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pw(t,e):void 0}}function Qoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Joe(t){return Goe(t)||Xoe(t)||j_(t)||Qoe()}function Zoe(t){if(Array.isArray(t))return t}function ele(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],u=!0,f=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(u=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(p){f=!0,i=p}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function tle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jc(t,e){return Zoe(t)||ele(t,e)||j_(t,e)||tle()}var nle={root:function(e){var n=e.positionState,r=e.classNameState;return na("p-tooltip p-component",T_({},"p-tooltip-".concat(n),!0),r)},arrow:"p-tooltip-arrow",text:"p-tooltip-text"},rle={arrow:function(e){var n=e.context;return{top:n.bottom?"0":n.right||n.left||!n.right&&!n.left&&!n.top&&!n.bottom?"50%":null,bottom:n.top?"0":null,left:n.right||!n.right&&!n.left&&!n.top&&!n.bottom?"0":n.top||n.bottom?"50%":null,right:n.left?"0":null}}},ile=`
@layer primereact {
    .p-tooltip {
        position: absolute;
        padding: .25em .5rem;
        /* #3687: Tooltip prevent scrollbar flickering */
        top: -9999px;
        left: -9999px;
    }
    
    .p-tooltip.p-tooltip-right,
    .p-tooltip.p-tooltip-left {
        padding: 0 .25rem;
    }
    
    .p-tooltip.p-tooltip-top,
    .p-tooltip.p-tooltip-bottom {
        padding:.25em 0;
    }
    
    .p-tooltip .p-tooltip-text {
       white-space: pre-line;
       word-break: break-word;
    }
    
    .p-tooltip-arrow {
        position: absolute;
        width: 0;
        height: 0;
        border-color: transparent;
        border-style: solid;
    }
    
    .p-tooltip-right .p-tooltip-arrow {
        top: 50%;
        left: 0;
        margin-top: -.25rem;
        border-width: .25em .25em .25em 0;
    }
    
    .p-tooltip-left .p-tooltip-arrow {
        top: 50%;
        right: 0;
        margin-top: -.25rem;
        border-width: .25em 0 .25em .25rem;
    }
    
    .p-tooltip.p-tooltip-top {
        padding: .25em 0;
    }
    
    .p-tooltip-top .p-tooltip-arrow {
        bottom: 0;
        left: 50%;
        margin-left: -.25rem;
        border-width: .25em .25em 0;
    }
    
    .p-tooltip-bottom .p-tooltip-arrow {
        top: 0;
        left: 50%;
        margin-left: -.25rem;
        border-width: 0 .25em .25rem;
    }

    .p-tooltip-target-wrapper {
        display: inline-flex;
    }
}
`,xm=fr.extend({defaultProps:{__TYPE:"Tooltip",appendTo:null,at:null,autoHide:!0,autoZIndex:!0,baseZIndex:0,className:null,closeOnEscape:!1,content:null,disabled:!1,event:null,hideDelay:0,hideEvent:"mouseleave",id:null,mouseTrack:!1,mouseTrackLeft:5,mouseTrackTop:5,my:null,onBeforeHide:null,onBeforeShow:null,onHide:null,onShow:null,position:"right",showDelay:0,showEvent:"mouseenter",showOnDisabled:!1,style:null,target:null,updateDelay:0,children:void 0},css:{classes:nle,styles:ile,inlineStyles:rle}});function L3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sle(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L3(Object(n),!0).forEach(function(r){T_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var E_=T.memo(T.forwardRef(function(t,e){var n=x_(),r=T.useContext($u),i=xm.getProps(t,r),s=T.useState(!1),a=Jc(s,2),l=a[0],u=a[1],f=T.useState(i.position||"right"),p=Jc(f,2),m=p[0],y=p[1],v=T.useState(""),b=Jc(v,2),S=b[0],C=b[1],N=T.useState(!1),O=Jc(N,2),D=O[0],R=O[1],E=l&&i.closeOnEscape,k=moe("tooltip",E),P={props:i,state:{visible:l,position:m,className:S},context:{right:m==="right",left:m==="left",top:m==="top",bottom:m==="bottom"}},F=xm.setMetaData(P),G=F.ptm,ge=F.cx,oe=F.sx,ne=F.isUnstyled;S_(xm.css.styles,ne,{name:"tooltip"}),boe({callback:function(){I()},when:E,priority:[xoe.TOOLTIP,k]});var ee=T.useRef(null),Ee=T.useRef(null),Oe=T.useRef(null),K=T.useRef(null),re=T.useRef(!0),ue=T.useRef({}),ze=T.useRef(null),q=Soe({listener:function(Te){!yn.isTouchDevice()&&I(Te)}}),ae=Jc(q,2),pe=ae[0],xe=ae[1],Re=woe({target:Oe.current,listener:function(Te){I(Te)},when:l}),_e=Jc(Re,2),he=_e[0],Be=_e[1],Le=function(Te){return!(i.content||st(Te,"tooltip"))},ot=function(Te){return!(i.content||st(Te,"tooltip")||i.children)},ut=function(Te){return st(Te,"mousetrack")||i.mouseTrack},Bt=function(Te){return st(Te,"disabled")==="true"||Z(Te,"disabled")||i.disabled},dt=function(Te){return st(Te,"showondisabled")||i.showOnDisabled},_t=function(){return st(Oe.current,"autohide")||i.autoHide},st=function(Te,rt){return Z(Te,"data-pr-".concat(rt))?Te.getAttribute("data-pr-".concat(rt)):null},Z=function(Te,rt){return Te&&Te.hasAttribute(rt)},$e=function(Te){var rt=[st(Te,"showevent")||i.showEvent],wt=[st(Te,"hideevent")||i.hideEvent];if(ut(Te))rt=["mousemove"],wt=["mouseleave"];else{var St=st(Te,"event")||i.event;St==="focus"&&(rt=["focus"],wt=["blur"]),St==="both"&&(rt=["focus","mouseenter"],wt=D?["blur"]:["mouseleave","blur"])}return{showEvents:rt,hideEvents:wt}},Ue=function(Te){return st(Te,"position")||m},Qe=function(Te){var rt=st(Te,"mousetracktop")||i.mouseTrackTop,wt=st(Te,"mousetrackleft")||i.mouseTrackLeft;return{top:rt,left:wt}},Nt=function(Te,rt){if(Ee.current){var wt=st(Te,"tooltip")||i.content;wt?(Ee.current.innerHTML="",Ee.current.appendChild(document.createTextNode(wt)),rt()):i.children&&rt()}},_=function(Te){Nt(Oe.current,function(){var rt=ze.current,wt=rt.pageX,St=rt.pageY;i.autoZIndex&&!lf.get(ee.current)&&lf.set("tooltip",ee.current,r&&r.autoZIndex||qo.autoZIndex,i.baseZIndex||r&&r.zIndex.tooltip||qo.zIndex.tooltip),ee.current.style.left="",ee.current.style.top="",_t()&&(ee.current.style.pointerEvents="none");var Tt=ut(Oe.current)||Te==="mouse";(Tt&&!K.current||Tt)&&(K.current={width:yn.getOuterWidth(ee.current),height:yn.getOuterHeight(ee.current)}),ce(Oe.current,{x:wt,y:St},Te)})},W=function(Te){Te.type&&Te.type==="focus"&&R(!0),Oe.current=Te.currentTarget;var rt=Bt(Oe.current),wt=ot(dt(Oe.current)&&rt?Oe.current.firstChild:Oe.current);if(!(wt||rt))if(ze.current=Te,l)Qt("updateDelay",_);else{var St=Lt(i.onBeforeShow,{originalEvent:Te,target:Oe.current});St&&Qt("showDelay",function(){u(!0),Lt(i.onShow,{originalEvent:Te,target:Oe.current})})}},I=function(Te){if(Te&&Te.type==="blur"&&R(!1),ln(),l){var rt=Lt(i.onBeforeHide,{originalEvent:Te,target:Oe.current});rt&&Qt("hideDelay",function(){!_t()&&re.current===!1||(lf.clear(ee.current),yn.removeClass(ee.current,"p-tooltip-active"),u(!1),Lt(i.onHide,{originalEvent:Te,target:Oe.current}))})}else!i.onBeforeHide&&!ht("hideDelay")&&u(!1)},ce=function(Te,rt,wt){var St=0,Tt=0,Zt=wt||m;if((ut(Te)||Zt=="mouse")&&rt){var Tn={width:yn.getOuterWidth(ee.current),height:yn.getOuterHeight(ee.current)};St=rt.x,Tt=rt.y;var Q=Qe(Te),fe=Q.top,Ce=Q.left;switch(Zt){case"left":St=St-(Tn.width+Ce),Tt=Tt-(Tn.height/2-fe);break;case"right":case"mouse":St=St+Ce,Tt=Tt-(Tn.height/2-fe);break;case"top":St=St-(Tn.width/2-Ce),Tt=Tt-(Tn.height+fe);break;case"bottom":St=St-(Tn.width/2-Ce),Tt=Tt+fe;break}St<=0||K.current.width>Tn.width?(ee.current.style.left="0px",ee.current.style.right=window.innerWidth-Tn.width-St+"px"):(ee.current.style.right="",ee.current.style.left=St+"px"),ee.current.style.top=Tt+"px",yn.addClass(ee.current,"p-tooltip-active")}else{var Pe=yn.findCollisionPosition(Zt),Ge=st(Te,"my")||i.my||Pe.my,gt=st(Te,"at")||i.at||Pe.at;ee.current.style.padding="0px",yn.flipfitCollision(ee.current,Te,Ge,gt,function(Ct){var nt=Ct.at,pt=nt.x,mt=nt.y,Mt=Ct.my.x,Y=i.at?pt!=="center"&&pt!==Mt?pt:mt:Ct.at["".concat(Pe.axis)];ee.current.style.padding="",y(Y),ye(Y),yn.addClass(ee.current,"p-tooltip-active")})}},ye=function(Te){if(ee.current){var rt=getComputedStyle(ee.current);Te==="left"?ee.current.style.left=parseFloat(rt.left)-parseFloat(rt.paddingLeft)*2+"px":Te==="top"&&(ee.current.style.top=parseFloat(rt.top)-parseFloat(rt.paddingTop)*2+"px")}},$=function(){_t()||(re.current=!1)},U=function(Te){_t()||(re.current=!0,I(Te))},be=function(Te){if(Te){var rt=$e(Te),wt=rt.showEvents,St=rt.hideEvents,Tt=sn(Te);wt.forEach(function(Zt){return Tt?.addEventListener(Zt,W)}),St.forEach(function(Zt){return Tt?.addEventListener(Zt,I)})}},We=function(Te){if(Te){var rt=$e(Te),wt=rt.showEvents,St=rt.hideEvents,Tt=sn(Te);wt.forEach(function(Zt){return Tt?.removeEventListener(Zt,W)}),St.forEach(function(Zt){return Tt?.removeEventListener(Zt,I)})}},ht=function(Te){return st(Oe.current,Te.toLowerCase())||i[Te]},Qt=function(Te,rt){ln();var wt=ht(Te);wt?ue.current["".concat(Te)]=setTimeout(function(){return rt()},wt):rt()},Lt=function(Te){if(Te){for(var rt=arguments.length,wt=new Array(rt>1?rt-1:0),St=1;St<rt;St++)wt[St-1]=arguments[St];var Tt=Te.apply(void 0,wt);return Tt===void 0&&(Tt=!0),Tt}return!0},ln=function(){Object.values(ue.current).forEach(function(Te){return clearTimeout(Te)})},sn=function(Te){if(Te){if(dt(Te)){if(!Te.hasWrapper){var rt=document.createElement("div"),wt=Te.nodeName==="INPUT";return wt?yn.addMultipleClasses(rt,"p-tooltip-target-wrapper p-inputwrapper"):yn.addClass(rt,"p-tooltip-target-wrapper"),Te.parentNode.insertBefore(rt,Te),rt.appendChild(Te),Te.hasWrapper=!0,rt}return Te.parentElement}else if(Te.hasWrapper){var St;(St=Te.parentElement).replaceWith.apply(St,Joe(Te.parentElement.childNodes)),delete Te.hasWrapper}return Te}return null},Se=function(Te){ft(Te),it(Te)},it=function(Te){de(Te||i.target,be)},ft=function(Te){de(Te||i.target,We)},de=function(Te,rt){if(Te=un.getRefElement(Te),Te)if(yn.isElement(Te))rt(Te);else{var wt=function(Tt){var Zt=yn.find(document,Tt);Zt.forEach(function(Tn){rt(Tn)})};Te instanceof Array?Te.forEach(function(St){wt(St)}):wt(Te)}};Gy(function(){l&&Oe.current&&Bt(Oe.current)&&I()}),Mf(function(){return it(),function(){ft()}},[W,I,i.target]),Mf(function(){if(l){var tt=Ue(Oe.current),Te=st(Oe.current,"classname");y(tt),C(Te),_(tt),pe(),he()}else y(i.position||"right"),C(""),Oe.current=null,K.current=null,re.current=!0;return function(){xe(),Be()}},[l]),Mf(function(){var tt=Ue(Oe.current);l&&tt!=="mouse"&&Qt("updateDelay",function(){Nt(Oe.current,function(){ce(Oe.current)})})},[i.content]),_h(function(){I(),lf.clear(ee.current)}),T.useImperativeHandle(e,function(){return{props:i,updateTargetEvents:Se,loadTargetEvents:it,unloadTargetEvents:ft,show:W,hide:I,getElement:function(){return ee.current},getTarget:function(){return Oe.current}}});var lt=function(){var Te=Le(Oe.current),rt=n({id:i.id,className:na(i.className,ge("root",{positionState:m,classNameState:S})),style:i.style,role:"tooltip","aria-hidden":l,onMouseEnter:function(Zt){return $()},onMouseLeave:function(Zt){return U(Zt)}},xm.getOtherProps(i),G("root")),wt=n({className:ge("arrow"),style:oe("arrow",sle({},P))},G("arrow")),St=n({className:ge("text")},G("text"));return T.createElement("div",ay({ref:ee},rt),T.createElement("div",wt),T.createElement("div",ay({ref:Ee},St),Te&&i.children))};if(l){var Ot=lt();return T.createElement(N_,{element:Ot,appendTo:i.appendTo,visible:!0})}return null}));E_.displayName="Tooltip";function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function ale(t,e){if(fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ole(t){var e=ale(t,"string");return fh(e)=="symbol"?e:e+""}function lle(t,e,n){return(e=ole(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Co(){return Co=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Co.apply(null,arguments)}function mw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function cle(t){if(Array.isArray(t))return mw(t)}function ule(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function A_(t,e){if(t){if(typeof t=="string")return mw(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mw(t,e):void 0}}function dle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bm(t){return cle(t)||ule(t)||A_(t)||dle()}function fle(t){if(Array.isArray(t))return t}function hle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,l=[],u=!0,f=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(u=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(p){f=!0,i=p}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return l}}function ple(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P3(t,e){return fle(t)||hle(t,e)||A_(t,e)||ple()}var mle=`
@layer primereact {
    .p-chips {
        display: inline-flex;
    }
    
    .p-chips-multiple-container {
        margin: 0;
        padding: 0;
        list-style-type: none;
        cursor: text;
        overflow: hidden;
        display: flex;
        align-items: center;
        flex-wrap: wrap;
    }
    
    .p-chips-token {
        cursor: default;
        display: inline-flex;
        align-items: center;
        flex: 0 0 auto;
    }
    
    .p-chips-input-token {
        flex: 1 1 auto;
        display: inline-flex;
    }
    
    .p-chips-token-icon {
        cursor: pointer;
    }
    
    .p-chips-input-token input {
        border: 0 none;
        outline: 0 none;
        background-color: transparent;
        margin: 0;
        padding: 0;
        box-shadow: none;
        border-radius: 0;
        width: 100%;
    }
    
    .p-fluid .p-chips {
        display: flex;
    }
    
    .p-chips-icon-left,
    .p-chips-icon-right {
        position: relative;
        display: inline-block;
    }
    
    .p-chips-icon-left > i,
    .p-chips-icon-right > i,
    .p-chips-icon-left > svg,
    .p-chips-icon-right > svg,
    .p-chips-icon-left > .p-chips-prefix,
    .p-chips-icon-right > .p-chips-suffix {
        position: absolute;
        top: 50%;
        margin-top: -0.5rem;
    }
    
    .p-fluid .p-chips-icon-left,
    .p-fluid .p-chips-icon-right {
        display: block;
        width: 100%;
    }
}
`,gle={removeTokenIcon:"p-chips-token-icon",label:"p-chips-token-label",token:function(e){var n=e.focusedIndex,r=e.index;return na("p-chips-token",{"p-focus":n===r})},inputToken:"p-chips-input-token",container:function(e){var n=e.props,r=e.context;return na("p-inputtext p-chips-multiple-container",{"p-variant-filled":n.variant?n.variant==="filled":r&&r.inputStyle==="filled"})},root:function(e){var n=e.isFilled,r=e.focusedState,i=e.disabled,s=e.invalid;return na("p-chips p-component p-inputwrapper",{"p-inputwrapper-filled":n,"p-inputwrapper-focus":r,"p-disabled":i,"p-invalid":s,"p-focus":r})}},wm=fr.extend({defaultProps:{__TYPE:"Chips",addOnBlur:null,allowDuplicate:!0,ariaLabelledBy:null,autoFocus:!1,className:null,disabled:null,id:null,inputId:null,inputRef:null,invalid:!1,variant:null,itemTemplate:null,keyfilter:null,max:null,name:null,onAdd:null,onBlur:null,onChange:null,onFocus:null,onKeyDown:null,onRemove:null,placeholder:null,readOnly:!1,removable:!0,removeIcon:null,separator:null,style:null,tooltip:null,tooltipOptions:null,value:null,children:void 0},css:{classes:gle,styles:mle}});function z3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z3(Object(n),!0).forEach(function(r){lle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var gw=T.memo(T.forwardRef(function(t,e){var n=x_(),r=T.useContext($u),i=wm.getProps(t,r),s=T.useState(!1),a=P3(s,2),l=a[0],u=a[1],f=T.useState(null),p=P3(f,2),m=p[0],y=p[1],v=wm.setMetaData({props:i,state:{focused:l}}),b=v.ptm,S=v.cx,C=v.isUnstyled;S_(wm.css.styles,C,{name:"chips"});var N=T.useRef(null),O=T.useRef(null),D=T.useRef(i.inputRef),R=function(Z,$e){if(!(i.disabled||i.readOnly)){var Ue=bm(i.value),Qe=Ue.splice($e,1)[0];pe(Qe,$e)&&(i.onRemove&&i.onRemove({originalEvent:Z,value:Qe}),i.onChange&&i.onChange({originalEvent:Z,value:Ue,stopPropagation:function(){Z?.stopPropagation()},preventDefault:function(){Z?.preventDefault()},target:{name:i.name,id:i.id,value:Ue}}))}},E=function(Z,$e,Ue){if($e&&$e.trim().length){var Qe=i.value?bm(i.value):[];if(i.allowDuplicate||Qe.indexOf($e)===-1){var Nt=!0;i.onAdd&&(Nt=i.onAdd({originalEvent:Z,value:$e})),Nt!==!1&&Qe.push($e)}ne(Z,Qe,Ue)}},k=function(){yn.focus(D.current)},P=function(Z){switch(Z.code){case"ArrowLeft":F();break;case"ArrowRight":G();break;case"Backspace":ge(Z);break}},F=function(){var Z=m;D.current.value.length===0&&i.value&&i.value.length>0&&(Z=Z===null?i.value.length-1:Z-1,Z<0&&(Z=0)),y(Z)},G=function(){var Z=m;D.current.value.length===0&&i.value&&i.value.length>0&&(Z===i.value.length-1?(Z=null,D.current.focus()):Z++),y(Z)},ge=function(Z){m!==null&&R(Z,m)},oe=function(Z){var $e=Z.target.value,Ue=i.value||[];if(i.onKeyDown&&i.onKeyDown(Z),!Z.defaultPrevented)switch(Z.key){case"Backspace":$e.length===0&&Ue.length>0&&R(Z,Ue.length-1);break;case"Enter":$e&&$e.trim().length&&(!i.max||i.max>Ue.length)&&E(Z,$e,!0);break;case"ArrowLeft":$e.length===0&&Ue&&Ue.length>0&&yn.focus(O.current);break;case"ArrowRight":Z.stopPropagation();break;default:i.keyfilter&&sy.onKeyPress(Z,i.keyfilter),ze()&&Z.preventDefault();break}},ne=function(Z,$e,Ue){i.onChange&&i.onChange({originalEvent:Z,value:$e,stopPropagation:function(){Z?.stopPropagation()},preventDefault:function(){Z?.preventDefault()},target:{name:i.name,id:i.id,value:$e}}),D.current.value="",Ue&&Z.preventDefault()},ee=function(Z){var $e,Ue=($e=Z.target.value)===null||$e===void 0?void 0:$e.trim();if(Ue===i.separator){D.current.value="";return}if(i.separator&&Ue.endsWith(i.separator)){var Qe=Ue.slice(0,-1);E(Z,Qe)}},Ee=function(Z){if(i.separator){var $e=i.separator.replace("\\n",`
`).replace("\\r","\r").replace("\\t","	"),Ue=(Z.clipboardData||window.clipboardData).getData("Text");if(i.keyfilter&&sy.onPaste(Z,i.keyfilter),Ue){var Qe=i.value||[],Nt=Ue.split($e);Nt=Nt.filter(function(_){return(i.allowDuplicate||Qe.indexOf(_)===-1)&&_.trim().length}),Qe=[].concat(bm(Qe),bm(Nt)),ne(Z,Qe,!0)}}},Oe=function(){u(!0)},K=function(){y(-1),u(!1)},re=function(Z){u(!0),y(null),i.onFocus&&i.onFocus(Z)},ue=function(Z){if(i.addOnBlur){var $e=Z.target.value,Ue=i.value||[];$e&&$e.trim().length&&(!i.max||i.max>Ue.length)&&E(Z,$e,!0)}u(!1),i.onBlur&&i.onBlur(Z)},ze=function(){return i.max&&i.value&&i.max===i.value.length},q=D.current&&D.current.value,ae=T.useMemo(function(){return un.isNotEmpty(i.value)||un.isNotEmpty(q)},[i.value,q]),pe=function(Z,$e){return un.getPropValue(i.removable,{value:Z,index:$e,props:i})};T.useImperativeHandle(e,function(){return{props:i,focus:function(){return yn.focus(D.current)},getElement:function(){return N.current},getInput:function(){return D.current}}}),T.useEffect(function(){un.combinedRefs(D,i.inputRef)},[D,i.inputRef]),Gy(function(){i.autoFocus&&yn.focus(D.current,i.autoFocus)});var xe=function(){return m!==null?"".concat(i.inputId,"_chips_item_").concat(m):null},Re=function(Z,$e){if(!i.disabled&&!i.readOnly&&pe(Z,$e)){var Ue=n({className:S("removeTokenIcon"),onClick:function(W){return R(W,$e)},"aria-hidden":"true"},b("removeTokenIcon")),Qe=i.removeIcon||T.createElement(C_,Co({},Ue,{key:"".concat($e,"_icon")})),Nt=soe.getJSXIcon(Qe,I3({},Ue),{props:i});return Nt}return null},_e=function(Z,$e){var Ue=i.itemTemplate?i.itemTemplate(Z):Z,Qe=n({className:S("label")},b("label")),Nt=T.createElement("span",Co({},Qe,{key:"".concat($e,"_").concat(Z,"_span")}),Ue),_=Re(Z,$e),W=n({id:i.inputId+"_chips_item_"+$e,role:"option","aria-label":Z,className:S("token",{focusedIndex:m,index:$e}),"aria-selected":!0,"aria-setsize":i.value.length,"aria-posinset":$e+1,"data-p-highlight":!0,"data-p-focused":m===$e},b("token"));return T.createElement("li",Co({},W,{key:"".concat($e,"_").concat(Z)}),Nt,_)},he=function(){var Z=n({className:S("inputToken")},b("inputToken")),$e=n(I3({id:i.inputId,ref:D,placeholder:i.placeholder,type:"text",enterKeyHint:"enter",name:i.name,disabled:i.disabled||ze(),onKeyDown:function(Qe){return oe(Qe)},onChange:function(Qe){return ee(Qe)},onPaste:function(Qe){return Ee(Qe)},onFocus:function(Qe){return re(Qe)},onBlur:function(Qe){return ue(Qe)},readOnly:i.readOnly},Bt),b("input"));return T.createElement("li",Co({},Z,{key:i.inputId+"_chips_input"}),T.createElement("input",$e))},Be=function(){return i.value?i.value.map(_e):null},Le=function(){var Z=Be(),$e=he(),Ue=n({ref:O,className:S("container",{context:r}),onClick:function(Nt){return k()},onKeyDown:function(Nt){return P(Nt)},tabIndex:-1,role:"listbox","aria-orientation":"horizontal","aria-labelledby":i.ariaLabelledby,"aria-label":i.ariaLabel,"aria-activedescendant":l?xe():void 0,"data-p-disabled":i.disabled,"data-p-focus":l,onFocus:Oe,onBlur:K},b("container"));return T.createElement("ul",Ue,Z,$e)},ot=un.isNotEmpty(i.tooltip),ut=wm.getOtherProps(i),Bt=un.reduceKeys(ut,yn.ARIA_PROPS),dt=Le(),_t=n({id:i.id,ref:N,className:na(i.className,S("root",{isFilled:ae,focusedState:l,disabled:i.disabled,invalid:i.invalid})),style:i.style},b("root"));return T.createElement(T.Fragment,null,T.createElement("div",Co({},_t,{key:"chips"}),dt),ot&&T.createElement(E_,Co({target:D,content:i.tooltip,pt:b("tooltip")},i.tooltipOptions)))}));gw.displayName="Chips";function Sm(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Nb={exports:{}};var B3;function yle(){return B3||(B3=1,function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,s){function a(f,p){if(!i[f]){if(!r[f]){var m=typeof Sm=="function"&&Sm;if(!p&&m)return m(f,!0);if(l)return l(f,!0);var y=new Error("Cannot find module '"+f+"'");throw y.code="MODULE_NOT_FOUND",y}var v=i[f]={exports:{}};r[f][0].call(v.exports,function(b){var S=r[f][1][b];return a(S||b)},v,v.exports,n,r,i,s)}return i[f].exports}for(var l=typeof Sm=="function"&&Sm,u=0;u<s.length;u++)a(s[u]);return a}({1:[function(n,r,i){(function(s){var a=s.MutationObserver||s.WebKitMutationObserver,l;if(a){var u=0,f=new a(b),p=s.document.createTextNode("");f.observe(p,{characterData:!0}),l=function(){p.data=u=++u%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var m=new s.MessageChannel;m.port1.onmessage=b,l=function(){m.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?l=function(){var C=s.document.createElement("script");C.onreadystatechange=function(){b(),C.onreadystatechange=null,C.parentNode.removeChild(C),C=null},s.document.documentElement.appendChild(C)}:l=function(){setTimeout(b,0)};var y,v=[];function b(){y=!0;for(var C,N,O=v.length;O;){for(N=v,v=[],C=-1;++C<O;)N[C]();O=v.length}y=!1}r.exports=S;function S(C){v.push(C)===1&&!y&&l()}}).call(this,typeof $p<"u"?$p:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function a(){}var l={},u=["REJECTED"],f=["FULFILLED"],p=["PENDING"];r.exports=m;function m(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,E!==a&&S(this,E)}m.prototype.catch=function(E){return this.then(null,E)},m.prototype.then=function(E,k){if(typeof E!="function"&&this.state===f||typeof k!="function"&&this.state===u)return this;var P=new this.constructor(a);if(this.state!==p){var F=this.state===f?E:k;v(P,F,this.outcome)}else this.queue.push(new y(P,E,k));return P};function y(E,k,P){this.promise=E,typeof k=="function"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}y.prototype.callFulfilled=function(E){l.resolve(this.promise,E)},y.prototype.otherCallFulfilled=function(E){v(this.promise,this.onFulfilled,E)},y.prototype.callRejected=function(E){l.reject(this.promise,E)},y.prototype.otherCallRejected=function(E){v(this.promise,this.onRejected,E)};function v(E,k,P){s(function(){var F;try{F=k(P)}catch(G){return l.reject(E,G)}F===E?l.reject(E,new TypeError("Cannot resolve promise with itself")):l.resolve(E,F)})}l.resolve=function(E,k){var P=C(b,k);if(P.status==="error")return l.reject(E,P.value);var F=P.value;if(F)S(E,F);else{E.state=f,E.outcome=k;for(var G=-1,ge=E.queue.length;++G<ge;)E.queue[G].callFulfilled(k)}return E},l.reject=function(E,k){E.state=u,E.outcome=k;for(var P=-1,F=E.queue.length;++P<F;)E.queue[P].callRejected(k);return E};function b(E){var k=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof k=="function")return function(){k.apply(E,arguments)}}function S(E,k){var P=!1;function F(ne){P||(P=!0,l.reject(E,ne))}function G(ne){P||(P=!0,l.resolve(E,ne))}function ge(){k(G,F)}var oe=C(ge);oe.status==="error"&&F(oe.value)}function C(E,k){var P={};try{P.value=E(k),P.status="success"}catch(F){P.status="error",P.value=F}return P}m.resolve=N;function N(E){return E instanceof this?E:l.resolve(new this(a),E)}m.reject=O;function O(E){var k=new this(a);return l.reject(k,E)}m.all=D;function D(E){var k=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=E.length,F=!1;if(!P)return this.resolve([]);for(var G=new Array(P),ge=0,oe=-1,ne=new this(a);++oe<P;)ee(E[oe],oe);return ne;function ee(Ee,Oe){k.resolve(Ee).then(K,function(re){F||(F=!0,l.reject(ne,re))});function K(re){G[Oe]=re,++ge===P&&!F&&(F=!0,l.resolve(ne,G))}}}m.race=R;function R(E){var k=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=E.length,F=!1;if(!P)return this.resolve([]);for(var G=-1,ge=new this(a);++G<P;)oe(E[G]);return ge;function oe(ne){k.resolve(ne).then(function(ee){F||(F=!0,l.resolve(ge,ee))},function(ee){F||(F=!0,l.reject(ge,ee))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof $p<"u"?$p:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j};function a(j,L){if(!(j instanceof L))throw new TypeError("Cannot call a class as a function")}function l(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=l();function f(){try{if(!u||!u.open)return!1;var j=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),L=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!j||L)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function p(j,L){j=j||[],L=L||{};try{return new Blob(j,L)}catch(te){if(te.name!=="TypeError")throw te;for(var B=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,J=new B,le=0;le<j.length;le+=1)J.append(j[le]);return J.getBlob(L.type)}}typeof Promise>"u"&&n(3);var m=Promise;function y(j,L){L&&j.then(function(B){L(null,B)},function(B){L(B)})}function v(j,L,B){typeof L=="function"&&j.then(L),typeof B=="function"&&j.catch(B)}function b(j){return typeof j!="string"&&(console.warn(j+" used as a key, but it is not a string."),j=String(j)),j}function S(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var C="local-forage-detect-blob-support",N=void 0,O={},D=Object.prototype.toString,R="readonly",E="readwrite";function k(j){for(var L=j.length,B=new ArrayBuffer(L),J=new Uint8Array(B),le=0;le<L;le++)J[le]=j.charCodeAt(le);return B}function P(j){return new m(function(L){var B=j.transaction(C,E),J=p([""]);B.objectStore(C).put(J,"key"),B.onabort=function(le){le.preventDefault(),le.stopPropagation(),L(!1)},B.oncomplete=function(){var le=navigator.userAgent.match(/Chrome\/(\d+)/),te=navigator.userAgent.match(/Edge\//);L(te||!le||parseInt(le[1],10)>=43)}}).catch(function(){return!1})}function F(j){return typeof N=="boolean"?m.resolve(N):P(j).then(function(L){return N=L,N})}function G(j){var L=O[j.name],B={};B.promise=new m(function(J,le){B.resolve=J,B.reject=le}),L.deferredOperations.push(B),L.dbReady?L.dbReady=L.dbReady.then(function(){return B.promise}):L.dbReady=B.promise}function ge(j){var L=O[j.name],B=L.deferredOperations.pop();if(B)return B.resolve(),B.promise}function oe(j,L){var B=O[j.name],J=B.deferredOperations.pop();if(J)return J.reject(L),J.promise}function ne(j,L){return new m(function(B,J){if(O[j.name]=O[j.name]||pe(),j.db)if(L)G(j),j.db.close();else return B(j.db);var le=[j.name];L&&le.push(j.version);var te=u.open.apply(u,le);L&&(te.onupgradeneeded=function(ke){var qe=te.result;try{qe.createObjectStore(j.storeName),ke.oldVersion<=1&&qe.createObjectStore(C)}catch(Ke){if(Ke.name==="ConstraintError")console.warn('The database "'+j.name+'" has been upgraded from version '+ke.oldVersion+" to version "+ke.newVersion+', but the storage "'+j.storeName+'" already exists.');else throw Ke}}),te.onerror=function(ke){ke.preventDefault(),J(te.error)},te.onsuccess=function(){var ke=te.result;ke.onversionchange=function(qe){qe.target.close()},B(ke),ge(j)}})}function ee(j){return ne(j,!1)}function Ee(j){return ne(j,!0)}function Oe(j,L){if(!j.db)return!0;var B=!j.db.objectStoreNames.contains(j.storeName),J=j.version<j.db.version,le=j.version>j.db.version;if(J&&(j.version!==L&&console.warn('The database "'+j.name+`" can't be downgraded from version `+j.db.version+" to version "+j.version+"."),j.version=j.db.version),le||B){if(B){var te=j.db.version+1;te>j.version&&(j.version=te)}return!0}return!1}function K(j){return new m(function(L,B){var J=new FileReader;J.onerror=B,J.onloadend=function(le){var te=btoa(le.target.result||"");L({__local_forage_encoded_blob:!0,data:te,type:j.type})},J.readAsBinaryString(j)})}function re(j){var L=k(atob(j.data));return p([L],{type:j.type})}function ue(j){return j&&j.__local_forage_encoded_blob}function ze(j){var L=this,B=L._initReady().then(function(){var J=O[L._dbInfo.name];if(J&&J.dbReady)return J.dbReady});return v(B,j,j),B}function q(j){G(j);for(var L=O[j.name],B=L.forages,J=0;J<B.length;J++){var le=B[J];le._dbInfo.db&&(le._dbInfo.db.close(),le._dbInfo.db=null)}return j.db=null,ee(j).then(function(te){return j.db=te,Oe(j)?Ee(j):te}).then(function(te){j.db=L.db=te;for(var ke=0;ke<B.length;ke++)B[ke]._dbInfo.db=te}).catch(function(te){throw oe(j,te),te})}function ae(j,L,B,J){J===void 0&&(J=1);try{var le=j.db.transaction(j.storeName,L);B(null,le)}catch(te){if(J>0&&(!j.db||te.name==="InvalidStateError"||te.name==="NotFoundError"))return m.resolve().then(function(){if(!j.db||te.name==="NotFoundError"&&!j.db.objectStoreNames.contains(j.storeName)&&j.version<=j.db.version)return j.db&&(j.version=j.db.version+1),Ee(j)}).then(function(){return q(j).then(function(){ae(j,L,B,J-1)})}).catch(B);B(te)}}function pe(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function xe(j){var L=this,B={db:null};if(j)for(var J in j)B[J]=j[J];var le=O[B.name];le||(le=pe(),O[B.name]=le),le.forages.push(L),L._initReady||(L._initReady=L.ready,L.ready=ze);var te=[];function ke(){return m.resolve()}for(var qe=0;qe<le.forages.length;qe++){var Ke=le.forages[qe];Ke!==L&&te.push(Ke._initReady().catch(ke))}var Ze=le.forages.slice(0);return m.all(te).then(function(){return B.db=le.db,ee(B)}).then(function(at){return B.db=at,Oe(B,L._defaultConfig.version)?Ee(B):at}).then(function(at){B.db=le.db=at,L._dbInfo=B;for(var Et=0;Et<Ze.length;Et++){var Xt=Ze[Et];Xt!==L&&(Xt._dbInfo.db=B.db,Xt._dbInfo.version=B.version)}})}function Re(j,L){var B=this;j=b(j);var J=new m(function(le,te){B.ready().then(function(){ae(B._dbInfo,R,function(ke,qe){if(ke)return te(ke);try{var Ke=qe.objectStore(B._dbInfo.storeName),Ze=Ke.get(j);Ze.onsuccess=function(){var at=Ze.result;at===void 0&&(at=null),ue(at)&&(at=re(at)),le(at)},Ze.onerror=function(){te(Ze.error)}}catch(at){te(at)}})}).catch(te)});return y(J,L),J}function _e(j,L){var B=this,J=new m(function(le,te){B.ready().then(function(){ae(B._dbInfo,R,function(ke,qe){if(ke)return te(ke);try{var Ke=qe.objectStore(B._dbInfo.storeName),Ze=Ke.openCursor(),at=1;Ze.onsuccess=function(){var Et=Ze.result;if(Et){var Xt=Et.value;ue(Xt)&&(Xt=re(Xt));var vn=j(Xt,Et.key,at++);vn!==void 0?le(vn):Et.continue()}else le()},Ze.onerror=function(){te(Ze.error)}}catch(Et){te(Et)}})}).catch(te)});return y(J,L),J}function he(j,L,B){var J=this;j=b(j);var le=new m(function(te,ke){var qe;J.ready().then(function(){return qe=J._dbInfo,D.call(L)==="[object Blob]"?F(qe.db).then(function(Ke){return Ke?L:K(L)}):L}).then(function(Ke){ae(J._dbInfo,E,function(Ze,at){if(Ze)return ke(Ze);try{var Et=at.objectStore(J._dbInfo.storeName);Ke===null&&(Ke=void 0);var Xt=Et.put(Ke,j);at.oncomplete=function(){Ke===void 0&&(Ke=null),te(Ke)},at.onabort=at.onerror=function(){var vn=Xt.error?Xt.error:Xt.transaction.error;ke(vn)}}catch(vn){ke(vn)}})}).catch(ke)});return y(le,B),le}function Be(j,L){var B=this;j=b(j);var J=new m(function(le,te){B.ready().then(function(){ae(B._dbInfo,E,function(ke,qe){if(ke)return te(ke);try{var Ke=qe.objectStore(B._dbInfo.storeName),Ze=Ke.delete(j);qe.oncomplete=function(){le()},qe.onerror=function(){te(Ze.error)},qe.onabort=function(){var at=Ze.error?Ze.error:Ze.transaction.error;te(at)}}catch(at){te(at)}})}).catch(te)});return y(J,L),J}function Le(j){var L=this,B=new m(function(J,le){L.ready().then(function(){ae(L._dbInfo,E,function(te,ke){if(te)return le(te);try{var qe=ke.objectStore(L._dbInfo.storeName),Ke=qe.clear();ke.oncomplete=function(){J()},ke.onabort=ke.onerror=function(){var Ze=Ke.error?Ke.error:Ke.transaction.error;le(Ze)}}catch(Ze){le(Ze)}})}).catch(le)});return y(B,j),B}function ot(j){var L=this,B=new m(function(J,le){L.ready().then(function(){ae(L._dbInfo,R,function(te,ke){if(te)return le(te);try{var qe=ke.objectStore(L._dbInfo.storeName),Ke=qe.count();Ke.onsuccess=function(){J(Ke.result)},Ke.onerror=function(){le(Ke.error)}}catch(Ze){le(Ze)}})}).catch(le)});return y(B,j),B}function ut(j,L){var B=this,J=new m(function(le,te){if(j<0){le(null);return}B.ready().then(function(){ae(B._dbInfo,R,function(ke,qe){if(ke)return te(ke);try{var Ke=qe.objectStore(B._dbInfo.storeName),Ze=!1,at=Ke.openKeyCursor();at.onsuccess=function(){var Et=at.result;if(!Et){le(null);return}j===0||Ze?le(Et.key):(Ze=!0,Et.advance(j))},at.onerror=function(){te(at.error)}}catch(Et){te(Et)}})}).catch(te)});return y(J,L),J}function Bt(j){var L=this,B=new m(function(J,le){L.ready().then(function(){ae(L._dbInfo,R,function(te,ke){if(te)return le(te);try{var qe=ke.objectStore(L._dbInfo.storeName),Ke=qe.openKeyCursor(),Ze=[];Ke.onsuccess=function(){var at=Ke.result;if(!at){J(Ze);return}Ze.push(at.key),at.continue()},Ke.onerror=function(){le(Ke.error)}}catch(at){le(at)}})}).catch(le)});return y(B,j),B}function dt(j,L){L=S.apply(this,arguments);var B=this.config();j=typeof j!="function"&&j||{},j.name||(j.name=j.name||B.name,j.storeName=j.storeName||B.storeName);var J=this,le;if(!j.name)le=m.reject("Invalid arguments");else{var te=j.name===B.name&&J._dbInfo.db,ke=te?m.resolve(J._dbInfo.db):ee(j).then(function(qe){var Ke=O[j.name],Ze=Ke.forages;Ke.db=qe;for(var at=0;at<Ze.length;at++)Ze[at]._dbInfo.db=qe;return qe});j.storeName?le=ke.then(function(qe){if(qe.objectStoreNames.contains(j.storeName)){var Ke=qe.version+1;G(j);var Ze=O[j.name],at=Ze.forages;qe.close();for(var Et=0;Et<at.length;Et++){var Xt=at[Et];Xt._dbInfo.db=null,Xt._dbInfo.version=Ke}var vn=new m(function(xn,Rn){var Qn=u.open(j.name,Ke);Qn.onerror=function(ii){var Ka=Qn.result;Ka.close(),Rn(ii)},Qn.onupgradeneeded=function(){var ii=Qn.result;ii.deleteObjectStore(j.storeName)},Qn.onsuccess=function(){var ii=Qn.result;ii.close(),xn(ii)}});return vn.then(function(xn){Ze.db=xn;for(var Rn=0;Rn<at.length;Rn++){var Qn=at[Rn];Qn._dbInfo.db=xn,ge(Qn._dbInfo)}}).catch(function(xn){throw(oe(j,xn)||m.resolve()).catch(function(){}),xn})}}):le=ke.then(function(qe){G(j);var Ke=O[j.name],Ze=Ke.forages;qe.close();for(var at=0;at<Ze.length;at++){var Et=Ze[at];Et._dbInfo.db=null}var Xt=new m(function(vn,xn){var Rn=u.deleteDatabase(j.name);Rn.onerror=function(){var Qn=Rn.result;Qn&&Qn.close(),xn(Rn.error)},Rn.onblocked=function(){console.warn('dropInstance blocked for database "'+j.name+'" until all open connections are closed')},Rn.onsuccess=function(){var Qn=Rn.result;Qn&&Qn.close(),vn(Qn)}});return Xt.then(function(vn){Ke.db=vn;for(var xn=0;xn<Ze.length;xn++){var Rn=Ze[xn];ge(Rn._dbInfo)}}).catch(function(vn){throw(oe(j,vn)||m.resolve()).catch(function(){}),vn})})}return y(le,L),le}var _t={_driver:"asyncStorage",_initStorage:xe,_support:f(),iterate:_e,getItem:Re,setItem:he,removeItem:Be,clear:Le,length:ot,key:ut,keys:Bt,dropInstance:dt};function st(){return typeof openDatabase=="function"}var Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$e="~~local_forage_type~",Ue=/^~~local_forage_type~([^~]+)~/,Qe="__lfsc__:",Nt=Qe.length,_="arbf",W="blob",I="si08",ce="ui08",ye="uic8",$="si16",U="si32",be="ur16",We="ui32",ht="fl32",Qt="fl64",Lt=Nt+_.length,ln=Object.prototype.toString;function sn(j){var L=j.length*.75,B=j.length,J,le=0,te,ke,qe,Ke;j[j.length-1]==="="&&(L--,j[j.length-2]==="="&&L--);var Ze=new ArrayBuffer(L),at=new Uint8Array(Ze);for(J=0;J<B;J+=4)te=Z.indexOf(j[J]),ke=Z.indexOf(j[J+1]),qe=Z.indexOf(j[J+2]),Ke=Z.indexOf(j[J+3]),at[le++]=te<<2|ke>>4,at[le++]=(ke&15)<<4|qe>>2,at[le++]=(qe&3)<<6|Ke&63;return Ze}function Se(j){var L=new Uint8Array(j),B="",J;for(J=0;J<L.length;J+=3)B+=Z[L[J]>>2],B+=Z[(L[J]&3)<<4|L[J+1]>>4],B+=Z[(L[J+1]&15)<<2|L[J+2]>>6],B+=Z[L[J+2]&63];return L.length%3===2?B=B.substring(0,B.length-1)+"=":L.length%3===1&&(B=B.substring(0,B.length-2)+"=="),B}function it(j,L){var B="";if(j&&(B=ln.call(j)),j&&(B==="[object ArrayBuffer]"||j.buffer&&ln.call(j.buffer)==="[object ArrayBuffer]")){var J,le=Qe;j instanceof ArrayBuffer?(J=j,le+=_):(J=j.buffer,B==="[object Int8Array]"?le+=I:B==="[object Uint8Array]"?le+=ce:B==="[object Uint8ClampedArray]"?le+=ye:B==="[object Int16Array]"?le+=$:B==="[object Uint16Array]"?le+=be:B==="[object Int32Array]"?le+=U:B==="[object Uint32Array]"?le+=We:B==="[object Float32Array]"?le+=ht:B==="[object Float64Array]"?le+=Qt:L(new Error("Failed to get type for BinaryArray"))),L(le+Se(J))}else if(B==="[object Blob]"){var te=new FileReader;te.onload=function(){var ke=$e+j.type+"~"+Se(this.result);L(Qe+W+ke)},te.readAsArrayBuffer(j)}else try{L(JSON.stringify(j))}catch(ke){console.error("Couldn't convert value into a JSON string: ",j),L(null,ke)}}function ft(j){if(j.substring(0,Nt)!==Qe)return JSON.parse(j);var L=j.substring(Lt),B=j.substring(Nt,Lt),J;if(B===W&&Ue.test(L)){var le=L.match(Ue);J=le[1],L=L.substring(le[0].length)}var te=sn(L);switch(B){case _:return te;case W:return p([te],{type:J});case I:return new Int8Array(te);case ce:return new Uint8Array(te);case ye:return new Uint8ClampedArray(te);case $:return new Int16Array(te);case be:return new Uint16Array(te);case U:return new Int32Array(te);case We:return new Uint32Array(te);case ht:return new Float32Array(te);case Qt:return new Float64Array(te);default:throw new Error("Unkown type: "+B)}}var de={serialize:it,deserialize:ft,stringToBuffer:sn,bufferToString:Se};function lt(j,L,B,J){j.executeSql("CREATE TABLE IF NOT EXISTS "+L.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],B,J)}function Ot(j){var L=this,B={db:null};if(j)for(var J in j)B[J]=typeof j[J]!="string"?j[J].toString():j[J];var le=new m(function(te,ke){try{B.db=openDatabase(B.name,String(B.version),B.description,B.size)}catch(qe){return ke(qe)}B.db.transaction(function(qe){lt(qe,B,function(){L._dbInfo=B,te()},function(Ke,Ze){ke(Ze)})},ke)});return B.serializer=de,le}function tt(j,L,B,J,le,te){j.executeSql(B,J,le,function(ke,qe){qe.code===qe.SYNTAX_ERR?ke.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[L.storeName],function(Ke,Ze){Ze.rows.length?te(Ke,qe):lt(Ke,L,function(){Ke.executeSql(B,J,le,te)},te)},te):te(ke,qe)},te)}function Te(j,L){var B=this;j=b(j);var J=new m(function(le,te){B.ready().then(function(){var ke=B._dbInfo;ke.db.transaction(function(qe){tt(qe,ke,"SELECT * FROM "+ke.storeName+" WHERE key = ? LIMIT 1",[j],function(Ke,Ze){var at=Ze.rows.length?Ze.rows.item(0).value:null;at&&(at=ke.serializer.deserialize(at)),le(at)},function(Ke,Ze){te(Ze)})})}).catch(te)});return y(J,L),J}function rt(j,L){var B=this,J=new m(function(le,te){B.ready().then(function(){var ke=B._dbInfo;ke.db.transaction(function(qe){tt(qe,ke,"SELECT * FROM "+ke.storeName,[],function(Ke,Ze){for(var at=Ze.rows,Et=at.length,Xt=0;Xt<Et;Xt++){var vn=at.item(Xt),xn=vn.value;if(xn&&(xn=ke.serializer.deserialize(xn)),xn=j(xn,vn.key,Xt+1),xn!==void 0){le(xn);return}}le()},function(Ke,Ze){te(Ze)})})}).catch(te)});return y(J,L),J}function wt(j,L,B,J){var le=this;j=b(j);var te=new m(function(ke,qe){le.ready().then(function(){L===void 0&&(L=null);var Ke=L,Ze=le._dbInfo;Ze.serializer.serialize(L,function(at,Et){Et?qe(Et):Ze.db.transaction(function(Xt){tt(Xt,Ze,"INSERT OR REPLACE INTO "+Ze.storeName+" (key, value) VALUES (?, ?)",[j,at],function(){ke(Ke)},function(vn,xn){qe(xn)})},function(Xt){if(Xt.code===Xt.QUOTA_ERR){if(J>0){ke(wt.apply(le,[j,Ke,B,J-1]));return}qe(Xt)}})})}).catch(qe)});return y(te,B),te}function St(j,L,B){return wt.apply(this,[j,L,B,1])}function Tt(j,L){var B=this;j=b(j);var J=new m(function(le,te){B.ready().then(function(){var ke=B._dbInfo;ke.db.transaction(function(qe){tt(qe,ke,"DELETE FROM "+ke.storeName+" WHERE key = ?",[j],function(){le()},function(Ke,Ze){te(Ze)})})}).catch(te)});return y(J,L),J}function Zt(j){var L=this,B=new m(function(J,le){L.ready().then(function(){var te=L._dbInfo;te.db.transaction(function(ke){tt(ke,te,"DELETE FROM "+te.storeName,[],function(){J()},function(qe,Ke){le(Ke)})})}).catch(le)});return y(B,j),B}function Tn(j){var L=this,B=new m(function(J,le){L.ready().then(function(){var te=L._dbInfo;te.db.transaction(function(ke){tt(ke,te,"SELECT COUNT(key) as c FROM "+te.storeName,[],function(qe,Ke){var Ze=Ke.rows.item(0).c;J(Ze)},function(qe,Ke){le(Ke)})})}).catch(le)});return y(B,j),B}function Q(j,L){var B=this,J=new m(function(le,te){B.ready().then(function(){var ke=B._dbInfo;ke.db.transaction(function(qe){tt(qe,ke,"SELECT key FROM "+ke.storeName+" WHERE id = ? LIMIT 1",[j+1],function(Ke,Ze){var at=Ze.rows.length?Ze.rows.item(0).key:null;le(at)},function(Ke,Ze){te(Ze)})})}).catch(te)});return y(J,L),J}function fe(j){var L=this,B=new m(function(J,le){L.ready().then(function(){var te=L._dbInfo;te.db.transaction(function(ke){tt(ke,te,"SELECT key FROM "+te.storeName,[],function(qe,Ke){for(var Ze=[],at=0;at<Ke.rows.length;at++)Ze.push(Ke.rows.item(at).key);J(Ze)},function(qe,Ke){le(Ke)})})}).catch(le)});return y(B,j),B}function Ce(j){return new m(function(L,B){j.transaction(function(J){J.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(le,te){for(var ke=[],qe=0;qe<te.rows.length;qe++)ke.push(te.rows.item(qe).name);L({db:j,storeNames:ke})},function(le,te){B(te)})},function(J){B(J)})})}function Pe(j,L){L=S.apply(this,arguments);var B=this.config();j=typeof j!="function"&&j||{},j.name||(j.name=j.name||B.name,j.storeName=j.storeName||B.storeName);var J=this,le;return j.name?le=new m(function(te){var ke;j.name===B.name?ke=J._dbInfo.db:ke=openDatabase(j.name,"","",0),j.storeName?te({db:ke,storeNames:[j.storeName]}):te(Ce(ke))}).then(function(te){return new m(function(ke,qe){te.db.transaction(function(Ke){function Ze(vn){return new m(function(xn,Rn){Ke.executeSql("DROP TABLE IF EXISTS "+vn,[],function(){xn()},function(Qn,ii){Rn(ii)})})}for(var at=[],Et=0,Xt=te.storeNames.length;Et<Xt;Et++)at.push(Ze(te.storeNames[Et]));m.all(at).then(function(){ke()}).catch(function(vn){qe(vn)})},function(Ke){qe(Ke)})})}):le=m.reject("Invalid arguments"),y(le,L),le}var Ge={_driver:"webSQLStorage",_initStorage:Ot,_support:st(),iterate:rt,getItem:Te,setItem:St,removeItem:Tt,clear:Zt,length:Tn,key:Q,keys:fe,dropInstance:Pe};function gt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Ct(j,L){var B=j.name+"/";return j.storeName!==L.storeName&&(B+=j.storeName+"/"),B}function nt(){var j="_localforage_support_test";try{return localStorage.setItem(j,!0),localStorage.removeItem(j),!1}catch{return!0}}function pt(){return!nt()||localStorage.length>0}function mt(j){var L=this,B={};if(j)for(var J in j)B[J]=j[J];return B.keyPrefix=Ct(j,L._defaultConfig),pt()?(L._dbInfo=B,B.serializer=de,m.resolve()):m.reject()}function Mt(j){var L=this,B=L.ready().then(function(){for(var J=L._dbInfo.keyPrefix,le=localStorage.length-1;le>=0;le--){var te=localStorage.key(le);te.indexOf(J)===0&&localStorage.removeItem(te)}});return y(B,j),B}function Y(j,L){var B=this;j=b(j);var J=B.ready().then(function(){var le=B._dbInfo,te=localStorage.getItem(le.keyPrefix+j);return te&&(te=le.serializer.deserialize(te)),te});return y(J,L),J}function Me(j,L){var B=this,J=B.ready().then(function(){for(var le=B._dbInfo,te=le.keyPrefix,ke=te.length,qe=localStorage.length,Ke=1,Ze=0;Ze<qe;Ze++){var at=localStorage.key(Ze);if(at.indexOf(te)===0){var Et=localStorage.getItem(at);if(Et&&(Et=le.serializer.deserialize(Et)),Et=j(Et,at.substring(ke),Ke++),Et!==void 0)return Et}}});return y(J,L),J}function Xe(j,L){var B=this,J=B.ready().then(function(){var le=B._dbInfo,te;try{te=localStorage.key(j)}catch{te=null}return te&&(te=te.substring(le.keyPrefix.length)),te});return y(J,L),J}function vt(j){var L=this,B=L.ready().then(function(){for(var J=L._dbInfo,le=localStorage.length,te=[],ke=0;ke<le;ke++){var qe=localStorage.key(ke);qe.indexOf(J.keyPrefix)===0&&te.push(qe.substring(J.keyPrefix.length))}return te});return y(B,j),B}function qt(j){var L=this,B=L.keys().then(function(J){return J.length});return y(B,j),B}function Dt(j,L){var B=this;j=b(j);var J=B.ready().then(function(){var le=B._dbInfo;localStorage.removeItem(le.keyPrefix+j)});return y(J,L),J}function zt(j,L,B){var J=this;j=b(j);var le=J.ready().then(function(){L===void 0&&(L=null);var te=L;return new m(function(ke,qe){var Ke=J._dbInfo;Ke.serializer.serialize(L,function(Ze,at){if(at)qe(at);else try{localStorage.setItem(Ke.keyPrefix+j,Ze),ke(te)}catch(Et){(Et.name==="QuotaExceededError"||Et.name==="NS_ERROR_DOM_QUOTA_REACHED")&&qe(Et),qe(Et)}})})});return y(le,B),le}function Xn(j,L){if(L=S.apply(this,arguments),j=typeof j!="function"&&j||{},!j.name){var B=this.config();j.name=j.name||B.name,j.storeName=j.storeName||B.storeName}var J=this,le;return j.name?le=new m(function(te){j.storeName?te(Ct(j,J._defaultConfig)):te(j.name+"/")}).then(function(te){for(var ke=localStorage.length-1;ke>=0;ke--){var qe=localStorage.key(ke);qe.indexOf(te)===0&&localStorage.removeItem(qe)}}):le=m.reject("Invalid arguments"),y(le,L),le}var An={_driver:"localStorageWrapper",_initStorage:mt,_support:gt(),iterate:Me,getItem:Y,setItem:zt,removeItem:Dt,clear:Mt,length:qt,key:Xe,keys:vt,dropInstance:Xn},Sn=function(L,B){return L===B||typeof L=="number"&&typeof B=="number"&&isNaN(L)&&isNaN(B)},Fn=function(L,B){for(var J=L.length,le=0;le<J;){if(Sn(L[le],B))return!0;le++}return!1},jr=Array.isArray||function(j){return Object.prototype.toString.call(j)==="[object Array]"},A={},H={},V={INDEXEDDB:_t,WEBSQL:Ge,LOCALSTORAGE:An},ie=[V.INDEXEDDB._driver,V.WEBSQL._driver,V.LOCALSTORAGE._driver],Je=["dropInstance"],yt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Je),bt={description:"",driver:ie.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Gt(j,L){j[L]=function(){var B=arguments;return j.ready().then(function(){return j[L].apply(j,B)})}}function Dn(){for(var j=1;j<arguments.length;j++){var L=arguments[j];if(L)for(var B in L)L.hasOwnProperty(B)&&(jr(L[B])?arguments[0][B]=L[B].slice():arguments[0][B]=L[B])}return arguments[0]}var en=function(){function j(L){a(this,j);for(var B in V)if(V.hasOwnProperty(B)){var J=V[B],le=J._driver;this[B]=le,A[le]||this.defineDriver(J)}this._defaultConfig=Dn({},bt),this._config=Dn({},this._defaultConfig,L),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return j.prototype.config=function(B){if((typeof B>"u"?"undefined":s(B))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var J in B){if(J==="storeName"&&(B[J]=B[J].replace(/\W/g,"_")),J==="version"&&typeof B[J]!="number")return new Error("Database version must be a number.");this._config[J]=B[J]}return"driver"in B&&B.driver?this.setDriver(this._config.driver):!0}else return typeof B=="string"?this._config[B]:this._config},j.prototype.defineDriver=function(B,J,le){var te=new m(function(ke,qe){try{var Ke=B._driver,Ze=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!B._driver){qe(Ze);return}for(var at=yt.concat("_initStorage"),Et=0,Xt=at.length;Et<Xt;Et++){var vn=at[Et],xn=!Fn(Je,vn);if((xn||B[vn])&&typeof B[vn]!="function"){qe(Ze);return}}var Rn=function(){for(var Ka=function(Hu){return function(){var qu=new Error("Method "+Hu+" is not implemented by the current driver"),ca=m.reject(qu);return y(ca,arguments[arguments.length-1]),ca}},il=0,Zy=Je.length;il<Zy;il++){var Vu=Je[il];B[Vu]||(B[Vu]=Ka(Vu))}};Rn();var Qn=function(Ka){A[Ke]&&console.info("Redefining LocalForage driver: "+Ke),A[Ke]=B,H[Ke]=Ka,ke()};"_support"in B?B._support&&typeof B._support=="function"?B._support().then(Qn,qe):Qn(!!B._support):Qn(!0)}catch(ii){qe(ii)}});return v(te,J,le),te},j.prototype.driver=function(){return this._driver||null},j.prototype.getDriver=function(B,J,le){var te=A[B]?m.resolve(A[B]):m.reject(new Error("Driver not found."));return v(te,J,le),te},j.prototype.getSerializer=function(B){var J=m.resolve(de);return v(J,B),J},j.prototype.ready=function(B){var J=this,le=J._driverSet.then(function(){return J._ready===null&&(J._ready=J._initDriver()),J._ready});return v(le,B,B),le},j.prototype.setDriver=function(B,J,le){var te=this;jr(B)||(B=[B]);var ke=this._getSupportedDrivers(B);function qe(){te._config.driver=te.driver()}function Ke(Et){return te._extend(Et),qe(),te._ready=te._initStorage(te._config),te._ready}function Ze(Et){return function(){var Xt=0;function vn(){for(;Xt<Et.length;){var xn=Et[Xt];return Xt++,te._dbInfo=null,te._ready=null,te.getDriver(xn).then(Ke).catch(vn)}qe();var Rn=new Error("No available storage method found.");return te._driverSet=m.reject(Rn),te._driverSet}return vn()}}var at=this._driverSet!==null?this._driverSet.catch(function(){return m.resolve()}):m.resolve();return this._driverSet=at.then(function(){var Et=ke[0];return te._dbInfo=null,te._ready=null,te.getDriver(Et).then(function(Xt){te._driver=Xt._driver,qe(),te._wrapLibraryMethodsWithReady(),te._initDriver=Ze(ke)})}).catch(function(){qe();var Et=new Error("No available storage method found.");return te._driverSet=m.reject(Et),te._driverSet}),v(this._driverSet,J,le),this._driverSet},j.prototype.supports=function(B){return!!H[B]},j.prototype._extend=function(B){Dn(this,B)},j.prototype._getSupportedDrivers=function(B){for(var J=[],le=0,te=B.length;le<te;le++){var ke=B[le];this.supports(ke)&&J.push(ke)}return J},j.prototype._wrapLibraryMethodsWithReady=function(){for(var B=0,J=yt.length;B<J;B++)Gt(this,yt[B])},j.prototype.createInstance=function(B){return new j(B)},j}(),zr=new en;r.exports=zr},{3:3}]},{},[4])(4)})}(Nb)),Nb.exports}var vle=yle();const Ko=Ha(vle);function xle({services:t,disciplinesData:e,loading:n,refetch:r}){const i=Hn(),s=_s(),[a,l]=T.useState([]),[u,f]=T.useState(!1),[p,m]=T.useState(!1),[y,v]=T.useState({global:"",title:"",status:"",author:"",created_from:"",created_to:""}),[b,S]=T.useState(1),[C]=T.useState(10),[N,O]=T.useState(null),[D,R]=T.useState(null),[E,k]=T.useState(!1),[P,F]=T.useState(!1),[G,ge]=T.useState(!1),[oe,ne]=T.useState(null),[ee,Ee]=T.useState(!1),[Oe,K]=T.useState(!1),[re,ue]=T.useState(!1),[ze,q]=T.useState(null),ae="serviceDrafts",[pe,xe]=T.useState([]),[Re,_e]=T.useState(null),[he,Be]=T.useState({title:"",slug:"",description:"",is_active:!0,cover_photo:null,disciplines:[],sections:[]}),[Le,ot]=T.useState({id:null,title:"",slug:"",description:"",is_active:!0,cover_photo:null,existing_cover_photo:null,disciplines:[],sections:[]}),{data:ut,isLoading:Bt}=wn({queryKey:["currentUser"],queryFn:()=>Ye.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}),{data:dt,isLoading:_t,refetch:st}=wn({queryKey:["service",ze],queryFn:()=>ze?Ye.get(`https://nexus-consults.com/api/public/api/admin/services/${ze}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}).then(A=>A.data.data):Promise.resolve(null),enabled:!!ze,staleTime:5*60*1e3}),Z="serviceDrafts_beforeunload_fallback",$e=async()=>{try{const A=await Ko.getItem(ae),H=Array.isArray(A)?A:[];xe(H);const V=localStorage.getItem(Z);if(V){try{const ie=JSON.parse(V);ie&&typeof ie=="object"&&Qe(ie)}catch{}localStorage.removeItem(Z)}}catch{}},Ue=async A=>{try{await Ko.setItem(ae,A)}catch(H){console.error("Persist drafts failed",H),me.error("Could not save drafts locally")}},Qe=async A=>{xe(H=>{const V=H.findIndex(yt=>yt.id===A.id);let ie=[...H];const Je=new Date().toISOString();if(V>=0)ie[V]={...H[V],...A,updatedAt:Je};else{const yt=A.slug?H.findIndex(bt=>bt.slug===A.slug&&bt.slug):-1;yt>=0?ie[yt]={...H[yt],...A,id:H[yt].id,updatedAt:Je}:ie.push({...A,updatedAt:Je})}return ie.length>20&&(ie=ie.slice().sort((yt,bt)=>new Date(bt.updatedAt)-new Date(yt.updatedAt)).slice(0,20)),Ue(ie),ie})},Nt=async A=>{xe(H=>{const V=H.filter(ie=>ie.id!==A);return Ue(V),V}),Re===A&&_e(null)},_=async A=>{A&&xe(H=>{const V=H.filter(ie=>ie.slug!==A);return Ue(V),V})};T.useEffect(()=>{$e()},[]);const W=()=>{if(!(he.title&&he.title.trim()!==""||he.description&&he.description.trim()!==""||he.sections.some(ie=>ie.content&&ie.content.trim()!=="")))return null;let H=Re;if(!H&&he.slug){const ie=pe.find(Je=>Je.slug===he.slug);ie&&(H=ie.id)}const V=he.sections.map(ie=>({content:ie.content||"",image_meta:ie.image?{name:ie.image.name,type:ie.image.type,size:ie.image.size}:null,existing_image:ie.existing_image||null}));return{id:H||`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,title:he.title,slug:he.slug,description:he.description,is_active:he.is_active,disciplines:he.disciplines||[],sections:V,cover_photo_meta:he.cover_photo?{name:he.cover_photo.name,type:he.cover_photo.type,size:he.cover_photo.size}:null}},I=()=>{const A=W();A&&(_e(A.id),Qe(A),me.success("Draft saved locally"))},ce=A=>{const H=A.sections?.map(V=>({id:Date.now()+Math.random(),content:V.content||"",image:null,existing_image:V.existing_image||null}))||[];Be({title:A.title||"",slug:A.slug||"",description:A.description||"",is_active:A.is_active??!0,disciplines:A.disciplines||[],sections:H,cover_photo:null}),K(!0),_e(A.id),k(!0),me("Draft loaded")},ye=T.useRef(null),$=T.useRef("");T.useEffect(()=>{if(E){ye.current=setInterval(()=>{const H=W();if(H){const V=JSON.stringify({title:H.title,description:H.description,disciplines:H.disciplines,sections:H.sections});V!==$.current&&(_e(ie=>ie||H.id),Qe(H),$.current=V)}},5e3);const A=()=>{const H=W();if(H){Qe(H);try{localStorage.setItem(Z,JSON.stringify(H))}catch{}}};return window.addEventListener("beforeunload",A),()=>{ye.current&&clearInterval(ye.current),window.removeEventListener("beforeunload",A),$.current=""}}else ye.current&&clearInterval(ye.current),$.current=""},[E]);const U=A=>A.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),be=(A,H)=>{v(V=>({...V,[A]:H})),S(1)},We=async(A,H)=>{R(A);try{await Ye.patch(`https://nexus-consults.com/api/public/api/admin/services/${A}/toggle-active`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),me.success(`Service ${H?"deactivated":"activated"} successfully`,{duration:2e3}),r()}catch(V){me.error(V.response?.data?.message||"An unexpected error occurred",{duration:3e3}),V.response?.status==401,V.response?.status==403&&(me.error("You are not authorized to view this page"),i("/home"))}finally{R(null)}},ht=A=>{ne(A),ge(!0)},Qt=async()=>{if(oe){O(oe),ge(!1);try{await Ye.delete(`https://nexus-consults.com/api/public/api/admin/services/${oe}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),me.success("Service deleted successfully",{duration:2e3}),r()}catch(A){me.error(A.response?.data?.message||"An unexpected error occurred",{duration:3e3}),A.response?.status==401&&(localStorage.removeItem("userToken"),i("/login")),A.response?.status==403&&(me.error("You are not authorized to view this page"),i("/home"))}finally{O(null),ne(null)}}},Lt=A=>{const{name:H,value:V,type:ie,checked:Je,files:yt}=A.target;if(Be(ie==="file"?bt=>({...bt,[H]:yt[0]}):bt=>({...bt,[H]:ie==="checkbox"?Je:V})),H==="title"&&!Oe){const bt=U(V);Be(Gt=>({...Gt,slug:bt}))}},ln=A=>{const{value:H}=A.target;Be(V=>({...V,slug:H})),K(!0)},sn=()=>{const A=U(he.title);Be(H=>({...H,slug:A})),K(!1)},Se=A=>{const{name:H,value:V,type:ie,checked:Je,files:yt}=A.target;if(ot(ie==="file"?bt=>({...bt,[H]:yt[0]}):bt=>({...bt,[H]:ie==="checkbox"?Je:V})),H==="title"&&!re){const bt=U(V);ot(Gt=>({...Gt,slug:bt}))}},it=A=>{const{value:H}=A.target;ot(V=>({...V,slug:H})),ue(!0)},ft=()=>{const A=U(Le.title);ot(H=>({...H,slug:A})),ue(!1)},de=(A,H)=>{Be(V=>({...V,disciplines:H?[...V.disciplines,A]:V.disciplines.filter(ie=>ie!==A)}))},lt=(A,H)=>{ot(V=>({...V,disciplines:H?[...V.disciplines,A]:V.disciplines.filter(ie=>ie!==A)}))},Ot=()=>{const A={id:Date.now()+Math.random(),content:"",image:null,existing_image:null};Be(H=>({...H,sections:[...H.sections,A]}))},tt=A=>{Be(H=>({...H,sections:H.sections.filter(V=>V.id!==A)}))},Te=(A,H)=>{Be(V=>({...V,sections:V.sections.map(ie=>ie.id===A?{...ie,content:H}:ie)}))},rt=(A,H)=>{Be(V=>({...V,sections:V.sections.map(ie=>ie.id===A?{...ie,image:H}:ie)}))},wt=A=>{Be(H=>({...H,sections:H.sections.map(V=>V.id===A?{...V,image:null}:V)}))},St=A=>{Be(H=>({...H,sections:H.sections.map(V=>V.id===A?{...V,existing_image:null,image:null}:V)}))},Tt=()=>{const A={id:Date.now()+Math.random(),content:"",image:null,existing_image:null};ot(H=>({...H,sections:[...H.sections,A]}))},Zt=A=>{ot(H=>({...H,sections:H.sections.filter(V=>V.id!==A)}))},Tn=(A,H)=>{ot(V=>({...V,sections:V.sections.map(ie=>ie.id===A?{...ie,content:H}:ie)}))},Q=(A,H)=>{ot(V=>({...V,sections:V.sections.map(ie=>ie.id===A?{...ie,image:H}:ie)}))},fe=A=>{ot(H=>({...H,sections:H.sections.map(V=>V.id===A?{...V,image:null}:V)}))},Ce=A=>{ot(H=>({...H,sections:H.sections.map(V=>V.id===A?{...V,existing_image:null,image:null}:V)}))},Pe=()=>{Be({title:"",slug:"",description:"",is_active:!0,cover_photo:null,disciplines:[],sections:[]}),K(!1)},Ge=A=>{q(A.id)};T.useEffect(()=>{if(dt&&ze){const H=(dt.sections||[]).map((V,ie)=>({id:Date.now()+ie,content:V.content||"",image:null,existing_image:V.image||null}));ot({id:dt.id,title:dt.title,slug:dt.slug,description:dt.description,is_active:dt.is_active,cover_photo:null,existing_cover_photo:dt.cover_photo,disciplines:dt.disciplines?.map(V=>V.id)||[],sections:H}),ue(!0),F(!0)}},[dt,ze]);const gt=async A=>{if(A.preventDefault(),!he.sections.some(V=>V.content&&V.content.trim()!=="")){me.error("Please add at least one section with content");return}Ee(!0);try{const V=new FormData;V.append("title",he.title),V.append("slug",he.slug),V.append("is_active",he.is_active?1:0),V.append("description",he.description),he.disciplines.forEach(ie=>{V.append("disciplines[]",ie)}),he.sections.forEach((ie,Je)=>{V.append(`content${Je+1}`,ie.content||""),ie.image instanceof File&&V.append(`image${Je+1}`,ie.image)}),V.append("cover_photo",he.cover_photo||""),await Ye.post("https://nexus-consults.com/api/public/api/admin/services",V,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}}),Ee(!1),me.success("Service added successfully",{duration:2e3}),k(!1),Pe(),r(),_(he.slug),_e(null)}catch(V){Ee(!1),me.error(V.response?.data?.message||"An unexpected error occurred",{duration:3e3}),V.response?.status==401&&(localStorage.removeItem("userToken"),i("/login")),V.response?.status==403&&(me.error("You are not authorized to view this page"),i("/home"))}},Ct=async A=>{if(A.preventDefault(),!Le.sections.some(V=>V.content&&V.content.trim()!=="")){me.error("Please add at least one section with content");return}Ee(!0);try{const V=new FormData;V.append("title",Le.title),V.append("slug",Le.slug),V.append("is_active",Le.is_active?1:0),V.append("description",Le.description),V.append("_method","POST"),Le.disciplines.forEach(ie=>{V.append("disciplines[]",ie)}),Le.sections.forEach((ie,Je)=>{V.append(`content${Je+1}`,ie.content||""),ie.image instanceof File?V.append(`image${Je+1}`,ie.image):ie.existing_image===null&&V.append(`image${Je+1}`,"")}),Le.cover_photo instanceof File?V.append("cover_photo",Le.cover_photo):Le.existing_cover_photo===null&&V.append("cover_photo",""),await Ye.post(`https://nexus-consults.com/api/public/api/admin/services/${Le.id}`,V,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}}),Ee(!1),me.success("Service updated successfully",{duration:2e3}),F(!1),q(null),r(),s.invalidateQueries(["service",Le.id])}catch(V){Ee(!1),me.error(V.response?.data?.message||"An unexpected error occurred",{duration:3e3}),V.response?.status==401&&(localStorage.removeItem("userToken"),i("/login")),V.response?.status==403&&(me.error("You are not authorized to view this page"),i("/home"))}},nt=t?.filter(A=>{const H=y.global===""||A.title.toLowerCase().includes(y.global.toLowerCase())||(A.author?.name?A.author.name.toLowerCase().includes(y.global.toLowerCase()):!1),V=y.title===""||A.title.toLowerCase().includes(y.title.toLowerCase()),ie=y.status===""||(y.status==="active"?A.is_active:!A.is_active),Je=y.author===""||(A.author?.name?A.author.name.toLowerCase().includes(y.author.toLowerCase()):!1);let yt=!0;if(A.created_at){const bt=new Date(A.created_at);if(y.created_from){const Gt=new Date(`${y.created_from}T00:00:00`);bt<Gt&&(yt=!1)}if(yt&&y.created_to){const Gt=new Date(`${y.created_to}T23:59:59.999`);bt>Gt&&(yt=!1)}}return H&&V&&ie&&Je&&yt})||[],pt=Math.ceil(nt.length/C),mt=nt.slice((b-1)*C,b*C),Mt=A=>{const H=A?"bg-[#009379] text-white":"bg-[#930002] text-white";return d.jsx("span",{className:`flex justify-center w-fit items-center px-2.5 py-1 rounded-md text-xs font-medium ${H} min-w-16 text-center`,children:A?"Active":"Inactive"})},Y=()=>pt<=1?null:d.jsxs("div",{className:"flex justify-between items-center mt-4 px-4 pb-1",children:[d.jsxs("div",{className:"text-xs",children:["Showing ",(b-1)*C+1,"-",Math.min(b*C,nt.length)," of ",nt.length," entries"]}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{onClick:()=>S(1),disabled:b===1,className:"p-1 disabled:opacity-50",children:d.jsx(Jo,{className:"h-4 w-4"})}),d.jsxs("span",{className:"px-3 py-1",children:["Page ",b," of ",pt]}),d.jsx("button",{onClick:()=>S(A=>Math.min(pt,A+1)),disabled:b===pt,className:"p-1 disabled:opacity-50",children:d.jsx(Zo,{className:"h-4 w-4"})})]})]}),Me=(A,H)=>{l(H?V=>[...V,A]:V=>V.filter(ie=>ie!==A))},Xe=A=>{A?(l(nt.map(H=>H.id)),f(!0)):(l([]),f(!1))},[vt,qt]=T.useState(!1),Dt=async()=>{a.length&&qt(!0)},zt=async()=>{qt(!1);try{m(!0),await Ye.post("https://nexus-consults.com/api/public/api/admin/services/bulk/delete",{ids:a},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),me.success(`${a.length} service(s) deleted successfully`),l([]),f(!1),r()}catch(A){console.error("Error deleting services:",A),me.error(A.response?.data?.message||"Failed to delete services")}finally{m(!1)}},Xn=async A=>{if(a.length)try{m(!0),await Ye.post("https://nexus-consults.com/api/public/api/admin/services/bulk/update-status",{ids:a,status:A},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),me.success(`Status updated for ${a.length} service(s)`),l([]),f(!1),r()}catch(H){console.error("Error updating service status:",H),me.error(H.response?.data?.message||"Failed to update service status")}finally{m(!1)}},An=Ut.memo(({sectionId:A,label:H,existingImage:V,currentImage:ie,onImageChange:Je,onRemoveImage:yt,onRemoveExistingImage:bt})=>{const Gt=V,[Dn,en]=T.useState(null),zr=T.useRef(null);T.useEffect(()=>{if(ie&&ie instanceof File){const L=URL.createObjectURL(ie);return en(L),()=>{URL.revokeObjectURL(L),en(null)}}else en(null)},[ie]);const j=L=>{L.target.files&&L.target.files[0]&&Je(A,L.target.files[0])};return d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:H}),Dn?d.jsxs("div",{className:"relative mb-4",children:[d.jsx("img",{src:Dn,alt:"Preview",className:"h-48 w-full object-cover rounded-lg"}),d.jsx("button",{type:"button",onClick:()=>yt(A),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 transition-colors",children:d.jsx(Kt,{size:16})})]}):Gt?d.jsxs("div",{className:"relative mb-4",children:[d.jsx("img",{src:Gt,alt:"Current",className:"h-48 w-full object-cover rounded-lg"}),d.jsx("button",{type:"button",onClick:()=>bt(A),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2",children:d.jsx(Kt,{size:16})})]}):d.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[d.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[d.jsx(Uo,{className:"w-8 h-8 mb-3 text-gray-400"}),d.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[d.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),d.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, JPEG (MAX. 5MB)"})]}),d.jsx("input",{ref:zr,type:"file",className:"hidden",onChange:j,accept:"image/*"})]})]})},(A,H)=>A.sectionId===H.sectionId&&A.label===H.label&&A.existingImage===H.existingImage&&A.currentImage===H.currentImage),Sn=Ut.memo(({name:A,label:H,existingImage:V,currentImage:ie,onImageChange:Je,onRemoveImage:yt})=>{const bt=V,[Gt,Dn]=T.useState(null);return T.useEffect(()=>{if(ie&&ie instanceof File){const en=URL.createObjectURL(ie);return Dn(en),()=>{URL.revokeObjectURL(en),Dn(null)}}else Dn(null)},[ie]),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:H}),Gt?d.jsxs("div",{className:"relative mb-4",children:[d.jsx("img",{src:Gt,alt:"Preview",className:"h-48 w-full object-cover rounded-lg"}),d.jsx("button",{type:"button",onClick:()=>yt(A),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 transition-colors",children:d.jsx(Kt,{size:16})})]}):bt?d.jsxs("div",{className:"relative mb-4",children:[d.jsx("img",{src:bt,alt:"Current",className:"h-48 w-full object-cover rounded-lg"}),d.jsx("button",{type:"button",onClick:()=>yt(`existing_${A}`),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2",children:d.jsx(Kt,{size:16})})]}):d.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[d.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[d.jsx(Uo,{className:"w-8 h-8 mb-3 text-gray-400"}),d.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[d.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),d.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, JPEG (MAX. 5MB)"})]}),d.jsx("input",{id:A,name:A,type:"file",className:"hidden",onChange:Je,accept:"image/*"})]})]})},(A,H)=>A.name===H.name&&A.label===H.label&&A.existingImage===H.existingImage&&A.currentImage===H.currentImage),Fn=()=>he.sections.map((A,H)=>d.jsxs("div",{className:"p-4 border rounded-lg mb-4",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h3",{className:"text-lg font-medium",children:["Section ",H+1]}),d.jsx("button",{type:"button",onClick:()=>tt(A.id),className:"text-red-500 hover:text-red-700 p-1",disabled:he.sections.length===1,children:d.jsx(fg,{size:16})})]}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Content ",H+1,"*"]}),d.jsx(Gs,{content:A.content,onUpdate:V=>Te(A.id,V)})]}),d.jsx(An,{sectionId:A.id,label:`Image ${H+1}`,existingImage:A.existing_image,currentImage:A.image,onImageChange:rt,onRemoveImage:wt,onRemoveExistingImage:St})]},A.id)),jr=()=>Le.sections.map((A,H)=>d.jsxs("div",{className:"p-4 border rounded-lg mb-4",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h3",{className:"text-lg font-medium",children:["Section ",H+1]}),d.jsx("button",{type:"button",onClick:()=>Zt(A.id),className:"text-red-500 hover:text-red-700 p-1",disabled:Le.sections.length===1,children:d.jsx(fg,{size:16})})]}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Content ",H+1,"*"]}),d.jsx(Gs,{content:A.content,onUpdate:V=>Tn(A.id,V)})]}),d.jsx(An,{sectionId:A.id,label:`Image ${H+1}`,existingImage:A.existing_image,currentImage:A.image,onImageChange:Q,onRemoveImage:fe,onRemoveExistingImage:Ce})]},A.id));return d.jsxs("div",{className:"shadow-2xl rounded-2xl overflow-hidden bg-white",children:[d.jsxs("div",{className:"p-4 border-b flex justify-between items-center gap-4",children:[d.jsx("input",{type:"text",value:y.global,onChange:A=>be("global",A.target.value),placeholder:"Search services...",className:"px-3 py-2 rounded-xl shadow-sm focus:outline-2 focus:outline-primary w-full border border-primary transition-all"}),ut?.data?.data?.admin?.permissions?.includes("create_services")&&d.jsxs("button",{onClick:()=>{k(!0),Pe()},className:"bg-primary hover:bg-darkBlue transition-all text-white px-3 py-2 rounded-xl shadow-sm min-w-max flex items-center gap-2",children:[d.jsx(ei,{size:18}),d.jsx("span",{children:"Add Service"})]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:u&&nt.length>0,onChange:A=>Xe(A.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),d.jsx("span",{className:"ml-2",children:"Title"})]})}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsx("input",{type:"text",value:y.author,onChange:A=>be("author",A.target.value),placeholder:"Author",className:"text-xs p-1 border rounded w-full"})}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cover Photo"}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsxs("select",{value:y.status,onChange:A=>be("status",A.target.value),className:"text-xs p-1 border rounded w-full",children:[d.jsx("option",{value:"",children:"All Statuses"}),d.jsx("option",{value:"active",children:"Active"}),d.jsx("option",{value:"inactive",children:"Inactive"})]})}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsx(Rh,{initialRange:{startDate:y.created_from?new Date(`${y.created_from}T00:00:00`):null,endDate:y.created_to?new Date(`${y.created_to}T00:00:00`):null},onDateChange:({startDate:A,endDate:H})=>{const V=ie=>{if(!(ie instanceof Date)||isNaN(ie))return"";const Je=ie.getFullYear(),yt=String(ie.getMonth()+1).padStart(2,"0"),bt=String(ie.getDate()).padStart(2,"0");return`${Je}-${yt}-${bt}`};be("created_from",A?V(A):""),be("created_to",H?V(H):"")}})}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:n?d.jsx("tr",{children:d.jsx("td",{colSpan:"6",className:"px-3 py-4 text-center",children:d.jsxs("div",{className:"flex justify-center items-center gap-2",children:[d.jsx(xt,{className:"animate-spin",size:18}),"Loading services..."]})})}):mt.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:"6",className:"px-3 py-4 text-center",children:"No services found"})}):mt.map(A=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:a.includes(A.id),onChange:H=>Me(A.id,H.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),d.jsx("span",{className:"ml-2 text-sm font-medium text-gray-900",children:A.title})]})}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:A.author?.name||"-"}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:A.cover_photo&&d.jsx("img",{src:A.cover_photo,alt:"Cover",className:"h-10 w-10 object-cover rounded"})}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Mt(A.is_active)}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:A.created_at?new Date(A.created_at).toLocaleDateString():"-"}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center gap-2",children:[ut?.data?.data?.admin?.permissions?.includes("edit_services")&&d.jsx("button",{className:"text-blue-500 hover:text-blue-700 p-1",onClick:()=>Ge(A),disabled:_t,children:_t&&ze===A.id?d.jsx(xt,{className:"animate-spin",size:18}):d.jsx(As,{size:18})}),d.jsx("button",{className:`${A.is_active?"text-green-500 hover:text-green-700":"text-red-500 hover:text-red-700"} p-1`,onClick:()=>We(A.id,A.is_active),disabled:D===A.id,children:D===A.id?d.jsx(xt,{className:"animate-spin",size:18}):A.is_active?d.jsx(Zr,{}):d.jsx(Kt,{})}),ut?.data?.data?.admin?.permissions?.includes("delete_services")&&d.jsx("button",{className:"text-red-500 hover:text-red-700 p-1",onClick:()=>ht(A.id),disabled:N===A.id,title:"Delete",children:N===A.id?d.jsx(xt,{className:"animate-spin",size:18}):d.jsx(Un,{size:18})})]})})]},A.id))})]})}),vt&&d.jsx(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:d.jsxs(jt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:"bg-white rounded-lg p-6 max-w-md w-full",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Deletion"}),d.jsx("button",{onClick:()=>qt(!1),className:"text-gray-500 hover:text-gray-700",children:d.jsx(Kt,{})})]}),d.jsxs("p",{className:"text-gray-700 mb-6",children:["Are you sure you want to delete ",a.length," selected service(s)? This action cannot be undone."]}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx("button",{onClick:()=>qt(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:p,children:"Cancel"}),d.jsx("button",{onClick:zt,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 flex items-center",disabled:p,children:p?d.jsxs(d.Fragment,{children:[d.jsx(xt,{className:"animate-spin mr-2"}),"Deleting..."]}):"Delete"})]})]})}),a.length>0&&d.jsx("div",{className:"bg-blue-50 p-4 rounded-md mb-6 border border-blue-200",children:d.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[d.jsxs("div",{className:"text-blue-800 font-medium",children:[a.length," service(s) selected"]}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsxs("button",{onClick:()=>Xn(!0),disabled:p,className:"flex items-center px-3 py-1.5 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 text-sm",children:[d.jsx(Zr,{className:"mr-1.5"}),"Activate"]}),d.jsxs("button",{onClick:()=>Xn(!1),disabled:p,className:"flex items-center px-3 py-1.5 bg-yellow-600 text-white rounded hover:bg-yellow-700 disabled:opacity-50 text-sm",children:[d.jsx(Kt,{className:"mr-1.5"}),"Deactivate"]}),d.jsxs("button",{onClick:Dt,disabled:p,className:"flex items-center px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 text-sm",children:[d.jsx(Un,{className:"mr-1.5"}),"Delete"]}),d.jsxs("button",{onClick:()=>{l([]),f(!1)},className:"flex items-center px-3 py-1.5 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 text-sm",children:[d.jsx(Kt,{className:"mr-1.5"}),"Clear Selection"]}),p&&d.jsxs("div",{className:"flex items-center",children:[d.jsx(xt,{className:"animate-spin mr-1.5"}),"Loading..."]})]})]})}),!n&&Y(),d.jsxs("div",{className:"p-4 border-t",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h2",{className:"text-lg font-semibold",children:"Drafts"}),d.jsx("div",{className:"text-xs text-gray-500",children:"Drafts are stored locally in your browser"})]}),pe.length===0?d.jsx("div",{className:"text-sm text-gray-500",children:"No drafts yet"}):d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full divide-y divide-gray-200 text-sm",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-2 text-left",children:"Title"}),d.jsx("th",{className:"px-4 py-2 text-left",children:"Updated"}),d.jsx("th",{className:"px-4 py-2 text-left",children:"Note"}),d.jsx("th",{className:"px-4 py-2 text-left",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200",children:pe.slice().sort((A,H)=>new Date(H.updatedAt)-new Date(A.updatedAt)).map(A=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-4 py-2",children:A.title||d.jsx("span",{className:"italic text-gray-400",children:"Untitled"})}),d.jsx("td",{className:"px-4 py-2",children:new Date(A.updatedAt).toLocaleString()}),d.jsx("td",{className:"px-4 py-2 text-xs text-gray-500",children:A.cover_photo_meta?`Attachment: ${A.cover_photo_meta.name} (re-attach required)`:"No attachment"}),d.jsx("td",{className:"px-4 py-2",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-1",onClick:()=>ce(A),children:[d.jsx(Oy,{})," Resume"]}),d.jsx("button",{className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",onClick:()=>Nt(A.id),children:"Delete"})]})})]},A.id))})]})})]}),E&&d.jsxs(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 ",children:[d.jsx("button",{onClick:()=>{k(!1);const A=W();A&&Qe(A)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:d.jsx(ui,{className:"",size:40})}),d.jsx(jt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-4/5 h-[90vh] overflow-y-auto",onClick:A=>A.stopPropagation(),children:d.jsxs("div",{className:"p-6",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New Service"}),d.jsxs("form",{onSubmit:gt,children:[d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title*"}),d.jsx("input",{type:"text",name:"title",value:he.title,onChange:Lt,className:"w-full px-3 py-2 border rounded-md",required:!0})]})}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug*"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",name:"slug",value:he.slug,onChange:ln,className:"w-full px-3 py-2 border rounded-md",required:!0}),Oe&&d.jsx("button",{type:"button",onClick:sn,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",title:"Reset to auto-generated slug",children:d.jsx(Kt,{})})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Oe?"Slug is manually edited. Click the X to reset to auto-generated.":"Slug is auto-generated from title. You can edit it manually."})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),d.jsx("textarea",{name:"description",value:he.description,onChange:Lt,rows:3,className:"w-full px-3 py-2 border rounded-md resize-vertical",placeholder:"Enter service description..."})]}),d.jsx(Sn,{name:"cover_photo",label:"Cover Photo",currentImage:he.cover_photo,onImageChange:Lt,onRemoveImage:A=>Be(H=>({...H,[A]:null}))}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:he.is_active,onChange:Lt,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),d.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700",children:"Active"})]})}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Disciplines"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 max-h-48 overflow-y-auto p-2 border rounded-md",children:[e?.map(A=>d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:`discipline-${A.id}`,checked:he.disciplines.includes(A.id),onChange:H=>de(A.id,H.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),d.jsxs("label",{htmlFor:`discipline-${A.id}`,className:"ml-2 text-sm text-gray-700",children:[A.title,!A.is_active&&d.jsx("span",{className:"ml-1 text-xs text-orange-600",children:"(inactive)"})]})]},A.id)),(!e||e.length===0)&&d.jsx("div",{className:"text-sm text-gray-500 col-span-full",children:"No disciplines available"})]})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-medium",children:"Sections"}),d.jsxs("button",{type:"button",onClick:Ot,className:"bg-primary hover:bg-darkBlue text-white px-3 py-2 rounded-md flex items-center gap-2",children:[d.jsx(ei,{})," Add Section"]})]}),d.jsx("div",{className:"space-y-4",children:he.sections.length===0?d.jsxs("div",{className:"text-center p-8 border-2 border-dashed rounded-lg",children:[d.jsx("p",{className:"text-gray-500 mb-4",children:'No sections added yet. Click "Add Section" to get started.'}),d.jsx("p",{className:"text-sm text-gray-400",children:"Note: At least one section with content is required."})]}):Fn()})]}),d.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[d.jsxs("div",{className:"text-xs text-gray-500 mt-2 flex items-center",children:[d.jsx(xt,{className:`animate-spin mr-1 ${ee?"opacity-100":"opacity-0"}`,size:12}),"Auto-saves to drafts every 5s"]}),d.jsxs("button",{type:"button",onClick:I,className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[d.jsx(jh,{size:16})," Save as Draft"]}),d.jsx("button",{type:"button",onClick:()=>{const A=W();A&&Qe(A),k(!1),Pe()},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:ee,children:ee?d.jsxs(d.Fragment,{children:[d.jsx(xt,{className:"animate-spin",size:18}),d.jsx("span",{children:"Adding..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(ei,{size:18}),d.jsx("span",{children:"Add Service"})]})})]})]})]})})]}),P&&d.jsxs(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[d.jsx("button",{onClick:()=>{F(!1),q(null)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:d.jsx(ui,{className:"",size:40})}),d.jsx(jt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-4/5 h-[90vh] overflow-y-auto",onClick:A=>A.stopPropagation(),children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center mb-4",children:[d.jsx("button",{type:"button",onClick:()=>{F(!1),q(null)},className:"text-blue-600 hover:text-blue-800 font-medium",children:"Services"}),d.jsx("span",{className:"mx-2 text-gray-400",children:">"}),d.jsx("span",{className:"text-xl font-bold text-gray-900",children:Le.title||"Untitled Service"}),_t&&d.jsxs("div",{className:"ml-4 flex items-center text-sm text-gray-500",children:[d.jsx(xt,{className:"animate-spin mr-2",size:14}),"Loading service data..."]})]}),_t?d.jsxs("div",{className:"flex justify-center items-center py-8",children:[d.jsx(xt,{className:"animate-spin mr-2",size:24}),d.jsx("span",{children:"Loading service data..."})]}):d.jsxs("form",{onSubmit:Ct,children:[d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title*"}),d.jsx("input",{type:"text",name:"title",value:Le.title,onChange:Se,className:"w-full px-3 py-2 border rounded-md",required:!0})]})}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug*"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",name:"slug",value:Le.slug,onChange:it,className:"w-full px-3 py-2 border rounded-md",required:!0}),re&&d.jsx("button",{type:"button",onClick:ft,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",title:"Reset to auto-generated slug",children:d.jsx(Kt,{})})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:re?"Slug is manually edited. Click the X to reset to auto-generated.":"Slug is auto-generated from title. You can edit it manually."})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),d.jsx("textarea",{name:"description",value:Le.description,onChange:Se,rows:3,className:"w-full px-3 py-2 border rounded-md resize-vertical",placeholder:"Enter service description..."})]}),d.jsx(Sn,{name:"cover_photo",label:"Cover Photo",existingImage:Le.existing_cover_photo,currentImage:Le.cover_photo,onImageChange:Se,onRemoveImage:A=>{if(A.startsWith("existing_")){const H=A.replace("existing_","");ot(V=>({...V,[A]:null,[H]:null}))}else ot(H=>({...H,[A]:null}))}}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"edit_is_active",name:"is_active",checked:Le.is_active,onChange:Se,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),d.jsx("label",{htmlFor:"edit_is_active",className:"ml-2 text-sm text-gray-700",children:"Active"})]})}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Disciplines"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 max-h-48 overflow-y-auto p-2 border rounded-md",children:[e?.map(A=>d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:`edit-discipline-${A.id}`,checked:Le.disciplines.includes(A.id),onChange:H=>lt(A.id,H.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),d.jsxs("label",{htmlFor:`edit-discipline-${A.id}`,className:"ml-2 text-sm text-gray-700",children:[A.title,!A.is_active&&d.jsx("span",{className:"ml-1 text-xs text-orange-600",children:"(inactive)"})]})]},A.id)),(!e||e.length===0)&&d.jsx("div",{className:"text-sm text-gray-500 col-span-full",children:"No disciplines available"})]})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-medium",children:"Sections"}),d.jsxs("button",{type:"button",onClick:Tt,className:"bg-primary hover:bg-darkBlue text-white px-3 py-2 rounded-md flex items-center gap-2",children:[d.jsx(ei,{})," Add Section"]})]}),d.jsx("div",{className:"space-y-4",children:Le.sections.length===0?d.jsxs("div",{className:"text-center p-8 border-2 border-dashed rounded-lg",children:[d.jsx("p",{className:"text-gray-500 mb-4",children:'No sections added yet. Click "Add Section" to get started.'}),d.jsx("p",{className:"text-sm text-gray-400",children:"Note: At least one section with content is required."})]}):jr()})]}),d.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[d.jsx("button",{type:"button",onClick:()=>{F(!1),q(null)},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:ee,children:ee?d.jsxs(d.Fragment,{children:[d.jsx(xt,{className:"animate-spin",size:18}),d.jsx("span",{children:"Updating..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(Zr,{size:18}),d.jsx("span",{children:"Update Service"})]})})]})]})]})})]}),G&&d.jsx(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>ge(!1),children:d.jsx(jt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:A=>A.stopPropagation(),children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:d.jsx(Un,{className:"h-5 w-5 text-red-600"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Service"}),d.jsx("div",{className:"mt-2",children:d.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this service? This action cannot be undone."})})]})]}),d.jsxs("div",{className:"mt-5 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>ge(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),d.jsx("button",{type:"button",onClick:Qt,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})})})]})}function ble(){const t=Hn(),{data:e,isLoading:n,isError:r,error:i,refetch:s}=wn({queryKey:["disciplines"],queryFn:()=>Ye.get("https://nexus-consults.com/api/public/api/admin/disciplines",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})});function a(){return Ye.get("https://nexus-consults.com/api/public/api/admin/services",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}const{data:l,isLoading:u,refetch:f,isError:p,error:m}=wn({queryKey:["services"],queryFn:a});return T.useEffect(()=>{p&&(m.response?.status==401&&(localStorage.removeItem("userToken"),t("/login")),m.response?.status==403&&(me.error("You are not authorized to view this page"),t("/home")))},[p]),d.jsxs("div",{className:"p-4",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Services"}),d.jsx(xle,{services:l?.data?.data||[],disciplinesData:e?.data?.data||[],loading:u,refetch:f})]})}function wle(){const t=Hn();return T.useEffect(()=>{t("/user-setting")},[]),d.jsx("div",{children:"Home"})}function Sle({projects:t,disciplinesData:e,loading:n,refetch:r}){const i=Hn(),s=_s(),[a,l]=T.useState([]),[u,f]=T.useState(!1),[p,m]=T.useState(!1),[y,v]=T.useState({global:"",title:"",status:"",author:"",created_from:"",created_to:""}),[b,S]=T.useState(1),[C]=T.useState(10),[N,O]=T.useState(null),[D,R]=T.useState(null),[E,k]=T.useState(!1),[P,F]=T.useState(!1),[G,ge]=T.useState(!1),[oe,ne]=T.useState(null),[ee,Ee]=T.useState(!1),[Oe,K]=T.useState(!1),[re,ue]=T.useState(!1),[ze,q]=T.useState(null),ae="projectDrafts",[pe,xe]=T.useState([]),[Re,_e]=T.useState(null),[he,Be]=T.useState({title:"",slug:"",description:"",is_active:!0,cover_photo:null,disciplines:[],sections:[]}),[Le,ot]=T.useState({id:null,title:"",slug:"",description:"",is_active:!0,cover_photo:null,existing_cover_photo:null,disciplines:[],sections:[]}),{data:ut,isLoading:Bt}=wn({queryKey:["currentUser"],queryFn:()=>Ye.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}),{data:dt,isLoading:_t,refetch:st}=wn({queryKey:["project",ze],queryFn:()=>ze?Ye.get(`https://nexus-consults.com/api/public/api/admin/projects/${ze}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}).then(A=>A.data.data):Promise.resolve(null),enabled:!!ze,staleTime:5*60*1e3}),Z="projectDrafts_beforeunload_fallback",$e=async()=>{try{const A=await Ko.getItem(ae),H=Array.isArray(A)?A:[];xe(H);const V=localStorage.getItem(Z);if(V){try{const ie=JSON.parse(V);ie&&typeof ie=="object"&&Qe(ie)}catch{}localStorage.removeItem(Z)}}catch{}},Ue=async A=>{try{await Ko.setItem(ae,A)}catch(H){console.error("Persist drafts failed",H),me.error("Could not save drafts locally")}},Qe=async A=>{xe(H=>{const V=H.findIndex(yt=>yt.id===A.id);let ie=[...H];const Je=new Date().toISOString();if(V>=0)ie[V]={...H[V],...A,updatedAt:Je};else{const yt=A.slug?H.findIndex(bt=>bt.slug===A.slug&&bt.slug):-1;yt>=0?ie[yt]={...H[yt],...A,id:H[yt].id,updatedAt:Je}:ie.push({...A,updatedAt:Je})}return ie.length>20&&(ie=ie.slice().sort((yt,bt)=>new Date(bt.updatedAt)-new Date(yt.updatedAt)).slice(0,20)),Ue(ie),ie})},Nt=async A=>{xe(H=>{const V=H.filter(ie=>ie.id!==A);return Ue(V),V}),Re===A&&_e(null)},_=async A=>{A&&xe(H=>{const V=H.filter(ie=>ie.slug!==A);return Ue(V),V})};T.useEffect(()=>{$e()},[]);const W=()=>{if(!(he.title&&he.title.trim()!==""||he.description&&he.description.trim()!==""||he.sections.some(ie=>ie.content&&ie.content.trim()!=="")))return null;let H=Re;if(!H&&he.slug){const ie=pe.find(Je=>Je.slug===he.slug);ie&&(H=ie.id)}const V=he.sections.map(ie=>({content:ie.content||"",image_meta:ie.image?{name:ie.image.name,type:ie.image.type,size:ie.image.size}:null,existing_image:ie.existing_image||null}));return{id:H||`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,title:he.title,slug:he.slug,description:he.description,is_active:he.is_active,disciplines:he.disciplines||[],sections:V,cover_photo_meta:he.cover_photo?{name:he.cover_photo.name,type:he.cover_photo.type,size:he.cover_photo.size}:null}},I=()=>{const A=W();A&&(_e(A.id),Qe(A),me.success("Draft saved locally"))},ce=A=>{const H=A.sections?.map(V=>({id:Date.now()+Math.random(),content:V.content||"",image:null,existing_image:V.existing_image||null}))||[];Be({title:A.title||"",slug:A.slug||"",description:A.description||"",is_active:A.is_active??!0,disciplines:A.disciplines||[],sections:H,cover_photo:null}),K(!0),_e(A.id),k(!0),me("Draft loaded")},ye=T.useRef(null),$=T.useRef("");T.useEffect(()=>{if(E){ye.current=setInterval(()=>{const H=W();if(H){const V=JSON.stringify({title:H.title,description:H.description,disciplines:H.disciplines,sections:H.sections});V!==$.current&&(_e(ie=>ie||H.id),Qe(H),$.current=V)}},5e3);const A=()=>{const H=W();if(H){Qe(H);try{localStorage.setItem(Z,JSON.stringify(H))}catch{}}};return window.addEventListener("beforeunload",A),()=>{ye.current&&clearInterval(ye.current),window.removeEventListener("beforeunload",A)}}else ye.current&&clearInterval(ye.current),$.current=""},[E]);const U=A=>A.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),be=(A,H)=>{v(V=>({...V,[A]:H})),S(1)},We=async(A,H)=>{R(A);try{await Ye.patch(`https://nexus-consults.com/api/public/api/admin/projects/${A}/toggle-active`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),me.success(`Project ${H?"deactivated":"activated"} successfully`,{duration:2e3}),r()}catch(V){me.error(V.response?.data?.message||"An unexpected error occurred",{duration:3e3}),V.response?.status==401,V.response?.status==403&&(me.error("You are not authorized to view this page"),i("/home"))}finally{R(null)}},ht=A=>{ne(A),ge(!0)},Qt=async()=>{if(oe){O(oe),ge(!1);try{await Ye.delete(`https://nexus-consults.com/api/public/api/admin/projects/${oe}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),me.success("Project deleted successfully",{duration:2e3}),r()}catch(A){me.error(A.response?.data?.message||"An unexpected error occurred",{duration:3e3}),A.response?.status==401&&(localStorage.removeItem("userToken"),i("/login")),A.response?.status==403&&(me.error("You are not authorized to view this page"),i("/home"))}finally{O(null),ne(null)}}},Lt=A=>{const{name:H,value:V,type:ie,checked:Je,files:yt}=A.target;if(Be(ie==="file"?bt=>({...bt,[H]:yt[0]}):bt=>({...bt,[H]:ie==="checkbox"?Je:V})),H==="title"&&!Oe){const bt=U(V);Be(Gt=>({...Gt,slug:bt}))}},ln=A=>{const{value:H}=A.target;Be(V=>({...V,slug:H})),K(!0)},sn=()=>{const A=U(he.title);Be(H=>({...H,slug:A})),K(!1)},Se=A=>{const{name:H,value:V,type:ie,checked:Je,files:yt}=A.target;if(ot(ie==="file"?bt=>({...bt,[H]:yt[0]}):bt=>({...bt,[H]:ie==="checkbox"?Je:V})),H==="title"&&!re){const bt=U(V);ot(Gt=>({...Gt,slug:bt}))}},it=A=>{const{value:H}=A.target;ot(V=>({...V,slug:H})),ue(!0)},ft=()=>{const A=U(Le.title);ot(H=>({...H,slug:A})),ue(!1)},de=(A,H)=>{Be(V=>({...V,disciplines:H?[...V.disciplines,A]:V.disciplines.filter(ie=>ie!==A)}))},lt=(A,H)=>{ot(V=>({...V,disciplines:H?[...V.disciplines,A]:V.disciplines.filter(ie=>ie!==A)}))},Ot=()=>{const A={id:Date.now()+Math.random(),content:"",image:null,existing_image:null};Be(H=>({...H,sections:[...H.sections,A]}))},tt=A=>{Be(H=>({...H,sections:H.sections.filter(V=>V.id!==A)}))},Te=(A,H)=>{Be(V=>({...V,sections:V.sections.map(ie=>ie.id===A?{...ie,content:H}:ie)}))},rt=(A,H)=>{Be(V=>({...V,sections:V.sections.map(ie=>ie.id===A?{...ie,image:H}:ie)}))},wt=A=>{Be(H=>({...H,sections:H.sections.map(V=>V.id===A?{...V,image:null}:V)}))},St=A=>{Be(H=>({...H,sections:H.sections.map(V=>V.id===A?{...V,existing_image:null,image:null}:V)}))},Tt=()=>{const A={id:Date.now()+Math.random(),content:"",image:null,existing_image:null};ot(H=>({...H,sections:[...H.sections,A]}))},Zt=A=>{ot(H=>({...H,sections:H.sections.filter(V=>V.id!==A)}))},Tn=(A,H)=>{ot(V=>({...V,sections:V.sections.map(ie=>ie.id===A?{...ie,content:H}:ie)}))},Q=(A,H)=>{ot(V=>({...V,sections:V.sections.map(ie=>ie.id===A?{...ie,image:H}:ie)}))},fe=A=>{ot(H=>({...H,sections:H.sections.map(V=>V.id===A?{...V,image:null}:V)}))},Ce=A=>{ot(H=>({...H,sections:H.sections.map(V=>V.id===A?{...V,existing_image:null,image:null}:V)}))},Pe=()=>{Be({title:"",slug:"",description:"",is_active:!0,cover_photo:null,disciplines:[],sections:[]}),K(!1)},Ge=A=>{q(A.id)};T.useEffect(()=>{if(dt&&ze){const H=(dt.sections||[]).map((V,ie)=>({id:Date.now()+ie,content:V.content||"",image:null,existing_image:V.image||null}));ot({id:dt.id,title:dt.title,slug:dt.slug,description:dt.description||"",is_active:dt.is_active,cover_photo:null,existing_cover_photo:dt.cover_photo,disciplines:dt.disciplines?dt.disciplines.map(V=>V.id):[],sections:H}),ue(!0),F(!0)}},[dt,ze]);const gt=async A=>{if(A.preventDefault(),!he.sections.some(V=>V.content&&V.content.trim()!=="")){me.error("Please add at least one section with content");return}Ee(!0);try{const V=new FormData;V.append("title",he.title),V.append("slug",he.slug),V.append("is_active",he.is_active?1:0),V.append("description",he.description),he.disciplines.forEach(ie=>{V.append("disciplines[]",ie)}),he.sections.forEach((ie,Je)=>{V.append(`content${Je+1}`,ie.content||""),ie.image instanceof File&&V.append(`image${Je+1}`,ie.image)}),V.append("cover_photo",he.cover_photo||""),await Ye.post("https://nexus-consults.com/api/public/api/admin/projects",V,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}}),Ee(!1),me.success("Project added successfully",{duration:2e3}),k(!1),Pe(),r(),_(he.slug),_e(null)}catch(V){Ee(!1),me.error(V.response?.data?.message||"An unexpected error occurred",{duration:3e3}),V.response?.status==401&&(localStorage.removeItem("userToken"),i("/login")),V.response?.status==403&&(me.error("You are not authorized to view this page"),i("/home"))}},Ct=async A=>{if(A.preventDefault(),!Le.sections.some(V=>V.content&&V.content.trim()!=="")){me.error("Please add at least one section with content");return}Ee(!0);try{const V=new FormData;V.append("title",Le.title),V.append("slug",Le.slug),V.append("is_active",Le.is_active?1:0),V.append("description",Le.description),V.append("_method","POST"),Le.disciplines.forEach(ie=>{V.append("disciplines[]",ie)}),Le.sections.forEach((ie,Je)=>{V.append(`content${Je+1}`,ie.content||""),ie.image instanceof File?V.append(`image${Je+1}`,ie.image):ie.existing_image===null&&V.append(`image${Je+1}`,"")}),Le.cover_photo instanceof File?V.append("cover_photo",Le.cover_photo):Le.existing_cover_photo===null&&V.append("cover_photo",""),await Ye.post(`https://nexus-consults.com/api/public/api/admin/projects/${Le.id}`,V,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}}),Ee(!1),me.success("Project updated successfully",{duration:2e3}),F(!1),q(null),r(),s.invalidateQueries(["project",Le.id])}catch(V){Ee(!1),me.error(V.response?.data?.message||"An unexpected error occurred",{duration:3e3}),V.response?.status==401&&(localStorage.removeItem("userToken"),i("/login")),V.response?.status==403&&(me.error("You are not authorized to view this page"),i("/home"))}},nt=t?.filter(A=>{const H=y.global===""||A.title.toLowerCase().includes(y.global.toLowerCase())||(A.author?.name?A.author.name.toLowerCase().includes(y.global.toLowerCase()):!1),V=y.title===""||A.title.toLowerCase().includes(y.title.toLowerCase()),ie=y.status===""||(y.status==="active"?A.is_active:!A.is_active),Je=y.author===""||(A.author?.name?A.author.name.toLowerCase().includes(y.author.toLowerCase()):!1);let yt=!0;if(A.created_at){const bt=new Date(A.created_at);if(y.created_from){const Gt=new Date(`${y.created_from}T00:00:00`);bt<Gt&&(yt=!1)}if(yt&&y.created_to){const Gt=new Date(`${y.created_to}T23:59:59.999`);bt>Gt&&(yt=!1)}}return H&&V&&ie&&Je&&yt})||[],pt=Math.ceil(nt.length/C),mt=nt.slice((b-1)*C,b*C),Mt=A=>{const H=A?"bg-[#009379] text-white":"bg-[#930002] text-white";return d.jsx("span",{className:`flex justify-center w-fit items-center px-2.5 py-1 rounded-md text-xs font-medium ${H} min-w-16 text-center`,children:A?"Active":"Inactive"})},Y=()=>pt<=1?null:d.jsxs("div",{className:"flex justify-between items-center mt-4 px-4 pb-1",children:[d.jsxs("div",{className:"text-xs",children:["Showing ",(b-1)*C+1,"-",Math.min(b*C,nt.length)," of ",nt.length," entries"]}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{onClick:()=>S(1),disabled:b===1,className:"p-1 disabled:opacity-50",children:d.jsx(Jo,{className:"h-4 w-4"})}),d.jsxs("span",{className:"px-3 py-1",children:["Page ",b," of ",pt]}),d.jsx("button",{onClick:()=>S(A=>Math.min(pt,A+1)),disabled:b===pt,className:"p-1 disabled:opacity-50",children:d.jsx(Zo,{className:"h-4 w-4"})})]})]}),Me=(A,H)=>{l(H?V=>[...V,A]:V=>V.filter(ie=>ie!==A))},Xe=A=>{A?(l(nt.map(H=>H.id)),f(!0)):(l([]),f(!1))},[vt,qt]=T.useState(!1),Dt=async()=>{a.length&&qt(!0)},zt=async()=>{qt(!1);try{m(!0),await Ye.post("https://nexus-consults.com/api/public/api/admin/projects/bulk/delete",{ids:a},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),me.success(`${a.length} project(s) deleted successfully`),l([]),f(!1),r()}catch(A){console.error("Error deleting projects:",A),me.error(A.response?.data?.message||"Failed to delete projects")}finally{m(!1)}},Xn=async A=>{if(a.length)try{m(!0),await Ye.post("https://nexus-consults.com/api/public/api/admin/projects/bulk/update-status",{ids:a,status:A},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),me.success(`Status updated for ${a.length} project(s)`),l([]),f(!1),r()}catch(H){console.error("Error updating project status:",H),me.error(H.response?.data?.message||"Failed to update project status")}finally{m(!1)}},An=Ut.memo(({sectionId:A,label:H,existingImage:V,currentImage:ie,onImageChange:Je,onRemoveImage:yt,onRemoveExistingImage:bt})=>{const Gt=V,[Dn,en]=T.useState(null),zr=T.useRef(null);T.useEffect(()=>{if(ie&&ie instanceof File){const L=URL.createObjectURL(ie);return en(L),()=>{URL.revokeObjectURL(L),en(null)}}else en(null)},[ie]);const j=L=>{L.target.files&&L.target.files[0]&&Je(A,L.target.files[0])};return d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:H}),Dn?d.jsxs("div",{className:"relative mb-4",children:[d.jsx("img",{src:Dn,alt:"Preview",className:"h-48 w-full object-cover rounded-lg"}),d.jsx("button",{type:"button",onClick:()=>yt(A),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 transition-colors",children:d.jsx(Kt,{size:16})})]}):Gt?d.jsxs("div",{className:"relative mb-4",children:[d.jsx("img",{src:Gt,alt:"Current",className:"h-48 w-full object-cover rounded-lg"}),d.jsx("button",{type:"button",onClick:()=>bt(A),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2",children:d.jsx(Kt,{size:16})})]}):d.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[d.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[d.jsx(Uo,{className:"w-8 h-8 mb-3 text-gray-400"}),d.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[d.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),d.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, JPEG (MAX. 5MB)"})]}),d.jsx("input",{ref:zr,type:"file",className:"hidden",onChange:j,accept:"image/*"})]})]})},(A,H)=>A.sectionId===H.sectionId&&A.label===H.label&&A.existingImage===H.existingImage&&A.currentImage===H.currentImage),Sn=Ut.memo(({name:A,label:H,existingImage:V,currentImage:ie,onImageChange:Je,onRemoveImage:yt})=>{const bt=V,[Gt,Dn]=T.useState(null);return T.useEffect(()=>{if(ie&&ie instanceof File){const en=URL.createObjectURL(ie);return Dn(en),()=>{URL.revokeObjectURL(en),Dn(null)}}else Dn(null)},[ie]),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:H}),Gt?d.jsxs("div",{className:"relative mb-4",children:[d.jsx("img",{src:Gt,alt:"Preview",className:"h-48 w-full object-cover rounded-lg"}),d.jsx("button",{type:"button",onClick:()=>yt(A),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 transition-colors",children:d.jsx(Kt,{size:16})})]}):bt?d.jsxs("div",{className:"relative mb-4",children:[d.jsx("img",{src:bt,alt:"Current",className:"h-48 w-full object-cover rounded-lg"}),d.jsx("button",{type:"button",onClick:()=>yt(`existing_${A}`),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2",children:d.jsx(Kt,{size:16})})]}):d.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[d.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[d.jsx(Uo,{className:"w-8 h-8 mb-3 text-gray-400"}),d.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[d.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),d.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, JPEG (MAX. 5MB)"})]}),d.jsx("input",{id:A,name:A,type:"file",className:"hidden",onChange:Je,accept:"image/*"})]})]})},(A,H)=>A.name===H.name&&A.label===H.label&&A.existingImage===H.existingImage&&A.currentImage===H.currentImage),Fn=()=>he.sections.map((A,H)=>d.jsxs("div",{className:"p-4 border rounded-lg mb-4",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h3",{className:"text-lg font-medium",children:["Section ",H+1]}),d.jsx("button",{type:"button",onClick:()=>tt(A.id),className:"text-red-500 hover:text-red-700 p-1",disabled:he.sections.length===1,children:d.jsx(fg,{size:16})})]}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Content ",H+1,"*"]}),d.jsx(Gs,{content:A.content,onUpdate:V=>Te(A.id,V)})]}),d.jsx(An,{sectionId:A.id,label:`Image ${H+1}`,existingImage:A.existing_image,currentImage:A.image,onImageChange:rt,onRemoveImage:wt,onRemoveExistingImage:St})]},A.id)),jr=()=>Le.sections.map((A,H)=>d.jsxs("div",{className:"p-4 border rounded-lg mb-4",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h3",{className:"text-lg font-medium",children:["Section ",H+1]}),d.jsx("button",{type:"button",onClick:()=>Zt(A.id),className:"text-red-500 hover:text-red-700 p-1",disabled:Le.sections.length===1,children:d.jsx(fg,{size:16})})]}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Content ",H+1,"*"]}),d.jsx(Gs,{content:A.content,onUpdate:V=>Tn(A.id,V)})]}),d.jsx(An,{sectionId:A.id,label:`Image ${H+1}`,existingImage:A.existing_image,currentImage:A.image,onImageChange:Q,onRemoveImage:fe,onRemoveExistingImage:Ce})]},A.id));return d.jsxs("div",{className:"shadow-2xl rounded-2xl overflow-hidden bg-white",children:[d.jsxs("div",{className:"p-4 border-b flex justify-between items-center gap-4",children:[d.jsx("input",{type:"text",value:y.global,onChange:A=>be("global",A.target.value),placeholder:"Search projects...",className:"px-3 py-2 rounded-xl shadow-sm focus:outline-2 focus:outline-primary w-full border border-primary transition-all"}),ut?.data?.data?.admin?.permissions?.includes("create_projects")&&d.jsxs("button",{onClick:()=>{k(!0),Pe()},className:"bg-primary hover:bg-darkBlue transition-all text-white px-3 py-2 rounded-xl shadow-sm min-w-max flex items-center gap-2",children:[d.jsx(ei,{size:18}),d.jsx("span",{children:"Add Project"})]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:u&&nt.length>0,onChange:A=>Xe(A.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),d.jsx("span",{className:"ml-2",children:"Title"})]})}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsx("input",{type:"text",value:y.author,onChange:A=>be("author",A.target.value),placeholder:"Author",className:"text-xs p-1 border rounded w-full"})}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cover Photo"}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsxs("select",{value:y.status,onChange:A=>be("status",A.target.value),className:"text-xs p-1 border rounded w-full",children:[d.jsx("option",{value:"",children:"All Statuses"}),d.jsx("option",{value:"active",children:"Active"}),d.jsx("option",{value:"inactive",children:"Inactive"})]})}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsx(Rh,{initialRange:{startDate:y.created_from?new Date(`${y.created_from}T00:00:00`):null,endDate:y.created_to?new Date(`${y.created_to}T00:00:00`):null},onDateChange:({startDate:A,endDate:H})=>{const V=ie=>{if(!(ie instanceof Date)||isNaN(ie))return"";const Je=ie.getFullYear(),yt=String(ie.getMonth()+1).padStart(2,"0"),bt=String(ie.getDate()).padStart(2,"0");return`${Je}-${yt}-${bt}`};be("created_from",A?V(A):""),be("created_to",H?V(H):"")}})}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:n?d.jsx("tr",{children:d.jsx("td",{colSpan:"6",className:"px-3 py-4 text-center",children:d.jsxs("div",{className:"flex justify-center items-center gap-2",children:[d.jsx(xt,{className:"animate-spin",size:18}),"Loading projects..."]})})}):mt.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:"6",className:"px-3 py-4 text-center",children:"No projects found"})}):mt.map(A=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:a.includes(A.id),onChange:H=>Me(A.id,H.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),d.jsx("span",{className:"ml-2 text-sm font-medium text-gray-900",children:A.title})]})}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:A.author?.name||"-"}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:A.cover_photo&&d.jsx("img",{src:A.cover_photo,alt:"Cover",className:"h-10 w-10 object-cover rounded"})}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Mt(A.is_active)}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:A.created_at?new Date(A.created_at).toLocaleDateString():"-"}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center gap-2",children:[ut?.data?.data?.admin?.permissions?.includes("edit_projects")&&d.jsx("button",{className:"text-blue-500 hover:text-blue-700 p-1",onClick:()=>Ge(A),disabled:_t,children:_t&&ze===A.id?d.jsx(xt,{className:"animate-spin",size:18}):d.jsx(As,{size:18})}),d.jsx("button",{className:`${A.is_active?"text-green-500 hover:text-green-700":"text-red-500 hover:text-red-700"} p-1`,onClick:()=>We(A.id,A.is_active),disabled:D===A.id,children:D===A.id?d.jsx(xt,{className:"animate-spin",size:18}):A.is_active?d.jsx(Zr,{}):d.jsx(Kt,{})}),ut?.data?.data?.admin?.permissions?.includes("delete_projects")&&d.jsx("button",{className:"text-red-500 hover:text-red-700 p-1",onClick:()=>ht(A.id),disabled:N===A.id,title:"Delete",children:N===A.id?d.jsx(xt,{className:"animate-spin",size:18}):d.jsx(Un,{size:18})})]})})]},A.id))})]})}),vt&&d.jsx(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:d.jsxs(jt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:"bg-white rounded-lg p-6 max-w-md w-full",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Deletion"}),d.jsx("button",{onClick:()=>qt(!1),className:"text-gray-500 hover:text-gray-700",children:d.jsx(Kt,{})})]}),d.jsxs("p",{className:"text-gray-700 mb-6",children:["Are you sure you want to delete ",a.length," selected project(s)? This action cannot be undone."]}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx("button",{onClick:()=>qt(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:p,children:"Cancel"}),d.jsx("button",{onClick:zt,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 flex items-center",disabled:p,children:p?d.jsxs(d.Fragment,{children:[d.jsx(xt,{className:"animate-spin mr-2"}),"Deleting..."]}):"Delete"})]})]})}),a.length>0&&d.jsx("div",{className:"bg-blue-50 p-4 rounded-md mb-6 border border-blue-200",children:d.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[d.jsxs("div",{className:"text-blue-800 font-medium",children:[a.length," project(s) selected"]}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsxs("button",{onClick:()=>Xn(!0),disabled:p,className:"flex items-center px-3 py-1.5 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 text-sm",children:[d.jsx(Zr,{className:"mr-1.5"}),"Activate"]}),d.jsxs("button",{onClick:()=>Xn(!1),disabled:p,className:"flex items-center px-3 py-1.5 bg-yellow-600 text-white rounded hover:bg-yellow-700 disabled:opacity-50 text-sm",children:[d.jsx(Kt,{className:"mr-1.5"}),"Deactivate"]}),d.jsxs("button",{onClick:Dt,disabled:p,className:"flex items-center px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 text-sm",children:[d.jsx(Un,{className:"mr-1.5"}),"Delete"]}),d.jsxs("button",{onClick:()=>{l([]),f(!1)},className:"flex items-center px-3 py-1.5 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 text-sm",children:[d.jsx(Kt,{className:"mr-1.5"}),"Clear Selection"]}),p&&d.jsxs("div",{className:"flex items-center",children:[d.jsx(xt,{className:"animate-spin mr-1.5"}),"Loading..."]})]})]})}),!n&&Y(),d.jsxs("div",{className:"p-4 border-t",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h2",{className:"text-lg font-semibold",children:"Drafts"}),d.jsx("div",{className:"text-xs text-gray-500",children:"Drafts are stored locally in your browser"})]}),pe.length===0?d.jsx("div",{className:"text-sm text-gray-500",children:"No drafts yet"}):d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full divide-y divide-gray-200 text-sm",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-2 text-left",children:"Title"}),d.jsx("th",{className:"px-4 py-2 text-left",children:"Updated"}),d.jsx("th",{className:"px-4 py-2 text-left",children:"Note"}),d.jsx("th",{className:"px-4 py-2 text-left",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200",children:pe.slice().sort((A,H)=>new Date(H.updatedAt)-new Date(A.updatedAt)).map(A=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-4 py-2",children:A.title||d.jsx("span",{className:"italic text-gray-400",children:"Untitled"})}),d.jsx("td",{className:"px-4 py-2",children:new Date(A.updatedAt).toLocaleString()}),d.jsx("td",{className:"px-4 py-2 text-xs text-gray-500",children:A.cover_photo_meta?`Attachment: ${A.cover_photo_meta.name} (re-attach required)`:"No attachment"}),d.jsx("td",{className:"px-4 py-2",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-1",onClick:()=>ce(A),children:[d.jsx(Oy,{})," Resume"]}),d.jsx("button",{className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",onClick:()=>Nt(A.id),children:"Delete"})]})})]},A.id))})]})})]}),E&&d.jsxs(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 ",children:[d.jsx("button",{onClick:()=>{k(!1);const A=W();A&&Qe(A)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:d.jsx(ui,{className:"",size:40})}),d.jsx(jt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-4/5 h-[90vh] overflow-y-auto",onClick:A=>A.stopPropagation(),children:d.jsxs("div",{className:"p-6",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New Project"}),d.jsxs("form",{onSubmit:gt,children:[d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title*"}),d.jsx("input",{type:"text",name:"title",value:he.title,onChange:Lt,className:"w-full px-3 py-2 border rounded-md",required:!0})]})}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug*"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",name:"slug",value:he.slug,onChange:ln,className:"w-full px-3 py-2 border rounded-md",required:!0}),Oe&&d.jsx("button",{type:"button",onClick:sn,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",title:"Reset to auto-generated slug",children:d.jsx(Kt,{})})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Oe?"Slug is manually edited. Click the X to reset to auto-generated.":"Slug is auto-generated from title. You can edit it manually."})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),d.jsx("textarea",{name:"description",value:he.description,onChange:Lt,rows:3,className:"w-full px-3 py-2 border rounded-md resize-vertical",placeholder:"Enter project description..."})]}),d.jsx(Sn,{name:"cover_photo",label:"Cover Photo",currentImage:he.cover_photo,onImageChange:Lt,onRemoveImage:A=>Be(H=>({...H,[A]:null}))}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:he.is_active,onChange:Lt,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),d.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700",children:"Active"})]})}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Disciplines"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 max-h-48 overflow-y-auto p-2 border rounded-md",children:[e?.map(A=>d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:`discipline-${A.id}`,checked:he.disciplines.includes(A.id),onChange:H=>de(A.id,H.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),d.jsxs("label",{htmlFor:`discipline-${A.id}`,className:"ml-2 text-sm text-gray-700",children:[A.title,!A.is_active&&d.jsx("span",{className:"ml-1 text-xs text-orange-600",children:"(inactive)"})]})]},A.id)),(!e||e.length===0)&&d.jsx("div",{className:"text-sm text-gray-500 col-span-full",children:"No disciplines available"})]})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-medium",children:"Sections"}),d.jsxs("button",{type:"button",onClick:Ot,className:"bg-primary hover:bg-darkBlue text-white px-3 py-2 rounded-md flex items-center gap-2",children:[d.jsx(ei,{})," Add Section"]})]}),d.jsx("div",{className:"space-y-4",children:he.sections.length===0?d.jsxs("div",{className:"text-center p-8 border-2 border-dashed rounded-lg",children:[d.jsx("p",{className:"text-gray-500 mb-4",children:'No sections added yet. Click "Add Section" to get started.'}),d.jsx("p",{className:"text-sm text-gray-400",children:"Note: At least one section with content is required."})]}):Fn()})]}),d.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[d.jsxs("div",{className:"text-xs text-gray-500 mt-2 flex items-center",children:[d.jsx(xt,{className:`animate-spin mr-1 ${ee?"opacity-100":"opacity-0"}`,size:12}),"Auto-saves to drafts every 5s"]}),d.jsxs("button",{type:"button",onClick:I,className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[d.jsx(jh,{size:16})," Save as Draft"]}),d.jsx("button",{type:"button",onClick:()=>{const A=W();A&&Qe(A),k(!1),Pe()},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:ee,children:ee?d.jsxs(d.Fragment,{children:[d.jsx(xt,{className:"animate-spin",size:18}),d.jsx("span",{children:"Adding..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(ei,{size:18}),d.jsx("span",{children:"Add Project"})]})})]})]})]})})]}),P&&d.jsxs(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[d.jsx("button",{onClick:()=>{F(!1),q(null)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:d.jsx(ui,{className:"",size:40})}),d.jsx(jt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-4/5 h-[90vh] overflow-y-auto",onClick:A=>A.stopPropagation(),children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center mb-4",children:[d.jsx("button",{type:"button",onClick:()=>{F(!1),q(null)},className:"text-blue-600 hover:text-blue-800 font-medium",children:"Projects"}),d.jsx("span",{className:"mx-2 text-gray-400",children:">"}),d.jsx("span",{className:"text-xl font-bold text-gray-900",children:Le.title||"Untitled Project"}),_t&&d.jsxs("div",{className:"ml-4 flex items-center text-sm text-gray-500",children:[d.jsx(xt,{className:"animate-spin mr-2",size:14}),"Loading project data..."]})]}),_t?d.jsxs("div",{className:"flex justify-center items-center py-8",children:[d.jsx(xt,{className:"animate-spin mr-2",size:24}),d.jsx("span",{children:"Loading project data..."})]}):d.jsxs("form",{onSubmit:Ct,children:[d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title*"}),d.jsx("input",{type:"text",name:"title",value:Le.title,onChange:Se,className:"w-full px-3 py-2 border rounded-md",required:!0})]})}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug*"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",name:"slug",value:Le.slug,onChange:it,className:"w-full px-3 py-2 border rounded-md",required:!0}),re&&d.jsx("button",{type:"button",onClick:ft,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",title:"Reset to auto-generated slug",children:d.jsx(Kt,{})})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:re?"Slug is manually edited. Click the X to reset to auto-generated.":"Slug is auto-generated from title. You can edit it manually."})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),d.jsx("textarea",{name:"description",value:Le.description,onChange:Se,rows:3,className:"w-full px-3 py-2 border rounded-md resize-vertical",placeholder:"Enter project description..."})]}),d.jsx(Sn,{name:"cover_photo",label:"Cover Photo",existingImage:Le.existing_cover_photo,currentImage:Le.cover_photo,onImageChange:Se,onRemoveImage:A=>{if(A.startsWith("existing_")){const H=A.replace("existing_","");ot(V=>({...V,[A]:null,[H]:null}))}else ot(H=>({...H,[A]:null}))}}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"edit_is_active",name:"is_active",checked:Le.is_active,onChange:Se,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),d.jsx("label",{htmlFor:"edit_is_active",className:"ml-2 text-sm text-gray-700",children:"Active"})]})}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Disciplines"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 max-h-48 overflow-y-auto p-2 border rounded-md",children:[e?.map(A=>d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:`edit-discipline-${A.id}`,checked:Le.disciplines.includes(A.id),onChange:H=>lt(A.id,H.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),d.jsxs("label",{htmlFor:`edit-discipline-${A.id}`,className:"ml-2 text-sm text-gray-700",children:[A.title,!A.is_active&&d.jsx("span",{className:"ml-1 text-xs text-orange-600",children:"(inactive)"})]})]},A.id)),(!e||e.length===0)&&d.jsx("div",{className:"text-sm text-gray-500 col-span-full",children:"No disciplines available"})]})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-medium",children:"Sections"}),d.jsxs("button",{type:"button",onClick:Tt,className:"bg-primary hover:bg-darkBlue text-white px-3 py-2 rounded-md flex items-center gap-2",children:[d.jsx(ei,{})," Add Section"]})]}),d.jsx("div",{className:"space-y-4",children:Le.sections.length===0?d.jsxs("div",{className:"text-center p-8 border-2 border-dashed rounded-lg",children:[d.jsx("p",{className:"text-gray-500 mb-4",children:'No sections added yet. Click "Add Section" to get started.'}),d.jsx("p",{className:"text-sm text-gray-400",children:"Note: At least one section with content is required."})]}):jr()})]}),d.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[d.jsx("button",{type:"button",onClick:()=>{F(!1),q(null)},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:ee,children:ee?d.jsxs(d.Fragment,{children:[d.jsx(xt,{className:"animate-spin",size:18}),d.jsx("span",{children:"Updating..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(Zr,{size:18}),d.jsx("span",{children:"Update Project"})]})})]})]})]})})]}),G&&d.jsx(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>ge(!1),children:d.jsx(jt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:A=>A.stopPropagation(),children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:d.jsx(Un,{className:"h-5 w-5 text-red-600"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Project"}),d.jsx("div",{className:"mt-2",children:d.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this project? This action cannot be undone."})})]})]}),d.jsxs("div",{className:"mt-5 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>ge(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),d.jsx("button",{type:"button",onClick:Qt,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})})})]})}function Cle(){const t=Hn(),{data:e,isLoading:n,isError:r,error:i,refetch:s}=wn({queryKey:["disciplines"],queryFn:()=>Ye.get("https://nexus-consults.com/api/public/api/admin/disciplines",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})});function a(){return Ye.get("https://nexus-consults.com/api/public/api/admin/projects",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}const{data:l,isLoading:u,refetch:f,isError:p,error:m}=wn({queryKey:["projects"],queryFn:a});return T.useEffect(()=>{p&&(m.response?.status==401&&(localStorage.removeItem("userToken"),t("/login")),m.response?.status==403&&(me.error("You are not authorized to view this page"),t("/home")))},[p]),d.jsxs("div",{className:"p-4",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Projects"}),d.jsx(Sle,{projects:l?.data?.data||[],disciplinesData:e?.data?.data||[],loading:u,refetch:f})]})}function Nle({admins:t,allPermissions:e,loading:n,refetch:r}){const i=Hn(),[s,a]=T.useState({global:"",name:"",email:"",status:"",role:""}),[l,u]=T.useState(1),[f]=T.useState(10),[p,m]=T.useState(null),[y,v]=T.useState(null),[b,S]=T.useState(!1),[C,N]=T.useState(!1),[O,D]=T.useState(!1),[R,E]=T.useState(null),[k,P]=T.useState(!1),[F,G]=T.useState(null),[ge,oe]=T.useState(!1),[ne,ee]=T.useState({name:"",email:"",password:"",confirmPassword:"",permissions:[]}),Ee=(Z,$e)=>{a(Ue=>({...Ue,[Z]:$e})),u(1)},{data:Oe,isLoading:K,error:re,isError:ue}=wn({queryKey:["currentUser"],queryFn:()=>Ye.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}),ze=async(Z,$e)=>{m(Z);try{const Ue=$e==="active"?"inactive":"active";await Ye.patch(`https://nexus-consults.com/api/public/api/admin/users/${Z}/toggle-active`,{status:Ue},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),me.success(`Admin ${Ue==="active"?"activated":"deactivated"} successfully`,{duration:2e3}),r()}catch(Ue){me.error(Ue.response?.data?.message||"An unexpected error occurred",{duration:3e3}),Ue.response?.status==401&&(localStorage.removeItem("userToken"),i("/login"))}finally{m(null)}},q=Z=>{G(Z),P(!0)},ae=async()=>{if(F){v(F),P(!1);try{await Ye.delete(`https://nexus-consults.com/api/public/api/admin/users/${F}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),me.success("Admin deleted successfully",{duration:2e3}),r()}catch(Z){me.error(Z.response?.data?.message||"An unexpected error occurred",{duration:3e3}),Z.response?.status==401&&(localStorage.removeItem("userToken"),i("/login")),Z.response?.status==403&&(me.error("You are not authorized to view this page"),i("/home"))}finally{v(null),G(null)}}},pe=Z=>{const{name:$e,value:Ue,type:Qe,checked:Nt}=Z.target;ee(_=>({..._,[$e]:Qe==="checkbox"?Nt:Ue}))},xe=(Z,$e)=>{ee(Ue=>$e?{...Ue,permissions:[...Ue.permissions,Z]}:{...Ue,permissions:Ue.permissions.filter(Qe=>Qe!==Z)})},Re=()=>{ee({name:"",email:"",password:"",confirmPassword:"",permissions:[]})},_e=Z=>{E(Z),ee({name:Z.name,email:Z.email,password:"",confirmPassword:"",permissions:[...Z.permissions]}),N(!0)},he=Z=>{E(Z),ee({...ne,permissions:[...Z.permissions]}),D(!0)},Be=async Z=>{if(Z.preventDefault(),ne.password!==ne.confirmPassword){me.error("Passwords do not match",{duration:3e3});return}oe(!0);try{await Ye.post("https://nexus-consults.com/api/public/api/admin/users",{name:ne.name,email:ne.email,password:ne.password,permissions:ne.permissions},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),oe(!1),me.success("Admin added successfully",{duration:2e3}),S(!1),Re(),r()}catch($e){oe(!1),me.error($e.response?.data?.message||"An unexpected error occurred",{duration:3e3}),$e.response?.status==401&&(localStorage.removeItem("userToken"),i("/login")),$e.response?.status==403&&(me.error("You are not authorized to view this page"),i("/home"))}},Le=async Z=>{if(Z.preventDefault(),ne.password&&ne.password!==ne.confirmPassword){me.error("Passwords do not match",{duration:3e3});return}oe(!0);try{const $e={name:ne.name,email:ne.email};ne.password&&($e.password=ne.password),await Ye.put(`https://nexus-consults.com/api/public/api/admin/users/${R.id}`,$e,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),oe(!1),me.success("Admin updated successfully",{duration:2e3}),N(!1),Re(),r()}catch($e){oe(!1),me.error($e.response?.data?.message||"An unexpected error occurred",{duration:3e3}),$e.response?.status==401&&(localStorage.removeItem("userToken"),i("/login")),$e.response?.status==403&&(me.error("You are not authorized to view this page"),i("/home"))}},ot=async Z=>{Z.preventDefault(),oe(!0);try{await Ye.post(`https://nexus-consults.com/api/public/api/admin/permissions/assign/${R.id}`,{permissions:ne.permissions},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),oe(!1),me.success("Permissions updated successfully",{duration:2e3}),D(!1),Re(),r()}catch($e){oe(!1),me.error($e.response?.data?.message||"An unexpected error occurred",{duration:3e3}),$e.response?.status==401&&(localStorage.removeItem("userToken"),i("/login")),$e.response?.status==403&&(me.error("You are not authorized to view this page"),i("/home"))}},ut=t?.filter(Z=>(s.global===""||Z.name.toLowerCase().includes(s.global.toLowerCase())||Z.email.toLowerCase().includes(s.global.toLowerCase()))&&(s.name===""||Z.name.toLowerCase().includes(s.name.toLowerCase()))&&(s.email===""||Z.email.toLowerCase().includes(s.email.toLowerCase()))&&(s.status===""||Z.status.includes(s.status.toLowerCase()))&&(s.role===""||Z.role.includes(s.role.toLowerCase())))||[],Bt=Math.ceil(ut.length/f),dt=ut.slice((l-1)*f,l*f),_t=Z=>{const $e=Z?"bg-[#009379] text-white":"bg-[#930002] text-white";return d.jsx("span",{className:`flex justify-center w-fit items-center px-2.5 py-1 rounded-md text-xs font-medium ${$e} min-w-16 text-center`,children:Z?"Active":"Inactive"})},st=()=>Bt<=1?null:d.jsxs("div",{className:"flex justify-between items-center mt-4 px-4 pb-1",children:[d.jsxs("div",{className:"text-xs",children:["Showing ",(l-1)*f+1,"-",Math.min(l*f,ut.length)," of ",ut.length," entries"]}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{onClick:()=>u(1),disabled:l===1,className:"p-1 disabled:opacity-50",children:d.jsx(Jo,{className:"h-4 w-4"})}),d.jsxs("span",{className:"px-3 py-1",children:["Page ",l," of ",Bt]}),d.jsx("button",{onClick:()=>u(Z=>Math.min(Bt,Z+1)),disabled:l===Bt,className:"p-1 disabled:opacity-50",children:d.jsx(Zo,{className:"h-4 w-4"})})]})]});return d.jsxs("div",{className:"shadow-2xl rounded-2xl overflow-hidden bg-white",children:[d.jsxs("div",{className:"p-4 border-b flex justify-between items-center gap-4",children:[d.jsx("input",{type:"text",value:s.global,onChange:Z=>Ee("global",Z.target.value),placeholder:"Search admins...",className:"px-3 py-2 rounded-xl shadow-sm focus:outline-2 focus:outline-primary w-full border border-primary transition-all"}),Oe?.data?.data?.admin?.permissions?.includes("create_admins")&&d.jsxs("button",{onClick:()=>S(!0),className:"bg-primary hover:bg-darkBlue transition-all text-white px-3 py-2 rounded-xl shadow-sm min-w-max flex items-center gap-2",children:[d.jsx(ei,{size:18}),d.jsx("span",{children:"Add Admin"})]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsx("input",{type:"text",placeholder:"Name",value:s.name,onChange:Z=>Ee("name",Z.target.value),className:"text-xs p-1 border rounded w-full"})}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsx("input",{type:"text",placeholder:"Email",value:s.email,onChange:Z=>Ee("email",Z.target.value),className:"text-xs p-1 border rounded w-full"})}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsx("input",{type:"text",placeholder:"Status",value:s.status,onChange:Z=>Ee("status",Z.target.value),className:"text-xs p-1 border rounded w-full"})}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:n?d.jsx("tr",{children:d.jsx("td",{colSpan:"5",className:"px-3 py-4 text-center",children:d.jsxs("div",{className:"flex justify-center items-center gap-2",children:[d.jsx(xt,{className:"animate-spin",size:18}),"Loading admins..."]})})}):dt.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:"5",className:"px-3 py-4 text-center",children:"No admins found"})}):dt.map(Z=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:d.jsx("div",{className:"font-medium",children:Z.name})}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Z.email}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap capitalize",children:Z.role}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:_t(Z.is_active)}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center gap-2",children:[Oe?.data?.data?.admin?.permissions?.includes("edit_admins")&&d.jsx("button",{className:"text-blue-500 hover:text-blue-700 p-1",onClick:()=>_e(Z),children:d.jsx(As,{size:18})}),Oe?.data?.data?.admin?.permissions?.includes("edit_admins")&&d.jsx("button",{className:"text-purple-500 hover:text-purple-700 p-1",onClick:()=>he(Z),children:d.jsx(N4,{size:18})}),Oe?.data?.data?.admin?.permissions?.includes("edit_admins")&&d.jsx("button",{className:`${Z.status==="active"?"text-red-500 hover:text-red-700":"text-green-500 hover:text-green-700"} p-1`,onClick:()=>ze(Z.id,Z.status),disabled:p===Z.id,children:p===Z.id?d.jsx(xt,{className:"animate-spin",size:18}):Z.status==="active"?d.jsx(Kt,{}):d.jsx(Zr,{})}),Oe?.data?.data?.admin?.permissions?.includes("delete_admins")&&d.jsx("button",{className:"text-red-500 hover:text-red-700 p-1",onClick:()=>q(Z.id),disabled:y===Z.id,children:y===Z.id?d.jsx(xt,{className:"animate-spin",size:18}):d.jsx(Un,{size:18})})]})})]},Z.id))})]})}),!n&&st(),b&&d.jsxs(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[d.jsx("button",{onClick:()=>{S(!1)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:d.jsx(ui,{className:"",size:40})}),d.jsx(jt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:Z=>Z.stopPropagation(),children:d.jsxs("div",{className:"p-6",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New Admin"}),d.jsxs("form",{onSubmit:Be,children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),d.jsx("input",{type:"text",name:"name",value:ne.name,onChange:pe,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsx("input",{type:"email",name:"email",value:ne.email,onChange:pe,className:"w-full px-3 py-2 border rounded-md",required:!0})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),d.jsx("input",{type:"password",name:"password",value:ne.password,onChange:pe,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),d.jsx("input",{type:"password",name:"confirmPassword",value:ne.confirmPassword,onChange:pe,className:"w-full px-3 py-2 border rounded-md",required:!0})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Permissions"}),d.jsx("button",{type:"button",onClick:()=>{ee(Z=>({...Z,permissions:e.map($e=>$e.name)}))},className:"mb-2 text-xs bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded",children:"Select All"}),d.jsx("button",{type:"button",onClick:()=>{ee(Z=>({...Z,permissions:[]}))},className:"mb-2 text-xs bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded ml-2",children:"Clear All"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 max-h-60 overflow-y-auto p-2 border rounded",children:e.map(Z=>d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:`perm-${Z.name}`,checked:ne.permissions.includes(Z.name),onChange:$e=>xe(Z.name,$e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),d.jsxs("label",{htmlFor:`perm-${Z.name}`,className:"ml-2 text-sm text-gray-700",children:[d.jsx("div",{className:"font-medium",children:Z.name.replaceAll("_"," ")}),d.jsx("div",{className:"text-xs text-gray-500",children:Z.description})]})]},Z.name))})]}),d.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[d.jsx("button",{type:"button",onClick:()=>{S(!1),Re()},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:ge,children:ge?d.jsxs(d.Fragment,{children:[d.jsx(xt,{className:"animate-spin",size:18}),d.jsx("span",{children:"Adding..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(ei,{size:18}),d.jsx("span",{children:"Add Admin"})]})})]})]})]})})]}),C&&d.jsxs(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[d.jsx("button",{onClick:()=>{N(!1)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:d.jsx(ui,{className:"",size:40})}),d.jsx(jt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:Z=>Z.stopPropagation(),children:d.jsxs("div",{className:"p-6",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"Edit Admin"}),d.jsxs("form",{onSubmit:Le,children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),d.jsx("input",{type:"text",name:"name",value:ne.name,onChange:pe,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsx("input",{type:"email",name:"email",value:ne.email,onChange:pe,className:"w-full px-3 py-2 border rounded-md",required:!0})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password (leave blank to keep current)"}),d.jsx("input",{type:"password",name:"password",value:ne.password,onChange:pe,className:"w-full px-3 py-2 border rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),d.jsx("input",{type:"password",name:"confirmPassword",value:ne.confirmPassword,onChange:pe,className:"w-full px-3 py-2 border rounded-md"})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[d.jsx("button",{type:"button",onClick:()=>{N(!1),Re()},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:ge,children:ge?d.jsxs(d.Fragment,{children:[d.jsx(xt,{className:"animate-spin",size:18}),d.jsx("span",{children:"Updating..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(As,{size:18}),d.jsx("span",{children:"Update Admin"})]})})]})]})]})})]}),O&&d.jsxs(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[d.jsx("button",{onClick:()=>{D(!1)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:d.jsx(ui,{className:"",size:40})}),d.jsx(jt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:Z=>Z.stopPropagation(),children:d.jsxs("div",{className:"p-6",children:[d.jsxs("h2",{className:"text-xl font-bold mb-4",children:["Manage Permissions for ",R?.name]}),d.jsxs("form",{onSubmit:ot,children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Permissions"}),d.jsx("button",{type:"button",onClick:()=>{ee(Z=>({...Z,permissions:e.map($e=>$e.name)}))},className:"mb-2 text-xs bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded",children:"Select All"}),d.jsx("button",{type:"button",onClick:()=>{ee(Z=>({...Z,permissions:[]}))},className:"mb-2 text-xs bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded ml-2",children:"Clear All"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 max-h-60 overflow-y-auto p-2 border rounded",children:e.map(Z=>d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:`perm-edit-${Z.name}`,checked:ne.permissions.includes(Z.name),onChange:$e=>xe(Z.name,$e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),d.jsxs("label",{htmlFor:`perm-edit-${Z.name}`,className:"ml-2 text-sm text-gray-700",children:[d.jsx("div",{className:"font-medium",children:Z.name.replaceAll("_"," ")}),d.jsx("div",{className:"text-xs text-gray-500",children:Z.description})]})]},Z.name))})]}),d.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[d.jsx("button",{type:"button",onClick:()=>{D(!1),Re()},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:ge,children:ge?d.jsxs(d.Fragment,{children:[d.jsx(xt,{className:"animate-spin",size:18}),d.jsx("span",{children:"Updating..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(N4,{size:18}),d.jsx("span",{children:"Update Permissions"})]})})]})]})]})})]}),k&&d.jsx(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>P(!1),children:d.jsx(jt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:Z=>Z.stopPropagation(),children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:d.jsx(Un,{className:"h-5 w-5 text-red-600"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Admin"}),d.jsx("div",{className:"mt-2",children:d.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this admin? This action cannot be undone."})})]})]}),d.jsxs("div",{className:"mt-5 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>P(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),d.jsx("button",{type:"button",onClick:ae,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})})})]})}function Tle(){const t=Hn();function e(){return Ye.get("https://nexus-consults.com/api/public/api/admin/users",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}const{data:n,isLoading:r,refetch:i,error:s,isError:a}=wn({queryKey:["admins"],queryFn:e,onError:()=>{s.response?.status==401&&(localStorage.removeItem("userToken"),t("/login"))}});function l(){return Ye.get("https://nexus-consults.com/api/public/api/admin/permissions",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}const{data:u,error:f}=wn({queryKey:["permissions"],queryFn:l});return T.useEffect(()=>{a&&(s.response?.status==401&&(localStorage.removeItem("userToken"),t("/login")),s.response?.status==403&&(me.error("You are not authorized to view this page"),t("/home")))},[a]),T.useEffect(()=>{},[u,f]),d.jsxs("div",{className:"p-4",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Admins"}),d.jsx(Nle,{admins:n?.data?.data||[],allPermissions:u?.data?.data?.all_permissions||[],loading:r,refetch:i})]})}function jle({blogs:t,loading:e,refetch:n}){const r=Hn();_s();const[i,s]=T.useState([]),[a,l]=T.useState(!1),[u,f]=T.useState(!1),[p,m]=T.useState({global:"",title:"",category:"",status:"",author:"",created_from:"",created_to:""}),[y,v]=T.useState(1),[b]=T.useState(10),[S,C]=T.useState(null),[N,O]=T.useState(null),[D,R]=T.useState(!1),[E,k]=T.useState(!1),[P,F]=T.useState(!1),[G,ge]=T.useState(null),[oe,ne]=T.useState(!1),[ee,Ee]=T.useState([]),[Oe,K]=T.useState([]),[re,ue]=T.useState(!1),[ze,q]=T.useState(!1),[ae,pe]=T.useState(!1),[xe,Re]=T.useState(null),[_e,he]=T.useState({question:"",answer:"",order:""}),[Be,Le]=T.useState(null),[ot,ut]=T.useState(!1),[Bt,dt]=T.useState(null),[_t,st]=T.useState(null),Z="blogDrafts",[$e,Ue]=T.useState([]),[Qe,Nt]=T.useState(null),[_,W]=T.useState({title:"",slug:"",category:"news",is_active:!0,mark_as_hero:!1,content:"",cover_photo:null,tags:[],headings:[]}),[I,ce]=T.useState({id:null,title:"",slug:"",category:"news",is_active:!0,mark_as_hero:!1,content:"",cover_photo:null,existing_cover_photo:null,tags:[],headings:[]}),{data:ye,refetch:$}=wn({queryKey:["blogFaqs",xe],queryFn:()=>xe?Ye.get(`https://nexus-consults.com/api/public/api/admin/blogs/${xe}/manage/faq`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}).then(j=>j.data.data):Promise.resolve([]),enabled:!!xe}),U=ji({mutationFn:j=>Ye.post(`https://nexus-consults.com/api/public/api/admin/blogs/${xe}/manage/faq`,j,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),onSuccess:()=>{me.success("FAQ added successfully"),$(),he({question:"",answer:"",order:""})},onError:j=>{me.error(j.response?.data?.message||"Failed to add FAQ"),j.response?.status===401&&(localStorage.removeItem("userToken"),r("/login")),j.response?.status===403&&me.error("You are not authorized to perform this action")}}),be=ji({mutationFn:j=>Ye.put(`https://nexus-consults.com/api/public/api/admin/blogs/${xe}/manage/faq/${Be}`,j,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),onSuccess:()=>{me.success("FAQ updated successfully"),$(),Le(null),he({question:"",answer:"",order:""})},onError:j=>{me.error(j.response?.data?.message||"Failed to update FAQ"),j.response?.status===401&&(localStorage.removeItem("userToken"),r("/login")),j.response?.status===403&&me.error("You are not authorized to perform this action")}}),We=ji({mutationFn:j=>Ye.delete(`https://nexus-consults.com/api/public/api/admin/blogs/${xe}/manage/faq/${j}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),onSuccess:()=>{me.success("FAQ deleted successfully"),$()},onError:j=>{me.error(j.response?.data?.message||"Failed to delete FAQ"),j.response?.status===401&&(localStorage.removeItem("userToken"),r("/login")),j.response?.status===403&&me.error("You are not authorized to perform this action")}}),ht=j=>{Ee(j),W(L=>({...L,headings:j}))},Qt="blogDrafts_beforeunload_fallback",Lt=async()=>{try{const j=await Ko.getItem(Z),L=Array.isArray(j)?j:[];Ue(L);const B=localStorage.getItem(Qt);if(B){try{const J=JSON.parse(B);J&&typeof J=="object"&&sn(J)}catch{}localStorage.removeItem(Qt)}}catch{}},ln=async j=>{try{await Ko.setItem(Z,j)}catch(L){console.error("Persist drafts failed",L),me.error("Could not save drafts locally")}},sn=async j=>{Ue(L=>{const B=L.findIndex(te=>te.id===j.id);let J=[...L];const le=new Date().toISOString();if(B>=0)J[B]={...L[B],...j,updatedAt:le};else{const te=j.slug?L.findIndex(ke=>ke.slug===j.slug&&ke.slug):-1;te>=0?J[te]={...L[te],...j,id:L[te].id,updatedAt:le}:J.push({...j,updatedAt:le})}return J.length>20&&(J=J.slice().sort((te,ke)=>new Date(ke.updatedAt)-new Date(te.updatedAt)).slice(0,20)),ln(J),J})},Se=async j=>{Ue(L=>{const B=L.filter(J=>J.id!==j);return ln(B),B}),Qe===j&&Nt(null)},it=async j=>{j&&Ue(L=>{const B=L.filter(J=>J.slug!==j);return ln(B),B})};T.useEffect(()=>{Lt()},[]);const ft=()=>{if(!(_.title&&_.title.trim()!==""||_.content&&_.content.trim()!==""))return null;let L=Qe;if(!L&&_.slug){const B=$e.find(J=>J.slug===_.slug);B&&(L=B.id)}return{id:L||`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,title:_.title,slug:_.slug,category:_.category,is_active:_.is_active,mark_as_hero:_.mark_as_hero,content:_.content,cover_photo_meta:_.cover_photo?{name:_.cover_photo.name,type:_.cover_photo.type,size:_.cover_photo.size}:null,tags:_.tags,headings:_.headings}},de=()=>{const j=ft();j&&(Nt(j.id),sn(j),me.success("Draft saved locally"))},lt=j=>{W({title:j.title||"",slug:j.slug||"",category:j.category||"news",is_active:j.is_active??!0,mark_as_hero:j.mark_as_hero??!1,content:j.content||"",cover_photo:null,tags:j.tags||[],headings:j.headings||[]}),Ee(j.headings||[]),ue(!0),Nt(j.id),R(!0),me("Draft loaded")},Ot=T.useRef(null);T.useEffect(()=>{if(D){Ot.current=setInterval(()=>{const L=ft();L&&(Nt(B=>B||L.id),sn(L))},5e3);const j=()=>{const L=ft();if(L){sn(L);try{localStorage.setItem(Qt,JSON.stringify(L))}catch{}}};return window.addEventListener("beforeunload",j),()=>{Ot.current&&clearInterval(Ot.current),window.removeEventListener("beforeunload",j)}}else Ot.current&&clearInterval(Ot.current)},[D,_]);const tt=j=>{K(j),ce(L=>({...L,headings:j}))},Te=j=>j.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),rt=(j,L)=>{m(B=>({...B,[j]:L})),v(1)},{data:wt,isLoading:St}=wn({queryKey:["currentUser"],queryFn:()=>Ye.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")} `}})}),Tt=async(j,L)=>{O(j);try{await Ye.patch(`https://nexus-consults.com/api/public/api/admin/blogs/${j}/toggle-active`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),me.success(`Blog ${L?"deactivated":"activated"} successfully`,{duration:2e3}),n()}catch(B){me.error(B.response?.data?.message||"An unexpected error occurred",{duration:3e3}),B.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),B.response?.status==403&&(me.error("You are not authorized to view this page"),r("/home"))}finally{O(null)}},Zt=j=>{ge(j),F(!0)},Tn=async()=>{if(G){C(G),F(!1);try{await Ye.delete(`https://nexus-consults.com/api/public/api/admin/blogs/${G}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),me.success("Blog deleted successfully",{duration:2e3}),n()}catch(j){me.error(j.response?.data?.message||"An unexpected error occurred",{duration:3e3}),j.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),j.response?.status==403&&(me.error("You are not authorized to view this page"),r("/home"))}finally{C(null),ge(null)}}},Q=j=>{const{name:L,value:B,type:J,checked:le,files:te}=j.target;if(W(J==="file"?ke=>({...ke,[L]:te[0]}):ke=>({...ke,[L]:J==="checkbox"?le:B})),L==="title"&&!re){const ke=Te(B);W(qe=>({...qe,slug:ke}))}},fe=j=>{const{value:L}=j.target;W(B=>({...B,slug:L})),ue(!0)},Ce=()=>{const j=Te(_.title);W(L=>({...L,slug:j})),ue(!1)},Pe=j=>{const{name:L,value:B,type:J,checked:le,files:te}=j.target;if(ce(J==="file"?ke=>({...ke,[L]:te[0]}):ke=>({...ke,[L]:J==="checkbox"?le:B})),L==="title"&&!ze){const ke=Te(B);ce(qe=>({...qe,slug:ke}))}},Ge=j=>{const{value:L}=j.target;ce(B=>({...B,slug:L})),q(!0)},gt=()=>{const j=Te(I.title);ce(L=>({...L,slug:j})),q(!1)},Ct=j=>{W(L=>({...L,tags:j.value}))},nt=j=>{ce(L=>({...L,tags:j.value}))},pt=()=>{W({title:"",slug:"",category:"news",is_active:!0,mark_as_hero:!0,content:"",cover_photo:null,tags:[],headings:[]}),Ee([]),ue(!1)},mt=j=>{ce({id:j.id,title:j.title,slug:j.slug,category:j.category,is_active:j.is_active,mark_as_hero:j.mark_as_hero,content:j.content,cover_photo:null,existing_cover_photo:j.cover_photo,tags:j.tags||[],headings:j.headings||[]}),K(j.headings||[]),q(!0),k(!0)},Mt=async j=>{j.preventDefault(),ne(!0);try{const L=new FormData;L.append("title",_.title),L.append("slug",_.slug),L.append("category",_.category),L.append("is_active",_.is_active?1:0),L.append("mark_as_hero",_.mark_as_hero?1:0),L.append("content",_.content),L.append("headings",JSON.stringify(_.headings)),_.tags.forEach(B=>{L.append("tags[]",B)}),_.cover_photo&&L.append("cover_photo",_.cover_photo),await Ye.post("https://nexus-consults.com/api/public/api/admin/blogs",L,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}}),ne(!1),me.success("Blog added successfully",{duration:2e3}),R(!1),pt(),n(),it(_.slug),Nt(null)}catch(L){ne(!1),me.error(L.response?.data?.message||"An unexpected error occurred",{duration:3e3}),L.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),L.response?.status==403&&(me.error("You are not authorized to view this page"),r("/home"))}},Y=async j=>{j.preventDefault(),Xe.current&&clearInterval(Xe.current),ne(!0);try{const L=new FormData;L.append("title",I.title),L.append("slug",I.slug),L.append("category",I.category),L.append("is_active",I.is_active?1:0),L.append("mark_as_hero",I.mark_as_hero?1:0),L.append("content",I.content),L.append("headings",JSON.stringify(I.headings)),I.tags.forEach(B=>{L.append("tags[]",B)}),L.append("_method","put"),I.cover_photo&&L.append("cover_photo",I.cover_photo),await Ye.post(`https://nexus-consults.com/api/public/api/admin/blogs/${I.id}`,L,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}}),ne(!1),me.success("Blog updated successfully",{duration:2e3}),k(!1),n()}catch(L){ne(!1),me.error(L.response?.data?.message||"An unexpected error occurred",{duration:3e3}),L.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),L.response?.status==403&&(me.error("You are not authorized to view this page"),r("/home"))}},Me=async()=>{if(!(oe||!I.title||!I.content)){ne(!0);try{const j=new FormData;j.append("title",I.title),j.append("slug",I.slug),j.append("category",I.category),j.append("is_active",I.is_active?1:0),j.append("mark_as_hero",I.mark_as_hero?1:0),j.append("content",I.content),j.append("headings",JSON.stringify(I.headings)),I.tags.forEach(L=>{j.append("tags[]",L)}),j.append("_method","POST"),I.cover_photo&&j.append("cover_photo",I.cover_photo),await Ye.post(`https://nexus-consults.com/api/public/api/admin/blogs/${I.id}`,j,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}}),me.success("Auto-saved successfully",{duration:2e3,icon:""})}catch(j){console.error("Auto-save failed:",j)}finally{ne(!1)}}},Xe=T.useRef(null);T.useEffect(()=>(E?Xe.current=setInterval(()=>{Me()},3e4):Xe.current&&clearInterval(Xe.current),()=>{Xe.current&&clearInterval(Xe.current)}),[E,I]);const vt=j=>{const{name:L,value:B}=j.target;he(J=>({...J,[L]:B}))},qt=j=>{j.preventDefault(),Be?be.mutate(_e):U.mutate(_e)},Dt=j=>{Le(j.id),he({question:j.question,answer:j.answer,order:j.order})},zt=()=>{Le(null),he({question:"",answer:"",order:""})},Xn=j=>{dt(j),ut(!0)},An=()=>{Bt&&(We.mutate(Bt),ut(!1),dt(null))},Sn=t?.filter(j=>{const L=p.global===""||j.title.toLowerCase().includes(p.global.toLowerCase())||j.category.toLowerCase().includes(p.global.toLowerCase())||(j.author?.name?j.author.name.toLowerCase().includes(p.global.toLowerCase()):!1),B=p.title===""||j.title.toLowerCase().includes(p.title.toLowerCase()),J=p.category===""||j.category.includes(p.category.toLowerCase()),le=p.status===""||(p.status==="active"?j.is_active:!j.is_active),te=p.author===""||(j.author?.name?j.author.name.toLowerCase().includes(p.author.toLowerCase()):!1);let ke=!0;if(j.created_at){const qe=new Date(j.created_at);if(p.created_from){const Ke=new Date(`${p.created_from}T00:00:00`);qe<Ke&&(ke=!1)}if(ke&&p.created_to){const Ke=new Date(`${p.created_to}T23:59:59.999`);qe>Ke&&(ke=!1)}}return L&&B&&J&&le&&te&&ke})||[],Fn=Math.ceil(Sn.length/b),jr=Sn.slice((y-1)*b,y*b),A=j=>{const L={news:"bg-blue-100 text-blue-800",trending:"bg-pink-100 text-pink-800"};return d.jsx("span",{className:`${L[j]||"bg-gray-100 text-gray-800"} text-xs font-medium px-2.5 py-1 rounded capitalize`,children:j})},H=j=>{const L=j?"bg-[#009379] text-white":"bg-[#930002] text-white";return d.jsx("span",{className:`flex justify-center w-fit items-center px-2.5 py-1 rounded-md text-xs font-medium ${L} min-w-16 text-center`,children:j?"Active":"Inactive"})},V=()=>Fn<=1?null:d.jsxs("div",{className:"flex justify-between items-center mt-4 px-4 pb-1",children:[d.jsxs("div",{className:"text-xs",children:["Showing ",(y-1)*b+1,"-",Math.min(y*b,Sn.length)," of ",Sn.length," entries"]}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{onClick:()=>v(1),disabled:y===1,className:"p-1 disabled:opacity-50",children:d.jsx(Jo,{className:"h-4 w-4"})}),d.jsxs("span",{className:"px-3 py-1",children:["Page ",y," of ",Fn]}),d.jsx("button",{onClick:()=>v(j=>Math.min(Fn,j+1)),disabled:y===Fn,className:"p-1 disabled:opacity-50",children:d.jsx(Zo,{className:"h-4 w-4"})})]})]}),ie=({blog:j,onClose:L})=>j?d.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:d.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[d.jsx("div",{className:"fixed inset-0 transition-opacity",onClick:L,children:d.jsx("div",{className:"absolute inset-0 bg-black opacity-75"})}),d.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-5xl m-auto sm:w-full max-h-[90vh] flex flex-col",children:[d.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4 flex-grow overflow-y-auto",children:[d.jsxs("div",{className:"sm:flex sm:items-start justify-between",children:[d.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Blog Preview"}),d.jsx("button",{onClick:L,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:d.jsx(rQ,{className:"h-6 w-6"})})]}),d.jsxs("div",{className:"content-container",children:[d.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 mb-12",children:[d.jsxs("div",{className:"lg:w-1/2 font-bold",children:[d.jsx("span",{className:"text-blue-600 capitalize",children:j.category}),d.jsx("h1",{className:"lg:text-[54px] text-3xl font-extrabold lg:leading-[67px]",children:j.title}),d.jsxs("div",{className:"mt-5",children:[d.jsx("p",{children:"By Admin"}),d.jsxs("div",{className:"flex gap-2 items-center text-sm font-medium mt-3",children:[d.jsx("p",{children:"5 minutes read"}),d.jsx("div",{className:"h-full w-[1px] bg-gray-400"}),d.jsxs("p",{children:["Published ",new Date(j.created_at).toLocaleDateString()]})]})]})]}),d.jsx("div",{className:"lg:w-1/2",children:j.cover_photo&&d.jsx("div",{className:"flex justify-center",children:d.jsx("img",{src:j.cover_photo,alt:"cover photo",className:"w-full max-h-[500px] object-contain rounded-lg"})})})]}),d.jsx("div",{className:"content",dangerouslySetInnerHTML:{__html:j.content}}),j.tags&&j.tags.length>0&&d.jsx("div",{className:"flex flex-wrap gap-3 mt-8",children:j.tags.map((B,J)=>d.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-800 text-sm rounded-full",children:B},J))})]})]}),d.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:d.jsx("button",{type:"button",onClick:L,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",children:"Close Preview"})})]})]})}):null,Je=(j,L)=>{s(L?B=>[...B,j]:B=>B.filter(J=>J!==j))},yt=j=>{j?(s(Sn.map(L=>L.id)),l(!0)):(s([]),l(!1))},[bt,Gt]=T.useState(!1),Dn=async()=>{i.length&&Gt(!0)},en=async()=>{Gt(!1);try{f(!0),await Ye.post("https://nexus-consults.com/api/public/api/admin/blogs/bulk/delete",{ids:i},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),me.success(`${i.length} blog(s) deleted successfully`),s([]),l(!1),n()}catch(j){console.error("Error deleting blogs:",j),me.error(j.response?.data?.message||"Failed to delete blogs")}finally{f(!1)}},zr=async j=>{if(i.length)try{f(!0),await Ye.post("https://nexus-consults.com/api/public/api/admin/blogs/bulk/update-status",{ids:i,status:j},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),me.success(`Status updated for ${i.length} blog(s)`),s([]),l(!1),n()}catch(L){console.error("Error updating blog status:",L),me.error(L.response?.data?.message||"Failed to update blog status")}finally{f(!1)}};return d.jsxs("div",{className:"shadow-2xl rounded-2xl overflow-hidden bg-white",children:[d.jsxs("div",{className:"p-4 border-b flex justify-between items-center gap-4",children:[d.jsx("input",{type:"text",value:p.global,onChange:j=>rt("global",j.target.value),placeholder:"Search blogs...",className:"px-3 py-2 rounded-xl shadow-sm focus:outline-2 focus:outline-primary w-full border border-primary transition-all"}),d.jsxs("button",{onClick:()=>R(!0),className:"bg-primary hover:bg-darkBlue transition-all text-white px-3 py-2 rounded-xl shadow-sm min-w-max flex items-center gap-2",children:[d.jsx(ei,{size:18}),d.jsx("span",{children:"Add Blog"})]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:a&&Sn.length>0,onChange:j=>yt(j.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),d.jsx("span",{className:"ml-2",children:"Title"})]})}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsx("input",{type:"text",value:p.author,onChange:j=>rt("author",j.target.value),placeholder:"Author",className:"text-xs p-1 border rounded w-full"})}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cover Photo"}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsxs("select",{value:p.category,onChange:j=>rt("category",j.target.value),className:"text-xs p-1 border rounded w-full",children:[d.jsx("option",{value:"",children:"All Categories"}),d.jsx("option",{value:"news",children:"News"}),d.jsx("option",{value:"trending",children:"Trending"})]})}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsxs("select",{value:p.status,onChange:j=>rt("status",j.target.value),className:"text-xs p-1 border rounded w-full",children:[d.jsx("option",{value:"",children:"All Statuses"}),d.jsx("option",{value:"active",children:"Active"}),d.jsx("option",{value:"inactive",children:"Inactive"})]})}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsx(Rh,{initialRange:{startDate:p.created_from?new Date(`${p.created_from}T00:00:00`):null,endDate:p.created_to?new Date(`${p.created_to}T00:00:00`):null},onDateChange:({startDate:j,endDate:L})=>{const B=J=>{if(!(J instanceof Date)||isNaN(J))return"";const le=J.getFullYear(),te=String(J.getMonth()+1).padStart(2,"0"),ke=String(J.getDate()).padStart(2,"0");return`${le}-${te}-${ke}`};rt("created_from",j?B(j):""),rt("created_to",L?B(L):"")}})}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:e?d.jsx("tr",{children:d.jsx("td",{colSpan:"8",className:"px-3 py-4 text-center",children:d.jsxs("div",{className:"flex justify-center items-center gap-2",children:[d.jsx(xt,{className:"animate-spin",size:18}),"Loading blogs..."]})})}):jr.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:"8",className:"px-3 py-4 text-center",children:"No blogs found"})}):jr.map(j=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:i.includes(j.id),onChange:L=>Je(j.id,L.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),d.jsx("span",{className:"ml-2 text-sm font-medium text-gray-900",children:j.title})]})}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:j.author?.name||"-"}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:j.cover_photo&&d.jsx("img",{src:j.cover_photo,alt:"Cover",className:"h-10 w-10 object-cover rounded"})}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:A(j.category)}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:H(j.is_active)}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:j.created_at?new Date(j.created_at).toLocaleDateString():"-"}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center gap-2",children:[wt?.data?.data?.admin?.permissions?.includes("edit_blogs")&&d.jsx("button",{className:"text-blue-500 hover:text-blue-700 p-1",onClick:()=>mt(j),children:d.jsx(As,{size:18})}),wt?.data?.data?.admin?.permissions?.includes("edit_blogs")&&d.jsx("button",{className:`${j.is_active?"text-green-500 hover:text-green-700":"text-red-500 hover:text-red-700"} p-1`,onClick:()=>Tt(j.id,j.is_active),disabled:N===j.id,children:N===j.id?d.jsx(xt,{className:"animate-spin",size:18}):j.is_active?d.jsx(Zr,{}):d.jsx(Kt,{})}),wt?.data?.data?.admin?.permissions?.includes("delete_blogs")&&d.jsx("button",{className:"text-red-500 hover:text-red-700 p-1",onClick:()=>Zt(j.id),disabled:S===j.id,title:"Delete",children:S===j.id?d.jsx(xt,{className:"animate-spin",size:18}):d.jsx(Un,{size:18})}),d.jsx("button",{className:"text-green-500 hover:text-green-700 p-1",onClick:()=>st(j),title:"Preview Blog",children:d.jsx(wu,{size:18})})]})})]},j.id))})]})}),bt&&d.jsx(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:d.jsxs(jt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:"bg-white rounded-lg p-6 max-w-md w-full",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Deletion"}),d.jsx("button",{onClick:()=>Gt(!1),className:"text-gray-500 hover:text-gray-700",children:d.jsx(Kt,{})})]}),d.jsxs("p",{className:"text-gray-700 mb-6",children:["Are you sure you want to delete ",i.length," selected blog(s)? This action cannot be undone."]}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx("button",{onClick:()=>Gt(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:u,children:"Cancel"}),d.jsx("button",{onClick:en,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 flex items-center",disabled:u,children:u?d.jsxs(d.Fragment,{children:[d.jsx(xt,{className:"animate-spin mr-2"}),"Deleting..."]}):"Delete"})]})]})}),i.length>0&&d.jsx("div",{className:"bg-blue-50 p-4 rounded-md mb-6 border border-blue-200",children:d.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[d.jsxs("div",{className:"text-blue-800 font-medium",children:[i.length," blog(s) selected"]}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsxs("button",{onClick:()=>zr(!0),disabled:u,className:"flex items-center px-3 py-1.5 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 text-sm",children:[d.jsx(Zr,{className:"mr-1.5"}),"Activate"]}),d.jsxs("button",{onClick:()=>zr(!1),disabled:u,className:"flex items-center px-3 py-1.5 bg-yellow-600 text-white rounded hover:bg-yellow-700 disabled:opacity-50 text-sm",children:[d.jsx(Kt,{className:"mr-1.5"}),"Deactivate"]}),d.jsxs("button",{onClick:Dn,disabled:u,className:"flex items-center px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 text-sm",children:[d.jsx(Un,{className:"mr-1.5"}),"Delete"]}),d.jsxs("button",{onClick:()=>{s([]),l(!1)},className:"flex items-center px-3 py-1.5 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 text-sm",children:[d.jsx(Kt,{className:"mr-1.5"}),"Clear Selection"]}),u&&d.jsxs("div",{className:"flex items-center",children:[d.jsx(xt,{className:"animate-spin mr-1.5"}),"Loading..."]})]})]})}),!e&&V(),d.jsxs("div",{className:"p-4 border-t",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h2",{className:"text-lg font-semibold",children:"Drafts"}),d.jsx("div",{className:"text-xs text-gray-500",children:"Drafts are stored locally in your browser"})]}),$e.length===0?d.jsx("div",{className:"text-sm text-gray-500",children:"No drafts yet"}):d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full divide-y divide-gray-200 text-sm",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-2 text-left",children:"Title"}),d.jsx("th",{className:"px-4 py-2 text-left",children:"Category"}),d.jsx("th",{className:"px-4 py-2 text-left",children:"Updated"}),d.jsx("th",{className:"px-4 py-2 text-left",children:"Note"}),d.jsx("th",{className:"px-4 py-2 text-left",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200",children:$e.slice().sort((j,L)=>new Date(L.updatedAt)-new Date(j.updatedAt)).map(j=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-4 py-2",children:j.title||d.jsx("span",{className:"italic text-gray-400",children:"Untitled"})}),d.jsx("td",{className:"px-4 py-2 capitalize",children:j.category||"-"}),d.jsx("td",{className:"px-4 py-2",children:new Date(j.updatedAt).toLocaleString()}),d.jsx("td",{className:"px-4 py-2 text-xs text-gray-500",children:j.cover_photo_meta?`Attachment: ${j.cover_photo_meta.name} (re-attach required)`:"No attachment"}),d.jsx("td",{className:"px-4 py-2",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-1",onClick:()=>lt(j),children:[d.jsx(Oy,{})," Resume"]}),d.jsx("button",{className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",onClick:()=>Se(j.id),children:"Delete"})]})})]},j.id))})]})})]}),D&&d.jsxs(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 ",children:[d.jsx("button",{onClick:()=>{R(!1);const j=ft();j&&sn(j)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:d.jsx(ui,{className:"",size:40})}),d.jsxs(jt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-5/6  h-[90vh] overflow-y-auto",onClick:j=>j.stopPropagation(),children:[d.jsx("div",{className:""}),d.jsxs("div",{className:"p-6",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New Blog"}),d.jsxs("form",{onSubmit:Mt,children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title*"}),d.jsx("input",{type:"text",name:"title",value:_.title,onChange:Q,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category*"}),d.jsxs("select",{name:"category",value:_.category,onChange:Q,className:"w-full px-3 py-2 border rounded-md",required:!0,children:[d.jsx("option",{value:"news",children:"News"}),d.jsx("option",{value:"trending",children:"Trending"})]})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug*"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",name:"slug",value:_.slug,onChange:fe,className:"w-full px-3 py-2 border rounded-md",required:!0}),re&&d.jsx("button",{type:"button",onClick:Ce,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",title:"Reset to auto-generated slug",children:d.jsx(Kt,{})})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:re?"Slug is manually edited. Click the X to reset to auto-generated.":"Slug is auto-generated from title. You can edit it manually."})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cover Photo"}),_.cover_photo?d.jsxs("div",{className:"relative mb-4",children:[d.jsx("img",{src:URL.createObjectURL(_.cover_photo),alt:"Preview",className:"h-48 w-full object-cover rounded-lg"}),d.jsx("button",{type:"button",onClick:()=>W(j=>({...j,cover_photo:null})),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2",children:d.jsx(Kt,{size:16})})]}):d.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[d.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[d.jsx(Uo,{className:"w-8 h-8 mb-3 text-gray-400"}),d.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[d.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),d.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, JPEG (MAX. 5MB)"})]}),d.jsx("input",{id:"cover_photo",name:"cover_photo",type:"file",className:"hidden",onChange:Q,accept:"image/*"})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:_.is_active,onChange:Q,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),d.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700",children:"Active"})]})}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium mb-1",children:"Tags"}),d.jsx(gw,{id:"tags",name:"tags",value:_.tags,onChange:Ct,placeholder:"Enter tags",className:"w-full p-chips dark:bg-dark2",itemTemplate:j=>d.jsx("div",{className:"bg-gray-200 dark:bg-dark1 rounded-full px-3 py-1 text-sm",children:j})})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content*"}),d.jsx(Gs,{content:_.content,onUpdate:j=>W(L=>({...L,content:j})),onHeadingsUpdate:ht})]}),d.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[d.jsxs("div",{className:"text-xs text-gray-500 mt-2 flex items-center",children:[d.jsx(xt,{className:`animate-spin mr-1 ${oe?"opacity-100":"opacity-0"}`,size:12}),"Auto-saves to drafts every 10s"]}),d.jsxs("button",{type:"button",onClick:de,className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[d.jsx(jh,{size:16})," Save as Draft"]}),d.jsx("button",{type:"button",onClick:()=>{const j=ft();j&&sn(j),R(!1),pt()},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:oe,children:oe?d.jsxs(d.Fragment,{children:[d.jsx(xt,{className:"animate-spin",size:18}),d.jsx("span",{children:"Adding..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(ei,{size:18}),d.jsx("span",{children:"Add Blog"})]})})]})]})]})]})]}),E&&d.jsxs(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[d.jsx("button",{onClick:()=>{k(!1)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:d.jsx(ui,{className:"",size:40})}),d.jsx(jt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-5/6 h-[90vh] overflow-y-auto",onClick:j=>j.stopPropagation(),children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center mb-4",children:[d.jsx("button",{type:"button",onClick:()=>k(!1),className:"text-blue-600 hover:text-blue-800 font-medium",children:"Blogs"}),d.jsx("span",{className:"mx-2 text-gray-400",children:">"}),d.jsx("span",{className:"text-xl font-bold text-gray-900",children:I.title||"Untitled Blog"})]}),d.jsxs("form",{onSubmit:Y,children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title*"}),d.jsx("input",{type:"text",name:"title",value:I.title,onChange:Pe,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category*"}),d.jsxs("select",{name:"category",value:I.category,onChange:Pe,className:"w-full px-3 py-2 border rounded-md",required:!0,children:[d.jsx("option",{value:"news",children:"News"}),d.jsx("option",{value:"trending",children:"Trending"})]})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug*"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",name:"slug",value:I.slug,onChange:Ge,className:"w-full px-3 py-2 border rounded-md",required:!0}),ze&&d.jsx("button",{type:"button",onClick:gt,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",title:"Reset to auto-generated slug",children:d.jsx(Kt,{})})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ze?"Slug is manually edited. Click the X to reset to auto-generated.":"Slug is auto-generated from title. You can edit it manually."})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cover Photo"}),I.cover_photo?d.jsxs("div",{className:"relative mb-4",children:[d.jsx("img",{src:URL.createObjectURL(I.cover_photo),alt:"Preview",className:"h-48 w-full object-cover rounded-lg"}),d.jsx("button",{type:"button",onClick:()=>ce(j=>({...j,cover_photo:null})),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2",children:d.jsx(Kt,{size:16})})]}):I.existing_cover_photo?d.jsxs("div",{className:"relative mb-4",children:[d.jsx("img",{src:I.existing_cover_photo,alt:"Current Cover",className:"h-48 w-full object-cover rounded-lg"}),d.jsx("button",{type:"button",onClick:()=>ce(j=>({...j,existing_cover_photo:null})),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2",children:d.jsx(Kt,{size:16})})]}):d.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[d.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[d.jsx(Uo,{className:"w-8 h-8 mb-3 text-gray-400"}),d.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[d.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),d.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, JPEG (MAX. 5MB)"})]}),d.jsx("input",{id:"edit_cover_photo",name:"cover_photo",type:"file",className:"hidden",onChange:Pe,accept:"image/*"})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"edit_is_active",name:"is_active",checked:I.is_active,onChange:Pe,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),d.jsx("label",{htmlFor:"edit_is_active",className:"ml-2 text-sm text-gray-700",children:"Active"})]})}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium mb-1",children:"tags"}),d.jsx(gw,{id:"tags",name:"tags",value:I.tags,onChange:nt,placeholder:"Enter tags",className:"w-full p-chips dark:bg-dark2",itemTemplate:j=>d.jsx("div",{className:"bg-gray-200 dark:bg-dark1 rounded-full px-3 py-1 text-sm",children:j})})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content"}),d.jsx(Gs,{content:I.content,onUpdate:j=>ce(L=>({...L,content:j})),onHeadingsUpdate:tt})]}),d.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[d.jsxs("div",{className:"text-xs text-gray-500 mt-2 flex items-center",children:[d.jsx(xt,{className:`animate-spin mr-1 ${oe?"opacity-100":"opacity-0"}`,size:12}),oe?"Auto-saving...":"Form will auto-save every 30 seconds"]}),d.jsx("button",{type:"button",onClick:()=>{k(!1),n()},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:oe,children:oe?d.jsxs(d.Fragment,{children:[d.jsx(xt,{className:"animate-spin",size:18}),d.jsx("span",{children:"Updating..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(Zr,{size:18}),d.jsx("span",{children:"Update Blog"})]})})]})]})]})})]}),P&&d.jsx(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>F(!1),children:d.jsx(jt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:j=>j.stopPropagation(),children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:d.jsx(Un,{className:"h-5 w-5 text-red-600"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Blog"}),d.jsx("div",{className:"mt-2",children:d.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this blog? This action cannot be undone."})})]})]}),d.jsxs("div",{className:"mt-5 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>F(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),d.jsx("button",{type:"button",onClick:Tn,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})})}),ae&&d.jsx(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>{pe(!1),Re(null),Le(null),he({question:"",answer:"",order:""})},children:d.jsx(jt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",onClick:j=>j.stopPropagation(),children:d.jsxs("div",{className:"p-6",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"Manage FAQs"}),d.jsxs("form",{onSubmit:qt,className:"mb-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question*"}),d.jsx("input",{type:"text",name:"question",value:_e.question,onChange:vt,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order*"}),d.jsx("input",{type:"number",name:"order",value:_e.order,onChange:vt,className:"w-full px-3 py-2 border rounded-md",required:!0})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Answer*"}),d.jsx("textarea",{name:"answer",value:_e.answer,onChange:vt,className:"w-full px-3 py-2 border rounded-md",rows:"3",required:!0})]}),d.jsxs("div",{className:"flex justify-end gap-3",children:[Be&&d.jsx("button",{type:"button",onClick:zt,className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:U.isPending||be.isPending,children:U.isPending||be.isPending?d.jsxs(d.Fragment,{children:[d.jsx(xt,{className:"animate-spin",size:18}),d.jsx("span",{children:Be?"Updating...":"Adding..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(Zr,{size:18}),d.jsx("span",{children:Be?"Update FAQ":"Add FAQ"})]})})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-medium mb-2",children:"Existing FAQs"}),ye?.length===0?d.jsx("p",{className:"text-gray-500",children:"No FAQs found for this blog."}):d.jsx("div",{className:"space-y-4",children:ye?.map(j=>d.jsx("div",{className:"border rounded-lg p-4",children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium",children:j.question}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:j.answer}),d.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Order: ",j.order]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>Dt(j),className:"text-blue-500 hover:text-blue-700 p-1",children:d.jsx(As,{size:16})}),d.jsx("button",{onClick:()=>Xn(j.id),className:"text-red-500 hover:text-red-700 p-1",disabled:We.isPending,children:We.isPending&&We.variables===j.id?d.jsx(xt,{className:"animate-spin",size:16}):d.jsx(Un,{size:16})})]})]})},j.id))})]}),d.jsx("div",{className:"flex justify-end mt-6",children:d.jsx("button",{type:"button",onClick:()=>{pe(!1),Re(null),Le(null),he({question:"",answer:"",order:""})},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Close"})})]})})}),ot&&d.jsx(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>ut(!1),children:d.jsx(jt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:j=>j.stopPropagation(),children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:d.jsx(Un,{className:"h-5 w-5 text-red-600"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete FAQ"}),d.jsx("div",{className:"mt-2",children:d.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this FAQ? This action cannot be undone."})})]})]}),d.jsxs("div",{className:"mt-5 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>ut(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),d.jsx("button",{type:"button",onClick:An,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",disabled:We.isPending,children:We.isPending?d.jsxs(d.Fragment,{children:[d.jsx(xt,{className:"animate-spin mr-2"}),"Deleting..."]}):"Delete"})]})]})})}),d.jsx(uW,{children:_t&&d.jsx(ie,{blog:_t,onClose:()=>st(null)})})]})}function Ele(){const t=Hn();function e(){return Ye.get("https://nexus-consults.com/api/public/api/admin/blogs",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}const{data:n,isLoading:r,refetch:i,isError:s,error:a}=wn({queryKey:["blogs"],queryFn:e});return T.useEffect(()=>{s&&(a.response?.status==401&&(localStorage.removeItem("userToken"),t("/login")),a.response?.status==403&&(me.error("You are not authorized to view this page"),t("/home")))},[s]),d.jsxs("div",{className:"p-4",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Blogs"}),d.jsx(jle,{blogs:n?.data?.data||[],loading:r,refetch:i})]})}function Ale({jobs:t,loading:e,refetch:n}){const r=Hn(),i=_s(),[s,a]=T.useState([]),[l,u]=T.useState(!1),[f,p]=T.useState(!1),[m,y]=T.useState({global:"",title:"",location:"",type:"",status:"",author:"",created_from:"",created_to:""}),[v,b]=T.useState(1),[S]=T.useState(10),[C,N]=T.useState(null),[O,D]=T.useState(null),[R,E]=T.useState(!1),[k,P]=T.useState(!1),[F,G]=T.useState(!1),[ge,oe]=T.useState(null),[ne,ee]=T.useState(!1),[Ee,Oe]=T.useState(!1),[K,re]=T.useState(!1),[ue,ze]=T.useState(null),q="jobDrafts",[ae,pe]=T.useState([]),[xe,Re]=T.useState(null),[_e,he]=T.useState({title:"",slug:"",location:"",type:"full-time",key_responsibilities:"",preferred_qualifications:"",is_active:!0}),[Be,Le]=T.useState({id:null,title:"",slug:"",location:"",type:"full-time",key_responsibilities:"",preferred_qualifications:"",is_active:!0}),ot=[{value:"full-time",label:"Full Time"},{value:"part-time",label:"Part Time"},{value:"contract",label:"Contract"},{value:"freelance",label:"Freelance"},{value:"internship",label:"Internship"}],{data:ut,isLoading:Bt}=wn({queryKey:["currentUser"],queryFn:()=>Ye.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}),{data:dt,isLoading:_t,refetch:st}=wn({queryKey:["job",ue],queryFn:()=>ue?Ye.get(`https://nexus-consults.com/api/public/api/admin/jobs/${ue}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}).then(Y=>Y.data.data):Promise.resolve(null),enabled:!!ue,staleTime:5*60*1e3}),Z="jobDrafts_beforeunload_fallback",$e=async()=>{try{const Y=await Ko.getItem(q),Me=Array.isArray(Y)?Y:[];pe(Me);const Xe=localStorage.getItem(Z);if(Xe){try{const vt=JSON.parse(Xe);vt&&typeof vt=="object"&&Qe(vt)}catch{}localStorage.removeItem(Z)}}catch{}},Ue=async Y=>{try{await Ko.setItem(q,Y)}catch(Me){console.error("Persist drafts failed",Me),me.error("Could not save drafts locally")}},Qe=async Y=>{pe(Me=>{const Xe=Me.findIndex(Dt=>Dt.id===Y.id);let vt=[...Me];const qt=new Date().toISOString();if(Xe>=0)vt[Xe]={...Me[Xe],...Y,updatedAt:qt};else{const Dt=Y.slug?Me.findIndex(zt=>zt.slug===Y.slug&&zt.slug):-1;Dt>=0?vt[Dt]={...Me[Dt],...Y,id:Me[Dt].id,updatedAt:qt}:vt.push({...Y,updatedAt:qt})}return vt.length>20&&(vt=vt.slice().sort((Dt,zt)=>new Date(zt.updatedAt)-new Date(Dt.updatedAt)).slice(0,20)),Ue(vt),vt})},Nt=async Y=>{pe(Me=>{const Xe=Me.filter(vt=>vt.id!==Y);return Ue(Xe),Xe}),xe===Y&&Re(null)},_=async Y=>{Y&&pe(Me=>{const Xe=Me.filter(vt=>vt.slug!==Y);return Ue(Xe),Xe})};T.useEffect(()=>{$e()},[]);const W=()=>{if(!(_e.title&&_e.title.trim()!==""||_e.key_responsibilities&&_e.key_responsibilities.trim()!==""||_e.preferred_qualifications&&_e.preferred_qualifications.trim()!==""))return null;let Me=xe;if(!Me&&_e.slug){const Xe=ae.find(vt=>vt.slug===_e.slug);Xe&&(Me=Xe.id)}return{id:Me||`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,title:_e.title,slug:_e.slug,location:_e.location,type:_e.type,key_responsibilities:_e.key_responsibilities,preferred_qualifications:_e.preferred_qualifications,is_active:_e.is_active}},I=()=>{const Y=W();Y&&(Re(Y.id),Qe(Y),me.success("Draft saved locally"))},ce=Y=>{he({title:Y.title||"",slug:Y.slug||"",location:Y.location||"",type:Y.type||"full-time",key_responsibilities:Y.key_responsibilities||"",preferred_qualifications:Y.preferred_qualifications||"",is_active:Y.is_active??!0}),Oe(!0),E(!0),me("Draft loaded")},ye=T.useRef(null),$=T.useRef("");T.useEffect(()=>{if(R){ye.current=setInterval(()=>{const Me=W();if(Me){const Xe=JSON.stringify({title:Me.title,location:Me.location,type:Me.type,key_responsibilities:Me.key_responsibilities,preferred_qualifications:Me.preferred_qualifications});Xe!==$.current&&(Re(vt=>vt||Me.id),Qe(Me),$.current=Xe)}},5e3);const Y=()=>{const Me=W();if(Me){Qe(Me);try{localStorage.setItem(Z,JSON.stringify(Me))}catch{}}};return window.addEventListener("beforeunload",Y),()=>{ye.current&&clearInterval(ye.current),window.removeEventListener("beforeunload",Y)}}else ye.current&&clearInterval(ye.current),$.current=""},[R]);const U=Y=>Y.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),be=(Y,Me)=>{y(Xe=>({...Xe,[Y]:Me})),b(1)},We=async(Y,Me)=>{D(Y);try{await Ye.patch(`https://nexus-consults.com/api/public/api/admin/jobs/${Y}/toggle-active`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),me.success(`Job ${Me?"deactivated":"activated"} successfully`,{duration:2e3}),n()}catch(Xe){me.error(Xe.response?.data?.message||"An unexpected error occurred",{duration:3e3}),Xe.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),Xe.response?.status==403&&(me.error("You are not authorized to view this page"),r("/home"))}finally{D(null)}},ht=Y=>{oe(Y),G(!0)},Qt=async()=>{if(ge){N(ge),G(!1);try{await Ye.delete(`https://nexus-consults.com/api/public/api/admin/jobs/${ge}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),me.success("Job deleted successfully",{duration:2e3}),n()}catch(Y){me.error(Y.response?.data?.message||"An unexpected error occurred",{duration:3e3}),Y.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),Y.response?.status==403&&(me.error("You are not authorized to view this page"),r("/home"))}finally{N(null),oe(null)}}},Lt=Y=>{const{name:Me,value:Xe,type:vt,checked:qt}=Y.target;if(he(Dt=>({...Dt,[Me]:vt==="checkbox"?qt:Xe})),Me==="title"&&!Ee){const Dt=U(Xe);he(zt=>({...zt,slug:Dt}))}},ln=Y=>{const{value:Me}=Y.target;he(Xe=>({...Xe,slug:Me})),Oe(!0)},sn=()=>{const Y=U(_e.title);he(Me=>({...Me,slug:Y})),Oe(!1)},Se=Y=>{const{name:Me,value:Xe,type:vt,checked:qt}=Y.target;if(Le(Dt=>({...Dt,[Me]:vt==="checkbox"?qt:Xe})),Me==="title"&&!K){const Dt=U(Xe);Le(zt=>({...zt,slug:Dt}))}},it=Y=>{const{value:Me}=Y.target;Le(Xe=>({...Xe,slug:Me})),re(!0)},ft=()=>{const Y=U(Be.title);Le(Me=>({...Me,slug:Y})),re(!1)},de=Y=>{he(Me=>({...Me,key_responsibilities:Y}))},lt=Y=>{he(Me=>({...Me,preferred_qualifications:Y}))},Ot=Y=>{Le(Me=>({...Me,key_responsibilities:Y}))},tt=Y=>{Le(Me=>({...Me,preferred_qualifications:Y}))},Te=()=>{he({title:"",slug:"",location:"",type:"full-time",key_responsibilities:"",preferred_qualifications:"",is_active:!0}),Oe(!1)},rt=Y=>{ze(Y.id)};T.useEffect(()=>{dt&&ue&&(Le({id:dt.id,title:dt.title,slug:dt.slug,location:dt.location,type:dt.type,key_responsibilities:dt.key_responsibilities,preferred_qualifications:dt.preferred_qualifications,is_active:dt.is_active}),re(!0),P(!0))},[dt,ue]);const wt=async Y=>{Y.preventDefault(),ee(!0);try{await Ye.post("https://nexus-consults.com/api/public/api/admin/jobs",_e,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"application/json"}}),ee(!1),me.success("Job added successfully",{duration:2e3}),E(!1),Te(),n(),_(_e.slug),Re(null)}catch(Me){ee(!1),me.error(Me.response?.data?.message||"An unexpected error occurred",{duration:3e3}),Me.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),Me.response?.status==403&&(me.error("You are not authorized to view this page"),r("/home"))}},St=async Y=>{Y.preventDefault(),ee(!0);try{await Ye.post(`https://nexus-consults.com/api/public/api/admin/jobs/${Be.id}`,Be,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"application/json"}}),ee(!1),me.success("Job updated successfully",{duration:2e3}),P(!1),ze(null),n(),i.invalidateQueries(["job",Be.id])}catch(Me){ee(!1),me.error(Me.response?.data?.message||"An unexpected error occurred",{duration:3e3}),Me.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),Me.response?.status==403&&(me.error("You are not authorized to view this page"),r("/home"))}},Tt=t?.filter(Y=>{const Me=m.global===""||Y.title.toLowerCase().includes(m.global.toLowerCase())||Y.location.toLowerCase().includes(m.global.toLowerCase())||(Y.author?.name?Y.author.name.toLowerCase().includes(m.global.toLowerCase()):!1),Xe=m.title===""||Y.title.toLowerCase().includes(m.title.toLowerCase()),vt=m.location===""||Y.location.toLowerCase().includes(m.location.toLowerCase()),qt=m.type===""||Y.type===m.type,Dt=m.status===""||(m.status==="active"?Y.is_active:!Y.is_active),zt=m.author===""||(Y.author?.name?Y.author.name.toLowerCase().includes(m.author.toLowerCase()):!1);let Xn=!0;if(Y.created_at){const An=new Date(Y.created_at);if(m.created_from){const Sn=new Date(`${m.created_from}T00:00:00`);An<Sn&&(Xn=!1)}if(Xn&&m.created_to){const Sn=new Date(`${m.created_to}T23:59:59.999`);An>Sn&&(Xn=!1)}}return Me&&Xe&&vt&&qt&&Dt&&zt&&Xn})||[],Zt=Math.ceil(Tt.length/S),Tn=Tt.slice((v-1)*S,v*S),Q=Y=>{const Me=Y?"bg-[#009379] text-white":"bg-[#930002] text-white";return d.jsx("span",{className:`flex justify-center w-fit items-center px-2.5 py-1 rounded-md text-xs font-medium ${Me} min-w-16 text-center`,children:Y?"Active":"Inactive"})},fe=Y=>{const Xe={"full-time":{color:"bg-blue-100 text-blue-800",label:"Full Time"},"part-time":{color:"bg-green-100 text-green-800",label:"Part Time"},contract:{color:"bg-purple-100 text-purple-800",label:"Contract"},freelance:{color:"bg-orange-100 text-orange-800",label:"Freelance"},internship:{color:"bg-pink-100 text-pink-800",label:"Internship"}}[Y]||{color:"bg-gray-100 text-gray-800",label:Y};return d.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Xe.color}`,children:[d.jsx(zD,{className:"mr-1",size:10}),Xe.label]})},Ce=Y=>{const Me=Y||0,Xe=Me>0?"bg-green-100 text-green-800 border-green-200":"bg-gray-100 text-gray-600 border-gray-200";return d.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium border ${Xe}`,children:[d.jsx(ID,{size:10}),Me]})},Pe=()=>Zt<=1?null:d.jsxs("div",{className:"flex justify-between items-center mt-4 px-4 pb-1",children:[d.jsxs("div",{className:"text-xs",children:["Showing ",(v-1)*S+1,"-",Math.min(v*S,Tt.length)," of ",Tt.length," entries"]}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{onClick:()=>b(1),disabled:v===1,className:"p-1 disabled:opacity-50",children:d.jsx(Jo,{className:"h-4 w-4"})}),d.jsxs("span",{className:"px-3 py-1",children:["Page ",v," of ",Zt]}),d.jsx("button",{onClick:()=>b(Y=>Math.min(Zt,Y+1)),disabled:v===Zt,className:"p-1 disabled:opacity-50",children:d.jsx(Zo,{className:"h-4 w-4"})})]})]}),Ge=(Y,Me)=>{a(Me?Xe=>[...Xe,Y]:Xe=>Xe.filter(vt=>vt!==Y))},gt=Y=>{Y?(a(Tt.map(Me=>Me.id)),u(!0)):(a([]),u(!1))},[Ct,nt]=T.useState(!1),pt=async()=>{s.length&&nt(!0)},mt=async()=>{nt(!1);try{p(!0),await Ye.post("https://nexus-consults.com/api/public/api/admin/jobs/bulk/delete",{ids:s},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),me.success(`${s.length} job(s) deleted successfully`),a([]),u(!1),n()}catch(Y){console.error("Error deleting jobs:",Y),me.error(Y.response?.data?.message||"Failed to delete jobs")}finally{p(!1)}},Mt=async Y=>{if(s.length)try{p(!0),await Ye.post("https://nexus-consults.com/api/public/api/admin/jobs/bulk/update-status",{ids:s,status:Y},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),me.success(`Status updated for ${s.length} job(s)`),a([]),u(!1),n()}catch(Me){console.error("Error updating job status:",Me),me.error(Me.response?.data?.message||"Failed to update job status")}finally{p(!1)}};return d.jsxs("div",{className:"shadow-2xl rounded-2xl overflow-hidden bg-white",children:[d.jsxs("div",{className:"p-4 border-b flex justify-between items-center gap-4",children:[d.jsx("input",{type:"text",value:m.global,onChange:Y=>be("global",Y.target.value),placeholder:"Search jobs...",className:"px-3 py-2 rounded-xl shadow-sm focus:outline-2 focus:outline-primary w-full border border-primary transition-all"}),ut?.data?.data?.admin?.permissions?.includes("create_jobs")&&d.jsxs("button",{onClick:()=>{E(!0),Te()},className:"bg-primary hover:bg-darkBlue transition-all text-white px-3 py-2 rounded-xl shadow-sm min-w-max flex items-center gap-2",children:[d.jsx(ei,{size:18}),d.jsx("span",{children:"Add Job"})]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:l&&Tt.length>0,onChange:Y=>gt(Y.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),d.jsx("span",{className:"ml-2",children:"Title"})]})}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsx("input",{type:"text",value:m.author,onChange:Y=>be("author",Y.target.value),placeholder:"Author",className:"text-xs p-1 border rounded w-full"})}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsx("input",{type:"text",value:m.location,onChange:Y=>be("location",Y.target.value),placeholder:"Location",className:"text-xs p-1 border rounded w-full"})}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsxs("select",{value:m.type,onChange:Y=>be("type",Y.target.value),className:"text-xs p-1 border rounded w-full",children:[d.jsx("option",{value:"",children:"All Types"}),ot.map(Y=>d.jsx("option",{value:Y.value,children:Y.label},Y.value))]})}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Applications"}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsxs("select",{value:m.status,onChange:Y=>be("status",Y.target.value),className:"text-xs p-1 border rounded w-full",children:[d.jsx("option",{value:"",children:"All Statuses"}),d.jsx("option",{value:"active",children:"Active"}),d.jsx("option",{value:"inactive",children:"Inactive"})]})}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsx(Rh,{initialRange:{startDate:m.created_from?new Date(`${m.created_from}T00:00:00`):null,endDate:m.created_to?new Date(`${m.created_to}T00:00:00`):null},onDateChange:({startDate:Y,endDate:Me})=>{const Xe=vt=>{if(!(vt instanceof Date)||isNaN(vt))return"";const qt=vt.getFullYear(),Dt=String(vt.getMonth()+1).padStart(2,"0"),zt=String(vt.getDate()).padStart(2,"0");return`${qt}-${Dt}-${zt}`};be("created_from",Y?Xe(Y):""),be("created_to",Me?Xe(Me):"")}})}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:e?d.jsx("tr",{children:d.jsx("td",{colSpan:"8",className:"px-3 py-4 text-center",children:d.jsxs("div",{className:"flex justify-center items-center gap-2",children:[d.jsx(xt,{className:"animate-spin",size:18}),"Loading jobs..."]})})}):Tn.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:"8",className:"px-3 py-4 text-center",children:"No jobs found"})}):Tn.map(Y=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:s.includes(Y.id),onChange:Me=>Ge(Y.id,Me.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),d.jsx("span",{className:"ml-2 text-sm font-medium text-gray-900",children:Y.title})]})}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Y.author?.name||"-"}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(JX,{className:"text-gray-400",size:12}),Y.location]})}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:fe(Y.type)}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Ce(Y.applications_count)}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Q(Y.is_active)}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Y.created_at?new Date(Y.created_at).toLocaleDateString():"-"}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center gap-2",children:[ut?.data?.data?.admin?.permissions?.includes("edit_jobs")&&d.jsx("button",{className:"text-blue-500 hover:text-blue-700 p-1",onClick:()=>rt(Y),disabled:_t,children:_t&&ue===Y.id?d.jsx(xt,{className:"animate-spin",size:18}):d.jsx(As,{size:18})}),d.jsx("button",{className:`${Y.is_active?"text-green-500 hover:text-green-700":"text-red-500 hover:text-red-700"} p-1`,onClick:()=>We(Y.id,Y.is_active),disabled:O===Y.id,children:O===Y.id?d.jsx(xt,{className:"animate-spin",size:18}):Y.is_active?d.jsx(Zr,{}):d.jsx(Kt,{})}),ut?.data?.data?.admin?.permissions?.includes("delete_jobs")&&d.jsx("button",{className:"text-red-500 hover:text-red-700 p-1",onClick:()=>ht(Y.id),disabled:C===Y.id,title:"Delete",children:C===Y.id?d.jsx(xt,{className:"animate-spin",size:18}):d.jsx(Un,{size:18})})]})})]},Y.id))})]})}),Ct&&d.jsx(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:d.jsxs(jt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:"bg-white rounded-lg p-6 max-w-md w-full",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Deletion"}),d.jsx("button",{onClick:()=>nt(!1),className:"text-gray-500 hover:text-gray-700",children:d.jsx(Kt,{})})]}),d.jsxs("p",{className:"text-gray-700 mb-6",children:["Are you sure you want to delete ",s.length," selected job(s)? This action cannot be undone."]}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx("button",{onClick:()=>nt(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:f,children:"Cancel"}),d.jsx("button",{onClick:mt,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 flex items-center",disabled:f,children:f?d.jsxs(d.Fragment,{children:[d.jsx(xt,{className:"animate-spin mr-2"}),"Deleting..."]}):"Delete"})]})]})}),s.length>0&&d.jsx("div",{className:"bg-blue-50 p-4 rounded-md mb-6 border border-blue-200",children:d.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[d.jsxs("div",{className:"text-blue-800 font-medium",children:[s.length," job(s) selected"]}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsxs("button",{onClick:()=>Mt(!0),disabled:f,className:"flex items-center px-3 py-1.5 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 text-sm",children:[d.jsx(Zr,{className:"mr-1.5"}),"Activate"]}),d.jsxs("button",{onClick:()=>Mt(!1),disabled:f,className:"flex items-center px-3 py-1.5 bg-yellow-600 text-white rounded hover:bg-yellow-700 disabled:opacity-50 text-sm",children:[d.jsx(Kt,{className:"mr-1.5"}),"Deactivate"]}),d.jsxs("button",{onClick:pt,disabled:f,className:"flex items-center px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 text-sm",children:[d.jsx(Un,{className:"mr-1.5"}),"Delete"]}),d.jsxs("button",{onClick:()=>{a([]),u(!1)},className:"flex items-center px-3 py-1.5 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 text-sm",children:[d.jsx(Kt,{className:"mr-1.5"}),"Clear Selection"]}),f&&d.jsxs("div",{className:"flex items-center",children:[d.jsx(xt,{className:"animate-spin mr-1.5"}),"Loading..."]})]})]})}),!e&&Pe(),d.jsxs("div",{className:"p-4 border-t",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h2",{className:"text-lg font-semibold",children:"Drafts"}),d.jsx("div",{className:"text-xs text-gray-500",children:"Drafts are stored locally in your browser"})]}),ae.length===0?d.jsx("div",{className:"text-sm text-gray-500",children:"No drafts yet"}):d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full divide-y divide-gray-200 text-sm",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-2 text-left",children:"Title"}),d.jsx("th",{className:"px-4 py-2 text-left",children:"Location"}),d.jsx("th",{className:"px-4 py-2 text-left",children:"Type"}),d.jsx("th",{className:"px-4 py-2 text-left",children:"Updated"}),d.jsx("th",{className:"px-4 py-2 text-left",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200",children:ae.slice().sort((Y,Me)=>new Date(Me.updatedAt)-new Date(Y.updatedAt)).map(Y=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-4 py-2",children:Y.title||d.jsx("span",{className:"italic text-gray-400",children:"Untitled"})}),d.jsx("td",{className:"px-4 py-2",children:Y.location||"-"}),d.jsx("td",{className:"px-4 py-2",children:ot.find(Me=>Me.value===Y.type)?.label||Y.type}),d.jsx("td",{className:"px-4 py-2",children:new Date(Y.updatedAt).toLocaleString()}),d.jsx("td",{className:"px-4 py-2",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-1",onClick:()=>ce(Y),children:[d.jsx(Oy,{})," Resume"]}),d.jsx("button",{className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",onClick:()=>Nt(Y.id),children:"Delete"})]})})]},Y.id))})]})})]}),R&&d.jsxs(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 ",children:[d.jsx("button",{onClick:()=>{E(!1);const Y=W();Y&&Qe(Y)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:d.jsx(ui,{className:"",size:40})}),d.jsx(jt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-4/5 h-[90vh] overflow-y-auto",onClick:Y=>Y.stopPropagation(),children:d.jsxs("div",{className:"p-6",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New Job"}),d.jsxs("form",{onSubmit:wt,children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title*"}),d.jsx("input",{type:"text",name:"title",value:_e.title,onChange:Lt,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location*"}),d.jsx("input",{type:"text",name:"location",value:_e.location,onChange:Lt,className:"w-full px-3 py-2 border rounded-md",required:!0})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug*"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",name:"slug",value:_e.slug,onChange:ln,className:"w-full px-3 py-2 border rounded-md",required:!0}),Ee&&d.jsx("button",{type:"button",onClick:sn,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",title:"Reset to auto-generated slug",children:d.jsx(Kt,{})})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Ee?"Slug is manually edited. Click the X to reset to auto-generated.":"Slug is auto-generated from title. You can edit it manually."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Type*"}),d.jsx("select",{name:"type",value:_e.type,onChange:Lt,className:"w-full px-3 py-2 border rounded-md",required:!0,children:ot.map(Y=>d.jsx("option",{value:Y.value,children:Y.label},Y.value))})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:_e.is_active,onChange:Lt,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),d.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700",children:"Active"})]})]}),d.jsxs("div",{className:"p-4 border rounded-lg mb-4",children:[d.jsx("h3",{className:"text-lg font-medium mb-4",children:"Key Responsibilities*"}),d.jsx("div",{className:"mb-4",children:d.jsx(Gs,{content:_e.key_responsibilities,onUpdate:de})})]}),d.jsxs("div",{className:"p-4 border rounded-lg mb-4",children:[d.jsx("h3",{className:"text-lg font-medium mb-4",children:"Preferred Qualifications*"}),d.jsx("div",{className:"mb-4",children:d.jsx(Gs,{content:_e.preferred_qualifications,onUpdate:lt})})]}),d.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[d.jsxs("div",{className:"text-xs text-gray-500 mt-2 flex items-center",children:[d.jsx(xt,{className:`animate-spin mr-1 ${ne?"opacity-100":"opacity-0"}`,size:12}),"Auto-saves to drafts every 5s"]}),d.jsxs("button",{type:"button",onClick:I,className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[d.jsx(jh,{size:16})," Save as Draft"]}),d.jsx("button",{type:"button",onClick:()=>{const Y=W();Y&&Qe(Y),E(!1),Te()},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:ne,children:ne?d.jsxs(d.Fragment,{children:[d.jsx(xt,{className:"animate-spin",size:18}),d.jsx("span",{children:"Adding..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(ei,{size:18}),d.jsx("span",{children:"Add Job"})]})})]})]})]})})]}),k&&d.jsxs(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[d.jsx("button",{onClick:()=>{P(!1),ze(null)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:d.jsx(ui,{className:"",size:40})}),d.jsx(jt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-4/5 h-[90vh] overflow-y-auto",onClick:Y=>Y.stopPropagation(),children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center mb-4",children:[d.jsx("button",{type:"button",onClick:()=>{P(!1),ze(null)},className:"text-blue-600 hover:text-blue-800 font-medium",children:"Jobs"}),d.jsx("span",{className:"mx-2 text-gray-400",children:">"}),d.jsx("span",{className:"text-xl font-bold text-gray-900",children:Be.title||"Untitled Job"}),_t&&d.jsxs("div",{className:"ml-4 flex items-center text-sm text-gray-500",children:[d.jsx(xt,{className:"animate-spin mr-2",size:14}),"Loading job data..."]})]}),_t?d.jsxs("div",{className:"flex justify-center items-center py-8",children:[d.jsx(xt,{className:"animate-spin mr-2",size:24}),d.jsx("span",{children:"Loading job data..."})]}):d.jsxs("form",{onSubmit:St,children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title*"}),d.jsx("input",{type:"text",name:"title",value:Be.title,onChange:Se,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location*"}),d.jsx("input",{type:"text",name:"location",value:Be.location,onChange:Se,className:"w-full px-3 py-2 border rounded-md",required:!0})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug*"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",name:"slug",value:Be.slug,onChange:it,className:"w-full px-3 py-2 border rounded-md",required:!0}),K&&d.jsx("button",{type:"button",onClick:ft,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",title:"Reset to auto-generated slug",children:d.jsx(Kt,{})})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:K?"Slug is manually edited. Click the X to reset to auto-generated.":"Slug is auto-generated from title. You can edit it manually."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Type*"}),d.jsx("select",{name:"type",value:Be.type,onChange:Se,className:"w-full px-3 py-2 border rounded-md",required:!0,children:ot.map(Y=>d.jsx("option",{value:Y.value,children:Y.label},Y.value))})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"edit_is_active",name:"is_active",checked:Be.is_active,onChange:Se,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),d.jsx("label",{htmlFor:"edit_is_active",className:"ml-2 text-sm text-gray-700",children:"Active"})]})]}),d.jsxs("div",{className:"p-4 border rounded-lg mb-4",children:[d.jsx("h3",{className:"text-lg font-medium mb-4",children:"Key Responsibilities*"}),d.jsx("div",{className:"mb-4",children:d.jsx(Gs,{content:Be.key_responsibilities,onUpdate:Ot})})]}),d.jsxs("div",{className:"p-4 border rounded-lg mb-4",children:[d.jsx("h3",{className:"text-lg font-medium mb-4",children:"Preferred Qualifications*"}),d.jsx("div",{className:"mb-4",children:d.jsx(Gs,{content:Be.preferred_qualifications,onUpdate:tt})})]}),d.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[d.jsx("button",{type:"button",onClick:()=>{P(!1),ze(null)},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:ne,children:ne?d.jsxs(d.Fragment,{children:[d.jsx(xt,{className:"animate-spin",size:18}),d.jsx("span",{children:"Updating..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(Zr,{size:18}),d.jsx("span",{children:"Update Job"})]})})]})]})]})})]}),F&&d.jsx(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>G(!1),children:d.jsx(jt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:Y=>Y.stopPropagation(),children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:d.jsx(Un,{className:"h-5 w-5 text-red-600"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Job"}),d.jsx("div",{className:"mt-2",children:d.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this job? This action cannot be undone."})})]})]}),d.jsxs("div",{className:"mt-5 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>G(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),d.jsx("button",{type:"button",onClick:Qt,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})})})]})}function kle(){const t=Hn();function e(){return Ye.get("https://nexus-consults.com/api/public/api/admin/jobs",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}const{data:n,isLoading:r,refetch:i,isError:s,error:a}=wn({queryKey:["jobs"],queryFn:e});return T.useEffect(()=>{s&&(a.response?.status==401&&(localStorage.removeItem("userToken"),t("/login")),a.response?.status==403&&(me.error("You are not authorized to view this page"),t("/home")))},[s]),d.jsxs("div",{className:"p-4",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Jobs"}),d.jsx(Ale,{jobs:n?.data?.data||[],loading:r,refetch:i})]})}function Ole({applications:t,loading:e,refetch:n}){const r=Hn();_s();const[i,s]=T.useState([]),[a,l]=T.useState(!1),[u,f]=T.useState(!1),[p,m]=T.useState({global:"",applicant_name:"",applicant_email:"",job_title:"",status:"",created_from:"",created_to:""}),[y,v]=T.useState(1),[b]=T.useState(10),[S,C]=T.useState(null),[N,O]=T.useState(!1),[D,R]=T.useState(null),[E,k]=T.useState(!1),[P,F]=T.useState(null),[G,ge]=T.useState(!1),[oe,ne]=T.useState(!1),[ee,Ee]=T.useState(!1),[Oe,K]=T.useState(!1),[re,ue]=T.useState({status:""}),[ze,q]=T.useState({notes:""}),{data:ae}=wn({queryKey:["applicationStatusOptions"],queryFn:()=>Ye.get("https://nexus-consults.com/api/public/api/admin/job-applications/status-options",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}).then(U=>U.data.data),staleTime:5*60*1e3}),{data:pe}=wn({queryKey:["currentUser"],queryFn:()=>Ye.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}),{data:xe,isLoading:Re,refetch:_e}=wn({queryKey:["application",P],queryFn:()=>P?Ye.get(`https://nexus-consults.com/api/public/api/admin/job-applications/${P}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}).then(U=>U.data.data):Promise.resolve(null),enabled:!!P}),he=[...new Set(t?.map(U=>U.job?.title).filter(Boolean))],Be=(U,be)=>{m(We=>({...We,[U]:be})),v(1)},Le=U=>{R(U),O(!0)},ot=async()=>{if(D){C(D),O(!1);try{await Ye.delete(`https://nexus-consults.com/api/public/api/admin/job-applications/${D}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),me.success("Application deleted successfully",{duration:2e3}),n()}catch(U){me.error(U.response?.data?.message||"An unexpected error occurred",{duration:3e3}),U.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),U.response?.status==403&&(me.error("You are not authorized to view this page"),r("/home"))}finally{C(null),R(null)}}},ut=U=>{F(U),k(!0)},Bt=U=>{F(U),ue({status:""}),ge(!0)},dt=U=>{F(U),q({notes:xe?.admin_notes||""}),ne(!0)},_t=ji({mutationFn:({applicationId:U,status:be})=>Ye.patch(`https://nexus-consults.com/api/public/api/admin/job-applications/${U}/status`,{status:be},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),onSuccess:()=>{me.success("Status updated successfully"),ge(!1),n(),_e()},onError:U=>{me.error(U.response?.data?.message||"Failed to update status"),U.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),U.response?.status==403&&me.error("You are not authorized to perform this action")}}),st=ji({mutationFn:({applicationId:U,notes:be})=>Ye.patch(`https://nexus-consults.com/api/public/api/admin/job-applications/${U}/notes`,{admin_notes:be},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),onSuccess:()=>{me.success("Notes updated successfully"),ne(!1),_e()},onError:U=>{me.error(U.response?.data?.message||"Failed to update notes"),U.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),U.response?.status==403&&me.error("You are not authorized to perform this action")}}),Z=async U=>{try{const be=await Ye.get(`https://nexus-consults.com/api/public/api/admin/job-applications/${U}/download/cv`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`},responseType:"blob"}),We=window.URL.createObjectURL(new Blob([be.data])),ht=document.createElement("a");ht.href=We,ht.setAttribute("download",`CV-${U}.pdf`),document.body.appendChild(ht),ht.click(),ht.remove(),window.URL.revokeObjectURL(We),me.success("CV downloaded successfully")}catch(be){me.error(be.response?.data?.message||"Failed to download CV")}},$e=U=>{if(U.preventDefault(),!re.status){me.error("Please select a status");return}_t.mutate({applicationId:P,status:re.status})},Ue=U=>{U.preventDefault(),st.mutate({applicationId:P,notes:ze.notes})},Qe=t?.filter(U=>{const be=p.global===""||U.applicant?.name?.toLowerCase().includes(p.global.toLowerCase())||U.applicant?.email?.toLowerCase().includes(p.global.toLowerCase())||U.job?.title?.toLowerCase().includes(p.global.toLowerCase()),We=p.applicant_name===""||U.applicant?.name?.toLowerCase().includes(p.applicant_name.toLowerCase()),ht=p.applicant_email===""||U.applicant?.email?.toLowerCase().includes(p.applicant_email.toLowerCase()),Qt=p.job_title===""||U.job?.title?.toLowerCase().includes(p.job_title.toLowerCase()),Lt=p.status===""||U.status===p.status;let ln=!0;if(U.created_at){const sn=new Date(U.created_at);if(p.created_from){const Se=new Date(`${p.created_from}T00:00:00`);sn<Se&&(ln=!1)}if(ln&&p.created_to){const Se=new Date(`${p.created_to}T23:59:59.999`);sn>Se&&(ln=!1)}}return be&&We&&ht&&Qt&&Lt&&ln})||[],Nt=Math.ceil(Qe.length/b),_=Qe.slice((y-1)*b,y*b),W=U=>{const be=ae?.statuses?.[U]||{label:U,color:"gray"},We={yellow:"bg-yellow-100 text-yellow-800 border-yellow-200",blue:"bg-blue-100 text-blue-800 border-blue-200",purple:"bg-purple-100 text-purple-800 border-purple-200",indigo:"bg-indigo-100 text-indigo-800 border-indigo-200",green:"bg-green-100 text-green-800 border-green-200",red:"bg-red-100 text-red-800 border-red-200",gray:"bg-gray-100 text-gray-800 border-gray-200"};return d.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${We[be.color]||We.gray}`,children:be.label})},I=()=>Nt<=1?null:d.jsxs("div",{className:"flex justify-between items-center mt-4 px-4 pb-1",children:[d.jsxs("div",{className:"text-xs",children:["Showing ",(y-1)*b+1,"-",Math.min(y*b,Qe.length)," of ",Qe.length," entries"]}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{onClick:()=>v(1),disabled:y===1,className:"p-1 disabled:opacity-50",children:d.jsx(Jo,{className:"h-4 w-4"})}),d.jsxs("span",{className:"px-3 py-1",children:["Page ",y," of ",Nt]}),d.jsx("button",{onClick:()=>v(U=>Math.min(Nt,U+1)),disabled:y===Nt,className:"p-1 disabled:opacity-50",children:d.jsx(Zo,{className:"h-4 w-4"})})]})]}),ce=(U,be)=>{s(be?We=>[...We,U]:We=>We.filter(ht=>ht!==U))},ye=U=>{U?(s(Qe.map(be=>be.id)),l(!0)):(s([]),l(!1))},$=async()=>{if(i.length)try{f(!0),await Ye.post("https://nexus-consults.com/api/public/api/admin/job-applications/bulk/delete",{ids:i},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),me.success(`${i.length} application(s) deleted successfully`),s([]),l(!1),n()}catch(U){console.error("Error deleting applications:",U),me.error(U.response?.data?.message||"Failed to delete applications")}finally{f(!1)}};return d.jsxs("div",{className:"shadow-2xl rounded-2xl overflow-hidden bg-white",children:[d.jsx("div",{className:"p-4 border-b flex justify-between items-center gap-4",children:d.jsxs("div",{className:"relative flex-1",children:[d.jsx(E2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),d.jsx("input",{type:"text",value:p.global,onChange:U=>Be("global",U.target.value),placeholder:"Search applications...",className:"pl-10 pr-4 py-2 rounded-xl shadow-sm focus:outline-2 focus:outline-primary w-full border border-primary transition-all"})]})}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:a&&Qe.length>0,onChange:U=>ye(U.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),d.jsx("span",{className:"ml-2",children:"Applicant"})]})}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsx("input",{type:"text",value:p.applicant_email,onChange:U=>Be("applicant_email",U.target.value),placeholder:"Email",className:"text-xs p-1 border rounded w-full"})}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsxs("select",{value:p.job_title,onChange:U=>Be("job_title",U.target.value),className:"text-xs p-1 border rounded w-full",children:[d.jsx("option",{value:"",children:"All Jobs"}),he.map(U=>d.jsx("option",{value:U,children:U},U))]})}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsxs("select",{value:p.status,onChange:U=>Be("status",U.target.value),className:"text-xs p-1 border rounded w-full",children:[d.jsx("option",{value:"",children:"All Statuses"}),ae&&Object.entries(ae.statuses).map(([U,be])=>d.jsx("option",{value:U,children:be.label},U))]})}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsx(Rh,{initialRange:{startDate:p.created_from?new Date(`${p.created_from}T00:00:00`):null,endDate:p.created_to?new Date(`${p.created_to}T00:00:00`):null},onDateChange:({startDate:U,endDate:be})=>{const We=ht=>{if(!(ht instanceof Date)||isNaN(ht))return"";const Qt=ht.getFullYear(),Lt=String(ht.getMonth()+1).padStart(2,"0"),ln=String(ht.getDate()).padStart(2,"0");return`${Qt}-${Lt}-${ln}`};Be("created_from",U?We(U):""),Be("created_to",be?We(be):"")}})}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:e?d.jsx("tr",{children:d.jsx("td",{colSpan:"6",className:"px-3 py-4 text-center",children:d.jsxs("div",{className:"flex justify-center items-center gap-2",children:[d.jsx(xt,{className:"animate-spin",size:18}),"Loading applications..."]})})}):_.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:"6",className:"px-3 py-4 text-center",children:"No applications found"})}):_.map(U=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:i.includes(U.id),onChange:be=>ce(U.id,be.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),d.jsxs("div",{className:"ml-2",children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:U.applicant?.name||"N/A"}),d.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[d.jsx(ZX,{size:10}),U.applicant?.phone||"N/A"]})]})]})}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-900",children:[d.jsx(ID,{size:12,className:"text-gray-400"}),U.applicant?.email]})}),d.jsxs("td",{className:"px-3 py-4 whitespace-nowrap",children:[d.jsx("div",{className:"text-sm text-gray-900",children:U.job?.title||"N/A"}),d.jsx("div",{className:"text-xs text-gray-500",children:U.job?.type&&d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(zD,{size:10}),U.job.type]})})]}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:W(U.status)}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:d.jsx("div",{className:"text-sm text-gray-900",children:U.created_at?new Date(U.created_at).toLocaleDateString():"-"})}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{className:"text-blue-500 hover:text-blue-700 p-1",onClick:()=>ut(U.id),title:"View Details",children:d.jsx(wu,{size:16})}),d.jsx("button",{className:"text-green-500 hover:text-green-700 p-1",onClick:()=>Z(U.id),title:"Download CV",children:d.jsx(XX,{size:16})}),pe?.data?.data?.admin?.permissions?.includes("manage_job_applications")&&d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"text-purple-500 hover:text-purple-700 p-1",onClick:()=>Bt(U.id),title:"Update Status",children:d.jsx(As,{size:16})}),d.jsx("button",{className:"text-indigo-500 hover:text-indigo-700 p-1",onClick:()=>dt(U.id),title:"Add Notes",children:d.jsx(nQ,{size:16})})]}),pe?.data?.data?.admin?.permissions?.includes("delete_job_applications")&&d.jsx("button",{className:"text-red-500 hover:text-red-700 p-1",onClick:()=>Le(U.id),disabled:S===U.id,title:"Delete",children:S===U.id?d.jsx(xt,{className:"animate-spin",size:16}):d.jsx(Un,{size:16})})]})})]},U.id))})]})}),i.length>0&&d.jsx("div",{className:"bg-blue-50 p-4 rounded-md mb-6 border border-blue-200",children:d.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[d.jsxs("div",{className:"text-blue-800 font-medium",children:[i.length," application(s) selected"]}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsxs("button",{onClick:$,disabled:u,className:"flex items-center px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 text-sm",children:[d.jsx(Un,{className:"mr-1.5"}),"Delete Selected"]}),d.jsxs("button",{onClick:()=>{s([]),l(!1)},className:"flex items-center px-3 py-1.5 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 text-sm",children:[d.jsx(Kt,{className:"mr-1.5"}),"Clear Selection"]}),u&&d.jsxs("div",{className:"flex items-center",children:[d.jsx(xt,{className:"animate-spin mr-1.5"}),"Loading..."]})]})]})}),!e&&I(),E&&d.jsx(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>k(!1),children:d.jsx(jt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:U=>U.stopPropagation(),children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Application Details"}),d.jsx("button",{onClick:()=>k(!1),className:"text-gray-500 hover:text-gray-700",children:d.jsx(Kt,{size:20})})]}),Re?d.jsxs("div",{className:"flex justify-center items-center py-8",children:[d.jsx(xt,{className:"animate-spin mr-2",size:24}),d.jsx("span",{children:"Loading application details..."})]}):xe?d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx("h4",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Applicant Information"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900",children:xe.applicant?.name||"N/A"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900",children:xe.applicant?.email})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900",children:xe.applicant?.phone})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Years of Experience"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900",children:xe.applicant?.years_of_experience})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Availability"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900 capitalize",children:xe.applicant?.availability?.replace("_"," ")||"N/A"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Message"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900 whitespace-pre-wrap",children:xe.applicant?.message||"No message provided"})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h4",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Job & Application Information"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Job Title"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900",children:xe.job?.title})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900 capitalize",children:xe.job?.location?.replace("-"," ")||"N/A"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Job Type"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900 capitalize",children:xe.job?.type?.replace("-"," ")||"N/A"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),d.jsx("div",{className:"mt-1",children:W(xe.status)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Applied On"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(xe.created_at).toLocaleString()})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Admin Notes"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900 whitespace-pre-wrap",children:xe.admin_notes||"No notes added"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"CV"}),d.jsxs("button",{onClick:()=>Z(xe.id),className:"mt-1 flex items-center gap-2 px-3 py-2 bg-primary text-white rounded hover:bg-darkBlue transition-all text-sm",children:[d.jsx(QX,{}),"Download CV"]})]})]})]}):d.jsx("div",{className:"text-center py-8 text-gray-500",children:"Failed to load application details"})]})})}),G&&d.jsxs(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[d.jsx("button",{onClick:()=>{ge(!1)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:d.jsx(ui,{className:"",size:40})}),d.jsx(jt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:U=>U.stopPropagation(),children:d.jsxs("div",{className:"p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Update Application Status"}),d.jsxs("form",{onSubmit:$e,children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Status"}),d.jsxs("select",{value:re.status,onChange:U=>ue({status:U.target.value}),className:"w-full px-3 py-2 border rounded-md focus:outline-primary",required:!0,children:[d.jsx("option",{value:"",children:"Choose a status"}),ae&&Object.entries(ae.statuses).map(([U,be])=>d.jsx("option",{value:U,children:be.label},U))]}),re.status&&ae?.statuses[re.status]?.description&&d.jsx("p",{className:"mt-2 text-xs text-gray-500",children:ae.statuses[re.status].description})]}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>ge(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:_t.isPending,className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center gap-2 disabled:opacity-50",children:_t.isPending?d.jsxs(d.Fragment,{children:[d.jsx(xt,{className:"animate-spin"}),"Updating..."]}):"Update Status"})]})]})]})})]}),oe&&d.jsxs(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[d.jsx("button",{onClick:()=>{ne(!1)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:d.jsx(ui,{className:"",size:40})}),d.jsx(jt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:U=>U.stopPropagation(),children:d.jsxs("div",{className:"p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add Admin Notes"}),d.jsxs("form",{onSubmit:Ue,children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),d.jsx("textarea",{value:ze.notes,onChange:U=>q({notes:U.target.value}),rows:6,className:"w-full px-3 py-2 border rounded-md focus:outline-primary resize-vertical",placeholder:"Enter your notes about this application..."})]}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>ne(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:st.isPending,className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center gap-2 disabled:opacity-50",children:st.isPending?d.jsxs(d.Fragment,{children:[d.jsx(xt,{className:"animate-spin"}),"Saving..."]}):"Save Notes"})]})]})]})})]}),N&&d.jsx(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>O(!1),children:d.jsx(jt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:U=>U.stopPropagation(),children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:d.jsx(Un,{className:"h-5 w-5 text-red-600"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Application"}),d.jsx("div",{className:"mt-2",children:d.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this application? This action cannot be undone."})})]})]}),d.jsxs("div",{className:"mt-5 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>O(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),d.jsx("button",{type:"button",onClick:ot,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})})})]})}function Mle(){const t=Hn();function e(){return Ye.get("https://nexus-consults.com/api/public/api/admin/job-applications",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}const{data:n,isLoading:r,refetch:i,isError:s,error:a}=wn({queryKey:["Applications"],queryFn:e});return T.useEffect(()=>{s&&(a.response?.status==401&&(localStorage.removeItem("userToken"),t("/login")),a.response?.status==403&&(me.error("You are not authorized to view this page"),t("/home")))},[s]),d.jsxs("div",{className:"p-4",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Applications"}),d.jsx(Ole,{applications:n?.data?.data||[],loading:r,refetch:i})]})}function Dle({testmonialsData:t,loading:e,refetch:n}){const r=Hn();_s();const[i,s]=T.useState([]),[a,l]=T.useState(!1),[u,f]=T.useState(!1),[p,m]=T.useState({global:"",name:"",title:"",is_active:"",created_from:"",created_to:""}),[y,v]=T.useState(1),[b]=T.useState(10),[S,C]=T.useState(null),[N,O]=T.useState(!1),[D,R]=T.useState(null),[E,k]=T.useState(null),[P,F]=T.useState(!1),[G,ge]=T.useState(null),[oe,ne]=T.useState(!1),[ee,Ee]=T.useState(!1),[Oe,K]=T.useState(!1),[re,ue]=T.useState({name:"",title:"",message:"",image:null,imagePreview:"",removeImage:!1}),ze=T.useRef(null),{data:q}=wn({queryKey:["currentUser"],queryFn:()=>Ye.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}),{data:ae,isLoading:pe,refetch:xe}=wn({queryKey:["testmonial",G],queryFn:()=>G?Ye.get(`https://nexus-consults.com/api/public/api/admin/feedbacks/${G}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}).then($=>$.data.data):Promise.resolve(null),enabled:!!G}),Re=($,U)=>{m(be=>({...be,[$]:U})),v(1)},_e=$=>{R($),O(!0)},he=async()=>{if(D){C(D),O(!1);try{await Ye.delete(`https://nexus-consults.com/api/public/api/admin/feedbacks/${D}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),me.success("Testimonial deleted successfully",{duration:2e3}),n()}catch($){me.error($.response?.data?.message||"An unexpected error occurred",{duration:3e3}),$.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),$.response?.status==403&&(me.error("You are not authorized to view this page"),r("/home"))}finally{C(null),R(null)}}},Be=$=>{ge($),F(!0)},Le=()=>{Ee(!1),ue({name:"",title:"",message:"",image:null,imagePreview:"",removeImage:!1}),ne(!0)},ot=$=>{ge($.id),Ee(!0),ue({name:$.name||"",title:$.title||"",message:$.message||"",image:null,imagePreview:$.image||"",removeImage:!1}),ne(!0)};T.useEffect(()=>{ee&&ae&&ue($=>({...$,name:ae.name||$.name,title:ae.title||$.title,message:ae.message||$.message,imagePreview:ae.image||$.imagePreview,removeImage:!1}))},[ee,ae]);const ut=$=>{const U=$.target.files[0];if(U){if(!U.type.startsWith("image/")){me.error("Please select an image file");return}if(U.size>5*1024*1024){me.error("Image size should be less than 5MB");return}ue(be=>({...be,image:U,imagePreview:URL.createObjectURL(U),removeImage:!1}))}},Bt=()=>{ue($=>({...$,image:null,imagePreview:"",removeImage:!0})),ze.current&&(ze.current.value="")},dt=ji({mutationFn:$=>{const U=new FormData;return U.append("name",$.name),U.append("title",$.title),U.append("message",$.message),$.image&&U.append("image",$.image),$.image||U.append("image",""),Ye.post("https://nexus-consults.com/api/public/api/admin/feedbacks",U,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}})},onSuccess:()=>{me.success("Testimonial created successfully"),ne(!1),n()},onError:$=>{me.error($.response?.data?.message||"Failed to create testimonial"),$.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),$.response?.status==403&&me.error("You are not authorized to perform this action")}}),_t=ji({mutationFn:({testmonialId:$,formData:U})=>{const be=new FormData;return be.append("name",U.name),be.append("title",U.title),be.append("message",U.message),U.removeImage?be.append("image",""):U.image&&be.append("image",U.image),be.append("_method","PUT"),Ye.post(`https://nexus-consults.com/api/public/api/admin/feedbacks/${$}`,be,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}})},onSuccess:()=>{me.success("Testimonial updated successfully"),ne(!1),n(),xe()},onError:$=>{me.error($.response?.data?.message||"Failed to update testimonial"),$.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),$.response?.status==403&&me.error("You are not authorized to perform this action")}}),st=ji({mutationFn:$=>Ye.patch(`https://nexus-consults.com/api/public/api/admin/feedbacks/${$}/toggle-active`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),onMutate:$=>{k($)},onSuccess:()=>{me.success("Status updated successfully"),n()},onError:$=>{me.error($.response?.data?.message||"Failed to update status"),$.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),$.response?.status==403&&me.error("You are not authorized to perform this action")},onSettled:()=>{k(null)}}),Z=($,U)=>{st.mutate($)},$e=$=>{if($.preventDefault(),!re.name||!re.title||!re.message){me.error("Please fill in all required fields");return}ee?_t.mutate({testmonialId:G,formData:re}):dt.mutate(re)},Ue=t?.filter($=>{const U=p.global===""||$.name?.toLowerCase().includes(p.global.toLowerCase())||$.title?.toLowerCase().includes(p.global.toLowerCase())||$.message?.toLowerCase().includes(p.global.toLowerCase()),be=p.name===""||$.name?.toLowerCase().includes(p.name.toLowerCase()),We=p.title===""||$.title?.toLowerCase().includes(p.title.toLowerCase()),ht=p.is_active===""||$.is_active?.toString()===p.is_active;let Qt=!0;if($.created_at){const Lt=new Date($.created_at);if(p.created_from){const ln=new Date(`${p.created_from}T00:00:00`);Lt<ln&&(Qt=!1)}if(Qt&&p.created_to){const ln=new Date(`${p.created_to}T23:59:59.999`);Lt>ln&&(Qt=!1)}}return U&&be&&We&&ht&&Qt})||[],Qe=Math.ceil(Ue.length/b),Nt=Ue.slice((y-1)*b,y*b),_=$=>{const U=$?"bg-[#009379] text-white":"bg-[#930002] text-white";return d.jsx("span",{className:`flex justify-center w-fit items-center px-2.5 py-1 rounded-md text-xs font-medium ${U} min-w-16 text-center`,children:$?"Active":"Inactive"})},W=()=>Qe<=1?null:d.jsxs("div",{className:"flex justify-between items-center mt-4 px-4 pb-1",children:[d.jsxs("div",{className:"text-xs",children:["Showing ",(y-1)*b+1,"-",Math.min(y*b,Ue.length)," of ",Ue.length," entries"]}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{onClick:()=>v(1),disabled:y===1,className:"p-1 disabled:opacity-50",children:d.jsx(Jo,{className:"h-4 w-4"})}),d.jsxs("span",{className:"px-3 py-1",children:["Page ",y," of ",Qe]}),d.jsx("button",{onClick:()=>v($=>Math.min(Qe,$+1)),disabled:y===Qe,className:"p-1 disabled:opacity-50",children:d.jsx(Zo,{className:"h-4 w-4"})})]})]}),I=($,U)=>{s(U?be=>[...be,$]:be=>be.filter(We=>We!==$))},ce=$=>{$?(s(Ue.map(U=>U.id)),l(!0)):(s([]),l(!1))},ye=async()=>{if(i.length)try{f(!0),await Ye.post("https://nexus-consults.com/api/public/api/admin/feedbacks/bulk/delete",{ids:i},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),me.success(`${i.length} testimonial(s) deleted successfully`),s([]),l(!1),n()}catch($){console.error("Error deleting testimonials:",$),me.error($.response?.data?.message||"Failed to delete testimonials")}finally{f(!1)}};return d.jsxs("div",{className:"shadow-2xl rounded-2xl overflow-hidden bg-white",children:[d.jsxs("div",{className:"p-4 border-b flex justify-between items-center gap-4",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(E2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),d.jsx("input",{type:"text",value:p.global,onChange:$=>Re("global",$.target.value),placeholder:"Search testimonials...",className:"pl-10 pr-4 py-2 rounded-xl shadow-sm focus:outline-2 focus:outline-primary w-full border border-primary transition-all"})]}),q?.data?.data?.admin?.permissions?.includes("create_feedbacks")&&d.jsxs("button",{onClick:Le,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl hover:bg-darkBlue transition-all",children:[d.jsx(ei,{size:16}),"Add Testimonial"]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:a&&Ue.length>0,onChange:$=>ce($.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),d.jsx("span",{className:"ml-2",children:"Name"})]})}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsx("input",{type:"text",value:p.title,onChange:$=>Re("title",$.target.value),placeholder:"Title",className:"text-xs p-1 border rounded w-full"})}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Message"}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsxs("select",{value:p.is_active,onChange:$=>Re("is_active",$.target.value),className:"text-xs p-1 border rounded w-full",children:[d.jsx("option",{value:"",children:"All Status"}),d.jsx("option",{value:"true",children:"Active"}),d.jsx("option",{value:"false",children:"Inactive"})]})}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created Date"}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:e?d.jsx("tr",{children:d.jsx("td",{colSpan:"6",className:"px-3 py-4 text-center",children:d.jsxs("div",{className:"flex justify-center items-center gap-2",children:[d.jsx(xt,{className:"animate-spin",size:18}),"Loading testimonials..."]})})}):Nt.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:"6",className:"px-3 py-4 text-center",children:"No testimonials found"})}):Nt.map($=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:i.includes($.id),onChange:U=>I($.id,U.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),d.jsxs("div",{className:"ml-2 flex items-center gap-3",children:[d.jsx("img",{src:$.image,alt:$.name,className:"h-10 w-10 rounded-full object-cover"}),d.jsx("div",{children:d.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.name})})]})]})}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:d.jsx("div",{className:"text-sm text-gray-900",children:$.title})}),d.jsx("td",{className:"px-3 py-4",children:d.jsx("div",{className:"text-sm text-gray-900 line-clamp-2 max-w-xs",children:$.message})}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:_($.is_active)}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:d.jsx("div",{className:"text-sm text-gray-900",children:$.created_at?new Date($.created_at).toLocaleDateString():"-"})}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{className:"text-blue-500 hover:text-blue-700 p-1",onClick:()=>Be($),title:"View Details",children:d.jsx(wu,{size:16})}),q?.data?.data?.admin?.permissions?.includes("edit_feedbacks")&&d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"text-purple-500 hover:text-purple-700 p-1",onClick:()=>ot($),title:"Edit",children:d.jsx(As,{size:16})}),d.jsx("button",{className:`${$.is_active?"text-green-500 hover:text-green-700":"text-red-500 hover:text-red-700"} p-1`,onClick:()=>Z($.id,$.is_active),disabled:E===$.id,title:$.is_active?"Deactivate":"Activate",children:E===$.id?d.jsx(xt,{className:"animate-spin",size:16}):$.is_active?d.jsx(Zr,{}):d.jsx(Kt,{})})]}),q?.data?.data?.admin?.permissions?.includes("delete_feedbacks")&&d.jsx("button",{className:"text-red-500 hover:text-red-700 p-1",onClick:()=>_e($.id),disabled:S===$.id,title:"Delete",children:S===$.id?d.jsx(xt,{className:"animate-spin",size:16}):d.jsx(Un,{size:16})})]})})]},$.id))})]})}),i.length>0&&d.jsx("div",{className:"bg-blue-50 p-4 rounded-md mb-6 border border-blue-200",children:d.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[d.jsxs("div",{className:"text-blue-800 font-medium",children:[i.length," testimonial(s) selected"]}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsxs("button",{onClick:ye,disabled:u,className:"flex items-center px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 text-sm",children:[d.jsx(Un,{className:"mr-1.5"}),"Delete Selected"]}),d.jsxs("button",{onClick:()=>{s([]),l(!1)},className:"flex items-center px-3 py-1.5 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 text-sm",children:[d.jsx(Kt,{className:"mr-1.5"}),"Clear Selection"]}),u&&d.jsxs("div",{className:"flex items-center",children:[d.jsx(xt,{className:"animate-spin mr-1.5"}),"Loading..."]})]})]})}),!e&&W(),P&&d.jsx(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>F(!1),children:d.jsx(jt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:$=>$.stopPropagation(),children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Testimonial Details"}),d.jsx("button",{onClick:()=>F(!1),className:"text-gray-500 hover:text-gray-700",children:d.jsx(Kt,{size:20})})]}),G?d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"flex justify-center",children:d.jsx("img",{src:G.image,alt:G.name,className:"h-32 w-32 rounded-full object-cover border-4 border-gray-200"})}),d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),d.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:G.name})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),d.jsx("p",{className:"mt-1 text-md text-gray-900",children:G.title})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Message"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900 whitespace-pre-wrap bg-gray-50 p-4 rounded-lg",children:G.message})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),d.jsx("div",{className:"mt-1",children:_(G.is_active)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Created On"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(G.created_at).toLocaleString()})]})]})]})]}):d.jsx("div",{className:"text-center py-8 text-gray-500",children:"Failed to load testimonial details"})]})})}),oe&&d.jsxs(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[d.jsx("button",{onClick:()=>{ne(!1)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:d.jsx(ui,{className:"",size:40})}),d.jsx(jt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:$=>$.stopPropagation(),children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900",children:ee?"Edit Testimonial":"Add New Testimonial"}),d.jsx("button",{onClick:()=>ne(!1),className:"text-gray-500 hover:text-gray-700",children:d.jsx(Kt,{size:20})})]}),d.jsxs("form",{onSubmit:$e,children:[d.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Image"}),d.jsxs("div",{className:"flex items-center gap-4",children:[re.imagePreview?d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:re.imagePreview,alt:"Preview",className:"h-20 w-20 rounded-full object-cover border"}),d.jsx("button",{type:"button",onClick:Bt,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:d.jsx(Kt,{size:12})})]}):d.jsx("div",{className:"h-20 w-20 rounded-full border-2 border-dashed border-gray-300 flex items-center justify-center",children:d.jsx(Uo,{className:"text-gray-400",size:24})}),d.jsxs("div",{children:[d.jsx("input",{type:"file",ref:ze,onChange:ut,accept:"image/*",className:"hidden"}),d.jsx("button",{type:"button",onClick:()=>ze.current?.click(),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Choose Image"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, JPEG up to 5MB"})]})]}),re.removeImage&&d.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Image will be set to default"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),d.jsx("input",{type:"text",value:re.name,onChange:$=>ue(U=>({...U,name:$.target.value})),className:"w-full px-3 py-2 border rounded-md focus:outline-primary",placeholder:"Enter full name",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),d.jsx("input",{type:"text",value:re.title,onChange:$=>ue(U=>({...U,title:$.target.value})),className:"w-full px-3 py-2 border rounded-md focus:outline-primary",placeholder:"e.g., CEO at Company",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message *"}),d.jsx("textarea",{value:re.message,onChange:$=>ue(U=>({...U,message:$.target.value})),rows:6,className:"w-full px-3 py-2 border rounded-md focus:outline-primary resize-vertical",placeholder:"Enter testimonial message",required:!0})]})]}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>ne(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:dt.isPending||_t.isPending,className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center gap-2 disabled:opacity-50",children:dt.isPending||_t.isPending?d.jsxs(d.Fragment,{children:[d.jsx(xt,{className:"animate-spin"}),ee?"Updating...":"Creating..."]}):ee?"Update Testimonial":"Create Testimonial"})]})]})]})})]}),N&&d.jsx(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>O(!1),children:d.jsx(jt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:$=>$.stopPropagation(),children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:d.jsx(Un,{className:"h-5 w-5 text-red-600"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Testimonial"}),d.jsx("div",{className:"mt-2",children:d.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this testimonial? This action cannot be undone."})})]})]}),d.jsxs("div",{className:"mt-5 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>O(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),d.jsx("button",{type:"button",onClick:he,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})})})]})}function Rle(){const t=Hn(),{data:e,isLoading:n,isError:r,error:i,refetch:s}=wn({queryKey:["testmonials"],queryFn:()=>Ye.get("https://nexus-consults.com/api/public/api/admin/feedbacks",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})});return T.useEffect(()=>{r&&(i.response?.status==401&&(localStorage.removeItem("userToken"),t("/login")),i.response?.status==403&&(toast.error("You are not authorized to view this page"),t("/home")))},[r]),d.jsxs("div",{className:"p-4",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Testmonials"}),d.jsx(Dle,{testmonialsData:e?.data?.data||[],loading:n,refetch:s})]})}function _le(){const t=Hn(),e=_s(),[n,r]=T.useState(!1),[i,s]=T.useState(!1),[a,l]=T.useState(""),{data:u,isLoading:f}=wn({queryKey:["currentUser"],queryFn:()=>Ye.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}),[p,m]=T.useState({our_mission:"",our_vision:"",portfolio:"",years:"",projects:"",clients:"",engineers:"",image:null}),y=Ut.useRef(null),{data:v,isLoading:b,isError:S,error:C}=wn({queryKey:["aboutUs"],queryFn:()=>Ye.get("https://nexus-consults.com/api/public/api/admin/settings",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),refetchOnWindowFocus:!1});T.useEffect(()=>{if(v?.data?.data){const P=v.data.data;m({our_mission:P.our_mission||"",our_vision:P.our_vision||"",portfolio:P.portfolio||"",years:P.years||"",projects:P.projects||"",clients:P.clients||"",engineers:P.engineers||"",image:null}),P.image&&l(P.image)}},[v]),T.useEffect(()=>{S&&(C.response?.status===401&&(localStorage.removeItem("userToken"),t("/login")),C.response?.status===403&&(me.error("You are not authorized to view this page"),t("/home")))},[S,C,t]);const N=P=>{const F=P.target.files[0];if(F){if(!F.type.startsWith("image/")){me.error("Please select an image file");return}if(F.size>6*1024*1024){me.error("Image size should be less than 6MB");return}m(G=>({...G,image:F})),l(URL.createObjectURL(F))}},O=()=>{m(P=>({...P,image:null})),l(""),y.current&&(y.current.value="")},D=ji({mutationFn:P=>{const F=new FormData;return F.append("our_mission",P.our_mission),F.append("our_vision",P.our_vision),F.append("portfolio",P.portfolio),F.append("years",P.years),F.append("projects",P.projects),F.append("clients",P.clients),F.append("engineers",P.engineers),P.image&&F.append("image",P.image),F.append("_method","PUT"),Ye.post("https://nexus-consults.com/api/public/api/admin/settings",F,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}})},onSuccess:()=>{me.success("About Us information updated successfully"),r(!1),e.invalidateQueries(["aboutUs"])},onError:P=>{me.error(P.response?.data?.message||"Failed to update About Us information"),P.response?.status===401&&(localStorage.removeItem("userToken"),t("/login")),P.response?.status===403&&me.error("You are not authorized to perform this action")}}),R=P=>{if(P.preventDefault(),!p.our_mission||!p.our_vision||!p.portfolio){me.error("Please fill in all required fields");return}if(p.portfolio&&!E(p.portfolio)){me.error("Please enter a valid URL for the portfolio");return}if(!p.years||!p.projects||!p.clients||!p.engineers){me.error("Please fill in all statistics fields");return}D.mutate(p)},E=P=>{try{return new URL(P),!0}catch{return!1}},k=()=>{if(r(!1),v?.data?.data){const P=v.data.data;m({our_mission:P.our_mission||"",our_vision:P.our_vision||"",portfolio:P.portfolio||"",years:P.years||"",projects:P.projects||"",clients:P.clients||"",engineers:P.engineers||"",image:null}),l(P.image||"")}};return b?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(xt,{className:"animate-spin text-2xl text-primary"}),d.jsx("span",{className:"text-lg",children:"Loading About Us information..."})]})}):d.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"About Us"}),d.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your company's about us information and statistics"})]}),d.jsxs(jt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-2xl overflow-hidden",children:[d.jsx("div",{className:"border-b border-gray-200 px-6 py-4",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"About Us Information"}),n?d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-all",children:[d.jsx(Kt,{size:16}),"Cancel"]}),d.jsxs("button",{onClick:R,disabled:D.isPending,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all disabled:opacity-50",children:[D.isPending?d.jsx(xt,{className:"animate-spin",size:16}):d.jsx(jh,{size:16}),"Save Changes"]})]}):u?.data?.data?.admin?.permissions?.includes("edit_feedbacks")&&d.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-darkBlue transition-all",children:[d.jsx(As,{size:16}),"Edit Information"]})]})}),d.jsx("div",{className:"p-6",children:d.jsxs("form",{onSubmit:R,children:[d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Company Image"}),d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a?d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:a,alt:"Company",className:"h-64 w-full object-cover rounded-lg border-2 border-gray-300"}),n&&d.jsx("button",{type:"button",onClick:O,className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 transition-all",children:d.jsx(Kt,{size:14})})]}):d.jsxs("div",{className:"h-64 w-full border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center gap-3",children:[d.jsx(Uo,{className:"text-gray-400 text-4xl"}),d.jsx("span",{className:"text-gray-500",children:"No image uploaded"})]}),n&&d.jsxs("div",{className:"w-full",children:[d.jsx("input",{type:"file",ref:y,onChange:N,accept:"image/*",className:"hidden"}),d.jsx("button",{type:"button",onClick:()=>y.current?.click(),className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-all",children:"Choose Image"}),d.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"PNG, JPG, JPEG up to 6MB"})]})]})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx(WX,{className:"text-primary"}),"Company Statistics"]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Years in Business"}),n?d.jsx("input",{type:"number",value:p.years,onChange:P=>m(F=>({...F,years:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-primary",min:"0",required:!0}):d.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg",children:[d.jsx(GX,{className:"text-blue-600"}),d.jsx("span",{className:"font-semibold",children:v?.data?.data?.years||"0"}),d.jsx("span",{className:"text-sm text-gray-600",children:"Years"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Projects Completed"}),n?d.jsx("input",{type:"number",value:p.projects,onChange:P=>m(F=>({...F,projects:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-primary",min:"0",required:!0}):d.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg",children:[d.jsx(eQ,{className:"text-green-600"}),d.jsx("span",{className:"font-semibold",children:v?.data?.data?.projects||"0"}),d.jsx("span",{className:"text-sm text-gray-600",children:"Projects"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Happy Clients"}),n?d.jsx("input",{type:"number",value:p.clients,onChange:P=>m(F=>({...F,clients:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-primary",min:"0",required:!0}):d.jsxs("div",{className:"flex items-center gap-2 p-3 bg-purple-50 rounded-lg",children:[d.jsx(sQ,{className:"text-purple-600"}),d.jsx("span",{className:"font-semibold",children:v?.data?.data?.clients||"0"}),d.jsx("span",{className:"text-sm text-gray-600",children:"Clients"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expert Engineers"}),n?d.jsx("input",{type:"number",value:p.engineers,onChange:P=>m(F=>({...F,engineers:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-primary",min:"0",required:!0}):d.jsxs("div",{className:"flex items-center gap-2 p-3 bg-orange-50 rounded-lg",children:[d.jsx(iQ,{className:"text-orange-600"}),d.jsx("span",{className:"font-semibold",children:v?.data?.data?.engineers||"0"}),d.jsx("span",{className:"text-sm text-gray-600",children:"Engineers"})]})]})]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[d.jsx(tQ,{className:"text-primary"}),"Our Mission *"]}),n?d.jsx("textarea",{value:p.our_mission,onChange:P=>m(F=>({...F,our_mission:P.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-primary resize-vertical",placeholder:"Describe your company's mission...",required:!0}):d.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:d.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:v?.data?.data?.our_mission||"No mission statement provided."})})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[d.jsx(wu,{className:"text-primary"}),"Our Vision *"]}),n?d.jsx("textarea",{value:p.our_vision,onChange:P=>m(F=>({...F,our_vision:P.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-primary resize-vertical",placeholder:"Describe your company's vision...",required:!0}):d.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:d.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:v?.data?.data?.our_vision||"No vision statement provided."})})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[d.jsx(C4,{className:"text-primary"}),"Portfolio URL *"]}),n?d.jsxs("div",{children:[d.jsx("input",{type:"url",value:p.portfolio,onChange:P=>m(F=>({...F,portfolio:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-primary",placeholder:"https://drive.google.com/your-portfolio-link",required:!0}),d.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Enter the Google Drive URL for your portfolio"})]}):d.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:v?.data?.data?.portfolio?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(C4,{className:"text-primary",size:14}),d.jsx("a",{href:v.data.data.portfolio,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:text-darkBlue break-all",children:v.data.data.portfolio})]}):d.jsx("p",{className:"text-gray-700",children:"No portfolio URL provided."})})]})]})]}),!n&&d.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(wu,{className:"text-blue-600"}),d.jsx("div",{children:d.jsx("p",{className:"text-sm text-blue-800",children:'You are currently in preview mode. Click "Edit Information" to make changes.'})})]})})]})})]}),D.isPending&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl flex items-center gap-3",children:[d.jsx(xt,{className:"animate-spin text-primary text-xl"}),d.jsx("span",{className:"text-gray-700",children:"Updating About Us information..."})]})})]})})}var Lh=t=>t.type==="checkbox",Fl=t=>t instanceof Date,oi=t=>t==null;const k_=t=>typeof t=="object";var pr=t=>!oi(t)&&!Array.isArray(t)&&k_(t)&&!Fl(t),Lle=t=>pr(t)&&t.target?Lh(t.target)?t.target.checked:t.target.value:t,Ple=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,zle=(t,e)=>t.has(Ple(e)),Ile=t=>{const e=t.constructor&&t.constructor.prototype;return pr(e)&&e.hasOwnProperty("isPrototypeOf")},AS=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Or(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(AS&&(t instanceof Blob||r))&&(n||pr(t)))if(e=n?[]:{},!n&&!Ile(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Or(t[i]));else return t;return e}var Jy=t=>/^\w*$/.test(t),xr=t=>t===void 0,kS=t=>Array.isArray(t)?t.filter(Boolean):[],OS=t=>kS(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Rt=(t,e,n)=>{if(!e||!pr(t))return n;const r=(Jy(e)?[e]:OS(e)).reduce((i,s)=>oi(i)?i:i[s],t);return xr(r)||r===t?xr(t[e])?n:t[e]:r},Ks=t=>typeof t=="boolean",Yn=(t,e,n)=>{let r=-1;const i=Jy(e)?[e]:OS(e),s=i.length,a=s-1;for(;++r<s;){const l=i[r];let u=n;if(r!==a){const f=t[l];u=pr(f)||Array.isArray(f)?f:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=u,t=t[l]}};const F3={BLUR:"blur",FOCUS_OUT:"focusout"},Ns={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Oa={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ble=Ut.createContext(null);Ble.displayName="HookFormContext";var Fle=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==Ns.all&&(e._proxyFormState[a]=!r||Ns.all),t[a]}});return i};const $le=typeof window<"u"?Ut.useLayoutEffect:Ut.useEffect;var Xs=t=>typeof t=="string",Vle=(t,e,n,r,i)=>Xs(t)?(r&&e.watch.add(t),Rt(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Rt(n,s))):(r&&(e.watchAll=!0),n),yw=t=>oi(t)||!k_(t);function ko(t,e,n=new WeakSet){if(yw(t)||yw(e))return t===e;if(Fl(t)&&Fl(e))return t.getTime()===e.getTime();const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const s of r){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const l=e[s];if(Fl(a)&&Fl(l)||pr(a)&&pr(l)||Array.isArray(a)&&Array.isArray(l)?!ko(a,l,n):a!==l)return!1}}return!0}var Ule=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Df=t=>Array.isArray(t)?t:[t],$3=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},bi=t=>pr(t)&&!Object.keys(t).length,MS=t=>t.type==="file",Ts=t=>typeof t=="function",oy=t=>{if(!AS)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},O_=t=>t.type==="select-multiple",DS=t=>t.type==="radio",Hle=t=>DS(t)||Lh(t),Tb=t=>oy(t)&&t.isConnected;function qle(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=xr(t)?r++:t[e[r++]];return t}function Kle(t){for(const e in t)if(t.hasOwnProperty(e)&&!xr(t[e]))return!1;return!0}function yr(t,e){const n=Array.isArray(e)?e:Jy(e)?[e]:OS(e),r=n.length===1?t:qle(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(pr(r)&&bi(r)||Array.isArray(r)&&Kle(r))&&yr(t,n.slice(0,-1)),t}var M_=t=>{for(const e in t)if(Ts(t[e]))return!0;return!1};function ly(t,e={}){const n=Array.isArray(t);if(pr(t)||n)for(const r in t)Array.isArray(t[r])||pr(t[r])&&!M_(t[r])?(e[r]=Array.isArray(t[r])?[]:{},ly(t[r],e[r])):oi(t[r])||(e[r]=!0);return e}function D_(t,e,n){const r=Array.isArray(t);if(pr(t)||r)for(const i in t)Array.isArray(t[i])||pr(t[i])&&!M_(t[i])?xr(e)||yw(n[i])?n[i]=Array.isArray(t[i])?ly(t[i],[]):{...ly(t[i])}:D_(t[i],oi(e)?{}:e[i],n[i]):n[i]=!ko(t[i],e[i]);return n}var Jd=(t,e)=>D_(t,e,ly(e));const V3={value:!1,isValid:!1},U3={value:!0,isValid:!0};var R_=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!xr(t[0].attributes.value)?xr(t[0].value)||t[0].value===""?U3:{value:t[0].value,isValid:!0}:U3:V3}return V3},__=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>xr(t)?t:e?t===""?NaN:t&&+t:n&&Xs(t)?new Date(t):r?r(t):t;const H3={isValid:!1,value:null};var L_=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,H3):H3;function q3(t){const e=t.ref;return MS(e)?e.files:DS(e)?L_(t.refs).value:O_(e)?[...e.selectedOptions].map(({value:n})=>n):Lh(e)?R_(t.refs).value:__(xr(e.value)?t.ref.value:e.value,t)}var Yle=(t,e,n,r)=>{const i={};for(const s of t){const a=Rt(e,s);a&&Yn(i,s,a._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},cy=t=>t instanceof RegExp,Zd=t=>xr(t)?t:cy(t)?t.source:pr(t)?cy(t.value)?t.value.source:t.value:t,K3=t=>({isOnSubmit:!t||t===Ns.onSubmit,isOnBlur:t===Ns.onBlur,isOnChange:t===Ns.onChange,isOnAll:t===Ns.all,isOnTouch:t===Ns.onTouched});const Y3="AsyncFunction";var Wle=t=>!!t&&!!t.validate&&!!(Ts(t.validate)&&t.validate.constructor.name===Y3||pr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Y3)),Gle=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),W3=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Rf=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=Rt(t,i);if(s){const{_f:a,...l}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(Rf(l,e))break}else if(pr(l)&&Rf(l,e))break}}};function G3(t,e,n){const r=Rt(t,n);if(r||Jy(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),a=Rt(e,s),l=Rt(t,s);if(a&&!Array.isArray(a)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};i.pop()}return{name:n}}var Xle=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return bi(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!r||Ns.all))},Qle=(t,e,n)=>!t||!e||t===e||Df(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),Jle=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,Zle=(t,e)=>!kS(Rt(t,e)).length&&yr(t,e),ece=(t,e,n)=>{const r=Df(Rt(t,n));return Yn(r,"root",e[n]),Yn(t,n,r),t},Km=t=>Xs(t);function X3(t,e,n="validate"){if(Km(t)||Array.isArray(t)&&t.every(Km)||Ks(t)&&!t)return{type:n,message:Km(t)?t:"",ref:e}}var Zc=t=>pr(t)&&!cy(t)?t:{value:t,message:""},Q3=async(t,e,n,r,i,s)=>{const{ref:a,refs:l,required:u,maxLength:f,minLength:p,min:m,max:y,pattern:v,validate:b,name:S,valueAsNumber:C,mount:N}=t._f,O=Rt(n,S);if(!N||e.has(S))return{};const D=l?l[0]:a,R=ne=>{i&&D.reportValidity&&(D.setCustomValidity(Ks(ne)?"":ne||""),D.reportValidity())},E={},k=DS(a),P=Lh(a),F=k||P,G=(C||MS(a))&&xr(a.value)&&xr(O)||oy(a)&&a.value===""||O===""||Array.isArray(O)&&!O.length,ge=Ule.bind(null,S,r,E),oe=(ne,ee,Ee,Oe=Oa.maxLength,K=Oa.minLength)=>{const re=ne?ee:Ee;E[S]={type:ne?Oe:K,message:re,ref:a,...ge(ne?Oe:K,re)}};if(s?!Array.isArray(O)||!O.length:u&&(!F&&(G||oi(O))||Ks(O)&&!O||P&&!R_(l).isValid||k&&!L_(l).isValid)){const{value:ne,message:ee}=Km(u)?{value:!!u,message:u}:Zc(u);if(ne&&(E[S]={type:Oa.required,message:ee,ref:D,...ge(Oa.required,ee)},!r))return R(ee),E}if(!G&&(!oi(m)||!oi(y))){let ne,ee;const Ee=Zc(y),Oe=Zc(m);if(!oi(O)&&!isNaN(O)){const K=a.valueAsNumber||O&&+O;oi(Ee.value)||(ne=K>Ee.value),oi(Oe.value)||(ee=K<Oe.value)}else{const K=a.valueAsDate||new Date(O),re=q=>new Date(new Date().toDateString()+" "+q),ue=a.type=="time",ze=a.type=="week";Xs(Ee.value)&&O&&(ne=ue?re(O)>re(Ee.value):ze?O>Ee.value:K>new Date(Ee.value)),Xs(Oe.value)&&O&&(ee=ue?re(O)<re(Oe.value):ze?O<Oe.value:K<new Date(Oe.value))}if((ne||ee)&&(oe(!!ne,Ee.message,Oe.message,Oa.max,Oa.min),!r))return R(E[S].message),E}if((f||p)&&!G&&(Xs(O)||s&&Array.isArray(O))){const ne=Zc(f),ee=Zc(p),Ee=!oi(ne.value)&&O.length>+ne.value,Oe=!oi(ee.value)&&O.length<+ee.value;if((Ee||Oe)&&(oe(Ee,ne.message,ee.message),!r))return R(E[S].message),E}if(v&&!G&&Xs(O)){const{value:ne,message:ee}=Zc(v);if(cy(ne)&&!O.match(ne)&&(E[S]={type:Oa.pattern,message:ee,ref:a,...ge(Oa.pattern,ee)},!r))return R(ee),E}if(b){if(Ts(b)){const ne=await b(O,n),ee=X3(ne,D);if(ee&&(E[S]={...ee,...ge(Oa.validate,ee.message)},!r))return R(ee.message),E}else if(pr(b)){let ne={};for(const ee in b){if(!bi(ne)&&!r)break;const Ee=X3(await b[ee](O,n),D,ee);Ee&&(ne={...Ee,...ge(ee,Ee.message)},R(Ee.message),r&&(E[S]=ne))}if(!bi(ne)&&(E[S]={ref:D,...ne},!r))return E}}return R(!0),E};const tce={mode:Ns.onSubmit,reValidateMode:Ns.onChange,shouldFocusError:!0};function nce(t={}){let e={...tce,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ts(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=pr(e.defaultValues)||pr(e.values)?Or(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Or(i),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,f=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...p};const y={array:$3(),state:$3()},v=e.criteriaMode===Ns.all,b=_=>W=>{clearTimeout(f),f=setTimeout(_,W)},S=async _=>{if(!e.disabled&&(p.isValid||m.isValid||_)){const W=e.resolver?bi((await P()).errors):await G(r,!0);W!==n.isValid&&y.state.next({isValid:W})}},C=(_,W)=>{!e.disabled&&(p.isValidating||p.validatingFields||m.isValidating||m.validatingFields)&&((_||Array.from(l.mount)).forEach(I=>{I&&(W?Yn(n.validatingFields,I,W):yr(n.validatingFields,I))}),y.state.next({validatingFields:n.validatingFields,isValidating:!bi(n.validatingFields)}))},N=(_,W=[],I,ce,ye=!0,$=!0)=>{if(ce&&I&&!e.disabled){if(a.action=!0,$&&Array.isArray(Rt(r,_))){const U=I(Rt(r,_),ce.argA,ce.argB);ye&&Yn(r,_,U)}if($&&Array.isArray(Rt(n.errors,_))){const U=I(Rt(n.errors,_),ce.argA,ce.argB);ye&&Yn(n.errors,_,U),Zle(n.errors,_)}if((p.touchedFields||m.touchedFields)&&$&&Array.isArray(Rt(n.touchedFields,_))){const U=I(Rt(n.touchedFields,_),ce.argA,ce.argB);ye&&Yn(n.touchedFields,_,U)}(p.dirtyFields||m.dirtyFields)&&(n.dirtyFields=Jd(i,s)),y.state.next({name:_,isDirty:oe(_,W),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Yn(s,_,W)},O=(_,W)=>{Yn(n.errors,_,W),y.state.next({errors:n.errors})},D=_=>{n.errors=_,y.state.next({errors:n.errors,isValid:!1})},R=(_,W,I,ce)=>{const ye=Rt(r,_);if(ye){const $=Rt(s,_,xr(I)?Rt(i,_):I);xr($)||ce&&ce.defaultChecked||W?Yn(s,_,W?$:q3(ye._f)):Ee(_,$),a.mount&&S()}},E=(_,W,I,ce,ye)=>{let $=!1,U=!1;const be={name:_};if(!e.disabled){if(!I||ce){(p.isDirty||m.isDirty)&&(U=n.isDirty,n.isDirty=be.isDirty=oe(),$=U!==be.isDirty);const We=ko(Rt(i,_),W);U=!!Rt(n.dirtyFields,_),We?yr(n.dirtyFields,_):Yn(n.dirtyFields,_,!0),be.dirtyFields=n.dirtyFields,$=$||(p.dirtyFields||m.dirtyFields)&&U!==!We}if(I){const We=Rt(n.touchedFields,_);We||(Yn(n.touchedFields,_,I),be.touchedFields=n.touchedFields,$=$||(p.touchedFields||m.touchedFields)&&We!==I)}$&&ye&&y.state.next(be)}return $?be:{}},k=(_,W,I,ce)=>{const ye=Rt(n.errors,_),$=(p.isValid||m.isValid)&&Ks(W)&&n.isValid!==W;if(e.delayError&&I?(u=b(()=>O(_,I)),u(e.delayError)):(clearTimeout(f),u=null,I?Yn(n.errors,_,I):yr(n.errors,_)),(I?!ko(ye,I):ye)||!bi(ce)||$){const U={...ce,...$&&Ks(W)?{isValid:W}:{},errors:n.errors,name:_};n={...n,...U},y.state.next(U)}},P=async _=>{C(_,!0);const W=await e.resolver(s,e.context,Yle(_||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return C(_),W},F=async _=>{const{errors:W}=await P(_);if(_)for(const I of _){const ce=Rt(W,I);ce?Yn(n.errors,I,ce):yr(n.errors,I)}else n.errors=W;return W},G=async(_,W,I={valid:!0})=>{for(const ce in _){const ye=_[ce];if(ye){const{_f:$,...U}=ye;if($){const be=l.array.has($.name),We=ye._f&&Wle(ye._f);We&&p.validatingFields&&C([ce],!0);const ht=await Q3(ye,l.disabled,s,v,e.shouldUseNativeValidation&&!W,be);if(We&&p.validatingFields&&C([ce]),ht[$.name]&&(I.valid=!1,W))break;!W&&(Rt(ht,$.name)?be?ece(n.errors,ht,$.name):Yn(n.errors,$.name,ht[$.name]):yr(n.errors,$.name))}!bi(U)&&await G(U,W,I)}}return I.valid},ge=()=>{for(const _ of l.unMount){const W=Rt(r,_);W&&(W._f.refs?W._f.refs.every(I=>!Tb(I)):!Tb(W._f.ref))&&Be(_)}l.unMount=new Set},oe=(_,W)=>!e.disabled&&(_&&W&&Yn(s,_,W),!ko(q(),i)),ne=(_,W,I)=>Vle(_,l,{...a.mount?s:xr(W)?i:Xs(_)?{[_]:W}:W},I,W),ee=_=>kS(Rt(a.mount?s:i,_,e.shouldUnregister?Rt(i,_,[]):[])),Ee=(_,W,I={})=>{const ce=Rt(r,_);let ye=W;if(ce){const $=ce._f;$&&(!$.disabled&&Yn(s,_,__(W,$)),ye=oy($.ref)&&oi(W)?"":W,O_($.ref)?[...$.ref.options].forEach(U=>U.selected=ye.includes(U.value)):$.refs?Lh($.ref)?$.refs.forEach(U=>{(!U.defaultChecked||!U.disabled)&&(Array.isArray(ye)?U.checked=!!ye.find(be=>be===U.value):U.checked=ye===U.value||!!ye)}):$.refs.forEach(U=>U.checked=U.value===ye):MS($.ref)?$.ref.value="":($.ref.value=ye,$.ref.type||y.state.next({name:_,values:Or(s)})))}(I.shouldDirty||I.shouldTouch)&&E(_,ye,I.shouldTouch,I.shouldDirty,!0),I.shouldValidate&&ze(_)},Oe=(_,W,I)=>{for(const ce in W){if(!W.hasOwnProperty(ce))return;const ye=W[ce],$=_+"."+ce,U=Rt(r,$);(l.array.has(_)||pr(ye)||U&&!U._f)&&!Fl(ye)?Oe($,ye,I):Ee($,ye,I)}},K=(_,W,I={})=>{const ce=Rt(r,_),ye=l.array.has(_),$=Or(W);Yn(s,_,$),ye?(y.array.next({name:_,values:Or(s)}),(p.isDirty||p.dirtyFields||m.isDirty||m.dirtyFields)&&I.shouldDirty&&y.state.next({name:_,dirtyFields:Jd(i,s),isDirty:oe(_,$)})):ce&&!ce._f&&!oi($)?Oe(_,$,I):Ee(_,$,I),W3(_,l)&&y.state.next({...n,name:_}),y.state.next({name:a.mount?_:void 0,values:Or(s)})},re=async _=>{a.mount=!0;const W=_.target;let I=W.name,ce=!0;const ye=Rt(r,I),$=We=>{ce=Number.isNaN(We)||Fl(We)&&isNaN(We.getTime())||ko(We,Rt(s,I,We))},U=K3(e.mode),be=K3(e.reValidateMode);if(ye){let We,ht;const Qt=W.type?q3(ye._f):Lle(_),Lt=_.type===F3.BLUR||_.type===F3.FOCUS_OUT,ln=!Gle(ye._f)&&!e.resolver&&!Rt(n.errors,I)&&!ye._f.deps||Jle(Lt,Rt(n.touchedFields,I),n.isSubmitted,be,U),sn=W3(I,l,Lt);Yn(s,I,Qt),Lt?(ye._f.onBlur&&ye._f.onBlur(_),u&&u(0)):ye._f.onChange&&ye._f.onChange(_);const Se=E(I,Qt,Lt),it=!bi(Se)||sn;if(!Lt&&y.state.next({name:I,type:_.type,values:Or(s)}),ln)return(p.isValid||m.isValid)&&(e.mode==="onBlur"?Lt&&S():Lt||S()),it&&y.state.next({name:I,...sn?{}:Se});if(!Lt&&sn&&y.state.next({...n}),e.resolver){const{errors:ft}=await P([I]);if($(Qt),ce){const de=G3(n.errors,r,I),lt=G3(ft,r,de.name||I);We=lt.error,I=lt.name,ht=bi(ft)}}else C([I],!0),We=(await Q3(ye,l.disabled,s,v,e.shouldUseNativeValidation))[I],C([I]),$(Qt),ce&&(We?ht=!1:(p.isValid||m.isValid)&&(ht=await G(r,!0)));ce&&(ye._f.deps&&ze(ye._f.deps),k(I,ht,We,Se))}},ue=(_,W)=>{if(Rt(n.errors,W)&&_.focus)return _.focus(),1},ze=async(_,W={})=>{let I,ce;const ye=Df(_);if(e.resolver){const $=await F(xr(_)?_:ye);I=bi($),ce=_?!ye.some(U=>Rt($,U)):I}else _?(ce=(await Promise.all(ye.map(async $=>{const U=Rt(r,$);return await G(U&&U._f?{[$]:U}:U)}))).every(Boolean),!(!ce&&!n.isValid)&&S()):ce=I=await G(r);return y.state.next({...!Xs(_)||(p.isValid||m.isValid)&&I!==n.isValid?{}:{name:_},...e.resolver||!_?{isValid:I}:{},errors:n.errors}),W.shouldFocus&&!ce&&Rf(r,ue,_?ye:l.mount),ce},q=_=>{const W={...a.mount?s:i};return xr(_)?W:Xs(_)?Rt(W,_):_.map(I=>Rt(W,I))},ae=(_,W)=>({invalid:!!Rt((W||n).errors,_),isDirty:!!Rt((W||n).dirtyFields,_),error:Rt((W||n).errors,_),isValidating:!!Rt(n.validatingFields,_),isTouched:!!Rt((W||n).touchedFields,_)}),pe=_=>{_&&Df(_).forEach(W=>yr(n.errors,W)),y.state.next({errors:_?n.errors:{}})},xe=(_,W,I)=>{const ce=(Rt(r,_,{_f:{}})._f||{}).ref,ye=Rt(n.errors,_)||{},{ref:$,message:U,type:be,...We}=ye;Yn(n.errors,_,{...We,...W,ref:ce}),y.state.next({name:_,errors:n.errors,isValid:!1}),I&&I.shouldFocus&&ce&&ce.focus&&ce.focus()},Re=(_,W)=>Ts(_)?y.state.subscribe({next:I=>"values"in I&&_(ne(void 0,W),I)}):ne(_,W,!0),_e=_=>y.state.subscribe({next:W=>{Qle(_.name,W.name,_.exact)&&Xle(W,_.formState||p,Ue,_.reRenderRoot)&&_.callback({values:{...s},...n,...W,defaultValues:i})}}).unsubscribe,he=_=>(a.mount=!0,m={...m,..._.formState},_e({..._,formState:m})),Be=(_,W={})=>{for(const I of _?Df(_):l.mount)l.mount.delete(I),l.array.delete(I),W.keepValue||(yr(r,I),yr(s,I)),!W.keepError&&yr(n.errors,I),!W.keepDirty&&yr(n.dirtyFields,I),!W.keepTouched&&yr(n.touchedFields,I),!W.keepIsValidating&&yr(n.validatingFields,I),!e.shouldUnregister&&!W.keepDefaultValue&&yr(i,I);y.state.next({values:Or(s)}),y.state.next({...n,...W.keepDirty?{isDirty:oe()}:{}}),!W.keepIsValid&&S()},Le=({disabled:_,name:W})=>{(Ks(_)&&a.mount||_||l.disabled.has(W))&&(_?l.disabled.add(W):l.disabled.delete(W))},ot=(_,W={})=>{let I=Rt(r,_);const ce=Ks(W.disabled)||Ks(e.disabled);return Yn(r,_,{...I||{},_f:{...I&&I._f?I._f:{ref:{name:_}},name:_,mount:!0,...W}}),l.mount.add(_),I?Le({disabled:Ks(W.disabled)?W.disabled:e.disabled,name:_}):R(_,!0,W.value),{...ce?{disabled:W.disabled||e.disabled}:{},...e.progressive?{required:!!W.required,min:Zd(W.min),max:Zd(W.max),minLength:Zd(W.minLength),maxLength:Zd(W.maxLength),pattern:Zd(W.pattern)}:{},name:_,onChange:re,onBlur:re,ref:ye=>{if(ye){ot(_,W),I=Rt(r,_);const $=xr(ye.value)&&ye.querySelectorAll&&ye.querySelectorAll("input,select,textarea")[0]||ye,U=Hle($),be=I._f.refs||[];if(U?be.find(We=>We===$):$===I._f.ref)return;Yn(r,_,{_f:{...I._f,...U?{refs:[...be.filter(Tb),$,...Array.isArray(Rt(i,_))?[{}]:[]],ref:{type:$.type,name:_}}:{ref:$}}}),R(_,!1,void 0,$)}else I=Rt(r,_,{}),I._f&&(I._f.mount=!1),(e.shouldUnregister||W.shouldUnregister)&&!(zle(l.array,_)&&a.action)&&l.unMount.add(_)}}},ut=()=>e.shouldFocusError&&Rf(r,ue,l.mount),Bt=_=>{Ks(_)&&(y.state.next({disabled:_}),Rf(r,(W,I)=>{const ce=Rt(r,I);ce&&(W.disabled=ce._f.disabled||_,Array.isArray(ce._f.refs)&&ce._f.refs.forEach(ye=>{ye.disabled=ce._f.disabled||_}))},0,!1))},dt=(_,W)=>async I=>{let ce;I&&(I.preventDefault&&I.preventDefault(),I.persist&&I.persist());let ye=Or(s);if(y.state.next({isSubmitting:!0}),e.resolver){const{errors:$,values:U}=await P();n.errors=$,ye=Or(U)}else await G(r);if(l.disabled.size)for(const $ of l.disabled)yr(ye,$);if(yr(n.errors,"root"),bi(n.errors)){y.state.next({errors:{}});try{await _(ye,I)}catch($){ce=$}}else W&&await W({...n.errors},I),ut(),setTimeout(ut);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:bi(n.errors)&&!ce,submitCount:n.submitCount+1,errors:n.errors}),ce)throw ce},_t=(_,W={})=>{Rt(r,_)&&(xr(W.defaultValue)?K(_,Or(Rt(i,_))):(K(_,W.defaultValue),Yn(i,_,Or(W.defaultValue))),W.keepTouched||yr(n.touchedFields,_),W.keepDirty||(yr(n.dirtyFields,_),n.isDirty=W.defaultValue?oe(_,Or(Rt(i,_))):oe()),W.keepError||(yr(n.errors,_),p.isValid&&S()),y.state.next({...n}))},st=(_,W={})=>{const I=_?Or(_):i,ce=Or(I),ye=bi(_),$=ye?i:ce;if(W.keepDefaultValues||(i=I),!W.keepValues){if(W.keepDirtyValues){const U=new Set([...l.mount,...Object.keys(Jd(i,s))]);for(const be of Array.from(U))Rt(n.dirtyFields,be)?Yn($,be,Rt(s,be)):K(be,Rt($,be))}else{if(AS&&xr(_))for(const U of l.mount){const be=Rt(r,U);if(be&&be._f){const We=Array.isArray(be._f.refs)?be._f.refs[0]:be._f.ref;if(oy(We)){const ht=We.closest("form");if(ht){ht.reset();break}}}}if(W.keepFieldsRef)for(const U of l.mount)K(U,Rt($,U));else r={}}s=e.shouldUnregister?W.keepDefaultValues?Or(i):{}:Or($),y.array.next({values:{...$}}),y.state.next({values:{...$}})}l={mount:W.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!p.isValid||!!W.keepIsValid||!!W.keepDirtyValues,a.watch=!!e.shouldUnregister,y.state.next({submitCount:W.keepSubmitCount?n.submitCount:0,isDirty:ye?!1:W.keepDirty?n.isDirty:!!(W.keepDefaultValues&&!ko(_,i)),isSubmitted:W.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ye?{}:W.keepDirtyValues?W.keepDefaultValues&&s?Jd(i,s):n.dirtyFields:W.keepDefaultValues&&_?Jd(i,_):W.keepDirty?n.dirtyFields:{},touchedFields:W.keepTouched?n.touchedFields:{},errors:W.keepErrors?n.errors:{},isSubmitSuccessful:W.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Z=(_,W)=>st(Ts(_)?_(s):_,W),$e=(_,W={})=>{const I=Rt(r,_),ce=I&&I._f;if(ce){const ye=ce.refs?ce.refs[0]:ce.ref;ye.focus&&(ye.focus(),W.shouldSelect&&Ts(ye.select)&&ye.select())}},Ue=_=>{n={...n,..._}},Nt={control:{register:ot,unregister:Be,getFieldState:ae,handleSubmit:dt,setError:xe,_subscribe:_e,_runSchema:P,_focusError:ut,_getWatch:ne,_getDirty:oe,_setValid:S,_setFieldArray:N,_setDisabledField:Le,_setErrors:D,_getFieldArray:ee,_reset:st,_resetDefaultValues:()=>Ts(e.defaultValues)&&e.defaultValues().then(_=>{Z(_,e.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:ge,_disableForm:Bt,_subjects:y,_proxyFormState:p,get _fields(){return r},get _formValues(){return s},get _state(){return a},set _state(_){a=_},get _defaultValues(){return i},get _names(){return l},set _names(_){l=_},get _formState(){return n},get _options(){return e},set _options(_){e={...e,..._}}},subscribe:he,trigger:ze,register:ot,handleSubmit:dt,watch:Re,setValue:K,getValues:q,reset:Z,resetField:_t,clearErrors:pe,unregister:Be,setError:xe,setFocus:$e,getFieldState:ae};return{...Nt,formControl:Nt}}function rce(t={}){const e=Ut.useRef(void 0),n=Ut.useRef(void 0),[r,i]=Ut.useState({isDirty:!1,isValidating:!1,isLoading:Ts(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ts(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!Ts(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...l}=nce(t);e.current={...l,formState:r}}const s=e.current.control;return s._options=t,$le(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),s._formState.isReady=!0,a},[s]),Ut.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Ut.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),Ut.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),Ut.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),Ut.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==r.isDirty&&s._subjects.state.next({isDirty:a})}},[s,r.isDirty]),Ut.useEffect(()=>{t.values&&!ko(t.values,n.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),n.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[s,t.values]),Ut.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=Fle(r,s),e.current}function ice(){const t=_s(),[e,n]=T.useState(!1),[r,i]=T.useState(null),[s,a]=T.useState(null),[l,u]=T.useState(!1),[f,p]=T.useState(""),[m,y]=T.useState(null),{register:v,handleSubmit:b,reset:S,watch:C,setValue:N,formState:{errors:O}}=rce(),{data:D,isLoading:R}=wn({queryKey:["currentUser"],queryFn:()=>Ye.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})});T.useEffect(()=>{e&&D?.data?.data?.admin&&(N("name",D.data.data.admin.name),N("email",D.data.data.admin.email),N("bio",D.data.data.admin.bio||""))},[e,D,N]);const E=ji({mutationFn:async()=>Ye.post("https://nexus-consults.com/api/public/api/admin/auth/settings/request-update",{},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),onSuccess:()=>{br.success("Verification code sent to your email"),u(!0)},onError:oe=>{br.error(oe.response?.data?.message||"Failed to send verification code")}}),k=ji({mutationFn:async({formData:oe,verificationCode:ne})=>{const ee=new FormData;return ee.append("name",oe.name),ee.append("email",oe.email),ee.append("bio",oe.bio),ee.append("code",ne),oe.password&&ee.append("password",oe.password),r&&ee.append("profile_image",r),Ye.post("https://nexus-consults.com/api/public/api/admin/auth/settings/confirm-update",ee,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}})},onSuccess:()=>{br.success("Profile updated successfully"),t.invalidateQueries(["currentUser"]),n(!1),i(null),a(null),u(!1),p(""),y(null)},onError:oe=>{br.error(oe.response?.data?.message||"Failed to update profile")}}),P=oe=>{const ne=oe.target.files[0];if(ne){i(ne);const ee=new FileReader;ee.onloadend=()=>{a(ee.result)},ee.readAsDataURL(ne)}},F=oe=>{y(oe),E.mutate()},G=()=>{if(!f.trim()){br.error("Please enter verification code");return}k.mutate({formData:m,verificationCode:f.trim()})},ge=()=>{u(!1),p(""),y(null)};return R?d.jsxs("div",{className:"mx-auto p-6",children:[d.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-8 animate-pulse"}),d.jsxs("div",{className:"flex flex-col gap-8",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[d.jsxs("div",{className:"flex items-center mb-8",children:[d.jsx("div",{className:"relative",children:d.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 animate-pulse"})}),d.jsxs("div",{className:"ml-6 space-y-2",children:[d.jsx("div",{className:"h-6 bg-gray-200 rounded w-40 animate-pulse"}),d.jsx("div",{className:"h-4 bg-gray-200 rounded w-48 animate-pulse"}),d.jsx("div",{className:"h-3 bg-gray-200 rounded w-32 animate-pulse"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[[1,2,3,4].map(oe=>d.jsxs("div",{children:[d.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-1 animate-pulse"}),d.jsx("div",{className:"h-10 bg-gray-100 rounded-md animate-pulse"})]},oe)),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/6 mb-1 animate-pulse"}),d.jsx("div",{className:"h-20 bg-gray-100 rounded-md animate-pulse"})]})]}),d.jsx("div",{className:"mt-8 flex justify-end",children:d.jsx("div",{className:"h-10 bg-gray-200 rounded w-32 animate-pulse"})})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[d.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-6 animate-pulse"}),d.jsx("div",{className:"flex flex-wrap gap-3",children:[1,2,3,4,5].map(oe=>d.jsx("div",{className:"h-8 bg-gray-100 rounded-xl w-24 animate-pulse"},oe))})]})]})]}):d.jsxs("div",{className:"mx-auto p-6",children:[d.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:["Welcome ",D?.data?.data?.admin?.name.split(" ")[0]]}),d.jsxs("div",{className:"flex flex-col gap-8",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[d.jsxs("div",{className:"flex items-center mb-8",children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:s||D?.data?.data?.admin?.profile_image,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-2 border-gray-200"}),e&&d.jsxs("label",{className:"absolute bottom-0 right-0 bg-blue-500 text-white rounded-full p-2 cursor-pointer",children:[d.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:P}),d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 3H8.828a2 2 0 00-1.414.586L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})})]})]}),d.jsxs("div",{className:"ml-6",children:[d.jsx("h2",{className:"text-xl font-semibold",children:D?.data?.data?.admin?.name}),d.jsx("p",{className:"text-gray-600",children:D?.data?.data?.admin?.email})]})]}),d.jsxs("form",{onSubmit:b(F),children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),e?d.jsx("input",{type:"text",...v("name",{required:"Name is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:E.isPending}):d.jsx("p",{className:"px-3 py-2 bg-gray-50 rounded-md",children:D?.data?.data?.admin?.name}),O.name&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:O.name.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e?d.jsx("input",{type:"email",...v("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):d.jsx("p",{className:"px-3 py-2 bg-gray-50 rounded-md",children:D?.data?.data?.admin?.email}),O.email&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:O.email.message})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bio"}),e?d.jsx("textarea",{...v("bio"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Tell us about yourself...",disabled:E.isPending}):d.jsx("p",{className:"px-3 py-2 bg-gray-50 rounded-md whitespace-pre-line",children:D?.data?.data?.admin?.bio||"No bio yet"})]}),e&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),d.jsx("input",{type:"password",...v("password"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Leave blank to keep current password",disabled:E.isPending})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),d.jsx("input",{type:"password",...v("confirmPassword",{validate:oe=>{const ne=C("password");return!ne&&!oe?!0:oe===ne||"Passwords do not match"}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Confirm new password",disabled:E.isPending}),O.confirmPassword&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:O.confirmPassword.message})]})]})]}),d.jsx("div",{className:"mt-8 flex justify-end space-x-3",children:e?d.jsxs(d.Fragment,{children:[d.jsx("button",{type:"button",onClick:()=>{n(!1),S(),i(null),a(null)},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:E.isPending,children:"Cancel"}),d.jsxs("button",{type:"submit",disabled:E.isPending,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[E.isPending&&d.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 714 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),E.isPending?"Sending Code...":"Save Changes"]})]}):d.jsx("button",{type:"button",onClick:()=>n(!0),className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Edit Profile"})})]})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[d.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Permissions"}),d.jsx("div",{className:"flex flex-wrap gap-3",children:D?.data?.data?.admin?.permissions?.map((oe,ne)=>d.jsx("div",{className:"bg-gray-100 shadow p-1 rounded-xl",children:oe.replaceAll("_"," ")},ne))})]})]}),l&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Email Verification"}),d.jsx("button",{onClick:ge,className:"text-gray-500 hover:text-gray-700",disabled:k.isPending,children:d.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsx("p",{className:"text-gray-600 mb-4",children:"We've sent a verification code to your email address. Please enter it below to confirm your profile changes."}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Verification Code"}),d.jsx("input",{type:"text",value:f,onChange:oe=>p(oe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter 6-digit code",maxLength:6,disabled:k.isPending})]}),d.jsxs("div",{className:"flex justify-end space-x-3",children:[d.jsx("button",{type:"button",onClick:ge,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:k.isPending,children:"Cancel"}),d.jsxs("button",{onClick:G,disabled:k.isPending||!f.trim(),className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[k.isPending&&d.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 714 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),k.isPending?"Updating...":"Verify & Update"]})]}),d.jsx("div",{className:"mt-4 text-center",children:d.jsxs("button",{onClick:()=>E.mutate(),disabled:E.isPending||k.isPending,className:"text-blue-500 hover:text-blue-600 text-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 mx-auto",children:[E.isPending&&d.jsxs("svg",{className:"animate-spin h-3 w-3",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 714 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),E.isPending?"Sending...":"Resend Code"]})})]})})]})}function sce({disciplinessData:t,loading:e,refetch:n}){const r=Hn();_s();const[i,s]=T.useState([]),[a,l]=T.useState(!1),[u,f]=T.useState(!1),[p,m]=T.useState({global:"",title:"",is_active:"",created_by:"",created_from:"",created_to:""}),[y,v]=T.useState(1),[b]=T.useState(10),[S,C]=T.useState(null),[N,O]=T.useState(!1),[D,R]=T.useState(null),[E,k]=T.useState(null),[P,F]=T.useState(!1),[G,ge]=T.useState(null),[oe,ne]=T.useState(!1),[ee,Ee]=T.useState(!1),[Oe,K]=T.useState({title:"",is_active:!0}),{data:re}=wn({queryKey:["currentUser"],queryFn:()=>Ye.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}),{data:ue,isLoading:ze,refetch:q}=wn({queryKey:["discipline",G],queryFn:()=>G?Ye.get(`https://nexus-consults.com/api/public/api/admin/disciplines/${G}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}).then(_=>_.data.data):Promise.resolve(null),enabled:!!G}),ae=(_,W)=>{m(I=>({...I,[_]:W})),v(1)},pe=_=>{R(_),O(!0)},xe=async()=>{if(D){C(D),O(!1);try{await Ye.delete(`https://nexus-consults.com/api/public/api/admin/disciplines/${D}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),me.success("Discipline deleted successfully",{duration:2e3}),n()}catch(_){me.error(_.response?.data?.message||"An unexpected error occurred",{duration:3e3}),_.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),_.response?.status==403&&(me.error("You are not authorized to view this page"),r("/home"))}finally{C(null),R(null)}}},Re=_=>{ge(_),F(!0)},_e=()=>{Ee(!1),K({title:"",is_active:!0}),ne(!0)},he=_=>{ge(_.id),Ee(!0),K({title:_.title||"",is_active:_.is_active||!1}),ne(!0)};T.useEffect(()=>{ee&&ue&&K(_=>({..._,title:ue.title||_.title,is_active:ue.is_active||_.is_active}))},[ee,ue]);const Be=ji({mutationFn:_=>Ye.post("https://nexus-consults.com/api/public/api/admin/disciplines",_,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"application/json"}}),onSuccess:()=>{me.success("Discipline created successfully"),ne(!1),n()},onError:_=>{me.error(_.response?.data?.message||"Failed to create discipline"),_.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),_.response?.status==403&&me.error("You are not authorized to perform this action")}}),Le=ji({mutationFn:({disciplineId:_,formData:W})=>Ye.put(`https://nexus-consults.com/api/public/api/admin/disciplines/${_}`,W,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"application/json"}}),onSuccess:()=>{me.success("Discipline updated successfully"),ne(!1),n(),q()},onError:_=>{me.error(_.response?.data?.message||"Failed to update discipline"),_.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),_.response?.status==403&&me.error("You are not authorized to perform this action")}}),ot=ji({mutationFn:_=>Ye.patch(`https://nexus-consults.com/api/public/api/admin/disciplines/${_}/toggle-active`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),onMutate:_=>{k(_)},onSuccess:()=>{me.success("Status updated successfully"),n()},onError:_=>{me.error(_.response?.data?.message||"Failed to update status"),_.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),_.response?.status==403&&me.error("You are not authorized to perform this action")},onSettled:()=>{k(null)}}),ut=(_,W)=>{ot.mutate(_)},Bt=_=>{if(_.preventDefault(),!Oe.title){me.error("Please fill in all required fields");return}ee?Le.mutate({disciplineId:G,formData:Oe}):Be.mutate(Oe)},dt=t?.filter(_=>{const W=p.global===""||_.title?.toLowerCase().includes(p.global.toLowerCase())||_.created_by?.toLowerCase().includes(p.global.toLowerCase()),I=p.title===""||_.title?.toLowerCase().includes(p.title.toLowerCase()),ce=p.created_by===""||_.created_by?.toLowerCase().includes(p.created_by.toLowerCase()),ye=p.is_active===""||_.is_active?.toString()===p.is_active;let $=!0;if(_.created_at){const U=new Date(_.created_at);if(p.created_from){const be=new Date(`${p.created_from}T00:00:00`);U<be&&($=!1)}if($&&p.created_to){const be=new Date(`${p.created_to}T23:59:59.999`);U>be&&($=!1)}}return W&&I&&ce&&ye&&$})||[],_t=Math.ceil(dt.length/b),st=dt.slice((y-1)*b,y*b),Z=_=>{const W=_?"bg-[#009379] text-white":"bg-[#930002] text-white";return d.jsx("span",{className:`flex justify-center w-fit items-center px-2.5 py-1 rounded-md text-xs font-medium ${W} min-w-16 text-center`,children:_?"Active":"Inactive"})},$e=()=>_t<=1?null:d.jsxs("div",{className:"flex justify-between items-center mt-4 px-4 pb-1",children:[d.jsxs("div",{className:"text-xs",children:["Showing ",(y-1)*b+1,"-",Math.min(y*b,dt.length)," of ",dt.length," entries"]}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{onClick:()=>v(1),disabled:y===1,className:"p-1 disabled:opacity-50",children:d.jsx(Jo,{className:"h-4 w-4"})}),d.jsxs("span",{className:"px-3 py-1",children:["Page ",y," of ",_t]}),d.jsx("button",{onClick:()=>v(_=>Math.min(_t,_+1)),disabled:y===_t,className:"p-1 disabled:opacity-50",children:d.jsx(Zo,{className:"h-4 w-4"})})]})]}),Ue=(_,W)=>{s(W?I=>[...I,_]:I=>I.filter(ce=>ce!==_))},Qe=_=>{_?(s(dt.map(W=>W.id)),l(!0)):(s([]),l(!1))},Nt=async()=>{if(i.length)try{f(!0),await Ye.post("https://nexus-consults.com/api/public/api/admin/disciplines/bulk/delete",{ids:i},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),me.success(`${i.length} discipline(s) deleted successfully`),s([]),l(!1),n()}catch(_){console.error("Error deleting disciplines:",_),me.error(_.response?.data?.message||"Failed to delete disciplines")}finally{f(!1)}};return d.jsxs("div",{className:"shadow-2xl rounded-2xl overflow-hidden bg-white",children:[d.jsxs("div",{className:"p-4 border-b flex justify-between items-center gap-4",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(E2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),d.jsx("input",{type:"text",value:p.global,onChange:_=>ae("global",_.target.value),placeholder:"Search disciplines...",className:"pl-10 pr-4 py-2 rounded-xl shadow-sm focus:outline-2 focus:outline-primary w-full border border-primary transition-all"})]}),re?.data?.data?.admin?.permissions?.includes("create_disciplines")&&d.jsxs("button",{onClick:_e,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl hover:bg-darkBlue transition-all",children:[d.jsx(ei,{size:16}),"Add Discipline"]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:a&&dt.length>0,onChange:_=>Qe(_.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),d.jsx("span",{className:"ml-2",children:"Title"})]})}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsxs("select",{value:p.is_active,onChange:_=>ae("is_active",_.target.value),className:"text-xs p-1 border rounded w-full",children:[d.jsx("option",{value:"",children:"All Status"}),d.jsx("option",{value:"true",children:"Active"}),d.jsx("option",{value:"false",children:"Inactive"})]})}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d.jsx("input",{type:"text",value:p.created_by,onChange:_=>ae("created_by",_.target.value),placeholder:"Created By",className:"text-xs p-1 border rounded w-full"})}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created Date"}),d.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:e?d.jsx("tr",{children:d.jsx("td",{colSpan:"5",className:"px-3 py-4 text-center",children:d.jsxs("div",{className:"flex justify-center items-center gap-2",children:[d.jsx(xt,{className:"animate-spin",size:18}),"Loading disciplines..."]})})}):st.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:"5",className:"px-3 py-4 text-center",children:"No disciplines found"})}):st.map(_=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:i.includes(_.id),onChange:W=>Ue(_.id,W.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),d.jsx("div",{className:"ml-2",children:d.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.title})})]})}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Z(_.is_active)}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:d.jsx("div",{className:"text-sm text-gray-900",children:_.created_by||"-"})}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:d.jsx("div",{className:"text-sm text-gray-900",children:_.created_at?new Date(_.created_at).toLocaleDateString():"-"})}),d.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{className:"text-blue-500 hover:text-blue-700 p-1",onClick:()=>Re(_),title:"View Details",children:d.jsx(wu,{size:16})}),re?.data?.data?.admin?.permissions?.includes("edit_disciplines")&&d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"text-purple-500 hover:text-purple-700 p-1",onClick:()=>he(_),title:"Edit",children:d.jsx(As,{size:16})}),d.jsx("button",{className:`${_.is_active?"text-green-500 hover:text-green-700":"text-red-500 hover:text-red-700"} p-1`,onClick:()=>ut(_.id,_.is_active),disabled:E===_.id,title:_.is_active?"Deactivate":"Activate",children:E===_.id?d.jsx(xt,{className:"animate-spin",size:16}):_.is_active?d.jsx(Zr,{}):d.jsx(Kt,{})})]}),re?.data?.data?.admin?.permissions?.includes("delete_disciplines")&&d.jsx("button",{className:"text-red-500 hover:text-red-700 p-1",onClick:()=>pe(_.id),disabled:S===_.id,title:"Delete",children:S===_.id?d.jsx(xt,{className:"animate-spin",size:16}):d.jsx(Un,{size:16})})]})})]},_.id))})]})}),i.length>0&&d.jsx("div",{className:"bg-blue-50 p-4 rounded-md mb-6 border border-blue-200",children:d.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[d.jsxs("div",{className:"text-blue-800 font-medium",children:[i.length," discipline(s) selected"]}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsxs("button",{onClick:Nt,disabled:u,className:"flex items-center px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 text-sm",children:[d.jsx(Un,{className:"mr-1.5"}),"Delete Selected"]}),d.jsxs("button",{onClick:()=>{s([]),l(!1)},className:"flex items-center px-3 py-1.5 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 text-sm",children:[d.jsx(Kt,{className:"mr-1.5"}),"Clear Selection"]}),u&&d.jsxs("div",{className:"flex items-center",children:[d.jsx(xt,{className:"animate-spin mr-1.5"}),"Loading..."]})]})]})}),!e&&$e(),P&&d.jsx(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>F(!1),children:d.jsx(jt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:_=>_.stopPropagation(),children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Discipline Details"}),d.jsx("button",{onClick:()=>F(!1),className:"text-gray-500 hover:text-gray-700",children:d.jsx(Kt,{size:20})})]}),G?d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),d.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:G.title})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),d.jsx("div",{className:"mt-1",children:Z(G.is_active)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Created By"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900",children:G.created_by||"-"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Created On"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(G.created_at).toLocaleString()})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Updated"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(G.updated_at).toLocaleString()})]})]})]})}):d.jsx("div",{className:"text-center py-8 text-gray-500",children:"Failed to load discipline details"})]})})}),oe&&d.jsxs(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[d.jsx("button",{onClick:()=>{ne(!1)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:d.jsx(ui,{className:"",size:40})}),d.jsx(jt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:_=>_.stopPropagation(),children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900",children:ee?"Edit Discipline":"Add New Discipline"}),d.jsx("button",{onClick:()=>ne(!1),className:"text-gray-500 hover:text-gray-700",children:d.jsx(Kt,{size:20})})]}),d.jsxs("form",{onSubmit:Bt,children:[d.jsx("div",{className:"grid grid-cols-1 gap-4 mb-4",children:d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),d.jsx("input",{type:"text",value:Oe.title,onChange:_=>K(W=>({...W,title:_.target.value})),className:"w-full px-3 py-2 border rounded-md focus:outline-primary",placeholder:"Enter discipline title",required:!0})]})}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>ne(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:Be.isPending||Le.isPending,className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center gap-2 disabled:opacity-50",children:Be.isPending||Le.isPending?d.jsxs(d.Fragment,{children:[d.jsx(xt,{className:"animate-spin"}),ee?"Updating...":"Creating..."]}):ee?"Update Discipline":"Create Discipline"})]})]})]})})]}),N&&d.jsx(jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>O(!1),children:d.jsx(jt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:_=>_.stopPropagation(),children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:d.jsx(Un,{className:"h-5 w-5 text-red-600"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Discipline"}),d.jsx("div",{className:"mt-2",children:d.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this discipline? This action cannot be undone."})})]})]}),d.jsxs("div",{className:"mt-5 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>O(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),d.jsx("button",{type:"button",onClick:xe,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})})})]})}function ace(){const t=Hn(),{data:e,isLoading:n,isError:r,error:i,refetch:s}=wn({queryKey:["disciplines"],queryFn:()=>Ye.get("https://nexus-consults.com/api/public/api/admin/disciplines",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})});return T.useEffect(()=>{r&&(i.response?.status==401&&(localStorage.removeItem("userToken"),t("/login")),i.response?.status==403&&(toast.error("You are not authorized to view this page"),t("/home")))},[r]),d.jsxs("div",{className:"p-4",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Disciplines"}),d.jsx(sce,{disciplinessData:e?.data?.data||[],loading:n,refetch:s})]})}function oce(){const t=Hn(),e=()=>{window.location.reload()},n=()=>{t("/")};return d.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 px-4",children:d.jsxs("div",{className:"text-center max-w-md mx-auto",children:[d.jsx("div",{className:"mb-6",children:d.jsx("div",{className:"w-24 h-24 mx-auto bg-red-100 rounded-full flex items-center justify-center",children:d.jsx("svg",{className:"w-12 h-12 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})})}),d.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-4",children:"Unexpected Error Occurred"}),d.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"We apologize for the inconvenience. Please try refreshing the page or return to the homepage."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[d.jsx("button",{onClick:e,className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors duration-200",children:d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh Page"]})}),d.jsx("button",{onClick:n,className:"px-6 py-3 bg-gray-200 text-gray-900 font-medium rounded-lg hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 transition-colors duration-200",children:d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Go Home"]})})]}),d.jsx("p",{className:"text-sm text-gray-500 mt-8",children:"If the problem persists, please contact support."})]})})}function lce(){const t=VP([{path:"/login",element:d.jsx(fU,{})},{path:"/",element:d.jsx(ns,{children:d.jsx(Tq,{})}),errorElement:d.jsx(oce,{}),children:[{index:!0,element:d.jsx(ns,{children:d.jsx(wle,{})})},{path:"/services",element:d.jsx(ns,{children:d.jsx(ble,{})})},{path:"/projects",element:d.jsx(ns,{children:d.jsx(Cle,{})})},{path:"/admins",element:d.jsx(ns,{children:d.jsx(Tle,{})})},{path:"/blogs",element:d.jsx(ns,{children:d.jsx(Ele,{})})},{path:"/jobs",element:d.jsx(ns,{children:d.jsx(kle,{})})},{path:"/jobs-applications",element:d.jsx(ns,{children:d.jsx(Mle,{})})},{path:"/testmonials",element:d.jsx(ns,{children:d.jsx(Rle,{})})},{path:"/about-us",element:d.jsx(ns,{children:d.jsx(_le,{})})},{path:"/user-setting",element:d.jsx(ns,{children:d.jsx(ice,{})})},{path:"/disciplines",element:d.jsx(ns,{children:d.jsx(ace,{})})}]},{path:"*",element:d.jsx(cK,{})}]);let e=new IU({defaultOptions:{queries:{retry:!1}}});return d.jsx(d.Fragment,{children:d.jsx(hU,{children:d.jsxs(UU,{client:e,children:[d.jsx(ZP,{router:t}),d.jsx(z$,{position:"bottom-right",reverseOrder:!1})]})})})}qL.createRoot(document.getElementById("root")).render(d.jsx(T.StrictMode,{children:d.jsx(lce,{})}))});export default cce();
