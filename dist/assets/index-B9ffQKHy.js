var $L=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var pce=$L((Vs,Hs)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Vp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ka(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qx={exports:{}},Fd={};var sT;function UL(){if(sT)return Fd;sT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,i){var a=null;if(i!==void 0&&(a=""+i),s.key!==void 0&&(a=""+s.key),"key"in s){i={};for(var l in s)l!=="key"&&(i[l]=s[l])}else i=s;return s=i.ref,{$$typeof:t,type:r,key:a,ref:s!==void 0?s:null,props:i}}return Fd.Fragment=e,Fd.jsx=n,Fd.jsxs=n,Fd}var iT;function VL(){return iT||(iT=1,Qx.exports=UL()),Qx.exports}var u=VL(),Zx={exports:{}},on={};var aT;function HL(){if(aT)return on;aT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(U){return U===null||typeof U!="object"?null:(U=m&&U[m]||U["@@iterator"],typeof U=="function"?U:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,S={};function C(U,ue,se){this.props=U,this.context=ue,this.refs=S,this.updater=se||x}C.prototype.isReactComponent={},C.prototype.setState=function(U,ue){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ue,"setState")},C.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function N(){}N.prototype=C.prototype;function k(U,ue,se){this.props=U,this.context=ue,this.refs=S,this.updater=se||x}var D=k.prototype=new N;D.constructor=k,b(D,C.prototype),D.isPureReactComponent=!0;var M=Array.isArray,E={H:null,A:null,T:null,S:null,V:null},A=Object.prototype.hasOwnProperty;function P(U,ue,se,fe,Ee,Pe){return se=Pe.ref,{$$typeof:t,type:U,key:ue,ref:se!==void 0?se:null,props:Pe}}function F(U,ue){return P(U.type,ue,void 0,void 0,void 0,U.props)}function ee(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function be(U){var ue={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(se){return ue[se]})}var ce=/\/+/g;function ae(U,ue){return typeof U=="object"&&U!==null&&U.key!=null?be(""+U.key):ue.toString(36)}function te(){}function ke(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(te,te):(U.status="pending",U.then(function(ue){U.status==="pending"&&(U.status="fulfilled",U.value=ue)},function(ue){U.status==="pending"&&(U.status="rejected",U.reason=ue)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function ze(U,ue,se,fe,Ee){var Pe=typeof U;(Pe==="undefined"||Pe==="boolean")&&(U=null);var Oe=!1;if(U===null)Oe=!0;else switch(Pe){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(U.$$typeof){case t:case e:Oe=!0;break;case p:return Oe=U._init,ze(Oe(U._payload),ue,se,fe,Ee)}}if(Oe)return Ee=Ee(U),Oe=fe===""?"."+ae(U,0):fe,M(Ee)?(se="",Oe!=null&&(se=Oe.replace(ce,"$&/")+"/"),ze(Ee,ue,se,"",function(ut){return ut})):Ee!=null&&(ee(Ee)&&(Ee=F(Ee,se+(Ee.key==null||U&&U.key===Ee.key?"":(""+Ee.key).replace(ce,"$&/")+"/")+Oe)),ue.push(Ee)),1;Oe=0;var Ye=fe===""?".":fe+":";if(M(U))for(var Me=0;Me<U.length;Me++)fe=U[Me],Pe=Ye+ae(fe,Me),Oe+=ze(fe,ue,se,Pe,Ee);else if(Me=y(U),typeof Me=="function")for(U=Me.call(U),Me=0;!(fe=U.next()).done;)fe=fe.value,Pe=Ye+ae(fe,Me++),Oe+=ze(fe,ue,se,Pe,Ee);else if(Pe==="object"){if(typeof U.then=="function")return ze(ke(U),ue,se,fe,Ee);throw ue=String(U),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function W(U,ue,se){if(U==null)return U;var fe=[],Ee=0;return ze(U,fe,"","",function(Pe){return ue.call(se,Pe,Ee++)}),fe}function oe(U){if(U._status===-1){var ue=U._result;ue=ue(),ue.then(function(se){(U._status===0||U._status===-1)&&(U._status=1,U._result=se)},function(se){(U._status===0||U._status===-1)&&(U._status=2,U._result=se)}),U._status===-1&&(U._status=0,U._result=ue)}if(U._status===1)return U._result.default;throw U._result}var ye=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function Fe(){}return on.Children={map:W,forEach:function(U,ue,se){W(U,function(){ue.apply(this,arguments)},se)},count:function(U){var ue=0;return W(U,function(){ue++}),ue},toArray:function(U){return W(U,function(ue){return ue})||[]},only:function(U){if(!ee(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},on.Component=C,on.Fragment=n,on.Profiler=s,on.PureComponent=k,on.StrictMode=r,on.Suspense=d,on.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,on.__COMPILER_RUNTIME={__proto__:null,c:function(U){return E.H.useMemoCache(U)}},on.cache=function(U){return function(){return U.apply(null,arguments)}},on.cloneElement=function(U,ue,se){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var fe=b({},U.props),Ee=U.key,Pe=void 0;if(ue!=null)for(Oe in ue.ref!==void 0&&(Pe=void 0),ue.key!==void 0&&(Ee=""+ue.key),ue)!A.call(ue,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&ue.ref===void 0||(fe[Oe]=ue[Oe]);var Oe=arguments.length-2;if(Oe===1)fe.children=se;else if(1<Oe){for(var Ye=Array(Oe),Me=0;Me<Oe;Me++)Ye[Me]=arguments[Me+2];fe.children=Ye}return P(U.type,Ee,void 0,void 0,Pe,fe)},on.createContext=function(U){return U={$$typeof:a,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:i,_context:U},U},on.createElement=function(U,ue,se){var fe,Ee={},Pe=null;if(ue!=null)for(fe in ue.key!==void 0&&(Pe=""+ue.key),ue)A.call(ue,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Ee[fe]=ue[fe]);var Oe=arguments.length-2;if(Oe===1)Ee.children=se;else if(1<Oe){for(var Ye=Array(Oe),Me=0;Me<Oe;Me++)Ye[Me]=arguments[Me+2];Ee.children=Ye}if(U&&U.defaultProps)for(fe in Oe=U.defaultProps,Oe)Ee[fe]===void 0&&(Ee[fe]=Oe[fe]);return P(U,Pe,void 0,void 0,null,Ee)},on.createRef=function(){return{current:null}},on.forwardRef=function(U){return{$$typeof:l,render:U}},on.isValidElement=ee,on.lazy=function(U){return{$$typeof:p,_payload:{_status:-1,_result:U},_init:oe}},on.memo=function(U,ue){return{$$typeof:f,type:U,compare:ue===void 0?null:ue}},on.startTransition=function(U){var ue=E.T,se={};E.T=se;try{var fe=U(),Ee=E.S;Ee!==null&&Ee(se,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(Fe,ye)}catch(Pe){ye(Pe)}finally{E.T=ue}},on.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},on.use=function(U){return E.H.use(U)},on.useActionState=function(U,ue,se){return E.H.useActionState(U,ue,se)},on.useCallback=function(U,ue){return E.H.useCallback(U,ue)},on.useContext=function(U){return E.H.useContext(U)},on.useDebugValue=function(){},on.useDeferredValue=function(U,ue){return E.H.useDeferredValue(U,ue)},on.useEffect=function(U,ue,se){var fe=E.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return fe.useEffect(U,ue)},on.useId=function(){return E.H.useId()},on.useImperativeHandle=function(U,ue,se){return E.H.useImperativeHandle(U,ue,se)},on.useInsertionEffect=function(U,ue){return E.H.useInsertionEffect(U,ue)},on.useLayoutEffect=function(U,ue){return E.H.useLayoutEffect(U,ue)},on.useMemo=function(U,ue){return E.H.useMemo(U,ue)},on.useOptimistic=function(U,ue){return E.H.useOptimistic(U,ue)},on.useReducer=function(U,ue,se){return E.H.useReducer(U,ue,se)},on.useRef=function(U){return E.H.useRef(U)},on.useState=function(U){return E.H.useState(U)},on.useSyncExternalStore=function(U,ue,se){return E.H.useSyncExternalStore(U,ue,se)},on.useTransition=function(){return E.H.useTransition()},on.version="19.1.0",on}var oT;function dy(){return oT||(oT=1,Zx.exports=HL()),Zx.exports}var j=dy();const Ht=Ka(j);var ev={exports:{}},$d={},tv={exports:{}},nv={};var lT;function qL(){return lT||(lT=1,function(t){function e(W,oe){var ye=W.length;W.push(oe);e:for(;0<ye;){var Fe=ye-1>>>1,U=W[Fe];if(0<s(U,oe))W[Fe]=oe,W[ye]=U,ye=Fe;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var oe=W[0],ye=W.pop();if(ye!==oe){W[0]=ye;e:for(var Fe=0,U=W.length,ue=U>>>1;Fe<ue;){var se=2*(Fe+1)-1,fe=W[se],Ee=se+1,Pe=W[Ee];if(0>s(fe,ye))Ee<U&&0>s(Pe,fe)?(W[Fe]=Pe,W[Ee]=ye,Fe=Ee):(W[Fe]=fe,W[se]=ye,Fe=se);else if(Ee<U&&0>s(Pe,ye))W[Fe]=Pe,W[Ee]=ye,Fe=Ee;else break e}}return oe}function s(W,oe){var ye=W.sortIndex-oe.sortIndex;return ye!==0?ye:W.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var d=[],f=[],p=1,m=null,y=3,x=!1,b=!1,S=!1,C=!1,N=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function M(W){for(var oe=n(f);oe!==null;){if(oe.callback===null)r(f);else if(oe.startTime<=W)r(f),oe.sortIndex=oe.expirationTime,e(d,oe);else break;oe=n(f)}}function E(W){if(S=!1,M(W),!b)if(n(d)!==null)b=!0,A||(A=!0,ae());else{var oe=n(f);oe!==null&&ze(E,oe.startTime-W)}}var A=!1,P=-1,F=5,ee=-1;function be(){return C?!0:!(t.unstable_now()-ee<F)}function ce(){if(C=!1,A){var W=t.unstable_now();ee=W;var oe=!0;try{e:{b=!1,S&&(S=!1,k(P),P=-1),x=!0;var ye=y;try{t:{for(M(W),m=n(d);m!==null&&!(m.expirationTime>W&&be());){var Fe=m.callback;if(typeof Fe=="function"){m.callback=null,y=m.priorityLevel;var U=Fe(m.expirationTime<=W);if(W=t.unstable_now(),typeof U=="function"){m.callback=U,M(W),oe=!0;break t}m===n(d)&&r(d),M(W)}else r(d);m=n(d)}if(m!==null)oe=!0;else{var ue=n(f);ue!==null&&ze(E,ue.startTime-W),oe=!1}}break e}finally{m=null,y=ye,x=!1}oe=void 0}}finally{oe?ae():A=!1}}}var ae;if(typeof D=="function")ae=function(){D(ce)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ke=te.port2;te.port1.onmessage=ce,ae=function(){ke.postMessage(null)}}else ae=function(){N(ce,0)};function ze(W,oe){P=N(function(){W(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(W){switch(y){case 1:case 2:case 3:var oe=3;break;default:oe=y}var ye=y;y=oe;try{return W()}finally{y=ye}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(W,oe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ye=y;y=W;try{return oe()}finally{y=ye}},t.unstable_scheduleCallback=function(W,oe,ye){var Fe=t.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Fe+ye:Fe):ye=Fe,W){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ye+U,W={id:p++,callback:oe,priorityLevel:W,startTime:ye,expirationTime:U,sortIndex:-1},ye>Fe?(W.sortIndex=ye,e(f,W),n(d)===null&&W===n(f)&&(S?(k(P),P=-1):S=!0,ze(E,ye-Fe))):(W.sortIndex=U,e(d,W),b||x||(b=!0,A||(A=!0,ae()))),W},t.unstable_shouldYield=be,t.unstable_wrapCallback=function(W){var oe=y;return function(){var ye=y;y=oe;try{return W.apply(this,arguments)}finally{y=ye}}}}(nv)),nv}var cT;function KL(){return cT||(cT=1,tv.exports=qL()),tv.exports}var rv={exports:{}},Xr={};var uT;function YL(){if(uT)return Xr;uT=1;var t=dy();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(d,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:d,containerInfo:f,implementation:p}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Xr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xr.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return i(d,f,null,p)},Xr.flushSync=function(d){var f=a.T,p=r.p;try{if(a.T=null,r.p=2,d)return d()}finally{a.T=f,r.p=p,r.d.f()}},Xr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},Xr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Xr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,m=l(p,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:x}):p==="script"&&r.d.X(d,{crossOrigin:m,integrity:y,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Xr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=l(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},Xr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=l(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Xr.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=l(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},Xr.requestFormReset=function(d){r.d.r(d)},Xr.unstable_batchedUpdates=function(d,f){return d(f)},Xr.useFormState=function(d,f,p){return a.H.useFormState(d,f,p)},Xr.useFormStatus=function(){return a.H.useHostTransitionStatus()},Xr.version="19.1.0",Xr}var dT;function r5(){if(dT)return rv.exports;dT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rv.exports=YL(),rv.exports}var fT;function WL(){if(fT)return $d;fT=1;var t=KL(),e=dy(),n=r5();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function i(o){var c=o,h=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(h=c.return),o=c.return;while(o)}return c.tag===3?h:null}function a(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(i(o)!==o)throw Error(r(188))}function d(o){var c=o.alternate;if(!c){if(c=i(o),c===null)throw Error(r(188));return c!==o?null:o}for(var h=o,g=c;;){var v=h.return;if(v===null)break;var w=v.alternate;if(w===null){if(g=v.return,g!==null){h=g;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===h)return l(v),o;if(w===g)return l(v),c;w=w.sibling}throw Error(r(188))}if(h.return!==g.return)h=v,g=w;else{for(var O=!1,z=v.child;z;){if(z===h){O=!0,h=v,g=w;break}if(z===g){O=!0,g=v,h=w;break}z=z.sibling}if(!O){for(z=w.child;z;){if(z===h){O=!0,h=w,g=v;break}if(z===g){O=!0,g=w,h=v;break}z=z.sibling}if(!O)throw Error(r(189))}}if(h.alternate!==g)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?o:c}function f(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=f(o),c!==null)return c;o=o.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),D=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),be=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function ae(o){return o===null||typeof o!="object"?null:(o=ce&&o[ce]||o["@@iterator"],typeof o=="function"?o:null)}var te=Symbol.for("react.client.reference");function ke(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===te?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case b:return"Fragment";case C:return"Profiler";case S:return"StrictMode";case E:return"Suspense";case A:return"SuspenseList";case ee:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case x:return"Portal";case D:return(o.displayName||"Context")+".Provider";case k:return(o._context.displayName||"Context")+".Consumer";case M:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case P:return c=o.displayName||null,c!==null?c:ke(o.type)||"Memo";case F:c=o._payload,o=o._init;try{return ke(o(c))}catch{}}return null}var ze=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Fe=[],U=-1;function ue(o){return{current:o}}function se(o){0>U||(o.current=Fe[U],Fe[U]=null,U--)}function fe(o,c){U++,Fe[U]=o.current,o.current=c}var Ee=ue(null),Pe=ue(null),Oe=ue(null),Ye=ue(null);function Me(o,c){switch(fe(Oe,c),fe(Pe,o),fe(Ee,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?Mj(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=Mj(c),o=Rj(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}se(Ee),fe(Ee,o)}function ut(){se(Ee),se(Pe),se(Oe)}function Ze(o){o.memoizedState!==null&&fe(Ye,o);var c=Ee.current,h=Rj(c,o.type);c!==h&&(fe(Pe,o),fe(Ee,h))}function St(o){Pe.current===o&&(se(Ee),se(Pe)),Ye.current===o&&(se(Ye),Ld._currentValue=ye)}var Nt=Object.prototype.hasOwnProperty,Ft=t.unstable_scheduleCallback,nt=t.unstable_cancelCallback,Z=t.unstable_shouldYield,Ve=t.unstable_requestPaint,qe=t.unstable_now,at=t.unstable_getCurrentPriorityLevel,bt=t.unstable_ImmediatePriority,$=t.unstable_UserBlockingPriority,re=t.unstable_NormalPriority,B=t.unstable_LowPriority,de=t.unstable_IdlePriority,xe=t.log,H=t.unstable_setDisableYieldValue,V=null,we=null;function et(o){if(typeof xe=="function"&&H(o),we&&typeof we.setStrictMode=="function")try{we.setStrictMode(V,o)}catch{}}var ht=Math.clz32?Math.clz32:an,Jt=Math.log,Pt=Math.LN2;function an(o){return o>>>=0,o===0?32:31-(Jt(o)/Pt|0)|0}var Qt=256,Ne=4194304;function ot(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function pt(o,c,h){var g=o.pendingLanes;if(g===0)return 0;var v=0,w=o.suspendedLanes,O=o.pingedLanes;o=o.warmLanes;var z=g&134217727;return z!==0?(g=z&~w,g!==0?v=ot(g):(O&=z,O!==0?v=ot(O):h||(h=z&~o,h!==0&&(v=ot(h))))):(z=g&~w,z!==0?v=ot(z):O!==0?v=ot(O):h||(h=g&~o,h!==0&&(v=ot(h)))),v===0?0:c!==0&&c!==v&&(c&w)===0&&(w=v&-v,h=c&-c,w>=h||w===32&&(h&4194048)!==0)?c:v}function pe(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function mt(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lt(){var o=Qt;return Qt<<=1,(Qt&4194048)===0&&(Qt=256),o}function rt(){var o=Ne;return Ne<<=1,(Ne&62914560)===0&&(Ne=4194304),o}function Te(o){for(var c=[],h=0;31>h;h++)c.push(o);return c}function lt(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function jt(o,c,h,g,v,w){var O=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var z=o.entanglements,X=o.expirationTimes,Ae=o.hiddenUpdates;for(h=O&~h;0<h;){var Ue=31-ht(h),Ke=1<<Ue;z[Ue]=0,X[Ue]=-1;var De=Ae[Ue];if(De!==null)for(Ae[Ue]=null,Ue=0;Ue<De.length;Ue++){var Le=De[Ue];Le!==null&&(Le.lane&=-536870913)}h&=~Ke}g!==0&&Et(o,g,0),w!==0&&v===0&&o.tag!==0&&(o.suspendedLanes|=w&~(O&~c))}function Et(o,c,h){o.pendingLanes|=c,o.suspendedLanes&=~c;var g=31-ht(c);o.entangledLanes|=c,o.entanglements[g]=o.entanglements[g]|1073741824|h&4194090}function kt(o,c){var h=o.entangledLanes|=c;for(o=o.entanglements;h;){var g=31-ht(h),v=1<<g;v&c|o[g]&c&&(o[g]|=c),h&=~v}}function en(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Nn(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Q(){var o=oe.p;return o!==0?o:(o=window.event,o===void 0?32:Qj(o.type))}function me(o,c){var h=oe.p;try{return oe.p=o,c()}finally{oe.p=h}}var je=Math.random().toString(36).slice(2),$e="__reactFiber$"+je,Xe="__reactProps$"+je,vt="__reactContainer$"+je,At="__reactEvents$"+je,ct="__reactListeners$"+je,Ct="__reactHandles$"+je,gt="__reactResources$"+je,Ot="__reactMarker$"+je;function G(o){delete o[$e],delete o[Xe],delete o[At],delete o[ct],delete o[Ct]}function Re(o){var c=o[$e];if(c)return c;for(var h=o.parentNode;h;){if(c=h[vt]||h[$e]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(o=zj(o);o!==null;){if(h=o[$e])return h;o=zj(o)}return c}o=h,h=o.parentNode}return null}function tt(o){if(o=o[$e]||o[vt]){var c=o.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return o}return null}function yt(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(r(33))}function Wt(o){var c=o[gt];return c||(c=o[gt]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Dt(o){o[Ot]=!0}var zt=new Set,Xn={};function On(o,c){bn(o,c),bn(o+"Capture",c)}function bn(o,c){for(Xn[o]=c,o=0;o<c.length;o++)zt.add(c[o])}var jn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gr={},Jn={};function Y(o){return Nt.call(Jn,o)?!0:Nt.call(gr,o)?!1:jn.test(o)?Jn[o]=!0:(gr[o]=!0,!1)}function Se(o,c,h){if(Y(c))if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+h)}}function _(o,c,h){if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+h)}}function K(o,c,h,g){if(g===null)o.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(c,h,""+g)}}var R,q;function ne(o){if(R===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);R=c&&c[1]||"",q=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+R+o+q}var _e=!1;function ft(o,c){if(!o||_e)return"";_e=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var Ke=function(){throw Error()};if(Object.defineProperty(Ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ke,[])}catch(Le){var De=Le}Reflect.construct(o,[],Ke)}else{try{Ke.call()}catch(Le){De=Le}o.call(Ke.prototype)}}else{try{throw Error()}catch(Le){De=Le}(Ke=o())&&typeof Ke.catch=="function"&&Ke.catch(function(){})}}catch(Le){if(Le&&De&&typeof Le.stack=="string")return[Le.stack,De.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=g.DetermineComponentFrameRoot(),O=w[0],z=w[1];if(O&&z){var X=O.split(`
`),Ae=z.split(`
`);for(v=g=0;g<X.length&&!X[g].includes("DetermineComponentFrameRoot");)g++;for(;v<Ae.length&&!Ae[v].includes("DetermineComponentFrameRoot");)v++;if(g===X.length||v===Ae.length)for(g=X.length-1,v=Ae.length-1;1<=g&&0<=v&&X[g]!==Ae[v];)v--;for(;1<=g&&0<=v;g--,v--)if(X[g]!==Ae[v]){if(g!==1||v!==1)do if(g--,v--,0>v||X[g]!==Ae[v]){var Ue=`
`+X[g].replace(" at new "," at ");return o.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",o.displayName)),Ue}while(1<=g&&0<=v);break}}}finally{_e=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?ne(h):""}function tn(o){switch(o.tag){case 26:case 27:case 5:return ne(o.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 15:return ft(o.type,!1);case 11:return ft(o.type.render,!1);case 1:return ft(o.type,!0);case 31:return ne("Activity");default:return""}}function T(o){try{var c="";do c+=tn(o),o=o.return;while(o);return c}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function L(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function I(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function J(o){var c=I(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),g=""+o[c];if(!o.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,w=h.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return v.call(this)},set:function(O){g=""+O,w.call(this,O)}}),Object.defineProperty(o,c,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(O){g=""+O},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function he(o){o._valueTracker||(o._valueTracker=J(o))}function ie(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var h=c.getValue(),g="";return o&&(g=I(o)?o.checked?"true":"false":o.value),o=g,o!==h?(c.setValue(o),!0):!1}function Ie(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Je=/[\n"\\]/g;function Qe(o){return o.replace(Je,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function st(o,c,h,g,v,w,O,z){o.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?o.type=O:o.removeAttribute("type"),c!=null?O==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+L(c)):o.value!==""+L(c)&&(o.value=""+L(c)):O!=="submit"&&O!=="reset"||o.removeAttribute("value"),c!=null?Mt(o,O,L(c)):h!=null?Mt(o,O,L(h)):g!=null&&o.removeAttribute("value"),v==null&&w!=null&&(o.defaultChecked=!!w),v!=null&&(o.checked=v&&typeof v!="function"&&typeof v!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?o.name=""+L(z):o.removeAttribute("name")}function dt(o,c,h,g,v,w,O,z){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(o.type=w),c!=null||h!=null){if(!(w!=="submit"&&w!=="reset"||c!=null))return;h=h!=null?""+L(h):"",c=c!=null?""+L(c):h,z||c===o.value||(o.value=c),o.defaultValue=c}g=g??v,g=typeof g!="function"&&typeof g!="symbol"&&!!g,o.checked=z?o.checked:!!g,o.defaultChecked=!!g,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(o.name=O)}function Mt(o,c,h){c==="number"&&Ie(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function Zt(o,c,h,g){if(o=o.options,c){c={};for(var v=0;v<h.length;v++)c["$"+h[v]]=!0;for(h=0;h<o.length;h++)v=c.hasOwnProperty("$"+o[h].value),o[h].selected!==v&&(o[h].selected=v),v&&g&&(o[h].defaultSelected=!0)}else{for(h=""+L(h),c=null,v=0;v<o.length;v++){if(o[v].value===h){o[v].selected=!0,g&&(o[v].defaultSelected=!0);return}c!==null||o[v].disabled||(c=o[v])}c!==null&&(c.selected=!0)}}function vn(o,c,h){if(c!=null&&(c=""+L(c),c!==o.value&&(o.value=c),h==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=h!=null?""+L(h):""}function wn(o,c,h,g){if(c==null){if(g!=null){if(h!=null)throw Error(r(92));if(ze(g)){if(1<g.length)throw Error(r(93));g=g[0]}h=g}h==null&&(h=""),c=h}h=L(c),o.defaultValue=h,g=o.textContent,g===h&&g!==""&&g!==null&&(o.value=g)}function _n(o,c){if(c){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=c;return}}o.textContent=c}var Qn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function is(o,c,h){var g=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":g?o.setProperty(c,h):typeof h!="number"||h===0||Qn.has(c)?c==="float"?o.cssFloat=h:o[c]=(""+h).trim():o[c]=h+"px"}function Wa(o,c,h){if(c!=null&&typeof c!="object")throw Error(r(62));if(o=o.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?o.setProperty(g,""):g==="float"?o.cssFloat="":o[g]="");for(var v in c)g=c[v],c.hasOwnProperty(v)&&h[v]!==g&&is(o,v,g)}else for(var w in c)c.hasOwnProperty(w)&&is(o,w,c[w])}function sl(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qu(o){return Hu.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Ku=null;function Yu(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var da=null,xc=null;function _S(o){var c=tt(o);if(c&&(o=c.stateNode)){var h=o[Xe]||null;e:switch(o=c.stateNode,c.type){case"input":if(st(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Qe(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var g=h[c];if(g!==o&&g.form===o.form){var v=g[Xe]||null;if(!v)throw Error(r(90));st(g,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(c=0;c<h.length;c++)g=h[c],g.form===o.form&&ie(g)}break e;case"textarea":vn(o,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&Zt(o,!!h.multiple,c,!1)}}}var e0=!1;function LS(o,c,h){if(e0)return o(c,h);e0=!0;try{var g=o(c);return g}finally{if(e0=!1,(da!==null||xc!==null)&&(Sp(),da&&(c=da,o=xc,xc=da=null,_S(c),o)))for(c=0;c<o.length;c++)_S(o[c])}}function Wu(o,c){var h=o.stateNode;if(h===null)return null;var g=h[Xe]||null;if(g===null)return null;h=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(r(231,c,typeof h));return h}var fa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),t0=!1;if(fa)try{var Gu={};Object.defineProperty(Gu,"passive",{get:function(){t0=!0}}),window.addEventListener("test",Gu,Gu),window.removeEventListener("test",Gu,Gu)}catch{t0=!1}var Ga=null,n0=null,Ih=null;function PS(){if(Ih)return Ih;var o,c=n0,h=c.length,g,v="value"in Ga?Ga.value:Ga.textContent,w=v.length;for(o=0;o<h&&c[o]===v[o];o++);var O=h-o;for(g=1;g<=O&&c[h-g]===v[w-g];g++);return Ih=v.slice(o,1<g?1-g:void 0)}function Bh(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Fh(){return!0}function zS(){return!1}function ms(o){function c(h,g,v,w,O){this._reactName=h,this._targetInst=v,this.type=g,this.nativeEvent=w,this.target=O,this.currentTarget=null;for(var z in o)o.hasOwnProperty(z)&&(h=o[z],this[z]=h?h(w):w[z]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Fh:zS,this.isPropagationStopped=zS,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Fh)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Fh)},persist:function(){},isPersistent:Fh}),c}var il={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$h=ms(il),Xu=p({},il,{view:0,detail:0}),$_=ms(Xu),r0,s0,Ju,Uh=p({},Xu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:a0,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ju&&(Ju&&o.type==="mousemove"?(r0=o.screenX-Ju.screenX,s0=o.screenY-Ju.screenY):s0=r0=0,Ju=o),r0)},movementY:function(o){return"movementY"in o?o.movementY:s0}}),IS=ms(Uh),U_=p({},Uh,{dataTransfer:0}),V_=ms(U_),H_=p({},Xu,{relatedTarget:0}),i0=ms(H_),q_=p({},il,{animationName:0,elapsedTime:0,pseudoElement:0}),K_=ms(q_),Y_=p({},il,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),W_=ms(Y_),G_=p({},il,{data:0}),BS=ms(G_),X_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Z_(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=Q_[o])?!!c[o]:!1}function a0(){return Z_}var e8=p({},Xu,{key:function(o){if(o.key){var c=X_[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Bh(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?J_[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:a0,charCode:function(o){return o.type==="keypress"?Bh(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Bh(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),t8=ms(e8),n8=p({},Uh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),FS=ms(n8),r8=p({},Xu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:a0}),s8=ms(r8),i8=p({},il,{propertyName:0,elapsedTime:0,pseudoElement:0}),a8=ms(i8),o8=p({},Uh,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),l8=ms(o8),c8=p({},il,{newState:0,oldState:0}),u8=ms(c8),d8=[9,13,27,32],o0=fa&&"CompositionEvent"in window,Qu=null;fa&&"documentMode"in document&&(Qu=document.documentMode);var f8=fa&&"TextEvent"in window&&!Qu,$S=fa&&(!o0||Qu&&8<Qu&&11>=Qu),US=" ",VS=!1;function HS(o,c){switch(o){case"keyup":return d8.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qS(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var vc=!1;function h8(o,c){switch(o){case"compositionend":return qS(c);case"keypress":return c.which!==32?null:(VS=!0,US);case"textInput":return o=c.data,o===US&&VS?null:o;default:return null}}function p8(o,c){if(vc)return o==="compositionend"||!o0&&HS(o,c)?(o=PS(),Ih=n0=Ga=null,vc=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return $S&&c.locale!=="ko"?null:c.data;default:return null}}var m8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function KS(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!m8[o.type]:c==="textarea"}function YS(o,c,h,g){da?xc?xc.push(g):xc=[g]:da=g,c=Ap(c,"onChange"),0<c.length&&(h=new $h("onChange","change",null,h,g),o.push({event:h,listeners:c}))}var Zu=null,ed=null;function g8(o){Ej(o,0)}function Vh(o){var c=yt(o);if(ie(c))return o}function WS(o,c){if(o==="change")return c}var GS=!1;if(fa){var l0;if(fa){var c0="oninput"in document;if(!c0){var XS=document.createElement("div");XS.setAttribute("oninput","return;"),c0=typeof XS.oninput=="function"}l0=c0}else l0=!1;GS=l0&&(!document.documentMode||9<document.documentMode)}function JS(){Zu&&(Zu.detachEvent("onpropertychange",QS),ed=Zu=null)}function QS(o){if(o.propertyName==="value"&&Vh(ed)){var c=[];YS(c,ed,o,Yu(o)),LS(g8,c)}}function y8(o,c,h){o==="focusin"?(JS(),Zu=c,ed=h,Zu.attachEvent("onpropertychange",QS)):o==="focusout"&&JS()}function x8(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Vh(ed)}function v8(o,c){if(o==="click")return Vh(c)}function b8(o,c){if(o==="input"||o==="change")return Vh(c)}function w8(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Ds=typeof Object.is=="function"?Object.is:w8;function td(o,c){if(Ds(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var h=Object.keys(o),g=Object.keys(c);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var v=h[g];if(!Nt.call(c,v)||!Ds(o[v],c[v]))return!1}return!0}function ZS(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function eC(o,c){var h=ZS(o);o=0;for(var g;h;){if(h.nodeType===3){if(g=o+h.textContent.length,o<=c&&g>=c)return{node:h,offset:c-o};o=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=ZS(h)}}function tC(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?tC(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function nC(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=Ie(o.document);c instanceof o.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)o=c.contentWindow;else break;c=Ie(o.document)}return c}function u0(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var S8=fa&&"documentMode"in document&&11>=document.documentMode,bc=null,d0=null,nd=null,f0=!1;function rC(o,c,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;f0||bc==null||bc!==Ie(g)||(g=bc,"selectionStart"in g&&u0(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),nd&&td(nd,g)||(nd=g,g=Ap(d0,"onSelect"),0<g.length&&(c=new $h("onSelect","select",null,c,h),o.push({event:c,listeners:g}),c.target=bc)))}function al(o,c){var h={};return h[o.toLowerCase()]=c.toLowerCase(),h["Webkit"+o]="webkit"+c,h["Moz"+o]="moz"+c,h}var wc={animationend:al("Animation","AnimationEnd"),animationiteration:al("Animation","AnimationIteration"),animationstart:al("Animation","AnimationStart"),transitionrun:al("Transition","TransitionRun"),transitionstart:al("Transition","TransitionStart"),transitioncancel:al("Transition","TransitionCancel"),transitionend:al("Transition","TransitionEnd")},h0={},sC={};fa&&(sC=document.createElement("div").style,"AnimationEvent"in window||(delete wc.animationend.animation,delete wc.animationiteration.animation,delete wc.animationstart.animation),"TransitionEvent"in window||delete wc.transitionend.transition);function ol(o){if(h0[o])return h0[o];if(!wc[o])return o;var c=wc[o],h;for(h in c)if(c.hasOwnProperty(h)&&h in sC)return h0[o]=c[h];return o}var iC=ol("animationend"),aC=ol("animationiteration"),oC=ol("animationstart"),C8=ol("transitionrun"),N8=ol("transitionstart"),j8=ol("transitioncancel"),lC=ol("transitionend"),cC=new Map,p0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");p0.push("scrollEnd");function xi(o,c){cC.set(o,c),On(c,[o])}var uC=new WeakMap;function Ws(o,c){if(typeof o=="object"&&o!==null){var h=uC.get(o);return h!==void 0?h:(c={value:o,source:c,stack:T(c)},uC.set(o,c),c)}return{value:o,source:c,stack:T(c)}}var Gs=[],Sc=0,m0=0;function Hh(){for(var o=Sc,c=m0=Sc=0;c<o;){var h=Gs[c];Gs[c++]=null;var g=Gs[c];Gs[c++]=null;var v=Gs[c];Gs[c++]=null;var w=Gs[c];if(Gs[c++]=null,g!==null&&v!==null){var O=g.pending;O===null?v.next=v:(v.next=O.next,O.next=v),g.pending=v}w!==0&&dC(h,v,w)}}function qh(o,c,h,g){Gs[Sc++]=o,Gs[Sc++]=c,Gs[Sc++]=h,Gs[Sc++]=g,m0|=g,o.lanes|=g,o=o.alternate,o!==null&&(o.lanes|=g)}function g0(o,c,h,g){return qh(o,c,h,g),Kh(o)}function Cc(o,c){return qh(o,null,null,c),Kh(o)}function dC(o,c,h){o.lanes|=h;var g=o.alternate;g!==null&&(g.lanes|=h);for(var v=!1,w=o.return;w!==null;)w.childLanes|=h,g=w.alternate,g!==null&&(g.childLanes|=h),w.tag===22&&(o=w.stateNode,o===null||o._visibility&1||(v=!0)),o=w,w=w.return;return o.tag===3?(w=o.stateNode,v&&c!==null&&(v=31-ht(h),o=w.hiddenUpdates,g=o[v],g===null?o[v]=[c]:g.push(c),c.lane=h|536870912),w):null}function Kh(o){if(50<Ed)throw Ed=0,Sx=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var Nc={};function T8(o,c,h,g){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ms(o,c,h,g){return new T8(o,c,h,g)}function y0(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ha(o,c){var h=o.alternate;return h===null?(h=Ms(o.tag,c,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=c,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,c=o.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function fC(o,c){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,c=h.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Yh(o,c,h,g,v,w){var O=0;if(g=o,typeof o=="function")y0(o)&&(O=1);else if(typeof o=="string")O=AL(o,h,Ee.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case ee:return o=Ms(31,h,c,v),o.elementType=ee,o.lanes=w,o;case b:return ll(h.children,v,w,c);case S:O=8,v|=24;break;case C:return o=Ms(12,h,c,v|2),o.elementType=C,o.lanes=w,o;case E:return o=Ms(13,h,c,v),o.elementType=E,o.lanes=w,o;case A:return o=Ms(19,h,c,v),o.elementType=A,o.lanes=w,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case N:case D:O=10;break e;case k:O=9;break e;case M:O=11;break e;case P:O=14;break e;case F:O=16,g=null;break e}O=29,h=Error(r(130,o===null?"null":typeof o,"")),g=null}return c=Ms(O,h,c,v),c.elementType=o,c.type=g,c.lanes=w,c}function ll(o,c,h,g){return o=Ms(7,o,g,c),o.lanes=h,o}function x0(o,c,h){return o=Ms(6,o,null,c),o.lanes=h,o}function v0(o,c,h){return c=Ms(4,o.children!==null?o.children:[],o.key,c),c.lanes=h,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var jc=[],Tc=0,Wh=null,Gh=0,Xs=[],Js=0,cl=null,pa=1,ma="";function ul(o,c){jc[Tc++]=Gh,jc[Tc++]=Wh,Wh=o,Gh=c}function hC(o,c,h){Xs[Js++]=pa,Xs[Js++]=ma,Xs[Js++]=cl,cl=o;var g=pa;o=ma;var v=32-ht(g)-1;g&=~(1<<v),h+=1;var w=32-ht(c)+v;if(30<w){var O=v-v%5;w=(g&(1<<O)-1).toString(32),g>>=O,v-=O,pa=1<<32-ht(c)+v|h<<v|g,ma=w+o}else pa=1<<w|h<<v|g,ma=o}function b0(o){o.return!==null&&(ul(o,1),hC(o,1,0))}function w0(o){for(;o===Wh;)Wh=jc[--Tc],jc[Tc]=null,Gh=jc[--Tc],jc[Tc]=null;for(;o===cl;)cl=Xs[--Js],Xs[Js]=null,ma=Xs[--Js],Xs[Js]=null,pa=Xs[--Js],Xs[Js]=null}var as=null,nr=null,Tn=!1,dl=null,zi=!1,S0=Error(r(519));function fl(o){var c=Error(r(418,""));throw id(Ws(c,o)),S0}function pC(o){var c=o.stateNode,h=o.type,g=o.memoizedProps;switch(c[$e]=o,c[Xe]=g,h){case"dialog":mn("cancel",c),mn("close",c);break;case"iframe":case"object":case"embed":mn("load",c);break;case"video":case"audio":for(h=0;h<kd.length;h++)mn(kd[h],c);break;case"source":mn("error",c);break;case"img":case"image":case"link":mn("error",c),mn("load",c);break;case"details":mn("toggle",c);break;case"input":mn("invalid",c),dt(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),he(c);break;case"select":mn("invalid",c);break;case"textarea":mn("invalid",c),wn(c,g.value,g.defaultValue,g.children),he(c)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||g.suppressHydrationWarning===!0||Dj(c.textContent,h)?(g.popover!=null&&(mn("beforetoggle",c),mn("toggle",c)),g.onScroll!=null&&mn("scroll",c),g.onScrollEnd!=null&&mn("scrollend",c),g.onClick!=null&&(c.onclick=kp),c=!0):c=!1,c||fl(o)}function mC(o){for(as=o.return;as;)switch(as.tag){case 5:case 13:zi=!1;return;case 27:case 3:zi=!0;return;default:as=as.return}}function rd(o){if(o!==as)return!1;if(!Tn)return mC(o),Tn=!0,!1;var c=o.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||Ix(o.type,o.memoizedProps)),h=!h),h&&nr&&fl(o),mC(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8)if(h=o.data,h==="/$"){if(c===0){nr=bi(o.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++;o=o.nextSibling}nr=null}}else c===27?(c=nr,fo(o.type)?(o=Ux,Ux=null,nr=o):nr=c):nr=as?bi(o.stateNode.nextSibling):null;return!0}function sd(){nr=as=null,Tn=!1}function gC(){var o=dl;return o!==null&&(xs===null?xs=o:xs.push.apply(xs,o),dl=null),o}function id(o){dl===null?dl=[o]:dl.push(o)}var C0=ue(null),hl=null,ga=null;function Xa(o,c,h){fe(C0,c._currentValue),c._currentValue=h}function ya(o){o._currentValue=C0.current,se(C0)}function N0(o,c,h){for(;o!==null;){var g=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),o===h)break;o=o.return}}function j0(o,c,h,g){var v=o.child;for(v!==null&&(v.return=o);v!==null;){var w=v.dependencies;if(w!==null){var O=v.child;w=w.firstContext;e:for(;w!==null;){var z=w;w=v;for(var X=0;X<c.length;X++)if(z.context===c[X]){w.lanes|=h,z=w.alternate,z!==null&&(z.lanes|=h),N0(w.return,h,o),g||(O=null);break e}w=z.next}}else if(v.tag===18){if(O=v.return,O===null)throw Error(r(341));O.lanes|=h,w=O.alternate,w!==null&&(w.lanes|=h),N0(O,h,o),O=null}else O=v.child;if(O!==null)O.return=v;else for(O=v;O!==null;){if(O===o){O=null;break}if(v=O.sibling,v!==null){v.return=O.return,O=v;break}O=O.return}v=O}}function ad(o,c,h,g){o=null;for(var v=c,w=!1;v!==null;){if(!w){if((v.flags&524288)!==0)w=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var O=v.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var z=v.type;Ds(v.pendingProps.value,O.value)||(o!==null?o.push(z):o=[z])}}else if(v===Ye.current){if(O=v.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(o!==null?o.push(Ld):o=[Ld])}v=v.return}o!==null&&j0(c,o,h,g),c.flags|=262144}function Xh(o){for(o=o.firstContext;o!==null;){if(!Ds(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function pl(o){hl=o,ga=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Gr(o){return yC(hl,o)}function Jh(o,c){return hl===null&&pl(o),yC(o,c)}function yC(o,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},ga===null){if(o===null)throw Error(r(308));ga=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else ga=ga.next=c;return h}var E8=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(h,g){o.push(g)}};this.abort=function(){c.aborted=!0,o.forEach(function(h){return h()})}},A8=t.unstable_scheduleCallback,k8=t.unstable_NormalPriority,jr={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function T0(){return{controller:new E8,data:new Map,refCount:0}}function od(o){o.refCount--,o.refCount===0&&A8(k8,function(){o.controller.abort()})}var ld=null,E0=0,Ec=0,Ac=null;function O8(o,c){if(ld===null){var h=ld=[];E0=0,Ec=kx(),Ac={status:"pending",value:void 0,then:function(g){h.push(g)}}}return E0++,c.then(xC,xC),c}function xC(){if(--E0===0&&ld!==null){Ac!==null&&(Ac.status="fulfilled");var o=ld;ld=null,Ec=0,Ac=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function D8(o,c){var h=[],g={status:"pending",value:null,reason:null,then:function(v){h.push(v)}};return o.then(function(){g.status="fulfilled",g.value=c;for(var v=0;v<h.length;v++)(0,h[v])(c)},function(v){for(g.status="rejected",g.reason=v,v=0;v<h.length;v++)(0,h[v])(void 0)}),g}var vC=W.S;W.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&O8(o,c),vC!==null&&vC(o,c)};var ml=ue(null);function A0(){var o=ml.current;return o!==null?o:zn.pooledCache}function Qh(o,c){c===null?fe(ml,ml.current):fe(ml,c.pool)}function bC(){var o=A0();return o===null?null:{parent:jr._currentValue,pool:o}}var cd=Error(r(460)),wC=Error(r(474)),Zh=Error(r(542)),k0={then:function(){}};function SC(o){return o=o.status,o==="fulfilled"||o==="rejected"}function ep(){}function CC(o,c,h){switch(h=o[h],h===void 0?o.push(c):h!==c&&(c.then(ep,ep),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,jC(o),o;default:if(typeof c.status=="string")c.then(ep,ep);else{if(o=zn,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(g){if(c.status==="pending"){var v=c;v.status="fulfilled",v.value=g}},function(g){if(c.status==="pending"){var v=c;v.status="rejected",v.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,jC(o),o}throw ud=c,cd}}var ud=null;function NC(){if(ud===null)throw Error(r(459));var o=ud;return ud=null,o}function jC(o){if(o===cd||o===Zh)throw Error(r(483))}var Ja=!1;function O0(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function D0(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Qa(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Za(o,c,h){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(An&2)!==0){var v=g.pending;return v===null?c.next=c:(c.next=v.next,v.next=c),g.pending=c,c=Kh(o),dC(o,null,h),c}return qh(o,g,c,h),Kh(o)}function dd(o,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var g=c.lanes;g&=o.pendingLanes,h|=g,c.lanes=h,kt(o,h)}}function M0(o,c){var h=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var v=null,w=null;if(h=h.firstBaseUpdate,h!==null){do{var O={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};w===null?v=w=O:w=w.next=O,h=h.next}while(h!==null);w===null?v=w=c:w=w.next=c}else v=w=c;h={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:g.shared,callbacks:g.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=c}var R0=!1;function fd(){if(R0){var o=Ac;if(o!==null)throw o}}function hd(o,c,h,g){R0=!1;var v=o.updateQueue;Ja=!1;var w=v.firstBaseUpdate,O=v.lastBaseUpdate,z=v.shared.pending;if(z!==null){v.shared.pending=null;var X=z,Ae=X.next;X.next=null,O===null?w=Ae:O.next=Ae,O=X;var Ue=o.alternate;Ue!==null&&(Ue=Ue.updateQueue,z=Ue.lastBaseUpdate,z!==O&&(z===null?Ue.firstBaseUpdate=Ae:z.next=Ae,Ue.lastBaseUpdate=X))}if(w!==null){var Ke=v.baseState;O=0,Ue=Ae=X=null,z=w;do{var De=z.lane&-536870913,Le=De!==z.lane;if(Le?(yn&De)===De:(g&De)===De){De!==0&&De===Ec&&(R0=!0),Ue!==null&&(Ue=Ue.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var Gt=o,qt=z;De=c;var Rn=h;switch(qt.tag){case 1:if(Gt=qt.payload,typeof Gt=="function"){Ke=Gt.call(Rn,Ke,De);break e}Ke=Gt;break e;case 3:Gt.flags=Gt.flags&-65537|128;case 0:if(Gt=qt.payload,De=typeof Gt=="function"?Gt.call(Rn,Ke,De):Gt,De==null)break e;Ke=p({},Ke,De);break e;case 2:Ja=!0}}De=z.callback,De!==null&&(o.flags|=64,Le&&(o.flags|=8192),Le=v.callbacks,Le===null?v.callbacks=[De]:Le.push(De))}else Le={lane:De,tag:z.tag,payload:z.payload,callback:z.callback,next:null},Ue===null?(Ae=Ue=Le,X=Ke):Ue=Ue.next=Le,O|=De;if(z=z.next,z===null){if(z=v.shared.pending,z===null)break;Le=z,z=Le.next,Le.next=null,v.lastBaseUpdate=Le,v.shared.pending=null}}while(!0);Ue===null&&(X=Ke),v.baseState=X,v.firstBaseUpdate=Ae,v.lastBaseUpdate=Ue,w===null&&(v.shared.lanes=0),oo|=O,o.lanes=O,o.memoizedState=Ke}}function TC(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function EC(o,c){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)TC(h[o],c)}var kc=ue(null),tp=ue(0);function AC(o,c){o=Na,fe(tp,o),fe(kc,c),Na=o|c.baseLanes}function _0(){fe(tp,Na),fe(kc,kc.current)}function L0(){Na=tp.current,se(kc),se(tp)}var eo=0,un=null,Dn=null,yr=null,np=!1,Oc=!1,gl=!1,rp=0,pd=0,Dc=null,M8=0;function ur(){throw Error(r(321))}function P0(o,c){if(c===null)return!1;for(var h=0;h<c.length&&h<o.length;h++)if(!Ds(o[h],c[h]))return!1;return!0}function z0(o,c,h,g,v,w){return eo=w,un=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,W.H=o===null||o.memoizedState===null?dN:fN,gl=!1,w=h(g,v),gl=!1,Oc&&(w=OC(c,h,g,v)),kC(o),w}function kC(o){W.H=cp;var c=Dn!==null&&Dn.next!==null;if(eo=0,yr=Dn=un=null,np=!1,pd=0,Dc=null,c)throw Error(r(300));o===null||kr||(o=o.dependencies,o!==null&&Xh(o)&&(kr=!0))}function OC(o,c,h,g){un=o;var v=0;do{if(Oc&&(Dc=null),pd=0,Oc=!1,25<=v)throw Error(r(301));if(v+=1,yr=Dn=null,o.updateQueue!=null){var w=o.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}W.H=B8,w=c(h,g)}while(Oc);return w}function R8(){var o=W.H,c=o.useState()[0];return c=typeof c.then=="function"?md(c):c,o=o.useState()[0],(Dn!==null?Dn.memoizedState:null)!==o&&(un.flags|=1024),c}function I0(){var o=rp!==0;return rp=0,o}function B0(o,c,h){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~h}function F0(o){if(np){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}np=!1}eo=0,yr=Dn=un=null,Oc=!1,pd=rp=0,Dc=null}function gs(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yr===null?un.memoizedState=yr=o:yr=yr.next=o,yr}function xr(){if(Dn===null){var o=un.alternate;o=o!==null?o.memoizedState:null}else o=Dn.next;var c=yr===null?un.memoizedState:yr.next;if(c!==null)yr=c,Dn=o;else{if(o===null)throw un.alternate===null?Error(r(467)):Error(r(310));Dn=o,o={memoizedState:Dn.memoizedState,baseState:Dn.baseState,baseQueue:Dn.baseQueue,queue:Dn.queue,next:null},yr===null?un.memoizedState=yr=o:yr=yr.next=o}return yr}function $0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function md(o){var c=pd;return pd+=1,Dc===null&&(Dc=[]),o=CC(Dc,o,c),c=un,(yr===null?c.memoizedState:yr.next)===null&&(c=c.alternate,W.H=c===null||c.memoizedState===null?dN:fN),o}function sp(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return md(o);if(o.$$typeof===D)return Gr(o)}throw Error(r(438,String(o)))}function U0(o){var c=null,h=un.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var g=un.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(v){return v.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=$0(),un.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(o),g=0;g<o;g++)h[g]=be;return c.index++,h}function xa(o,c){return typeof c=="function"?c(o):c}function ip(o){var c=xr();return V0(c,Dn,o)}function V0(o,c,h){var g=o.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=h;var v=o.baseQueue,w=g.pending;if(w!==null){if(v!==null){var O=v.next;v.next=w.next,w.next=O}c.baseQueue=v=w,g.pending=null}if(w=o.baseState,v===null)o.memoizedState=w;else{c=v.next;var z=O=null,X=null,Ae=c,Ue=!1;do{var Ke=Ae.lane&-536870913;if(Ke!==Ae.lane?(yn&Ke)===Ke:(eo&Ke)===Ke){var De=Ae.revertLane;if(De===0)X!==null&&(X=X.next={lane:0,revertLane:0,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null}),Ke===Ec&&(Ue=!0);else if((eo&De)===De){Ae=Ae.next,De===Ec&&(Ue=!0);continue}else Ke={lane:0,revertLane:Ae.revertLane,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null},X===null?(z=X=Ke,O=w):X=X.next=Ke,un.lanes|=De,oo|=De;Ke=Ae.action,gl&&h(w,Ke),w=Ae.hasEagerState?Ae.eagerState:h(w,Ke)}else De={lane:Ke,revertLane:Ae.revertLane,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null},X===null?(z=X=De,O=w):X=X.next=De,un.lanes|=Ke,oo|=Ke;Ae=Ae.next}while(Ae!==null&&Ae!==c);if(X===null?O=w:X.next=z,!Ds(w,o.memoizedState)&&(kr=!0,Ue&&(h=Ac,h!==null)))throw h;o.memoizedState=w,o.baseState=O,o.baseQueue=X,g.lastRenderedState=w}return v===null&&(g.lanes=0),[o.memoizedState,g.dispatch]}function H0(o){var c=xr(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var g=h.dispatch,v=h.pending,w=c.memoizedState;if(v!==null){h.pending=null;var O=v=v.next;do w=o(w,O.action),O=O.next;while(O!==v);Ds(w,c.memoizedState)||(kr=!0),c.memoizedState=w,c.baseQueue===null&&(c.baseState=w),h.lastRenderedState=w}return[w,g]}function DC(o,c,h){var g=un,v=xr(),w=Tn;if(w){if(h===void 0)throw Error(r(407));h=h()}else h=c();var O=!Ds((Dn||v).memoizedState,h);O&&(v.memoizedState=h,kr=!0),v=v.queue;var z=_C.bind(null,g,v,o);if(gd(2048,8,z,[o]),v.getSnapshot!==c||O||yr!==null&&yr.memoizedState.tag&1){if(g.flags|=2048,Mc(9,ap(),RC.bind(null,g,v,h,c),null),zn===null)throw Error(r(349));w||(eo&124)!==0||MC(g,c,h)}return h}function MC(o,c,h){o.flags|=16384,o={getSnapshot:c,value:h},c=un.updateQueue,c===null?(c=$0(),un.updateQueue=c,c.stores=[o]):(h=c.stores,h===null?c.stores=[o]:h.push(o))}function RC(o,c,h,g){c.value=h,c.getSnapshot=g,LC(c)&&PC(o)}function _C(o,c,h){return h(function(){LC(c)&&PC(o)})}function LC(o){var c=o.getSnapshot;o=o.value;try{var h=c();return!Ds(o,h)}catch{return!0}}function PC(o){var c=Cc(o,2);c!==null&&zs(c,o,2)}function q0(o){var c=gs();if(typeof o=="function"){var h=o;if(o=h(),gl){et(!0);try{h()}finally{et(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:o},c}function zC(o,c,h,g){return o.baseState=h,V0(o,Dn,typeof g=="function"?g:xa)}function _8(o,c,h,g,v){if(lp(o))throw Error(r(485));if(o=c.action,o!==null){var w={payload:v,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){w.listeners.push(O)}};W.T!==null?h(!0):w.isTransition=!1,g(w),h=c.pending,h===null?(w.next=c.pending=w,IC(c,w)):(w.next=h.next,c.pending=h.next=w)}}function IC(o,c){var h=c.action,g=c.payload,v=o.state;if(c.isTransition){var w=W.T,O={};W.T=O;try{var z=h(v,g),X=W.S;X!==null&&X(O,z),BC(o,c,z)}catch(Ae){K0(o,c,Ae)}finally{W.T=w}}else try{w=h(v,g),BC(o,c,w)}catch(Ae){K0(o,c,Ae)}}function BC(o,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){FC(o,c,g)},function(g){return K0(o,c,g)}):FC(o,c,h)}function FC(o,c,h){c.status="fulfilled",c.value=h,$C(c),o.state=h,c=o.pending,c!==null&&(h=c.next,h===c?o.pending=null:(h=h.next,c.next=h,IC(o,h)))}function K0(o,c,h){var g=o.pending;if(o.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=h,$C(c),c=c.next;while(c!==g)}o.action=null}function $C(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function UC(o,c){return c}function VC(o,c){if(Tn){var h=zn.formState;if(h!==null){e:{var g=un;if(Tn){if(nr){t:{for(var v=nr,w=zi;v.nodeType!==8;){if(!w){v=null;break t}if(v=bi(v.nextSibling),v===null){v=null;break t}}w=v.data,v=w==="F!"||w==="F"?v:null}if(v){nr=bi(v.nextSibling),g=v.data==="F!";break e}}fl(g)}g=!1}g&&(c=h[0])}}return h=gs(),h.memoizedState=h.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:UC,lastRenderedState:c},h.queue=g,h=lN.bind(null,un,g),g.dispatch=h,g=q0(!1),w=J0.bind(null,un,!1,g.queue),g=gs(),v={state:c,dispatch:null,action:o,pending:null},g.queue=v,h=_8.bind(null,un,v,w,h),v.dispatch=h,g.memoizedState=o,[c,h,!1]}function HC(o){var c=xr();return qC(c,Dn,o)}function qC(o,c,h){if(c=V0(o,c,UC)[0],o=ip(xa)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=md(c)}catch(O){throw O===cd?Zh:O}else g=c;c=xr();var v=c.queue,w=v.dispatch;return h!==c.memoizedState&&(un.flags|=2048,Mc(9,ap(),L8.bind(null,v,h),null)),[g,w,o]}function L8(o,c){o.action=c}function KC(o){var c=xr(),h=Dn;if(h!==null)return qC(c,h,o);xr(),c=c.memoizedState,h=xr();var g=h.queue.dispatch;return h.memoizedState=o,[c,g,!1]}function Mc(o,c,h,g){return o={tag:o,create:h,deps:g,inst:c,next:null},c=un.updateQueue,c===null&&(c=$0(),un.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=o.next=o:(g=h.next,h.next=o,o.next=g,c.lastEffect=o),o}function ap(){return{destroy:void 0,resource:void 0}}function YC(){return xr().memoizedState}function op(o,c,h,g){var v=gs();g=g===void 0?null:g,un.flags|=o,v.memoizedState=Mc(1|c,ap(),h,g)}function gd(o,c,h,g){var v=xr();g=g===void 0?null:g;var w=v.memoizedState.inst;Dn!==null&&g!==null&&P0(g,Dn.memoizedState.deps)?v.memoizedState=Mc(c,w,h,g):(un.flags|=o,v.memoizedState=Mc(1|c,w,h,g))}function WC(o,c){op(8390656,8,o,c)}function GC(o,c){gd(2048,8,o,c)}function XC(o,c){return gd(4,2,o,c)}function JC(o,c){return gd(4,4,o,c)}function QC(o,c){if(typeof c=="function"){o=o();var h=c(o);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function ZC(o,c,h){h=h!=null?h.concat([o]):null,gd(4,4,QC.bind(null,c,o),h)}function Y0(){}function eN(o,c){var h=xr();c=c===void 0?null:c;var g=h.memoizedState;return c!==null&&P0(c,g[1])?g[0]:(h.memoizedState=[o,c],o)}function tN(o,c){var h=xr();c=c===void 0?null:c;var g=h.memoizedState;if(c!==null&&P0(c,g[1]))return g[0];if(g=o(),gl){et(!0);try{o()}finally{et(!1)}}return h.memoizedState=[g,c],g}function W0(o,c,h){return h===void 0||(eo&1073741824)!==0?o.memoizedState=c:(o.memoizedState=h,o=sj(),un.lanes|=o,oo|=o,h)}function nN(o,c,h,g){return Ds(h,c)?h:kc.current!==null?(o=W0(o,h,g),Ds(o,c)||(kr=!0),o):(eo&42)===0?(kr=!0,o.memoizedState=h):(o=sj(),un.lanes|=o,oo|=o,c)}function rN(o,c,h,g,v){var w=oe.p;oe.p=w!==0&&8>w?w:8;var O=W.T,z={};W.T=z,J0(o,!1,c,h);try{var X=v(),Ae=W.S;if(Ae!==null&&Ae(z,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var Ue=D8(X,g);yd(o,c,Ue,Ps(o))}else yd(o,c,g,Ps(o))}catch(Ke){yd(o,c,{then:function(){},status:"rejected",reason:Ke},Ps())}finally{oe.p=w,W.T=O}}function P8(){}function G0(o,c,h,g){if(o.tag!==5)throw Error(r(476));var v=sN(o).queue;rN(o,v,c,ye,h===null?P8:function(){return iN(o),h(g)})}function sN(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:ye},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:h},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function iN(o){var c=sN(o).next.queue;yd(o,c,{},Ps())}function X0(){return Gr(Ld)}function aN(){return xr().memoizedState}function oN(){return xr().memoizedState}function z8(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var h=Ps();o=Qa(h);var g=Za(c,o,h);g!==null&&(zs(g,c,h),dd(g,c,h)),c={cache:T0()},o.payload=c;return}c=c.return}}function I8(o,c,h){var g=Ps();h={lane:g,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},lp(o)?cN(c,h):(h=g0(o,c,h,g),h!==null&&(zs(h,o,g),uN(h,c,g)))}function lN(o,c,h){var g=Ps();yd(o,c,h,g)}function yd(o,c,h,g){var v={lane:g,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(lp(o))cN(c,v);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=c.lastRenderedReducer,w!==null))try{var O=c.lastRenderedState,z=w(O,h);if(v.hasEagerState=!0,v.eagerState=z,Ds(z,O))return qh(o,c,v,0),zn===null&&Hh(),!1}catch{}finally{}if(h=g0(o,c,v,g),h!==null)return zs(h,o,g),uN(h,c,g),!0}return!1}function J0(o,c,h,g){if(g={lane:2,revertLane:kx(),action:g,hasEagerState:!1,eagerState:null,next:null},lp(o)){if(c)throw Error(r(479))}else c=g0(o,h,g,2),c!==null&&zs(c,o,2)}function lp(o){var c=o.alternate;return o===un||c!==null&&c===un}function cN(o,c){Oc=np=!0;var h=o.pending;h===null?c.next=c:(c.next=h.next,h.next=c),o.pending=c}function uN(o,c,h){if((h&4194048)!==0){var g=c.lanes;g&=o.pendingLanes,h|=g,c.lanes=h,kt(o,h)}}var cp={readContext:Gr,use:sp,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useLayoutEffect:ur,useInsertionEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useSyncExternalStore:ur,useId:ur,useHostTransitionStatus:ur,useFormState:ur,useActionState:ur,useOptimistic:ur,useMemoCache:ur,useCacheRefresh:ur},dN={readContext:Gr,use:sp,useCallback:function(o,c){return gs().memoizedState=[o,c===void 0?null:c],o},useContext:Gr,useEffect:WC,useImperativeHandle:function(o,c,h){h=h!=null?h.concat([o]):null,op(4194308,4,QC.bind(null,c,o),h)},useLayoutEffect:function(o,c){return op(4194308,4,o,c)},useInsertionEffect:function(o,c){op(4,2,o,c)},useMemo:function(o,c){var h=gs();c=c===void 0?null:c;var g=o();if(gl){et(!0);try{o()}finally{et(!1)}}return h.memoizedState=[g,c],g},useReducer:function(o,c,h){var g=gs();if(h!==void 0){var v=h(c);if(gl){et(!0);try{h(c)}finally{et(!1)}}}else v=c;return g.memoizedState=g.baseState=v,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:v},g.queue=o,o=o.dispatch=I8.bind(null,un,o),[g.memoizedState,o]},useRef:function(o){var c=gs();return o={current:o},c.memoizedState=o},useState:function(o){o=q0(o);var c=o.queue,h=lN.bind(null,un,c);return c.dispatch=h,[o.memoizedState,h]},useDebugValue:Y0,useDeferredValue:function(o,c){var h=gs();return W0(h,o,c)},useTransition:function(){var o=q0(!1);return o=rN.bind(null,un,o.queue,!0,!1),gs().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,h){var g=un,v=gs();if(Tn){if(h===void 0)throw Error(r(407));h=h()}else{if(h=c(),zn===null)throw Error(r(349));(yn&124)!==0||MC(g,c,h)}v.memoizedState=h;var w={value:h,getSnapshot:c};return v.queue=w,WC(_C.bind(null,g,w,o),[o]),g.flags|=2048,Mc(9,ap(),RC.bind(null,g,w,h,c),null),h},useId:function(){var o=gs(),c=zn.identifierPrefix;if(Tn){var h=ma,g=pa;h=(g&~(1<<32-ht(g)-1)).toString(32)+h,c=""+c+"R"+h,h=rp++,0<h&&(c+="H"+h.toString(32)),c+=""}else h=M8++,c=""+c+"r"+h.toString(32)+"";return o.memoizedState=c},useHostTransitionStatus:X0,useFormState:VC,useActionState:VC,useOptimistic:function(o){var c=gs();c.memoizedState=c.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=J0.bind(null,un,!0,h),h.dispatch=c,[o,c]},useMemoCache:U0,useCacheRefresh:function(){return gs().memoizedState=z8.bind(null,un)}},fN={readContext:Gr,use:sp,useCallback:eN,useContext:Gr,useEffect:GC,useImperativeHandle:ZC,useInsertionEffect:XC,useLayoutEffect:JC,useMemo:tN,useReducer:ip,useRef:YC,useState:function(){return ip(xa)},useDebugValue:Y0,useDeferredValue:function(o,c){var h=xr();return nN(h,Dn.memoizedState,o,c)},useTransition:function(){var o=ip(xa)[0],c=xr().memoizedState;return[typeof o=="boolean"?o:md(o),c]},useSyncExternalStore:DC,useId:aN,useHostTransitionStatus:X0,useFormState:HC,useActionState:HC,useOptimistic:function(o,c){var h=xr();return zC(h,Dn,o,c)},useMemoCache:U0,useCacheRefresh:oN},B8={readContext:Gr,use:sp,useCallback:eN,useContext:Gr,useEffect:GC,useImperativeHandle:ZC,useInsertionEffect:XC,useLayoutEffect:JC,useMemo:tN,useReducer:H0,useRef:YC,useState:function(){return H0(xa)},useDebugValue:Y0,useDeferredValue:function(o,c){var h=xr();return Dn===null?W0(h,o,c):nN(h,Dn.memoizedState,o,c)},useTransition:function(){var o=H0(xa)[0],c=xr().memoizedState;return[typeof o=="boolean"?o:md(o),c]},useSyncExternalStore:DC,useId:aN,useHostTransitionStatus:X0,useFormState:KC,useActionState:KC,useOptimistic:function(o,c){var h=xr();return Dn!==null?zC(h,Dn,o,c):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:U0,useCacheRefresh:oN},Rc=null,xd=0;function up(o){var c=xd;return xd+=1,Rc===null&&(Rc=[]),CC(Rc,o,c)}function vd(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function dp(o,c){throw c.$$typeof===m?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function hN(o){var c=o._init;return c(o._payload)}function pN(o){function c(ve,le){if(o){var Ce=ve.deletions;Ce===null?(ve.deletions=[le],ve.flags|=16):Ce.push(le)}}function h(ve,le){if(!o)return null;for(;le!==null;)c(ve,le),le=le.sibling;return null}function g(ve){for(var le=new Map;ve!==null;)ve.key!==null?le.set(ve.key,ve):le.set(ve.index,ve),ve=ve.sibling;return le}function v(ve,le){return ve=ha(ve,le),ve.index=0,ve.sibling=null,ve}function w(ve,le,Ce){return ve.index=Ce,o?(Ce=ve.alternate,Ce!==null?(Ce=Ce.index,Ce<le?(ve.flags|=67108866,le):Ce):(ve.flags|=67108866,le)):(ve.flags|=1048576,le)}function O(ve){return o&&ve.alternate===null&&(ve.flags|=67108866),ve}function z(ve,le,Ce,He){return le===null||le.tag!==6?(le=x0(Ce,ve.mode,He),le.return=ve,le):(le=v(le,Ce),le.return=ve,le)}function X(ve,le,Ce,He){var Rt=Ce.type;return Rt===b?Ue(ve,le,Ce.props.children,He,Ce.key):le!==null&&(le.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===F&&hN(Rt)===le.type)?(le=v(le,Ce.props),vd(le,Ce),le.return=ve,le):(le=Yh(Ce.type,Ce.key,Ce.props,null,ve.mode,He),vd(le,Ce),le.return=ve,le)}function Ae(ve,le,Ce,He){return le===null||le.tag!==4||le.stateNode.containerInfo!==Ce.containerInfo||le.stateNode.implementation!==Ce.implementation?(le=v0(Ce,ve.mode,He),le.return=ve,le):(le=v(le,Ce.children||[]),le.return=ve,le)}function Ue(ve,le,Ce,He,Rt){return le===null||le.tag!==7?(le=ll(Ce,ve.mode,He,Rt),le.return=ve,le):(le=v(le,Ce),le.return=ve,le)}function Ke(ve,le,Ce){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return le=x0(""+le,ve.mode,Ce),le.return=ve,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case y:return Ce=Yh(le.type,le.key,le.props,null,ve.mode,Ce),vd(Ce,le),Ce.return=ve,Ce;case x:return le=v0(le,ve.mode,Ce),le.return=ve,le;case F:var He=le._init;return le=He(le._payload),Ke(ve,le,Ce)}if(ze(le)||ae(le))return le=ll(le,ve.mode,Ce,null),le.return=ve,le;if(typeof le.then=="function")return Ke(ve,up(le),Ce);if(le.$$typeof===D)return Ke(ve,Jh(ve,le),Ce);dp(ve,le)}return null}function De(ve,le,Ce,He){var Rt=le!==null?le.key:null;if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return Rt!==null?null:z(ve,le,""+Ce,He);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case y:return Ce.key===Rt?X(ve,le,Ce,He):null;case x:return Ce.key===Rt?Ae(ve,le,Ce,He):null;case F:return Rt=Ce._init,Ce=Rt(Ce._payload),De(ve,le,Ce,He)}if(ze(Ce)||ae(Ce))return Rt!==null?null:Ue(ve,le,Ce,He,null);if(typeof Ce.then=="function")return De(ve,le,up(Ce),He);if(Ce.$$typeof===D)return De(ve,le,Jh(ve,Ce),He);dp(ve,Ce)}return null}function Le(ve,le,Ce,He,Rt){if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return ve=ve.get(Ce)||null,z(le,ve,""+He,Rt);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case y:return ve=ve.get(He.key===null?Ce:He.key)||null,X(le,ve,He,Rt);case x:return ve=ve.get(He.key===null?Ce:He.key)||null,Ae(le,ve,He,Rt);case F:var fn=He._init;return He=fn(He._payload),Le(ve,le,Ce,He,Rt)}if(ze(He)||ae(He))return ve=ve.get(Ce)||null,Ue(le,ve,He,Rt,null);if(typeof He.then=="function")return Le(ve,le,Ce,up(He),Rt);if(He.$$typeof===D)return Le(ve,le,Ce,Jh(le,He),Rt);dp(le,He)}return null}function Gt(ve,le,Ce,He){for(var Rt=null,fn=null,Bt=le,Kt=le=0,Dr=null;Bt!==null&&Kt<Ce.length;Kt++){Bt.index>Kt?(Dr=Bt,Bt=null):Dr=Bt.sibling;var Sn=De(ve,Bt,Ce[Kt],He);if(Sn===null){Bt===null&&(Bt=Dr);break}o&&Bt&&Sn.alternate===null&&c(ve,Bt),le=w(Sn,le,Kt),fn===null?Rt=Sn:fn.sibling=Sn,fn=Sn,Bt=Dr}if(Kt===Ce.length)return h(ve,Bt),Tn&&ul(ve,Kt),Rt;if(Bt===null){for(;Kt<Ce.length;Kt++)Bt=Ke(ve,Ce[Kt],He),Bt!==null&&(le=w(Bt,le,Kt),fn===null?Rt=Bt:fn.sibling=Bt,fn=Bt);return Tn&&ul(ve,Kt),Rt}for(Bt=g(Bt);Kt<Ce.length;Kt++)Dr=Le(Bt,ve,Kt,Ce[Kt],He),Dr!==null&&(o&&Dr.alternate!==null&&Bt.delete(Dr.key===null?Kt:Dr.key),le=w(Dr,le,Kt),fn===null?Rt=Dr:fn.sibling=Dr,fn=Dr);return o&&Bt.forEach(function(yo){return c(ve,yo)}),Tn&&ul(ve,Kt),Rt}function qt(ve,le,Ce,He){if(Ce==null)throw Error(r(151));for(var Rt=null,fn=null,Bt=le,Kt=le=0,Dr=null,Sn=Ce.next();Bt!==null&&!Sn.done;Kt++,Sn=Ce.next()){Bt.index>Kt?(Dr=Bt,Bt=null):Dr=Bt.sibling;var yo=De(ve,Bt,Sn.value,He);if(yo===null){Bt===null&&(Bt=Dr);break}o&&Bt&&yo.alternate===null&&c(ve,Bt),le=w(yo,le,Kt),fn===null?Rt=yo:fn.sibling=yo,fn=yo,Bt=Dr}if(Sn.done)return h(ve,Bt),Tn&&ul(ve,Kt),Rt;if(Bt===null){for(;!Sn.done;Kt++,Sn=Ce.next())Sn=Ke(ve,Sn.value,He),Sn!==null&&(le=w(Sn,le,Kt),fn===null?Rt=Sn:fn.sibling=Sn,fn=Sn);return Tn&&ul(ve,Kt),Rt}for(Bt=g(Bt);!Sn.done;Kt++,Sn=Ce.next())Sn=Le(Bt,ve,Kt,Sn.value,He),Sn!==null&&(o&&Sn.alternate!==null&&Bt.delete(Sn.key===null?Kt:Sn.key),le=w(Sn,le,Kt),fn===null?Rt=Sn:fn.sibling=Sn,fn=Sn);return o&&Bt.forEach(function(FL){return c(ve,FL)}),Tn&&ul(ve,Kt),Rt}function Rn(ve,le,Ce,He){if(typeof Ce=="object"&&Ce!==null&&Ce.type===b&&Ce.key===null&&(Ce=Ce.props.children),typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case y:e:{for(var Rt=Ce.key;le!==null;){if(le.key===Rt){if(Rt=Ce.type,Rt===b){if(le.tag===7){h(ve,le.sibling),He=v(le,Ce.props.children),He.return=ve,ve=He;break e}}else if(le.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===F&&hN(Rt)===le.type){h(ve,le.sibling),He=v(le,Ce.props),vd(He,Ce),He.return=ve,ve=He;break e}h(ve,le);break}else c(ve,le);le=le.sibling}Ce.type===b?(He=ll(Ce.props.children,ve.mode,He,Ce.key),He.return=ve,ve=He):(He=Yh(Ce.type,Ce.key,Ce.props,null,ve.mode,He),vd(He,Ce),He.return=ve,ve=He)}return O(ve);case x:e:{for(Rt=Ce.key;le!==null;){if(le.key===Rt)if(le.tag===4&&le.stateNode.containerInfo===Ce.containerInfo&&le.stateNode.implementation===Ce.implementation){h(ve,le.sibling),He=v(le,Ce.children||[]),He.return=ve,ve=He;break e}else{h(ve,le);break}else c(ve,le);le=le.sibling}He=v0(Ce,ve.mode,He),He.return=ve,ve=He}return O(ve);case F:return Rt=Ce._init,Ce=Rt(Ce._payload),Rn(ve,le,Ce,He)}if(ze(Ce))return Gt(ve,le,Ce,He);if(ae(Ce)){if(Rt=ae(Ce),typeof Rt!="function")throw Error(r(150));return Ce=Rt.call(Ce),qt(ve,le,Ce,He)}if(typeof Ce.then=="function")return Rn(ve,le,up(Ce),He);if(Ce.$$typeof===D)return Rn(ve,le,Jh(ve,Ce),He);dp(ve,Ce)}return typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint"?(Ce=""+Ce,le!==null&&le.tag===6?(h(ve,le.sibling),He=v(le,Ce),He.return=ve,ve=He):(h(ve,le),He=x0(Ce,ve.mode,He),He.return=ve,ve=He),O(ve)):h(ve,le)}return function(ve,le,Ce,He){try{xd=0;var Rt=Rn(ve,le,Ce,He);return Rc=null,Rt}catch(Bt){if(Bt===cd||Bt===Zh)throw Bt;var fn=Ms(29,Bt,null,ve.mode);return fn.lanes=He,fn.return=ve,fn}finally{}}}var _c=pN(!0),mN=pN(!1),Qs=ue(null),Ii=null;function to(o){var c=o.alternate;fe(Tr,Tr.current&1),fe(Qs,o),Ii===null&&(c===null||kc.current!==null||c.memoizedState!==null)&&(Ii=o)}function gN(o){if(o.tag===22){if(fe(Tr,Tr.current),fe(Qs,o),Ii===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(Ii=o)}}else no()}function no(){fe(Tr,Tr.current),fe(Qs,Qs.current)}function va(o){se(Qs),Ii===o&&(Ii=null),se(Tr)}var Tr=ue(0);function fp(o){for(var c=o;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||$x(h)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function Q0(o,c,h,g){c=o.memoizedState,h=h(g,c),h=h==null?c:p({},c,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var Z0={enqueueSetState:function(o,c,h){o=o._reactInternals;var g=Ps(),v=Qa(g);v.payload=c,h!=null&&(v.callback=h),c=Za(o,v,g),c!==null&&(zs(c,o,g),dd(c,o,g))},enqueueReplaceState:function(o,c,h){o=o._reactInternals;var g=Ps(),v=Qa(g);v.tag=1,v.payload=c,h!=null&&(v.callback=h),c=Za(o,v,g),c!==null&&(zs(c,o,g),dd(c,o,g))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var h=Ps(),g=Qa(h);g.tag=2,c!=null&&(g.callback=c),c=Za(o,g,h),c!==null&&(zs(c,o,h),dd(c,o,h))}};function yN(o,c,h,g,v,w,O){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,w,O):c.prototype&&c.prototype.isPureReactComponent?!td(h,g)||!td(v,w):!0}function xN(o,c,h,g){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,g),c.state!==o&&Z0.enqueueReplaceState(c,c.state,null)}function yl(o,c){var h=c;if("ref"in c){h={};for(var g in c)g!=="ref"&&(h[g]=c[g])}if(o=o.defaultProps){h===c&&(h=p({},h));for(var v in o)h[v]===void 0&&(h[v]=o[v])}return h}var hp=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function vN(o){hp(o)}function bN(o){console.error(o)}function wN(o){hp(o)}function pp(o,c){try{var h=o.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function SN(o,c,h){try{var g=o.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function ex(o,c,h){return h=Qa(h),h.tag=3,h.payload={element:null},h.callback=function(){pp(o,c)},h}function CN(o){return o=Qa(o),o.tag=3,o}function NN(o,c,h,g){var v=h.type.getDerivedStateFromError;if(typeof v=="function"){var w=g.value;o.payload=function(){return v(w)},o.callback=function(){SN(c,h,g)}}var O=h.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(o.callback=function(){SN(c,h,g),typeof v!="function"&&(lo===null?lo=new Set([this]):lo.add(this));var z=g.stack;this.componentDidCatch(g.value,{componentStack:z!==null?z:""})})}function F8(o,c,h,g,v){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=h.alternate,c!==null&&ad(c,h,v,!0),h=Qs.current,h!==null){switch(h.tag){case 13:return Ii===null?Nx():h.alternate===null&&rr===0&&(rr=3),h.flags&=-257,h.flags|=65536,h.lanes=v,g===k0?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([g]):c.add(g),Tx(o,g,v)),!1;case 22:return h.flags|=65536,g===k0?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([g]):h.add(g)),Tx(o,g,v)),!1}throw Error(r(435,h.tag))}return Tx(o,g,v),Nx(),!1}if(Tn)return c=Qs.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=v,g!==S0&&(o=Error(r(422),{cause:g}),id(Ws(o,h)))):(g!==S0&&(c=Error(r(423),{cause:g}),id(Ws(c,h))),o=o.current.alternate,o.flags|=65536,v&=-v,o.lanes|=v,g=Ws(g,h),v=ex(o.stateNode,g,v),M0(o,v),rr!==4&&(rr=2)),!1;var w=Error(r(520),{cause:g});if(w=Ws(w,h),Td===null?Td=[w]:Td.push(w),rr!==4&&(rr=2),c===null)return!0;g=Ws(g,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,o=v&-v,h.lanes|=o,o=ex(h.stateNode,g,o),M0(h,o),!1;case 1:if(c=h.type,w=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(lo===null||!lo.has(w))))return h.flags|=65536,v&=-v,h.lanes|=v,v=CN(v),NN(v,o,h,g),M0(h,v),!1}h=h.return}while(h!==null);return!1}var jN=Error(r(461)),kr=!1;function Fr(o,c,h,g){c.child=o===null?mN(c,null,h,g):_c(c,o.child,h,g)}function TN(o,c,h,g,v){h=h.render;var w=c.ref;if("ref"in g){var O={};for(var z in g)z!=="ref"&&(O[z]=g[z])}else O=g;return pl(c),g=z0(o,c,h,O,w,v),z=I0(),o!==null&&!kr?(B0(o,c,v),ba(o,c,v)):(Tn&&z&&b0(c),c.flags|=1,Fr(o,c,g,v),c.child)}function EN(o,c,h,g,v){if(o===null){var w=h.type;return typeof w=="function"&&!y0(w)&&w.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=w,AN(o,c,w,g,v)):(o=Yh(h.type,null,g,c,c.mode,v),o.ref=c.ref,o.return=c,c.child=o)}if(w=o.child,!lx(o,v)){var O=w.memoizedProps;if(h=h.compare,h=h!==null?h:td,h(O,g)&&o.ref===c.ref)return ba(o,c,v)}return c.flags|=1,o=ha(w,g),o.ref=c.ref,o.return=c,c.child=o}function AN(o,c,h,g,v){if(o!==null){var w=o.memoizedProps;if(td(w,g)&&o.ref===c.ref)if(kr=!1,c.pendingProps=g=w,lx(o,v))(o.flags&131072)!==0&&(kr=!0);else return c.lanes=o.lanes,ba(o,c,v)}return tx(o,c,h,g,v)}function kN(o,c,h){var g=c.pendingProps,v=g.children,w=o!==null?o.memoizedState:null;if(g.mode==="hidden"){if((c.flags&128)!==0){if(g=w!==null?w.baseLanes|h:h,o!==null){for(v=c.child=o.child,w=0;v!==null;)w=w|v.lanes|v.childLanes,v=v.sibling;c.childLanes=w&~g}else c.childLanes=0,c.child=null;return ON(o,c,g,h)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Qh(c,w!==null?w.cachePool:null),w!==null?AC(c,w):_0(),gN(c);else return c.lanes=c.childLanes=536870912,ON(o,c,w!==null?w.baseLanes|h:h,h)}else w!==null?(Qh(c,w.cachePool),AC(c,w),no(),c.memoizedState=null):(o!==null&&Qh(c,null),_0(),no());return Fr(o,c,v,h),c.child}function ON(o,c,h,g){var v=A0();return v=v===null?null:{parent:jr._currentValue,pool:v},c.memoizedState={baseLanes:h,cachePool:v},o!==null&&Qh(c,null),_0(),gN(c),o!==null&&ad(o,c,g,!0),null}function mp(o,c){var h=c.ref;if(h===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(o===null||o.ref!==h)&&(c.flags|=4194816)}}function tx(o,c,h,g,v){return pl(c),h=z0(o,c,h,g,void 0,v),g=I0(),o!==null&&!kr?(B0(o,c,v),ba(o,c,v)):(Tn&&g&&b0(c),c.flags|=1,Fr(o,c,h,v),c.child)}function DN(o,c,h,g,v,w){return pl(c),c.updateQueue=null,h=OC(c,g,h,v),kC(o),g=I0(),o!==null&&!kr?(B0(o,c,w),ba(o,c,w)):(Tn&&g&&b0(c),c.flags|=1,Fr(o,c,h,w),c.child)}function MN(o,c,h,g,v){if(pl(c),c.stateNode===null){var w=Nc,O=h.contextType;typeof O=="object"&&O!==null&&(w=Gr(O)),w=new h(g,w),c.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Z0,c.stateNode=w,w._reactInternals=c,w=c.stateNode,w.props=g,w.state=c.memoizedState,w.refs={},O0(c),O=h.contextType,w.context=typeof O=="object"&&O!==null?Gr(O):Nc,w.state=c.memoizedState,O=h.getDerivedStateFromProps,typeof O=="function"&&(Q0(c,h,O,g),w.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(O=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),O!==w.state&&Z0.enqueueReplaceState(w,w.state,null),hd(c,g,w,v),fd(),w.state=c.memoizedState),typeof w.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(o===null){w=c.stateNode;var z=c.memoizedProps,X=yl(h,z);w.props=X;var Ae=w.context,Ue=h.contextType;O=Nc,typeof Ue=="object"&&Ue!==null&&(O=Gr(Ue));var Ke=h.getDerivedStateFromProps;Ue=typeof Ke=="function"||typeof w.getSnapshotBeforeUpdate=="function",z=c.pendingProps!==z,Ue||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(z||Ae!==O)&&xN(c,w,g,O),Ja=!1;var De=c.memoizedState;w.state=De,hd(c,g,w,v),fd(),Ae=c.memoizedState,z||De!==Ae||Ja?(typeof Ke=="function"&&(Q0(c,h,Ke,g),Ae=c.memoizedState),(X=Ja||yN(c,h,X,g,De,Ae,O))?(Ue||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(c.flags|=4194308)):(typeof w.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=Ae),w.props=g,w.state=Ae,w.context=O,g=X):(typeof w.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{w=c.stateNode,D0(o,c),O=c.memoizedProps,Ue=yl(h,O),w.props=Ue,Ke=c.pendingProps,De=w.context,Ae=h.contextType,X=Nc,typeof Ae=="object"&&Ae!==null&&(X=Gr(Ae)),z=h.getDerivedStateFromProps,(Ae=typeof z=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(O!==Ke||De!==X)&&xN(c,w,g,X),Ja=!1,De=c.memoizedState,w.state=De,hd(c,g,w,v),fd();var Le=c.memoizedState;O!==Ke||De!==Le||Ja||o!==null&&o.dependencies!==null&&Xh(o.dependencies)?(typeof z=="function"&&(Q0(c,h,z,g),Le=c.memoizedState),(Ue=Ja||yN(c,h,Ue,g,De,Le,X)||o!==null&&o.dependencies!==null&&Xh(o.dependencies))?(Ae||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(g,Le,X),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(g,Le,X)),typeof w.componentDidUpdate=="function"&&(c.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof w.componentDidUpdate!="function"||O===o.memoizedProps&&De===o.memoizedState||(c.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===o.memoizedProps&&De===o.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=Le),w.props=g,w.state=Le,w.context=X,g=Ue):(typeof w.componentDidUpdate!="function"||O===o.memoizedProps&&De===o.memoizedState||(c.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===o.memoizedProps&&De===o.memoizedState||(c.flags|=1024),g=!1)}return w=g,mp(o,c),g=(c.flags&128)!==0,w||g?(w=c.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:w.render(),c.flags|=1,o!==null&&g?(c.child=_c(c,o.child,null,v),c.child=_c(c,null,h,v)):Fr(o,c,h,v),c.memoizedState=w.state,o=c.child):o=ba(o,c,v),o}function RN(o,c,h,g){return sd(),c.flags|=256,Fr(o,c,h,g),c.child}var nx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rx(o){return{baseLanes:o,cachePool:bC()}}function sx(o,c,h){return o=o!==null?o.childLanes&~h:0,c&&(o|=Zs),o}function _N(o,c,h){var g=c.pendingProps,v=!1,w=(c.flags&128)!==0,O;if((O=w)||(O=o!==null&&o.memoizedState===null?!1:(Tr.current&2)!==0),O&&(v=!0,c.flags&=-129),O=(c.flags&32)!==0,c.flags&=-33,o===null){if(Tn){if(v?to(c):no(),Tn){var z=nr,X;if(X=z){e:{for(X=z,z=zi;X.nodeType!==8;){if(!z){z=null;break e}if(X=bi(X.nextSibling),X===null){z=null;break e}}z=X}z!==null?(c.memoizedState={dehydrated:z,treeContext:cl!==null?{id:pa,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},X=Ms(18,null,null,0),X.stateNode=z,X.return=c,c.child=X,as=c,nr=null,X=!0):X=!1}X||fl(c)}if(z=c.memoizedState,z!==null&&(z=z.dehydrated,z!==null))return $x(z)?c.lanes=32:c.lanes=536870912,null;va(c)}return z=g.children,g=g.fallback,v?(no(),v=c.mode,z=gp({mode:"hidden",children:z},v),g=ll(g,v,h,null),z.return=c,g.return=c,z.sibling=g,c.child=z,v=c.child,v.memoizedState=rx(h),v.childLanes=sx(o,O,h),c.memoizedState=nx,g):(to(c),ix(c,z))}if(X=o.memoizedState,X!==null&&(z=X.dehydrated,z!==null)){if(w)c.flags&256?(to(c),c.flags&=-257,c=ax(o,c,h)):c.memoizedState!==null?(no(),c.child=o.child,c.flags|=128,c=null):(no(),v=g.fallback,z=c.mode,g=gp({mode:"visible",children:g.children},z),v=ll(v,z,h,null),v.flags|=2,g.return=c,v.return=c,g.sibling=v,c.child=g,_c(c,o.child,null,h),g=c.child,g.memoizedState=rx(h),g.childLanes=sx(o,O,h),c.memoizedState=nx,c=v);else if(to(c),$x(z)){if(O=z.nextSibling&&z.nextSibling.dataset,O)var Ae=O.dgst;O=Ae,g=Error(r(419)),g.stack="",g.digest=O,id({value:g,source:null,stack:null}),c=ax(o,c,h)}else if(kr||ad(o,c,h,!1),O=(h&o.childLanes)!==0,kr||O){if(O=zn,O!==null&&(g=h&-h,g=(g&42)!==0?1:en(g),g=(g&(O.suspendedLanes|h))!==0?0:g,g!==0&&g!==X.retryLane))throw X.retryLane=g,Cc(o,g),zs(O,o,g),jN;z.data==="$?"||Nx(),c=ax(o,c,h)}else z.data==="$?"?(c.flags|=192,c.child=o.child,c=null):(o=X.treeContext,nr=bi(z.nextSibling),as=c,Tn=!0,dl=null,zi=!1,o!==null&&(Xs[Js++]=pa,Xs[Js++]=ma,Xs[Js++]=cl,pa=o.id,ma=o.overflow,cl=c),c=ix(c,g.children),c.flags|=4096);return c}return v?(no(),v=g.fallback,z=c.mode,X=o.child,Ae=X.sibling,g=ha(X,{mode:"hidden",children:g.children}),g.subtreeFlags=X.subtreeFlags&65011712,Ae!==null?v=ha(Ae,v):(v=ll(v,z,h,null),v.flags|=2),v.return=c,g.return=c,g.sibling=v,c.child=g,g=v,v=c.child,z=o.child.memoizedState,z===null?z=rx(h):(X=z.cachePool,X!==null?(Ae=jr._currentValue,X=X.parent!==Ae?{parent:Ae,pool:Ae}:X):X=bC(),z={baseLanes:z.baseLanes|h,cachePool:X}),v.memoizedState=z,v.childLanes=sx(o,O,h),c.memoizedState=nx,g):(to(c),h=o.child,o=h.sibling,h=ha(h,{mode:"visible",children:g.children}),h.return=c,h.sibling=null,o!==null&&(O=c.deletions,O===null?(c.deletions=[o],c.flags|=16):O.push(o)),c.child=h,c.memoizedState=null,h)}function ix(o,c){return c=gp({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function gp(o,c){return o=Ms(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function ax(o,c,h){return _c(c,o.child,null,h),o=ix(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function LN(o,c,h){o.lanes|=c;var g=o.alternate;g!==null&&(g.lanes|=c),N0(o.return,c,h)}function ox(o,c,h,g,v){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:v}:(w.isBackwards=c,w.rendering=null,w.renderingStartTime=0,w.last=g,w.tail=h,w.tailMode=v)}function PN(o,c,h){var g=c.pendingProps,v=g.revealOrder,w=g.tail;if(Fr(o,c,g.children,h),g=Tr.current,(g&2)!==0)g=g&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&LN(o,h,c);else if(o.tag===19)LN(o,h,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}g&=1}switch(fe(Tr,g),v){case"forwards":for(h=c.child,v=null;h!==null;)o=h.alternate,o!==null&&fp(o)===null&&(v=h),h=h.sibling;h=v,h===null?(v=c.child,c.child=null):(v=h.sibling,h.sibling=null),ox(c,!1,v,h,w);break;case"backwards":for(h=null,v=c.child,c.child=null;v!==null;){if(o=v.alternate,o!==null&&fp(o)===null){c.child=v;break}o=v.sibling,v.sibling=h,h=v,v=o}ox(c,!0,h,null,w);break;case"together":ox(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function ba(o,c,h){if(o!==null&&(c.dependencies=o.dependencies),oo|=c.lanes,(h&c.childLanes)===0)if(o!==null){if(ad(o,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,h=ha(o,o.pendingProps),c.child=h,h.return=c;o.sibling!==null;)o=o.sibling,h=h.sibling=ha(o,o.pendingProps),h.return=c;h.sibling=null}return c.child}function lx(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Xh(o)))}function $8(o,c,h){switch(c.tag){case 3:Me(c,c.stateNode.containerInfo),Xa(c,jr,o.memoizedState.cache),sd();break;case 27:case 5:Ze(c);break;case 4:Me(c,c.stateNode.containerInfo);break;case 10:Xa(c,c.type,c.memoizedProps.value);break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(to(c),c.flags|=128,null):(h&c.child.childLanes)!==0?_N(o,c,h):(to(c),o=ba(o,c,h),o!==null?o.sibling:null);to(c);break;case 19:var v=(o.flags&128)!==0;if(g=(h&c.childLanes)!==0,g||(ad(o,c,h,!1),g=(h&c.childLanes)!==0),v){if(g)return PN(o,c,h);c.flags|=128}if(v=c.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),fe(Tr,Tr.current),g)break;return null;case 22:case 23:return c.lanes=0,kN(o,c,h);case 24:Xa(c,jr,o.memoizedState.cache)}return ba(o,c,h)}function zN(o,c,h){if(o!==null)if(o.memoizedProps!==c.pendingProps)kr=!0;else{if(!lx(o,h)&&(c.flags&128)===0)return kr=!1,$8(o,c,h);kr=(o.flags&131072)!==0}else kr=!1,Tn&&(c.flags&1048576)!==0&&hC(c,Gh,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var g=c.elementType,v=g._init;if(g=v(g._payload),c.type=g,typeof g=="function")y0(g)?(o=yl(g,o),c.tag=1,c=MN(null,c,g,o,h)):(c.tag=0,c=tx(null,c,g,o,h));else{if(g!=null){if(v=g.$$typeof,v===M){c.tag=11,c=TN(null,c,g,o,h);break e}else if(v===P){c.tag=14,c=EN(null,c,g,o,h);break e}}throw c=ke(g)||g,Error(r(306,c,""))}}return c;case 0:return tx(o,c,c.type,c.pendingProps,h);case 1:return g=c.type,v=yl(g,c.pendingProps),MN(o,c,g,v,h);case 3:e:{if(Me(c,c.stateNode.containerInfo),o===null)throw Error(r(387));g=c.pendingProps;var w=c.memoizedState;v=w.element,D0(o,c),hd(c,g,null,h);var O=c.memoizedState;if(g=O.cache,Xa(c,jr,g),g!==w.cache&&j0(c,[jr],h,!0),fd(),g=O.element,w.isDehydrated)if(w={element:g,isDehydrated:!1,cache:O.cache},c.updateQueue.baseState=w,c.memoizedState=w,c.flags&256){c=RN(o,c,g,h);break e}else if(g!==v){v=Ws(Error(r(424)),c),id(v),c=RN(o,c,g,h);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(nr=bi(o.firstChild),as=c,Tn=!0,dl=null,zi=!0,h=mN(c,null,g,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(sd(),g===v){c=ba(o,c,h);break e}Fr(o,c,g,h)}c=c.child}return c;case 26:return mp(o,c),o===null?(h=$j(c.type,null,c.pendingProps,null))?c.memoizedState=h:Tn||(h=c.type,o=c.pendingProps,g=Op(Oe.current).createElement(h),g[$e]=c,g[Xe]=o,Ur(g,h,o),Dt(g),c.stateNode=g):c.memoizedState=$j(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Ze(c),o===null&&Tn&&(g=c.stateNode=Ij(c.type,c.pendingProps,Oe.current),as=c,zi=!0,v=nr,fo(c.type)?(Ux=v,nr=bi(g.firstChild)):nr=v),Fr(o,c,c.pendingProps.children,h),mp(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Tn&&((v=g=nr)&&(g=mL(g,c.type,c.pendingProps,zi),g!==null?(c.stateNode=g,as=c,nr=bi(g.firstChild),zi=!1,v=!0):v=!1),v||fl(c)),Ze(c),v=c.type,w=c.pendingProps,O=o!==null?o.memoizedProps:null,g=w.children,Ix(v,w)?g=null:O!==null&&Ix(v,O)&&(c.flags|=32),c.memoizedState!==null&&(v=z0(o,c,R8,null,null,h),Ld._currentValue=v),mp(o,c),Fr(o,c,g,h),c.child;case 6:return o===null&&Tn&&((o=h=nr)&&(h=gL(h,c.pendingProps,zi),h!==null?(c.stateNode=h,as=c,nr=null,o=!0):o=!1),o||fl(c)),null;case 13:return _N(o,c,h);case 4:return Me(c,c.stateNode.containerInfo),g=c.pendingProps,o===null?c.child=_c(c,null,g,h):Fr(o,c,g,h),c.child;case 11:return TN(o,c,c.type,c.pendingProps,h);case 7:return Fr(o,c,c.pendingProps,h),c.child;case 8:return Fr(o,c,c.pendingProps.children,h),c.child;case 12:return Fr(o,c,c.pendingProps.children,h),c.child;case 10:return g=c.pendingProps,Xa(c,c.type,g.value),Fr(o,c,g.children,h),c.child;case 9:return v=c.type._context,g=c.pendingProps.children,pl(c),v=Gr(v),g=g(v),c.flags|=1,Fr(o,c,g,h),c.child;case 14:return EN(o,c,c.type,c.pendingProps,h);case 15:return AN(o,c,c.type,c.pendingProps,h);case 19:return PN(o,c,h);case 31:return g=c.pendingProps,h=c.mode,g={mode:g.mode,children:g.children},o===null?(h=gp(g,h),h.ref=c.ref,c.child=h,h.return=c,c=h):(h=ha(o.child,g),h.ref=c.ref,c.child=h,h.return=c,c=h),c;case 22:return kN(o,c,h);case 24:return pl(c),g=Gr(jr),o===null?(v=A0(),v===null&&(v=zn,w=T0(),v.pooledCache=w,w.refCount++,w!==null&&(v.pooledCacheLanes|=h),v=w),c.memoizedState={parent:g,cache:v},O0(c),Xa(c,jr,v)):((o.lanes&h)!==0&&(D0(o,c),hd(c,null,null,h),fd()),v=o.memoizedState,w=c.memoizedState,v.parent!==g?(v={parent:g,cache:g},c.memoizedState=v,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=v),Xa(c,jr,g)):(g=w.cache,Xa(c,jr,g),g!==v.cache&&j0(c,[jr],h,!0))),Fr(o,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function wa(o){o.flags|=4}function IN(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!Kj(c)){if(c=Qs.current,c!==null&&((yn&4194048)===yn?Ii!==null:(yn&62914560)!==yn&&(yn&536870912)===0||c!==Ii))throw ud=k0,wC;o.flags|=8192}}function yp(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?rt():536870912,o.lanes|=c,Ic|=c)}function bd(o,c){if(!Tn)switch(o.tailMode){case"hidden":c=o.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function Zn(o){var c=o.alternate!==null&&o.alternate.child===o.child,h=0,g=0;if(c)for(var v=o.child;v!==null;)h|=v.lanes|v.childLanes,g|=v.subtreeFlags&65011712,g|=v.flags&65011712,v.return=o,v=v.sibling;else for(v=o.child;v!==null;)h|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=o,v=v.sibling;return o.subtreeFlags|=g,o.childLanes=h,c}function U8(o,c,h){var g=c.pendingProps;switch(w0(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(c),null;case 1:return Zn(c),null;case 3:return h=c.stateNode,g=null,o!==null&&(g=o.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),ya(jr),ut(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(rd(c)?wa(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,gC())),Zn(c),null;case 26:return h=c.memoizedState,o===null?(wa(c),h!==null?(Zn(c),IN(c,h)):(Zn(c),c.flags&=-16777217)):h?h!==o.memoizedState?(wa(c),Zn(c),IN(c,h)):(Zn(c),c.flags&=-16777217):(o.memoizedProps!==g&&wa(c),Zn(c),c.flags&=-16777217),null;case 27:St(c),h=Oe.current;var v=c.type;if(o!==null&&c.stateNode!=null)o.memoizedProps!==g&&wa(c);else{if(!g){if(c.stateNode===null)throw Error(r(166));return Zn(c),null}o=Ee.current,rd(c)?pC(c):(o=Ij(v,g,h),c.stateNode=o,wa(c))}return Zn(c),null;case 5:if(St(c),h=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==g&&wa(c);else{if(!g){if(c.stateNode===null)throw Error(r(166));return Zn(c),null}if(o=Ee.current,rd(c))pC(c);else{switch(v=Op(Oe.current),o){case 1:o=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:o=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":o=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":o=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":o=v.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof g.is=="string"?v.createElement("select",{is:g.is}):v.createElement("select"),g.multiple?o.multiple=!0:g.size&&(o.size=g.size);break;default:o=typeof g.is=="string"?v.createElement(h,{is:g.is}):v.createElement(h)}}o[$e]=c,o[Xe]=g;e:for(v=c.child;v!==null;){if(v.tag===5||v.tag===6)o.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===c)break e;for(;v.sibling===null;){if(v.return===null||v.return===c)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}c.stateNode=o;e:switch(Ur(o,h,g),h){case"button":case"input":case"select":case"textarea":o=!!g.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&wa(c)}}return Zn(c),c.flags&=-16777217,null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==g&&wa(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(r(166));if(o=Oe.current,rd(c)){if(o=c.stateNode,h=c.memoizedProps,g=null,v=as,v!==null)switch(v.tag){case 27:case 5:g=v.memoizedProps}o[$e]=c,o=!!(o.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||Dj(o.nodeValue,h)),o||fl(c)}else o=Op(o).createTextNode(g),o[$e]=c,c.stateNode=o}return Zn(c),null;case 13:if(g=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(v=rd(c),g!==null&&g.dehydrated!==null){if(o===null){if(!v)throw Error(r(318));if(v=c.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[$e]=c}else sd(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Zn(c),v=!1}else v=gC(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=v),v=!0;if(!v)return c.flags&256?(va(c),c):(va(c),null)}if(va(c),(c.flags&128)!==0)return c.lanes=h,c;if(h=g!==null,o=o!==null&&o.memoizedState!==null,h){g=c.child,v=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(v=g.alternate.memoizedState.cachePool.pool);var w=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(w=g.memoizedState.cachePool.pool),w!==v&&(g.flags|=2048)}return h!==o&&h&&(c.child.flags|=8192),yp(c,c.updateQueue),Zn(c),null;case 4:return ut(),o===null&&Rx(c.stateNode.containerInfo),Zn(c),null;case 10:return ya(c.type),Zn(c),null;case 19:if(se(Tr),v=c.memoizedState,v===null)return Zn(c),null;if(g=(c.flags&128)!==0,w=v.rendering,w===null)if(g)bd(v,!1);else{if(rr!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(w=fp(o),w!==null){for(c.flags|=128,bd(v,!1),o=w.updateQueue,c.updateQueue=o,yp(c,o),c.subtreeFlags=0,o=h,h=c.child;h!==null;)fC(h,o),h=h.sibling;return fe(Tr,Tr.current&1|2),c.child}o=o.sibling}v.tail!==null&&qe()>bp&&(c.flags|=128,g=!0,bd(v,!1),c.lanes=4194304)}else{if(!g)if(o=fp(w),o!==null){if(c.flags|=128,g=!0,o=o.updateQueue,c.updateQueue=o,yp(c,o),bd(v,!0),v.tail===null&&v.tailMode==="hidden"&&!w.alternate&&!Tn)return Zn(c),null}else 2*qe()-v.renderingStartTime>bp&&h!==536870912&&(c.flags|=128,g=!0,bd(v,!1),c.lanes=4194304);v.isBackwards?(w.sibling=c.child,c.child=w):(o=v.last,o!==null?o.sibling=w:c.child=w,v.last=w)}return v.tail!==null?(c=v.tail,v.rendering=c,v.tail=c.sibling,v.renderingStartTime=qe(),c.sibling=null,o=Tr.current,fe(Tr,g?o&1|2:o&1),c):(Zn(c),null);case 22:case 23:return va(c),L0(),g=c.memoizedState!==null,o!==null?o.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(h&536870912)!==0&&(c.flags&128)===0&&(Zn(c),c.subtreeFlags&6&&(c.flags|=8192)):Zn(c),h=c.updateQueue,h!==null&&yp(c,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048),o!==null&&se(ml),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),ya(jr),Zn(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function V8(o,c){switch(w0(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return ya(jr),ut(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return St(c),null;case 13:if(va(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));sd()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return se(Tr),null;case 4:return ut(),null;case 10:return ya(c.type),null;case 22:case 23:return va(c),L0(),o!==null&&se(ml),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return ya(jr),null;case 25:return null;default:return null}}function BN(o,c){switch(w0(c),c.tag){case 3:ya(jr),ut();break;case 26:case 27:case 5:St(c);break;case 4:ut();break;case 13:va(c);break;case 19:se(Tr);break;case 10:ya(c.type);break;case 22:case 23:va(c),L0(),o!==null&&se(ml);break;case 24:ya(jr)}}function wd(o,c){try{var h=c.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var v=g.next;h=v;do{if((h.tag&o)===o){g=void 0;var w=h.create,O=h.inst;g=w(),O.destroy=g}h=h.next}while(h!==v)}}catch(z){Ln(c,c.return,z)}}function ro(o,c,h){try{var g=c.updateQueue,v=g!==null?g.lastEffect:null;if(v!==null){var w=v.next;g=w;do{if((g.tag&o)===o){var O=g.inst,z=O.destroy;if(z!==void 0){O.destroy=void 0,v=c;var X=h,Ae=z;try{Ae()}catch(Ue){Ln(v,X,Ue)}}}g=g.next}while(g!==w)}}catch(Ue){Ln(c,c.return,Ue)}}function FN(o){var c=o.updateQueue;if(c!==null){var h=o.stateNode;try{EC(c,h)}catch(g){Ln(o,o.return,g)}}}function $N(o,c,h){h.props=yl(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(g){Ln(o,c,g)}}function Sd(o,c){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var g=o.stateNode;break;case 30:g=o.stateNode;break;default:g=o.stateNode}typeof h=="function"?o.refCleanup=h(g):h.current=g}}catch(v){Ln(o,c,v)}}function Bi(o,c){var h=o.ref,g=o.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(v){Ln(o,c,v)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(v){Ln(o,c,v)}else h.current=null}function UN(o){var c=o.type,h=o.memoizedProps,g=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(v){Ln(o,o.return,v)}}function cx(o,c,h){try{var g=o.stateNode;uL(g,o.type,h,c),g[Xe]=c}catch(v){Ln(o,o.return,v)}}function VN(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&fo(o.type)||o.tag===4}function ux(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||VN(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&fo(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function dx(o,c,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(o),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=kp));else if(g!==4&&(g===27&&fo(o.type)&&(h=o.stateNode,c=null),o=o.child,o!==null))for(dx(o,c,h),o=o.sibling;o!==null;)dx(o,c,h),o=o.sibling}function xp(o,c,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?h.insertBefore(o,c):h.appendChild(o);else if(g!==4&&(g===27&&fo(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(xp(o,c,h),o=o.sibling;o!==null;)xp(o,c,h),o=o.sibling}function HN(o){var c=o.stateNode,h=o.memoizedProps;try{for(var g=o.type,v=c.attributes;v.length;)c.removeAttributeNode(v[0]);Ur(c,g,h),c[$e]=o,c[Xe]=h}catch(w){Ln(o,o.return,w)}}var Sa=!1,dr=!1,fx=!1,qN=typeof WeakSet=="function"?WeakSet:Set,Or=null;function H8(o,c){if(o=o.containerInfo,Px=Pp,o=nC(o),u0(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var v=g.anchorOffset,w=g.focusNode;g=g.focusOffset;try{h.nodeType,w.nodeType}catch{h=null;break e}var O=0,z=-1,X=-1,Ae=0,Ue=0,Ke=o,De=null;t:for(;;){for(var Le;Ke!==h||v!==0&&Ke.nodeType!==3||(z=O+v),Ke!==w||g!==0&&Ke.nodeType!==3||(X=O+g),Ke.nodeType===3&&(O+=Ke.nodeValue.length),(Le=Ke.firstChild)!==null;)De=Ke,Ke=Le;for(;;){if(Ke===o)break t;if(De===h&&++Ae===v&&(z=O),De===w&&++Ue===g&&(X=O),(Le=Ke.nextSibling)!==null)break;Ke=De,De=Ke.parentNode}Ke=Le}h=z===-1||X===-1?null:{start:z,end:X}}else h=null}h=h||{start:0,end:0}}else h=null;for(zx={focusedElem:o,selectionRange:h},Pp=!1,Or=c;Or!==null;)if(c=Or,o=c.child,(c.subtreeFlags&1024)!==0&&o!==null)o.return=c,Or=o;else for(;Or!==null;){switch(c=Or,w=c.alternate,o=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&w!==null){o=void 0,h=c,v=w.memoizedProps,w=w.memoizedState,g=h.stateNode;try{var Gt=yl(h.type,v,h.elementType===h.type);o=g.getSnapshotBeforeUpdate(Gt,w),g.__reactInternalSnapshotBeforeUpdate=o}catch(qt){Ln(h,h.return,qt)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,h=o.nodeType,h===9)Fx(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Fx(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=c.sibling,o!==null){o.return=c.return,Or=o;break}Or=c.return}}function KN(o,c,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:so(o,h),g&4&&wd(5,h);break;case 1:if(so(o,h),g&4)if(o=h.stateNode,c===null)try{o.componentDidMount()}catch(O){Ln(h,h.return,O)}else{var v=yl(h.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(v,c,o.__reactInternalSnapshotBeforeUpdate)}catch(O){Ln(h,h.return,O)}}g&64&&FN(h),g&512&&Sd(h,h.return);break;case 3:if(so(o,h),g&64&&(o=h.updateQueue,o!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{EC(o,c)}catch(O){Ln(h,h.return,O)}}break;case 27:c===null&&g&4&&HN(h);case 26:case 5:so(o,h),c===null&&g&4&&UN(h),g&512&&Sd(h,h.return);break;case 12:so(o,h);break;case 13:so(o,h),g&4&&GN(o,h),g&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=Z8.bind(null,h),yL(o,h))));break;case 22:if(g=h.memoizedState!==null||Sa,!g){c=c!==null&&c.memoizedState!==null||dr,v=Sa;var w=dr;Sa=g,(dr=c)&&!w?io(o,h,(h.subtreeFlags&8772)!==0):so(o,h),Sa=v,dr=w}break;case 30:break;default:so(o,h)}}function YN(o){var c=o.alternate;c!==null&&(o.alternate=null,YN(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&G(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var qn=null,ys=!1;function Ca(o,c,h){for(h=h.child;h!==null;)WN(o,c,h),h=h.sibling}function WN(o,c,h){if(we&&typeof we.onCommitFiberUnmount=="function")try{we.onCommitFiberUnmount(V,h)}catch{}switch(h.tag){case 26:dr||Bi(h,c),Ca(o,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:dr||Bi(h,c);var g=qn,v=ys;fo(h.type)&&(qn=h.stateNode,ys=!1),Ca(o,c,h),Dd(h.stateNode),qn=g,ys=v;break;case 5:dr||Bi(h,c);case 6:if(g=qn,v=ys,qn=null,Ca(o,c,h),qn=g,ys=v,qn!==null)if(ys)try{(qn.nodeType===9?qn.body:qn.nodeName==="HTML"?qn.ownerDocument.body:qn).removeChild(h.stateNode)}catch(w){Ln(h,c,w)}else try{qn.removeChild(h.stateNode)}catch(w){Ln(h,c,w)}break;case 18:qn!==null&&(ys?(o=qn,Pj(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),Bd(o)):Pj(qn,h.stateNode));break;case 4:g=qn,v=ys,qn=h.stateNode.containerInfo,ys=!0,Ca(o,c,h),qn=g,ys=v;break;case 0:case 11:case 14:case 15:dr||ro(2,h,c),dr||ro(4,h,c),Ca(o,c,h);break;case 1:dr||(Bi(h,c),g=h.stateNode,typeof g.componentWillUnmount=="function"&&$N(h,c,g)),Ca(o,c,h);break;case 21:Ca(o,c,h);break;case 22:dr=(g=dr)||h.memoizedState!==null,Ca(o,c,h),dr=g;break;default:Ca(o,c,h)}}function GN(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Bd(o)}catch(h){Ln(c,c.return,h)}}function q8(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new qN),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new qN),c;default:throw Error(r(435,o.tag))}}function hx(o,c){var h=q8(o);c.forEach(function(g){var v=eL.bind(null,o,g);h.has(g)||(h.add(g),g.then(v,v))})}function Rs(o,c){var h=c.deletions;if(h!==null)for(var g=0;g<h.length;g++){var v=h[g],w=o,O=c,z=O;e:for(;z!==null;){switch(z.tag){case 27:if(fo(z.type)){qn=z.stateNode,ys=!1;break e}break;case 5:qn=z.stateNode,ys=!1;break e;case 3:case 4:qn=z.stateNode.containerInfo,ys=!0;break e}z=z.return}if(qn===null)throw Error(r(160));WN(w,O,v),qn=null,ys=!1,w=v.alternate,w!==null&&(w.return=null),v.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)XN(c,o),c=c.sibling}var vi=null;function XN(o,c){var h=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Rs(c,o),_s(o),g&4&&(ro(3,o,o.return),wd(3,o),ro(5,o,o.return));break;case 1:Rs(c,o),_s(o),g&512&&(dr||h===null||Bi(h,h.return)),g&64&&Sa&&(o=o.updateQueue,o!==null&&(g=o.callbacks,g!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var v=vi;if(Rs(c,o),_s(o),g&512&&(dr||h===null||Bi(h,h.return)),g&4){var w=h!==null?h.memoizedState:null;if(g=o.memoizedState,h===null)if(g===null)if(o.stateNode===null){e:{g=o.type,h=o.memoizedProps,v=v.ownerDocument||v;t:switch(g){case"title":w=v.getElementsByTagName("title")[0],(!w||w[Ot]||w[$e]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=v.createElement(g),v.head.insertBefore(w,v.querySelector("head > title"))),Ur(w,g,h),w[$e]=o,Dt(w),g=w;break e;case"link":var O=Hj("link","href",v).get(g+(h.href||""));if(O){for(var z=0;z<O.length;z++)if(w=O[z],w.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&w.getAttribute("rel")===(h.rel==null?null:h.rel)&&w.getAttribute("title")===(h.title==null?null:h.title)&&w.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){O.splice(z,1);break t}}w=v.createElement(g),Ur(w,g,h),v.head.appendChild(w);break;case"meta":if(O=Hj("meta","content",v).get(g+(h.content||""))){for(z=0;z<O.length;z++)if(w=O[z],w.getAttribute("content")===(h.content==null?null:""+h.content)&&w.getAttribute("name")===(h.name==null?null:h.name)&&w.getAttribute("property")===(h.property==null?null:h.property)&&w.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&w.getAttribute("charset")===(h.charSet==null?null:h.charSet)){O.splice(z,1);break t}}w=v.createElement(g),Ur(w,g,h),v.head.appendChild(w);break;default:throw Error(r(468,g))}w[$e]=o,Dt(w),g=w}o.stateNode=g}else qj(v,o.type,o.stateNode);else o.stateNode=Vj(v,g,o.memoizedProps);else w!==g?(w===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):w.count--,g===null?qj(v,o.type,o.stateNode):Vj(v,g,o.memoizedProps)):g===null&&o.stateNode!==null&&cx(o,o.memoizedProps,h.memoizedProps)}break;case 27:Rs(c,o),_s(o),g&512&&(dr||h===null||Bi(h,h.return)),h!==null&&g&4&&cx(o,o.memoizedProps,h.memoizedProps);break;case 5:if(Rs(c,o),_s(o),g&512&&(dr||h===null||Bi(h,h.return)),o.flags&32){v=o.stateNode;try{_n(v,"")}catch(Le){Ln(o,o.return,Le)}}g&4&&o.stateNode!=null&&(v=o.memoizedProps,cx(o,v,h!==null?h.memoizedProps:v)),g&1024&&(fx=!0);break;case 6:if(Rs(c,o),_s(o),g&4){if(o.stateNode===null)throw Error(r(162));g=o.memoizedProps,h=o.stateNode;try{h.nodeValue=g}catch(Le){Ln(o,o.return,Le)}}break;case 3:if(Rp=null,v=vi,vi=Dp(c.containerInfo),Rs(c,o),vi=v,_s(o),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Bd(c.containerInfo)}catch(Le){Ln(o,o.return,Le)}fx&&(fx=!1,JN(o));break;case 4:g=vi,vi=Dp(o.stateNode.containerInfo),Rs(c,o),_s(o),vi=g;break;case 12:Rs(c,o),_s(o);break;case 13:Rs(c,o),_s(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(vx=qe()),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,hx(o,g)));break;case 22:v=o.memoizedState!==null;var X=h!==null&&h.memoizedState!==null,Ae=Sa,Ue=dr;if(Sa=Ae||v,dr=Ue||X,Rs(c,o),dr=Ue,Sa=Ae,_s(o),g&8192)e:for(c=o.stateNode,c._visibility=v?c._visibility&-2:c._visibility|1,v&&(h===null||X||Sa||dr||xl(o)),h=null,c=o;;){if(c.tag===5||c.tag===26){if(h===null){X=h=c;try{if(w=X.stateNode,v)O=w.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{z=X.stateNode;var Ke=X.memoizedProps.style,De=Ke!=null&&Ke.hasOwnProperty("display")?Ke.display:null;z.style.display=De==null||typeof De=="boolean"?"":(""+De).trim()}}catch(Le){Ln(X,X.return,Le)}}}else if(c.tag===6){if(h===null){X=c;try{X.stateNode.nodeValue=v?"":X.memoizedProps}catch(Le){Ln(X,X.return,Le)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=o.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,hx(o,h))));break;case 19:Rs(c,o),_s(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,hx(o,g)));break;case 30:break;case 21:break;default:Rs(c,o),_s(o)}}function _s(o){var c=o.flags;if(c&2){try{for(var h,g=o.return;g!==null;){if(VN(g)){h=g;break}g=g.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var v=h.stateNode,w=ux(o);xp(o,w,v);break;case 5:var O=h.stateNode;h.flags&32&&(_n(O,""),h.flags&=-33);var z=ux(o);xp(o,z,O);break;case 3:case 4:var X=h.stateNode.containerInfo,Ae=ux(o);dx(o,Ae,X);break;default:throw Error(r(161))}}catch(Ue){Ln(o,o.return,Ue)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function JN(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;JN(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function so(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)KN(o,c.alternate,c),c=c.sibling}function xl(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:ro(4,c,c.return),xl(c);break;case 1:Bi(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&$N(c,c.return,h),xl(c);break;case 27:Dd(c.stateNode);case 26:case 5:Bi(c,c.return),xl(c);break;case 22:c.memoizedState===null&&xl(c);break;case 30:xl(c);break;default:xl(c)}o=o.sibling}}function io(o,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,v=o,w=c,O=w.flags;switch(w.tag){case 0:case 11:case 15:io(v,w,h),wd(4,w);break;case 1:if(io(v,w,h),g=w,v=g.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Ae){Ln(g,g.return,Ae)}if(g=w,v=g.updateQueue,v!==null){var z=g.stateNode;try{var X=v.shared.hiddenCallbacks;if(X!==null)for(v.shared.hiddenCallbacks=null,v=0;v<X.length;v++)TC(X[v],z)}catch(Ae){Ln(g,g.return,Ae)}}h&&O&64&&FN(w),Sd(w,w.return);break;case 27:HN(w);case 26:case 5:io(v,w,h),h&&g===null&&O&4&&UN(w),Sd(w,w.return);break;case 12:io(v,w,h);break;case 13:io(v,w,h),h&&O&4&&GN(v,w);break;case 22:w.memoizedState===null&&io(v,w,h),Sd(w,w.return);break;case 30:break;default:io(v,w,h)}c=c.sibling}}function px(o,c){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&od(h))}function mx(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&od(o))}function Fi(o,c,h,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)QN(o,c,h,g),c=c.sibling}function QN(o,c,h,g){var v=c.flags;switch(c.tag){case 0:case 11:case 15:Fi(o,c,h,g),v&2048&&wd(9,c);break;case 1:Fi(o,c,h,g);break;case 3:Fi(o,c,h,g),v&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&od(o)));break;case 12:if(v&2048){Fi(o,c,h,g),o=c.stateNode;try{var w=c.memoizedProps,O=w.id,z=w.onPostCommit;typeof z=="function"&&z(O,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(X){Ln(c,c.return,X)}}else Fi(o,c,h,g);break;case 13:Fi(o,c,h,g);break;case 23:break;case 22:w=c.stateNode,O=c.alternate,c.memoizedState!==null?w._visibility&2?Fi(o,c,h,g):Cd(o,c):w._visibility&2?Fi(o,c,h,g):(w._visibility|=2,Lc(o,c,h,g,(c.subtreeFlags&10256)!==0)),v&2048&&px(O,c);break;case 24:Fi(o,c,h,g),v&2048&&mx(c.alternate,c);break;default:Fi(o,c,h,g)}}function Lc(o,c,h,g,v){for(v=v&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var w=o,O=c,z=h,X=g,Ae=O.flags;switch(O.tag){case 0:case 11:case 15:Lc(w,O,z,X,v),wd(8,O);break;case 23:break;case 22:var Ue=O.stateNode;O.memoizedState!==null?Ue._visibility&2?Lc(w,O,z,X,v):Cd(w,O):(Ue._visibility|=2,Lc(w,O,z,X,v)),v&&Ae&2048&&px(O.alternate,O);break;case 24:Lc(w,O,z,X,v),v&&Ae&2048&&mx(O.alternate,O);break;default:Lc(w,O,z,X,v)}c=c.sibling}}function Cd(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=o,g=c,v=g.flags;switch(g.tag){case 22:Cd(h,g),v&2048&&px(g.alternate,g);break;case 24:Cd(h,g),v&2048&&mx(g.alternate,g);break;default:Cd(h,g)}c=c.sibling}}var Nd=8192;function Pc(o){if(o.subtreeFlags&Nd)for(o=o.child;o!==null;)ZN(o),o=o.sibling}function ZN(o){switch(o.tag){case 26:Pc(o),o.flags&Nd&&o.memoizedState!==null&&OL(vi,o.memoizedState,o.memoizedProps);break;case 5:Pc(o);break;case 3:case 4:var c=vi;vi=Dp(o.stateNode.containerInfo),Pc(o),vi=c;break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=Nd,Nd=16777216,Pc(o),Nd=c):Pc(o));break;default:Pc(o)}}function ej(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function jd(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];Or=g,nj(g,o)}ej(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)tj(o),o=o.sibling}function tj(o){switch(o.tag){case 0:case 11:case 15:jd(o),o.flags&2048&&ro(9,o,o.return);break;case 3:jd(o);break;case 12:jd(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,vp(o)):jd(o);break;default:jd(o)}}function vp(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];Or=g,nj(g,o)}ej(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:ro(8,c,c.return),vp(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,vp(c));break;default:vp(c)}o=o.sibling}}function nj(o,c){for(;Or!==null;){var h=Or;switch(h.tag){case 0:case 11:case 15:ro(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:od(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,Or=g;else e:for(h=o;Or!==null;){g=Or;var v=g.sibling,w=g.return;if(YN(g),g===h){Or=null;break e}if(v!==null){v.return=w,Or=v;break e}Or=w}}}var K8={getCacheForType:function(o){var c=Gr(jr),h=c.data.get(o);return h===void 0&&(h=o(),c.data.set(o,h)),h}},Y8=typeof WeakMap=="function"?WeakMap:Map,An=0,zn=null,pn=null,yn=0,kn=0,Ls=null,ao=!1,zc=!1,gx=!1,Na=0,rr=0,oo=0,vl=0,yx=0,Zs=0,Ic=0,Td=null,xs=null,xx=!1,vx=0,bp=1/0,wp=null,lo=null,$r=0,co=null,Bc=null,Fc=0,bx=0,wx=null,rj=null,Ed=0,Sx=null;function Ps(){if((An&2)!==0&&yn!==0)return yn&-yn;if(W.T!==null){var o=Ec;return o!==0?o:kx()}return Q()}function sj(){Zs===0&&(Zs=(yn&536870912)===0||Tn?Lt():536870912);var o=Qs.current;return o!==null&&(o.flags|=32),Zs}function zs(o,c,h){(o===zn&&(kn===2||kn===9)||o.cancelPendingCommit!==null)&&($c(o,0),uo(o,yn,Zs,!1)),lt(o,h),((An&2)===0||o!==zn)&&(o===zn&&((An&2)===0&&(vl|=h),rr===4&&uo(o,yn,Zs,!1)),$i(o))}function ij(o,c,h){if((An&6)!==0)throw Error(r(327));var g=!h&&(c&124)===0&&(c&o.expiredLanes)===0||pe(o,c),v=g?X8(o,c):jx(o,c,!0),w=g;do{if(v===0){zc&&!g&&uo(o,c,0,!1);break}else{if(h=o.current.alternate,w&&!W8(h)){v=jx(o,c,!1),w=!1;continue}if(v===2){if(w=c,o.errorRecoveryDisabledLanes&w)var O=0;else O=o.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){c=O;e:{var z=o;v=Td;var X=z.current.memoizedState.isDehydrated;if(X&&($c(z,O).flags|=256),O=jx(z,O,!1),O!==2){if(gx&&!X){z.errorRecoveryDisabledLanes|=w,vl|=w,v=4;break e}w=xs,xs=v,w!==null&&(xs===null?xs=w:xs.push.apply(xs,w))}v=O}if(w=!1,v!==2)continue}}if(v===1){$c(o,0),uo(o,c,0,!0);break}e:{switch(g=o,w=v,w){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:uo(g,c,Zs,!ao);break e;case 2:xs=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(v=vx+300-qe(),10<v)){if(uo(g,c,Zs,!ao),pt(g,0,!0)!==0)break e;g.timeoutHandle=_j(aj.bind(null,g,h,xs,wp,xx,c,Zs,vl,Ic,ao,w,2,-0,0),v);break e}aj(g,h,xs,wp,xx,c,Zs,vl,Ic,ao,w,0,-0,0)}}break}while(!0);$i(o)}function aj(o,c,h,g,v,w,O,z,X,Ae,Ue,Ke,De,Le){if(o.timeoutHandle=-1,Ke=c.subtreeFlags,(Ke&8192||(Ke&16785408)===16785408)&&(_d={stylesheets:null,count:0,unsuspend:kL},ZN(c),Ke=DL(),Ke!==null)){o.cancelPendingCommit=Ke(hj.bind(null,o,c,w,h,g,v,O,z,X,Ue,1,De,Le)),uo(o,w,O,!Ae);return}hj(o,c,w,h,g,v,O,z,X)}function W8(o){for(var c=o;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var v=h[g],w=v.getSnapshot;v=v.value;try{if(!Ds(w(),v))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function uo(o,c,h,g){c&=~yx,c&=~vl,o.suspendedLanes|=c,o.pingedLanes&=~c,g&&(o.warmLanes|=c),g=o.expirationTimes;for(var v=c;0<v;){var w=31-ht(v),O=1<<w;g[w]=-1,v&=~O}h!==0&&Et(o,h,c)}function Sp(){return(An&6)===0?(Ad(0),!1):!0}function Cx(){if(pn!==null){if(kn===0)var o=pn.return;else o=pn,ga=hl=null,F0(o),Rc=null,xd=0,o=pn;for(;o!==null;)BN(o.alternate,o),o=o.return;pn=null}}function $c(o,c){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,fL(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),Cx(),zn=o,pn=h=ha(o.current,null),yn=c,kn=0,Ls=null,ao=!1,zc=pe(o,c),gx=!1,Ic=Zs=yx=vl=oo=rr=0,xs=Td=null,xx=!1,(c&8)!==0&&(c|=c&32);var g=o.entangledLanes;if(g!==0)for(o=o.entanglements,g&=c;0<g;){var v=31-ht(g),w=1<<v;c|=o[v],g&=~w}return Na=c,Hh(),h}function oj(o,c){un=null,W.H=cp,c===cd||c===Zh?(c=NC(),kn=3):c===wC?(c=NC(),kn=4):kn=c===jN?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Ls=c,pn===null&&(rr=1,pp(o,Ws(c,o.current)))}function lj(){var o=W.H;return W.H=cp,o===null?cp:o}function cj(){var o=W.A;return W.A=K8,o}function Nx(){rr=4,ao||(yn&4194048)!==yn&&Qs.current!==null||(zc=!0),(oo&134217727)===0&&(vl&134217727)===0||zn===null||uo(zn,yn,Zs,!1)}function jx(o,c,h){var g=An;An|=2;var v=lj(),w=cj();(zn!==o||yn!==c)&&(wp=null,$c(o,c)),c=!1;var O=rr;e:do try{if(kn!==0&&pn!==null){var z=pn,X=Ls;switch(kn){case 8:Cx(),O=6;break e;case 3:case 2:case 9:case 6:Qs.current===null&&(c=!0);var Ae=kn;if(kn=0,Ls=null,Uc(o,z,X,Ae),h&&zc){O=0;break e}break;default:Ae=kn,kn=0,Ls=null,Uc(o,z,X,Ae)}}G8(),O=rr;break}catch(Ue){oj(o,Ue)}while(!0);return c&&o.shellSuspendCounter++,ga=hl=null,An=g,W.H=v,W.A=w,pn===null&&(zn=null,yn=0,Hh()),O}function G8(){for(;pn!==null;)uj(pn)}function X8(o,c){var h=An;An|=2;var g=lj(),v=cj();zn!==o||yn!==c?(wp=null,bp=qe()+500,$c(o,c)):zc=pe(o,c);e:do try{if(kn!==0&&pn!==null){c=pn;var w=Ls;t:switch(kn){case 1:kn=0,Ls=null,Uc(o,c,w,1);break;case 2:case 9:if(SC(w)){kn=0,Ls=null,dj(c);break}c=function(){kn!==2&&kn!==9||zn!==o||(kn=7),$i(o)},w.then(c,c);break e;case 3:kn=7;break e;case 4:kn=5;break e;case 7:SC(w)?(kn=0,Ls=null,dj(c)):(kn=0,Ls=null,Uc(o,c,w,7));break;case 5:var O=null;switch(pn.tag){case 26:O=pn.memoizedState;case 5:case 27:var z=pn;if(!O||Kj(O)){kn=0,Ls=null;var X=z.sibling;if(X!==null)pn=X;else{var Ae=z.return;Ae!==null?(pn=Ae,Cp(Ae)):pn=null}break t}}kn=0,Ls=null,Uc(o,c,w,5);break;case 6:kn=0,Ls=null,Uc(o,c,w,6);break;case 8:Cx(),rr=6;break e;default:throw Error(r(462))}}J8();break}catch(Ue){oj(o,Ue)}while(!0);return ga=hl=null,W.H=g,W.A=v,An=h,pn!==null?0:(zn=null,yn=0,Hh(),rr)}function J8(){for(;pn!==null&&!Z();)uj(pn)}function uj(o){var c=zN(o.alternate,o,Na);o.memoizedProps=o.pendingProps,c===null?Cp(o):pn=c}function dj(o){var c=o,h=c.alternate;switch(c.tag){case 15:case 0:c=DN(h,c,c.pendingProps,c.type,void 0,yn);break;case 11:c=DN(h,c,c.pendingProps,c.type.render,c.ref,yn);break;case 5:F0(c);default:BN(h,c),c=pn=fC(c,Na),c=zN(h,c,Na)}o.memoizedProps=o.pendingProps,c===null?Cp(o):pn=c}function Uc(o,c,h,g){ga=hl=null,F0(c),Rc=null,xd=0;var v=c.return;try{if(F8(o,v,c,h,yn)){rr=1,pp(o,Ws(h,o.current)),pn=null;return}}catch(w){if(v!==null)throw pn=v,w;rr=1,pp(o,Ws(h,o.current)),pn=null;return}c.flags&32768?(Tn||g===1?o=!0:zc||(yn&536870912)!==0?o=!1:(ao=o=!0,(g===2||g===9||g===3||g===6)&&(g=Qs.current,g!==null&&g.tag===13&&(g.flags|=16384))),fj(c,o)):Cp(c)}function Cp(o){var c=o;do{if((c.flags&32768)!==0){fj(c,ao);return}o=c.return;var h=U8(c.alternate,c,Na);if(h!==null){pn=h;return}if(c=c.sibling,c!==null){pn=c;return}pn=c=o}while(c!==null);rr===0&&(rr=5)}function fj(o,c){do{var h=V8(o.alternate,o);if(h!==null){h.flags&=32767,pn=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(o=o.sibling,o!==null)){pn=o;return}pn=o=h}while(o!==null);rr=6,pn=null}function hj(o,c,h,g,v,w,O,z,X){o.cancelPendingCommit=null;do Np();while($r!==0);if((An&6)!==0)throw Error(r(327));if(c!==null){if(c===o.current)throw Error(r(177));if(w=c.lanes|c.childLanes,w|=m0,jt(o,h,w,O,z,X),o===zn&&(pn=zn=null,yn=0),Bc=c,co=o,Fc=h,bx=w,wx=v,rj=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,tL(re,function(){return xj(),null})):(o.callbackNode=null,o.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=W.T,W.T=null,v=oe.p,oe.p=2,O=An,An|=4;try{H8(o,c,h)}finally{An=O,oe.p=v,W.T=g}}$r=1,pj(),mj(),gj()}}function pj(){if($r===1){$r=0;var o=co,c=Bc,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=W.T,W.T=null;var g=oe.p;oe.p=2;var v=An;An|=4;try{XN(c,o);var w=zx,O=nC(o.containerInfo),z=w.focusedElem,X=w.selectionRange;if(O!==z&&z&&z.ownerDocument&&tC(z.ownerDocument.documentElement,z)){if(X!==null&&u0(z)){var Ae=X.start,Ue=X.end;if(Ue===void 0&&(Ue=Ae),"selectionStart"in z)z.selectionStart=Ae,z.selectionEnd=Math.min(Ue,z.value.length);else{var Ke=z.ownerDocument||document,De=Ke&&Ke.defaultView||window;if(De.getSelection){var Le=De.getSelection(),Gt=z.textContent.length,qt=Math.min(X.start,Gt),Rn=X.end===void 0?qt:Math.min(X.end,Gt);!Le.extend&&qt>Rn&&(O=Rn,Rn=qt,qt=O);var ve=eC(z,qt),le=eC(z,Rn);if(ve&&le&&(Le.rangeCount!==1||Le.anchorNode!==ve.node||Le.anchorOffset!==ve.offset||Le.focusNode!==le.node||Le.focusOffset!==le.offset)){var Ce=Ke.createRange();Ce.setStart(ve.node,ve.offset),Le.removeAllRanges(),qt>Rn?(Le.addRange(Ce),Le.extend(le.node,le.offset)):(Ce.setEnd(le.node,le.offset),Le.addRange(Ce))}}}}for(Ke=[],Le=z;Le=Le.parentNode;)Le.nodeType===1&&Ke.push({element:Le,left:Le.scrollLeft,top:Le.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<Ke.length;z++){var He=Ke[z];He.element.scrollLeft=He.left,He.element.scrollTop=He.top}}Pp=!!Px,zx=Px=null}finally{An=v,oe.p=g,W.T=h}}o.current=c,$r=2}}function mj(){if($r===2){$r=0;var o=co,c=Bc,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=W.T,W.T=null;var g=oe.p;oe.p=2;var v=An;An|=4;try{KN(o,c.alternate,c)}finally{An=v,oe.p=g,W.T=h}}$r=3}}function gj(){if($r===4||$r===3){$r=0,Ve();var o=co,c=Bc,h=Fc,g=rj;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?$r=5:($r=0,Bc=co=null,yj(o,o.pendingLanes));var v=o.pendingLanes;if(v===0&&(lo=null),Nn(h),c=c.stateNode,we&&typeof we.onCommitFiberRoot=="function")try{we.onCommitFiberRoot(V,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=W.T,v=oe.p,oe.p=2,W.T=null;try{for(var w=o.onRecoverableError,O=0;O<g.length;O++){var z=g[O];w(z.value,{componentStack:z.stack})}}finally{W.T=c,oe.p=v}}(Fc&3)!==0&&Np(),$i(o),v=o.pendingLanes,(h&4194090)!==0&&(v&42)!==0?o===Sx?Ed++:(Ed=0,Sx=o):Ed=0,Ad(0)}}function yj(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,od(c)))}function Np(o){return pj(),mj(),gj(),xj()}function xj(){if($r!==5)return!1;var o=co,c=bx;bx=0;var h=Nn(Fc),g=W.T,v=oe.p;try{oe.p=32>h?32:h,W.T=null,h=wx,wx=null;var w=co,O=Fc;if($r=0,Bc=co=null,Fc=0,(An&6)!==0)throw Error(r(331));var z=An;if(An|=4,tj(w.current),QN(w,w.current,O,h),An=z,Ad(0,!1),we&&typeof we.onPostCommitFiberRoot=="function")try{we.onPostCommitFiberRoot(V,w)}catch{}return!0}finally{oe.p=v,W.T=g,yj(o,c)}}function vj(o,c,h){c=Ws(h,c),c=ex(o.stateNode,c,2),o=Za(o,c,2),o!==null&&(lt(o,2),$i(o))}function Ln(o,c,h){if(o.tag===3)vj(o,o,h);else for(;c!==null;){if(c.tag===3){vj(c,o,h);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(lo===null||!lo.has(g))){o=Ws(h,o),h=CN(2),g=Za(c,h,2),g!==null&&(NN(h,g,c,o),lt(g,2),$i(g));break}}c=c.return}}function Tx(o,c,h){var g=o.pingCache;if(g===null){g=o.pingCache=new Y8;var v=new Set;g.set(c,v)}else v=g.get(c),v===void 0&&(v=new Set,g.set(c,v));v.has(h)||(gx=!0,v.add(h),o=Q8.bind(null,o,c,h),c.then(o,o))}function Q8(o,c,h){var g=o.pingCache;g!==null&&g.delete(c),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,zn===o&&(yn&h)===h&&(rr===4||rr===3&&(yn&62914560)===yn&&300>qe()-vx?(An&2)===0&&$c(o,0):yx|=h,Ic===yn&&(Ic=0)),$i(o)}function bj(o,c){c===0&&(c=rt()),o=Cc(o,c),o!==null&&(lt(o,c),$i(o))}function Z8(o){var c=o.memoizedState,h=0;c!==null&&(h=c.retryLane),bj(o,h)}function eL(o,c){var h=0;switch(o.tag){case 13:var g=o.stateNode,v=o.memoizedState;v!==null&&(h=v.retryLane);break;case 19:g=o.stateNode;break;case 22:g=o.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(c),bj(o,h)}function tL(o,c){return Ft(o,c)}var jp=null,Vc=null,Ex=!1,Tp=!1,Ax=!1,bl=0;function $i(o){o!==Vc&&o.next===null&&(Vc===null?jp=Vc=o:Vc=Vc.next=o),Tp=!0,Ex||(Ex=!0,rL())}function Ad(o,c){if(!Ax&&Tp){Ax=!0;do for(var h=!1,g=jp;g!==null;){if(o!==0){var v=g.pendingLanes;if(v===0)var w=0;else{var O=g.suspendedLanes,z=g.pingedLanes;w=(1<<31-ht(42|o)+1)-1,w&=v&~(O&~z),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(h=!0,Nj(g,w))}else w=yn,w=pt(g,g===zn?w:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(w&3)===0||pe(g,w)||(h=!0,Nj(g,w));g=g.next}while(h);Ax=!1}}function nL(){wj()}function wj(){Tp=Ex=!1;var o=0;bl!==0&&(dL()&&(o=bl),bl=0);for(var c=qe(),h=null,g=jp;g!==null;){var v=g.next,w=Sj(g,c);w===0?(g.next=null,h===null?jp=v:h.next=v,v===null&&(Vc=h)):(h=g,(o!==0||(w&3)!==0)&&(Tp=!0)),g=v}Ad(o)}function Sj(o,c){for(var h=o.suspendedLanes,g=o.pingedLanes,v=o.expirationTimes,w=o.pendingLanes&-62914561;0<w;){var O=31-ht(w),z=1<<O,X=v[O];X===-1?((z&h)===0||(z&g)!==0)&&(v[O]=mt(z,c)):X<=c&&(o.expiredLanes|=z),w&=~z}if(c=zn,h=yn,h=pt(o,o===c?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g=o.callbackNode,h===0||o===c&&(kn===2||kn===9)||o.cancelPendingCommit!==null)return g!==null&&g!==null&&nt(g),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||pe(o,h)){if(c=h&-h,c===o.callbackPriority)return c;switch(g!==null&&nt(g),Nn(h)){case 2:case 8:h=$;break;case 32:h=re;break;case 268435456:h=de;break;default:h=re}return g=Cj.bind(null,o),h=Ft(h,g),o.callbackPriority=c,o.callbackNode=h,c}return g!==null&&g!==null&&nt(g),o.callbackPriority=2,o.callbackNode=null,2}function Cj(o,c){if($r!==0&&$r!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(Np()&&o.callbackNode!==h)return null;var g=yn;return g=pt(o,o===zn?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g===0?null:(ij(o,g,c),Sj(o,qe()),o.callbackNode!=null&&o.callbackNode===h?Cj.bind(null,o):null)}function Nj(o,c){if(Np())return null;ij(o,c,!0)}function rL(){hL(function(){(An&6)!==0?Ft(bt,nL):wj()})}function kx(){return bl===0&&(bl=Lt()),bl}function jj(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:qu(""+o)}function Tj(o,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,o.id&&h.setAttribute("form",o.id),c.parentNode.insertBefore(h,c),o=new FormData(o),h.parentNode.removeChild(h),o}function sL(o,c,h,g,v){if(c==="submit"&&h&&h.stateNode===v){var w=jj((v[Xe]||null).action),O=g.submitter;O&&(c=(c=O[Xe]||null)?jj(c.formAction):O.getAttribute("formAction"),c!==null&&(w=c,O=null));var z=new $h("action","action",null,g,v);o.push({event:z,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(bl!==0){var X=O?Tj(v,O):new FormData(v);G0(h,{pending:!0,data:X,method:v.method,action:w},null,X)}}else typeof w=="function"&&(z.preventDefault(),X=O?Tj(v,O):new FormData(v),G0(h,{pending:!0,data:X,method:v.method,action:w},w,X))},currentTarget:v}]})}}for(var Ox=0;Ox<p0.length;Ox++){var Dx=p0[Ox],iL=Dx.toLowerCase(),aL=Dx[0].toUpperCase()+Dx.slice(1);xi(iL,"on"+aL)}xi(iC,"onAnimationEnd"),xi(aC,"onAnimationIteration"),xi(oC,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(C8,"onTransitionRun"),xi(N8,"onTransitionStart"),xi(j8,"onTransitionCancel"),xi(lC,"onTransitionEnd"),bn("onMouseEnter",["mouseout","mouseover"]),bn("onMouseLeave",["mouseout","mouseover"]),bn("onPointerEnter",["pointerout","pointerover"]),bn("onPointerLeave",["pointerout","pointerover"]),On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),On("onBeforeInput",["compositionend","keypress","textInput","paste"]),On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kd));function Ej(o,c){c=(c&4)!==0;for(var h=0;h<o.length;h++){var g=o[h],v=g.event;g=g.listeners;e:{var w=void 0;if(c)for(var O=g.length-1;0<=O;O--){var z=g[O],X=z.instance,Ae=z.currentTarget;if(z=z.listener,X!==w&&v.isPropagationStopped())break e;w=z,v.currentTarget=Ae;try{w(v)}catch(Ue){hp(Ue)}v.currentTarget=null,w=X}else for(O=0;O<g.length;O++){if(z=g[O],X=z.instance,Ae=z.currentTarget,z=z.listener,X!==w&&v.isPropagationStopped())break e;w=z,v.currentTarget=Ae;try{w(v)}catch(Ue){hp(Ue)}v.currentTarget=null,w=X}}}}function mn(o,c){var h=c[At];h===void 0&&(h=c[At]=new Set);var g=o+"__bubble";h.has(g)||(Aj(c,o,2,!1),h.add(g))}function Mx(o,c,h){var g=0;c&&(g|=4),Aj(h,o,g,c)}var Ep="_reactListening"+Math.random().toString(36).slice(2);function Rx(o){if(!o[Ep]){o[Ep]=!0,zt.forEach(function(h){h!=="selectionchange"&&(oL.has(h)||Mx(h,!1,o),Mx(h,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Ep]||(c[Ep]=!0,Mx("selectionchange",!1,c))}}function Aj(o,c,h,g){switch(Qj(c)){case 2:var v=_L;break;case 8:v=LL;break;default:v=Yx}h=v.bind(null,c,h,o),v=void 0,!t0||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(v=!0),g?v!==void 0?o.addEventListener(c,h,{capture:!0,passive:v}):o.addEventListener(c,h,!0):v!==void 0?o.addEventListener(c,h,{passive:v}):o.addEventListener(c,h,!1)}function _x(o,c,h,g,v){var w=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var O=g.tag;if(O===3||O===4){var z=g.stateNode.containerInfo;if(z===v)break;if(O===4)for(O=g.return;O!==null;){var X=O.tag;if((X===3||X===4)&&O.stateNode.containerInfo===v)return;O=O.return}for(;z!==null;){if(O=Re(z),O===null)return;if(X=O.tag,X===5||X===6||X===26||X===27){g=w=O;continue e}z=z.parentNode}}g=g.return}LS(function(){var Ae=w,Ue=Yu(h),Ke=[];e:{var De=cC.get(o);if(De!==void 0){var Le=$h,Gt=o;switch(o){case"keypress":if(Bh(h)===0)break e;case"keydown":case"keyup":Le=t8;break;case"focusin":Gt="focus",Le=i0;break;case"focusout":Gt="blur",Le=i0;break;case"beforeblur":case"afterblur":Le=i0;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Le=IS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Le=V_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Le=s8;break;case iC:case aC:case oC:Le=K_;break;case lC:Le=a8;break;case"scroll":case"scrollend":Le=$_;break;case"wheel":Le=l8;break;case"copy":case"cut":case"paste":Le=W_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Le=FS;break;case"toggle":case"beforetoggle":Le=u8}var qt=(c&4)!==0,Rn=!qt&&(o==="scroll"||o==="scrollend"),ve=qt?De!==null?De+"Capture":null:De;qt=[];for(var le=Ae,Ce;le!==null;){var He=le;if(Ce=He.stateNode,He=He.tag,He!==5&&He!==26&&He!==27||Ce===null||ve===null||(He=Wu(le,ve),He!=null&&qt.push(Od(le,He,Ce))),Rn)break;le=le.return}0<qt.length&&(De=new Le(De,Gt,null,h,Ue),Ke.push({event:De,listeners:qt}))}}if((c&7)===0){e:{if(De=o==="mouseover"||o==="pointerover",Le=o==="mouseout"||o==="pointerout",De&&h!==Ku&&(Gt=h.relatedTarget||h.fromElement)&&(Re(Gt)||Gt[vt]))break e;if((Le||De)&&(De=Ue.window===Ue?Ue:(De=Ue.ownerDocument)?De.defaultView||De.parentWindow:window,Le?(Gt=h.relatedTarget||h.toElement,Le=Ae,Gt=Gt?Re(Gt):null,Gt!==null&&(Rn=i(Gt),qt=Gt.tag,Gt!==Rn||qt!==5&&qt!==27&&qt!==6)&&(Gt=null)):(Le=null,Gt=Ae),Le!==Gt)){if(qt=IS,He="onMouseLeave",ve="onMouseEnter",le="mouse",(o==="pointerout"||o==="pointerover")&&(qt=FS,He="onPointerLeave",ve="onPointerEnter",le="pointer"),Rn=Le==null?De:yt(Le),Ce=Gt==null?De:yt(Gt),De=new qt(He,le+"leave",Le,h,Ue),De.target=Rn,De.relatedTarget=Ce,He=null,Re(Ue)===Ae&&(qt=new qt(ve,le+"enter",Gt,h,Ue),qt.target=Ce,qt.relatedTarget=Rn,He=qt),Rn=He,Le&&Gt)t:{for(qt=Le,ve=Gt,le=0,Ce=qt;Ce;Ce=Hc(Ce))le++;for(Ce=0,He=ve;He;He=Hc(He))Ce++;for(;0<le-Ce;)qt=Hc(qt),le--;for(;0<Ce-le;)ve=Hc(ve),Ce--;for(;le--;){if(qt===ve||ve!==null&&qt===ve.alternate)break t;qt=Hc(qt),ve=Hc(ve)}qt=null}else qt=null;Le!==null&&kj(Ke,De,Le,qt,!1),Gt!==null&&Rn!==null&&kj(Ke,Rn,Gt,qt,!0)}}e:{if(De=Ae?yt(Ae):window,Le=De.nodeName&&De.nodeName.toLowerCase(),Le==="select"||Le==="input"&&De.type==="file")var Rt=WS;else if(KS(De))if(GS)Rt=b8;else{Rt=x8;var fn=y8}else Le=De.nodeName,!Le||Le.toLowerCase()!=="input"||De.type!=="checkbox"&&De.type!=="radio"?Ae&&sl(Ae.elementType)&&(Rt=WS):Rt=v8;if(Rt&&(Rt=Rt(o,Ae))){YS(Ke,Rt,h,Ue);break e}fn&&fn(o,De,Ae),o==="focusout"&&Ae&&De.type==="number"&&Ae.memoizedProps.value!=null&&Mt(De,"number",De.value)}switch(fn=Ae?yt(Ae):window,o){case"focusin":(KS(fn)||fn.contentEditable==="true")&&(bc=fn,d0=Ae,nd=null);break;case"focusout":nd=d0=bc=null;break;case"mousedown":f0=!0;break;case"contextmenu":case"mouseup":case"dragend":f0=!1,rC(Ke,h,Ue);break;case"selectionchange":if(S8)break;case"keydown":case"keyup":rC(Ke,h,Ue)}var Bt;if(o0)e:{switch(o){case"compositionstart":var Kt="onCompositionStart";break e;case"compositionend":Kt="onCompositionEnd";break e;case"compositionupdate":Kt="onCompositionUpdate";break e}Kt=void 0}else vc?HS(o,h)&&(Kt="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(Kt="onCompositionStart");Kt&&($S&&h.locale!=="ko"&&(vc||Kt!=="onCompositionStart"?Kt==="onCompositionEnd"&&vc&&(Bt=PS()):(Ga=Ue,n0="value"in Ga?Ga.value:Ga.textContent,vc=!0)),fn=Ap(Ae,Kt),0<fn.length&&(Kt=new BS(Kt,o,null,h,Ue),Ke.push({event:Kt,listeners:fn}),Bt?Kt.data=Bt:(Bt=qS(h),Bt!==null&&(Kt.data=Bt)))),(Bt=f8?h8(o,h):p8(o,h))&&(Kt=Ap(Ae,"onBeforeInput"),0<Kt.length&&(fn=new BS("onBeforeInput","beforeinput",null,h,Ue),Ke.push({event:fn,listeners:Kt}),fn.data=Bt)),sL(Ke,o,Ae,h,Ue)}Ej(Ke,c)})}function Od(o,c,h){return{instance:o,listener:c,currentTarget:h}}function Ap(o,c){for(var h=c+"Capture",g=[];o!==null;){var v=o,w=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||w===null||(v=Wu(o,h),v!=null&&g.unshift(Od(o,v,w)),v=Wu(o,c),v!=null&&g.push(Od(o,v,w))),o.tag===3)return g;o=o.return}return[]}function Hc(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function kj(o,c,h,g,v){for(var w=c._reactName,O=[];h!==null&&h!==g;){var z=h,X=z.alternate,Ae=z.stateNode;if(z=z.tag,X!==null&&X===g)break;z!==5&&z!==26&&z!==27||Ae===null||(X=Ae,v?(Ae=Wu(h,w),Ae!=null&&O.unshift(Od(h,Ae,X))):v||(Ae=Wu(h,w),Ae!=null&&O.push(Od(h,Ae,X)))),h=h.return}O.length!==0&&o.push({event:c,listeners:O})}var lL=/\r\n?/g,cL=/\u0000|\uFFFD/g;function Oj(o){return(typeof o=="string"?o:""+o).replace(lL,`
`).replace(cL,"")}function Dj(o,c){return c=Oj(c),Oj(o)===c}function kp(){}function Mn(o,c,h,g,v,w){switch(h){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||_n(o,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&_n(o,""+g);break;case"className":_(o,"class",g);break;case"tabIndex":_(o,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":_(o,h,g);break;case"style":Wa(o,g,w);break;case"data":if(c!=="object"){_(o,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||h!=="href")){o.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(h);break}g=qu(""+g),o.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(h==="formAction"?(c!=="input"&&Mn(o,c,"name",v.name,v,null),Mn(o,c,"formEncType",v.formEncType,v,null),Mn(o,c,"formMethod",v.formMethod,v,null),Mn(o,c,"formTarget",v.formTarget,v,null)):(Mn(o,c,"encType",v.encType,v,null),Mn(o,c,"method",v.method,v,null),Mn(o,c,"target",v.target,v,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(h);break}g=qu(""+g),o.setAttribute(h,g);break;case"onClick":g!=null&&(o.onclick=kp);break;case"onScroll":g!=null&&mn("scroll",o);break;case"onScrollEnd":g!=null&&mn("scrollend",o);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(v.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"multiple":o.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":o.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){o.removeAttribute("xlink:href");break}h=qu(""+g),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,""+g):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":g===!0?o.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,g):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?o.setAttribute(h,g):o.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?o.removeAttribute(h):o.setAttribute(h,g);break;case"popover":mn("beforetoggle",o),mn("toggle",o),Se(o,"popover",g);break;case"xlinkActuate":K(o,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":K(o,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":K(o,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":K(o,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":K(o,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":K(o,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":K(o,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":K(o,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":K(o,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Se(o,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Zy.get(h)||h,Se(o,h,g))}}function Lx(o,c,h,g,v,w){switch(h){case"style":Wa(o,g,w);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(v.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"children":typeof g=="string"?_n(o,g):(typeof g=="number"||typeof g=="bigint")&&_n(o,""+g);break;case"onScroll":g!=null&&mn("scroll",o);break;case"onScrollEnd":g!=null&&mn("scrollend",o);break;case"onClick":g!=null&&(o.onclick=kp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xn.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(v=h.endsWith("Capture"),c=h.slice(2,v?h.length-7:void 0),w=o[Xe]||null,w=w!=null?w[h]:null,typeof w=="function"&&o.removeEventListener(c,w,v),typeof g=="function")){typeof w!="function"&&w!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(c,g,v);break e}h in o?o[h]=g:g===!0?o.setAttribute(h,""):Se(o,h,g)}}}function Ur(o,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mn("error",o),mn("load",o);var g=!1,v=!1,w;for(w in h)if(h.hasOwnProperty(w)){var O=h[w];if(O!=null)switch(w){case"src":g=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Mn(o,c,w,O,h,null)}}v&&Mn(o,c,"srcSet",h.srcSet,h,null),g&&Mn(o,c,"src",h.src,h,null);return;case"input":mn("invalid",o);var z=w=O=v=null,X=null,Ae=null;for(g in h)if(h.hasOwnProperty(g)){var Ue=h[g];if(Ue!=null)switch(g){case"name":v=Ue;break;case"type":O=Ue;break;case"checked":X=Ue;break;case"defaultChecked":Ae=Ue;break;case"value":w=Ue;break;case"defaultValue":z=Ue;break;case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(r(137,c));break;default:Mn(o,c,g,Ue,h,null)}}dt(o,w,z,X,Ae,O,v,!1),he(o);return;case"select":mn("invalid",o),g=O=w=null;for(v in h)if(h.hasOwnProperty(v)&&(z=h[v],z!=null))switch(v){case"value":w=z;break;case"defaultValue":O=z;break;case"multiple":g=z;default:Mn(o,c,v,z,h,null)}c=w,h=O,o.multiple=!!g,c!=null?Zt(o,!!g,c,!1):h!=null&&Zt(o,!!g,h,!0);return;case"textarea":mn("invalid",o),w=v=g=null;for(O in h)if(h.hasOwnProperty(O)&&(z=h[O],z!=null))switch(O){case"value":g=z;break;case"defaultValue":v=z;break;case"children":w=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(91));break;default:Mn(o,c,O,z,h,null)}wn(o,g,v,w),he(o);return;case"option":for(X in h)if(h.hasOwnProperty(X)&&(g=h[X],g!=null))switch(X){case"selected":o.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Mn(o,c,X,g,h,null)}return;case"dialog":mn("beforetoggle",o),mn("toggle",o),mn("cancel",o),mn("close",o);break;case"iframe":case"object":mn("load",o);break;case"video":case"audio":for(g=0;g<kd.length;g++)mn(kd[g],o);break;case"image":mn("error",o),mn("load",o);break;case"details":mn("toggle",o);break;case"embed":case"source":case"link":mn("error",o),mn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ae in h)if(h.hasOwnProperty(Ae)&&(g=h[Ae],g!=null))switch(Ae){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Mn(o,c,Ae,g,h,null)}return;default:if(sl(c)){for(Ue in h)h.hasOwnProperty(Ue)&&(g=h[Ue],g!==void 0&&Lx(o,c,Ue,g,h,void 0));return}}for(z in h)h.hasOwnProperty(z)&&(g=h[z],g!=null&&Mn(o,c,z,g,h,null))}function uL(o,c,h,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,w=null,O=null,z=null,X=null,Ae=null,Ue=null;for(Le in h){var Ke=h[Le];if(h.hasOwnProperty(Le)&&Ke!=null)switch(Le){case"checked":break;case"value":break;case"defaultValue":X=Ke;default:g.hasOwnProperty(Le)||Mn(o,c,Le,null,g,Ke)}}for(var De in g){var Le=g[De];if(Ke=h[De],g.hasOwnProperty(De)&&(Le!=null||Ke!=null))switch(De){case"type":w=Le;break;case"name":v=Le;break;case"checked":Ae=Le;break;case"defaultChecked":Ue=Le;break;case"value":O=Le;break;case"defaultValue":z=Le;break;case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(r(137,c));break;default:Le!==Ke&&Mn(o,c,De,Le,g,Ke)}}st(o,O,z,X,Ae,Ue,w,v);return;case"select":Le=O=z=De=null;for(w in h)if(X=h[w],h.hasOwnProperty(w)&&X!=null)switch(w){case"value":break;case"multiple":Le=X;default:g.hasOwnProperty(w)||Mn(o,c,w,null,g,X)}for(v in g)if(w=g[v],X=h[v],g.hasOwnProperty(v)&&(w!=null||X!=null))switch(v){case"value":De=w;break;case"defaultValue":z=w;break;case"multiple":O=w;default:w!==X&&Mn(o,c,v,w,g,X)}c=z,h=O,g=Le,De!=null?Zt(o,!!h,De,!1):!!g!=!!h&&(c!=null?Zt(o,!!h,c,!0):Zt(o,!!h,h?[]:"",!1));return;case"textarea":Le=De=null;for(z in h)if(v=h[z],h.hasOwnProperty(z)&&v!=null&&!g.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:Mn(o,c,z,null,g,v)}for(O in g)if(v=g[O],w=h[O],g.hasOwnProperty(O)&&(v!=null||w!=null))switch(O){case"value":De=v;break;case"defaultValue":Le=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==w&&Mn(o,c,O,v,g,w)}vn(o,De,Le);return;case"option":for(var Gt in h)if(De=h[Gt],h.hasOwnProperty(Gt)&&De!=null&&!g.hasOwnProperty(Gt))switch(Gt){case"selected":o.selected=!1;break;default:Mn(o,c,Gt,null,g,De)}for(X in g)if(De=g[X],Le=h[X],g.hasOwnProperty(X)&&De!==Le&&(De!=null||Le!=null))switch(X){case"selected":o.selected=De&&typeof De!="function"&&typeof De!="symbol";break;default:Mn(o,c,X,De,g,Le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qt in h)De=h[qt],h.hasOwnProperty(qt)&&De!=null&&!g.hasOwnProperty(qt)&&Mn(o,c,qt,null,g,De);for(Ae in g)if(De=g[Ae],Le=h[Ae],g.hasOwnProperty(Ae)&&De!==Le&&(De!=null||Le!=null))switch(Ae){case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(r(137,c));break;default:Mn(o,c,Ae,De,g,Le)}return;default:if(sl(c)){for(var Rn in h)De=h[Rn],h.hasOwnProperty(Rn)&&De!==void 0&&!g.hasOwnProperty(Rn)&&Lx(o,c,Rn,void 0,g,De);for(Ue in g)De=g[Ue],Le=h[Ue],!g.hasOwnProperty(Ue)||De===Le||De===void 0&&Le===void 0||Lx(o,c,Ue,De,g,Le);return}}for(var ve in h)De=h[ve],h.hasOwnProperty(ve)&&De!=null&&!g.hasOwnProperty(ve)&&Mn(o,c,ve,null,g,De);for(Ke in g)De=g[Ke],Le=h[Ke],!g.hasOwnProperty(Ke)||De===Le||De==null&&Le==null||Mn(o,c,Ke,De,g,Le)}var Px=null,zx=null;function Op(o){return o.nodeType===9?o:o.ownerDocument}function Mj(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rj(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function Ix(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Bx=null;function dL(){var o=window.event;return o&&o.type==="popstate"?o===Bx?!1:(Bx=o,!0):(Bx=null,!1)}var _j=typeof setTimeout=="function"?setTimeout:void 0,fL=typeof clearTimeout=="function"?clearTimeout:void 0,Lj=typeof Promise=="function"?Promise:void 0,hL=typeof queueMicrotask=="function"?queueMicrotask:typeof Lj<"u"?function(o){return Lj.resolve(null).then(o).catch(pL)}:_j;function pL(o){setTimeout(function(){throw o})}function fo(o){return o==="head"}function Pj(o,c){var h=c,g=0,v=0;do{var w=h.nextSibling;if(o.removeChild(h),w&&w.nodeType===8)if(h=w.data,h==="/$"){if(0<g&&8>g){h=g;var O=o.ownerDocument;if(h&1&&Dd(O.documentElement),h&2&&Dd(O.body),h&4)for(h=O.head,Dd(h),O=h.firstChild;O;){var z=O.nextSibling,X=O.nodeName;O[Ot]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&O.rel.toLowerCase()==="stylesheet"||h.removeChild(O),O=z}}if(v===0){o.removeChild(w),Bd(c);return}v--}else h==="$"||h==="$?"||h==="$!"?v++:g=h.charCodeAt(0)-48;else g=0;h=w}while(h);Bd(c)}function Fx(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Fx(h),G(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function mL(o,c,h,g){for(;o.nodeType===1;){var v=h;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(g){if(!o[Ot])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(w=o.getAttribute("rel"),w==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(w!==v.rel||o.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||o.getAttribute("title")!==(v.title==null?null:v.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(w=o.getAttribute("src"),(w!==(v.src==null?null:v.src)||o.getAttribute("type")!==(v.type==null?null:v.type)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&w&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var w=v.name==null?null:""+v.name;if(v.type==="hidden"&&o.getAttribute("name")===w)return o}else return o;if(o=bi(o.nextSibling),o===null)break}return null}function gL(o,c,h){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=bi(o.nextSibling),o===null))return null;return o}function $x(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function yL(o,c){var h=o.ownerDocument;if(o.data!=="$?"||h.readyState==="complete")c();else{var g=function(){c(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),o._reactRetry=g}}function bi(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return o}var Ux=null;function zj(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return o;c--}else h==="/$"&&c++}o=o.previousSibling}return null}function Ij(o,c,h){switch(c=Op(h),o){case"html":if(o=c.documentElement,!o)throw Error(r(452));return o;case"head":if(o=c.head,!o)throw Error(r(453));return o;case"body":if(o=c.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Dd(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);G(o)}var ei=new Map,Bj=new Set;function Dp(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var ja=oe.d;oe.d={f:xL,r:vL,D:bL,C:wL,L:SL,m:CL,X:jL,S:NL,M:TL};function xL(){var o=ja.f(),c=Sp();return o||c}function vL(o){var c=tt(o);c!==null&&c.tag===5&&c.type==="form"?iN(c):ja.r(o)}var qc=typeof document>"u"?null:document;function Fj(o,c,h){var g=qc;if(g&&typeof c=="string"&&c){var v=Qe(c);v='link[rel="'+o+'"][href="'+v+'"]',typeof h=="string"&&(v+='[crossorigin="'+h+'"]'),Bj.has(v)||(Bj.add(v),o={rel:o,crossOrigin:h,href:c},g.querySelector(v)===null&&(c=g.createElement("link"),Ur(c,"link",o),Dt(c),g.head.appendChild(c)))}}function bL(o){ja.D(o),Fj("dns-prefetch",o,null)}function wL(o,c){ja.C(o,c),Fj("preconnect",o,c)}function SL(o,c,h){ja.L(o,c,h);var g=qc;if(g&&o&&c){var v='link[rel="preload"][as="'+Qe(c)+'"]';c==="image"&&h&&h.imageSrcSet?(v+='[imagesrcset="'+Qe(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(v+='[imagesizes="'+Qe(h.imageSizes)+'"]')):v+='[href="'+Qe(o)+'"]';var w=v;switch(c){case"style":w=Kc(o);break;case"script":w=Yc(o)}ei.has(w)||(o=p({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:o,as:c},h),ei.set(w,o),g.querySelector(v)!==null||c==="style"&&g.querySelector(Md(w))||c==="script"&&g.querySelector(Rd(w))||(c=g.createElement("link"),Ur(c,"link",o),Dt(c),g.head.appendChild(c)))}}function CL(o,c){ja.m(o,c);var h=qc;if(h&&o){var g=c&&typeof c.as=="string"?c.as:"script",v='link[rel="modulepreload"][as="'+Qe(g)+'"][href="'+Qe(o)+'"]',w=v;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Yc(o)}if(!ei.has(w)&&(o=p({rel:"modulepreload",href:o},c),ei.set(w,o),h.querySelector(v)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Rd(w)))return}g=h.createElement("link"),Ur(g,"link",o),Dt(g),h.head.appendChild(g)}}}function NL(o,c,h){ja.S(o,c,h);var g=qc;if(g&&o){var v=Wt(g).hoistableStyles,w=Kc(o);c=c||"default";var O=v.get(w);if(!O){var z={loading:0,preload:null};if(O=g.querySelector(Md(w)))z.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":c},h),(h=ei.get(w))&&Vx(o,h);var X=O=g.createElement("link");Dt(X),Ur(X,"link",o),X._p=new Promise(function(Ae,Ue){X.onload=Ae,X.onerror=Ue}),X.addEventListener("load",function(){z.loading|=1}),X.addEventListener("error",function(){z.loading|=2}),z.loading|=4,Mp(O,c,g)}O={type:"stylesheet",instance:O,count:1,state:z},v.set(w,O)}}}function jL(o,c){ja.X(o,c);var h=qc;if(h&&o){var g=Wt(h).hoistableScripts,v=Yc(o),w=g.get(v);w||(w=h.querySelector(Rd(v)),w||(o=p({src:o,async:!0},c),(c=ei.get(v))&&Hx(o,c),w=h.createElement("script"),Dt(w),Ur(w,"link",o),h.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},g.set(v,w))}}function TL(o,c){ja.M(o,c);var h=qc;if(h&&o){var g=Wt(h).hoistableScripts,v=Yc(o),w=g.get(v);w||(w=h.querySelector(Rd(v)),w||(o=p({src:o,async:!0,type:"module"},c),(c=ei.get(v))&&Hx(o,c),w=h.createElement("script"),Dt(w),Ur(w,"link",o),h.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},g.set(v,w))}}function $j(o,c,h,g){var v=(v=Oe.current)?Dp(v):null;if(!v)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=Kc(h.href),h=Wt(v).hoistableStyles,g=h.get(c),g||(g={type:"style",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=Kc(h.href);var w=Wt(v).hoistableStyles,O=w.get(o);if(O||(v=v.ownerDocument||v,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(o,O),(w=v.querySelector(Md(o)))&&!w._p&&(O.instance=w,O.state.loading=5),ei.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},ei.set(o,h),w||EL(v,o,h,O.state))),c&&g===null)throw Error(r(528,""));return O}if(c&&g!==null)throw Error(r(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Yc(h),h=Wt(v).hoistableScripts,g=h.get(c),g||(g={type:"script",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Kc(o){return'href="'+Qe(o)+'"'}function Md(o){return'link[rel="stylesheet"]['+o+"]"}function Uj(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function EL(o,c,h,g){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=o.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),Ur(c,"link",h),Dt(c),o.head.appendChild(c))}function Yc(o){return'[src="'+Qe(o)+'"]'}function Rd(o){return"script[async]"+o}function Vj(o,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var g=o.querySelector('style[data-href~="'+Qe(h.href)+'"]');if(g)return c.instance=g,Dt(g),g;var v=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(o.ownerDocument||o).createElement("style"),Dt(g),Ur(g,"style",v),Mp(g,h.precedence,o),c.instance=g;case"stylesheet":v=Kc(h.href);var w=o.querySelector(Md(v));if(w)return c.state.loading|=4,c.instance=w,Dt(w),w;g=Uj(h),(v=ei.get(v))&&Vx(g,v),w=(o.ownerDocument||o).createElement("link"),Dt(w);var O=w;return O._p=new Promise(function(z,X){O.onload=z,O.onerror=X}),Ur(w,"link",g),c.state.loading|=4,Mp(w,h.precedence,o),c.instance=w;case"script":return w=Yc(h.src),(v=o.querySelector(Rd(w)))?(c.instance=v,Dt(v),v):(g=h,(v=ei.get(w))&&(g=p({},h),Hx(g,v)),o=o.ownerDocument||o,v=o.createElement("script"),Dt(v),Ur(v,"link",g),o.head.appendChild(v),c.instance=v);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,Mp(g,h.precedence,o));return c.instance}function Mp(o,c,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=g.length?g[g.length-1]:null,w=v,O=0;O<g.length;O++){var z=g[O];if(z.dataset.precedence===c)w=z;else if(w!==v)break}w?w.parentNode.insertBefore(o,w.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(o,c.firstChild))}function Vx(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function Hx(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var Rp=null;function Hj(o,c,h){if(Rp===null){var g=new Map,v=Rp=new Map;v.set(h,g)}else v=Rp,g=v.get(h),g||(g=new Map,v.set(h,g));if(g.has(o))return g;for(g.set(o,null),h=h.getElementsByTagName(o),v=0;v<h.length;v++){var w=h[v];if(!(w[Ot]||w[$e]||o==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var O=w.getAttribute(c)||"";O=o+O;var z=g.get(O);z?z.push(w):g.set(O,[w])}}return g}function qj(o,c,h){o=o.ownerDocument||o,o.head.insertBefore(h,c==="title"?o.querySelector("head > title"):null)}function AL(o,c,h){if(h===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function Kj(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var _d=null;function kL(){}function OL(o,c,h){if(_d===null)throw Error(r(475));var g=_d;if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var v=Kc(h.href),w=o.querySelector(Md(v));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(g.count++,g=_p.bind(g),o.then(g,g)),c.state.loading|=4,c.instance=w,Dt(w);return}w=o.ownerDocument||o,h=Uj(h),(v=ei.get(v))&&Vx(h,v),w=w.createElement("link"),Dt(w);var O=w;O._p=new Promise(function(z,X){O.onload=z,O.onerror=X}),Ur(w,"link",h),c.instance=w}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(g.count++,c=_p.bind(g),o.addEventListener("load",c),o.addEventListener("error",c))}}function DL(){if(_d===null)throw Error(r(475));var o=_d;return o.stylesheets&&o.count===0&&qx(o,o.stylesheets),0<o.count?function(c){var h=setTimeout(function(){if(o.stylesheets&&qx(o,o.stylesheets),o.unsuspend){var g=o.unsuspend;o.unsuspend=null,g()}},6e4);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(h)}}:null}function _p(){if(this.count--,this.count===0){if(this.stylesheets)qx(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Lp=null;function qx(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Lp=new Map,c.forEach(ML,o),Lp=null,_p.call(o))}function ML(o,c){if(!(c.state.loading&4)){var h=Lp.get(o);if(h)var g=h.get(null);else{h=new Map,Lp.set(o,h);for(var v=o.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<v.length;w++){var O=v[w];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(h.set(O.dataset.precedence,O),g=O)}g&&h.set(null,g)}v=c.instance,O=v.getAttribute("data-precedence"),w=h.get(O)||g,w===g&&h.set(null,v),h.set(O,v),this.count++,g=_p.bind(this),v.addEventListener("load",g),v.addEventListener("error",g),w?w.parentNode.insertBefore(v,w.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(v,o.firstChild)),c.state.loading|=4}}var Ld={$$typeof:D,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function RL(o,c,h,g,v,w,O,z){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Te(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Te(0),this.hiddenUpdates=Te(null),this.identifierPrefix=g,this.onUncaughtError=v,this.onCaughtError=w,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function Yj(o,c,h,g,v,w,O,z,X,Ae,Ue,Ke){return o=new RL(o,c,h,O,z,X,Ae,Ke),c=1,w===!0&&(c|=24),w=Ms(3,null,null,c),o.current=w,w.stateNode=o,c=T0(),c.refCount++,o.pooledCache=c,c.refCount++,w.memoizedState={element:g,isDehydrated:h,cache:c},O0(w),o}function Wj(o){return o?(o=Nc,o):Nc}function Gj(o,c,h,g,v,w){v=Wj(v),g.context===null?g.context=v:g.pendingContext=v,g=Qa(c),g.payload={element:h},w=w===void 0?null:w,w!==null&&(g.callback=w),h=Za(o,g,c),h!==null&&(zs(h,o,c),dd(h,o,c))}function Xj(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<c?h:c}}function Kx(o,c){Xj(o,c),(o=o.alternate)&&Xj(o,c)}function Jj(o){if(o.tag===13){var c=Cc(o,67108864);c!==null&&zs(c,o,67108864),Kx(o,67108864)}}var Pp=!0;function _L(o,c,h,g){var v=W.T;W.T=null;var w=oe.p;try{oe.p=2,Yx(o,c,h,g)}finally{oe.p=w,W.T=v}}function LL(o,c,h,g){var v=W.T;W.T=null;var w=oe.p;try{oe.p=8,Yx(o,c,h,g)}finally{oe.p=w,W.T=v}}function Yx(o,c,h,g){if(Pp){var v=Wx(g);if(v===null)_x(o,c,g,zp,h),Zj(o,g);else if(zL(v,o,c,h,g))g.stopPropagation();else if(Zj(o,g),c&4&&-1<PL.indexOf(o)){for(;v!==null;){var w=tt(v);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var O=ot(w.pendingLanes);if(O!==0){var z=w;for(z.pendingLanes|=2,z.entangledLanes|=2;O;){var X=1<<31-ht(O);z.entanglements[1]|=X,O&=~X}$i(w),(An&6)===0&&(bp=qe()+500,Ad(0))}}break;case 13:z=Cc(w,2),z!==null&&zs(z,w,2),Sp(),Kx(w,2)}if(w=Wx(g),w===null&&_x(o,c,g,zp,h),w===v)break;v=w}v!==null&&g.stopPropagation()}else _x(o,c,g,null,h)}}function Wx(o){return o=Yu(o),Gx(o)}var zp=null;function Gx(o){if(zp=null,o=Re(o),o!==null){var c=i(o);if(c===null)o=null;else{var h=c.tag;if(h===13){if(o=a(c),o!==null)return o;o=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return zp=o,null}function Qj(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(at()){case bt:return 2;case $:return 8;case re:case B:return 32;case de:return 268435456;default:return 32}default:return 32}}var Xx=!1,ho=null,po=null,mo=null,Pd=new Map,zd=new Map,go=[],PL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zj(o,c){switch(o){case"focusin":case"focusout":ho=null;break;case"dragenter":case"dragleave":po=null;break;case"mouseover":case"mouseout":mo=null;break;case"pointerover":case"pointerout":Pd.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":zd.delete(c.pointerId)}}function Id(o,c,h,g,v,w){return o===null||o.nativeEvent!==w?(o={blockedOn:c,domEventName:h,eventSystemFlags:g,nativeEvent:w,targetContainers:[v]},c!==null&&(c=tt(c),c!==null&&Jj(c)),o):(o.eventSystemFlags|=g,c=o.targetContainers,v!==null&&c.indexOf(v)===-1&&c.push(v),o)}function zL(o,c,h,g,v){switch(c){case"focusin":return ho=Id(ho,o,c,h,g,v),!0;case"dragenter":return po=Id(po,o,c,h,g,v),!0;case"mouseover":return mo=Id(mo,o,c,h,g,v),!0;case"pointerover":var w=v.pointerId;return Pd.set(w,Id(Pd.get(w)||null,o,c,h,g,v)),!0;case"gotpointercapture":return w=v.pointerId,zd.set(w,Id(zd.get(w)||null,o,c,h,g,v)),!0}return!1}function eT(o){var c=Re(o.target);if(c!==null){var h=i(c);if(h!==null){if(c=h.tag,c===13){if(c=a(h),c!==null){o.blockedOn=c,me(o.priority,function(){if(h.tag===13){var g=Ps();g=en(g);var v=Cc(h,g);v!==null&&zs(v,h,g),Kx(h,g)}});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ip(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var h=Wx(o.nativeEvent);if(h===null){h=o.nativeEvent;var g=new h.constructor(h.type,h);Ku=g,h.target.dispatchEvent(g),Ku=null}else return c=tt(h),c!==null&&Jj(c),o.blockedOn=h,!1;c.shift()}return!0}function tT(o,c,h){Ip(o)&&h.delete(c)}function IL(){Xx=!1,ho!==null&&Ip(ho)&&(ho=null),po!==null&&Ip(po)&&(po=null),mo!==null&&Ip(mo)&&(mo=null),Pd.forEach(tT),zd.forEach(tT)}function Bp(o,c){o.blockedOn===c&&(o.blockedOn=null,Xx||(Xx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,IL)))}var Fp=null;function nT(o){Fp!==o&&(Fp=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Fp===o&&(Fp=null);for(var c=0;c<o.length;c+=3){var h=o[c],g=o[c+1],v=o[c+2];if(typeof g!="function"){if(Gx(g||h)===null)continue;break}var w=tt(h);w!==null&&(o.splice(c,3),c-=3,G0(w,{pending:!0,data:v,method:h.method,action:g},g,v))}}))}function Bd(o){function c(X){return Bp(X,o)}ho!==null&&Bp(ho,o),po!==null&&Bp(po,o),mo!==null&&Bp(mo,o),Pd.forEach(c),zd.forEach(c);for(var h=0;h<go.length;h++){var g=go[h];g.blockedOn===o&&(g.blockedOn=null)}for(;0<go.length&&(h=go[0],h.blockedOn===null);)eT(h),h.blockedOn===null&&go.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var v=h[g],w=h[g+1],O=v[Xe]||null;if(typeof w=="function")O||nT(h);else if(O){var z=null;if(w&&w.hasAttribute("formAction")){if(v=w,O=w[Xe]||null)z=O.formAction;else if(Gx(v)!==null)continue}else z=O.action;typeof z=="function"?h[g+1]=z:(h.splice(g,3),g-=3),nT(h)}}}function Jx(o){this._internalRoot=o}$p.prototype.render=Jx.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));var h=c.current,g=Ps();Gj(h,g,o,c,null,null)},$p.prototype.unmount=Jx.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;Gj(o.current,2,null,o,null,null),Sp(),c[vt]=null}};function $p(o){this._internalRoot=o}$p.prototype.unstable_scheduleHydration=function(o){if(o){var c=Q();o={blockedOn:null,target:o,priority:c};for(var h=0;h<go.length&&c!==0&&c<go[h].priority;h++);go.splice(h,0,o),h===0&&eT(o)}};var rT=e.version;if(rT!=="19.1.0")throw Error(r(527,rT,"19.1.0"));oe.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(c),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var BL={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Up=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Up.isDisabled&&Up.supportsFiber)try{V=Up.inject(BL),we=Up}catch{}}return $d.createRoot=function(o,c){if(!s(o))throw Error(r(299));var h=!1,g="",v=vN,w=bN,O=wN,z=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(w=c.onCaughtError),c.onRecoverableError!==void 0&&(O=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(z=c.unstable_transitionCallbacks)),c=Yj(o,1,!1,null,null,h,g,v,w,O,z,null),o[vt]=c.current,Rx(o),new Jx(c)},$d.hydrateRoot=function(o,c,h){if(!s(o))throw Error(r(299));var g=!1,v="",w=vN,O=bN,z=wN,X=null,Ae=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(v=h.identifierPrefix),h.onUncaughtError!==void 0&&(w=h.onUncaughtError),h.onCaughtError!==void 0&&(O=h.onCaughtError),h.onRecoverableError!==void 0&&(z=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(X=h.unstable_transitionCallbacks),h.formState!==void 0&&(Ae=h.formState)),c=Yj(o,1,!0,c,h??null,g,v,w,O,z,X,Ae),c.context=Wj(null),h=c.current,g=Ps(),g=en(g),v=Qa(g),v.callback=null,Za(h,v,g),h=g,c.current.lanes=h,lt(c,h),$i(c),o[vt]=c.current,Rx(o),new $p(c)},$d.version="19.1.0",$d}var hT;function GL(){if(hT)return ev.exports;hT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ev.exports=WL(),ev.exports}var XL=GL(),Ud={},pT;function JL(){if(pT)return Ud;pT=1,Object.defineProperty(Ud,"__esModule",{value:!0}),Ud.parse=a,Ud.serialize=f;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,i=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function a(y,x){const b=new i,S=y.length;if(S<2)return b;const C=x?.decode||p;let N=0;do{const k=y.indexOf("=",N);if(k===-1)break;const D=y.indexOf(";",N),M=D===-1?S:D;if(k>M){N=y.lastIndexOf(";",k-1)+1;continue}const E=l(y,N,k),A=d(y,k,E),P=y.slice(E,A);if(b[P]===void 0){let F=l(y,k+1,M),ee=d(y,M,F);const be=C(y.slice(F,ee));b[P]=be}N=M+1}while(N<S);return b}function l(y,x,b){do{const S=y.charCodeAt(x);if(S!==32&&S!==9)return x}while(++x<b);return b}function d(y,x,b){for(;x>b;){const S=y.charCodeAt(--x);if(S!==32&&S!==9)return x+1}return b}function f(y,x,b){const S=b?.encode||encodeURIComponent;if(!t.test(y))throw new TypeError(`argument name is invalid: ${y}`);const C=S(x);if(!e.test(C))throw new TypeError(`argument val is invalid: ${x}`);let N=y+"="+C;if(!b)return N;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);N+="; Max-Age="+b.maxAge}if(b.domain){if(!n.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);N+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);N+="; Path="+b.path}if(b.expires){if(!m(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);N+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(N+="; HttpOnly"),b.secure&&(N+="; Secure"),b.partitioned&&(N+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return N}function p(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function m(y){return s.call(y)==="[object Date]"}return Ud}JL();var s5=t=>{throw TypeError(t)},QL=(t,e,n)=>e.has(t)||s5("Cannot "+n),sv=(t,e,n)=>(QL(t,e,"read from private field"),n?n.call(t):e.get(t)),ZL=(t,e,n)=>e.has(t)?s5("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),mT="popstate";function e7(t={}){function e(r,s){let{pathname:i,search:a,hash:l}=r.location;return Pf("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:$o(s)}return n7(e,n,null,t)}function hn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function t7(){return Math.random().toString(36).substring(2,10)}function gT(t,e){return{usr:t.state,key:t.key,idx:e}}function Pf(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Yo(e):e,state:n,key:e&&e.key||r||t7()}}function $o({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Yo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function n7(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l="POP",d=null,f=p();f==null&&(f=0,a.replaceState({...a.state,idx:f},""));function p(){return(a.state||{idx:null}).idx}function m(){l="POP";let C=p(),N=C==null?null:C-f;f=C,d&&d({action:l,location:S.location,delta:N})}function y(C,N){l="PUSH";let k=Pf(S.location,C,N);f=p()+1;let D=gT(k,f),M=S.createHref(k);try{a.pushState(D,"",M)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(M)}i&&d&&d({action:l,location:S.location,delta:1})}function x(C,N){l="REPLACE";let k=Pf(S.location,C,N);f=p();let D=gT(k,f),M=S.createHref(k);a.replaceState(D,"",M),i&&d&&d({action:l,location:S.location,delta:0})}function b(C){return i5(C)}let S={get action(){return l},get location(){return t(s,a)},listen(C){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(mT,m),d=C,()=>{s.removeEventListener(mT,m),d=null}},createHref(C){return e(s,C)},createURL:b,encodeLocation(C){let N=b(C);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:x,go(C){return a.go(C)}};return S}function i5(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),hn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:$o(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var nf,yT=class{constructor(t){if(ZL(this,nf,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(sv(this,nf).has(t))return sv(this,nf).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){sv(this,nf).set(t,e)}};nf=new WeakMap;var r7=new Set(["lazy","caseSensitive","path","id","index","children"]);function s7(t){return r7.has(t)}var i7=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function a7(t){return i7.has(t)}function o7(t){return t.index===!0}function Gm(t,e,n=[],r={}){return t.map((s,i)=>{let a=[...n,String(i)],l=typeof s.id=="string"?s.id:a.join("-");if(hn(s.index!==!0||!s.children,"Cannot specify children on an index route"),hn(!r[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),o7(s)){let d={...s,...e(s),id:l};return r[l]=d,d}else{let d={...s,...e(s),id:l,children:void 0};return r[l]=d,s.children&&(d.children=Gm(s.children,e,a,r)),d}})}function To(t,e,n="/"){return jm(t,e,n,!1)}function jm(t,e,n,r){let s=typeof e=="string"?Yo(e):e,i=mi(s.pathname||"/",n);if(i==null)return null;let a=a5(t);c7(a);let l=null;for(let d=0;l==null&&d<a.length;++d){let f=b7(i);l=x7(a[d],f,r)}return l}function l7(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function a5(t,e=[],n=[],r=""){let s=(i,a,l)=>{let d={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};d.relativePath.startsWith("/")&&(hn(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let f=Ji([r,d.relativePath]),p=n.concat(d);i.children&&i.children.length>0&&(hn(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),a5(i.children,e,p,f)),!(i.path==null&&!i.index)&&e.push({path:f,score:g7(f,i.index),routesMeta:p})};return t.forEach((i,a)=>{if(i.path===""||!i.path?.includes("?"))s(i,a);else for(let l of o5(i.path))s(i,a,l)}),e}function o5(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=o5(r.join("/")),l=[];return l.push(...a.map(d=>d===""?i:[i,d].join("/"))),s&&l.push(...a),l.map(d=>t.startsWith("/")&&d===""?"/":d)}function c7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:y7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var u7=/^:[\w-]+$/,d7=3,f7=2,h7=1,p7=10,m7=-2,xT=t=>t==="*";function g7(t,e){let n=t.split("/"),r=n.length;return n.some(xT)&&(r+=m7),e&&(r+=f7),n.filter(s=>!xT(s)).reduce((s,i)=>s+(u7.test(i)?d7:i===""?h7:p7),r)}function y7(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function x7(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",a=[];for(let l=0;l<r.length;++l){let d=r[l],f=l===r.length-1,p=i==="/"?e:e.slice(i.length)||"/",m=Xm({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),y=d.route;if(!m&&f&&n&&!r[r.length-1].route.index&&(m=Xm({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(s,m.params),a.push({params:s,pathname:Ji([i,m.pathname]),pathnameBase:C7(Ji([i,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(i=Ji([i,m.pathnameBase]))}return a}function Xm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=v7(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:m},y)=>{if(p==="*"){let b=l[y]||"";a=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const x=l[y];return m&&!x?f[p]=void 0:f[p]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:a,pattern:t}}function v7(t,e=!1,n=!0){pr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,d)=>(r.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function b7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function mi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function w7(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Yo(t):t;return{pathname:n?n.startsWith("/")?n:S7(n,e):e,search:N7(r),hash:j7(s)}}function S7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function iv(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function l5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function fy(t){let e=l5(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function hy(t,e,n,r=!1){let s;typeof t=="string"?s=Yo(t):(s={...t},hn(!s.pathname||!s.pathname.includes("?"),iv("?","pathname","search",s)),hn(!s.pathname||!s.pathname.includes("#"),iv("#","pathname","hash",s)),hn(!s.search||!s.search.includes("#"),iv("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let m=e.length-1;if(!r&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),m-=1;s.pathname=y.join("/")}l=m>=0?e[m]:"/"}let d=w7(s,l),f=a&&a!=="/"&&a.endsWith("/"),p=(i||a===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var Ji=t=>t.join("/").replace(/\/\/+/g,"/"),C7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),N7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,j7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Jm=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function zf(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var c5=["POST","PUT","PATCH","DELETE"],T7=new Set(c5),E7=["GET",...c5],A7=new Set(E7),k7=new Set([301,302,303,307,308]),O7=new Set([307,308]),av={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},D7={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Vd={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},vw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,M7=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),u5="remix-router-transitions",d5=Symbol("ResetLoaderData");function R7(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";hn(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],s=t.mapRouteProperties||M7,i={},a=Gm(t.routes,s,void 0,i),l,d=t.basename||"/",f=t.dataStrategy||I7,p={unstable_middleware:!1,...t.future},m=null,y=new Set,x=null,b=null,S=null,C=t.hydrationData!=null,N=To(a,t.history.location,d),k=!1,D=null,M;if(N==null&&!t.patchRoutesOnNavigation){let Q=oi(404,{pathname:t.history.location.pathname}),{matches:me,route:je}=OT(a);M=!0,N=me,D={[je.id]:Q}}else if(N&&!t.hydrationData&&Et(N,a,t.history.location.pathname).active&&(N=null),N)if(N.some(Q=>Q.route.lazy))M=!1;else if(!N.some(Q=>Q.route.loader))M=!0;else{let Q=t.hydrationData?t.hydrationData.loaderData:null,me=t.hydrationData?t.hydrationData.errors:null;if(me){let je=N.findIndex($e=>me[$e.route.id]!==void 0);M=N.slice(0,je+1).every($e=>!Eb($e.route,Q,me))}else M=N.every(je=>!Eb(je.route,Q,me))}else{M=!1,N=[];let Q=Et(null,a,t.history.location.pathname);Q.active&&Q.matches&&(k=!0,N=Q.matches)}let E,A={historyAction:t.history.action,location:t.history.location,matches:N,initialized:M,navigation:av,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||D,fetchers:new Map,blockers:new Map},P="POP",F=!1,ee,be=!1,ce=new Map,ae=null,te=!1,ke=!1,ze=new Set,W=new Map,oe=0,ye=-1,Fe=new Map,U=new Set,ue=new Map,se=new Map,fe=new Set,Ee=new Map,Pe,Oe=null;function Ye(){if(m=t.history.listen(({action:Q,location:me,delta:je})=>{if(Pe){Pe(),Pe=void 0;return}pr(Ee.size===0||je!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let $e=mt({currentLocation:A.location,nextLocation:me,historyAction:Q});if($e&&je!=null){let Xe=new Promise(vt=>{Pe=vt});t.history.go(je*-1),pe($e,{state:"blocked",location:me,proceed(){pe($e,{state:"proceeding",proceed:void 0,reset:void 0,location:me}),Xe.then(()=>t.history.go(je))},reset(){let vt=new Map(A.blockers);vt.set($e,Vd),Ze({blockers:vt})}});return}return nt(Q,me)}),n){G7(e,ce);let Q=()=>X7(e,ce);e.addEventListener("pagehide",Q),ae=()=>e.removeEventListener("pagehide",Q)}return A.initialized||nt("POP",A.location,{initialHydration:!0}),E}function Me(){m&&m(),ae&&ae(),y.clear(),ee&&ee.abort(),A.fetchers.forEach((Q,me)=>ht(me)),A.blockers.forEach((Q,me)=>pt(me))}function ut(Q){return y.add(Q),()=>y.delete(Q)}function Ze(Q,me={}){A={...A,...Q};let je=[],$e=[];A.fetchers.forEach((Xe,vt)=>{Xe.state==="idle"&&(fe.has(vt)?je.push(vt):$e.push(vt))}),fe.forEach(Xe=>{!A.fetchers.has(Xe)&&!W.has(Xe)&&je.push(Xe)}),[...y].forEach(Xe=>Xe(A,{deletedFetchers:je,viewTransitionOpts:me.viewTransitionOpts,flushSync:me.flushSync===!0})),je.forEach(Xe=>ht(Xe)),$e.forEach(Xe=>A.fetchers.delete(Xe))}function St(Q,me,{flushSync:je}={}){let $e=A.actionData!=null&&A.navigation.formMethod!=null&&Fs(A.navigation.formMethod)&&A.navigation.state==="loading"&&Q.state?._isRedirect!==!0,Xe;me.actionData?Object.keys(me.actionData).length>0?Xe=me.actionData:Xe=null:$e?Xe=A.actionData:Xe=null;let vt=me.loaderData?AT(A.loaderData,me.loaderData,me.matches||[],me.errors):A.loaderData,At=A.blockers;At.size>0&&(At=new Map(At),At.forEach((gt,Ot)=>At.set(Ot,Vd)));let ct=F===!0||A.navigation.formMethod!=null&&Fs(A.navigation.formMethod)&&Q.state?._isRedirect!==!0;l&&(a=l,l=void 0),te||P==="POP"||(P==="PUSH"?t.history.push(Q,Q.state):P==="REPLACE"&&t.history.replace(Q,Q.state));let Ct;if(P==="POP"){let gt=ce.get(A.location.pathname);gt&&gt.has(Q.pathname)?Ct={currentLocation:A.location,nextLocation:Q}:ce.has(Q.pathname)&&(Ct={currentLocation:Q,nextLocation:A.location})}else if(be){let gt=ce.get(A.location.pathname);gt?gt.add(Q.pathname):(gt=new Set([Q.pathname]),ce.set(A.location.pathname,gt)),Ct={currentLocation:A.location,nextLocation:Q}}Ze({...me,actionData:Xe,loaderData:vt,historyAction:P,location:Q,initialized:!0,navigation:av,revalidation:"idle",restoreScrollPosition:jt(Q,me.matches||A.matches),preventScrollReset:ct,blockers:At},{viewTransitionOpts:Ct,flushSync:je===!0}),P="POP",F=!1,be=!1,te=!1,ke=!1,Oe?.resolve(),Oe=null}async function Nt(Q,me){if(typeof Q=="number"){t.history.go(Q);return}let je=Tb(A.location,A.matches,d,Q,me?.fromRouteId,me?.relative),{path:$e,submission:Xe,error:vt}=vT(!1,je,me),At=A.location,ct=Pf(A.location,$e,me&&me.state);ct={...ct,...t.history.encodeLocation(ct)};let Ct=me&&me.replace!=null?me.replace:void 0,gt="PUSH";Ct===!0?gt="REPLACE":Ct===!1||Xe!=null&&Fs(Xe.formMethod)&&Xe.formAction===A.location.pathname+A.location.search&&(gt="REPLACE");let Ot=me&&"preventScrollReset"in me?me.preventScrollReset===!0:void 0,G=(me&&me.flushSync)===!0,Re=mt({currentLocation:At,nextLocation:ct,historyAction:gt});if(Re){pe(Re,{state:"blocked",location:ct,proceed(){pe(Re,{state:"proceeding",proceed:void 0,reset:void 0,location:ct}),Nt(Q,me)},reset(){let tt=new Map(A.blockers);tt.set(Re,Vd),Ze({blockers:tt})}});return}await nt(gt,ct,{submission:Xe,pendingError:vt,preventScrollReset:Ot,replace:me&&me.replace,enableViewTransition:me&&me.viewTransition,flushSync:G})}function Ft(){Oe||(Oe=J7()),H(),Ze({revalidation:"loading"});let Q=Oe.promise;return A.navigation.state==="submitting"?Q:A.navigation.state==="idle"?(nt(A.historyAction,A.location,{startUninterruptedRevalidation:!0}),Q):(nt(P||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation,enableViewTransition:be===!0}),Q)}async function nt(Q,me,je){ee&&ee.abort(),ee=null,P=Q,te=(je&&je.startUninterruptedRevalidation)===!0,lt(A.location,A.matches),F=(je&&je.preventScrollReset)===!0,be=(je&&je.enableViewTransition)===!0;let $e=l||a,Xe=je&&je.overrideNavigation,vt=je?.initialHydration&&A.matches&&A.matches.length>0&&!k?A.matches:To($e,me,d),At=(je&&je.flushSync)===!0;if(vt&&A.initialized&&!ke&&H7(A.location,me)&&!(je&&je.submission&&Fs(je.submission.formMethod))){St(me,{matches:vt},{flushSync:At});return}let ct=Et(vt,$e,me.pathname);if(ct.active&&ct.matches&&(vt=ct.matches),!vt){let{error:Wt,notFoundMatches:Dt,route:zt}=Lt(me.pathname);St(me,{matches:Dt,loaderData:{},errors:{[zt.id]:Wt}},{flushSync:At});return}ee=new AbortController;let Ct=eu(t.history,me,ee.signal,je&&je.submission),gt=new yT(t.unstable_getContext?await t.unstable_getContext():void 0),Ot;if(je&&je.pendingError)Ot=[Al(vt).route.id,{type:"error",error:je.pendingError}];else if(je&&je.submission&&Fs(je.submission.formMethod)){let Wt=await Z(Ct,me,je.submission,vt,gt,ct.active,je&&je.initialHydration===!0,{replace:je.replace,flushSync:At});if(Wt.shortCircuited)return;if(Wt.pendingActionResult){let[Dt,zt]=Wt.pendingActionResult;if(Bs(zt)&&zf(zt.error)&&zt.error.status===404){ee=null,St(me,{matches:Wt.matches,loaderData:{},errors:{[Dt]:zt.error}});return}}vt=Wt.matches||vt,Ot=Wt.pendingActionResult,Xe=ov(me,je.submission),At=!1,ct.active=!1,Ct=eu(t.history,Ct.url,Ct.signal)}let{shortCircuited:G,matches:Re,loaderData:tt,errors:yt}=await Ve(Ct,me,vt,gt,ct.active,Xe,je&&je.submission,je&&je.fetcherSubmission,je&&je.replace,je&&je.initialHydration===!0,At,Ot);G||(ee=null,St(me,{matches:Re||vt,...kT(Ot),loaderData:tt,errors:yt}))}async function Z(Q,me,je,$e,Xe,vt,At,ct={}){H();let Ct=Y7(me,je);if(Ze({navigation:Ct},{flushSync:ct.flushSync===!0}),vt){let G=await kt($e,me.pathname,Q.signal);if(G.type==="aborted")return{shortCircuited:!0};if(G.type==="error"){let Re=Al(G.partialMatches).route.id;return{matches:G.partialMatches,pendingActionResult:[Re,{type:"error",error:G.error}]}}else if(G.matches)$e=G.matches;else{let{notFoundMatches:Re,error:tt,route:yt}=Lt(me.pathname);return{matches:Re,pendingActionResult:[yt.id,{type:"error",error:tt}]}}}let gt,Ot=rf($e,me);if(!Ot.route.action&&!Ot.route.lazy)gt={type:"error",error:oi(405,{method:Q.method,pathname:me.pathname,routeId:Ot.route.id})};else{let G=hu(s,i,Q,$e,Ot,At?[]:r,Xe),Re=await de(Q,G,Xe,null);if(gt=Re[Ot.route.id],!gt){for(let tt of $e)if(Re[tt.route.id]){gt=Re[tt.route.id];break}}if(Q.signal.aborted)return{shortCircuited:!0}}if(Dl(gt)){let G;return ct&&ct.replace!=null?G=ct.replace:G=jT(gt.response.headers.get("Location"),new URL(Q.url),d)===A.location.pathname+A.location.search,await B(Q,gt,!0,{submission:je,replace:G}),{shortCircuited:!0}}if(Bs(gt)){let G=Al($e,Ot.route.id);return(ct&&ct.replace)!==!0&&(P="PUSH"),{matches:$e,pendingActionResult:[G.route.id,gt,Ot.route.id]}}return{matches:$e,pendingActionResult:[Ot.route.id,gt]}}async function Ve(Q,me,je,$e,Xe,vt,At,ct,Ct,gt,Ot,G){let Re=vt||ov(me,At),tt=At||ct||MT(Re),yt=!te&&!gt;if(Xe){if(yt){let R=qe(G);Ze({navigation:Re,...R!==void 0?{actionData:R}:{}},{flushSync:Ot})}let K=await kt(je,me.pathname,Q.signal);if(K.type==="aborted")return{shortCircuited:!0};if(K.type==="error"){let R=Al(K.partialMatches).route.id;return{matches:K.partialMatches,loaderData:{},errors:{[R]:K.error}}}else if(K.matches)je=K.matches;else{let{error:R,notFoundMatches:q,route:ne}=Lt(me.pathname);return{matches:q,loaderData:{},errors:{[ne.id]:R}}}}let Wt=l||a,{dsMatches:Dt,revalidatingFetchers:zt}=bT(Q,$e,s,i,t.history,A,je,tt,me,gt?[]:r,gt===!0,ke,ze,fe,ue,U,Wt,d,t.patchRoutesOnNavigation!=null,G);if(ye=++oe,!t.dataStrategy&&!Dt.some(K=>K.shouldLoad)&&zt.length===0){let K=Qt();return St(me,{matches:je,loaderData:{},errors:G&&Bs(G[1])?{[G[0]]:G[1].error}:null,...kT(G),...K?{fetchers:new Map(A.fetchers)}:{}},{flushSync:Ot}),{shortCircuited:!0}}if(yt){let K={};if(!Xe){K.navigation=Re;let R=qe(G);R!==void 0&&(K.actionData=R)}zt.length>0&&(K.fetchers=at(zt)),Ze(K,{flushSync:Ot})}zt.forEach(K=>{Pt(K.key),K.controller&&W.set(K.key,K.controller)});let Xn=()=>zt.forEach(K=>Pt(K.key));ee&&ee.signal.addEventListener("abort",Xn);let{loaderResults:On,fetcherResults:bn}=await xe(Dt,zt,Q,$e);if(Q.signal.aborted)return{shortCircuited:!0};ee&&ee.signal.removeEventListener("abort",Xn),zt.forEach(K=>W.delete(K.key));let jn=Hp(On);if(jn)return await B(Q,jn.result,!0,{replace:Ct}),{shortCircuited:!0};if(jn=Hp(bn),jn)return U.add(jn.key),await B(Q,jn.result,!0,{replace:Ct}),{shortCircuited:!0};let{loaderData:gr,errors:Jn}=ET(A,je,On,G,zt,bn);gt&&A.errors&&(Jn={...A.errors,...Jn});let Y=Qt(),Se=Ne(ye),_=Y||Se||zt.length>0;return{matches:je,loaderData:gr,errors:Jn,..._?{fetchers:new Map(A.fetchers)}:{}}}function qe(Q){if(Q&&!Bs(Q[1]))return{[Q[0]]:Q[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function at(Q){return Q.forEach(me=>{let je=A.fetchers.get(me.key),$e=Hd(void 0,je?je.data:void 0);A.fetchers.set(me.key,$e)}),new Map(A.fetchers)}async function bt(Q,me,je,$e){Pt(Q);let Xe=($e&&$e.flushSync)===!0,vt=l||a,At=Tb(A.location,A.matches,d,je,me,$e?.relative),ct=To(vt,At,d),Ct=Et(ct,vt,At);if(Ct.active&&Ct.matches&&(ct=Ct.matches),!ct){we(Q,me,oi(404,{pathname:At}),{flushSync:Xe});return}let{path:gt,submission:Ot,error:G}=vT(!0,At,$e);if(G){we(Q,me,G,{flushSync:Xe});return}let Re=rf(ct,gt),tt=new yT(t.unstable_getContext?await t.unstable_getContext():void 0),yt=($e&&$e.preventScrollReset)===!0;if(Ot&&Fs(Ot.formMethod)){await $(Q,me,gt,Re,ct,tt,Ct.active,Xe,yt,Ot);return}ue.set(Q,{routeId:me,path:gt}),await re(Q,me,gt,Re,ct,tt,Ct.active,Xe,yt,Ot)}async function $(Q,me,je,$e,Xe,vt,At,ct,Ct,gt){H(),ue.delete(Q);function Ot(ft){if(!ft.route.action&&!ft.route.lazy){let tn=oi(405,{method:gt.formMethod,pathname:je,routeId:me});return we(Q,me,tn,{flushSync:ct}),!0}return!1}if(!At&&Ot($e))return;let G=A.fetchers.get(Q);V(Q,W7(gt,G),{flushSync:ct});let Re=new AbortController,tt=eu(t.history,je,Re.signal,gt);if(At){let ft=await kt(Xe,je,tt.signal,Q);if(ft.type==="aborted")return;if(ft.type==="error"){we(Q,me,ft.error,{flushSync:ct});return}else if(ft.matches){if(Xe=ft.matches,$e=rf(Xe,je),Ot($e))return}else{we(Q,me,oi(404,{pathname:je}),{flushSync:ct});return}}W.set(Q,Re);let yt=oe,Wt=hu(s,i,tt,Xe,$e,r,vt),zt=(await de(tt,Wt,vt,Q))[$e.route.id];if(tt.signal.aborted){W.get(Q)===Re&&W.delete(Q);return}if(fe.has(Q)){if(Dl(zt)||Bs(zt)){V(Q,vo(void 0));return}}else{if(Dl(zt))if(W.delete(Q),ye>yt){V(Q,vo(void 0));return}else return U.add(Q),V(Q,Hd(gt)),B(tt,zt,!1,{fetcherSubmission:gt,preventScrollReset:Ct});if(Bs(zt)){we(Q,me,zt.error);return}}let Xn=A.navigation.location||A.location,On=eu(t.history,Xn,Re.signal),bn=l||a,jn=A.navigation.state!=="idle"?To(bn,A.navigation.location,d):A.matches;hn(jn,"Didn't find any matches after fetcher action");let gr=++oe;Fe.set(Q,gr);let Jn=Hd(gt,zt.data);A.fetchers.set(Q,Jn);let{dsMatches:Y,revalidatingFetchers:Se}=bT(On,vt,s,i,t.history,A,jn,gt,Xn,r,!1,ke,ze,fe,ue,U,bn,d,t.patchRoutesOnNavigation!=null,[$e.route.id,zt]);Se.filter(ft=>ft.key!==Q).forEach(ft=>{let tn=ft.key,T=A.fetchers.get(tn),L=Hd(void 0,T?T.data:void 0);A.fetchers.set(tn,L),Pt(tn),ft.controller&&W.set(tn,ft.controller)}),Ze({fetchers:new Map(A.fetchers)});let _=()=>Se.forEach(ft=>Pt(ft.key));Re.signal.addEventListener("abort",_);let{loaderResults:K,fetcherResults:R}=await xe(Y,Se,On,vt);if(Re.signal.aborted)return;if(Re.signal.removeEventListener("abort",_),Fe.delete(Q),W.delete(Q),Se.forEach(ft=>W.delete(ft.key)),A.fetchers.has(Q)){let ft=vo(zt.data);A.fetchers.set(Q,ft)}let q=Hp(K);if(q)return B(On,q.result,!1,{preventScrollReset:Ct});if(q=Hp(R),q)return U.add(q.key),B(On,q.result,!1,{preventScrollReset:Ct});let{loaderData:ne,errors:_e}=ET(A,jn,K,void 0,Se,R);Ne(gr),A.navigation.state==="loading"&&gr>ye?(hn(P,"Expected pending action"),ee&&ee.abort(),St(A.navigation.location,{matches:jn,loaderData:ne,errors:_e,fetchers:new Map(A.fetchers)})):(Ze({errors:_e,loaderData:AT(A.loaderData,ne,jn,_e),fetchers:new Map(A.fetchers)}),ke=!1)}async function re(Q,me,je,$e,Xe,vt,At,ct,Ct,gt){let Ot=A.fetchers.get(Q);V(Q,Hd(gt,Ot?Ot.data:void 0),{flushSync:ct});let G=new AbortController,Re=eu(t.history,je,G.signal);if(At){let zt=await kt(Xe,je,Re.signal,Q);if(zt.type==="aborted")return;if(zt.type==="error"){we(Q,me,zt.error,{flushSync:ct});return}else if(zt.matches)Xe=zt.matches,$e=rf(Xe,je);else{we(Q,me,oi(404,{pathname:je}),{flushSync:ct});return}}W.set(Q,G);let tt=oe,yt=hu(s,i,Re,Xe,$e,r,vt),Dt=(await de(Re,yt,vt,Q))[$e.route.id];if(W.get(Q)===G&&W.delete(Q),!Re.signal.aborted){if(fe.has(Q)){V(Q,vo(void 0));return}if(Dl(Dt))if(ye>tt){V(Q,vo(void 0));return}else{U.add(Q),await B(Re,Dt,!1,{preventScrollReset:Ct});return}if(Bs(Dt)){we(Q,me,Dt.error);return}V(Q,vo(Dt.data))}}async function B(Q,me,je,{submission:$e,fetcherSubmission:Xe,preventScrollReset:vt,replace:At}={}){me.response.headers.has("X-Remix-Revalidate")&&(ke=!0);let ct=me.response.headers.get("Location");hn(ct,"Expected a Location header on the redirect Response"),ct=jT(ct,new URL(Q.url),d);let Ct=Pf(A.location,ct,{_isRedirect:!0});if(n){let yt=!1;if(me.response.headers.has("X-Remix-Reload-Document"))yt=!0;else if(vw.test(ct)){const Wt=i5(ct,!0);yt=Wt.origin!==e.location.origin||mi(Wt.pathname,d)==null}if(yt){At?e.location.replace(ct):e.location.assign(ct);return}}ee=null;let gt=At===!0||me.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ot,formAction:G,formEncType:Re}=A.navigation;!$e&&!Xe&&Ot&&G&&Re&&($e=MT(A.navigation));let tt=$e||Xe;if(O7.has(me.response.status)&&tt&&Fs(tt.formMethod))await nt(gt,Ct,{submission:{...tt,formAction:ct},preventScrollReset:vt||F,enableViewTransition:je?be:void 0});else{let yt=ov(Ct,$e);await nt(gt,Ct,{overrideNavigation:yt,fetcherSubmission:Xe,preventScrollReset:vt||F,enableViewTransition:je?be:void 0})}}async function de(Q,me,je,$e){let Xe,vt={};try{Xe=await B7(f,Q,me,$e,je,!1)}catch(At){return me.filter(ct=>ct.shouldLoad).forEach(ct=>{vt[ct.route.id]={type:"error",error:At}}),vt}if(Q.signal.aborted)return vt;for(let[At,ct]of Object.entries(Xe))if(q7(ct)){let Ct=ct.result;vt[At]={type:"redirect",response:U7(Ct,Q,At,me,d)}}else vt[At]=await $7(ct);return vt}async function xe(Q,me,je,$e){let Xe=de(je,Q,$e,null),vt=Promise.all(me.map(async Ct=>{if(Ct.matches&&Ct.match&&Ct.request&&Ct.controller){let Ot=(await de(Ct.request,Ct.matches,$e,Ct.key))[Ct.match.route.id];return{[Ct.key]:Ot}}else return Promise.resolve({[Ct.key]:{type:"error",error:oi(404,{pathname:Ct.path})}})})),At=await Xe,ct=(await vt).reduce((Ct,gt)=>Object.assign(Ct,gt),{});return{loaderResults:At,fetcherResults:ct}}function H(){ke=!0,ue.forEach((Q,me)=>{W.has(me)&&ze.add(me),Pt(me)})}function V(Q,me,je={}){A.fetchers.set(Q,me),Ze({fetchers:new Map(A.fetchers)},{flushSync:(je&&je.flushSync)===!0})}function we(Q,me,je,$e={}){let Xe=Al(A.matches,me);ht(Q),Ze({errors:{[Xe.route.id]:je},fetchers:new Map(A.fetchers)},{flushSync:($e&&$e.flushSync)===!0})}function et(Q){return se.set(Q,(se.get(Q)||0)+1),fe.has(Q)&&fe.delete(Q),A.fetchers.get(Q)||D7}function ht(Q){let me=A.fetchers.get(Q);W.has(Q)&&!(me&&me.state==="loading"&&Fe.has(Q))&&Pt(Q),ue.delete(Q),Fe.delete(Q),U.delete(Q),fe.delete(Q),ze.delete(Q),A.fetchers.delete(Q)}function Jt(Q){let me=(se.get(Q)||0)-1;me<=0?(se.delete(Q),fe.add(Q)):se.set(Q,me),Ze({fetchers:new Map(A.fetchers)})}function Pt(Q){let me=W.get(Q);me&&(me.abort(),W.delete(Q))}function an(Q){for(let me of Q){let je=et(me),$e=vo(je.data);A.fetchers.set(me,$e)}}function Qt(){let Q=[],me=!1;for(let je of U){let $e=A.fetchers.get(je);hn($e,`Expected fetcher: ${je}`),$e.state==="loading"&&(U.delete(je),Q.push(je),me=!0)}return an(Q),me}function Ne(Q){let me=[];for(let[je,$e]of Fe)if($e<Q){let Xe=A.fetchers.get(je);hn(Xe,`Expected fetcher: ${je}`),Xe.state==="loading"&&(Pt(je),Fe.delete(je),me.push(je))}return an(me),me.length>0}function ot(Q,me){let je=A.blockers.get(Q)||Vd;return Ee.get(Q)!==me&&Ee.set(Q,me),je}function pt(Q){A.blockers.delete(Q),Ee.delete(Q)}function pe(Q,me){let je=A.blockers.get(Q)||Vd;hn(je.state==="unblocked"&&me.state==="blocked"||je.state==="blocked"&&me.state==="blocked"||je.state==="blocked"&&me.state==="proceeding"||je.state==="blocked"&&me.state==="unblocked"||je.state==="proceeding"&&me.state==="unblocked",`Invalid blocker state transition: ${je.state} -> ${me.state}`);let $e=new Map(A.blockers);$e.set(Q,me),Ze({blockers:$e})}function mt({currentLocation:Q,nextLocation:me,historyAction:je}){if(Ee.size===0)return;Ee.size>1&&pr(!1,"A router only supports one blocker at a time");let $e=Array.from(Ee.entries()),[Xe,vt]=$e[$e.length-1],At=A.blockers.get(Xe);if(!(At&&At.state==="proceeding")&&vt({currentLocation:Q,nextLocation:me,historyAction:je}))return Xe}function Lt(Q){let me=oi(404,{pathname:Q}),je=l||a,{matches:$e,route:Xe}=OT(je);return{notFoundMatches:$e,route:Xe,error:me}}function rt(Q,me,je){if(x=Q,S=me,b=je||null,!C&&A.navigation===av){C=!0;let $e=jt(A.location,A.matches);$e!=null&&Ze({restoreScrollPosition:$e})}return()=>{x=null,S=null,b=null}}function Te(Q,me){return b&&b(Q,me.map($e=>l7($e,A.loaderData)))||Q.key}function lt(Q,me){if(x&&S){let je=Te(Q,me);x[je]=S()}}function jt(Q,me){if(x){let je=Te(Q,me),$e=x[je];if(typeof $e=="number")return $e}return null}function Et(Q,me,je){if(t.patchRoutesOnNavigation)if(Q){if(Object.keys(Q[0].params).length>0)return{active:!0,matches:jm(me,je,d,!0)}}else return{active:!0,matches:jm(me,je,d,!0)||[]};return{active:!1,matches:null}}async function kt(Q,me,je,$e){if(!t.patchRoutesOnNavigation)return{type:"success",matches:Q};let Xe=Q;for(;;){let vt=l==null,At=l||a,ct=i;try{await t.patchRoutesOnNavigation({signal:je,path:me,matches:Xe,fetcherKey:$e,patch:(Ot,G)=>{je.aborted||wT(Ot,G,At,ct,s)}})}catch(Ot){return{type:"error",error:Ot,partialMatches:Xe}}finally{vt&&!je.aborted&&(a=[...a])}if(je.aborted)return{type:"aborted"};let Ct=To(At,me,d);if(Ct)return{type:"success",matches:Ct};let gt=jm(At,me,d,!0);if(!gt||Xe.length===gt.length&&Xe.every((Ot,G)=>Ot.route.id===gt[G].route.id))return{type:"success",matches:null};Xe=gt}}function en(Q){i={},l=Gm(Q,s,void 0,i)}function Nn(Q,me){let je=l==null;wT(Q,me,l||a,i,s),je&&(a=[...a],Ze({}))}return E={get basename(){return d},get future(){return p},get state(){return A},get routes(){return a},get window(){return e},initialize:Ye,subscribe:ut,enableScrollRestoration:rt,navigate:Nt,fetch:bt,revalidate:Ft,createHref:Q=>t.history.createHref(Q),encodeLocation:Q=>t.history.encodeLocation(Q),getFetcher:et,deleteFetcher:Jt,dispose:Me,getBlocker:ot,deleteBlocker:pt,patchRoutes:Nn,_internalFetchControllers:W,_internalSetRoutes:en},E}function _7(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Tb(t,e,n,r,s,i){let a,l;if(s){a=[];for(let f of e)if(a.push(f),f.route.id===s){l=f;break}}else a=e,l=e[e.length-1];let d=hy(r||".",fy(a),mi(t.pathname,n)||t.pathname,i==="path");if(r==null&&(d.search=t.search,d.hash=t.hash),(r==null||r===""||r===".")&&l){let f=bw(d.search);if(l.route.index&&!f)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&f){let p=new URLSearchParams(d.search),m=p.getAll("index");p.delete("index"),m.filter(x=>x).forEach(x=>p.append("index",x));let y=p.toString();d.search=y?`?${y}`:""}}return n!=="/"&&(d.pathname=d.pathname==="/"?n:Ji([n,d.pathname])),$o(d)}function vT(t,e,n){if(!n||!_7(n))return{path:e};if(n.formMethod&&!K7(n.formMethod))return{path:e,error:oi(405,{method:n.formMethod})};let r=()=>({path:e,error:oi(400,{type:"invalid-body"})}),i=(n.formMethod||"get").toUpperCase(),a=y5(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Fs(i))return r();let m=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((y,[x,b])=>`${y}${x}=${b}
`,""):String(n.body);return{path:e,submission:{formMethod:i,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:m}}}else if(n.formEncType==="application/json"){if(!Fs(i))return r();try{let m=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:i,formAction:a,formEncType:n.formEncType,formData:void 0,json:m,text:void 0}}}catch{return r()}}}hn(typeof FormData=="function","FormData is not available in this environment");let l,d;if(n.formData)l=kb(n.formData),d=n.formData;else if(n.body instanceof FormData)l=kb(n.body),d=n.body;else if(n.body instanceof URLSearchParams)l=n.body,d=TT(l);else if(n.body==null)l=new URLSearchParams,d=new FormData;else try{l=new URLSearchParams(n.body),d=TT(l)}catch{return r()}let f={formMethod:i,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(Fs(f.formMethod))return{path:e,submission:f};let p=Yo(e);return t&&p.search&&bw(p.search)&&l.append("index",""),p.search=`?${l}`,{path:$o(p),submission:f}}function bT(t,e,n,r,s,i,a,l,d,f,p,m,y,x,b,S,C,N,k,D){let M=D?Bs(D[1])?D[1].error:D[1].data:void 0,E=s.createURL(i.location),A=s.createURL(d),P;if(p&&i.errors){let te=Object.keys(i.errors)[0];P=a.findIndex(ke=>ke.route.id===te)}else if(D&&Bs(D[1])){let te=D[0];P=a.findIndex(ke=>ke.route.id===te)-1}let F=D?D[1].statusCode:void 0,ee=F&&F>=400,be={currentUrl:E,currentParams:i.matches[0]?.params||{},nextUrl:A,nextParams:a[0].params,...l,actionResult:M,actionStatus:F},ce=a.map((te,ke)=>{let{route:ze}=te,W=null;if(P!=null&&ke>P?W=!1:ze.lazy?W=!0:ze.loader==null?W=!1:p?W=Eb(ze,i.loaderData,i.errors):L7(i.loaderData,i.matches[ke],te)&&(W=!0),W!==null)return Ab(n,r,t,te,f,e,W);let oe=ee?!1:m||E.pathname+E.search===A.pathname+A.search||E.search!==A.search||P7(i.matches[ke],te),ye={...be,defaultShouldRevalidate:oe},Fe=Qm(te,ye);return Ab(n,r,t,te,f,e,Fe,ye)}),ae=[];return b.forEach((te,ke)=>{if(p||!a.some(se=>se.route.id===te.routeId)||x.has(ke))return;let ze=i.fetchers.get(ke),W=ze&&ze.state!=="idle"&&ze.data===void 0,oe=To(C,te.path,N);if(!oe){if(k&&W)return;ae.push({key:ke,routeId:te.routeId,path:te.path,matches:null,match:null,request:null,controller:null});return}if(S.has(ke))return;let ye=rf(oe,te.path),Fe=new AbortController,U=eu(s,te.path,Fe.signal),ue=null;if(y.has(ke))y.delete(ke),ue=hu(n,r,U,oe,ye,f,e);else if(W)m&&(ue=hu(n,r,U,oe,ye,f,e));else{let se={...be,defaultShouldRevalidate:ee?!1:m};Qm(ye,se)&&(ue=hu(n,r,U,oe,ye,f,e,se))}ue&&ae.push({key:ke,routeId:te.routeId,path:te.path,matches:ue,match:ye,request:U,controller:Fe})}),{dsMatches:ce,revalidatingFetchers:ae}}function Eb(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,s=n!=null&&n[t.id]!==void 0;return!r&&s?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!s}function L7(t,e,n){let r=!e||n.route.id!==e.route.id,s=!t.hasOwnProperty(n.route.id);return r||s}function P7(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Qm(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function wT(t,e,n,r,s){let i;if(t){let d=r[t];hn(d,`No route found to patch children into: routeId = ${t}`),d.children||(d.children=[]),i=d.children}else i=n;let a=e.filter(d=>!i.some(f=>f5(d,f))),l=Gm(a,s,[t||"_","patch",String(i?.length||"0")],r);i.push(...l)}function f5(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>e.children?.some(s=>f5(n,s))):!1}var ST=new WeakMap,h5=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let s=n[e.id];if(hn(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let i=s.lazy[t];if(!i)return;let a=ST.get(s);a||(a={},ST.set(s,a));let l=a[t];if(l)return l;let d=(async()=>{let f=s7(t),m=s[t]!==void 0&&t!=="hasErrorBoundary";if(f)pr(!f,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),a[t]=Promise.resolve();else if(m)pr(!1,`Route "${s.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let y=await i();y!=null&&(Object.assign(s,{[t]:y}),Object.assign(s,r(s)))}typeof s.lazy=="object"&&(s.lazy[t]=void 0,Object.values(s.lazy).every(y=>y===void 0)&&(s.lazy=void 0))})();return a[t]=d,d},CT=new WeakMap;function z7(t,e,n,r,s){let i=n[t.id];if(hn(i,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let p=CT.get(i);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let m=(async()=>{hn(typeof t.lazy=="function","No lazy route function found");let y=await t.lazy(),x={};for(let b in y){let S=y[b];if(S===void 0)continue;let C=a7(b),k=i[b]!==void 0&&b!=="hasErrorBoundary";C?pr(!C,"Route property "+b+" is not a supported property to be returned from a lazy route function. This property will be ignored."):k?pr(!k,`Route "${i.id}" has a static property "${b}" defined but its lazy function is also returning a value for this property. The lazy route property "${b}" will be ignored.`):x[b]=S}Object.assign(i,x),Object.assign(i,{...r(i),lazy:void 0})})();return CT.set(i,m),m.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:m}}let a=Object.keys(t.lazy),l=[],d;for(let p of a){if(s&&s.includes(p))continue;let m=h5({key:p,route:t,manifest:n,mapRouteProperties:r});m&&(l.push(m),p===e&&(d=m))}let f=l.length>0?Promise.all(l).then(()=>{}):void 0;return f?.catch(()=>{}),d?.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:d}}async function NT(t){let e=t.matches.filter(s=>s.shouldLoad),n={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,i)=>{n[e[i].route.id]=s}),n}async function I7(t){return t.matches.some(e=>e.route.unstable_middleware)?p5(t,!1,()=>NT(t),(e,n)=>({[n]:{type:"error",result:e}})):NT(t)}async function p5(t,e,n,r){let{matches:s,request:i,params:a,context:l}=t,d={handlerResult:void 0};try{let f=s.flatMap(m=>m.route.unstable_middleware?m.route.unstable_middleware.map(y=>[m.route.id,y]):[]),p=await m5({request:i,params:a,context:l},f,e,d,n);return e?p:d.handlerResult}catch(f){if(!d.middlewareError)throw f;let p=await r(d.middlewareError.error,d.middlewareError.routeId);return d.handlerResult?Object.assign(d.handlerResult,p):p}}async function m5(t,e,n,r,s,i=0){let{request:a}=t;if(a.signal.aborted)throw a.signal.reason?a.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${a.method} ${a.url}`);let l=e[i];if(!l)return r.handlerResult=await s(),r.handlerResult;let[d,f]=l,p=!1,m,y=async()=>{if(p)throw new Error("You may only call `next()` once per middleware");p=!0,await m5(t,e,n,r,s,i+1)};try{let x=await f({request:t.request,params:t.params,context:t.context},y);return p?x===void 0?m:x:y()}catch(x){throw r.middlewareError?r.middlewareError.error!==x&&(r.middlewareError={routeId:d,error:x}):r.middlewareError={routeId:d,error:x},x}}function g5(t,e,n,r,s){let i=h5({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),a=z7(r.route,Fs(n.method)?"action":"loader",e,t,s);return{middleware:i,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function Ab(t,e,n,r,s,i,a,l=null){let d=!1,f=g5(t,e,n,r,s);return{...r,_lazyPromises:f,shouldLoad:a,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler(p){return d=!0,l?typeof p=="boolean"?Qm(r,{...l,defaultShouldRevalidate:p}):Qm(r,l):a},resolve(p){return d||a||p&&n.method==="GET"&&(r.route.lazy||r.route.loader)?F7({request:n,match:r,lazyHandlerPromise:f?.handler,lazyRoutePromise:f?.route,handlerOverride:p,scopedContext:i}):Promise.resolve({type:"data",result:void 0})}}}function hu(t,e,n,r,s,i,a,l=null){return r.map(d=>d.route.id!==s.route.id?{...d,shouldLoad:!1,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler:()=>!1,_lazyPromises:g5(t,e,n,d,i),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Ab(t,e,n,d,i,a,!0,l))}async function B7(t,e,n,r,s,i){n.some(f=>f._lazyPromises?.middleware)&&await Promise.all(n.map(f=>f._lazyPromises?.middleware));let a={request:e,params:n[0].params,context:s,matches:n},d=await t({...a,fetcherKey:r,unstable_runClientMiddleware:f=>{let p=a;return p5(p,!1,()=>f({...p,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(m,y)=>({[y]:{type:"error",result:m}}))}});try{await Promise.all(n.flatMap(f=>[f._lazyPromises?.handler,f._lazyPromises?.route]))}catch{}return d}async function F7({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:s,scopedContext:i}){let a,l,d=Fs(t.method),f=d?"action":"loader",p=m=>{let y,x=new Promise((C,N)=>y=N);l=()=>y(),t.signal.addEventListener("abort",l);let b=C=>typeof m!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${f}" [routeId: ${e.route.id}]`)):m({request:t,params:e.params,context:i},...C!==void 0?[C]:[]),S=(async()=>{try{return{type:"data",result:await(s?s(N=>b(N)):b())}}catch(C){return{type:"error",result:C}}})();return Promise.race([S,x])};try{let m=d?e.route.action:e.route.loader;if(n||r)if(m){let y,[x]=await Promise.all([p(m).catch(b=>{y=b}),n,r]);if(y!==void 0)throw y;a=x}else{await n;let y=d?e.route.action:e.route.loader;if(y)[a]=await Promise.all([p(y),r]);else if(f==="action"){let x=new URL(t.url),b=x.pathname+x.search;throw oi(405,{method:t.method,pathname:b,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(m)a=await p(m);else{let y=new URL(t.url),x=y.pathname+y.search;throw oi(404,{pathname:x})}}catch(m){return{type:"error",result:m}}finally{l&&t.signal.removeEventListener("abort",l)}return a}async function $7(t){let{result:e,type:n}=t;if(x5(e)){let r;try{let s=e.headers.get("Content-Type");s&&/\bapplication\/json\b/.test(s)?e.body==null?r=null:r=await e.json():r=await e.text()}catch(s){return{type:"error",error:s}}return n==="error"?{type:"error",error:new Jm(e.status,e.statusText,r),statusCode:e.status,headers:e.headers}:{type:"data",data:r,statusCode:e.status,headers:e.headers}}return n==="error"?DT(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Jm(e.init?.status||500,void 0,e.data),statusCode:zf(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:zf(e)?e.status:void 0}:DT(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function U7(t,e,n,r,s){let i=t.headers.get("Location");if(hn(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!vw.test(i)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);i=Tb(new URL(e.url),a,s,i),t.headers.set("Location",i)}return t}function jT(t,e,n){if(vw.test(t)){let r=t,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),i=mi(s.pathname,n)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function eu(t,e,n,r){let s=t.createURL(y5(e)).toString(),i={signal:n};if(r&&Fs(r.formMethod)){let{formMethod:a,formEncType:l}=r;i.method=a.toUpperCase(),l==="application/json"?(i.headers=new Headers({"Content-Type":l}),i.body=JSON.stringify(r.json)):l==="text/plain"?i.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?i.body=kb(r.formData):i.body=r.formData}return new Request(s,i)}function kb(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function TT(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function V7(t,e,n,r=!1,s=!1){let i={},a=null,l,d=!1,f={},p=n&&Bs(n[1])?n[1].error:void 0;return t.forEach(m=>{if(!(m.route.id in e))return;let y=m.route.id,x=e[y];if(hn(!Dl(x),"Cannot handle redirect results in processLoaderData"),Bs(x)){let b=x.error;if(p!==void 0&&(b=p,p=void 0),a=a||{},s)a[y]=b;else{let S=Al(t,y);a[S.route.id]==null&&(a[S.route.id]=b)}r||(i[y]=d5),d||(d=!0,l=zf(x.error)?x.error.status:500),x.headers&&(f[y]=x.headers)}else i[y]=x.data,x.statusCode&&x.statusCode!==200&&!d&&(l=x.statusCode),x.headers&&(f[y]=x.headers)}),p!==void 0&&n&&(a={[n[0]]:p},n[2]&&(i[n[2]]=void 0)),{loaderData:i,errors:a,statusCode:l||200,loaderHeaders:f}}function ET(t,e,n,r,s,i){let{loaderData:a,errors:l}=V7(e,n,r);return s.filter(d=>!d.matches||d.matches.some(f=>f.shouldLoad)).forEach(d=>{let{key:f,match:p,controller:m}=d,y=i[f];if(hn(y,"Did not find corresponding fetcher result"),!(m&&m.signal.aborted))if(Bs(y)){let x=Al(t.matches,p?.route.id);l&&l[x.route.id]||(l={...l,[x.route.id]:y.error}),t.fetchers.delete(f)}else if(Dl(y))hn(!1,"Unhandled fetcher revalidation redirect");else{let x=vo(y.data);t.fetchers.set(f,x)}}),{loaderData:a,errors:l}}function AT(t,e,n,r){let s=Object.entries(e).filter(([,i])=>i!==d5).reduce((i,[a,l])=>(i[a]=l,i),{});for(let i of n){let a=i.route.id;if(!e.hasOwnProperty(a)&&t.hasOwnProperty(a)&&i.route.loader&&(s[a]=t[a]),r&&r.hasOwnProperty(a))break}return s}function kT(t){return t?Bs(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Al(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function OT(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function oi(t,{pathname:e,routeId:n,method:r,type:s,message:i}={}){let a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",r&&e&&n?l=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l=`Route "${n}" does not match URL "${e}"`):t===404?(a="Not Found",l=`No route matches URL "${e}"`):t===405&&(a="Method Not Allowed",r&&e&&n?l=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(l=`Invalid request method "${r.toUpperCase()}"`)),new Jm(t||500,a,new Error(l),!0)}function Hp(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(Dl(s))return{key:r,result:s}}}function y5(t){let e=typeof t=="string"?Yo(t):t;return $o({...e,hash:""})}function H7(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function q7(t){return x5(t.result)&&k7.has(t.result.status)}function Bs(t){return t.type==="error"}function Dl(t){return(t&&t.type)==="redirect"}function DT(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function x5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function K7(t){return A7.has(t.toUpperCase())}function Fs(t){return T7.has(t.toUpperCase())}function bw(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function rf(t,e){let n=typeof e=="string"?Yo(e).search:e.search;if(t[t.length-1].route.index&&bw(n||""))return t[t.length-1];let r=l5(t);return r[r.length-1]}function MT(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:i,json:a}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function ov(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Y7(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Hd(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function W7(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function vo(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function G7(t,e){try{let n=t.sessionStorage.getItem(u5);if(n){let r=JSON.parse(n);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function X7(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(u5,JSON.stringify(n))}catch(r){pr(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function J7(){let t,e,n=new Promise((r,s)=>{t=async i=>{r(i);try{await n}catch{}},e=async i=>{s(i);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var uc=j.createContext(null);uc.displayName="DataRouter";var mh=j.createContext(null);mh.displayName="DataRouterState";var ww=j.createContext({isTransitioning:!1});ww.displayName="ViewTransition";var v5=j.createContext(new Map);v5.displayName="Fetchers";var Q7=j.createContext(null);Q7.displayName="Await";var Mi=j.createContext(null);Mi.displayName="Navigation";var py=j.createContext(null);py.displayName="Location";var Ri=j.createContext({outlet:null,matches:[],isDataRoute:!1});Ri.displayName="Route";var Sw=j.createContext(null);Sw.displayName="RouteError";function Z7(t,{relative:e}={}){hn(Mu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=j.useContext(Mi),{hash:s,pathname:i,search:a}=gh(t,{relative:e}),l=i;return n!=="/"&&(l=i==="/"?n:Ji([n,i])),r.createHref({pathname:l,search:a,hash:s})}function Mu(){return j.useContext(py)!=null}function Wo(){return hn(Mu(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(py).location}var b5="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function w5(t){j.useContext(Mi).static||j.useLayoutEffect(t)}function Hn(){let{isDataRoute:t}=j.useContext(Ri);return t?pP():eP()}function eP(){hn(Mu(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(uc),{basename:e,navigator:n}=j.useContext(Mi),{matches:r}=j.useContext(Ri),{pathname:s}=Wo(),i=JSON.stringify(fy(r)),a=j.useRef(!1);return w5(()=>{a.current=!0}),j.useCallback((d,f={})=>{if(pr(a.current,b5),!a.current)return;if(typeof d=="number"){n.go(d);return}let p=hy(d,JSON.parse(i),s,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ji([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,i,s,t])}var tP=j.createContext(null);function nP(t){let e=j.useContext(Ri).outlet;return e&&j.createElement(tP.Provider,{value:t},e)}function gh(t,{relative:e}={}){let{matches:n}=j.useContext(Ri),{pathname:r}=Wo(),s=JSON.stringify(fy(n));return j.useMemo(()=>hy(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function rP(t,e,n,r){hn(Mu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=j.useContext(Mi),{matches:i}=j.useContext(Ri),a=i[i.length-1],l=a?a.params:{},d=a?a.pathname:"/",f=a?a.pathnameBase:"/",p=a&&a.route;{let N=p&&p.path||"";S5(d,!p||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let m=Wo(),y;y=m;let x=y.pathname||"/",b=x;if(f!=="/"){let N=f.replace(/^\//,"").split("/");b="/"+x.replace(/^\//,"").split("/").slice(N.length).join("/")}let S=To(t,{pathname:b});return pr(p||S!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),pr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),lP(S&&S.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:Ji([f,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?f:Ji([f,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),i,n,r)}function sP(){let t=hP(),e=zf(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:i},"ErrorBoundary")," or"," ",j.createElement("code",{style:i},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:s},n):null,a)}var iP=j.createElement(sP,null),aP=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?j.createElement(Ri.Provider,{value:this.props.routeContext},j.createElement(Sw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oP({routeContext:t,match:e,children:n}){let r=j.useContext(uc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Ri.Provider,{value:t},n)}function lP(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,i=n?.errors;if(i!=null){let d=s.findIndex(f=>f.route.id&&i?.[f.route.id]!==void 0);hn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let a=!1,l=-1;if(n)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=d),f.route.id){let{loaderData:p,errors:m}=n,y=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((d,f,p)=>{let m,y=!1,x=null,b=null;n&&(m=i&&f.route.id?i[f.route.id]:void 0,x=f.route.errorElement||iP,a&&(l<0&&p===0?(S5("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,b=null):l===p&&(y=!0,b=f.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,p+1)),C=()=>{let N;return m?N=x:y?N=b:f.route.Component?N=j.createElement(f.route.Component,null):f.route.element?N=f.route.element:N=d,j.createElement(oP,{match:f,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:N})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?j.createElement(aP,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):C()},null)}function Cw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cP(t){let e=j.useContext(uc);return hn(e,Cw(t)),e}function uP(t){let e=j.useContext(mh);return hn(e,Cw(t)),e}function dP(t){let e=j.useContext(Ri);return hn(e,Cw(t)),e}function Nw(t){let e=dP(t),n=e.matches[e.matches.length-1];return hn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function fP(){return Nw("useRouteId")}function hP(){let t=j.useContext(Sw),e=uP("useRouteError"),n=Nw("useRouteError");return t!==void 0?t:e.errors?.[n]}function pP(){let{router:t}=cP("useNavigate"),e=Nw("useNavigate"),n=j.useRef(!1);return w5(()=>{n.current=!0}),j.useCallback(async(s,i={})=>{pr(n.current,b5),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var RT={};function S5(t,e,n){!e&&!RT[t]&&(RT[t]=!0,pr(!1,n))}var _T={};function LT(t,e){!t&&!_T[e]&&(_T[e]=!0,console.warn(e))}function mP(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&pr(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:j.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&pr(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:j.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&pr(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:j.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var gP=["HydrateFallback","hydrateFallbackElement"],yP=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function xP({router:t,flushSync:e}){let[n,r]=j.useState(t.state),[s,i]=j.useState(),[a,l]=j.useState({isTransitioning:!1}),[d,f]=j.useState(),[p,m]=j.useState(),[y,x]=j.useState(),b=j.useRef(new Map),S=j.useCallback((D,{deletedFetchers:M,flushSync:E,viewTransitionOpts:A})=>{D.fetchers.forEach((F,ee)=>{F.data!==void 0&&b.current.set(ee,F.data)}),M.forEach(F=>b.current.delete(F)),LT(E===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let P=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(LT(A==null||P,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!A||!P){e&&E?e(()=>r(D)):j.startTransition(()=>r(D));return}if(e&&E){e(()=>{p&&(d&&d.resolve(),p.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:A.currentLocation,nextLocation:A.nextLocation})});let F=t.window.document.startViewTransition(()=>{e(()=>r(D))});F.finished.finally(()=>{e(()=>{f(void 0),m(void 0),i(void 0),l({isTransitioning:!1})})}),e(()=>m(F));return}p?(d&&d.resolve(),p.skipTransition(),x({state:D,currentLocation:A.currentLocation,nextLocation:A.nextLocation})):(i(D),l({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}))},[t.window,e,p,d]);j.useLayoutEffect(()=>t.subscribe(S),[t,S]),j.useEffect(()=>{a.isTransitioning&&!a.flushSync&&f(new yP)},[a]),j.useEffect(()=>{if(d&&s&&t.window){let D=s,M=d.promise,E=t.window.document.startViewTransition(async()=>{j.startTransition(()=>r(D)),await M});E.finished.finally(()=>{f(void 0),m(void 0),i(void 0),l({isTransitioning:!1})}),m(E)}},[s,d,t.window]),j.useEffect(()=>{d&&s&&n.location.key===s.location.key&&d.resolve()},[d,p,n.location,s]),j.useEffect(()=>{!a.isTransitioning&&y&&(i(y.state),l({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),x(void 0))},[a.isTransitioning,y]);let C=j.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:D=>t.navigate(D),push:(D,M,E)=>t.navigate(D,{state:M,preventScrollReset:E?.preventScrollReset}),replace:(D,M,E)=>t.navigate(D,{replace:!0,state:M,preventScrollReset:E?.preventScrollReset})}),[t]),N=t.basename||"/",k=j.useMemo(()=>({router:t,navigator:C,static:!1,basename:N}),[t,C,N]);return j.createElement(j.Fragment,null,j.createElement(uc.Provider,{value:k},j.createElement(mh.Provider,{value:n},j.createElement(v5.Provider,{value:b.current},j.createElement(ww.Provider,{value:a},j.createElement(CP,{basename:N,location:n.location,navigationType:n.historyAction,navigator:C},j.createElement(vP,{routes:t.routes,future:t.future,state:n})))))),null)}var vP=j.memo(bP);function bP({routes:t,future:e,state:n}){return rP(t,void 0,n,e)}function wP({to:t,replace:e,state:n,relative:r}){hn(Mu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=j.useContext(Mi);pr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=j.useContext(Ri),{pathname:a}=Wo(),l=Hn(),d=hy(t,fy(i),a,r==="path"),f=JSON.stringify(d);return j.useEffect(()=>{l(JSON.parse(f),{replace:e,state:n,relative:r})},[l,f,r,e,n]),null}function SP(t){return nP(t.context)}function CP({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){hn(!Mu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=j.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof n=="string"&&(n=Yo(n));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:y="default"}=n,x=j.useMemo(()=>{let b=mi(d,a);return b==null?null:{location:{pathname:b,search:f,hash:p,state:m,key:y},navigationType:r}},[a,d,f,p,m,y,r]);return pr(x!=null,`<Router basename="${a}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:j.createElement(Mi.Provider,{value:l},j.createElement(py.Provider,{children:e,value:x}))}var Tm="get",Em="application/x-www-form-urlencoded";function my(t){return t!=null&&typeof t.tagName=="string"}function NP(t){return my(t)&&t.tagName.toLowerCase()==="button"}function jP(t){return my(t)&&t.tagName.toLowerCase()==="form"}function TP(t){return my(t)&&t.tagName.toLowerCase()==="input"}function EP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function AP(t,e){return t.button===0&&(!e||e==="_self")&&!EP(t)}var qp=null;function kP(){if(qp===null)try{new FormData(document.createElement("form"),0),qp=!1}catch{qp=!0}return qp}var OP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lv(t){return t!=null&&!OP.has(t)?(pr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Em}"`),null):t}function DP(t,e){let n,r,s,i,a;if(jP(t)){let l=t.getAttribute("action");r=l?mi(l,e):null,n=t.getAttribute("method")||Tm,s=lv(t.getAttribute("enctype"))||Em,i=new FormData(t)}else if(NP(t)||TP(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||l.getAttribute("action");if(r=d?mi(d,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Tm,s=lv(t.getAttribute("formenctype"))||lv(l.getAttribute("enctype"))||Em,i=new FormData(l,t),!kP()){let{name:f,type:p,value:m}=t;if(p==="image"){let y=f?`${f}.`:"";i.append(`${y}x`,"0"),i.append(`${y}y`,"0")}else f&&i.append(f,m)}}else{if(my(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Tm,r=null,s=Em,a=t}return i&&s==="text/plain"&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:a}}function jw(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function MP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function _P(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let a=await MP(i,n);return a.links?a.links():[]}return[]}));return IP(r.flat(1).filter(RP).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function PT(t,e,n,r,s,i){let a=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,l=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return i==="assets"?e.filter((d,f)=>a(d,f)||l(d,f)):i==="data"?e.filter((d,f)=>{let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(a(d,f)||l(d,f))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function LP(t,e,{includeHydrateFallback:n}={}){return PP(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function PP(t){return[...new Set(t)]}function zP(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function IP(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(zP(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var BP=new Set([100,101,204,205]);function FP(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&mi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function C5(){let t=j.useContext(uc);return jw(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function $P(){let t=j.useContext(mh);return jw(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Tw=j.createContext(void 0);Tw.displayName="FrameworkContext";function N5(){let t=j.useContext(Tw);return jw(t,"You must render this element inside a <HydratedRouter> element"),t}function UP(t,e){let n=j.useContext(Tw),[r,s]=j.useState(!1),[i,a]=j.useState(!1),{onFocus:l,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=e,y=j.useRef(null);j.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let S=N=>{N.forEach(k=>{a(k.isIntersecting)})},C=new IntersectionObserver(S,{threshold:.5});return y.current&&C.observe(y.current),()=>{C.disconnect()}}},[t]),j.useEffect(()=>{if(r){let S=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(S)}}},[r]);let x=()=>{s(!0)},b=()=>{s(!1),a(!1)};return n?t!=="intent"?[i,y,{}]:[i,y,{onFocus:qd(l,x),onBlur:qd(d,b),onMouseEnter:qd(f,x),onMouseLeave:qd(p,b),onTouchStart:qd(m,x)}]:[!1,y,{}]}function qd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function VP({page:t,...e}){let{router:n}=C5(),r=j.useMemo(()=>To(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?j.createElement(qP,{page:t,matches:r,...e}):null}function HP(t){let{manifest:e,routeModules:n}=N5(),[r,s]=j.useState([]);return j.useEffect(()=>{let i=!1;return _P(t,e,n).then(a=>{i||s(a)}),()=>{i=!0}},[t,e,n]),r}function qP({page:t,matches:e,...n}){let r=Wo(),{manifest:s,routeModules:i}=N5(),{basename:a}=C5(),{loaderData:l,matches:d}=$P(),f=j.useMemo(()=>PT(t,e,d,s,r,"data"),[t,e,d,s,r]),p=j.useMemo(()=>PT(t,e,d,s,r,"assets"),[t,e,d,s,r]),m=j.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let b=new Set,S=!1;if(e.forEach(N=>{let k=s.routes[N.route.id];!k||!k.hasLoader||(!f.some(D=>D.route.id===N.route.id)&&N.route.id in l&&i[N.route.id]?.shouldRevalidate||k.hasClientLoader?S=!0:b.add(N.route.id))}),b.size===0)return[];let C=FP(t,a);return S&&b.size>0&&C.searchParams.set("_routes",e.filter(N=>b.has(N.route.id)).map(N=>N.route.id).join(",")),[C.pathname+C.search]},[a,l,r,s,f,e,t,i]),y=j.useMemo(()=>LP(p,s),[p,s]),x=HP(p);return j.createElement(j.Fragment,null,m.map(b=>j.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),y.map(b=>j.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),x.map(({key:b,link:S})=>j.createElement("link",{key:b,...S})))}function KP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var j5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{j5&&(window.__reactRouterVersion="7.6.2")}catch{}function YP(t,e){return R7({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:e7({window:e?.window}),hydrationData:WP(),routes:t,mapRouteProperties:mP,hydrationRouteProperties:gP,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function WP(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:GP(t.errors)}),t}function GP(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new Jm(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let a=new i(s.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let i=new Error(s.message);i.stack="",n[r]=i}}else n[r]=s;return n}var T5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,E5=j.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:a,state:l,target:d,to:f,preventScrollReset:p,viewTransition:m,...y},x){let{basename:b}=j.useContext(Mi),S=typeof f=="string"&&T5.test(f),C,N=!1;if(typeof f=="string"&&S&&(C=f,j5))try{let ee=new URL(window.location.href),be=f.startsWith("//")?new URL(ee.protocol+f):new URL(f),ce=mi(be.pathname,b);be.origin===ee.origin&&ce!=null?f=ce+be.search+be.hash:N=!0}catch{pr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=Z7(f,{relative:s}),[D,M,E]=UP(r,y),A=QP(f,{replace:a,state:l,target:d,preventScrollReset:p,relative:s,viewTransition:m});function P(ee){e&&e(ee),ee.defaultPrevented||A(ee)}let F=j.createElement("a",{...y,...E,href:C||k,onClick:N||i?e:P,ref:KP(x,M),target:d,"data-discover":!S&&n==="render"?"true":void 0});return D&&!S?j.createElement(j.Fragment,null,F,j.createElement(VP,{page:k})):F});E5.displayName="Link";var A5=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:a,viewTransition:l,children:d,...f},p){let m=gh(a,{relative:f.relative}),y=Wo(),x=j.useContext(mh),{navigator:b,basename:S}=j.useContext(Mi),C=x!=null&&r9(m)&&l===!0,N=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,k=y.pathname,D=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(k=k.toLowerCase(),D=D?D.toLowerCase():null,N=N.toLowerCase()),D&&S&&(D=mi(D,S)||D);const M=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let E=k===N||!s&&k.startsWith(N)&&k.charAt(M)==="/",A=D!=null&&(D===N||!s&&D.startsWith(N)&&D.charAt(N.length)==="/"),P={isActive:E,isPending:A,isTransitioning:C},F=E?e:void 0,ee;typeof r=="function"?ee=r(P):ee=[r,E?"active":null,A?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let be=typeof i=="function"?i(P):i;return j.createElement(E5,{...f,"aria-current":F,className:ee,ref:p,style:be,to:a,viewTransition:l},typeof d=="function"?d(P):d)});A5.displayName="NavLink";var XP=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:a=Tm,action:l,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:m,...y},x)=>{let b=t9(),S=n9(l,{relative:f}),C=a.toLowerCase()==="get"?"get":"post",N=typeof l=="string"&&T5.test(l),k=D=>{if(d&&d(D),D.defaultPrevented)return;D.preventDefault();let M=D.nativeEvent.submitter,E=M?.getAttribute("formmethod")||a;b(M||D.currentTarget,{fetcherKey:e,method:E,navigate:n,replace:s,state:i,relative:f,preventScrollReset:p,viewTransition:m})};return j.createElement("form",{ref:x,method:C,action:S,onSubmit:r?d:k,...y,"data-discover":!N&&t==="render"?"true":void 0})});XP.displayName="Form";function JP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function k5(t){let e=j.useContext(uc);return hn(e,JP(t)),e}function QP(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:a}={}){let l=Hn(),d=Wo(),f=gh(t,{relative:i});return j.useCallback(p=>{if(AP(p,e)){p.preventDefault();let m=n!==void 0?n:$o(d)===$o(f);l(t,{replace:m,state:r,preventScrollReset:s,relative:i,viewTransition:a})}},[d,l,f,n,r,e,t,s,i,a])}var ZP=0,e9=()=>`__${String(++ZP)}__`;function t9(){let{router:t}=k5("useSubmit"),{basename:e}=j.useContext(Mi),n=fP();return j.useCallback(async(r,s={})=>{let{action:i,method:a,encType:l,formData:d,body:f}=DP(r,e);if(s.navigate===!1){let p=s.fetcherKey||e9();await t.fetch(p,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||a,formEncType:s.encType||l,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||a,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function n9(t,{relative:e}={}){let{basename:n}=j.useContext(Mi),r=j.useContext(Ri);hn(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...gh(t||".",{relative:e})},a=Wo();if(t==null){i.search=a.search;let l=new URLSearchParams(i.search),d=l.getAll("index");if(d.some(p=>p==="")){l.delete("index"),d.filter(m=>m).forEach(m=>l.append("index",m));let p=l.toString();i.search=p?`?${p}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Ji([n,i.pathname])),$o(i)}function r9(t,e={}){let n=j.useContext(ww);hn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=k5("useViewTransitionState"),s=gh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=mi(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=mi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Xm(s.pathname,a)!=null||Xm(s.pathname,i)!=null}[...BP];var Ew=r5();const O5=Ka(Ew);function s9(t){return j.createElement(xP,{flushSync:Ew.flushSync,...t})}const D5="/assets/Logo-DEFM2MOm.png";var cv,zT;function i9(){if(zT)return cv;zT=1;function t(N){this._maxSize=N,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(N){return this._values[N]},t.prototype.set=function(N,k){return this._size>=this._maxSize&&this.clear(),N in this._values||this._size++,this._values[N]=k};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,r=/^\d/,s=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,i=/^\s*(['"]?)(.*?)(\1)\s*$/,a=512,l=new t(a),d=new t(a),f=new t(a);cv={Cache:t,split:m,normalizePath:p,setter:function(N){var k=p(N);return d.get(N)||d.set(N,function(M,E){for(var A=0,P=k.length,F=M;A<P-1;){var ee=k[A];if(ee==="__proto__"||ee==="constructor"||ee==="prototype")return M;F=F[k[A++]]}F[k[A]]=E})},getter:function(N,k){var D=p(N);return f.get(N)||f.set(N,function(E){for(var A=0,P=D.length;A<P;)if(E!=null||!k)E=E[D[A++]];else return;return E})},join:function(N){return N.reduce(function(k,D){return k+(x(D)||n.test(D)?"["+D+"]":(k?".":"")+D)},"")},forEach:function(N,k,D){y(Array.isArray(N)?N:m(N),k,D)}};function p(N){return l.get(N)||l.set(N,m(N).map(function(k){return k.replace(i,"$2")}))}function m(N){return N.match(e)||[""]}function y(N,k,D){var M=N.length,E,A,P,F;for(A=0;A<M;A++)E=N[A],E&&(C(E)&&(E='"'+E+'"'),F=x(E),P=!F&&/^\d+$/.test(E),k.call(D,E,F,P,A,N))}function x(N){return typeof N=="string"&&N&&["'",'"'].indexOf(N.charAt(0))!==-1}function b(N){return N.match(r)&&!N.match(n)}function S(N){return s.test(N)}function C(N){return!x(N)&&(b(N)||S(N))}return cv}var $l=i9(),uv,IT;function a9(){if(IT)return uv;IT=1;const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=p=>p.match(t)||[],n=p=>p[0].toUpperCase()+p.slice(1),r=(p,m)=>e(p).join(m).toLowerCase(),s=p=>e(p).reduce((m,y)=>`${m}${m?y[0].toUpperCase()+y.slice(1).toLowerCase():y.toLowerCase()}`,"");return uv={words:e,upperFirst:n,camelCase:s,pascalCase:p=>n(s(p)),snakeCase:p=>r(p,"_"),kebabCase:p=>r(p,"-"),sentenceCase:p=>n(r(p," ")),titleCase:p=>e(p).map(n).join(" ")},uv}var dv=a9(),Kp={exports:{}},BT;function o9(){if(BT)return Kp.exports;BT=1,Kp.exports=function(s){return t(e(s),s)},Kp.exports.array=t;function t(s,i){var a=s.length,l=new Array(a),d={},f=a,p=n(i),m=r(s);for(i.forEach(function(x){if(!m.has(x[0])||!m.has(x[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});f--;)d[f]||y(s[f],f,new Set);return l;function y(x,b,S){if(S.has(x)){var C;try{C=", node was:"+JSON.stringify(x)}catch{C=""}throw new Error("Cyclic dependency"+C)}if(!m.has(x))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(x));if(!d[b]){d[b]=!0;var N=p.get(x)||new Set;if(N=Array.from(N),b=N.length){S.add(x);do{var k=N[--b];y(k,m.get(k),S)}while(b);S.delete(x)}l[--a]=x}}}function e(s){for(var i=new Set,a=0,l=s.length;a<l;a++){var d=s[a];i.add(d[0]),i.add(d[1])}return Array.from(i)}function n(s){for(var i=new Map,a=0,l=s.length;a<l;a++){var d=s[a];i.has(d[0])||i.set(d[0],new Set),i.has(d[1])||i.set(d[1],new Set),i.get(d[0]).add(d[1])}return i}function r(s){for(var i=new Map,a=0,l=s.length;a<l;a++)i.set(s[a],a);return i}return Kp.exports}var l9=o9();const c9=Ka(l9),u9=Object.prototype.toString,d9=Error.prototype.toString,f9=RegExp.prototype.toString,h9=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",p9=/^Symbol\((.*)\)(.*)$/;function m9(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function FT(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return m9(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return h9.call(t).replace(p9,"Symbol($1)");const r=u9.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+d9.call(t)+"]":r==="RegExp"?f9.call(t):null}function Lo(t,e){let n=FT(t,e);return n!==null?n:JSON.stringify(t,function(r,s){let i=FT(this[r],e);return i!==null?i:s},2)}function M5(t){return t==null?[]:[].concat(t)}let R5,_5,L5,g9=/\$\{\s*(\w+)\s*\}/g;R5=Symbol.toStringTag;class $T{constructor(e,n,r,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[R5]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=s,this.errors=[],this.inner=[],M5(e).forEach(i=>{if(Ss.isError(i)){this.errors.push(...i.errors);const a=i.inner.length?i.inner:[i];this.inner.push(...a)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}_5=Symbol.hasInstance;L5=Symbol.toStringTag;class Ss extends Error{static formatError(e,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof e=="string"?e.replace(g9,(s,i)=>Lo(n[i])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,s,i){const a=new $T(e,n,r,s);if(i)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[L5]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Ss)}static[_5](e){return $T[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Ki={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const s=r!=null&&r!==n?` (cast from the value \`${Lo(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Lo(n,!0)}\``+s:`${t} must match the configured type. The validated value was: \`${Lo(n,!0)}\``+s}},vs={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},y9={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Ob={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},x9={isValue:"${path} field must be ${value}"},Am={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},v9={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},b9={notType:t=>{const{path:e,value:n,spec:r}=t,s=r.types.length;if(Array.isArray(n)){if(n.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${n.length} for value: \`${Lo(n,!0)}\``;if(n.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${n.length} for value: \`${Lo(n,!0)}\``}return Ss.formatError(Ki.notType,t)}};Object.assign(Object.create(null),{mixed:Ki,string:vs,number:y9,date:Ob,object:Am,array:v9,boolean:x9,tuple:b9});const Aw=t=>t&&t.__isYupSchema__;class Zm{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:s,otherwise:i}=n,a=typeof r=="function"?r:(...l)=>l.every(d=>d===r);return new Zm(e,(l,d)=>{var f;let p=a(...l)?s:i;return(f=p?.(d))!=null?f:d})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(i=>i.getValue(n?.value,n?.parent,n?.context)),s=this.fn(r,e,n);if(s===void 0||s===e)return e;if(!Aw(s))throw new TypeError("conditions must return a schema object");return s.resolve(n)}}const Yp={context:"$",value:"."};class dc{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Yp.context,this.isValue=this.key[0]===Yp.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?Yp.context:this.isValue?Yp.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&$l.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let s=this.isContext?r:this.isValue?e:n;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,n){return this.getValue(e,n?.parent,n?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}dc.prototype.__isYupRef=!0;const Ml=t=>t==null;function Wc(t){function e({value:n,path:r="",options:s,originalValue:i,schema:a},l,d){const{name:f,test:p,params:m,message:y,skipAbsent:x}=t;let{parent:b,context:S,abortEarly:C=a.spec.abortEarly,disableStackTrace:N=a.spec.disableStackTrace}=s;function k(ce){return dc.isRef(ce)?ce.getValue(n,b,S):ce}function D(ce={}){const ae=Object.assign({value:n,originalValue:i,label:a.spec.label,path:ce.path||r,spec:a.spec,disableStackTrace:ce.disableStackTrace||N},m,ce.params);for(const ke of Object.keys(ae))ae[ke]=k(ae[ke]);const te=new Ss(Ss.formatError(ce.message||y,ae),n,ae.path,ce.type||f,ae.disableStackTrace);return te.params=ae,te}const M=C?l:d;let E={path:r,parent:b,type:f,from:s.from,createError:D,resolve:k,options:s,originalValue:i,schema:a};const A=ce=>{Ss.isError(ce)?M(ce):ce?d(null):M(D())},P=ce=>{Ss.isError(ce)?M(ce):l(ce)};if(x&&Ml(n))return A(!0);let ee;try{var be;if(ee=p.call(E,n,E),typeof((be=ee)==null?void 0:be.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${E.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(ee).then(A,P)}}catch(ce){P(ce);return}A(ee)}return e.OPTIONS=t,e}function w9(t,e,n,r=n){let s,i,a;return e?($l.forEach(e,(l,d,f)=>{let p=d?l.slice(1,l.length-1):l;t=t.resolve({context:r,parent:s,value:n});let m=t.type==="tuple",y=f?parseInt(p,10):0;if(t.innerType||m){if(m&&!f)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(n&&y>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);s=n,n=n&&n[y],t=m?t.spec.types[y]:t.innerType}if(!f){if(!t.fields||!t.fields[p])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${a} which is a type: "${t.type}")`);s=n,n=n&&n[p],t=t.fields[p]}i=p,a=d?"["+l+"]":"."+l}),{schema:t,parent:s,parentPath:i}):{parent:s,parentPath:e,schema:t}}class eg extends Set{describe(){const e=[];for(const n of this.values())e.push(dc.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new eg(this.values())}merge(e,n){const r=this.clone();return e.forEach(s=>r.add(s)),n.forEach(s=>r.delete(s)),r}}function iu(t,e=new Map){if(Aw(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=iu(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,s]of t.entries())n.set(r,iu(s,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(iu(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,s]of Object.entries(t))n[r]=iu(s,e)}else throw Error(`Unable to clone ${t}`);return n}let ra=class{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new eg,this._blacklist=new eg,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Ki.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e?.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=iu(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const s=Object.assign({},n.spec,r.spec);return r.spec=s,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(i=>{e.tests.forEach(a=>{i.test(a.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((s,i)=>i.resolve(s,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,s,i;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive,disableStackTrace:(i=e.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),s=n.assert==="ignore-optionality",i=r._cast(e,n);if(n.assert!==!1&&!r.isType(i)){if(s&&Ml(i))return i;let a=Lo(e),l=Lo(i);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${a} 
`+(l!==a?`result of cast: ${l}`:""))}return i}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((s,i)=>i.call(this,s,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,s){let{path:i,originalValue:a=e,strict:l=this.spec.strict}=n,d=e;l||(d=this._cast(d,Object.assign({assert:!1},n)));let f=[];for(let p of Object.values(this.internalTests))p&&f.push(p);this.runTests({path:i,value:d,originalValue:a,options:n,tests:f},r,p=>{if(p.length)return s(p,d);this.runTests({path:i,value:d,originalValue:a,options:n,tests:this.tests},r,s)})}runTests(e,n,r){let s=!1,{tests:i,value:a,originalValue:l,path:d,options:f}=e,p=S=>{s||(s=!0,n(S,a))},m=S=>{s||(s=!0,r(S,a))},y=i.length,x=[];if(!y)return m([]);let b={value:a,originalValue:l,path:d,options:f,schema:this};for(let S=0;S<i.length;S++){const C=i[S];C(b,p,function(k){k&&(Array.isArray(k)?x.push(...k):x.push(k)),--y<=0&&m(x)})}}asNestedTest({key:e,index:n,parent:r,parentPath:s,originalParent:i,options:a}){const l=e??n;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const d=typeof l=="number";let f=r[l];const p=Object.assign({},a,{strict:!0,parent:r,value:f,originalValue:i[l],key:void 0,[d?"index":"key"]:l,path:d||l.includes(".")?`${s||""}[${d?l:`"${l}"`}]`:(s?`${s}.`:"")+e});return(m,y,x)=>this.resolve(p)._validate(f,p,y,x)}validate(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),i=(r=n?.disableStackTrace)!=null?r:s.spec.disableStackTrace;return new Promise((a,l)=>s._validate(e,n,(d,f)=>{Ss.isError(d)&&(d.value=f),l(d)},(d,f)=>{d.length?l(new Ss(d,f,void 0,void 0,i)):a(f)}))}validateSync(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),i,a=(r=n?.disableStackTrace)!=null?r:s.spec.disableStackTrace;return s._validate(e,Object.assign({},n,{sync:!0}),(l,d)=>{throw Ss.isError(l)&&(l.value=d),l},(l,d)=>{if(l.length)throw new Ss(l,e,void 0,void 0,a);i=d}),i}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(Ss.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(Ss.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):iu(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=Wc({message:n,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=Wc({message:n,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=Ki.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Ki.notNull){return this.nullability(!1,e)}required(e=Ki.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Ki.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),s=Wc(n),i=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(a=>!(a.OPTIONS.name===n.name&&(i||a.OPTIONS.test===s.OPTIONS.test))),r.tests.push(s),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),s=M5(e).map(i=>new dc(i));return s.forEach(i=>{i.isSibling&&r.deps.push(i.key)}),r.conditions.push(typeof n=="function"?new Zm(s,n):Zm.fromOptions(s,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=Wc({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=Ki.oneOf){let r=this.clone();return e.forEach(s=>{r._whitelist.add(s),r._blacklist.delete(s)}),r.internalTests.whiteList=Wc({message:n,name:"oneOf",skipAbsent:!0,test(s){let i=this.schema._whitelist,a=i.resolveAll(this.resolve);return a.includes(s)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:a}})}}),r}notOneOf(e,n=Ki.notOneOf){let r=this.clone();return e.forEach(s=>{r._blacklist.add(s),r._whitelist.delete(s)}),r.internalTests.blacklist=Wc({message:n,name:"notOneOf",test(s){let i=this.schema._blacklist,a=i.resolveAll(this.resolve);return a.includes(s)?this.createError({params:{values:Array.from(i).join(", "),resolved:a}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:s,optional:i,nullable:a}=n.spec;return{meta:s,label:r,optional:i,nullable:a,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(d=>({name:d.OPTIONS.name,params:d.OPTIONS.params})).filter((d,f,p)=>p.findIndex(m=>m.name===d.name)===f)}}};ra.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])ra.prototype[`${t}At`]=function(e,n,r={}){const{parent:s,parentPath:i,schema:a}=w9(this,e,n,r.context);return a[t](s&&s[i],Object.assign({},r,{parent:s,path:e}))};for(const t of["equals","is"])ra.prototype[t]=ra.prototype.oneOf;for(const t of["not","nope"])ra.prototype[t]=ra.prototype.notOneOf;const S9=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function C9(t){const e=Db(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function Db(t){var e,n;const r=S9.exec(t);return r?{year:Ta(r[1]),month:Ta(r[2],1)-1,day:Ta(r[3],1),hour:Ta(r[4]),minute:Ta(r[5]),second:Ta(r[6]),millisecond:r[7]?Ta(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Ta(r[10]),minuteOffset:Ta(r[11])}:null}function Ta(t,e=0){return Number(t)||e}let N9=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,j9=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,T9=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,E9="^\\d{4}-\\d{2}-\\d{2}",A9="\\d{2}:\\d{2}:\\d{2}",k9="(([+-]\\d{2}(:?\\d{2})?)|Z)",O9=new RegExp(`${E9}T${A9}(\\.\\d+)?${k9}$`),D9=t=>Ml(t)||t===t.trim(),M9={}.toString();function Mb(){return new P5}class P5 extends ra{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const s=e!=null&&e.toString?e.toString():e;return s===M9?e:s})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||Ki.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=vs.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=vs.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=vs.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,s,i;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:s,name:i}=n:s=n),this.test({name:i||"matches",message:s||vs.matches,params:{regex:e},skipAbsent:!0,test:a=>a===""&&r||a.search(e)!==-1})}email(e=vs.email){return this.matches(N9,{name:"email",message:e,excludeEmptyString:!0})}url(e=vs.url){return this.matches(j9,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=vs.uuid){return this.matches(T9,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,s;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:s=void 0}=e:n=e),this.matches(O9,{name:"datetime",message:n||vs.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||vs.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:i=>{if(!i||r)return!0;const a=Db(i);return a?!!a.z:!1}}).test({name:"datetime_precision",message:n||vs.datetime_precision,params:{precision:s},skipAbsent:!0,test:i=>{if(!i||s==null)return!0;const a=Db(i);return a?a.precision===s:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=vs.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:D9})}lowercase(e=vs.lowercase){return this.transform(n=>Ml(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ml(n)||n===n.toLowerCase()})}uppercase(e=vs.uppercase){return this.transform(n=>Ml(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ml(n)||n===n.toUpperCase()})}}Mb.prototype=P5.prototype;let R9=new Date(""),_9=t=>Object.prototype.toString.call(t)==="[object Date]";class kw extends ra{constructor(){super({type:"date",check(e){return _9(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=C9(e),isNaN(e)?kw.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(dc.isRef(e))r=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=s}return r}min(e,n=Ob.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(r)}})}max(e,n=Ob.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(r)}})}}kw.INVALID_DATE=R9;function L9(t,e=[]){let n=[],r=new Set,s=new Set(e.map(([a,l])=>`${a}-${l}`));function i(a,l){let d=$l.split(a)[0];r.add(d),s.has(`${l}-${d}`)||n.push([l,d])}for(const a of Object.keys(t)){let l=t[a];r.add(a),dc.isRef(l)&&l.isSibling?i(l.path,a):Aw(l)&&"deps"in l&&l.deps.forEach(d=>i(d,a))}return c9.array(Array.from(r),n).reverse()}function UT(t,e){let n=1/0;return t.some((r,s)=>{var i;if((i=e.path)!=null&&i.includes(r))return n=s,!0}),n}function z5(t){return(e,n)=>UT(t,e)-UT(t,n)}const P9=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function km(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=km(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=km(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(km)}):"optional"in t?t.optional():t}const z9=(t,e)=>{const n=[...$l.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),s=$l.getter($l.join(n),!0)(t);return!!(s&&r in s)};let VT=t=>Object.prototype.toString.call(t)==="[object Object]";function HT(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const I9=z5([]);function I5(t){return new B5(t)}class B5 extends ra{constructor(e){super({type:"object",check(n){return VT(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=I9,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let s=super._cast(e,n);if(s===void 0)return this.getDefault(n);if(!this._typeCheck(s))return s;let i=this.fields,a=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(s).filter(m=>!this._nodes.includes(m))),d={},f=Object.assign({},n,{parent:d,__validating:n.__validating||!1}),p=!1;for(const m of l){let y=i[m],x=m in s;if(y){let b,S=s[m];f.path=(n.path?`${n.path}.`:"")+m,y=y.resolve({value:S,context:n.context,parent:d});let C=y instanceof ra?y.spec:void 0,N=C?.strict;if(C!=null&&C.strip){p=p||m in s;continue}b=!n.__validating||!N?y.cast(s[m],f):s[m],b!==void 0&&(d[m]=b)}else x&&!a&&(d[m]=s[m]);(x!==m in d||d[m]!==s[m])&&(p=!0)}return p?d:s}_validate(e,n={},r,s){let{from:i=[],originalValue:a=e,recursive:l=this.spec.recursive}=n;n.from=[{schema:this,value:a},...i],n.__validating=!0,n.originalValue=a,super._validate(e,n,r,(d,f)=>{if(!l||!VT(f)){s(d,f);return}a=a||f;let p=[];for(let m of this._nodes){let y=this.fields[m];!y||dc.isRef(y)||p.push(y.asNestedTest({options:n,key:m,parent:f,parentPath:n.path,originalParent:a}))}this.runTests({tests:p,value:f,originalValue:a,options:n},r,m=>{s(m.sort(this._sortErrors).concat(d),f)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[s,i]of Object.entries(this.fields)){const a=r[s];r[s]=a===void 0?i:a}return n.withMutation(s=>s.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var s;const i=this.fields[r];let a=e;(s=a)!=null&&s.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[r]})),n[r]=i&&"getDefault"in i?i.getDefault(a):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=L9(e,n),r._sortErrors=z5(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let s=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),s=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),s)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return km(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,s])=>e.includes(r)&&e.includes(s)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let s=$l.getter(e,!0);return this.transform(i=>{if(!i)return i;let a=i;return z9(i,e)&&(a=Object.assign({},i),r||delete a[e],a[n]=s(i)),a})}json(){return this.transform(P9)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Am.exact,test(n){if(n==null)return!0;const r=HT(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=Am.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(s){if(s==null)return!0;const i=HT(this.schema,s);return!e||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=Am.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const s of Object.keys(n))r[e(s)]=n[s];return r})}camelCase(){return this.transformKeys(dv.camelCase)}snakeCase(){return this.transformKeys(dv.snakeCase)}constantCase(){return this.transformKeys(e=>dv.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[i,a]of Object.entries(n.fields)){var s;let l=e;(s=l)!=null&&s.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[i]})),r.fields[i]=a.describe(l)}return r}}I5.prototype=B5.prototype;var B9=function(e){return F9(e)&&!$9(e)};function F9(t){return!!t&&typeof t=="object"}function $9(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||H9(t)}var U9=typeof Symbol=="function"&&Symbol.for,V9=U9?Symbol.for("react.element"):60103;function H9(t){return t.$$typeof===V9}function q9(t){return Array.isArray(t)?[]:{}}function tg(t,e){return e.clone!==!1&&e.isMergeableObject(t)?If(q9(t),t,e):t}function K9(t,e,n){return t.concat(e).map(function(r){return tg(r,n)})}function Y9(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(s){r[s]=tg(t[s],n)}),Object.keys(e).forEach(function(s){!n.isMergeableObject(e[s])||!t[s]?r[s]=tg(e[s],n):r[s]=If(t[s],e[s],n)}),r}function If(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||K9,n.isMergeableObject=n.isMergeableObject||B9;var r=Array.isArray(e),s=Array.isArray(t),i=r===s;return i?r?n.arrayMerge(t,e,n):Y9(t,e,n):tg(e,n)}If.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,s){return If(r,s,n)},{})};var Rb=If,F5=typeof global=="object"&&global&&global.Object===Object&&global,W9=typeof self=="object"&&self&&self.Object===Object&&self,ca=F5||W9||Function("return this")(),Uo=ca.Symbol,$5=Object.prototype,G9=$5.hasOwnProperty,X9=$5.toString,Kd=Uo?Uo.toStringTag:void 0;function J9(t){var e=G9.call(t,Kd),n=t[Kd];try{t[Kd]=void 0;var r=!0}catch{}var s=X9.call(t);return r&&(e?t[Kd]=n:delete t[Kd]),s}var Q9=Object.prototype,Z9=Q9.toString;function ez(t){return Z9.call(t)}var tz="[object Null]",nz="[object Undefined]",qT=Uo?Uo.toStringTag:void 0;function fc(t){return t==null?t===void 0?nz:tz:qT&&qT in Object(t)?J9(t):ez(t)}function U5(t,e){return function(n){return t(e(n))}}var Ow=U5(Object.getPrototypeOf,Object);function hc(t){return t!=null&&typeof t=="object"}var rz="[object Object]",sz=Function.prototype,iz=Object.prototype,V5=sz.toString,az=iz.hasOwnProperty,oz=V5.call(Object);function KT(t){if(!hc(t)||fc(t)!=rz)return!1;var e=Ow(t);if(e===null)return!0;var n=az.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&V5.call(n)==oz}function lz(){this.__data__=[],this.size=0}function H5(t,e){return t===e||t!==t&&e!==e}function gy(t,e){for(var n=t.length;n--;)if(H5(t[n][0],e))return n;return-1}var cz=Array.prototype,uz=cz.splice;function dz(t){var e=this.__data__,n=gy(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():uz.call(e,n,1),--this.size,!0}function fz(t){var e=this.__data__,n=gy(e,t);return n<0?void 0:e[n][1]}function hz(t){return gy(this.__data__,t)>-1}function pz(t,e){var n=this.__data__,r=gy(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Ya(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ya.prototype.clear=lz;Ya.prototype.delete=dz;Ya.prototype.get=fz;Ya.prototype.has=hz;Ya.prototype.set=pz;function mz(){this.__data__=new Ya,this.size=0}function gz(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function yz(t){return this.__data__.get(t)}function xz(t){return this.__data__.has(t)}function yh(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var vz="[object AsyncFunction]",bz="[object Function]",wz="[object GeneratorFunction]",Sz="[object Proxy]";function q5(t){if(!yh(t))return!1;var e=fc(t);return e==bz||e==wz||e==vz||e==Sz}var fv=ca["__core-js_shared__"],YT=function(){var t=/[^.]+$/.exec(fv&&fv.keys&&fv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Cz(t){return!!YT&&YT in t}var Nz=Function.prototype,jz=Nz.toString;function pc(t){if(t!=null){try{return jz.call(t)}catch{}try{return t+""}catch{}}return""}var Tz=/[\\^$.*+?()[\]{}|]/g,Ez=/^\[object .+?Constructor\]$/,Az=Function.prototype,kz=Object.prototype,Oz=Az.toString,Dz=kz.hasOwnProperty,Mz=RegExp("^"+Oz.call(Dz).replace(Tz,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Rz(t){if(!yh(t)||Cz(t))return!1;var e=q5(t)?Mz:Ez;return e.test(pc(t))}function _z(t,e){return t?.[e]}function mc(t,e){var n=_z(t,e);return Rz(n)?n:void 0}var Bf=mc(ca,"Map"),Ff=mc(Object,"create");function Lz(){this.__data__=Ff?Ff(null):{},this.size=0}function Pz(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var zz="__lodash_hash_undefined__",Iz=Object.prototype,Bz=Iz.hasOwnProperty;function Fz(t){var e=this.__data__;if(Ff){var n=e[t];return n===zz?void 0:n}return Bz.call(e,t)?e[t]:void 0}var $z=Object.prototype,Uz=$z.hasOwnProperty;function Vz(t){var e=this.__data__;return Ff?e[t]!==void 0:Uz.call(e,t)}var Hz="__lodash_hash_undefined__";function qz(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ff&&e===void 0?Hz:e,this}function Zl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Zl.prototype.clear=Lz;Zl.prototype.delete=Pz;Zl.prototype.get=Fz;Zl.prototype.has=Vz;Zl.prototype.set=qz;function Kz(){this.size=0,this.__data__={hash:new Zl,map:new(Bf||Ya),string:new Zl}}function Yz(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function yy(t,e){var n=t.__data__;return Yz(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Wz(t){var e=yy(this,t).delete(t);return this.size-=e?1:0,e}function Gz(t){return yy(this,t).get(t)}function Xz(t){return yy(this,t).has(t)}function Jz(t,e){var n=yy(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Go(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Go.prototype.clear=Kz;Go.prototype.delete=Wz;Go.prototype.get=Gz;Go.prototype.has=Xz;Go.prototype.set=Jz;var Qz=200;function Zz(t,e){var n=this.__data__;if(n instanceof Ya){var r=n.__data__;if(!Bf||r.length<Qz-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Go(r)}return n.set(t,e),this.size=n.size,this}function Ru(t){var e=this.__data__=new Ya(t);this.size=e.size}Ru.prototype.clear=mz;Ru.prototype.delete=gz;Ru.prototype.get=yz;Ru.prototype.has=xz;Ru.prototype.set=Zz;function eI(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var WT=function(){try{var t=mc(Object,"defineProperty");return t({},"",{}),t}catch{}}();function K5(t,e,n){e=="__proto__"&&WT?WT(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var tI=Object.prototype,nI=tI.hasOwnProperty;function Y5(t,e,n){var r=t[e];(!(nI.call(t,e)&&H5(r,n))||n===void 0&&!(e in t))&&K5(t,e,n)}function xy(t,e,n,r){var s=!n;n||(n={});for(var i=-1,a=e.length;++i<a;){var l=e[i],d=void 0;d===void 0&&(d=t[l]),s?K5(n,l,d):Y5(n,l,d)}return n}function rI(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var sI="[object Arguments]";function GT(t){return hc(t)&&fc(t)==sI}var W5=Object.prototype,iI=W5.hasOwnProperty,aI=W5.propertyIsEnumerable,oI=GT(function(){return arguments}())?GT:function(t){return hc(t)&&iI.call(t,"callee")&&!aI.call(t,"callee")},xh=Array.isArray;function lI(){return!1}var G5=typeof Vs=="object"&&Vs&&!Vs.nodeType&&Vs,XT=G5&&typeof Hs=="object"&&Hs&&!Hs.nodeType&&Hs,cI=XT&&XT.exports===G5,JT=cI?ca.Buffer:void 0,uI=JT?JT.isBuffer:void 0,X5=uI||lI,dI=9007199254740991,fI=/^(?:0|[1-9]\d*)$/;function hI(t,e){var n=typeof t;return e=e??dI,!!e&&(n=="number"||n!="symbol"&&fI.test(t))&&t>-1&&t%1==0&&t<e}var pI=9007199254740991;function J5(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=pI}var mI="[object Arguments]",gI="[object Array]",yI="[object Boolean]",xI="[object Date]",vI="[object Error]",bI="[object Function]",wI="[object Map]",SI="[object Number]",CI="[object Object]",NI="[object RegExp]",jI="[object Set]",TI="[object String]",EI="[object WeakMap]",AI="[object ArrayBuffer]",kI="[object DataView]",OI="[object Float32Array]",DI="[object Float64Array]",MI="[object Int8Array]",RI="[object Int16Array]",_I="[object Int32Array]",LI="[object Uint8Array]",PI="[object Uint8ClampedArray]",zI="[object Uint16Array]",II="[object Uint32Array]",$n={};$n[OI]=$n[DI]=$n[MI]=$n[RI]=$n[_I]=$n[LI]=$n[PI]=$n[zI]=$n[II]=!0;$n[mI]=$n[gI]=$n[AI]=$n[yI]=$n[kI]=$n[xI]=$n[vI]=$n[bI]=$n[wI]=$n[SI]=$n[CI]=$n[NI]=$n[jI]=$n[TI]=$n[EI]=!1;function BI(t){return hc(t)&&J5(t.length)&&!!$n[fc(t)]}function Dw(t){return function(e){return t(e)}}var Q5=typeof Vs=="object"&&Vs&&!Vs.nodeType&&Vs,df=Q5&&typeof Hs=="object"&&Hs&&!Hs.nodeType&&Hs,FI=df&&df.exports===Q5,hv=FI&&F5.process,yu=function(){try{var t=df&&df.require&&df.require("util").types;return t||hv&&hv.binding&&hv.binding("util")}catch{}}(),QT=yu&&yu.isTypedArray,$I=QT?Dw(QT):BI,UI=Object.prototype,VI=UI.hasOwnProperty;function Z5(t,e){var n=xh(t),r=!n&&oI(t),s=!n&&!r&&X5(t),i=!n&&!r&&!s&&$I(t),a=n||r||s||i,l=a?rI(t.length,String):[],d=l.length;for(var f in t)(e||VI.call(t,f))&&!(a&&(f=="length"||s&&(f=="offset"||f=="parent")||i&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||hI(f,d)))&&l.push(f);return l}var HI=Object.prototype;function Mw(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||HI;return t===n}var qI=U5(Object.keys,Object),KI=Object.prototype,YI=KI.hasOwnProperty;function WI(t){if(!Mw(t))return qI(t);var e=[];for(var n in Object(t))YI.call(t,n)&&n!="constructor"&&e.push(n);return e}function eO(t){return t!=null&&J5(t.length)&&!q5(t)}function Rw(t){return eO(t)?Z5(t):WI(t)}function GI(t,e){return t&&xy(e,Rw(e),t)}function XI(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var JI=Object.prototype,QI=JI.hasOwnProperty;function ZI(t){if(!yh(t))return XI(t);var e=Mw(t),n=[];for(var r in t)r=="constructor"&&(e||!QI.call(t,r))||n.push(r);return n}function _w(t){return eO(t)?Z5(t,!0):ZI(t)}function eB(t,e){return t&&xy(e,_w(e),t)}var tO=typeof Vs=="object"&&Vs&&!Vs.nodeType&&Vs,ZT=tO&&typeof Hs=="object"&&Hs&&!Hs.nodeType&&Hs,tB=ZT&&ZT.exports===tO,eE=tB?ca.Buffer:void 0,tE=eE?eE.allocUnsafe:void 0;function nB(t,e){if(e)return t.slice();var n=t.length,r=tE?tE(n):new t.constructor(n);return t.copy(r),r}function nO(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function rB(t,e){for(var n=-1,r=t==null?0:t.length,s=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[s++]=a)}return i}function rO(){return[]}var sB=Object.prototype,iB=sB.propertyIsEnumerable,nE=Object.getOwnPropertySymbols,Lw=nE?function(t){return t==null?[]:(t=Object(t),rB(nE(t),function(e){return iB.call(t,e)}))}:rO;function aB(t,e){return xy(t,Lw(t),e)}function sO(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t}var oB=Object.getOwnPropertySymbols,iO=oB?function(t){for(var e=[];t;)sO(e,Lw(t)),t=Ow(t);return e}:rO;function lB(t,e){return xy(t,iO(t),e)}function aO(t,e,n){var r=e(t);return xh(t)?r:sO(r,n(t))}function cB(t){return aO(t,Rw,Lw)}function uB(t){return aO(t,_w,iO)}var _b=mc(ca,"DataView"),Lb=mc(ca,"Promise"),Pb=mc(ca,"Set"),zb=mc(ca,"WeakMap"),rE="[object Map]",dB="[object Object]",sE="[object Promise]",iE="[object Set]",aE="[object WeakMap]",oE="[object DataView]",fB=pc(_b),hB=pc(Bf),pB=pc(Lb),mB=pc(Pb),gB=pc(zb),Pa=fc;(_b&&Pa(new _b(new ArrayBuffer(1)))!=oE||Bf&&Pa(new Bf)!=rE||Lb&&Pa(Lb.resolve())!=sE||Pb&&Pa(new Pb)!=iE||zb&&Pa(new zb)!=aE)&&(Pa=function(t){var e=fc(t),n=e==dB?t.constructor:void 0,r=n?pc(n):"";if(r)switch(r){case fB:return oE;case hB:return rE;case pB:return sE;case mB:return iE;case gB:return aE}return e});var yB=Object.prototype,xB=yB.hasOwnProperty;function vB(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&xB.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var lE=ca.Uint8Array;function Pw(t){var e=new t.constructor(t.byteLength);return new lE(e).set(new lE(t)),e}function bB(t,e){var n=e?Pw(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var wB=/\w*$/;function SB(t){var e=new t.constructor(t.source,wB.exec(t));return e.lastIndex=t.lastIndex,e}var cE=Uo?Uo.prototype:void 0,uE=cE?cE.valueOf:void 0;function CB(t){return uE?Object(uE.call(t)):{}}function NB(t,e){var n=e?Pw(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var jB="[object Boolean]",TB="[object Date]",EB="[object Map]",AB="[object Number]",kB="[object RegExp]",OB="[object Set]",DB="[object String]",MB="[object Symbol]",RB="[object ArrayBuffer]",_B="[object DataView]",LB="[object Float32Array]",PB="[object Float64Array]",zB="[object Int8Array]",IB="[object Int16Array]",BB="[object Int32Array]",FB="[object Uint8Array]",$B="[object Uint8ClampedArray]",UB="[object Uint16Array]",VB="[object Uint32Array]";function HB(t,e,n){var r=t.constructor;switch(e){case RB:return Pw(t);case jB:case TB:return new r(+t);case _B:return bB(t,n);case LB:case PB:case zB:case IB:case BB:case FB:case $B:case UB:case VB:return NB(t,n);case EB:return new r;case AB:case DB:return new r(t);case kB:return SB(t);case OB:return new r;case MB:return CB(t)}}var dE=Object.create,qB=function(){function t(){}return function(e){if(!yh(e))return{};if(dE)return dE(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function KB(t){return typeof t.constructor=="function"&&!Mw(t)?qB(Ow(t)):{}}var YB="[object Map]";function WB(t){return hc(t)&&Pa(t)==YB}var fE=yu&&yu.isMap,GB=fE?Dw(fE):WB,XB="[object Set]";function JB(t){return hc(t)&&Pa(t)==XB}var hE=yu&&yu.isSet,QB=hE?Dw(hE):JB,ZB=1,eF=2,tF=4,oO="[object Arguments]",nF="[object Array]",rF="[object Boolean]",sF="[object Date]",iF="[object Error]",lO="[object Function]",aF="[object GeneratorFunction]",oF="[object Map]",lF="[object Number]",cO="[object Object]",cF="[object RegExp]",uF="[object Set]",dF="[object String]",fF="[object Symbol]",hF="[object WeakMap]",pF="[object ArrayBuffer]",mF="[object DataView]",gF="[object Float32Array]",yF="[object Float64Array]",xF="[object Int8Array]",vF="[object Int16Array]",bF="[object Int32Array]",wF="[object Uint8Array]",SF="[object Uint8ClampedArray]",CF="[object Uint16Array]",NF="[object Uint32Array]",In={};In[oO]=In[nF]=In[pF]=In[mF]=In[rF]=In[sF]=In[gF]=In[yF]=In[xF]=In[vF]=In[bF]=In[oF]=In[lF]=In[cO]=In[cF]=In[uF]=In[dF]=In[fF]=In[wF]=In[SF]=In[CF]=In[NF]=!0;In[iF]=In[lO]=In[hF]=!1;function ff(t,e,n,r,s,i){var a,l=e&ZB,d=e&eF,f=e&tF;if(a!==void 0)return a;if(!yh(t))return t;var p=xh(t);if(p){if(a=vB(t),!l)return nO(t,a)}else{var m=Pa(t),y=m==lO||m==aF;if(X5(t))return nB(t,l);if(m==cO||m==oO||y&&!s){if(a=d||y?{}:KB(t),!l)return d?lB(t,eB(a,t)):aB(t,GI(a,t))}else{if(!In[m])return s?t:{};a=HB(t,m,l)}}i||(i=new Ru);var x=i.get(t);if(x)return x;i.set(t,a),QB(t)?t.forEach(function(C){a.add(ff(C,e,n,C,t,i))}):GB(t)&&t.forEach(function(C,N){a.set(N,ff(C,e,n,N,t,i))});var b=f?d?uB:cB:d?_w:Rw,S=p?void 0:b(t);return eI(S||t,function(C,N){S&&(N=C,C=t[N]),Y5(a,N,ff(C,e,n,N,t,i))}),a}var jF=1,TF=4;function Wp(t){return ff(t,jF|TF)}var pv,pE;function EF(){if(pE)return pv;pE=1;var t=Array.isArray,e=Object.keys,n=Object.prototype.hasOwnProperty,r=typeof Element<"u";function s(i,a){if(i===a)return!0;if(i&&a&&typeof i=="object"&&typeof a=="object"){var l=t(i),d=t(a),f,p,m;if(l&&d){if(p=i.length,p!=a.length)return!1;for(f=p;f--!==0;)if(!s(i[f],a[f]))return!1;return!0}if(l!=d)return!1;var y=i instanceof Date,x=a instanceof Date;if(y!=x)return!1;if(y&&x)return i.getTime()==a.getTime();var b=i instanceof RegExp,S=a instanceof RegExp;if(b!=S)return!1;if(b&&S)return i.toString()==a.toString();var C=e(i);if(p=C.length,p!==e(a).length)return!1;for(f=p;f--!==0;)if(!n.call(a,C[f]))return!1;if(r&&i instanceof Element&&a instanceof Element)return i===a;for(f=p;f--!==0;)if(m=C[f],!(m==="_owner"&&i.$$typeof)&&!s(i[m],a[m]))return!1;return!0}return i!==i&&a!==a}return pv=function(a,l){try{return s(a,l)}catch(d){if(d.message&&d.message.match(/stack|recursion/i)||d.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",d.name,d.message),!1;throw d}},pv}var AF=EF();const jl=Ka(AF);var kF=4;function mE(t){return ff(t,kF)}function uO(t,e){for(var n=-1,r=t==null?0:t.length,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s}var OF="[object Symbol]";function zw(t){return typeof t=="symbol"||hc(t)&&fc(t)==OF}var DF="Expected a function";function Iw(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(DF);var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var a=t.apply(this,r);return n.cache=i.set(s,a)||i,a};return n.cache=new(Iw.Cache||Go),n}Iw.Cache=Go;var MF=500;function RF(t){var e=Iw(t,function(r){return n.size===MF&&n.clear(),r}),n=e.cache;return e}var _F=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,LF=/\\(\\)?/g,PF=RF(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(_F,function(n,r,s,i){e.push(s?i.replace(LF,"$1"):r||n)}),e});function zF(t){if(typeof t=="string"||zw(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var gE=Uo?Uo.prototype:void 0,yE=gE?gE.toString:void 0;function dO(t){if(typeof t=="string")return t;if(xh(t))return uO(t,dO)+"";if(zw(t))return yE?yE.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function IF(t){return t==null?"":dO(t)}function fO(t){return xh(t)?uO(t,zF):zw(t)?[t]:nO(PF(IF(t)))}var mv={exports:{}},En={};var xE;function BF(){if(xE)return En;xE=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,s=t?Symbol.for("react.strict_mode"):60108,i=t?Symbol.for("react.profiler"):60114,a=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,d=t?Symbol.for("react.async_mode"):60111,f=t?Symbol.for("react.concurrent_mode"):60111,p=t?Symbol.for("react.forward_ref"):60112,m=t?Symbol.for("react.suspense"):60113,y=t?Symbol.for("react.suspense_list"):60120,x=t?Symbol.for("react.memo"):60115,b=t?Symbol.for("react.lazy"):60116,S=t?Symbol.for("react.block"):60121,C=t?Symbol.for("react.fundamental"):60117,N=t?Symbol.for("react.responder"):60118,k=t?Symbol.for("react.scope"):60119;function D(E){if(typeof E=="object"&&E!==null){var A=E.$$typeof;switch(A){case e:switch(E=E.type,E){case d:case f:case r:case i:case s:case m:return E;default:switch(E=E&&E.$$typeof,E){case l:case p:case b:case x:case a:return E;default:return A}}case n:return A}}}function M(E){return D(E)===f}return En.AsyncMode=d,En.ConcurrentMode=f,En.ContextConsumer=l,En.ContextProvider=a,En.Element=e,En.ForwardRef=p,En.Fragment=r,En.Lazy=b,En.Memo=x,En.Portal=n,En.Profiler=i,En.StrictMode=s,En.Suspense=m,En.isAsyncMode=function(E){return M(E)||D(E)===d},En.isConcurrentMode=M,En.isContextConsumer=function(E){return D(E)===l},En.isContextProvider=function(E){return D(E)===a},En.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===e},En.isForwardRef=function(E){return D(E)===p},En.isFragment=function(E){return D(E)===r},En.isLazy=function(E){return D(E)===b},En.isMemo=function(E){return D(E)===x},En.isPortal=function(E){return D(E)===n},En.isProfiler=function(E){return D(E)===i},En.isStrictMode=function(E){return D(E)===s},En.isSuspense=function(E){return D(E)===m},En.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===r||E===f||E===i||E===s||E===m||E===y||typeof E=="object"&&E!==null&&(E.$$typeof===b||E.$$typeof===x||E.$$typeof===a||E.$$typeof===l||E.$$typeof===p||E.$$typeof===C||E.$$typeof===N||E.$$typeof===k||E.$$typeof===S)},En.typeOf=D,En}var vE;function FF(){return vE||(vE=1,mv.exports=BF()),mv.exports}var gv,bE;function $F(){if(bE)return gv;bE=1;var t=FF(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[t.ForwardRef]=r,i[t.Memo]=s;function a(b){return t.isMemo(b)?s:i[b.$$typeof]||e}var l=Object.defineProperty,d=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,y=Object.prototype;function x(b,S,C){if(typeof S!="string"){if(y){var N=m(S);N&&N!==y&&x(b,N,C)}var k=d(S);f&&(k=k.concat(f(S)));for(var D=a(b),M=a(S),E=0;E<k.length;++E){var A=k[E];if(!n[A]&&!(C&&C[A])&&!(M&&M[A])&&!(D&&D[A])){var P=p(S,A);try{l(b,A,P)}catch{}}}}return b}return gv=x,gv}$F();function _r(){return _r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_r.apply(this,arguments)}function hO(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var vy=j.createContext(void 0);vy.displayName="FormikContext";vy.Provider;vy.Consumer;function UF(){var t=j.useContext(vy);return t}var wi=function(e){return typeof e=="function"},by=function(e){return e!==null&&typeof e=="object"},VF=function(e){return String(Math.floor(Number(e)))===e},yv=function(e){return Object.prototype.toString.call(e)==="[object String]"},xv=function(e){return by(e)&&wi(e.then)};function Is(t,e,n,r){r===void 0&&(r=0);for(var s=fO(e);t&&r<s.length;)t=t[s[r++]];return r!==s.length&&!t||t===void 0?n:t}function Ul(t,e,n){for(var r=mE(t),s=r,i=0,a=fO(e);i<a.length-1;i++){var l=a[i],d=Is(t,a.slice(0,i+1));if(d&&(by(d)||Array.isArray(d)))s=s[l]=mE(d);else{var f=a[i+1];s=s[l]=VF(f)&&Number(f)>=0?[]:{}}}return(i===0?t:s)[a[i]]===n?t:(n===void 0?delete s[a[i]]:s[a[i]]=n,i===0&&n===void 0&&delete r[a[i]],r)}function pO(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var s=0,i=Object.keys(t);s<i.length;s++){var a=i[s],l=t[a];by(l)?n.get(l)||(n.set(l,!0),r[a]=Array.isArray(l)?[]:{},pO(l,e,n,r[a])):r[a]=e}return r}function HF(t,e){switch(e.type){case"SET_VALUES":return _r({},t,{values:e.payload});case"SET_TOUCHED":return _r({},t,{touched:e.payload});case"SET_ERRORS":return jl(t.errors,e.payload)?t:_r({},t,{errors:e.payload});case"SET_STATUS":return _r({},t,{status:e.payload});case"SET_ISSUBMITTING":return _r({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return _r({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return _r({},t,{values:Ul(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return _r({},t,{touched:Ul(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return _r({},t,{errors:Ul(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return _r({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return _r({},t,{touched:pO(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return _r({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return _r({},t,{isSubmitting:!1});default:return t}}var wl={},Gp={};function qF(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,s=r===void 0?!0:r,i=t.validateOnMount,a=i===void 0?!1:i,l=t.isInitialValid,d=t.enableReinitialize,f=d===void 0?!1:d,p=t.onSubmit,m=hO(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),y=_r({validateOnChange:n,validateOnBlur:s,validateOnMount:a,onSubmit:p},m),x=j.useRef(y.initialValues),b=j.useRef(y.initialErrors||wl),S=j.useRef(y.initialTouched||Gp),C=j.useRef(y.initialStatus),N=j.useRef(!1),k=j.useRef({});j.useEffect(function(){return N.current=!0,function(){N.current=!1}},[]);var D=j.useState(0),M=D[1],E=j.useRef({values:Wp(y.initialValues),errors:Wp(y.initialErrors)||wl,touched:Wp(y.initialTouched)||Gp,status:Wp(y.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),A=E.current,P=j.useCallback(function(B){var de=E.current;E.current=HF(de,B),de!==E.current&&M(function(xe){return xe+1})},[]),F=j.useCallback(function(B,de){return new Promise(function(xe,H){var V=y.validate(B,de);V==null?xe(wl):xv(V)?V.then(function(we){xe(we||wl)},function(we){H(we)}):xe(V)})},[y.validate]),ee=j.useCallback(function(B,de){var xe=y.validationSchema,H=wi(xe)?xe(de):xe,V=de&&H.validateAt?H.validateAt(de,B):YF(B,H);return new Promise(function(we,et){V.then(function(){we(wl)},function(ht){ht.name==="ValidationError"?we(KF(ht)):et(ht)})})},[y.validationSchema]),be=j.useCallback(function(B,de){return new Promise(function(xe){return xe(k.current[B].validate(de))})},[]),ce=j.useCallback(function(B){var de=Object.keys(k.current).filter(function(H){return wi(k.current[H].validate)}),xe=de.length>0?de.map(function(H){return be(H,Is(B,H))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(xe).then(function(H){return H.reduce(function(V,we,et){return we==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||we&&(V=Ul(V,de[et],we)),V},{})})},[be]),ae=j.useCallback(function(B){return Promise.all([ce(B),y.validationSchema?ee(B):{},y.validate?F(B):{}]).then(function(de){var xe=de[0],H=de[1],V=de[2],we=Rb.all([xe,H,V],{arrayMerge:WF});return we})},[y.validate,y.validationSchema,ce,F,ee]),te=ti(function(B){return B===void 0&&(B=A.values),P({type:"SET_ISVALIDATING",payload:!0}),ae(B).then(function(de){return N.current&&(P({type:"SET_ISVALIDATING",payload:!1}),P({type:"SET_ERRORS",payload:de})),de})});j.useEffect(function(){a&&N.current===!0&&jl(x.current,y.initialValues)&&te(x.current)},[a,te]);var ke=j.useCallback(function(B){var de=B&&B.values?B.values:x.current,xe=B&&B.errors?B.errors:b.current?b.current:y.initialErrors||{},H=B&&B.touched?B.touched:S.current?S.current:y.initialTouched||{},V=B&&B.status?B.status:C.current?C.current:y.initialStatus;x.current=de,b.current=xe,S.current=H,C.current=V;var we=function(){P({type:"RESET_FORM",payload:{isSubmitting:!!B&&!!B.isSubmitting,errors:xe,touched:H,status:V,values:de,isValidating:!!B&&!!B.isValidating,submitCount:B&&B.submitCount&&typeof B.submitCount=="number"?B.submitCount:0}})};if(y.onReset){var et=y.onReset(A.values,Ft);xv(et)?et.then(we):we()}else we()},[y.initialErrors,y.initialStatus,y.initialTouched,y.onReset]);j.useEffect(function(){N.current===!0&&!jl(x.current,y.initialValues)&&f&&(x.current=y.initialValues,ke(),a&&te(x.current))},[f,y.initialValues,ke,a,te]),j.useEffect(function(){f&&N.current===!0&&!jl(b.current,y.initialErrors)&&(b.current=y.initialErrors||wl,P({type:"SET_ERRORS",payload:y.initialErrors||wl}))},[f,y.initialErrors]),j.useEffect(function(){f&&N.current===!0&&!jl(S.current,y.initialTouched)&&(S.current=y.initialTouched||Gp,P({type:"SET_TOUCHED",payload:y.initialTouched||Gp}))},[f,y.initialTouched]),j.useEffect(function(){f&&N.current===!0&&!jl(C.current,y.initialStatus)&&(C.current=y.initialStatus,P({type:"SET_STATUS",payload:y.initialStatus}))},[f,y.initialStatus,y.initialTouched]);var ze=ti(function(B){if(k.current[B]&&wi(k.current[B].validate)){var de=Is(A.values,B),xe=k.current[B].validate(de);return xv(xe)?(P({type:"SET_ISVALIDATING",payload:!0}),xe.then(function(H){return H}).then(function(H){P({type:"SET_FIELD_ERROR",payload:{field:B,value:H}}),P({type:"SET_ISVALIDATING",payload:!1})})):(P({type:"SET_FIELD_ERROR",payload:{field:B,value:xe}}),Promise.resolve(xe))}else if(y.validationSchema)return P({type:"SET_ISVALIDATING",payload:!0}),ee(A.values,B).then(function(H){return H}).then(function(H){P({type:"SET_FIELD_ERROR",payload:{field:B,value:Is(H,B)}}),P({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),W=j.useCallback(function(B,de){var xe=de.validate;k.current[B]={validate:xe}},[]),oe=j.useCallback(function(B){delete k.current[B]},[]),ye=ti(function(B,de){P({type:"SET_TOUCHED",payload:B});var xe=de===void 0?s:de;return xe?te(A.values):Promise.resolve()}),Fe=j.useCallback(function(B){P({type:"SET_ERRORS",payload:B})},[]),U=ti(function(B,de){var xe=wi(B)?B(A.values):B;P({type:"SET_VALUES",payload:xe});var H=de===void 0?n:de;return H?te(xe):Promise.resolve()}),ue=j.useCallback(function(B,de){P({type:"SET_FIELD_ERROR",payload:{field:B,value:de}})},[]),se=ti(function(B,de,xe){P({type:"SET_FIELD_VALUE",payload:{field:B,value:de}});var H=xe===void 0?n:xe;return H?te(Ul(A.values,B,de)):Promise.resolve()}),fe=j.useCallback(function(B,de){var xe=de,H=B,V;if(!yv(B)){B.persist&&B.persist();var we=B.target?B.target:B.currentTarget,et=we.type,ht=we.name,Jt=we.id,Pt=we.value,an=we.checked;we.outerHTML;var Qt=we.options,Ne=we.multiple;xe=de||ht||Jt,H=/number|range/.test(et)?(V=parseFloat(Pt),isNaN(V)?"":V):/checkbox/.test(et)?XF(Is(A.values,xe),an,Pt):Qt&&Ne?GF(Qt):Pt}xe&&se(xe,H)},[se,A.values]),Ee=ti(function(B){if(yv(B))return function(de){return fe(de,B)};fe(B)}),Pe=ti(function(B,de,xe){de===void 0&&(de=!0),P({type:"SET_FIELD_TOUCHED",payload:{field:B,value:de}});var H=xe===void 0?s:xe;return H?te(A.values):Promise.resolve()}),Oe=j.useCallback(function(B,de){B.persist&&B.persist();var xe=B.target,H=xe.name,V=xe.id;xe.outerHTML;var we=de||H||V;Pe(we,!0)},[Pe]),Ye=ti(function(B){if(yv(B))return function(de){return Oe(de,B)};Oe(B)}),Me=j.useCallback(function(B){wi(B)?P({type:"SET_FORMIK_STATE",payload:B}):P({type:"SET_FORMIK_STATE",payload:function(){return B}})},[]),ut=j.useCallback(function(B){P({type:"SET_STATUS",payload:B})},[]),Ze=j.useCallback(function(B){P({type:"SET_ISSUBMITTING",payload:B})},[]),St=ti(function(){return P({type:"SUBMIT_ATTEMPT"}),te().then(function(B){var de=B instanceof Error,xe=!de&&Object.keys(B).length===0;if(xe){var H;try{if(H=nt(),H===void 0)return}catch(V){throw V}return Promise.resolve(H).then(function(V){return N.current&&P({type:"SUBMIT_SUCCESS"}),V}).catch(function(V){if(N.current)throw P({type:"SUBMIT_FAILURE"}),V})}else if(N.current&&(P({type:"SUBMIT_FAILURE"}),de))throw B})}),Nt=ti(function(B){B&&B.preventDefault&&wi(B.preventDefault)&&B.preventDefault(),B&&B.stopPropagation&&wi(B.stopPropagation)&&B.stopPropagation(),St().catch(function(de){console.warn("Warning: An unhandled error was caught from submitForm()",de)})}),Ft={resetForm:ke,validateForm:te,validateField:ze,setErrors:Fe,setFieldError:ue,setFieldTouched:Pe,setFieldValue:se,setStatus:ut,setSubmitting:Ze,setTouched:ye,setValues:U,setFormikState:Me,submitForm:St},nt=ti(function(){return p(A.values,Ft)}),Z=ti(function(B){B&&B.preventDefault&&wi(B.preventDefault)&&B.preventDefault(),B&&B.stopPropagation&&wi(B.stopPropagation)&&B.stopPropagation(),ke()}),Ve=j.useCallback(function(B){return{value:Is(A.values,B),error:Is(A.errors,B),touched:!!Is(A.touched,B),initialValue:Is(x.current,B),initialTouched:!!Is(S.current,B),initialError:Is(b.current,B)}},[A.errors,A.touched,A.values]),qe=j.useCallback(function(B){return{setValue:function(xe,H){return se(B,xe,H)},setTouched:function(xe,H){return Pe(B,xe,H)},setError:function(xe){return ue(B,xe)}}},[se,Pe,ue]),at=j.useCallback(function(B){var de=by(B),xe=de?B.name:B,H=Is(A.values,xe),V={name:xe,value:H,onChange:Ee,onBlur:Ye};if(de){var we=B.type,et=B.value,ht=B.as,Jt=B.multiple;we==="checkbox"?et===void 0?V.checked=!!H:(V.checked=!!(Array.isArray(H)&&~H.indexOf(et)),V.value=et):we==="radio"?(V.checked=H===et,V.value=et):ht==="select"&&Jt&&(V.value=V.value||[],V.multiple=!0)}return V},[Ye,Ee,A.values]),bt=j.useMemo(function(){return!jl(x.current,A.values)},[x.current,A.values]),$=j.useMemo(function(){return typeof l<"u"?bt?A.errors&&Object.keys(A.errors).length===0:l!==!1&&wi(l)?l(y):l:A.errors&&Object.keys(A.errors).length===0},[l,bt,A.errors,y]),re=_r({},A,{initialValues:x.current,initialErrors:b.current,initialTouched:S.current,initialStatus:C.current,handleBlur:Ye,handleChange:Ee,handleReset:Z,handleSubmit:Nt,resetForm:ke,setErrors:Fe,setFormikState:Me,setFieldTouched:Pe,setFieldValue:se,setFieldError:ue,setStatus:ut,setSubmitting:Ze,setTouched:ye,setValues:U,submitForm:St,validateForm:te,validateField:ze,isValid:$,dirty:bt,unregisterField:oe,registerField:W,getFieldProps:at,getFieldMeta:Ve,getFieldHelpers:qe,validateOnBlur:s,validateOnChange:n,validateOnMount:a});return re}function KF(t){var e={};if(t.inner){if(t.inner.length===0)return Ul(e,t.path,t.message);for(var s=t.inner,n=Array.isArray(s),r=0,s=n?s:s[Symbol.iterator]();;){var i;if(n){if(r>=s.length)break;i=s[r++]}else{if(r=s.next(),r.done)break;i=r.value}var a=i;Is(e,a.path)||(e=Ul(e,a.path,a.message))}}return e}function YF(t,e,n,r){n===void 0&&(n=!1);var s=Ib(t);return e[n?"validateSync":"validate"](s,{abortEarly:!1,context:s})}function Ib(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(s){return Array.isArray(s)===!0||KT(s)?Ib(s):s!==""?s:void 0}):KT(t[r])?e[r]=Ib(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function WF(t,e,n){var r=t.slice();return e.forEach(function(i,a){if(typeof r[a]>"u"){var l=n.clone!==!1,d=l&&n.isMergeableObject(i);r[a]=d?Rb(Array.isArray(i)?[]:{},i,n):i}else n.isMergeableObject(i)?r[a]=Rb(t[a],i,n):t.indexOf(i)===-1&&r.push(i)}),r}function GF(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function XF(t,e,n){if(typeof t=="boolean")return!!e;var r=[],s=!1,i=-1;if(Array.isArray(t))r=t,i=t.indexOf(n),s=i>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!s?r.concat(n):s?r.slice(0,i).concat(r.slice(i+1)):r}var JF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?j.useLayoutEffect:j.useEffect;function ti(t){var e=j.useRef(t);return JF(function(){e.current=t}),j.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current.apply(void 0,r)},[])}var QF=j.forwardRef(function(t,e){var n=t.action,r=hO(t,["action"]),s=n??"#",i=UF(),a=i.handleReset,l=i.handleSubmit;return j.createElement("form",_r({onSubmit:l,ref:e,onReset:a,action:s},r))});QF.displayName="Form";let ZF={data:""},e$=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||ZF,t$=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,n$=/\/\*[^]*?\*\/|  +/g,wE=/\n+/g,Eo=(t,e)=>{let n="",r="",s="";for(let i in t){let a=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+a+";":r+=i[1]=="f"?Eo(a,i):i+"{"+Eo(a,i[1]=="k"?"":e)+"}":typeof a=="object"?r+=Eo(a,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,l):l?l+" "+d:d)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Eo.p?Eo.p(i,a):i+":"+a+";")}return n+(e&&s?e+"{"+s+"}":s)+r},Ea={},mO=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+mO(t[n]);return e}return t},r$=(t,e,n,r,s)=>{let i=mO(t),a=Ea[i]||(Ea[i]=(d=>{let f=0,p=11;for(;f<d.length;)p=101*p+d.charCodeAt(f++)>>>0;return"go"+p})(i));if(!Ea[a]){let d=i!==t?t:(f=>{let p,m,y=[{}];for(;p=t$.exec(f.replace(n$,""));)p[4]?y.shift():p[3]?(m=p[3].replace(wE," ").trim(),y.unshift(y[0][m]=y[0][m]||{})):y[0][p[1]]=p[2].replace(wE," ").trim();return y[0]})(t);Ea[a]=Eo(s?{["@keyframes "+a]:d}:d,n?"":"."+a)}let l=n&&Ea.g?Ea.g:null;return n&&(Ea.g=Ea[a]),((d,f,p,m)=>{m?f.data=f.data.replace(m,d):f.data.indexOf(d)===-1&&(f.data=p?d+f.data:f.data+d)})(Ea[a],e,r,l),a},s$=(t,e,n)=>t.reduce((r,s,i)=>{let a=e[i];if(a&&a.call){let l=a(n),d=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=d?"."+d:l&&typeof l=="object"?l.props?"":Eo(l,""):l===!1?"":l}return r+s+(a??"")},"");function wy(t){let e=this||{},n=t.call?t(e.p):t;return r$(n.unshift?n.raw?s$(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,e$(e.target),e.g,e.o,e.k)}let gO,Bb,Fb;wy.bind({g:1});let Ua=wy.bind({k:1});function i$(t,e,n,r){Eo.p=e,gO=t,Bb=n,Fb=r}function Xo(t,e){let n=this||{};return function(){let r=arguments;function s(i,a){let l=Object.assign({},i),d=l.className||s.className;n.p=Object.assign({theme:Bb&&Bb()},l),n.o=/ *go\d+/.test(d),l.className=wy.apply(n,r)+(d?" "+d:"");let f=t;return t[0]&&(f=l.as||t,delete l.as),Fb&&f[0]&&Fb(l),gO(f,l)}return s}}var a$=t=>typeof t=="function",ng=(t,e)=>a$(t)?t(e):t,o$=(()=>{let t=0;return()=>(++t).toString()})(),yO=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),l$=20,xO=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,l$)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return xO(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},Om=[],Rl={toasts:[],pausedAt:void 0},gc=t=>{Rl=xO(Rl,t),Om.forEach(e=>{e(Rl)})},c$={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},u$=(t={})=>{let[e,n]=j.useState(Rl),r=j.useRef(Rl);j.useEffect(()=>(r.current!==Rl&&n(Rl),Om.push(n),()=>{let i=Om.indexOf(n);i>-1&&Om.splice(i,1)}),[]);let s=e.toasts.map(i=>{var a,l,d;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((a=t[i.type])==null?void 0:a.removeDelay)||t?.removeDelay,duration:i.duration||((l=t[i.type])==null?void 0:l.duration)||t?.duration||c$[i.type],style:{...t.style,...(d=t[i.type])==null?void 0:d.style,...i.style}}});return{...e,toasts:s}},d$=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||o$()}),vh=t=>(e,n)=>{let r=d$(e,t,n);return gc({type:2,toast:r}),r.id},Sr=(t,e)=>vh("blank")(t,e);Sr.error=vh("error");Sr.success=vh("success");Sr.loading=vh("loading");Sr.custom=vh("custom");Sr.dismiss=t=>{gc({type:3,toastId:t})};Sr.remove=t=>gc({type:4,toastId:t});Sr.promise=(t,e,n)=>{let r=Sr.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?ng(e.success,s):void 0;return i?Sr.success(i,{id:r,...n,...n?.success}):Sr.dismiss(r),s}).catch(s=>{let i=e.error?ng(e.error,s):void 0;i?Sr.error(i,{id:r,...n,...n?.error}):Sr.dismiss(r)}),t};var f$=(t,e)=>{gc({type:1,toast:{id:t,height:e}})},h$=()=>{gc({type:5,time:Date.now()})},hf=new Map,p$=1e3,m$=(t,e=p$)=>{if(hf.has(t))return;let n=setTimeout(()=>{hf.delete(t),gc({type:4,toastId:t})},e);hf.set(t,n)},g$=t=>{let{toasts:e,pausedAt:n}=u$(t);j.useEffect(()=>{if(n)return;let i=Date.now(),a=e.map(l=>{if(l.duration===1/0)return;let d=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(d<0){l.visible&&Sr.dismiss(l.id);return}return setTimeout(()=>Sr.dismiss(l.id),d)});return()=>{a.forEach(l=>l&&clearTimeout(l))}},[e,n]);let r=j.useCallback(()=>{n&&gc({type:6,time:Date.now()})},[n]),s=j.useCallback((i,a)=>{let{reverseOrder:l=!1,gutter:d=8,defaultPosition:f}=a||{},p=e.filter(x=>(x.position||f)===(i.position||f)&&x.height),m=p.findIndex(x=>x.id===i.id),y=p.filter((x,b)=>b<m&&x.visible).length;return p.filter(x=>x.visible).slice(...l?[y+1]:[0,y]).reduce((x,b)=>x+(b.height||0)+d,0)},[e]);return j.useEffect(()=>{e.forEach(i=>{if(i.dismissed)m$(i.id,i.removeDelay);else{let a=hf.get(i.id);a&&(clearTimeout(a),hf.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:f$,startPause:h$,endPause:r,calculateOffset:s}}},y$=Ua`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,x$=Ua`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,v$=Ua`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,b$=Xo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${y$} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${x$} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${v$} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,w$=Ua`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,S$=Xo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${w$} 1s linear infinite;
`,C$=Ua`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,N$=Ua`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,j$=Xo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${C$} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${N$} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,T$=Xo("div")`
  position: absolute;
`,E$=Xo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,A$=Ua`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,k$=Xo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${A$} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,O$=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?j.createElement(k$,null,e):e:n==="blank"?null:j.createElement(E$,null,j.createElement(S$,{...r}),n!=="loading"&&j.createElement(T$,null,n==="error"?j.createElement(b$,{...r}):j.createElement(j$,{...r})))},D$=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,M$=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,R$="0%{opacity:0;} 100%{opacity:1;}",_$="0%{opacity:1;} 100%{opacity:0;}",L$=Xo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,P$=Xo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,z$=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=yO()?[R$,_$]:[D$(n),M$(n)];return{animation:e?`${Ua(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ua(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},I$=j.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?z$(t.position||e||"top-center",t.visible):{opacity:0},i=j.createElement(O$,{toast:t}),a=j.createElement(P$,{...t.ariaProps},ng(t.message,t));return j.createElement(L$,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:a}):j.createElement(j.Fragment,null,i,a))});i$(j.createElement);var B$=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=j.useCallback(a=>{if(a){let l=()=>{let d=a.getBoundingClientRect().height;r(t,d)};l(),new MutationObserver(l).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return j.createElement("div",{ref:i,className:e,style:n},s)},F$=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:yO()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},$$=wy`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Xp=16,U$=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:a})=>{let{toasts:l,handlers:d}=g$(n);return j.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Xp,left:Xp,right:Xp,bottom:Xp,pointerEvents:"none",...i},className:a,onMouseEnter:d.startPause,onMouseLeave:d.endPause},l.map(f=>{let p=f.position||e,m=d.calculateOffset(f,{reverseOrder:t,gutter:r,defaultPosition:e}),y=F$(p,m);return j.createElement(B$,{id:f.id,key:f.id,onHeightUpdate:d.updateHeight,className:f.visible?$$:"",style:y},f.type==="custom"?ng(f.message,f):s?s(f):j.createElement(I$,{toast:f,position:p}))}))},ge=Sr;function vO(t,e){return function(){return t.apply(e,arguments)}}const{toString:V$}=Object.prototype,{getPrototypeOf:Bw}=Object,{iterator:Sy,toStringTag:bO}=Symbol,Cy=(t=>e=>{const n=V$.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),_i=t=>(t=t.toLowerCase(),e=>Cy(e)===t),Ny=t=>e=>typeof e===t,{isArray:_u}=Array,xu=Ny("undefined");function bh(t){return t!==null&&!xu(t)&&t.constructor!==null&&!xu(t.constructor)&&js(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const wO=_i("ArrayBuffer");function H$(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&wO(t.buffer),e}const q$=Ny("string"),js=Ny("function"),SO=Ny("number"),wh=t=>t!==null&&typeof t=="object",K$=t=>t===!0||t===!1,Dm=t=>{if(Cy(t)!=="object")return!1;const e=Bw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(bO in t)&&!(Sy in t)},Y$=t=>{if(!wh(t)||bh(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},W$=_i("Date"),G$=_i("File"),X$=_i("Blob"),J$=_i("FileList"),Q$=t=>wh(t)&&js(t.pipe),Z$=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||js(t.append)&&((e=Cy(t))==="formdata"||e==="object"&&js(t.toString)&&t.toString()==="[object FormData]"))},eU=_i("URLSearchParams"),[tU,nU,rU,sU]=["ReadableStream","Request","Response","Headers"].map(_i),iU=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Sh(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),_u(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{if(bh(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),a=i.length;let l;for(r=0;r<a;r++)l=i[r],e.call(null,t[l],l,t)}}function CO(t,e){if(bh(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const _l=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,NO=t=>!xu(t)&&t!==_l;function $b(){const{caseless:t,skipUndefined:e}=NO(this)&&this||{},n={},r=(s,i)=>{const a=t&&CO(n,i)||i;Dm(n[a])&&Dm(s)?n[a]=$b(n[a],s):Dm(s)?n[a]=$b({},s):_u(s)?n[a]=s.slice():(!e||!xu(s))&&(n[a]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Sh(arguments[s],r);return n}const aU=(t,e,n,{allOwnKeys:r}={})=>(Sh(e,(s,i)=>{n&&js(s)?t[i]=vO(s,n):t[i]=s},{allOwnKeys:r}),t),oU=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),lU=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},cU=(t,e,n,r)=>{let s,i,a;const l={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)a=s[i],(!r||r(a,t,e))&&!l[a]&&(e[a]=t[a],l[a]=!0);t=n!==!1&&Bw(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},uU=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},dU=t=>{if(!t)return null;if(_u(t))return t;let e=t.length;if(!SO(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},fU=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Bw(Uint8Array)),hU=(t,e)=>{const r=(t&&t[Sy]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},pU=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},mU=_i("HTMLFormElement"),gU=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),SE=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),yU=_i("RegExp"),jO=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Sh(n,(s,i)=>{let a;(a=e(s,i,t))!==!1&&(r[i]=a||s)}),Object.defineProperties(t,r)},xU=t=>{jO(t,(e,n)=>{if(js(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(js(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},vU=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return _u(t)?r(t):r(String(t).split(e)),n},bU=()=>{},wU=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function SU(t){return!!(t&&js(t.append)&&t[bO]==="FormData"&&t[Sy])}const CU=t=>{const e=new Array(10),n=(r,s)=>{if(wh(r)){if(e.indexOf(r)>=0)return;if(bh(r))return r;if(!("toJSON"in r)){e[s]=r;const i=_u(r)?[]:{};return Sh(r,(a,l)=>{const d=n(a,s+1);!xu(d)&&(i[l]=d)}),e[s]=void 0,i}}return r};return n(t,0)},NU=_i("AsyncFunction"),jU=t=>t&&(wh(t)||js(t))&&js(t.then)&&js(t.catch),TO=((t,e)=>t?setImmediate:e?((n,r)=>(_l.addEventListener("message",({source:s,data:i})=>{s===_l&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),_l.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",js(_l.postMessage)),TU=typeof queueMicrotask<"u"?queueMicrotask.bind(_l):typeof process<"u"&&process.nextTick||TO,EU=t=>t!=null&&js(t[Sy]),Be={isArray:_u,isArrayBuffer:wO,isBuffer:bh,isFormData:Z$,isArrayBufferView:H$,isString:q$,isNumber:SO,isBoolean:K$,isObject:wh,isPlainObject:Dm,isEmptyObject:Y$,isReadableStream:tU,isRequest:nU,isResponse:rU,isHeaders:sU,isUndefined:xu,isDate:W$,isFile:G$,isBlob:X$,isRegExp:yU,isFunction:js,isStream:Q$,isURLSearchParams:eU,isTypedArray:fU,isFileList:J$,forEach:Sh,merge:$b,extend:aU,trim:iU,stripBOM:oU,inherits:lU,toFlatObject:cU,kindOf:Cy,kindOfTest:_i,endsWith:uU,toArray:dU,forEachEntry:hU,matchAll:pU,isHTMLForm:mU,hasOwnProperty:SE,hasOwnProp:SE,reduceDescriptors:jO,freezeMethods:xU,toObjectSet:vU,toCamelCase:gU,noop:bU,toFiniteNumber:wU,findKey:CO,global:_l,isContextDefined:NO,isSpecCompliantForm:SU,toJSONObject:CU,isAsyncFn:NU,isThenable:jU,setImmediate:TO,asap:TU,isIterable:EU};function rn(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}Be.inherits(rn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Be.toJSONObject(this.config),code:this.code,status:this.status}}});const EO=rn.prototype,AO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{AO[t]={value:t}});Object.defineProperties(rn,AO);Object.defineProperty(EO,"isAxiosError",{value:!0});rn.from=(t,e,n,r,s,i)=>{const a=Object.create(EO);Be.toFlatObject(t,a,function(p){return p!==Error.prototype},f=>f!=="isAxiosError");const l=t&&t.message?t.message:"Error",d=e==null&&t?t.code:e;return rn.call(a,l,d,n,r,s),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",i&&Object.assign(a,i),a};const AU=null;function Ub(t){return Be.isPlainObject(t)||Be.isArray(t)}function kO(t){return Be.endsWith(t,"[]")?t.slice(0,-2):t}function CE(t,e,n){return t?t.concat(e).map(function(s,i){return s=kO(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function kU(t){return Be.isArray(t)&&!t.some(Ub)}const OU=Be.toFlatObject(Be,{},null,function(e){return/^is[A-Z]/.test(e)});function jy(t,e,n){if(!Be.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Be.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,C){return!Be.isUndefined(C[S])});const r=n.metaTokens,s=n.visitor||p,i=n.dots,a=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&Be.isSpecCompliantForm(e);if(!Be.isFunction(s))throw new TypeError("visitor must be a function");function f(b){if(b===null)return"";if(Be.isDate(b))return b.toISOString();if(Be.isBoolean(b))return b.toString();if(!d&&Be.isBlob(b))throw new rn("Blob is not supported. Use a Buffer instead.");return Be.isArrayBuffer(b)||Be.isTypedArray(b)?d&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function p(b,S,C){let N=b;if(b&&!C&&typeof b=="object"){if(Be.endsWith(S,"{}"))S=r?S:S.slice(0,-2),b=JSON.stringify(b);else if(Be.isArray(b)&&kU(b)||(Be.isFileList(b)||Be.endsWith(S,"[]"))&&(N=Be.toArray(b)))return S=kO(S),N.forEach(function(D,M){!(Be.isUndefined(D)||D===null)&&e.append(a===!0?CE([S],M,i):a===null?S:S+"[]",f(D))}),!1}return Ub(b)?!0:(e.append(CE(C,S,i),f(b)),!1)}const m=[],y=Object.assign(OU,{defaultVisitor:p,convertValue:f,isVisitable:Ub});function x(b,S){if(!Be.isUndefined(b)){if(m.indexOf(b)!==-1)throw Error("Circular reference detected in "+S.join("."));m.push(b),Be.forEach(b,function(N,k){(!(Be.isUndefined(N)||N===null)&&s.call(e,N,Be.isString(k)?k.trim():k,S,y))===!0&&x(N,S?S.concat(k):[k])}),m.pop()}}if(!Be.isObject(t))throw new TypeError("data must be an object");return x(t),e}function NE(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Fw(t,e){this._pairs=[],t&&jy(t,this,e)}const OO=Fw.prototype;OO.append=function(e,n){this._pairs.push([e,n])};OO.toString=function(e){const n=e?function(r){return e.call(this,r,NE)}:NE;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function DU(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function DO(t,e,n){if(!e)return t;const r=n&&n.encode||DU;Be.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=Be.isURLSearchParams(e)?e.toString():new Fw(e,n).toString(r),i){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class jE{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Be.forEach(this.handlers,function(r){r!==null&&e(r)})}}const MO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},MU=typeof URLSearchParams<"u"?URLSearchParams:Fw,RU=typeof FormData<"u"?FormData:null,_U=typeof Blob<"u"?Blob:null,LU={isBrowser:!0,classes:{URLSearchParams:MU,FormData:RU,Blob:_U},protocols:["http","https","file","blob","url","data"]},$w=typeof window<"u"&&typeof document<"u",Vb=typeof navigator=="object"&&navigator||void 0,PU=$w&&(!Vb||["ReactNative","NativeScript","NS"].indexOf(Vb.product)<0),zU=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",IU=$w&&window.location.href||"http://localhost",BU=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$w,hasStandardBrowserEnv:PU,hasStandardBrowserWebWorkerEnv:zU,navigator:Vb,origin:IU},Symbol.toStringTag,{value:"Module"})),Zr={...BU,...LU};function FU(t,e){return jy(t,new Zr.classes.URLSearchParams,{visitor:function(n,r,s,i){return Zr.isNode&&Be.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function $U(t){return Be.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function UU(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function RO(t){function e(n,r,s,i){let a=n[i++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),d=i>=n.length;return a=!a&&Be.isArray(s)?s.length:a,d?(Be.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!l):((!s[a]||!Be.isObject(s[a]))&&(s[a]=[]),e(n,r,s[a],i)&&Be.isArray(s[a])&&(s[a]=UU(s[a])),!l)}if(Be.isFormData(t)&&Be.isFunction(t.entries)){const n={};return Be.forEachEntry(t,(r,s)=>{e($U(r),s,n,0)}),n}return null}function VU(t,e,n){if(Be.isString(t))try{return(e||JSON.parse)(t),Be.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Ch={transitional:MO,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=Be.isObject(e);if(i&&Be.isHTMLForm(e)&&(e=new FormData(e)),Be.isFormData(e))return s?JSON.stringify(RO(e)):e;if(Be.isArrayBuffer(e)||Be.isBuffer(e)||Be.isStream(e)||Be.isFile(e)||Be.isBlob(e)||Be.isReadableStream(e))return e;if(Be.isArrayBufferView(e))return e.buffer;if(Be.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return FU(e,this.formSerializer).toString();if((l=Be.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return jy(l?{"files[]":e}:e,d&&new d,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),VU(e)):e}],transformResponse:[function(e){const n=this.transitional||Ch.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(Be.isResponse(e)||Be.isReadableStream(e))return e;if(e&&Be.isString(e)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?rn.from(l,rn.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zr.classes.FormData,Blob:Zr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Be.forEach(["delete","get","head","post","put","patch"],t=>{Ch.headers[t]={}});const HU=Be.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qU=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||e[n]&&HU[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},TE=Symbol("internals");function Yd(t){return t&&String(t).trim().toLowerCase()}function Mm(t){return t===!1||t==null?t:Be.isArray(t)?t.map(Mm):String(t)}function KU(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const YU=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function vv(t,e,n,r,s){if(Be.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!Be.isString(e)){if(Be.isString(r))return e.indexOf(r)!==-1;if(Be.isRegExp(r))return r.test(e)}}function WU(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function GU(t,e){const n=Be.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,a){return this[r].call(this,e,s,i,a)},configurable:!0})})}let Ts=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(l,d,f){const p=Yd(d);if(!p)throw new Error("header name must be a non-empty string");const m=Be.findKey(s,p);(!m||s[m]===void 0||f===!0||f===void 0&&s[m]!==!1)&&(s[m||d]=Mm(l))}const a=(l,d)=>Be.forEach(l,(f,p)=>i(f,p,d));if(Be.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(Be.isString(e)&&(e=e.trim())&&!YU(e))a(qU(e),n);else if(Be.isObject(e)&&Be.isIterable(e)){let l={},d,f;for(const p of e){if(!Be.isArray(p))throw TypeError("Object iterator must return a key-value pair");l[f=p[0]]=(d=l[f])?Be.isArray(d)?[...d,p[1]]:[d,p[1]]:p[1]}a(l,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=Yd(e),e){const r=Be.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return KU(s);if(Be.isFunction(n))return n.call(this,s,r);if(Be.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Yd(e),e){const r=Be.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||vv(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(a){if(a=Yd(a),a){const l=Be.findKey(r,a);l&&(!n||vv(r,r[l],l,n))&&(delete r[l],s=!0)}}return Be.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||vv(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return Be.forEach(this,(s,i)=>{const a=Be.findKey(r,i);if(a){n[a]=Mm(s),delete n[i];return}const l=e?WU(i):String(i).trim();l!==i&&delete n[i],n[l]=Mm(s),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Be.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&Be.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[TE]=this[TE]={accessors:{}}).accessors,s=this.prototype;function i(a){const l=Yd(a);r[l]||(GU(s,a),r[l]=!0)}return Be.isArray(e)?e.forEach(i):i(e),this}};Ts.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Be.reduceDescriptors(Ts.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Be.freezeMethods(Ts);function bv(t,e){const n=this||Ch,r=e||n,s=Ts.from(r.headers);let i=r.data;return Be.forEach(t,function(l){i=l.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function _O(t){return!!(t&&t.__CANCEL__)}function Lu(t,e,n){rn.call(this,t??"canceled",rn.ERR_CANCELED,e,n),this.name="CanceledError"}Be.inherits(Lu,rn,{__CANCEL__:!0});function LO(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new rn("Request failed with status code "+n.status,[rn.ERR_BAD_REQUEST,rn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function XU(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function JU(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,a;return e=e!==void 0?e:1e3,function(d){const f=Date.now(),p=r[i];a||(a=f),n[s]=d,r[s]=f;let m=i,y=0;for(;m!==s;)y+=n[m++],m=m%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),f-a<e)return;const x=p&&f-p;return x?Math.round(y*1e3/x):void 0}}function QU(t,e){let n=0,r=1e3/e,s,i;const a=(f,p=Date.now())=>{n=p,s=null,i&&(clearTimeout(i),i=null),t(...f)};return[(...f)=>{const p=Date.now(),m=p-n;m>=r?a(f,p):(s=f,i||(i=setTimeout(()=>{i=null,a(s)},r-m)))},()=>s&&a(s)]}const rg=(t,e,n=3)=>{let r=0;const s=JU(50,250);return QU(i=>{const a=i.loaded,l=i.lengthComputable?i.total:void 0,d=a-r,f=s(d),p=a<=l;r=a;const m={loaded:a,total:l,progress:l?a/l:void 0,bytes:d,rate:f||void 0,estimated:f&&l&&p?(l-a)/f:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(m)},n)},EE=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},AE=t=>(...e)=>Be.asap(()=>t(...e)),ZU=Zr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Zr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Zr.origin),Zr.navigator&&/(msie|trident)/i.test(Zr.navigator.userAgent)):()=>!0,eV=Zr.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const a=[t+"="+encodeURIComponent(e)];Be.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),Be.isString(r)&&a.push("path="+r),Be.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function tV(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function nV(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function PO(t,e,n){let r=!tV(e);return t&&(r||n==!1)?nV(t,e):e}const kE=t=>t instanceof Ts?{...t}:t;function ec(t,e){e=e||{};const n={};function r(f,p,m,y){return Be.isPlainObject(f)&&Be.isPlainObject(p)?Be.merge.call({caseless:y},f,p):Be.isPlainObject(p)?Be.merge({},p):Be.isArray(p)?p.slice():p}function s(f,p,m,y){if(Be.isUndefined(p)){if(!Be.isUndefined(f))return r(void 0,f,m,y)}else return r(f,p,m,y)}function i(f,p){if(!Be.isUndefined(p))return r(void 0,p)}function a(f,p){if(Be.isUndefined(p)){if(!Be.isUndefined(f))return r(void 0,f)}else return r(void 0,p)}function l(f,p,m){if(m in e)return r(f,p);if(m in t)return r(void 0,f)}const d={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(f,p,m)=>s(kE(f),kE(p),m,!0)};return Be.forEach(Object.keys({...t,...e}),function(p){const m=d[p]||s,y=m(t[p],e[p],p);Be.isUndefined(y)&&m!==l||(n[p]=y)}),n}const zO=t=>{const e=ec({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:l}=e;if(e.headers=a=Ts.from(a),e.url=DO(PO(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Be.isFormData(n)){if(Zr.hasStandardBrowserEnv||Zr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(Be.isFunction(n.getHeaders)){const d=n.getHeaders(),f=["content-type","content-length"];Object.entries(d).forEach(([p,m])=>{f.includes(p.toLowerCase())&&a.set(p,m)})}}if(Zr.hasStandardBrowserEnv&&(r&&Be.isFunction(r)&&(r=r(e)),r||r!==!1&&ZU(e.url))){const d=s&&i&&eV.read(i);d&&a.set(s,d)}return e},rV=typeof XMLHttpRequest<"u",sV=rV&&function(t){return new Promise(function(n,r){const s=zO(t);let i=s.data;const a=Ts.from(s.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:f}=s,p,m,y,x,b;function S(){x&&x(),b&&b(),s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let C=new XMLHttpRequest;C.open(s.method.toUpperCase(),s.url,!0),C.timeout=s.timeout;function N(){if(!C)return;const D=Ts.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:D,config:t,request:C};LO(function(P){n(P),S()},function(P){r(P),S()},E),C=null}"onloadend"in C?C.onloadend=N:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(N)},C.onabort=function(){C&&(r(new rn("Request aborted",rn.ECONNABORTED,t,C)),C=null)},C.onerror=function(M){const E=M&&M.message?M.message:"Network Error",A=new rn(E,rn.ERR_NETWORK,t,C);A.event=M||null,r(A),C=null},C.ontimeout=function(){let M=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const E=s.transitional||MO;s.timeoutErrorMessage&&(M=s.timeoutErrorMessage),r(new rn(M,E.clarifyTimeoutError?rn.ETIMEDOUT:rn.ECONNABORTED,t,C)),C=null},i===void 0&&a.setContentType(null),"setRequestHeader"in C&&Be.forEach(a.toJSON(),function(M,E){C.setRequestHeader(E,M)}),Be.isUndefined(s.withCredentials)||(C.withCredentials=!!s.withCredentials),l&&l!=="json"&&(C.responseType=s.responseType),f&&([y,b]=rg(f,!0),C.addEventListener("progress",y)),d&&C.upload&&([m,x]=rg(d),C.upload.addEventListener("progress",m),C.upload.addEventListener("loadend",x)),(s.cancelToken||s.signal)&&(p=D=>{C&&(r(!D||D.type?new Lu(null,t,C):D),C.abort(),C=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const k=XU(s.url);if(k&&Zr.protocols.indexOf(k)===-1){r(new rn("Unsupported protocol "+k+":",rn.ERR_BAD_REQUEST,t));return}C.send(i||null)})},iV=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(f){if(!s){s=!0,l();const p=f instanceof Error?f:this.reason;r.abort(p instanceof rn?p:new Lu(p instanceof Error?p.message:p))}};let a=e&&setTimeout(()=>{a=null,i(new rn(`timeout ${e} of ms exceeded`,rn.ETIMEDOUT))},e);const l=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(i):f.removeEventListener("abort",i)}),t=null)};t.forEach(f=>f.addEventListener("abort",i));const{signal:d}=r;return d.unsubscribe=()=>Be.asap(l),d}},aV=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},oV=async function*(t,e){for await(const n of lV(t))yield*aV(n,e)},lV=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},OE=(t,e,n,r)=>{const s=oV(t,e);let i=0,a,l=d=>{a||(a=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:f,value:p}=await s.next();if(f){l(),d.close();return}let m=p.byteLength;if(n){let y=i+=m;n(y)}d.enqueue(new Uint8Array(p))}catch(f){throw l(f),f}},cancel(d){return l(d),s.return()}},{highWaterMark:2})},DE=64*1024,{isFunction:Jp}=Be,cV=(({Request:t,Response:e})=>({Request:t,Response:e}))(Be.global),{ReadableStream:ME,TextEncoder:RE}=Be.global,_E=(t,...e)=>{try{return!!t(...e)}catch{return!1}},uV=t=>{t=Be.merge.call({skipUndefined:!0},cV,t);const{fetch:e,Request:n,Response:r}=t,s=e?Jp(e):typeof fetch=="function",i=Jp(n),a=Jp(r);if(!s)return!1;const l=s&&Jp(ME),d=s&&(typeof RE=="function"?(b=>S=>b.encode(S))(new RE):async b=>new Uint8Array(await new n(b).arrayBuffer())),f=i&&l&&_E(()=>{let b=!1;const S=new n(Zr.origin,{body:new ME,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!S}),p=a&&l&&_E(()=>Be.isReadableStream(new r("").body)),m={stream:p&&(b=>b.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!m[b]&&(m[b]=(S,C)=>{let N=S&&S[b];if(N)return N.call(S);throw new rn(`Response type '${b}' is not supported`,rn.ERR_NOT_SUPPORT,C)})});const y=async b=>{if(b==null)return 0;if(Be.isBlob(b))return b.size;if(Be.isSpecCompliantForm(b))return(await new n(Zr.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(Be.isArrayBufferView(b)||Be.isArrayBuffer(b))return b.byteLength;if(Be.isURLSearchParams(b)&&(b=b+""),Be.isString(b))return(await d(b)).byteLength},x=async(b,S)=>{const C=Be.toFiniteNumber(b.getContentLength());return C??y(S)};return async b=>{let{url:S,method:C,data:N,signal:k,cancelToken:D,timeout:M,onDownloadProgress:E,onUploadProgress:A,responseType:P,headers:F,withCredentials:ee="same-origin",fetchOptions:be}=zO(b),ce=e||fetch;P=P?(P+"").toLowerCase():"text";let ae=iV([k,D&&D.toAbortSignal()],M),te=null;const ke=ae&&ae.unsubscribe&&(()=>{ae.unsubscribe()});let ze;try{if(A&&f&&C!=="get"&&C!=="head"&&(ze=await x(F,N))!==0){let ue=new n(S,{method:"POST",body:N,duplex:"half"}),se;if(Be.isFormData(N)&&(se=ue.headers.get("content-type"))&&F.setContentType(se),ue.body){const[fe,Ee]=EE(ze,rg(AE(A)));N=OE(ue.body,DE,fe,Ee)}}Be.isString(ee)||(ee=ee?"include":"omit");const W=i&&"credentials"in n.prototype,oe={...be,signal:ae,method:C.toUpperCase(),headers:F.normalize().toJSON(),body:N,duplex:"half",credentials:W?ee:void 0};te=i&&new n(S,oe);let ye=await(i?ce(te,be):ce(S,oe));const Fe=p&&(P==="stream"||P==="response");if(p&&(E||Fe&&ke)){const ue={};["status","statusText","headers"].forEach(Pe=>{ue[Pe]=ye[Pe]});const se=Be.toFiniteNumber(ye.headers.get("content-length")),[fe,Ee]=E&&EE(se,rg(AE(E),!0))||[];ye=new r(OE(ye.body,DE,fe,()=>{Ee&&Ee(),ke&&ke()}),ue)}P=P||"text";let U=await m[Be.findKey(m,P)||"text"](ye,b);return!Fe&&ke&&ke(),await new Promise((ue,se)=>{LO(ue,se,{data:U,headers:Ts.from(ye.headers),status:ye.status,statusText:ye.statusText,config:b,request:te})})}catch(W){throw ke&&ke(),W&&W.name==="TypeError"&&/Load failed|fetch/i.test(W.message)?Object.assign(new rn("Network Error",rn.ERR_NETWORK,b,te),{cause:W.cause||W}):rn.from(W,W&&W.code,b,te)}}},dV=new Map,IO=t=>{let e=t?t.env:{};const{fetch:n,Request:r,Response:s}=e,i=[r,s,n];let a=i.length,l=a,d,f,p=dV;for(;l--;)d=i[l],f=p.get(d),f===void 0&&p.set(d,f=l?new Map:uV(e)),p=f;return f};IO();const Hb={http:AU,xhr:sV,fetch:{get:IO}};Be.forEach(Hb,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const LE=t=>`- ${t}`,fV=t=>Be.isFunction(t)||t===null||t===!1,BO={getAdapter:(t,e)=>{t=Be.isArray(t)?t:[t];const{length:n}=t;let r,s;const i={};for(let a=0;a<n;a++){r=t[a];let l;if(s=r,!fV(r)&&(s=Hb[(l=String(r)).toLowerCase()],s===void 0))throw new rn(`Unknown adapter '${l}'`);if(s&&(Be.isFunction(s)||(s=s.get(e))))break;i[l||"#"+a]=s}if(!s){const a=Object.entries(i).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let l=n?a.length>1?`since :
`+a.map(LE).join(`
`):" "+LE(a[0]):"as no adapter specified";throw new rn("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:Hb};function wv(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Lu(null,t)}function PE(t){return wv(t),t.headers=Ts.from(t.headers),t.data=bv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),BO.getAdapter(t.adapter||Ch.adapter,t)(t).then(function(r){return wv(t),r.data=bv.call(t,t.transformResponse,r),r.headers=Ts.from(r.headers),r},function(r){return _O(r)||(wv(t),r&&r.response&&(r.response.data=bv.call(t,t.transformResponse,r.response),r.response.headers=Ts.from(r.response.headers))),Promise.reject(r)})}const FO="1.12.2",Ty={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ty[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const zE={};Ty.transitional=function(e,n,r){function s(i,a){return"[Axios v"+FO+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,l)=>{if(e===!1)throw new rn(s(a," has been removed"+(n?" in "+n:"")),rn.ERR_DEPRECATED);return n&&!zE[a]&&(zE[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,a,l):!0}};Ty.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function hV(t,e,n){if(typeof t!="object")throw new rn("options must be an object",rn.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],a=e[i];if(a){const l=t[i],d=l===void 0||a(l,i,t);if(d!==!0)throw new rn("option "+i+" must be "+d,rn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new rn("Unknown option "+i,rn.ERR_BAD_OPTION)}}const Rm={assertOptions:hV,validators:Ty},Ui=Rm.validators;let Vl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new jE,response:new jE}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ec(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Rm.assertOptions(r,{silentJSONParsing:Ui.transitional(Ui.boolean),forcedJSONParsing:Ui.transitional(Ui.boolean),clarifyTimeoutError:Ui.transitional(Ui.boolean)},!1),s!=null&&(Be.isFunction(s)?n.paramsSerializer={serialize:s}:Rm.assertOptions(s,{encode:Ui.function,serialize:Ui.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Rm.assertOptions(n,{baseUrl:Ui.spelling("baseURL"),withXsrfToken:Ui.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&Be.merge(i.common,i[n.method]);i&&Be.forEach(["delete","get","head","post","put","patch","common"],b=>{delete i[b]}),n.headers=Ts.concat(a,i);const l=[];let d=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(d=d&&S.synchronous,l.unshift(S.fulfilled,S.rejected))});const f=[];this.interceptors.response.forEach(function(S){f.push(S.fulfilled,S.rejected)});let p,m=0,y;if(!d){const b=[PE.bind(this),void 0];for(b.unshift(...l),b.push(...f),y=b.length,p=Promise.resolve(n);m<y;)p=p.then(b[m++],b[m++]);return p}y=l.length;let x=n;for(;m<y;){const b=l[m++],S=l[m++];try{x=b(x)}catch(C){S.call(this,C);break}}try{p=PE.call(this,x)}catch(b){return Promise.reject(b)}for(m=0,y=f.length;m<y;)p=p.then(f[m++],f[m++]);return p}getUri(e){e=ec(this.defaults,e);const n=PO(e.baseURL,e.url,e.allowAbsoluteUrls);return DO(n,e.params,e.paramsSerializer)}};Be.forEach(["delete","get","head","options"],function(e){Vl.prototype[e]=function(n,r){return this.request(ec(r||{},{method:e,url:n,data:(r||{}).data}))}});Be.forEach(["post","put","patch"],function(e){function n(r){return function(i,a,l){return this.request(ec(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}Vl.prototype[e]=n(),Vl.prototype[e+"Form"]=n(!0)});let pV=class $O{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(l=>{r.subscribe(l),i=l}).then(s);return a.cancel=function(){r.unsubscribe(i)},a},e(function(i,a,l){r.reason||(r.reason=new Lu(i,a,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new $O(function(s){e=s}),cancel:e}}};function mV(t){return function(n){return t.apply(null,n)}}function gV(t){return Be.isObject(t)&&t.isAxiosError===!0}const qb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qb).forEach(([t,e])=>{qb[e]=t});function UO(t){const e=new Vl(t),n=vO(Vl.prototype.request,e);return Be.extend(n,Vl.prototype,e,{allOwnKeys:!0}),Be.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return UO(ec(t,s))},n}const Ge=UO(Ch);Ge.Axios=Vl;Ge.CanceledError=Lu;Ge.CancelToken=pV;Ge.isCancel=_O;Ge.VERSION=FO;Ge.toFormData=jy;Ge.AxiosError=rn;Ge.Cancel=Ge.CanceledError;Ge.all=function(e){return Promise.all(e)};Ge.spread=mV;Ge.isAxiosError=gV;Ge.mergeConfig=ec;Ge.AxiosHeaders=Ts;Ge.formToJSON=t=>RO(Be.isHTMLForm(t)?new FormData(t):t);Ge.getAdapter=BO.getAdapter;Ge.HttpStatusCode=qb;Ge.default=Ge;const{Axios:vce,AxiosError:bce,CanceledError:wce,isCancel:Sce,CancelToken:Cce,VERSION:Nce,all:jce,Cancel:Tce,isAxiosError:Ece,spread:Ace,toFormData:kce,AxiosHeaders:Oce,HttpStatusCode:Dce,formToJSON:Mce,getAdapter:Rce,mergeConfig:_ce}=Ge;function yV(){const t=Hn(),[e,n]=j.useState(!1);async function r(a){n(!0);try{let{data:l}=await Ge.post("https://nexus-consults.com/api/public/api/admin/auth/login",a);n(!1),ge.success("logged in successfully",{duration:2e3}),localStorage.setItem("userToken",l.data.token),t("/")}catch(l){ge.error(l?.response?.data?.message,{duration:5e3}),n(!1)}}let s=I5({email:Mb().email("invalid mail").required("email is required"),password:Mb().min(9,"password must be at least 9 length").required("password is required")}),i=qF({initialValues:{email:"",password:""},validationSchema:s,onSubmit:r});return u.jsx(u.Fragment,{children:u.jsx("div",{className:"h-screen w-screen bg-gradient-to-tl from-primary/70 to-white flex flex-col justify-center items-center",children:u.jsxs("div",{className:`lg:w-1/3 w-full bg-primary text-white rounded-xl shadow-xl p-8 space-y-5\r
            `,children:[u.jsx("img",{className:"lg:w-1/3 w-1/2 m-auto",src:D5,alt:"logo"}),u.jsx("h1",{className:"text-3xl font-bold text-center",children:"Login"}),u.jsxs("form",{className:"flex flex-col gap-5",onSubmit:i.handleSubmit,children:[u.jsxs("div",{className:"relative z-0 w-full group mb-4",children:[u.jsx("input",{type:"email",name:"email",id:"email",onBlur:i.handleBlur,onChange:i.handleChange,className:"block py-2.5 px-0 w-full text-sm text-white bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-darkTeal peer",placeholder:" "}),u.jsx("label",{htmlFor:"email",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-darkTeal peer-focus:dark:text-darkTeal peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Email"}),i.errors.email&&i.touched.email&&u.jsx("div",{className:" text-sm text-red-800 rounded-lg bg-transparent dark:text-red-600 ",role:"alert",children:i.errors.email})]}),u.jsxs("div",{className:"relative z-0 w-full group",children:[u.jsx("input",{type:"password",name:"password",id:"password",onBlur:i.handleBlur,onChange:i.handleChange,className:"block py-2.5 px-0 w-full text-sm text-white bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-darkTeal peer",placeholder:" "}),u.jsx("label",{htmlFor:"password",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-darkTeal peer-focus:dark:text-darkTeal peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Password"}),i.errors.password&&i.touched.password&&u.jsx("div",{className:" text-sm text-red-800 rounded-lg bg-transparent dark:text-red-600",role:"alert",children:i.errors.password})]}),u.jsx("button",{type:"submit",disabled:e,className:"w-full h-12 rounded-xl bg-gradient-to-r from-white  to-primary/5 text-primary text-xl font-bold hover:shadow-md",style:{transition:"background-position 0.4s ease",backgroundSize:"110%"},onMouseEnter:a=>a.target.style.backgroundPosition="right",onMouseLeave:a=>a.target.style.backgroundPosition="left",children:e?u.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-gray-100 m-auto"}):"login"})]})]})})})}function ni({children:t}){return localStorage.getItem("userToken")?t:u.jsx(wP,{to:"/login"})}let Uw=j.createContext(!0);function xV(t){const[e,n]=j.useState(!0);return u.jsx(Uw.Provider,{value:{sidebarOpen:e,setSidebarOpen:n},children:t.children})}var VO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IE=Ht.createContext&&Ht.createContext(VO),vV=["attr","size","title"];function bV(t,e){if(t==null)return{};var n=wV(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wV(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sg(){return sg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sg.apply(this,arguments)}function BE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ig(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BE(Object(n),!0).forEach(function(r){SV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SV(t,e,n){return e=CV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CV(t){var e=NV(t,"string");return typeof e=="symbol"?e:e+""}function NV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HO(t){return t&&t.map((e,n)=>Ht.createElement(e.tag,ig({key:n},e.attr),HO(e.child)))}function sn(t){return e=>Ht.createElement(jV,sg({attr:ig({},t.attr)},e),HO(t.child))}function jV(t){var e=n=>{var{attr:r,size:s,title:i}=t,a=bV(t,vV),l=s||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),Ht.createElement("svg",sg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:d,style:ig(ig({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&Ht.createElement("title",null,i),t.children)};return IE!==void 0?Ht.createElement(IE.Consumer,null,n=>e(n)):e(VO)}function TV(t){return sn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.28 9.53 8.81 12l2.47 2.47a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215l-3-3a.75.75 0 0 1 0-1.06l3-3a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734Z"},child:[]},{tag:"path",attr:{d:"M3.75 2h16.5c.966 0 1.75.784 1.75 1.75v16.5A1.75 1.75 0 0 1 20.25 22H3.75A1.75 1.75 0 0 1 2 20.25V3.75C2 2.784 2.784 2 3.75 2ZM3.5 3.75v16.5c0 .138.112.25.25.25H15v-17H3.75a.25.25 0 0 0-.25.25Zm13 16.75h3.75a.25.25 0 0 0 .25-.25V3.75a.25.25 0 0 0-.25-.25H16.5Z"},child:[]}]})(t)}function EV(t){return sn({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Logout"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M20.968,18.448a2.577,2.577,0,0,1-2.73,2.5c-2.153.012-4.306,0-6.459,0a.5.5,0,0,1,0-1c2.2,0,4.4.032,6.6,0,1.107-.016,1.589-.848,1.589-1.838V5.647A1.546,1.546,0,0,0,19,4.175a3.023,3.023,0,0,0-1.061-.095H11.779a.5.5,0,0,1,0-1c2.224,0,4.465-.085,6.687,0a2.567,2.567,0,0,1,2.5,2.67Z"},child:[]},{tag:"path",attr:{d:"M3.176,11.663a.455.455,0,0,0-.138.311c0,.015,0,.028-.006.043s0,.027.006.041a.457.457,0,0,0,.138.312l3.669,3.669a.5.5,0,0,0,.707-.707L4.737,12.516H15.479a.5.5,0,0,0,0-1H4.737L7.552,8.7a.5.5,0,0,0-.707-.707Z"},child:[]}]}]}]})(t)}var Pu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},tc=typeof window>"u"||"Deno"in globalThis;function ls(){}function AV(t,e){return typeof t=="function"?t(e):t}function Kb(t){return typeof t=="number"&&t>=0&&t!==1/0}function qO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Po(t,e){return typeof t=="function"?t(e):t}function Ci(t,e){return typeof t=="function"?t(e):t}function FE(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==Vw(a,e.options))return!1}else if(!$f(e.queryKey,a))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function $E(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(nc(e.options.mutationKey)!==nc(i))return!1}else if(!$f(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Vw(t,e){return(e?.queryKeyHashFn||nc)(t)}function nc(t){return JSON.stringify(t,(e,n)=>Yb(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function $f(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>$f(t[n],e[n])):!1}function KO(t,e){if(t===e)return t;const n=UE(t)&&UE(e);if(n||Yb(t)&&Yb(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),a=i.length,l=n?[]:{},d=new Set(r);let f=0;for(let p=0;p<a;p++){const m=n?p:i[p];(!n&&d.has(m)||n)&&t[m]===void 0&&e[m]===void 0?(l[m]=void 0,f++):(l[m]=KO(t[m],e[m]),l[m]===t[m]&&t[m]!==void 0&&f++)}return s===a&&f===s?t:l}return e}function ag(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function UE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Yb(t){if(!VE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!VE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function VE(t){return Object.prototype.toString.call(t)==="[object Object]"}function kV(t){return new Promise(e=>{setTimeout(e,t)})}function Wb(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?KO(t,e):e}function OV(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function DV(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Hw=Symbol();function YO(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Hw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function WO(t,e){return typeof t=="function"?t(...e):!!t}var MV=class extends Pu{#t;#e;#n;constructor(){super(),this.#n=t=>{if(!tc&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#n=t,this.#e?.(),this.#e=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},qw=new MV,RV=class extends Pu{#t=!0;#e;#n;constructor(){super(),this.#n=t=>{if(!tc&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#n=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#t}},og=new RV;function Gb(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function _V(t){return Math.min(1e3*2**t,3e4)}function GO(t){return(t??"online")==="online"?og.isOnline():!0}var XO=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Sv(t){return t instanceof XO}function JO(t){let e=!1,n=0,r=!1,s;const i=Gb(),a=S=>{r||(y(new XO(S)),t.abort?.())},l=()=>{e=!0},d=()=>{e=!1},f=()=>qw.isFocused()&&(t.networkMode==="always"||og.isOnline())&&t.canRun(),p=()=>GO(t.networkMode)&&t.canRun(),m=S=>{r||(r=!0,t.onSuccess?.(S),s?.(),i.resolve(S))},y=S=>{r||(r=!0,t.onError?.(S),s?.(),i.reject(S))},x=()=>new Promise(S=>{s=C=>{(r||f())&&S(C)},t.onPause?.()}).then(()=>{s=void 0,r||t.onContinue?.()}),b=()=>{if(r)return;let S;const C=n===0?t.initialPromise:void 0;try{S=C??t.fn()}catch(N){S=Promise.reject(N)}Promise.resolve(S).then(m).catch(N=>{if(r)return;const k=t.retry??(tc?0:3),D=t.retryDelay??_V,M=typeof D=="function"?D(n,N):D,E=k===!0||typeof k=="number"&&n<k||typeof k=="function"&&k(n,N);if(e||!E){y(N);return}n++,t.onFail?.(n,N),kV(M).then(()=>f()?void 0:x()).then(()=>{e?y(N):b()})})};return{promise:i,cancel:a,continue:()=>(s?.(),i),cancelRetry:l,continueRetry:d,canStart:p,start:()=>(p()?b():x().then(b),i)}}var LV=t=>setTimeout(t,0);function PV(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=LV;const i=l=>{e?t.push(l):s(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(d=>{n(d)})})})};return{batch:l=>{let d;e++;try{d=l()}finally{e--,e||a()}return d},batchCalls:l=>(...d)=>{i(()=>{l(...d)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Er=PV(),QO=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Kb(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(tc?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},zV=class extends QO{#t;#e;#n;#r;#s;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=IV(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(t){this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=Wb(this.state.data,t,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#s?.promise;return this.#s?.cancel(t),e?e.then(ls).catch(ls):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>Ci(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Hw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Po(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!qO(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const n=new AbortController,r=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},s=()=>{const d=YO(this.options,e),p=(()=>{const m={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(m),m})();return this.#o=!1,this.options.persister?this.options.persister(d,p,this):d(p)},a=(()=>{const d={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:s};return r(d),d})();this.options.behavior?.onFetch(a,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#i({type:"fetch",meta:a.fetchOptions?.meta});const l=d=>{Sv(d)&&d.silent||this.#i({type:"error",error:d}),Sv(d)||(this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this)),this.scheduleGc()};return this.#s=JO({initialPromise:e?.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:d=>{if(d===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(f){l(f);return}this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),this.scheduleGc()},onError:l,onFail:(d,f)=>{this.#i({type:"failed",failureCount:d,error:f})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#s.start()}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...ZO(n.data,this.options),fetchMeta:t.meta??null};case"success":return this.#e=void 0,{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return Sv(r)&&r.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Er.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function ZO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:GO(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function IV(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var BV=class extends Pu{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,n){const r=e.queryKey,s=e.queryHash??Vw(r,e);let i=this.get(s);return i||(i=new zV({client:t,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(i)),i}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Er.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>FE(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>FE(t,n)):e}notify(t){Er.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Er.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Er.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},FV=class extends QO{#t;#e;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#e=t.mutationCache,this.#t=[],this.state=t.state||eD(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})};this.#n=JO({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(s,i)=>{this.#r({type:"failed",failureCount:s,error:i})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const n=this.state.status==="pending",r=!this.#n.canStart();try{if(n)e();else{this.#r({type:"pending",variables:t,isPaused:r}),await this.#e.config.onMutate?.(t,this);const i=await this.options.onMutate?.(t);i!==this.state.context&&this.#r({type:"pending",context:i,variables:t,isPaused:r})}const s=await this.#n.start();return await this.#e.config.onSuccess?.(s,t,this.state.context,this),await this.options.onSuccess?.(s,t,this.state.context),await this.#e.config.onSettled?.(s,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(s,null,t,this.state.context),this.#r({type:"success",data:s}),s}catch(s){try{throw await this.#e.config.onError?.(s,t,this.state.context,this),await this.options.onError?.(s,t,this.state.context),await this.#e.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,s,t,this.state.context),s}finally{this.#r({type:"error",error:s})}}finally{this.#e.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Er.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#e.notify({mutation:this,type:"updated",action:t})})}};function eD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $V=class extends Pu{constructor(t={}){super(),this.config=t,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(t,e,n){const r=new FV({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#t.add(t);const e=Qp(t);if(typeof e=="string"){const n=this.#e.get(e);n?n.push(t):this.#e.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#t.delete(t)){const e=Qp(t);if(typeof e=="string"){const n=this.#e.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#e.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Qp(t);if(typeof e=="string"){const r=this.#e.get(e)?.find(s=>s.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=Qp(t);return typeof e=="string"?this.#e.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Er.batch(()=>{this.#t.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>$E(e,n))}findAll(t={}){return this.getAll().filter(e=>$E(t,e))}notify(t){Er.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Er.batch(()=>Promise.all(t.map(e=>e.continue().catch(ls))))}};function Qp(t){return t.options.scope?.id}function HE(t){return{onFetch:(e,n)=>{const r=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},d=0;const f=async()=>{let p=!1;const m=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},y=YO(e.options,e.fetchOptions),x=async(b,S,C)=>{if(p)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const k=(()=>{const A={client:e.client,queryKey:e.queryKey,pageParam:S,direction:C?"backward":"forward",meta:e.options.meta};return m(A),A})(),D=await y(k),{maxPages:M}=e.options,E=C?DV:OV;return{pages:E(b.pages,D,M),pageParams:E(b.pageParams,S,M)}};if(s&&i.length){const b=s==="backward",S=b?UV:qE,C={pages:i,pageParams:a},N=S(r,C);l=await x(C,N,b)}else{const b=t??i.length;do{const S=d===0?a[0]??r.initialPageParam:qE(r,l);if(d>0&&S==null)break;l=await x(l,S),d++}while(d<b)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=f}}}function qE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function UV(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var VV=class{#t;#e;#n;#r;#s;#a;#o;#i;constructor(t={}){this.#t=t.queryCache||new BV,this.#e=t.mutationCache||new $V,this.#n=t.defaultOptions||{},this.#r=new Map,this.#s=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=qw.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#i=og.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#t.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#e.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#t.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Po(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#t.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=this.#t.get(r.queryHash)?.state.data,a=AV(e,i);if(a!==void 0)return this.#t.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Er.batch(()=>this.#t.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state}removeQueries(t){const e=this.#t;Er.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#t;return Er.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Er.batch(()=>this.#t.findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(ls).catch(ls)}invalidateQueries(t,e={}){return Er.batch(()=>(this.#t.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Er.batch(()=>this.#t.findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(ls)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(ls)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#t.build(this,e);return n.isStaleByTime(Po(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ls).catch(ls)}fetchInfiniteQuery(t){return t.behavior=HE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ls).catch(ls)}ensureInfiniteQueryData(t){return t.behavior=HE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return og.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(nc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{$f(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#s.set(nc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(r=>{$f(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Vw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Hw&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},HV=class extends Pu{constructor(t,e){super(),this.options=e,this.#t=t,this.#i=null,this.#o=Gb(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#n=void 0;#r=void 0;#s;#a;#o;#i;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),KE(this.#e,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Xb(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Xb(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(t){const e=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ci(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#e.setOptions(this.options),e._defaulted&&!ag(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&YE(this.#e,n,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#e!==n||Ci(this.options.enabled,this.#e)!==Ci(e.enabled,this.#e)||Po(this.options.staleTime,this.#e)!==Po(e.staleTime,this.#e))&&this.#g();const s=this.#y();r&&(this.#e!==n||Ci(this.options.enabled,this.#e)!==Ci(e.enabled,this.#e)||s!==this.#l)&&this.#x(s)}getOptimisticResult(t){const e=this.#t.getQueryCache().build(this.#t,t),n=this.createResult(e,t);return KV(this,n)&&(this.#r=n,this.#a=this.options,this.#s=this.#e.state),n}getCurrentResult(){return this.#r}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),Reflect.get(n,r))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#t.defaultQueryOptions(t),n=this.#t.getQueryCache().build(this.#t,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(t){this.#S();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(ls)),e}#g(){this.#b();const t=Po(this.options.staleTime,this.#e);if(tc||this.#r.isStale||!Kb(t))return;const n=qO(this.#r.dataUpdatedAt,t)+1;this.#c=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#x(t){this.#w(),this.#l=t,!(tc||Ci(this.options.enabled,this.#e)===!1||!Kb(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||qw.isFocused())&&this.#d()},this.#l))}#v(){this.#g(),this.#x(this.#y())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#e,r=this.options,s=this.#r,i=this.#s,a=this.#a,d=t!==n?t.state:this.#n,{state:f}=t;let p={...f},m=!1,y;if(e._optimisticResults){const F=this.hasListeners(),ee=!F&&KE(t,e),be=F&&YE(t,n,e,r);(ee||be)&&(p={...p,...ZO(f.data,t.options)}),e._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:x,errorUpdatedAt:b,status:S}=p;y=p.data;let C=!1;if(e.placeholderData!==void 0&&y===void 0&&S==="pending"){let F;s?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(F=s.data,C=!0):F=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,F!==void 0&&(S="success",y=Wb(s?.data,F,e),m=!0)}if(e.select&&y!==void 0&&!C)if(s&&y===i?.data&&e.select===this.#m)y=this.#f;else try{this.#m=e.select,y=e.select(y),y=Wb(s?.data,y,e),this.#f=y,this.#i=null}catch(F){this.#i=F}this.#i&&(x=this.#i,y=this.#f,b=Date.now(),S="error");const N=p.fetchStatus==="fetching",k=S==="pending",D=S==="error",M=k&&N,E=y!==void 0,P={status:S,fetchStatus:p.fetchStatus,isPending:k,isSuccess:S==="success",isError:D,isInitialLoading:M,isLoading:M,data:y,dataUpdatedAt:p.dataUpdatedAt,error:x,errorUpdatedAt:b,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>d.dataUpdateCount||p.errorUpdateCount>d.errorUpdateCount,isFetching:N,isRefetching:N&&!k,isLoadingError:D&&!E,isPaused:p.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:D&&E,isStale:Kw(t,e),refetch:this.refetch,promise:this.#o};if(this.options.experimental_prefetchInRender){const F=ce=>{P.status==="error"?ce.reject(P.error):P.data!==void 0&&ce.resolve(P.data)},ee=()=>{const ce=this.#o=P.promise=Gb();F(ce)},be=this.#o;switch(be.status){case"pending":t.queryHash===n.queryHash&&F(be);break;case"fulfilled":(P.status==="error"||P.data!==be.value)&&ee();break;case"rejected":(P.status!=="error"||P.error!==be.reason)&&ee();break}}return P}updateResult(){const t=this.#r,e=this.createResult(this.#e,this.options);if(this.#s=this.#e.state,this.#a=this.options,this.#s.data!==void 0&&(this.#h=this.#e),ag(e,t))return;this.#r=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!this.#p.size)return!0;const i=new Set(s??this.#p);return this.options.throwOnError&&i.add("error"),Object.keys(this.#r).some(a=>{const l=a;return this.#r[l]!==t[l]&&i.has(l)})};this.#C({listeners:n()})}#S(){const t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;const e=this.#e;this.#e=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#C(t){Er.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function qV(t,e){return Ci(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function KE(t,e){return qV(t,e)||t.state.data!==void 0&&Xb(t,e,e.refetchOnMount)}function Xb(t,e,n){if(Ci(e.enabled,t)!==!1&&Po(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Kw(t,e)}return!1}function YE(t,e,n,r){return(t!==e||Ci(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Kw(t,n)}function Kw(t,e){return Ci(e.enabled,t)!==!1&&t.isStaleByTime(Po(e.staleTime,t))}function KV(t,e){return!ag(t.getCurrentResult(),e)}var YV=class extends Pu{#t;#e=void 0;#n;#r;constructor(e,n){super(),this.#t=e,this.setOptions(n),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#t.defaultMutationOptions(e),ag(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&nc(n.mutationKey)!==nc(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#s(),this.#a(e)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#s(),this.#a()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(e)}#s(){const e=this.#n?.state??eD();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){Er.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#e.variables,r=this.#e.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,n,r),this.#r.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#r.onError?.(e.error,n,r),this.#r.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#e)})})}},tD=j.createContext(void 0),Li=t=>{const e=j.useContext(tD);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},WV=({client:t,children:e})=>(j.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(tD.Provider,{value:t,children:e})),nD=j.createContext(!1),GV=()=>j.useContext(nD);nD.Provider;function XV(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var JV=j.createContext(XV()),QV=()=>j.useContext(JV),ZV=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},eH=t=>{j.useEffect(()=>{t.clearReset()},[t])},tH=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||WO(n,[t.error,r])),nH=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},rH=(t,e)=>t.isLoading&&t.isFetching&&!e,sH=(t,e)=>t?.suspense&&e.isPending,WE=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function iH(t,e,n){const r=GV(),s=QV(),i=Li(),a=i.defaultQueryOptions(t);i.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=r?"isRestoring":"optimistic",nH(a),ZV(a,s),eH(s);const l=!i.getQueryCache().get(a.queryHash),[d]=j.useState(()=>new e(i,a)),f=d.getOptimisticResult(a),p=!r&&t.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(m=>{const y=p?d.subscribe(Er.batchCalls(m)):ls;return d.updateResult(),y},[d,p]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),j.useEffect(()=>{d.setOptions(a)},[a,d]),sH(a,f))throw WE(a,d,s);if(tH({result:f,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw f.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(a,f),a.experimental_prefetchInRender&&!tc&&rH(f,r)&&(l?WE(a,d,s):i.getQueryCache().get(a.queryHash)?.promise)?.catch(ls).finally(()=>{d.updateResult()}),a.notifyOnChangeProps?f:d.trackResult(f)}function Cn(t,e){return iH(t,HV)}function di(t,e){const n=Li(),[r]=j.useState(()=>new YV(n,t));j.useEffect(()=>{r.setOptions(t)},[r,t]);const s=j.useSyncExternalStore(j.useCallback(a=>r.subscribe(Er.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=j.useCallback((a,l)=>{r.mutate(a,l).catch(ls)},[r]);if(s.error&&WO(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function aH(t){return sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M436.67 184.11a27.17 27.17 0 0 1-38.3 0l-22.48-22.49a27.15 27.15 0 0 1 0-38.29l50.89-50.89a.85.85 0 0 0-.26-1.38C393.68 57 351.09 64.15 324.05 91c-25.88 25.69-27.35 64.27-17.87 98a27 27 0 0 1-7.67 27.14l-173 160.76a40.76 40.76 0 1 0 57.57 57.54l162.15-173.3a27 27 0 0 1 26.77-7.7c33.46 8.94 71.49 7.26 97.07-17.94 27.49-27.08 33.42-74.94 20.1-102.33a.85.85 0 0 0-1.36-.22z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M224 284c-17.48-17-25.49-24.91-31-30.29a18.24 18.24 0 0 1-3.33-21.35 20.76 20.76 0 0 1 3.5-4.62l15.68-15.29a18.66 18.66 0 0 1 5.63-3.87 18.11 18.11 0 0 1 20 3.62c5.45 5.29 15.43 15 33.41 32.52m49.18 46.58c40.95 38.1 90.62 83.27 110 99.41a13.46 13.46 0 0 1 .94 19.92L394.63 444a14 14 0 0 1-20.29-.76c-16.53-19.18-61.09-67.11-99.27-107"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m17.34 193.5 29.41-28.74a4.71 4.71 0 0 1 3.41-1.35 4.85 4.85 0 0 1 3.41 1.35h0a9.86 9.86 0 0 0 8.19 2.77c3.83-.42 7.92-1.6 10.57-4.12 6-5.8-.94-17.23 4.34-24.54a207 207 0 0 1 19.78-22.6c6-5.88 29.84-28.32 69.9-44.45A107.31 107.31 0 0 1 206.67 64c22.59 0 40 10 46.26 15.67a89.54 89.54 0 0 1 10.28 11.64 78.92 78.92 0 0 0-9.21-2.77 68.82 68.82 0 0 0-20-1.26c-13.33 1.09-29.41 7.26-38 14-13.9 11-19.87 25.72-20.81 44.71-.68 14.12 2.72 22.1 36.1 55.49a6.6 6.6 0 0 1-.34 9.16l-18.22 18a6.88 6.88 0 0 1-9.54.09c-21.94-21.94-36.65-33.09-45-38.16s-15.07-6.5-18.3-6.85a30.85 30.85 0 0 0-18.27 3.87 11.39 11.39 0 0 0-2.64 2 14.14 14.14 0 0 0 .42 20.08l1.71 1.6a4.63 4.63 0 0 1 0 6.64L71.73 246.6a4.71 4.71 0 0 1-3.41 1.4 4.86 4.86 0 0 1-3.41-1.35l-47.57-46.43a4.88 4.88 0 0 1 0-6.72z"},child:[]}]})(t)}function oH(t){return sn({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 14V16C8.68629 16 6 18.6863 6 22H4C4 17.5817 7.58172 14 12 14ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13ZM12 11C14.21 11 16 9.21 16 7C16 4.79 14.21 3 12 3C9.79 3 8 4.79 8 7C8 9.21 9.79 11 12 11ZM21 17H22V22H14V17H15V16C15 14.3431 16.3431 13 18 13C19.6569 13 21 14.3431 21 16V17ZM19 17V16C19 15.4477 18.5523 15 18 15C17.4477 15 17 15.4477 17 16V17H19Z"},child:[]}]})(t)}function lH(t){return sn({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14.763.075A.5.5 0 0 1 15 .5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V14h-1v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V10a.5.5 0 0 1 .342-.474L6 7.64V4.5a.5.5 0 0 1 .276-.447l8-4a.5.5 0 0 1 .487.022M6 8.694 1 10.36V15h5zM7 15h2v-1.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5V15h2V1.309l-7 3.5z"},child:[]},{tag:"path",attr:{d:"M2 11h1v1H2zm2 0h1v1H4zm-2 2h1v1H2zm2 0h1v1H4zm4-4h1v1H8zm2 0h1v1h-1zm-2 2h1v1H8zm2 0h1v1h-1zm2-2h1v1h-1zm0 2h1v1h-1zM8 7h1v1H8zm2 0h1v1h-1zm2 0h1v1h-1zM8 5h1v1H8zm2 0h1v1h-1zm2 0h1v1h-1zm0-2h1v1h-1z"},child:[]}]})(t)}function cH(t){return sn({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2 2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zM1 4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1zm7.5.5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0zM2 5.5a.5.5 0 0 1 .5-.5H6a.5.5 0 0 1 0 1H2.5a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5H6a.5.5 0 0 1 0 1H2.5a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5H6a.5.5 0 0 1 0 1H2.5a.5.5 0 0 1-.5-.5M10.5 5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5zM13 8h-2V6h2z"},child:[]}]})(t)}function uH(t){return sn({attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M17 7C17 5.34315 15.6569 4 14 4H10C8.34315 4 7 5.34315 7 7H6C4.34315 7 3 8.34315 3 10V18C3 19.6569 4.34315 21 6 21H18C19.6569 21 21 19.6569 21 18V10C21 8.34315 19.6569 7 18 7H17ZM14 6H10C9.44772 6 9 6.44772 9 7H15C15 6.44772 14.5523 6 14 6ZM6 9H18C18.5523 9 19 9.44772 19 10V18C19 18.5523 18.5523 19 18 19H6C5.44772 19 5 18.5523 5 18V10C5 9.44772 5.44772 9 6 9Z",fill:"currentColor"},child:[]}]})(t)}function dH(t){return sn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M3,6 L21,6 L3,6 Z M10,2 L10,4 M14,2 L14,4 M16,12 C18.3736719,13.1826446 20,15.6506255 20,19 L20,23 L4,23 L4,19 C4,15.6457258 5.6310898,13.1754259 8,12 M12,16.5 L12,23 M12,13 C15.3137085,13 18,10.3137085 18,7 C18,3.6862915 15.3137085,1 12,1 C8.6862915,1 6,3.6862915 6,7 C6,10.3137085 8.6862915,13 12,13 Z M8,12 C8,14.209139 9.790861,16 12,16 L12,16 C14.209139,16 16,14.209139 16,12"},child:[]}]})(t)}function fH(t){return sn({attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4.5 1L4 1.5V3.02746C4.16417 3.00932 4.331 3 4.5 3C4.669 3 4.83583 3.00932 5 3.02746V2H14V7H12.2929L11 8.29289V7H8.97254C8.99068 7.16417 9 7.331 9 7.5C9 7.669 8.99068 7.83583 8.97254 8H10V9.5L10.8536 9.85355L12.7071 8H14.5L15 7.5V1.5L14.5 1H4.5Z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M6.41705 10.4288C7.37039 9.80348 8 8.72527 8 7.5C8 5.567 6.433 4 4.5 4C2.567 4 1 5.567 1 7.5C1 8.72527 1.62961 9.80348 2.58295 10.4288C2.11364 10.6498 1.68557 10.9505 1.31802 11.318C0.900156 11.7359 0.568688 12.232 0.342542 12.7779C0.180451 13.1692 0.0747425 13.5807 0.0278638 14C0.00933826 14.1657 0 14.3326 0 14.5V15H1L0.999398 14.5C0.999398 14.4784 0.999599 14.4567 1 14.4351C1.00811 13.9975 1.09823 13.5651 1.26587 13.1604C1.44179 12.7357 1.69964 12.3498 2.0247 12.0247C2.34976 11.6996 2.73566 11.4418 3.16038 11.2659C3.57088 11.0958 4.00986 11.0056 4.45387 10.9997C4.46922 10.9999 4.4846 11 4.5 11C4.5154 11 4.53078 10.9999 4.54613 10.9997C4.99014 11.0056 5.42912 11.0958 5.83962 11.2659C6.26433 11.4418 6.65024 11.6996 6.9753 12.0247C7.30036 12.3498 7.55821 12.7357 7.73413 13.1604C7.90177 13.5651 7.99189 13.9975 8 14.4351C8.0004 14.4567 8.0006 14.4784 8.0006 14.5L8 15H9V14.5C9 14.3326 8.99066 14.1657 8.97214 14C8.92526 13.5807 8.81955 13.1692 8.65746 12.7779C8.43131 12.232 8.09984 11.7359 7.68198 11.318C7.31443 10.9505 6.88636 10.6498 6.41705 10.4288ZM4.5 10C3.11929 10 2 8.88071 2 7.5C2 6.11929 3.11929 5 4.5 5C5.88071 5 7 6.11929 7 7.5C7 8.88071 5.88071 10 4.5 10Z"},child:[]}]})(t)}function hH(t){return sn({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13.5 0h-12c-0.825 0-1.5 0.675-1.5 1.5v13c0 0.825 0.675 1.5 1.5 1.5h12c0.825 0 1.5-0.675 1.5-1.5v-13c0-0.825-0.675-1.5-1.5-1.5zM13 14h-11v-12h11v12zM4 9h7v1h-7zM4 11h7v1h-7zM5 4.5c0-0.828 0.672-1.5 1.5-1.5s1.5 0.672 1.5 1.5c0 0.828-0.672 1.5-1.5 1.5s-1.5-0.672-1.5-1.5zM7.5 6h-2c-0.825 0-1.5 0.45-1.5 1v1h5v-1c0-0.55-0.675-1-1.5-1z"},child:[]}]})(t)}function pH(t){return sn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 3H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zM9 9H5V5h4v4zm11 4h-6a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1zm-1 6h-4v-4h4v4zM17 3c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4-1.794-4-4-4zm0 6c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2zM7 13c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4-1.794-4-4-4zm0 6c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2z"},child:[]}]})(t)}function mH(){const{sidebarOpen:t,setSidebarOpen:e}=j.useContext(Uw),[n,r]=j.useState(!1),s=Hn();async function i(){r(!0);try{let y=await Ge.post("https://nexus-consults.com/api/public/api/admin/auth/logout",{},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}});localStorage.removeItem("userToken"),s("/login"),ge.success("logged Out Successfully",{duration:2e3}),r(!1)}catch(y){y.status==401&&(localStorage.removeItem("userToken"),s("/login")),r(!1),ge.error(y.response?.data?.message||"something went wrong",{duration:3e3}),localStorage.removeItem("userToken"),s("/login")}}const a=()=>e(!t),{data:l,isLoading:d,error:f,isError:p}=Cn({queryKey:["currentUser"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}),m=[{title:"Admins",path:"/admins",icon:u.jsx(oH,{}),permission:"view_admins"},{title:"Services",path:"/services",icon:u.jsx(aH,{}),permission:"view_services"},{title:"Projects",path:"/projects",icon:u.jsx(lH,{}),permission:"view_projects"},{title:"Blogs",path:"/blogs",icon:u.jsx(cH,{}),permission:"view_blogs"},{title:"Jobs",path:"/jobs",icon:u.jsx(uH,{}),permission:"view_jobs"},{title:"Jobs Applications",path:"/jobs-applications",icon:u.jsx(dH,{}),permission:"view_job_applications"},{title:"Testmonials",path:"/testmonials",icon:u.jsx(fH,{}),permission:"view_feedbacks"},{title:"About Us",path:"/about-us",icon:u.jsx(hH,{}),permission:"view_feedbacks"},{title:"Disciplines",path:"/disciplines",icon:u.jsx(pH,{}),permission:"view_disciplines"}];return u.jsx(u.Fragment,{children:u.jsxs("div",{className:`h-full bg-tramsparent p-5 fixed w-56 left-0 ${t?"translate-x-0":"-translate-x-full"} transition-all duration-500 z-50`,children:[u.jsx("div",{className:`absolute z-50 ${t?"top-5 right-5 -translate-x-1/2 translate-y-1/2 text-gray-400":"top-2 -right-2 translate-x-full p-1.5 flex justify-center items-center bg-white text-gray-700 bg-opacity-90 aspect-square rounded-full cursor-pointer"} transition-all duration-500`,children:u.jsx("button",{onClick:a,children:u.jsx(TV,{className:"text-2xl"})})}),u.jsxs("div",{className:"h-full bg-primary rounded-2xl p-5 pt-10 flex flex-col justify-between overflow-y-auto shadow-xl",children:[u.jsxs("div",{className:"",children:[u.jsx("div",{className:"flex justify-center items-center overflow-hidden mb-2",children:u.jsx("img",{src:D5,alt:"Logo",className:"w-4/5"})}),u.jsx("div",{className:"flex flex-col gap-1 text-gray-400 text-base",children:m.map((y,x)=>u.jsx(u.Fragment,{children:(l?.data?.data?.admin?.permissions.includes(y.permission)||y.permission=="")&&u.jsxs(A5,{className:"px-4 py-2 rounded-xl flex items-center gap-2",to:y.path,children:[u.jsxs("div",{className:"",children:[y.icon," "]}),y.title]},y.name)}))})]}),u.jsx("div",{className:"flex flex-col",children:u.jsxs("button",{onClick:i,disabled:n,className:"bg-gray-400 flex justify-center items-center text-white p-2 rounded-xl mb-2 gap-2 disabled:cursor-not-allowed disabled:opacity-50 capitalize",children:["Logout ",u.jsx(EV,{className:"text-2xl font-extrabold"})]})})]})]})})}const gH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yH=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),GE=t=>{const e=yH(t);return e.charAt(0).toUpperCase()+e.slice(1)},rD=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),xH=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var vH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const bH=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},d)=>j.createElement("svg",{ref:d,...vH,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:rD("lucide",s),...!i&&!xH(l)&&{"aria-hidden":"true"},...l},[...a.map(([f,p])=>j.createElement(f,p)),...Array.isArray(i)?i:[i]]));const gn=(t,e)=>{const n=j.forwardRef(({className:r,...s},i)=>j.createElement(bH,{ref:i,iconNode:e,className:rD(`lucide-${gH(GE(t))}`,`lucide-${t}`,r),...s}));return n.displayName=GE(t),n};const wH=[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],XE=gn("align-center",wH);const SH=[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]],CH=gn("align-justify",SH);const NH=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],JE=gn("align-left",NH);const jH=[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],QE=gn("align-right",jH);const TH=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],EH=gn("bold",TH);const AH=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],kH=gn("calendar",AH);const OH=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ZE=gn("check",OH);const DH=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],MH=gn("circle-user-round",DH);const RH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ns=gn("circle-x",RH);const _H=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],LH=gn("code-xml",_H);const PH=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],zH=gn("heading-1",PH);const IH=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],BH=gn("heading-2",IH);const FH=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],$H=gn("heading-3",FH);const UH=[["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 10v3a1 1 0 0 0 1 1h3",key:"tj5zdr"}],["path",{d:"M21 10v8",key:"1kdml4"}],["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}]],VH=gn("heading-4",UH);const HH=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 13v-3h4",key:"1nvgqp"}],["path",{d:"M17 17.7c.4.2.8.3 1.3.3 1.5 0 2.7-1.1 2.7-2.5S19.8 13 18.3 13H17",key:"2nebdn"}]],qH=gn("heading-5",HH);const KH=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["circle",{cx:"19",cy:"16",r:"2",key:"15mx69"}],["path",{d:"M20 10c-2 2-3 3.5-3 6",key:"f35dl0"}]],YH=gn("heading-6",KH);const WH=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],sD=gn("image",WH);const GH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],XH=gn("info",GH);const JH=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],QH=gn("italic",JH);const ZH=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],iD=gn("link",ZH);const eq=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],tq=gn("list-ordered",eq);const nq=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],rq=gn("list",nq);const sq=[["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M12 2v10.3a4 4 0 0 1-1.172 2.872L4 22",key:"1hyw0i"}],["path",{d:"m20 22-5-5",key:"1m27yz"}]],iq=gn("merge",sq);const aq=[["path",{d:"M5 12h14",key:"1ays0h"}]],oq=gn("minus",aq);const lq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],eA=gn("plus",lq);const cq=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],uq=gn("quote",cq);const dq=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],fq=gn("redo",dq);const hq=[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]],pq=gn("split",hq);const mq=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],gq=gn("strikethrough",mq);const yq=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],xq=gn("table",yq);const vq=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Cv=gn("trash-2",vq);const bq=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],wq=gn("underline",bq);const Sq=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],Cq=gn("undo",Sq);const Nq=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],aD=gn("unlink",Nq);const jq=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],oD=gn("video",jq);const Tq=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],tA=gn("x",Tq);const Eq=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],Aq=gn("youtube",Eq);function kq(){const t=Hn(),{data:e,isLoading:n}=Cn({queryKey:["currentUser"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})});return u.jsx(u.Fragment,{children:u.jsx("div",{onClick:()=>t("/user-setting"),className:"fixed top-5 right-5 h-11 w-11 flex justify-center items-center rounded-full bg-white cursor-pointer shadow-lg",children:e?.data?.data?.user?.profile_image?u.jsx("img",{src:e?.data?.data?.user?.profile_image,alt:"Profile",className:"w-10 h-10 rounded-full object-cover border-gray-200"}):u.jsx(MH,{className:"hover:scale-[1.04] transition-all"})})})}function Oq(){const{sidebarOpen:t,setSidebarOpen:e}=j.useContext(Uw);return u.jsxs(u.Fragment,{children:[u.jsx(kq,{}),u.jsxs("div",{className:"flex min-h-screen",children:[u.jsx("div",{className:`${t?"md:w-56":"w-0"} transition-all duration-500`,children:u.jsx(mH,{})}),u.jsx("div",{className:`${t?"w-full md:w-[calc(100%-224px)] ps-0":"w-full"} md:p-5  text-black transition-all duration-500 bg-background`,children:u.jsx(SP,{})})]})]})}var Nv={exports:{}},jv,nA;function Dq(){if(nA)return jv;nA=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return jv=t,jv}var Tv,rA;function Mq(){if(rA)return Tv;rA=1;var t=Dq();function e(){}function n(){}return n.resetWarningCache=e,Tv=function(){function r(a,l,d,f,p,m){if(m!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function s(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return i.PropTypes=i,i},Tv}var sA;function Rq(){return sA||(sA=1,Nv.exports=Mq()()),Nv.exports}var _q=Rq();const Kn=Ka(_q);var Ev,iA;function Lq(){if(iA)return Ev;iA=1;function t(l){return l&&typeof l=="object"&&"default"in l?l.default:l}var e=dy(),n=t(e);function r(l,d,f){return d in l?Object.defineProperty(l,d,{value:f,enumerable:!0,configurable:!0,writable:!0}):l[d]=f,l}function s(l,d){l.prototype=Object.create(d.prototype),l.prototype.constructor=l,l.__proto__=d}var i=!!(typeof window<"u"&&window.document&&window.document.createElement);function a(l,d,f){if(typeof l!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof d!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof f<"u"&&typeof f!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function p(m){return m.displayName||m.name||"Component"}return function(y){if(typeof y!="function")throw new Error("Expected WrappedComponent to be a React component.");var x=[],b;function S(){b=l(x.map(function(N){return N.props})),C.canUseDOM?d(b):f&&(b=f(b))}var C=function(N){s(k,N);function k(){return N.apply(this,arguments)||this}k.peek=function(){return b},k.rewind=function(){if(k.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var E=b;return b=void 0,x=[],E};var D=k.prototype;return D.UNSAFE_componentWillMount=function(){x.push(this),S()},D.componentDidUpdate=function(){S()},D.componentWillUnmount=function(){var E=x.indexOf(this);x.splice(E,1),S()},D.render=function(){return n.createElement(y,this.props)},k}(e.PureComponent);return r(C,"displayName","SideEffect("+p(y)+")"),r(C,"canUseDOM",i),C}}return Ev=a,Ev}var Pq=Lq();const zq=Ka(Pq);var Av,aA;function Iq(){if(aA)return Av;aA=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(i,a){if(i===a)return!0;if(i&&a&&typeof i=="object"&&typeof a=="object"){if(i.constructor!==a.constructor)return!1;var l,d,f;if(Array.isArray(i)){if(l=i.length,l!=a.length)return!1;for(d=l;d--!==0;)if(!s(i[d],a[d]))return!1;return!0}var p;if(e&&i instanceof Map&&a instanceof Map){if(i.size!==a.size)return!1;for(p=i.entries();!(d=p.next()).done;)if(!a.has(d.value[0]))return!1;for(p=i.entries();!(d=p.next()).done;)if(!s(d.value[1],a.get(d.value[0])))return!1;return!0}if(n&&i instanceof Set&&a instanceof Set){if(i.size!==a.size)return!1;for(p=i.entries();!(d=p.next()).done;)if(!a.has(d.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(a)){if(l=i.length,l!=a.length)return!1;for(d=l;d--!==0;)if(i[d]!==a[d])return!1;return!0}if(i.constructor===RegExp)return i.source===a.source&&i.flags===a.flags;if(i.valueOf!==Object.prototype.valueOf&&typeof i.valueOf=="function"&&typeof a.valueOf=="function")return i.valueOf()===a.valueOf();if(i.toString!==Object.prototype.toString&&typeof i.toString=="function"&&typeof a.toString=="function")return i.toString()===a.toString();if(f=Object.keys(i),l=f.length,l!==Object.keys(a).length)return!1;for(d=l;d--!==0;)if(!Object.prototype.hasOwnProperty.call(a,f[d]))return!1;if(t&&i instanceof Element)return!1;for(d=l;d--!==0;)if(!((f[d]==="_owner"||f[d]==="__v"||f[d]==="__o")&&i.$$typeof)&&!s(i[f[d]],a[f[d]]))return!1;return!0}return i!==i&&a!==a}return Av=function(a,l){try{return s(a,l)}catch(d){if((d.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw d}},Av}var Bq=Iq();const Fq=Ka(Bq);var kv,oA;function $q(){if(oA)return kv;oA=1;var t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(i){if(i==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}function s(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de",Object.getOwnPropertyNames(i)[0]==="5")return!1;for(var a={},l=0;l<10;l++)a["_"+String.fromCharCode(l)]=l;var d=Object.getOwnPropertyNames(a).map(function(p){return a[p]});if(d.join("")!=="0123456789")return!1;var f={};return"abcdefghijklmnopqrst".split("").forEach(function(p){f[p]=p}),Object.keys(Object.assign({},f)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return kv=s()?Object.assign:function(i,a){for(var l,d=r(i),f,p=1;p<arguments.length;p++){l=Object(arguments[p]);for(var m in l)e.call(l,m)&&(d[m]=l[m]);if(t){f=t(l);for(var y=0;y<f.length;y++)n.call(l,f[y])&&(d[f[y]]=l[f[y]])}}return d},kv}var Uq=$q();const Vq=Ka(Uq);var Hl={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},nn={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(nn).map(function(t){return nn[t]});var Wn={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},lg={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Uf={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},Hq=Object.keys(lg).reduce(function(t,e){return t[lg[e]]=e,t},{}),qq=[nn.NOSCRIPT,nn.SCRIPT,nn.STYLE],Ei="data-react-helmet",Kq=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yq=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Wq=function(){function t(e,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),bs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gq=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},lA=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},Xq=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},Jb=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Jq=function(e){var n=pu(e,nn.TITLE),r=pu(e,Uf.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var s=pu(e,Uf.DEFAULT_TITLE);return n||s||void 0},Qq=function(e){return pu(e,Uf.ON_CHANGE_CLIENT_STATE)||function(){}},Ov=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,s){return bs({},r,s)},{})},Zq=function(e,n){return n.filter(function(r){return typeof r[nn.BASE]<"u"}).map(function(r){return r[nn.BASE]}).reverse().reduce(function(r,s){if(!r.length)for(var i=Object.keys(s),a=0;a<i.length;a++){var l=i[a],d=l.toLowerCase();if(e.indexOf(d)!==-1&&s[d])return r.concat(s)}return r},[])},Wd=function(e,n,r){var s={};return r.filter(function(i){return Array.isArray(i[e])?!0:(typeof i[e]<"u"&&rK("Helmet: "+e+' should be of type "Array". Instead found type "'+Kq(i[e])+'"'),!1)}).map(function(i){return i[e]}).reverse().reduce(function(i,a){var l={};a.filter(function(y){for(var x=void 0,b=Object.keys(y),S=0;S<b.length;S++){var C=b[S],N=C.toLowerCase();n.indexOf(N)!==-1&&!(x===Wn.REL&&y[x].toLowerCase()==="canonical")&&!(N===Wn.REL&&y[N].toLowerCase()==="stylesheet")&&(x=N),n.indexOf(C)!==-1&&(C===Wn.INNER_HTML||C===Wn.CSS_TEXT||C===Wn.ITEM_PROP)&&(x=C)}if(!x||!y[x])return!1;var k=y[x].toLowerCase();return s[x]||(s[x]={}),l[x]||(l[x]={}),s[x][k]?!1:(l[x][k]=!0,!0)}).reverse().forEach(function(y){return i.push(y)});for(var d=Object.keys(l),f=0;f<d.length;f++){var p=d[f],m=Vq({},s[p],l[p]);s[p]=m}return i},[]).reverse()},pu=function(e,n){for(var r=e.length-1;r>=0;r--){var s=e[r];if(s.hasOwnProperty(n))return s[n]}return null},eK=function(e){return{baseTag:Zq([Wn.HREF,Wn.TARGET],e),bodyAttributes:Ov(Hl.BODY,e),defer:pu(e,Uf.DEFER),encode:pu(e,Uf.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Ov(Hl.HTML,e),linkTags:Wd(nn.LINK,[Wn.REL,Wn.HREF],e),metaTags:Wd(nn.META,[Wn.NAME,Wn.CHARSET,Wn.HTTPEQUIV,Wn.PROPERTY,Wn.ITEM_PROP],e),noscriptTags:Wd(nn.NOSCRIPT,[Wn.INNER_HTML],e),onChangeClientState:Qq(e),scriptTags:Wd(nn.SCRIPT,[Wn.SRC,Wn.INNER_HTML],e),styleTags:Wd(nn.STYLE,[Wn.CSS_TEXT],e),title:Jq(e),titleAttributes:Ov(Hl.TITLE,e)}},Qb=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){Qb(e)},0)}}(),cA=function(e){return clearTimeout(e)},tK=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Qb:global.requestAnimationFrame||Qb,nK=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||cA:global.cancelAnimationFrame||cA,rK=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Gd=null,sK=function(e){Gd&&nK(Gd),e.defer?Gd=tK(function(){uA(e,function(){Gd=null})}):(uA(e),Gd=null)},uA=function(e,n){var r=e.baseTag,s=e.bodyAttributes,i=e.htmlAttributes,a=e.linkTags,l=e.metaTags,d=e.noscriptTags,f=e.onChangeClientState,p=e.scriptTags,m=e.styleTags,y=e.title,x=e.titleAttributes;Zb(nn.BODY,s),Zb(nn.HTML,i),iK(y,x);var b={baseTag:Gc(nn.BASE,r),linkTags:Gc(nn.LINK,a),metaTags:Gc(nn.META,l),noscriptTags:Gc(nn.NOSCRIPT,d),scriptTags:Gc(nn.SCRIPT,p),styleTags:Gc(nn.STYLE,m)},S={},C={};Object.keys(b).forEach(function(N){var k=b[N],D=k.newTags,M=k.oldTags;D.length&&(S[N]=D),M.length&&(C[N]=b[N].oldTags)}),n&&n(),f(e,S,C)},lD=function(e){return Array.isArray(e)?e.join(""):e},iK=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=lD(e)),Zb(nn.TITLE,n)},Zb=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var s=r.getAttribute(Ei),i=s?s.split(","):[],a=[].concat(i),l=Object.keys(n),d=0;d<l.length;d++){var f=l[d],p=n[f]||"";r.getAttribute(f)!==p&&r.setAttribute(f,p),i.indexOf(f)===-1&&i.push(f);var m=a.indexOf(f);m!==-1&&a.splice(m,1)}for(var y=a.length-1;y>=0;y--)r.removeAttribute(a[y]);i.length===a.length?r.removeAttribute(Ei):r.getAttribute(Ei)!==l.join(",")&&r.setAttribute(Ei,l.join(","))}},Gc=function(e,n){var r=document.head||document.querySelector(nn.HEAD),s=r.querySelectorAll(e+"["+Ei+"]"),i=Array.prototype.slice.call(s),a=[],l=void 0;return n&&n.length&&n.forEach(function(d){var f=document.createElement(e);for(var p in d)if(d.hasOwnProperty(p))if(p===Wn.INNER_HTML)f.innerHTML=d.innerHTML;else if(p===Wn.CSS_TEXT)f.styleSheet?f.styleSheet.cssText=d.cssText:f.appendChild(document.createTextNode(d.cssText));else{var m=typeof d[p]>"u"?"":d[p];f.setAttribute(p,m)}f.setAttribute(Ei,"true"),i.some(function(y,x){return l=x,f.isEqualNode(y)})?i.splice(l,1):a.push(f)}),i.forEach(function(d){return d.parentNode.removeChild(d)}),a.forEach(function(d){return r.appendChild(d)}),{oldTags:i,newTags:a}},cD=function(e){return Object.keys(e).reduce(function(n,r){var s=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+s:s},"")},aK=function(e,n,r,s){var i=cD(r),a=lD(n);return i?"<"+e+" "+Ei+'="true" '+i+">"+Jb(a,s)+"</"+e+">":"<"+e+" "+Ei+'="true">'+Jb(a,s)+"</"+e+">"},oK=function(e,n,r){return n.reduce(function(s,i){var a=Object.keys(i).filter(function(f){return!(f===Wn.INNER_HTML||f===Wn.CSS_TEXT)}).reduce(function(f,p){var m=typeof i[p]>"u"?p:p+'="'+Jb(i[p],r)+'"';return f?f+" "+m:m},""),l=i.innerHTML||i.cssText||"",d=qq.indexOf(e)===-1;return s+"<"+e+" "+Ei+'="true" '+a+(d?"/>":">"+l+"</"+e+">")},"")},uD=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[lg[s]||s]=e[s],r},n)},lK=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[Hq[s]||s]=e[s],r},n)},cK=function(e,n,r){var s,i=(s={key:n},s[Ei]=!0,s),a=uD(r,i);return[Ht.createElement(nn.TITLE,a,n)]},uK=function(e,n){return n.map(function(r,s){var i,a=(i={key:s},i[Ei]=!0,i);return Object.keys(r).forEach(function(l){var d=lg[l]||l;if(d===Wn.INNER_HTML||d===Wn.CSS_TEXT){var f=r.innerHTML||r.cssText;a.dangerouslySetInnerHTML={__html:f}}else a[d]=r[l]}),Ht.createElement(e,a)})},Aa=function(e,n,r){switch(e){case nn.TITLE:return{toComponent:function(){return cK(e,n.title,n.titleAttributes)},toString:function(){return aK(e,n.title,n.titleAttributes,r)}};case Hl.BODY:case Hl.HTML:return{toComponent:function(){return uD(n)},toString:function(){return cD(n)}};default:return{toComponent:function(){return uK(e,n)},toString:function(){return oK(e,n,r)}}}},dD=function(e){var n=e.baseTag,r=e.bodyAttributes,s=e.encode,i=e.htmlAttributes,a=e.linkTags,l=e.metaTags,d=e.noscriptTags,f=e.scriptTags,p=e.styleTags,m=e.title,y=m===void 0?"":m,x=e.titleAttributes;return{base:Aa(nn.BASE,n,s),bodyAttributes:Aa(Hl.BODY,r,s),htmlAttributes:Aa(Hl.HTML,i,s),link:Aa(nn.LINK,a,s),meta:Aa(nn.META,l,s),noscript:Aa(nn.NOSCRIPT,d,s),script:Aa(nn.SCRIPT,f,s),style:Aa(nn.STYLE,p,s),title:Aa(nn.TITLE,{title:y,titleAttributes:x},s)}},dK=function(e){var n,r;return r=n=function(s){Gq(i,s);function i(){return Yq(this,i),Xq(this,s.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(l){return!Fq(this.props,l)},i.prototype.mapNestedChildrenToProps=function(l,d){if(!d)return null;switch(l.type){case nn.SCRIPT:case nn.NOSCRIPT:return{innerHTML:d};case nn.STYLE:return{cssText:d}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(l){var d,f=l.child,p=l.arrayTypeChildren,m=l.newChildProps,y=l.nestedChildren;return bs({},p,(d={},d[f.type]=[].concat(p[f.type]||[],[bs({},m,this.mapNestedChildrenToProps(f,y))]),d))},i.prototype.mapObjectTypeChildren=function(l){var d,f,p=l.child,m=l.newProps,y=l.newChildProps,x=l.nestedChildren;switch(p.type){case nn.TITLE:return bs({},m,(d={},d[p.type]=x,d.titleAttributes=bs({},y),d));case nn.BODY:return bs({},m,{bodyAttributes:bs({},y)});case nn.HTML:return bs({},m,{htmlAttributes:bs({},y)})}return bs({},m,(f={},f[p.type]=bs({},y),f))},i.prototype.mapArrayTypeChildrenToProps=function(l,d){var f=bs({},d);return Object.keys(l).forEach(function(p){var m;f=bs({},f,(m={},m[p]=l[p],m))}),f},i.prototype.warnOnInvalidChildren=function(l,d){return!0},i.prototype.mapChildrenToProps=function(l,d){var f=this,p={};return Ht.Children.forEach(l,function(m){if(!(!m||!m.props)){var y=m.props,x=y.children,b=lA(y,["children"]),S=lK(b);switch(f.warnOnInvalidChildren(m,x),m.type){case nn.LINK:case nn.META:case nn.NOSCRIPT:case nn.SCRIPT:case nn.STYLE:p=f.flattenArrayTypeChildren({child:m,arrayTypeChildren:p,newChildProps:S,nestedChildren:x});break;default:d=f.mapObjectTypeChildren({child:m,newProps:d,newChildProps:S,nestedChildren:x});break}}}),d=this.mapArrayTypeChildrenToProps(p,d),d},i.prototype.render=function(){var l=this.props,d=l.children,f=lA(l,["children"]),p=bs({},f);return d&&(p=this.mapChildrenToProps(d,p)),Ht.createElement(e,p)},Wq(i,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),i}(Ht.Component),n.propTypes={base:Kn.object,bodyAttributes:Kn.object,children:Kn.oneOfType([Kn.arrayOf(Kn.node),Kn.node]),defaultTitle:Kn.string,defer:Kn.bool,encodeSpecialCharacters:Kn.bool,htmlAttributes:Kn.object,link:Kn.arrayOf(Kn.object),meta:Kn.arrayOf(Kn.object),noscript:Kn.arrayOf(Kn.object),onChangeClientState:Kn.func,script:Kn.arrayOf(Kn.object),style:Kn.arrayOf(Kn.object),title:Kn.string,titleAttributes:Kn.object,titleTemplate:Kn.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var s=e.rewind();return s||(s=dD({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},r},fK=function(){return null},hK=zq(eK,sK,dD)(fK),dA=dK(hK);dA.renderStatic=dA.rewind;function pK(){const t=Hn();return j.useEffect(()=>{t("/")},[]),u.jsx(u.Fragment,{})}const Yw=j.createContext({});function Ww(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const Gw=typeof window<"u",fD=Gw?j.useLayoutEffect:j.useEffect,Ey=j.createContext(null);function Xw(t,e){t.indexOf(e)===-1&&t.push(e)}function Jw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Va=(t,e,n)=>n>e?e:n<t?t:n;let Qw=()=>{};const Ha={},hD=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function pD(t){return typeof t=="object"&&t!==null}const mD=t=>/^0[^.\s]+$/u.test(t);function Zw(t){let e;return()=>(e===void 0&&(e=t()),e)}const fi=t=>t,mK=(t,e)=>n=>e(t(n)),Nh=(...t)=>t.reduce(mK),Vf=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class e2{constructor(){this.subscriptions=[]}add(e){return Xw(this.subscriptions,e),()=>Jw(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Qi=t=>t*1e3,Zi=t=>t/1e3;function gD(t,e){return e?t*(1e3/e):0}const yD=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,gK=1e-7,yK=12;function xK(t,e,n,r,s){let i,a,l=0;do a=e+(n-e)/2,i=yD(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>gK&&++l<yK);return a}function jh(t,e,n,r){if(t===e&&n===r)return fi;const s=i=>xK(i,0,1,t,n);return i=>i===0||i===1?i:yD(s(i),e,r)}const xD=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,vD=t=>e=>1-t(1-e),bD=jh(.33,1.53,.69,.99),t2=vD(bD),wD=xD(t2),SD=t=>(t*=2)<1?.5*t2(t):.5*(2-Math.pow(2,-10*(t-1))),n2=t=>1-Math.sin(Math.acos(t)),CD=vD(n2),ND=xD(n2),vK=jh(.42,0,1,1),bK=jh(0,0,.58,1),jD=jh(.42,0,.58,1),wK=t=>Array.isArray(t)&&typeof t[0]!="number",TD=t=>Array.isArray(t)&&typeof t[0]=="number",SK={linear:fi,easeIn:vK,easeInOut:jD,easeOut:bK,circIn:n2,circInOut:ND,circOut:CD,backIn:t2,backInOut:wD,backOut:bD,anticipate:SD},CK=t=>typeof t=="string",fA=t=>{if(TD(t)){Qw(t.length===4);const[e,n,r,s]=t;return jh(e,n,r,s)}else if(CK(t))return SK[t];return t},Zp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],hA={value:null};function NK(t,e){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},d=0;function f(m){a.has(m)&&(p.schedule(m),t()),d++,m(l)}const p={schedule:(m,y=!1,x=!1)=>{const S=x&&s?n:r;return y&&a.add(m),S.has(m)||S.add(m),m},cancel:m=>{r.delete(m),a.delete(m)},process:m=>{if(l=m,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(f),e&&hA.value&&hA.value.frameloop[e].push(d),d=0,n.clear(),s=!1,i&&(i=!1,p.process(m))}};return p}const jK=40;function ED(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Zp.reduce((D,M)=>(D[M]=NK(i,e?M:void 0),D),{}),{setup:l,read:d,resolveKeyframes:f,preUpdate:p,update:m,preRender:y,render:x,postRender:b}=a,S=()=>{const D=Ha.useManualTiming?s.timestamp:performance.now();n=!1,Ha.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(D-s.timestamp,jK),1)),s.timestamp=D,s.isProcessing=!0,l.process(s),d.process(s),f.process(s),p.process(s),m.process(s),y.process(s),x.process(s),b.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(S))},C=()=>{n=!0,r=!0,s.isProcessing||t(S)};return{schedule:Zp.reduce((D,M)=>{const E=a[M];return D[M]=(A,P=!1,F=!1)=>(n||C(),E.schedule(A,P,F)),D},{}),cancel:D=>{for(let M=0;M<Zp.length;M++)a[Zp[M]].cancel(D)},state:s,steps:a}}const{schedule:tr,cancel:Vo,state:Hr,steps:Dv}=ED(typeof requestAnimationFrame<"u"?requestAnimationFrame:fi,!0);let _m;function TK(){_m=void 0}const Ns={now:()=>(_m===void 0&&Ns.set(Hr.isProcessing||Ha.useManualTiming?Hr.timestamp:performance.now()),_m),set:t=>{_m=t,queueMicrotask(TK)}},AD=t=>e=>typeof e=="string"&&e.startsWith(t),r2=AD("--"),EK=AD("var(--"),s2=t=>EK(t)?AK.test(t.split("/*")[0].trim()):!1,AK=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,zu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Hf={...zu,transform:t=>Va(0,1,t)},em={...zu,default:1},pf=t=>Math.round(t*1e5)/1e5,i2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kK(t){return t==null}const OK=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,a2=(t,e)=>n=>!!(typeof n=="string"&&OK.test(n)&&n.startsWith(t)||e&&!kK(n)&&Object.prototype.hasOwnProperty.call(n,e)),kD=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,l]=r.match(i2);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},DK=t=>Va(0,255,t),Mv={...zu,transform:t=>Math.round(DK(t))},Ll={test:a2("rgb","red"),parse:kD("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Mv.transform(t)+", "+Mv.transform(e)+", "+Mv.transform(n)+", "+pf(Hf.transform(r))+")"};function MK(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const e1={test:a2("#"),parse:MK,transform:Ll.transform},Th=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),bo=Th("deg"),ea=Th("%"),Xt=Th("px"),RK=Th("vh"),_K=Th("vw"),pA={...ea,parse:t=>ea.parse(t)/100,transform:t=>ea.transform(t*100)},au={test:a2("hsl","hue"),parse:kD("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ea.transform(pf(e))+", "+ea.transform(pf(n))+", "+pf(Hf.transform(r))+")"},br={test:t=>Ll.test(t)||e1.test(t)||au.test(t),parse:t=>Ll.test(t)?Ll.parse(t):au.test(t)?au.parse(t):e1.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ll.transform(t):au.transform(t),getAnimatableNone:t=>{const e=br.parse(t);return e.alpha=0,br.transform(e)}},LK=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function PK(t){return isNaN(t)&&typeof t=="string"&&(t.match(i2)?.length||0)+(t.match(LK)?.length||0)>0}const OD="number",DD="color",zK="var",IK="var(",mA="${}",BK=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qf(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=e.replace(BK,d=>(br.test(d)?(r.color.push(i),s.push(DD),n.push(br.parse(d))):d.startsWith(IK)?(r.var.push(i),s.push(zK),n.push(d)):(r.number.push(i),s.push(OD),n.push(parseFloat(d))),++i,mA)).split(mA);return{values:n,split:l,indexes:r,types:s}}function MD(t){return qf(t).values}function RD(t){const{split:e,types:n}=qf(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const l=n[a];l===OD?i+=pf(s[a]):l===DD?i+=br.transform(s[a]):i+=s[a]}return i}}const FK=t=>typeof t=="number"?0:br.test(t)?br.getAnimatableNone(t):t;function $K(t){const e=MD(t);return RD(t)(e.map(FK))}const Ho={test:PK,parse:MD,createTransformer:RD,getAnimatableNone:$K};function Rv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function UK({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,d=2*n-l;s=Rv(d,l,t+1/3),i=Rv(d,l,t),a=Rv(d,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function cg(t,e){return n=>n>0?e:t}const er=(t,e,n)=>t+(e-t)*n,_v=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},VK=[e1,Ll,au],HK=t=>VK.find(e=>e.test(t));function gA(t){const e=HK(t);if(!e)return!1;let n=e.parse(t);return e===au&&(n=UK(n)),n}const yA=(t,e)=>{const n=gA(t),r=gA(e);if(!n||!r)return cg(t,e);const s={...n};return i=>(s.red=_v(n.red,r.red,i),s.green=_v(n.green,r.green,i),s.blue=_v(n.blue,r.blue,i),s.alpha=er(n.alpha,r.alpha,i),Ll.transform(s))},t1=new Set(["none","hidden"]);function qK(t,e){return t1.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function KK(t,e){return n=>er(t,e,n)}function o2(t){return typeof t=="number"?KK:typeof t=="string"?s2(t)?cg:br.test(t)?yA:GK:Array.isArray(t)?_D:typeof t=="object"?br.test(t)?yA:YK:cg}function _D(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>o2(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function YK(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=o2(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function WK(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],a=t.indexes[i][r[i]],l=t.values[a]??0;n[s]=l,r[i]++}return n}const GK=(t,e)=>{const n=Ho.createTransformer(e),r=qf(t),s=qf(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?t1.has(t)&&!s.values.length||t1.has(e)&&!r.values.length?qK(t,e):Nh(_D(WK(r,s),s.values),n):cg(t,e)};function LD(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?er(t,e,n):o2(t)(t,e)}const XK=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>tr.update(e,n),stop:()=>Vo(e),now:()=>Hr.isProcessing?Hr.timestamp:Ns.now()}},PD=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},ug=2e4;function l2(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<ug;)e+=n,r=t.next(e);return e>=ug?1/0:e}function JK(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(l2(r),ug);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Zi(s)}}const QK=5;function zD(t,e,n){const r=Math.max(e-QK,0);return gD(n-t(r),e-r)}const ir={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Lv=.001;function ZK({duration:t=ir.duration,bounce:e=ir.bounce,velocity:n=ir.velocity,mass:r=ir.mass}){let s,i,a=1-e;a=Va(ir.minDamping,ir.maxDamping,a),t=Va(ir.minDuration,ir.maxDuration,Zi(t)),a<1?(s=f=>{const p=f*a,m=p*t,y=p-n,x=n1(f,a),b=Math.exp(-m);return Lv-y/x*b},i=f=>{const m=f*a*t,y=m*n+n,x=Math.pow(a,2)*Math.pow(f,2)*t,b=Math.exp(-m),S=n1(Math.pow(f,2),a);return(-s(f)+Lv>0?-1:1)*((y-x)*b)/S}):(s=f=>{const p=Math.exp(-f*t),m=(f-n)*t+1;return-Lv+p*m},i=f=>{const p=Math.exp(-f*t),m=(n-f)*(t*t);return p*m});const l=5/t,d=tY(s,i,l);if(t=Qi(t),isNaN(d))return{stiffness:ir.stiffness,damping:ir.damping,duration:t};{const f=Math.pow(d,2)*r;return{stiffness:f,damping:a*2*Math.sqrt(r*f),duration:t}}}const eY=12;function tY(t,e,n){let r=n;for(let s=1;s<eY;s++)r=r-t(r)/e(r);return r}function n1(t,e){return t*Math.sqrt(1-e*e)}const nY=["duration","bounce"],rY=["stiffness","damping","mass"];function xA(t,e){return e.some(n=>t[n]!==void 0)}function sY(t){let e={velocity:ir.velocity,stiffness:ir.stiffness,damping:ir.damping,mass:ir.mass,isResolvedFromDuration:!1,...t};if(!xA(t,rY)&&xA(t,nY))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Va(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:ir.mass,stiffness:s,damping:i}}else{const n=ZK(t);e={...e,...n,mass:ir.mass},e.isResolvedFromDuration=!0}return e}function dg(t=ir.visualDuration,e=ir.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:d,damping:f,mass:p,duration:m,velocity:y,isResolvedFromDuration:x}=sY({...n,velocity:-Zi(n.velocity||0)}),b=y||0,S=f/(2*Math.sqrt(d*p)),C=a-i,N=Zi(Math.sqrt(d/p)),k=Math.abs(C)<5;r||(r=k?ir.restSpeed.granular:ir.restSpeed.default),s||(s=k?ir.restDelta.granular:ir.restDelta.default);let D;if(S<1){const E=n1(N,S);D=A=>{const P=Math.exp(-S*N*A);return a-P*((b+S*N*C)/E*Math.sin(E*A)+C*Math.cos(E*A))}}else if(S===1)D=E=>a-Math.exp(-N*E)*(C+(b+N*C)*E);else{const E=N*Math.sqrt(S*S-1);D=A=>{const P=Math.exp(-S*N*A),F=Math.min(E*A,300);return a-P*((b+S*N*C)*Math.sinh(F)+E*C*Math.cosh(F))/E}}const M={calculatedDuration:x&&m||null,next:E=>{const A=D(E);if(x)l.done=E>=m;else{let P=E===0?b:0;S<1&&(P=E===0?Qi(b):zD(D,E,A));const F=Math.abs(P)<=r,ee=Math.abs(a-A)<=s;l.done=F&&ee}return l.value=l.done?a:A,l},toString:()=>{const E=Math.min(l2(M),ug),A=PD(P=>M.next(E*P).value,E,30);return E+"ms "+A},toTransition:()=>{}};return M}dg.applyToOptions=t=>{const e=JK(t,100,dg);return t.ease=e.ease,t.duration=Qi(e.duration),t.type="keyframes",t};function r1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:d,restDelta:f=.5,restSpeed:p}){const m=t[0],y={done:!1,value:m},x=F=>l!==void 0&&F<l||d!==void 0&&F>d,b=F=>l===void 0?d:d===void 0||Math.abs(l-F)<Math.abs(d-F)?l:d;let S=n*e;const C=m+S,N=a===void 0?C:a(C);N!==C&&(S=N-m);const k=F=>-S*Math.exp(-F/r),D=F=>N+k(F),M=F=>{const ee=k(F),be=D(F);y.done=Math.abs(ee)<=f,y.value=y.done?N:be};let E,A;const P=F=>{x(y.value)&&(E=F,A=dg({keyframes:[y.value,b(y.value)],velocity:zD(D,F,y.value),damping:s,stiffness:i,restDelta:f,restSpeed:p}))};return P(0),{calculatedDuration:null,next:F=>{let ee=!1;return!A&&E===void 0&&(ee=!0,M(F),P(F)),E!==void 0&&F>=E?A.next(F-E):(!ee&&M(F),y)}}}function iY(t,e,n){const r=[],s=n||Ha.mix||LD,i=t.length-1;for(let a=0;a<i;a++){let l=s(t[a],t[a+1]);if(e){const d=Array.isArray(e)?e[a]||fi:e;l=Nh(d,l)}r.push(l)}return r}function aY(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Qw(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=iY(e,r,s),d=l.length,f=p=>{if(a&&p<t[0])return e[0];let m=0;if(d>1)for(;m<t.length-2&&!(p<t[m+1]);m++);const y=Vf(t[m],t[m+1],p);return l[m](y)};return n?p=>f(Va(t[0],t[i-1],p)):f}function oY(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Vf(0,e,r);t.push(er(n,1,s))}}function lY(t){const e=[0];return oY(e,t.length-1),e}function cY(t,e){return t.map(n=>n*e)}function uY(t,e){return t.map(()=>e||jD).splice(0,t.length-1)}function mf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=wK(r)?r.map(fA):fA(r),i={done:!1,value:e[0]},a=cY(n&&n.length===e.length?n:lY(e),t),l=aY(a,e,{ease:Array.isArray(s)?s:uY(e,s)});return{calculatedDuration:t,next:d=>(i.value=l(d),i.done=d>=t,i)}}const dY=t=>t!==null;function c2(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(dY),l=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const fY={decay:r1,inertia:r1,tween:mf,keyframes:mf,spring:dg};function ID(t){typeof t.type=="string"&&(t.type=fY[t.type])}class u2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const hY=t=>t/100;class d2 extends u2{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Ns.now()&&this.tick(Ns.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;ID(e);const{type:n=mf,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=e;let{keyframes:l}=e;const d=n||mf;d!==mf&&typeof l[0]!="number"&&(this.mixKeyframes=Nh(hY,LD(l[0],l[1])),l=[0,100]);const f=d({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...l].reverse(),velocity:-a})),f.calculatedDuration===null&&(f.calculatedDuration=l2(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:p,repeat:m,repeatType:y,repeatDelay:x,type:b,onUpdate:S,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const N=this.currentTime-f*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?N<0:N>s;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let D=this.currentTime,M=r;if(m){const F=Math.min(this.currentTime,s)/l;let ee=Math.floor(F),be=F%1;!be&&F>=1&&(be=1),be===1&&ee--,ee=Math.min(ee,m+1),!!(ee%2)&&(y==="reverse"?(be=1-be,x&&(be-=x/l)):y==="mirror"&&(M=a)),D=Va(0,1,be)*l}const E=k?{done:!1,value:p[0]}:M.next(D);i&&(E.value=i(E.value));let{done:A}=E;!k&&d!==null&&(A=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return P&&b!==r1&&(E.value=c2(p,this.options,C,this.speed)),S&&S(E.value),P&&this.finish(),E}then(e,n){return this.finished.then(e,n)}get duration(){return Zi(this.calculatedDuration)}get time(){return Zi(this.currentTime)}set time(e){e=Qi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ns.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Zi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=XK,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ns.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function pY(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Pl=t=>t*180/Math.PI,s1=t=>{const e=Pl(Math.atan2(t[1],t[0]));return i1(e)},mY={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:s1,rotateZ:s1,skewX:t=>Pl(Math.atan(t[1])),skewY:t=>Pl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},i1=t=>(t=t%360,t<0&&(t+=360),t),vA=s1,bA=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),wA=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),gY={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bA,scaleY:wA,scale:t=>(bA(t)+wA(t))/2,rotateX:t=>i1(Pl(Math.atan2(t[6],t[5]))),rotateY:t=>i1(Pl(Math.atan2(-t[2],t[0]))),rotateZ:vA,rotate:vA,skewX:t=>Pl(Math.atan(t[4])),skewY:t=>Pl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function a1(t){return t.includes("scale")?1:0}function o1(t,e){if(!t||t==="none")return a1(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=gY,s=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=mY,s=l}if(!s)return a1(e);const i=r[e],a=s[1].split(",").map(xY);return typeof i=="function"?i(a):a[i]}const yY=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return o1(n,e)};function xY(t){return parseFloat(t.trim())}const Iu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bu=new Set(Iu),SA=t=>t===zu||t===Xt,vY=new Set(["x","y","z"]),bY=Iu.filter(t=>!vY.has(t));function wY(t){const e=[];return bY.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ql={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>o1(e,"x"),y:(t,{transform:e})=>o1(e,"y")};ql.translateX=ql.x;ql.translateY=ql.y;const Kl=new Set;let l1=!1,c1=!1,u1=!1;function BD(){if(c1){const t=Array.from(Kl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=wY(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{r.getValue(i)?.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}c1=!1,l1=!1,Kl.forEach(t=>t.complete(u1)),Kl.clear()}function FD(){Kl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(c1=!0)})}function SY(){u1=!0,FD(),BD(),u1=!1}class f2{constructor(e,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Kl.add(this),l1||(l1=!0,tr.read(FD),tr.resolveKeyframes(BD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s?.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}pY(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Kl.delete(this)}cancel(){this.state==="scheduled"&&(Kl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const CY=t=>t.startsWith("--");function NY(t,e,n){CY(e)?t.style.setProperty(e,n):t.style[e]=n}const jY=Zw(()=>window.ScrollTimeline!==void 0),TY={};function EY(t,e){const n=Zw(t);return()=>TY[e]??n()}const $D=EY(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),sf=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,CA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sf([0,.65,.55,1]),circOut:sf([.55,0,1,.45]),backIn:sf([.31,.01,.66,-.59]),backOut:sf([.33,1.53,.69,.99])};function UD(t,e){if(t)return typeof t=="function"?$D()?PD(t,e):"ease-out":TD(t)?sf(t):Array.isArray(t)?t.map(n=>UD(n,e)||CA.easeOut):CA[t]}function AY(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:l="easeOut",times:d}={},f=void 0){const p={[e]:n};d&&(p.offset=d);const m=UD(l,s);Array.isArray(m)&&(p.easing=m);const y={delay:r,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return f&&(y.pseudoElement=f),t.animate(p,y)}function VD(t){return typeof t=="function"&&"applyToOptions"in t}function kY({type:t,...e}){return VD(t)&&$D()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class OY extends u2{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:l,onComplete:d}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,Qw(typeof e.type!="string");const f=kY(e);this.animation=AY(n,r,s,f,i),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const p=c2(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(p):NY(n,r,p),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Zi(Number(e))}get time(){return Zi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Qi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&jY()?(this.animation.timeline=e,fi):n(this)}}const HD={anticipate:SD,backInOut:wD,circInOut:ND};function DY(t){return t in HD}function MY(t){typeof t.ease=="string"&&DY(t.ease)&&(t.ease=HD[t.ease])}const NA=10;class RY extends OY{constructor(e){MY(e),ID(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new d2({...a,autoplay:!1}),d=Qi(this.finishedTime??this.time);n.setWithVelocity(l.sample(d-NA).value,l.sample(d).value,NA),l.stop()}}const jA=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ho.test(t)||t==="0")&&!t.startsWith("url("));function _Y(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function LY(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=jA(s,e),l=jA(i,e);return!a||!l?!1:_Y(t)||(n==="spring"||VD(n))&&r}function h2(t){return pD(t)&&"offsetHeight"in t}const PY=new Set(["opacity","clipPath","filter","transform"]),zY=Zw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function IY(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=t;if(!h2(e?.owner?.current))return!1;const{onUpdate:l,transformTemplate:d}=e.owner.getProps();return zY()&&n&&PY.has(n)&&(n!=="transform"||!d)&&!l&&!r&&s!=="mirror"&&i!==0&&a!=="inertia"}const BY=40;class FY extends u2{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:l,name:d,motionValue:f,element:p,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ns.now();const y={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:d,motionValue:f,element:p,...m},x=p?.KeyframeResolver||f2;this.keyframeResolver=new x(l,(b,S,C)=>this.onKeyframesResolved(b,S,y,!C),d,f,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:l,delay:d,isHandoff:f,onUpdate:p}=r;this.resolvedAt=Ns.now(),LY(e,i,a,l)||((Ha.instantAnimations||!d)&&p?.(c2(e,r,n)),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const y={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>BY?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},x=!f&&IY(y)?new RY({...y,element:y.motionValue.owner.current}):new d2(y);x.finished.then(()=>this.notifyFinished()).catch(fi),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),SY()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const $Y=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function UY(t){const e=$Y.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function qD(t,e,n=1){const[r,s]=UY(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return hD(a)?parseFloat(a):a}return s2(s)?qD(s,e,n+1):s}function p2(t,e){return t?.[e]??t?.default??t}const KD=new Set(["width","height","top","left","right","bottom",...Iu]),VY={test:t=>t==="auto",parse:t=>t},YD=t=>e=>e.test(t),WD=[zu,Xt,ea,bo,_K,RK,VY],TA=t=>WD.find(YD(t));function HY(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||mD(t):!0}const qY=new Set(["brightness","contrast","saturate","opacity"]);function KY(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(i2)||[];if(!r)return t;const s=n.replace(r,"");let i=qY.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const YY=/\b([a-z-]*)\(.*?\)/gu,d1={...Ho,getAnimatableNone:t=>{const e=t.match(YY);return e?e.map(KY).join(" "):t}},EA={...zu,transform:Math.round},WY={rotate:bo,rotateX:bo,rotateY:bo,rotateZ:bo,scale:em,scaleX:em,scaleY:em,scaleZ:em,skew:bo,skewX:bo,skewY:bo,distance:Xt,translateX:Xt,translateY:Xt,translateZ:Xt,x:Xt,y:Xt,z:Xt,perspective:Xt,transformPerspective:Xt,opacity:Hf,originX:pA,originY:pA,originZ:Xt},m2={borderWidth:Xt,borderTopWidth:Xt,borderRightWidth:Xt,borderBottomWidth:Xt,borderLeftWidth:Xt,borderRadius:Xt,radius:Xt,borderTopLeftRadius:Xt,borderTopRightRadius:Xt,borderBottomRightRadius:Xt,borderBottomLeftRadius:Xt,width:Xt,maxWidth:Xt,height:Xt,maxHeight:Xt,top:Xt,right:Xt,bottom:Xt,left:Xt,padding:Xt,paddingTop:Xt,paddingRight:Xt,paddingBottom:Xt,paddingLeft:Xt,margin:Xt,marginTop:Xt,marginRight:Xt,marginBottom:Xt,marginLeft:Xt,backgroundPositionX:Xt,backgroundPositionY:Xt,...WY,zIndex:EA,fillOpacity:Hf,strokeOpacity:Hf,numOctaves:EA},GY={...m2,color:br,backgroundColor:br,outlineColor:br,fill:br,stroke:br,borderColor:br,borderTopColor:br,borderRightColor:br,borderBottomColor:br,borderLeftColor:br,filter:d1,WebkitFilter:d1},GD=t=>GY[t];function XD(t,e){let n=GD(t);return n!==d1&&(n=Ho),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const XY=new Set(["auto","none","0"]);function JY(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!XY.has(i)&&qf(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=XD(n,s)}class QY extends f2{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let f=e[d];if(typeof f=="string"&&(f=f.trim(),s2(f))){const p=qD(f,n.current);p!==void 0&&(e[d]=p),d===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!KD.has(r)||e.length!==2)return;const[s,i]=e,a=TA(s),l=TA(i);if(a!==l)if(SA(a)&&SA(l))for(let d=0;d<e.length;d++){const f=e[d];typeof f=="string"&&(e[d]=parseFloat(f))}else ql[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||HY(e[s]))&&r.push(s);r.length&&JY(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ql[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=ql[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,d])=>{e.getValue(l).set(d)}),this.resolveNoneKeyframes()}}function ZY(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=n?.[t]??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const JD=(t,e)=>e&&typeof t=="number"?e.transform(t):t,AA=30,eW=t=>!isNaN(parseFloat(t));class tW{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Ns.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty();s&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ns.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=eW(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new e2);const r=this.events[e].add(n);return e==="change"?()=>{r(),tr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ns.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>AA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,AA);return gD(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vu(t,e){return new tW(t,e)}const{schedule:g2}=ED(queueMicrotask,!1),Si={x:!1,y:!1};function QD(){return Si.x||Si.y}function nW(t){return t==="x"||t==="y"?Si[t]?null:(Si[t]=!0,()=>{Si[t]=!1}):Si.x||Si.y?null:(Si.x=Si.y=!0,()=>{Si.x=Si.y=!1})}function ZD(t,e){const n=ZY(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function kA(t){return!(t.pointerType==="touch"||QD())}function rW(t,e,n={}){const[r,s,i]=ZD(t,n),a=l=>{if(!kA(l))return;const{target:d}=l,f=e(d,l);if(typeof f!="function"||!d)return;const p=m=>{kA(m)&&(f(m),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,s)};return r.forEach(l=>{l.addEventListener("pointerenter",a,s)}),i}const eM=(t,e)=>e?t===e?!0:eM(t,e.parentElement):!1,y2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,sW=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iW(t){return sW.has(t.tagName)||t.tabIndex!==-1}const Lm=new WeakSet;function OA(t){return e=>{e.key==="Enter"&&t(e)}}function Pv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const aW=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=OA(()=>{if(Lm.has(n))return;Pv(n,"down");const s=OA(()=>{Pv(n,"up")}),i=()=>Pv(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function DA(t){return y2(t)&&!QD()}function oW(t,e,n={}){const[r,s,i]=ZD(t,n),a=l=>{const d=l.currentTarget;if(!DA(l))return;Lm.add(d);const f=e(d,l),p=(x,b)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",y),Lm.has(d)&&Lm.delete(d),DA(x)&&typeof f=="function"&&f(x,{success:b})},m=x=>{p(x,d===window||d===document||n.useGlobalTarget||eM(d,x.target))},y=x=>{p(x,!1)};window.addEventListener("pointerup",m,s),window.addEventListener("pointercancel",y,s)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,s),h2(l)&&(l.addEventListener("focus",f=>aW(f,s)),!iW(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function tM(t){return pD(t)&&"ownerSVGElement"in t}function lW(t){return tM(t)&&t.tagName==="svg"}const es=t=>!!(t&&t.getVelocity),cW=[...WD,br,Ho],uW=t=>cW.find(YD(t)),x2=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class dW extends j.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=h2(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function fW({children:t,isPresent:e,anchorX:n}){const r=j.useId(),s=j.useRef(null),i=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=j.useContext(x2);return j.useInsertionEffect(()=>{const{width:l,height:d,top:f,left:p,right:m}=i.current;if(e||!s.current||!l||!d)return;const y=n==="left"?`left: ${p}`:`right: ${m}`;s.current.dataset.motionPopId=r;const x=document.createElement("style");return a&&(x.nonce=a),document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${d}px !important;
            ${y}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.contains(x)&&document.head.removeChild(x)}},[e]),u.jsx(dW,{isPresent:e,childRef:s,sizeRef:i,children:j.cloneElement(t,{ref:s})})}const hW=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a,anchorX:l})=>{const d=Ww(pW),f=j.useId();let p=!0,m=j.useMemo(()=>(p=!1,{id:f,initial:e,isPresent:n,custom:s,onExitComplete:y=>{d.set(y,!0);for(const x of d.values())if(!x)return;r&&r()},register:y=>(d.set(y,!1),()=>d.delete(y))}),[n,d,r]);return i&&p&&(m={...m}),j.useMemo(()=>{d.forEach((y,x)=>d.set(x,!1))},[n]),j.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),a==="popLayout"&&(t=u.jsx(fW,{isPresent:n,anchorX:l,children:t})),u.jsx(Ey.Provider,{value:m,children:t})};function pW(){return new Map}function nM(t=!0){const e=j.useContext(Ey);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=j.useId();j.useEffect(()=>{if(t)return s(i)},[t]);const a=j.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const tm=t=>t.key||"";function MA(t){const e=[];return j.Children.forEach(t,n=>{j.isValidElement(n)&&e.push(n)}),e}const mW=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:l="left"})=>{const[d,f]=nM(a),p=j.useMemo(()=>MA(t),[t]),m=a&&!d?[]:p.map(tm),y=j.useRef(!0),x=j.useRef(p),b=Ww(()=>new Map),[S,C]=j.useState(p),[N,k]=j.useState(p);fD(()=>{y.current=!1,x.current=p;for(let E=0;E<N.length;E++){const A=tm(N[E]);m.includes(A)?b.delete(A):b.get(A)!==!0&&b.set(A,!1)}},[N,m.length,m.join("-")]);const D=[];if(p!==S){let E=[...p];for(let A=0;A<N.length;A++){const P=N[A],F=tm(P);m.includes(F)||(E.splice(A,0,P),D.push(P))}return i==="wait"&&D.length&&(E=D),k(MA(E)),C(p),null}const{forceRender:M}=j.useContext(Yw);return u.jsx(u.Fragment,{children:N.map(E=>{const A=tm(E),P=a&&!d?!1:p===N||m.includes(A),F=()=>{if(b.has(A))b.set(A,!0);else return;let ee=!0;b.forEach(be=>{be||(ee=!1)}),ee&&(M?.(),k(x.current),a&&f?.(),r&&r())};return u.jsx(hW,{isPresent:P,initial:!y.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,onExitComplete:P?void 0:F,anchorX:l,children:E},A)})})},rM=j.createContext({strict:!1}),RA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bu={};for(const t in RA)bu[t]={isEnabled:e=>RA[t].some(n=>!!e[n])};function gW(t){for(const e in t)bu[e]={...bu[e],...t[e]}}const yW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||yW.has(t)}let sM=t=>!fg(t);function xW(t){typeof t=="function"&&(sM=e=>e.startsWith("on")?!fg(e):t(e))}try{xW(require("@emotion/is-prop-valid").default)}catch{}function vW(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(sM(s)||n===!0&&fg(s)||!e&&!fg(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function bW(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Ay=j.createContext({});function ky(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Kf(t){return typeof t=="string"||Array.isArray(t)}const v2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],b2=["initial",...v2];function Oy(t){return ky(t.animate)||b2.some(e=>Kf(t[e]))}function iM(t){return!!(Oy(t)||t.variants)}function wW(t,e){if(Oy(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Kf(n)?n:void 0,animate:Kf(r)?r:void 0}}return t.inherit!==!1?e:{}}function SW(t){const{initial:e,animate:n}=wW(t,j.useContext(Ay));return j.useMemo(()=>({initial:e,animate:n}),[_A(e),_A(n)])}function _A(t){return Array.isArray(t)?t.join(" "):t}const CW=Symbol.for("motionComponentSymbol");function ou(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function NW(t,e,n){return j.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ou(n)&&(n.current=r))},[e])}const w2=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),jW="framerAppearId",aM="data-"+w2(jW),oM=j.createContext({});function TW(t,e,n,r,s){const{visualElement:i}=j.useContext(Ay),a=j.useContext(rM),l=j.useContext(Ey),d=j.useContext(x2).reducedMotion,f=j.useRef(null);r=r||a.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:d}));const p=f.current,m=j.useContext(oM);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&EW(f.current,n,s,m);const y=j.useRef(!1);j.useInsertionEffect(()=>{p&&y.current&&p.update(n,l)});const x=n[aM],b=j.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return fD(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),g2.render(p.render),b.current&&p.animationState&&p.animationState.animateChanges())}),j.useEffect(()=>{p&&(!b.current&&p.animationState&&p.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),b.current=!1))}),p}function EW(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:l,layoutScroll:d,layoutRoot:f,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:lM(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||l&&ou(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:d,layoutRoot:f})}function lM(t){if(t)return t.options.allowProjection!==!1?t.projection:lM(t.parent)}function AW({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&gW(t);function i(l,d){let f;const p={...j.useContext(x2),...l,layoutId:kW(l)},{isStatic:m}=p,y=SW(l),x=r(l,m);if(!m&&Gw){OW();const b=DW(p);f=b.MeasureLayout,y.visualElement=TW(s,x,p,e,b.ProjectionNode)}return u.jsxs(Ay.Provider,{value:y,children:[f&&y.visualElement?u.jsx(f,{visualElement:y.visualElement,...p}):null,n(s,l,NW(x,y.visualElement,d),x,m,y.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const a=j.forwardRef(i);return a[CW]=s,a}function kW({layoutId:t}){const e=j.useContext(Yw).id;return e&&t!==void 0?e+"-"+t:t}function OW(t,e){j.useContext(rM).strict}function DW(t){const{drag:e,layout:n}=bu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Yf={};function MW(t){for(const e in t)Yf[e]=t[e],r2(e)&&(Yf[e].isCSSVariable=!0)}function cM(t,{layout:e,layoutId:n}){return Bu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Yf[t]||t==="opacity")}const RW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_W=Iu.length;function LW(t,e,n){let r="",s=!0;for(let i=0;i<_W;i++){const a=Iu[i],l=t[a];if(l===void 0)continue;let d=!0;if(typeof l=="number"?d=l===(a.startsWith("scale")?1:0):d=parseFloat(l)===0,!d||n){const f=JD(l,m2[a]);if(!d){s=!1;const p=RW[a]||a;r+=`${p}(${f}) `}n&&(e[a]=f)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function S2(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,l=!1;for(const d in e){const f=e[d];if(Bu.has(d)){a=!0;continue}else if(r2(d)){s[d]=f;continue}else{const p=JD(f,m2[d]);d.startsWith("origin")?(l=!0,i[d]=p):r[d]=p}}if(e.transform||(a||n?r.transform=LW(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:d="50%",originY:f="50%",originZ:p=0}=i;r.transformOrigin=`${d} ${f} ${p}`}}const C2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function uM(t,e,n){for(const r in e)!es(e[r])&&!cM(r,n)&&(t[r]=e[r])}function PW({transformTemplate:t},e){return j.useMemo(()=>{const n=C2();return S2(n,e,t),Object.assign({},n.vars,n.style)},[e])}function zW(t,e){const n=t.style||{},r={};return uM(r,n,t),Object.assign(r,PW(t,e)),r}function IW(t,e){const n={},r=zW(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const BW={offset:"stroke-dashoffset",array:"stroke-dasharray"},FW={offset:"strokeDashoffset",array:"strokeDasharray"};function $W(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?BW:FW;t[i.offset]=Xt.transform(-r);const a=Xt.transform(e),l=Xt.transform(n);t[i.array]=`${a} ${l}`}function dM(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...l},d,f,p){if(S2(t,l,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:y}=t;m.transform&&(y.transform=m.transform,delete m.transform),(y.transform||m.transformOrigin)&&(y.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),y.transform&&(y.transformBox=p?.transformBox??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&$W(m,s,i,a,!1)}const fM=()=>({...C2(),attrs:{}}),hM=t=>typeof t=="string"&&t.toLowerCase()==="svg";function UW(t,e,n,r){const s=j.useMemo(()=>{const i=fM();return dM(i,e,hM(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};uM(i,t.style,t),s.style={...i,...s.style}}return s}const VW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function N2(t){return typeof t!="string"||t.includes("-")?!1:!!(VW.indexOf(t)>-1||/[A-Z]/u.test(t))}function HW(t=!1){return(n,r,s,{latestValues:i},a)=>{const d=(N2(n)?UW:IW)(r,i,a,n),f=vW(r,typeof n=="string",t),p=n!==j.Fragment?{...f,...d,ref:s}:{},{children:m}=r,y=j.useMemo(()=>es(m)?m.get():m,[m]);return j.createElement(n,{...p,children:y})}}function LA(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function j2(t,e,n,r){if(typeof e=="function"){const[s,i]=LA(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=LA(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Pm(t){return es(t)?t.get():t}function qW({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:KW(n,r,s,t),renderState:e()}}const pM=t=>(e,n)=>{const r=j.useContext(Ay),s=j.useContext(Ey),i=()=>qW(t,e,r,s);return n?i():Ww(i)};function KW(t,e,n,r){const s={},i=r(t,{});for(const y in i)s[y]=Pm(i[y]);let{initial:a,animate:l}=t;const d=Oy(t),f=iM(t);e&&f&&!d&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let p=n?n.initial===!1:!1;p=p||a===!1;const m=p?l:a;if(m&&typeof m!="boolean"&&!ky(m)){const y=Array.isArray(m)?m:[m];for(let x=0;x<y.length;x++){const b=j2(t,y[x]);if(b){const{transitionEnd:S,transition:C,...N}=b;for(const k in N){let D=N[k];if(Array.isArray(D)){const M=p?D.length-1:0;D=D[M]}D!==null&&(s[k]=D)}for(const k in S)s[k]=S[k]}}}return s}function T2(t,e,n){const{style:r}=t,s={};for(const i in r)(es(r[i])||e.style&&es(e.style[i])||cM(i,t)||n?.getValue(i)?.liveStyle!==void 0)&&(s[i]=r[i]);return s}const YW={useVisualState:pM({scrapeMotionValuesFromProps:T2,createRenderState:C2})};function mM(t,e,n){const r=T2(t,e,n);for(const s in t)if(es(t[s])||es(e[s])){const i=Iu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const WW={useVisualState:pM({scrapeMotionValuesFromProps:mM,createRenderState:fM})};function GW(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...N2(r)?WW:YW,preloadedFeatures:t,useRender:HW(s),createVisualElement:e,Component:r};return AW(a)}}function Wf(t,e,n){const r=t.getProps();return j2(r,e,n!==void 0?n:r.custom,t)}const f1=t=>Array.isArray(t);function XW(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,vu(n))}function JW(t){return f1(t)?t[t.length-1]||0:t}function QW(t,e){const n=Wf(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const l=JW(i[a]);XW(t,a,l)}}function ZW(t){return!!(es(t)&&t.add)}function h1(t,e){const n=t.getValue("willChange");if(ZW(n))return n.add(e);if(!n&&Ha.WillChange){const r=new Ha.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function gM(t){return t.props[aM]}const eG=t=>t!==null;function tG(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(eG),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const nG={type:"spring",stiffness:500,damping:25,restSpeed:10},rG=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),sG={type:"keyframes",duration:.8},iG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},aG=(t,{keyframes:e})=>e.length>2?sG:Bu.has(t)?t.startsWith("scale")?rG(e[1]):nG:iG;function oG({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:d,elapsed:f,...p}){return!!Object.keys(p).length}const E2=(t,e,n,r={},s,i)=>a=>{const l=p2(r,t)||{},d=l.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Qi(d);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-f,onUpdate:y=>{e.set(y),l.onUpdate&&l.onUpdate(y)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:s};oG(l)||Object.assign(p,aG(t,p)),p.duration&&(p.duration=Qi(p.duration)),p.repeatDelay&&(p.repeatDelay=Qi(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let m=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(m=!0)),(Ha.instantAnimations||Ha.skipAnimations)&&(m=!0,p.duration=0,p.delay=0),p.allowFlatten=!l.type&&!l.ease,m&&!i&&e.get()!==void 0){const y=tG(p.keyframes,l);if(y!==void 0){tr.update(()=>{p.onUpdate(y),p.onComplete()});return}}return l.isSync?new d2(p):new FY(p)};function lG({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function yM(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(i=r);const d=[],f=s&&t.animationState&&t.animationState.getState()[s];for(const p in l){const m=t.getValue(p,t.latestValues[p]??null),y=l[p];if(y===void 0||f&&lG(f,p))continue;const x={delay:n,...p2(i||{},p)},b=m.get();if(b!==void 0&&!m.isAnimating&&!Array.isArray(y)&&y===b&&!x.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const N=gM(t);if(N){const k=window.MotionHandoffAnimation(N,p,tr);k!==null&&(x.startTime=k,S=!0)}}h1(t,p),m.start(E2(p,m,y,t.shouldReduceMotion&&KD.has(p)?{type:!1}:x,t,S));const C=m.animation;C&&d.push(C)}return a&&Promise.all(d).then(()=>{tr.update(()=>{a&&QW(t,a)})}),d}function p1(t,e,n={}){const r=Wf(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(yM(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:m}=s;return cG(t,e,f+d,p,m,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[d,f]=l==="beforeChildren"?[i,a]:[a,i];return d().then(()=>f())}else return Promise.all([i(),a(n.delay)])}function cG(t,e,n=0,r=0,s=1,i){const a=[],l=(t.variantChildren.size-1)*r,d=s===1?(f=0)=>f*r:(f=0)=>l-f*r;return Array.from(t.variantChildren).sort(uG).forEach((f,p)=>{f.notify("AnimationStart",e),a.push(p1(f,e,{...i,delay:n+d(p)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(a)}function uG(t,e){return t.sortNodePosition(e)}function dG(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>p1(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=p1(t,e,n);else{const s=typeof e=="function"?Wf(t,e,n.custom):e;r=Promise.all(yM(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function xM(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const fG=b2.length;function vM(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?vM(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<fG;n++){const r=b2[n],s=t.props[r];(Kf(s)||s===!1)&&(e[r]=s)}return e}const hG=[...v2].reverse(),pG=v2.length;function mG(t){return e=>Promise.all(e.map(({animation:n,options:r})=>dG(t,n,r)))}function gG(t){let e=mG(t),n=PA(),r=!0;const s=d=>(f,p)=>{const m=Wf(t,p,d==="exit"?t.presenceContext?.custom:void 0);if(m){const{transition:y,transitionEnd:x,...b}=m;f={...f,...b,...x}}return f};function i(d){e=d(t)}function a(d){const{props:f}=t,p=vM(t.parent)||{},m=[],y=new Set;let x={},b=1/0;for(let C=0;C<pG;C++){const N=hG[C],k=n[N],D=f[N]!==void 0?f[N]:p[N],M=Kf(D),E=N===d?k.isActive:null;E===!1&&(b=C);let A=D===p[N]&&D!==f[N]&&M;if(A&&r&&t.manuallyAnimateOnMount&&(A=!1),k.protectedKeys={...x},!k.isActive&&E===null||!D&&!k.prevProp||ky(D)||typeof D=="boolean")continue;const P=yG(k.prevProp,D);let F=P||N===d&&k.isActive&&!A&&M||C>b&&M,ee=!1;const be=Array.isArray(D)?D:[D];let ce=be.reduce(s(N),{});E===!1&&(ce={});const{prevResolvedValues:ae={}}=k,te={...ae,...ce},ke=oe=>{F=!0,y.has(oe)&&(ee=!0,y.delete(oe)),k.needsAnimating[oe]=!0;const ye=t.getValue(oe);ye&&(ye.liveStyle=!1)};for(const oe in te){const ye=ce[oe],Fe=ae[oe];if(x.hasOwnProperty(oe))continue;let U=!1;f1(ye)&&f1(Fe)?U=!xM(ye,Fe):U=ye!==Fe,U?ye!=null?ke(oe):y.add(oe):ye!==void 0&&y.has(oe)?ke(oe):k.protectedKeys[oe]=!0}k.prevProp=D,k.prevResolvedValues=ce,k.isActive&&(x={...x,...ce}),r&&t.blockInitialAnimation&&(F=!1),F&&(!(A&&P)||ee)&&m.push(...be.map(oe=>({animation:oe,options:{type:N}})))}if(y.size){const C={};if(typeof f.initial!="boolean"){const N=Wf(t,Array.isArray(f.initial)?f.initial[0]:f.initial);N&&N.transition&&(C.transition=N.transition)}y.forEach(N=>{const k=t.getBaseTarget(N),D=t.getValue(N);D&&(D.liveStyle=!0),C[N]=k??null}),m.push({animation:C})}let S=!!m.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(m):Promise.resolve()}function l(d,f){if(n[d].isActive===f)return Promise.resolve();t.variantChildren?.forEach(m=>m.animationState?.setActive(d,f)),n[d].isActive=f;const p=a(d);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=PA(),r=!0}}}function yG(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!xM(e,t):!1}function Sl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function PA(){return{animate:Sl(!0),whileInView:Sl(),whileHover:Sl(),whileTap:Sl(),whileDrag:Sl(),whileFocus:Sl(),exit:Sl()}}class Jo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class xG extends Jo{constructor(e){super(e),e.animationState||(e.animationState=gG(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ky(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let vG=0;class bG extends Jo{constructor(){super(...arguments),this.id=vG++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const wG={animation:{Feature:xG},exit:{Feature:bG}};function Gf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Eh(t){return{point:{x:t.pageX,y:t.pageY}}}const SG=t=>e=>y2(e)&&t(e,Eh(e));function gf(t,e,n,r){return Gf(t,e,SG(n),r)}function bM({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function CG({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function NG(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const wM=1e-4,jG=1-wM,TG=1+wM,SM=.01,EG=0-SM,AG=0+SM;function us(t){return t.max-t.min}function kG(t,e,n){return Math.abs(t-e)<=n}function zA(t,e,n,r=.5){t.origin=r,t.originPoint=er(e.min,e.max,t.origin),t.scale=us(n)/us(e),t.translate=er(n.min,n.max,t.origin)-t.originPoint,(t.scale>=jG&&t.scale<=TG||isNaN(t.scale))&&(t.scale=1),(t.translate>=EG&&t.translate<=AG||isNaN(t.translate))&&(t.translate=0)}function yf(t,e,n,r){zA(t.x,e.x,n.x,r?r.originX:void 0),zA(t.y,e.y,n.y,r?r.originY:void 0)}function IA(t,e,n){t.min=n.min+e.min,t.max=t.min+us(e)}function OG(t,e,n){IA(t.x,e.x,n.x),IA(t.y,e.y,n.y)}function BA(t,e,n){t.min=e.min-n.min,t.max=t.min+us(e)}function xf(t,e,n){BA(t.x,e.x,n.x),BA(t.y,e.y,n.y)}const FA=()=>({translate:0,scale:1,origin:0,originPoint:0}),lu=()=>({x:FA(),y:FA()}),$A=()=>({min:0,max:0}),fr=()=>({x:$A(),y:$A()});function ii(t){return[t("x"),t("y")]}function zv(t){return t===void 0||t===1}function m1({scale:t,scaleX:e,scaleY:n}){return!zv(t)||!zv(e)||!zv(n)}function Tl(t){return m1(t)||CM(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function CM(t){return UA(t.x)||UA(t.y)}function UA(t){return t&&t!=="0%"}function hg(t,e,n){const r=t-n,s=e*r;return n+s}function VA(t,e,n,r,s){return s!==void 0&&(t=hg(t,s,r)),hg(t,n,r)+e}function g1(t,e=0,n=1,r,s){t.min=VA(t.min,e,n,r,s),t.max=VA(t.max,e,n,r,s)}function NM(t,{x:e,y:n}){g1(t.x,e.translate,e.scale,e.originPoint),g1(t.y,n.translate,n.scale,n.originPoint)}const HA=.999999999999,qA=1.0000000000001;function DG(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let l=0;l<s;l++){i=n[l],a=i.projectionDelta;const{visualElement:d}=i.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&uu(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,NM(t,a)),r&&Tl(i.latestValues)&&uu(t,i.latestValues))}e.x<qA&&e.x>HA&&(e.x=1),e.y<qA&&e.y>HA&&(e.y=1)}function cu(t,e){t.min=t.min+e,t.max=t.max+e}function KA(t,e,n,r,s=.5){const i=er(t.min,t.max,s);g1(t,e,n,i,r)}function uu(t,e){KA(t.x,e.x,e.scaleX,e.scale,e.originX),KA(t.y,e.y,e.scaleY,e.scale,e.originY)}function jM(t,e){return bM(NG(t.getBoundingClientRect(),e))}function MG(t,e,n){const r=jM(t,n),{scroll:s}=e;return s&&(cu(r.x,s.offset.x),cu(r.y,s.offset.y)),r}const TM=({current:t})=>t?t.ownerDocument.defaultView:null,YA=(t,e)=>Math.abs(t-e);function RG(t,e){const n=YA(t.x,e.x),r=YA(t.y,e.y);return Math.sqrt(n**2+r**2)}class EM{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Bv(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,x=RG(m.offset,{x:0,y:0})>=3;if(!y&&!x)return;const{point:b}=m,{timestamp:S}=Hr;this.history.push({...b,timestamp:S});const{onStart:C,onMove:N}=this.handlers;y||(C&&C(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,m)},this.handlePointerMove=(m,y)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Iv(y,this.transformPagePoint),tr.update(this.updatePoint,!0)},this.handlePointerUp=(m,y)=>{this.end();const{onEnd:x,onSessionEnd:b,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Bv(m.type==="pointercancel"?this.lastMoveEventInfo:Iv(y,this.transformPagePoint),this.history);this.startEvent&&x&&x(m,C),b&&b(m,C)},!y2(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=Eh(e),l=Iv(a,this.transformPagePoint),{point:d}=l,{timestamp:f}=Hr;this.history=[{...d,timestamp:f}];const{onSessionStart:p}=n;p&&p(e,Bv(l,this.history)),this.removeListeners=Nh(gf(this.contextWindow,"pointermove",this.handlePointerMove),gf(this.contextWindow,"pointerup",this.handlePointerUp),gf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Vo(this.updatePoint)}}function Iv(t,e){return e?{point:e(t.point)}:t}function WA(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Bv({point:t},e){return{point:t,delta:WA(t,AM(e)),offset:WA(t,_G(e)),velocity:LG(e,.1)}}function _G(t){return t[0]}function AM(t){return t[t.length-1]}function LG(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=AM(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Qi(e)));)n--;if(!r)return{x:0,y:0};const i=Zi(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function PG(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?er(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?er(n,t,r.max):Math.min(t,n)),t}function GA(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function zG(t,{top:e,left:n,bottom:r,right:s}){return{x:GA(t.x,n,s),y:GA(t.y,e,r)}}function XA(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function IG(t,e){return{x:XA(t.x,e.x),y:XA(t.y,e.y)}}function BG(t,e){let n=.5;const r=us(t),s=us(e);return s>r?n=Vf(e.min,e.max-r,t.min):r>s&&(n=Vf(t.min,t.max-s,e.min)),Va(0,1,n)}function FG(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const y1=.35;function $G(t=y1){return t===!1?t=0:t===!0&&(t=y1),{x:JA(t,"left","right"),y:JA(t,"top","bottom")}}function JA(t,e,n){return{min:QA(t,e),max:QA(t,n)}}function QA(t,e){return typeof t=="number"?t:t[e]||0}const UG=new WeakMap;class VG{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=fr(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Eh(p).point)},i=(p,m)=>{const{drag:y,dragPropagation:x,onDragStart:b}=this.getProps();if(y&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=nW(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ii(C=>{let N=this.getAxisMotionValue(C).get()||0;if(ea.test(N)){const{projection:k}=this.visualElement;if(k&&k.layout){const D=k.layout.layoutBox[C];D&&(N=us(D)*(parseFloat(N)/100))}}this.originPoint[C]=N}),b&&tr.postRender(()=>b(p,m)),h1(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},a=(p,m)=>{const{dragPropagation:y,dragDirectionLock:x,onDirectionLock:b,onDrag:S}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:C}=m;if(x&&this.currentDirection===null){this.currentDirection=HG(C),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",m.point,C),this.updateAxis("y",m.point,C),this.visualElement.render(),S&&S(p,m)},l=(p,m)=>this.stop(p,m),d=()=>ii(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new EM(e,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:l,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:TM(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&tr.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!nm(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=PG(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&ou(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=zG(r.layoutBox,e):this.constraints=!1,this.elastic=$G(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ii(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=FG(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ou(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=MG(r,s.root,this.visualElement.getTransformPagePoint());let a=IG(s.layout.layoutBox,i);if(n){const l=n(CG(a));this.hasMutatedConstraints=!!l,l&&(a=bM(l))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),d=this.constraints||{},f=ii(p=>{if(!nm(p,n,this.currentDirection))return;let m=d&&d[p]||{};a&&(m={min:0,max:0});const y=s?200:1e6,x=s?40:1e7,b={type:"inertia",velocity:r?e[p]:0,bounceStiffness:y,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(p,b)});return Promise.all(f).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return h1(this.visualElement,e),r.start(E2(e,r,0,n,this.visualElement,!1))}stopAnimation(){ii(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ii(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ii(n=>{const{drag:r}=this.getProps();if(!nm(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];i.set(e[n]-er(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ou(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ii(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const d=l.get();s[a]=BG({min:d,max:d},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ii(a=>{if(!nm(a,e,null))return;const l=this.getAxisMotionValue(a),{min:d,max:f}=this.constraints[a];l.set(er(d,f,s[a]))})}addListeners(){if(!this.visualElement.current)return;UG.set(this.visualElement,this);const e=this.visualElement.current,n=gf(e,"pointerdown",d=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();ou(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),tr.read(r);const a=Gf(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(ii(p=>{const m=this.getAxisMotionValue(p);m&&(this.originPoint[p]+=d[p].translate,m.set(m.get()+d[p].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=y1,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function nm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function HG(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class qG extends Jo{constructor(e){super(e),this.removeGroupControls=fi,this.removeListeners=fi,this.controls=new VG(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fi}unmount(){this.removeGroupControls(),this.removeListeners()}}const ZA=t=>(e,n)=>{t&&tr.postRender(()=>t(e,n))};class KG extends Jo{constructor(){super(...arguments),this.removePointerDownListener=fi}onPointerDown(e){this.session=new EM(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:TM(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:ZA(e),onStart:ZA(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&tr.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=gf(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function e4(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Xd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Xt.test(t))t=parseFloat(t);else return t;const n=e4(t,e.target.x),r=e4(t,e.target.y);return`${n}% ${r}%`}},YG={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Ho.parse(t);if(s.length>5)return r;const i=Ho.createTransformer(t),a=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,d=n.y.scale*e.y;s[0+a]/=l,s[1+a]/=d;const f=er(l,d,.5);return typeof s[2+a]=="number"&&(s[2+a]/=f),typeof s[3+a]=="number"&&(s[3+a]/=f),i(s)}};class WG extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;MW(GG),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),zm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||tr.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),g2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function kM(t){const[e,n]=nM(),r=j.useContext(Yw);return u.jsx(WG,{...t,layoutGroup:r,switchLayoutGroup:j.useContext(oM),isPresent:e,safeToRemove:n})}const GG={borderRadius:{...Xd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xd,borderTopRightRadius:Xd,borderBottomLeftRadius:Xd,borderBottomRightRadius:Xd,boxShadow:YG};function XG(t,e,n){const r=es(t)?t:vu(t);return r.start(E2("",r,e,n)),r.animation}const JG=(t,e)=>t.depth-e.depth;class QG{constructor(){this.children=[],this.isDirty=!1}add(e){Xw(this.children,e),this.isDirty=!0}remove(e){Jw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(JG),this.isDirty=!1,this.children.forEach(e)}}function ZG(t,e){const n=Ns.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Vo(r),t(i-e))};return tr.setup(r,!0),()=>Vo(r)}const OM=["TopLeft","TopRight","BottomLeft","BottomRight"],eX=OM.length,t4=t=>typeof t=="string"?parseFloat(t):t,n4=t=>typeof t=="number"||Xt.test(t);function tX(t,e,n,r,s,i){s?(t.opacity=er(0,n.opacity??1,nX(r)),t.opacityExit=er(e.opacity??1,0,rX(r))):i&&(t.opacity=er(e.opacity??1,n.opacity??1,r));for(let a=0;a<eX;a++){const l=`border${OM[a]}Radius`;let d=r4(e,l),f=r4(n,l);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||n4(d)===n4(f)?(t[l]=Math.max(er(t4(d),t4(f),r),0),(ea.test(f)||ea.test(d))&&(t[l]+="%")):t[l]=f}(e.rotate||n.rotate)&&(t.rotate=er(e.rotate||0,n.rotate||0,r))}function r4(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const nX=DM(0,.5,CD),rX=DM(.5,.95,fi);function DM(t,e,n){return r=>r<t?0:r>e?1:n(Vf(t,e,r))}function s4(t,e){t.min=e.min,t.max=e.max}function ri(t,e){s4(t.x,e.x),s4(t.y,e.y)}function i4(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function a4(t,e,n,r,s){return t-=e,t=hg(t,1/n,r),s!==void 0&&(t=hg(t,1/s,r)),t}function sX(t,e=0,n=1,r=.5,s,i=t,a=t){if(ea.test(e)&&(e=parseFloat(e),e=er(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=er(i.min,i.max,r);t===i&&(l-=e),t.min=a4(t.min,e,n,l,s),t.max=a4(t.max,e,n,l,s)}function o4(t,e,[n,r,s],i,a){sX(t,e[n],e[r],e[s],e.scale,i,a)}const iX=["x","scaleX","originX"],aX=["y","scaleY","originY"];function l4(t,e,n,r){o4(t.x,e,iX,n?n.x:void 0,r?r.x:void 0),o4(t.y,e,aX,n?n.y:void 0,r?r.y:void 0)}function c4(t){return t.translate===0&&t.scale===1}function MM(t){return c4(t.x)&&c4(t.y)}function u4(t,e){return t.min===e.min&&t.max===e.max}function oX(t,e){return u4(t.x,e.x)&&u4(t.y,e.y)}function d4(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function RM(t,e){return d4(t.x,e.x)&&d4(t.y,e.y)}function f4(t){return us(t.x)/us(t.y)}function h4(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class lX{constructor(){this.members=[]}add(e){Xw(this.members,e),e.scheduleRender()}remove(e){if(Jw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cX(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=n?.z||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:p,rotateX:m,rotateY:y,skewX:x,skewY:b}=n;f&&(r=`perspective(${f}px) ${r}`),p&&(r+=`rotate(${p}deg) `),m&&(r+=`rotateX(${m}deg) `),y&&(r+=`rotateY(${y}deg) `),x&&(r+=`skewX(${x}deg) `),b&&(r+=`skewY(${b}deg) `)}const l=t.x.scale*e.x,d=t.y.scale*e.y;return(l!==1||d!==1)&&(r+=`scale(${l}, ${d})`),r||"none"}const Fv=["","X","Y","Z"],uX={visibility:"hidden"},dX=1e3;let fX=0;function $v(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function _M(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=gM(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",tr,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&_M(r)}function LM({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=e?.()){this.id=fX++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(mX),this.nodes.forEach(bX),this.nodes.forEach(wX),this.nodes.forEach(gX)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new QG)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new e2),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const d=this.eventHandlers.get(a);d&&d.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=tM(a)&&!lW(a),this.instance=a;const{layoutId:l,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||l)&&(this.isLayoutDirty=!0),t){let p;const m=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=ZG(m,250),zm.hasAnimatedSinceResize&&(zm.hasAnimatedSinceResize=!1,this.nodes.forEach(m4))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeLayoutChanged:y,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||TX,{onLayoutAnimationStart:S,onLayoutAnimationComplete:C}=f.getProps(),N=!this.targetLayout||!RM(this.targetLayout,x),k=!m&&y;if(this.options.layoutRoot||this.resumeFrom||k||m&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...p2(b,"layout"),onPlay:S,onComplete:C};(f.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(p,k)}else m||m4(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Vo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(SX),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&_M(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const m=this.path[p];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:d}=this.options;if(l===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(p4);return}this.isUpdating||this.nodes.forEach(xX),this.isUpdating=!1,this.nodes.forEach(vX),this.nodes.forEach(hX),this.nodes.forEach(pX),this.clearAllSnapshots();const l=Ns.now();Hr.delta=Va(0,1e3/60,l-Hr.timestamp),Hr.timestamp=l,Hr.isProcessing=!0,Dv.update.process(Hr),Dv.preRender.process(Hr),Dv.render.process(Hr),Hr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,g2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yX),this.sharedNodes.forEach(CX)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!us(this.snapshot.measuredBox.x)&&!us(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=fr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!MM(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;a&&this.instance&&(l||Tl(this.latestValues)||p)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let d=this.removeElementScroll(l);return a&&(d=this.removeTransform(d)),EX(d),{animationId:this.root.animationId,measuredBox:l,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return fr();const l=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(AX))){const{scroll:f}=this.root;f&&(cu(l.x,f.offset.x),cu(l.y,f.offset.y))}return l}removeElementScroll(a){const l=fr();if(ri(l,a),this.scroll?.wasRoot)return l;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:m}=f;f!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&ri(l,a),cu(l.x,p.offset.x),cu(l.y,p.offset.y))}return l}applyTransform(a,l=!1){const d=fr();ri(d,a);for(let f=0;f<this.path.length;f++){const p=this.path[f];!l&&p.options.layoutScroll&&p.scroll&&p!==p.root&&uu(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Tl(p.latestValues)&&uu(d,p.latestValues)}return Tl(this.latestValues)&&uu(d,this.latestValues),d}removeTransform(a){const l=fr();ri(l,a);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!Tl(f.latestValues))continue;m1(f.latestValues)&&f.updateSnapshot();const p=fr(),m=f.measurePageBox();ri(p,m),l4(l,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return Tl(this.latestValues)&&l4(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Hr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==l;if(!(a||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!(!this.layout||!(p||m))){if(this.resolvedRelativeTargetAt=Hr.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fr(),this.relativeTargetOrigin=fr(),xf(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),ri(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=fr(),this.targetWithTransforms=fr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),OG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ri(this.target,this.layout.layoutBox),NM(this.target,this.targetDelta)):ri(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fr(),this.relativeTargetOrigin=fr(),xf(this.relativeTargetOrigin,this.target,y.target),ri(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||m1(this.parent.latestValues)||CM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const a=this.getLead(),l=!!this.resumingFrom||this!==a;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Hr.timestamp&&(d=!1),d)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;ri(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,y=this.treeScale.y;DG(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=fr());const{target:x}=a;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(i4(this.prevProjectionDelta.x,this.projectionDelta.x),i4(this.prevProjectionDelta.y,this.projectionDelta.y)),yf(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==y||!h4(this.projectionDelta.x,this.prevProjectionDelta.x)||!h4(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=lu(),this.projectionDelta=lu(),this.projectionDeltaWithTransform=lu()}setAnimationOrigin(a,l=!1){const d=this.snapshot,f=d?d.latestValues:{},p={...this.latestValues},m=lu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const y=fr(),x=d?d.source:void 0,b=this.layout?this.layout.source:void 0,S=x!==b,C=this.getStack(),N=!C||C.members.length<=1,k=!!(S&&!N&&this.options.crossfade===!0&&!this.path.some(jX));this.animationProgress=0;let D;this.mixTargetDelta=M=>{const E=M/1e3;g4(m.x,a.x,E),g4(m.y,a.y,E),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xf(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),NX(this.relativeTarget,this.relativeTargetOrigin,y,E),D&&oX(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=fr()),ri(D,this.relativeTarget)),S&&(this.animationValues=p,tX(p,f,this.latestValues,E,k,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Vo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tr.update(()=>{zm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=vu(0)),this.currentAnimation=XG(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dX),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:d,layout:f,latestValues:p}=a;if(!(!l||!d||!f)){if(this!==a&&this.layout&&f&&PM(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||fr();const m=us(this.layout.layoutBox.x);d.x.min=a.target.x.min,d.x.max=d.x.min+m;const y=us(this.layout.layoutBox.y);d.y.min=a.target.y.min,d.y.max=d.y.min+y}ri(l,d),uu(l,p),yf(this.projectionDeltaWithTransform,this.layoutCorrected,l,p)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new lX),this.sharedNodes.get(a).add(l);const f=l.options.initialPromotionConfig;l.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:d}=a;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(l=!0),!l)return;const f={};d.z&&$v("z",a,f,this.animationValues);for(let p=0;p<Fv.length;p++)$v(`rotate${Fv[p]}`,a,f,this.animationValues),$v(`skew${Fv[p]}`,a,f,this.animationValues);a.render();for(const p in f)a.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);a.scheduleRender()}getProjectionStyles(a){if(!this.instance||this.isSVG)return;if(!this.isVisible)return uX;const l={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=Pm(a?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none",l;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Pm(a?.pointerEvents)||""),this.hasProjected&&!Tl(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),l.transform=cX(this.projectionDeltaWithTransform,this.treeScale,p),d&&(l.transform=d(p,l.transform));const{x:m,y}=this.projectionDelta;l.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,f.animationValues?l.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const x in Yf){if(p[x]===void 0)continue;const{correct:b,applyTo:S,isCSSVariable:C}=Yf[x],N=l.transform==="none"?p[x]:b(p[x],f);if(S){const k=S.length;for(let D=0;D<k;D++)l[S[D]]=N}else C?this.options.visualElement.renderState.vars[x]=N:l[x]=N}return this.options.layoutId&&(l.pointerEvents=f===this?Pm(a?.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(p4),this.root.sharedNodes.clear()}}}function hX(t){t.updateLayout()}function pX(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,i=e.source!==t.layout.source;s==="size"?ii(p=>{const m=i?e.measuredBox[p]:e.layoutBox[p],y=us(m);m.min=n[p].min,m.max=m.min+y}):PM(s,e.layoutBox,n)&&ii(p=>{const m=i?e.measuredBox[p]:e.layoutBox[p],y=us(n[p]);m.max=m.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+y)});const a=lu();yf(a,n,e.layoutBox);const l=lu();i?yf(l,t.applyTransform(r,!0),e.measuredBox):yf(l,n,e.layoutBox);const d=!MM(a);let f=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:y}=p;if(m&&y){const x=fr();xf(x,e.layoutBox,m.layoutBox);const b=fr();xf(b,n,y.layoutBox),RM(x,b)||(f=!0),p.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=x,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function mX(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function gX(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function yX(t){t.clearSnapshot()}function p4(t){t.clearMeasurements()}function xX(t){t.isLayoutDirty=!1}function vX(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function m4(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function bX(t){t.resolveTargetDelta()}function wX(t){t.calcProjection()}function SX(t){t.resetSkewAndRotation()}function CX(t){t.removeLeadSnapshot()}function g4(t,e,n){t.translate=er(e.translate,0,n),t.scale=er(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function y4(t,e,n,r){t.min=er(e.min,n.min,r),t.max=er(e.max,n.max,r)}function NX(t,e,n,r){y4(t.x,e.x,n.x,r),y4(t.y,e.y,n.y,r)}function jX(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const TX={duration:.45,ease:[.4,0,.1,1]},x4=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),v4=x4("applewebkit/")&&!x4("chrome/")?Math.round:fi;function b4(t){t.min=v4(t.min),t.max=v4(t.max)}function EX(t){b4(t.x),b4(t.y)}function PM(t,e,n){return t==="position"||t==="preserve-aspect"&&!kG(f4(e),f4(n),.2)}function AX(t){return t!==t.root&&t.scroll?.wasRoot}const kX=LM({attachResizeListener:(t,e)=>Gf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Uv={current:void 0},zM=LM({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Uv.current){const t=new kX({});t.mount(window),t.setOptions({layoutScroll:!0}),Uv.current=t}return Uv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),OX={pan:{Feature:KG},drag:{Feature:qG,ProjectionNode:zM,MeasureLayout:kM}};function w4(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&tr.postRender(()=>i(e,Eh(e)))}class DX extends Jo{mount(){const{current:e}=this.node;e&&(this.unmount=rW(e,(n,r)=>(w4(this.node,r,"Start"),s=>w4(this.node,s,"End"))))}unmount(){}}class MX extends Jo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nh(Gf(this.node.current,"focus",()=>this.onFocus()),Gf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function S4(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&tr.postRender(()=>i(e,Eh(e)))}class RX extends Jo{mount(){const{current:e}=this.node;e&&(this.unmount=oW(e,(n,r)=>(S4(this.node,r,"Start"),(s,{success:i})=>S4(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const x1=new WeakMap,Vv=new WeakMap,_X=t=>{const e=x1.get(t.target);e&&e(t)},LX=t=>{t.forEach(_X)};function PX({root:t,...e}){const n=t||document;Vv.has(n)||Vv.set(n,{});const r=Vv.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(LX,{root:t,...e})),r[s]}function zX(t,e,n){const r=PX(e);return x1.set(t,n),r.observe(t),()=>{x1.delete(t),r.unobserve(t)}}const IX={some:0,all:1};class BX extends Jo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:IX[s]},l=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,i&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:m}=this.node.getProps(),y=f?p:m;y&&y(d)};return zX(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(FX(e,n))&&this.startObserver()}unmount(){}}function FX({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const $X={inView:{Feature:BX},tap:{Feature:RX},focus:{Feature:MX},hover:{Feature:DX}},UX={layout:{ProjectionNode:zM,MeasureLayout:kM}},v1={current:null},IM={current:!1};function VX(){if(IM.current=!0,!!Gw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>v1.current=t.matches;t.addListener(e),e()}else v1.current=!1}const HX=new WeakMap;function qX(t,e,n){for(const r in e){const s=e[r],i=n[r];if(es(s))t.addValue(r,s);else if(es(i))t.addValue(r,vu(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,vu(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const C4=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class KX{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=f2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Ns.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,tr.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=a;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Oy(n),this.isVariantNode=iM(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in m){const x=m[y];d[y]!==void 0&&es(x)&&x.set(d[y],!1)}}mount(e){this.current=e,HX.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),IM.current||VX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:v1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Vo(this.notifyUpdate),Vo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Bu.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&tr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in bu){const n=bu[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):fr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<C4.length;r++){const s=C4[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=qX(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=vu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(hD(r)||mD(r))?r=parseFloat(r):!uW(r)&&Ho.test(n)&&(r=XD(e,n)),this.setBaseTarget(e,es(r)?r.get():r)),es(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const i=j2(this.props,n,this.presenceContext?.custom);i&&(r=i[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!es(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new e2),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class BM extends KX{constructor(){super(...arguments),this.KeyframeResolver=QY}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;es(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function FM(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}function YX(t){return window.getComputedStyle(t)}class WX extends BM{constructor(){super(...arguments),this.type="html",this.renderInstance=FM}readValueFromInstance(e,n){if(Bu.has(n))return this.projection?.isProjecting?a1(n):yY(e,n);{const r=YX(e),s=(r2(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return jM(e,n)}build(e,n,r){S2(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return T2(e,n,r)}}const $M=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function GX(t,e,n,r){FM(t,e,void 0,r);for(const s in e.attrs)t.setAttribute($M.has(s)?s:w2(s),e.attrs[s])}class XX extends BM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=fr}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Bu.has(n)){const r=GD(n);return r&&r.default||0}return n=$M.has(n)?n:w2(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return mM(e,n,r)}build(e,n,r){dM(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){GX(e,n,r,s)}mount(e){this.isSVGTag=hM(e.tagName),super.mount(e)}}const JX=(t,e)=>N2(t)?new XX(e):new WX(e,{allowProjection:t!==j.Fragment}),QX=GW({...wG,...$X,...OX,...UX},JX),Tt=bW(QX);function UM(t){return sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320 336c0 8.84-7.16 16-16 16h-96c-8.84 0-16-7.16-16-16v-48H0v144c0 25.6 22.4 48 48 48h416c25.6 0 48-22.4 48-48V288H320v48zm144-208h-80V80c0-25.6-22.4-48-48-48H176c-25.6 0-48 22.4-48 48v48H48c-25.6 0-48 22.4-48 48v80h512v-80c0-25.6-22.4-48-48-48zm-144 0H192V96h128v32z"},child:[]}]})(t)}function ZX(t){return sn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(t)}function eJ(t){return sn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function Pr(t){return sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function Qo(t){return sn({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function Zo(t){return sn({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function tJ(t){return sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function ki(t){return sn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function VM(t){return sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function wu(t){return sn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function nJ(t){return sn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(t)}function Ah(t){return sn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"},child:[]}]})(t)}function sa(t){return sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(t)}function N4(t){return sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(t)}function j4(t){return sn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function rJ(t){return sn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function sJ(t){return sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function Ar(t){return sn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function iJ(t){return sn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M384 320H256c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h128c17.67 0 32-14.33 32-32V352c0-17.67-14.33-32-32-32zM192 32c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v128c0 17.67 14.33 32 32 32h95.72l73.16 128.04C211.98 300.98 232.4 288 256 288h.28L192 175.51V128h224V64H192V32zM608 0H480c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h128c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function aJ(t){return sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(t)}function Fu(t){return sn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function A2(t){return sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function b1(t){return sn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M330.17 258.91a79 79 0 0 0-55 54.17c-14.27 51.05 21.19 97.77 68.83 102.53a84.07 84.07 0 0 1-20.85 12.91c-7.57 3.4-10.8 12.47-8.18 20.34l9.9 20c2.87 8.63 12.53 13.49 20.9 9.91 58-24.76 86.25-61.61 86.25-132V336c-.02-51.21-48.4-91.34-101.85-77.09zM352 356a20 20 0 1 1 20-20 20 20 0 0 1-20 20zM304 96h16v64h-16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h96a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-16V48a16 16 0 0 0-16-16h-48a16 16 0 0 0-14.29 8.83l-16 32A16 16 0 0 0 304 96zM107.31 36.69a16 16 0 0 0-22.62 0l-80 96C-5.35 142.74 1.78 160 16 160h48v304a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16V160h48c14.21 0 21.38-17.24 11.31-27.31z"},child:[]}]})(t)}function wt(t){return sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function oJ(t){return sn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M312 320h136V56c0-13.3-10.7-24-24-24H24C10.7 32 0 42.7 0 56v400c0 13.3 10.7 24 24 24h264V344c0-13.2 10.8-24 24-24zm129 55l-98 98c-4.5 4.5-10.6 7-17 7h-6V352h128v6.1c0 6.3-2.5 12.4-7 16.9z"},child:[]}]})(t)}function lJ(t){return sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(t)}function $t(t){return sn({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Vn(t){return sn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(t)}function Su(t){return sn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function cJ(t){return sn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M610.5 373.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 400.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm201.2 226.5c-2.3-1.2-4.6-2.6-6.8-3.9l-7.9 4.6c-6 3.4-12.8 5.3-19.6 5.3-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-5.5-17.7 1.9-36.4 17.9-45.7l7.9-4.6c-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-16-9.2-23.4-28-17.9-45.7.9-2.9 2.2-5.8 3.2-8.7-3.8-.3-7.5-1.2-11.4-1.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c10.1 0 19.5-3.2 27.2-8.5-1.2-3.8-2-7.7-2-11.8v-9.2z"},child:[]}]})(t)}function uJ(t){return sn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function Vr(t){this.content=t}Vr.prototype={constructor:Vr,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,s=r.find(t),i=r.content.slice();return s==-1?i.push(n||t,e):(i[s+1]=e,n&&(i[s]=n)),new Vr(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Vr(n)},addToStart:function(t,e){return new Vr([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Vr(n)},addBefore:function(t,e,n){var r=this.remove(e),s=r.content.slice(),i=r.find(t);return s.splice(i==-1?s.length:i,0,e,n),new Vr(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Vr.from(t),t.size?new Vr(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Vr.from(t),t.size?new Vr(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Vr.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Vr.from=function(t){if(t instanceof Vr)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Vr(e)};function HM(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(r),i=e.child(r);if(s==i){n+=s.nodeSize;continue}if(!s.sameMarkup(i))return n;if(s.isText&&s.text!=i.text){for(let a=0;s.text[a]==i.text[a];a++)n++;return n}if(s.content.size||i.content.size){let a=HM(s.content,i.content,n+1);if(a!=null)return a}n+=s.nodeSize}}function qM(t,e,n,r){for(let s=t.childCount,i=e.childCount;;){if(s==0||i==0)return s==i?null:{a:n,b:r};let a=t.child(--s),l=e.child(--i),d=a.nodeSize;if(a==l){n-=d,r-=d;continue}if(!a.sameMarkup(l))return{a:n,b:r};if(a.isText&&a.text!=l.text){let f=0,p=Math.min(a.text.length,l.text.length);for(;f<p&&a.text[a.text.length-f-1]==l.text[l.text.length-f-1];)f++,n--,r--;return{a:n,b:r}}if(a.content.size||l.content.size){let f=qM(a.content,l.content,n-1,r-1);if(f)return f}n-=d,r-=d}}class We{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,s=0,i){for(let a=0,l=0;l<n;a++){let d=this.content[a],f=l+d.nodeSize;if(f>e&&r(d,s+l,i||null,a)!==!1&&d.content.size){let p=l+1;d.nodesBetween(Math.max(0,e-p),Math.min(d.content.size,n-p),r,s+p)}l=f}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,s){let i="",a=!0;return this.nodesBetween(e,n,(l,d)=>{let f=l.isText?l.text.slice(Math.max(e,d)-d,n-d):l.isLeaf?s?typeof s=="function"?s(l):s:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&f||l.isTextblock)&&r&&(a?a=!1:i+=r),i+=f},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,s=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),i=1);i<e.content.length;i++)s.push(e.content[i]);return new We(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],s=0;if(n>e)for(let i=0,a=0;a<n;i++){let l=this.content[i],d=a+l.nodeSize;d>e&&((a<e||d>n)&&(l.isText?l=l.cut(Math.max(0,e-a),Math.min(l.text.length,n-a)):l=l.cut(Math.max(0,e-a-1),Math.min(l.content.size,n-a-1))),r.push(l),s+=l.nodeSize),a=d}return new We(r,s)}cutByIndex(e,n){return e==n?We.empty:e==0&&n==this.content.length?this:new We(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let s=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return s[e]=n,new We(s,i)}addToStart(e){return new We([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new We(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];e(s,r,n),r+=s.nodeSize}}findDiffStart(e,n=0){return HM(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return qM(this,e,n,r)}findIndex(e,n=-1){if(e==0)return rm(0,e);if(e==this.size)return rm(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,s=0;;r++){let i=this.child(r),a=s+i.nodeSize;if(a>=e)return a==e||n>0?rm(r+1,a):rm(r,s);s=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return We.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new We(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return We.empty;let n,r=0;for(let s=0;s<e.length;s++){let i=e[s];r+=i.nodeSize,s&&i.isText&&e[s-1].sameMarkup(i)?(n||(n=e.slice(0,s)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new We(n||e,r)}static from(e){if(!e)return We.empty;if(e instanceof We)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new We([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}We.empty=new We([],0);const Hv={index:0,offset:0};function rm(t,e){return Hv.index=t,Hv.offset=e,Hv}function pg(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!pg(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!pg(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Pn=class w1{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let s=0;s<e.length;s++){let i=e[s];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,s));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&pg(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=r.create(n.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return w1.none;if(e instanceof w1)return[e];let n=e.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}};Pn.none=[];class mg extends Error{}class xt{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=YM(this.content,e+this.openStart,n);return r&&new xt(r,this.openStart,this.openEnd)}removeBetween(e,n){return new xt(KM(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return xt.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new xt(We.fromJSON(e,n.content),r,s)}static maxOpen(e,n=!0){let r=0,s=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)s++;return new xt(e,r,s)}}xt.empty=new xt(We.empty,0,0);function KM(t,e,n){let{index:r,offset:s}=t.findIndex(e),i=t.maybeChild(r),{index:a,offset:l}=t.findIndex(n);if(s==e||i.isText){if(l!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,i.copy(KM(i.content,e-s-1,n-s-1)))}function YM(t,e,n,r){let{index:s,offset:i}=t.findIndex(e),a=t.maybeChild(s);if(i==e||a.isText)return t.cut(0,e).append(n).append(t.cut(e));let l=YM(a.content,e-i-1,n);return l&&t.replaceChild(s,a.copy(l))}function dJ(t,e,n){if(n.openStart>t.depth)throw new mg("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new mg("Inconsistent open depths");return WM(t,e,n,0)}function WM(t,e,n,r){let s=t.index(r),i=t.node(r);if(s==e.index(r)&&r<t.depth-n.openStart){let a=WM(t,e,n,r+1);return i.copy(i.content.replaceChild(s,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let a=t.parent,l=a.content;return Wl(a,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:a,end:l}=fJ(n,t);return Wl(i,XM(t,a,l,e,r))}else return Wl(i,gg(t,e,r))}function GM(t,e){if(!e.type.compatibleContent(t.type))throw new mg("Cannot join "+e.type.name+" onto "+t.type.name)}function S1(t,e,n){let r=t.node(n);return GM(r,e.node(n)),r}function Yl(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function vf(t,e,n,r){let s=(e||t).node(n),i=0,a=e?e.index(n):s.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(Yl(t.nodeAfter,r),i++));for(let l=i;l<a;l++)Yl(s.child(l),r);e&&e.depth==n&&e.textOffset&&Yl(e.nodeBefore,r)}function Wl(t,e){return t.type.checkContent(e),t.copy(e)}function XM(t,e,n,r,s){let i=t.depth>s&&S1(t,e,s+1),a=r.depth>s&&S1(n,r,s+1),l=[];return vf(null,t,s,l),i&&a&&e.index(s)==n.index(s)?(GM(i,a),Yl(Wl(i,XM(t,e,n,r,s+1)),l)):(i&&Yl(Wl(i,gg(t,e,s+1)),l),vf(e,n,s,l),a&&Yl(Wl(a,gg(n,r,s+1)),l)),vf(r,null,s,l),new We(l)}function gg(t,e,n){let r=[];if(vf(null,t,n,r),t.depth>n){let s=S1(t,e,n+1);Yl(Wl(s,gg(t,e,n+1)),r)}return vf(e,null,n,r),new We(r)}function fJ(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let i=n-1;i>=0;i--)s=e.node(i).copy(We.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}class Xf{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(n);return r?e.child(n).cut(r):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)s+=r.child(i).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Pn.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),s=e.maybeChild(n);if(!r){let l=r;r=s,s=l}let i=r.marks;for(var a=0;a<i.length;a++)i[a].type.spec.inclusive===!1&&(!s||!i[a].isInSet(s.marks))&&(i=i[a--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=e.parent.maybeChild(e.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!s||!r[i].isInSet(s.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new yg(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,i=n;for(let a=e;;){let{index:l,offset:d}=a.content.findIndex(i),f=i-d;if(r.push(a,l,s+d),!f||(a=a.child(l),a.isText))break;i=f-1,s+=d+1}return new Xf(n,r,i)}static resolveCached(e,n){let r=T4.get(e);if(r)for(let i=0;i<r.elts.length;i++){let a=r.elts[i];if(a.pos==n)return a}else T4.set(e,r=new hJ);let s=r.elts[r.i]=Xf.resolve(e,n);return r.i=(r.i+1)%pJ,s}}class hJ{constructor(){this.elts=[],this.i=0}}const pJ=12,T4=new WeakMap;class yg{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const mJ=Object.create(null);let zo=class C1{constructor(e,n,r,s=Pn.none){this.type=e,this.attrs=n,this.marks=s,this.content=r||We.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,s=0){this.content.nodesBetween(e,n,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,s){return this.content.textBetween(e,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&pg(this.attrs,n||e.defaultAttrs||mJ)&&Pn.sameSet(this.marks,r||Pn.none)}copy(e=null){return e==this.content?this:new C1(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new C1(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return xt.empty;let s=this.resolve(e),i=this.resolve(n),a=r?0:s.sharedDepth(n),l=s.start(a),f=s.node(a).content.cut(s.pos-l,i.pos-l);return new xt(f,s.depth-a,i.depth-a)}replace(e,n,r){return dJ(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(e){return Xf.resolveCached(this,e)}resolveNoCache(e){return Xf.resolve(this,e)}rangeHasMark(e,n,r){let s=!1;return n>e&&this.nodesBetween(e,n,i=>(r.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),JM(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=We.empty,s=0,i=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,s,i),l=a&&a.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let d=s;d<i;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(e,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(e).matchType(r),a=i&&i.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Pn.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Pn.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let s=We.fromJSON(e,n.content),i=e.nodeType(n.type).create(n.attrs,s,r);return i.type.checkAttrs(i.attrs),i}};zo.prototype.text=void 0;class xg extends zo{constructor(e,n,r,s){if(super(e,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):JM(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new xg(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new xg(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function JM(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class rc{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new gJ(e,n);if(r.next==null)return rc.empty;let s=QM(r);r.next&&r.err("Unexpected trailing text");let i=CJ(SJ(s));return NJ(i,r),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let s=this;for(let i=n;s&&i<r;i++)s=s.matchType(e.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let s=[this];function i(a,l){let d=a.matchFragment(e,r);if(d&&(!n||d.validEnd))return We.from(l.map(f=>f.createAndFill()));for(let f=0;f<a.next.length;f++){let{type:p,next:m}=a.next[f];if(!(p.isText||p.hasRequiredAttrs())&&s.indexOf(m)==-1){s.push(m);let y=i(m,l.concat(p));if(y)return y}}return null}return i(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),i=s.match;if(i.matchType(e)){let a=[];for(let l=s;l.type;l=l.via)a.push(l.type);return a.reverse()}for(let a=0;a<i.next.length;a++){let{type:l,next:d}=i.next[a];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!s.type||d.validEnd)&&(r.push({match:l.contentMatch,type:l,via:s}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),e.map((r,s)=>{let i=s+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)i+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return i}).join(`
`)}}rc.empty=new rc(!0);class gJ{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function QM(t){let e=[];do e.push(yJ(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function yJ(t){let e=[];do e.push(xJ(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function xJ(t){let e=wJ(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=vJ(t,e);else break;return e}function E4(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function vJ(t,e){let n=E4(t),r=n;return t.eat(",")&&(t.next!="}"?r=E4(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function bJ(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let s=[];for(let i in n){let a=n[i];a.isInGroup(e)&&s.push(a)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function wJ(t){if(t.eat("(")){let e=QM(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=bJ(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function SJ(t){let e=[[]];return s(i(t,0),n()),e;function n(){return e.push([])-1}function r(a,l,d){let f={term:d,to:l};return e[a].push(f),f}function s(a,l){a.forEach(d=>d.to=l)}function i(a,l){if(a.type=="choice")return a.exprs.reduce((d,f)=>d.concat(i(f,l)),[]);if(a.type=="seq")for(let d=0;;d++){let f=i(a.exprs[d],l);if(d==a.exprs.length-1)return f;s(f,l=n())}else if(a.type=="star"){let d=n();return r(l,d),s(i(a.expr,d),d),[r(d)]}else if(a.type=="plus"){let d=n();return s(i(a.expr,l),d),s(i(a.expr,d),d),[r(d)]}else{if(a.type=="opt")return[r(l)].concat(i(a.expr,l));if(a.type=="range"){let d=l;for(let f=0;f<a.min;f++){let p=n();s(i(a.expr,d),p),d=p}if(a.max==-1)s(i(a.expr,d),d);else for(let f=a.min;f<a.max;f++){let p=n();r(d,p),s(i(a.expr,d),p),d=p}return[r(d)]}else{if(a.type=="name")return[r(l,void 0,a.value)];throw new Error("Unknown expr type")}}}}function ZM(t,e){return e-t}function A4(t,e){let n=[];return r(e),n.sort(ZM);function r(s){let i=t[s];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(s);for(let a=0;a<i.length;a++){let{term:l,to:d}=i[a];!l&&n.indexOf(d)==-1&&r(d)}}}function CJ(t){let e=Object.create(null);return n(A4(t,0));function n(r){let s=[];r.forEach(a=>{t[a].forEach(({term:l,to:d})=>{if(!l)return;let f;for(let p=0;p<s.length;p++)s[p][0]==l&&(f=s[p][1]);A4(t,d).forEach(p=>{f||s.push([l,f=[]]),f.indexOf(p)==-1&&f.push(p)})})});let i=e[r.join(",")]=new rc(r.indexOf(t.length-1)>-1);for(let a=0;a<s.length;a++){let l=s[a][1].sort(ZM);i.next.push({type:s[a][0],next:e[l.join(",")]||n(l)})}return i}}function NJ(t,e){for(let n=0,r=[t];n<r.length;n++){let s=r[n],i=!s.validEnd,a=[];for(let l=0;l<s.next.length;l++){let{type:d,next:f}=s.next[l];a.push(d.name),i&&!(d.isText||d.hasRequiredAttrs())&&(i=!1),r.indexOf(f)==-1&&r.push(f)}i&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function eR(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function tR(t,e){let n=Object.create(null);for(let r in t){let s=e&&e[r];if(s===void 0){let i=t[r];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function nR(t,e,n,r){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in t){let i=t[s];i.validate&&i.validate(e[s])}}function rR(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new TJ(t,r,e[r]);return n}let k4=class sR{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=rR(e,r.attrs),this.defaultAttrs=eR(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==rc.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:tR(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new zo(this,this.computeAttrs(e),We.from(n),Pn.setFrom(r))}createChecked(e=null,n,r){return n=We.from(n),this.checkContent(n),new zo(this,this.computeAttrs(e),n,Pn.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=We.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let s=this.contentMatch.matchFragment(n),i=s&&s.fillBefore(We.empty,!0);return i?new zo(this,e,n.append(i),Pn.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){nR(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Pn.none:e}static compile(e,n){let r=Object.create(null);e.forEach((i,a)=>r[i]=new sR(i,n,a));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function jJ(t,e,n){let r=n.split("|");return s=>{let i=s===null?"null":typeof s;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${i}`)}}class TJ{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?jJ(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Dy{constructor(e,n,r,s){this.name=e,this.rank=n,this.schema=r,this.spec=s,this.attrs=rR(e,s.attrs),this.excluded=null;let i=eR(this.attrs);this.instance=i?new Pn(this,i):null}create(e=null){return!e&&this.instance?this.instance:new Pn(this,tR(this.attrs,e))}static compile(e,n){let r=Object.create(null),s=0;return e.forEach((i,a)=>r[i]=new Dy(i,s++,n,a)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){nR(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class iR{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=Vr.from(e.nodes),n.marks=Vr.from(e.marks||{}),this.nodes=k4.compile(this.spec.nodes,this),this.marks=Dy.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],a=i.spec.content||"",l=i.spec.marks;if(i.contentMatch=r[a]||(r[a]=rc.parse(a,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=l=="_"?null:l?O4(this,l.split(" ")):l==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],a=i.spec.excludes;i.excluded=a==null?[i]:a==""?[]:O4(this,a.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof k4){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,s)}text(e,n){let r=this.nodes.text;return new xg(r,r.defaultAttrs,e,Pn.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return zo.fromJSON(this,e)}markFromJSON(e){return Pn.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function O4(t,e){let n=[];for(let r=0;r<e.length;r++){let s=e[r],i=t.marks[s],a=i;if(i)n.push(i);else for(let l in t.marks){let d=t.marks[l];(s=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(s)>-1)&&n.push(a=d)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function EJ(t){return t.tag!=null}function AJ(t){return t.style!=null}let bf=class N1{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(s=>{if(EJ(s))this.tags.push(s);else if(AJ(s)){let i=/[^=]*/.exec(s.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let i=e.nodes[s.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new M4(this,n,!1);return r.addAll(e,Pn.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new M4(this,n,!0);return r.addAll(e,Pn.none,n.from,n.to),xt.maxOpen(r.finish())}matchTag(e,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(DJ(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let a=i.getAttrs(e);if(a===!1)continue;i.attrs=a||void 0}return i}}}matchStyle(e,n,r,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let a=this.styles[i],l=a.style;if(!(l.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(a.getAttrs){let d=a.getAttrs(n);if(d===!1)continue;a.attrs=d||void 0}return a}}}static schemaRules(e){let n=[];function r(s){let i=s.priority==null?50:s.priority,a=0;for(;a<n.length;a++){let l=n[a];if((l.priority==null?50:l.priority)<i)break}n.splice(a,0,s)}for(let s in e.marks){let i=e.marks[s].spec.parseDOM;i&&i.forEach(a=>{r(a=R4(a)),a.mark||a.ignore||a.clearMark||(a.mark=s)})}for(let s in e.nodes){let i=e.nodes[s].spec.parseDOM;i&&i.forEach(a=>{r(a=R4(a)),a.node||a.ignore||a.mark||(a.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new N1(e,N1.schemaRules(e)))}};const aR={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},kJ={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},oR={ol:!0,ul:!0},Jf=1,j1=2,wf=4;function D4(t,e,n){return e!=null?(e?Jf:0)|(e==="full"?j1:0):t&&t.whitespace=="pre"?Jf|j1:n&~wf}class sm{constructor(e,n,r,s,i,a){this.type=e,this.attrs=n,this.marks=r,this.solid=s,this.options=a,this.content=[],this.activeMarks=Pn.none,this.match=i||(a&wf?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(We.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Jf)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let n=We.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(We.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!aR.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class M4{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=n.topNode,i,a=D4(null,n.preserveWhitespace,0)|(r?wf:0);s?i=new sm(s.type,s.attrs,Pn.none,!0,n.topMatch||s.type.contentMatch,a):r?i=new sm(null,null,Pn.none,!0,null,a):i=new sm(e.schema.topNodeType,null,Pn.none,!0,null,a),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,s=this.top,i=s.options&j1?"full":this.localPreserveWS||(s.options&Jf)>0;if(i==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i)i!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=s.content[s.content.length-1],l=e.previousSibling;(!a||l&&l.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let s=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),l;oR.hasOwnProperty(a)&&this.parser.normalizeLists&&OJ(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,r));e:if(d?d.ignore:kJ.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,n);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let f,p=this.needsBlock;if(aR.hasOwnProperty(a))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),f=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let m=d&&d.skip?n:this.readStyles(e,n);m&&this.addAll(e,m),f&&this.sync(i),this.needsBlock=p}else{let f=this.readStyles(e,n);f&&this.addElementByRule(e,d,f,d.consuming===!1?l:void 0)}this.localPreserveWS=s}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let i=this.parser.matchedStyles[s],a=r.getPropertyValue(i);if(a)for(let l=void 0;;){let d=this.parser.matchStyle(i,a,this,l);if(!d)break;if(d.ignore)return null;if(d.clearMark?n=n.filter(f=>!d.clearMark(f)):n=n.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)l=d;else break}}return n}addElementByRule(e,n,r,s){let i,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let d=this.enter(a,n.attrs||null,r,n.preserveWhitespace);d&&(i=!0,r=d)}else{let d=this.parser.schema.marks[n.mark];r=r.concat(d.create(n.attrs))}let l=this.top;if(a&&a.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,r,!1));else{let d=e;typeof n.contentElement=="string"?d=e.querySelector(n.contentElement):typeof n.contentElement=="function"?d=n.contentElement(e):n.contentElement&&(d=n.contentElement),this.findAround(e,d,!0),this.addAll(d,r),this.findAround(e,d,!1)}i&&this.sync(l)&&this.open--}addAll(e,n,r,s){let i=r||0;for(let a=r?e.childNodes[r]:e.firstChild,l=s==null?null:e.childNodes[s];a!=l;a=a.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(a,n);this.findAtPoint(e,i)}findPlace(e,n,r){let s,i;for(let a=this.open,l=0;a>=0;a--){let d=this.nodes[a],f=d.findWrapping(e);if(f&&(!s||s.length>f.length+l)&&(s=f,i=d,!f.length))break;if(d.solid){if(r)break;l+=2}}if(!s)return null;this.sync(i);for(let a=0;a<s.length;a++)n=this.enterInner(s[a],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let s=this.findPlace(e,n,r);if(s){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let a=Pn.none;for(let l of s.concat(e.marks))(i.type?i.type.allowsMarkType(l.type):_4(l.type,e.type))&&(a=l.addToSet(a));return i.content.push(e.mark(a)),!0}return!1}enter(e,n,r,s){let i=this.findPlace(e.create(n),r,!1);return i&&(i=this.enterInner(e,n,r,!0,s)),i}enterInner(e,n,r,s=!1,i){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let l=D4(e,i,a.options);a.options&wf&&a.content.length==0&&(l|=wf);let d=Pn.none;return r=r.filter(f=>(a.type?a.type.allowsMarkType(f.type):_4(f.type,e))?(d=f.addToSet(d),!1):!0),this.nodes.push(new sm(e,n,d,s,null,l)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Jf)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(s?0:1),a=(l,d)=>{for(;l>=0;l--){let f=n[l];if(f==""){if(l==n.length-1||l==0)continue;for(;d>=i;d--)if(a(l-1,d))return!0;return!1}else{let p=d>0||d==0&&s?this.nodes[d].type:r&&d>=i?r.node(d-i).type:null;if(!p||p.name!=f&&!p.isInGroup(f))return!1;d--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function OJ(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&oR.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function DJ(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function R4(t){let e={};for(let n in t)e[n]=t[n];return e}function _4(t,e){let n=e.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(t))continue;let i=[],a=l=>{i.push(l);for(let d=0;d<l.edgeCount;d++){let{type:f,next:p}=l.edge(d);if(f==e||i.indexOf(p)<0&&a(p))return!0}};if(a(s.contentMatch))return!0}}class yc{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=qv(n).createDocumentFragment());let s=r,i=[];return e.forEach(a=>{if(i.length||a.marks.length){let l=0,d=0;for(;l<i.length&&d<a.marks.length;){let f=a.marks[d];if(!this.marks[f.type.name]){d++;continue}if(!f.eq(i[l][0])||f.type.spec.spanning===!1)break;l++,d++}for(;l<i.length;)s=i.pop()[1];for(;d<a.marks.length;){let f=a.marks[d++],p=this.serializeMark(f,a.isInline,n);p&&(i.push([f,s]),s.appendChild(p.dom),s=p.contentDOM||p.dom)}}s.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:s}=Im(qv(n),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let i=this.serializeMark(e.marks[s],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(e,n,r={}){let s=this.marks[e.type.name];return s&&Im(qv(r),s(e,n),null,e.attrs)}static renderSpec(e,n,r=null,s){return Im(e,n,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new yc(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=L4(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return L4(e.marks)}}function L4(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function qv(t){return t.document||window.document}const P4=new WeakMap;function MJ(t){let e=P4.get(t);return e===void 0&&P4.set(t,e=RJ(t)),e}function RJ(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)n(r[s]);else for(let s in r)n(r[s])}return n(t),e}function Im(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],i;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=MJ(r))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=s.indexOf(" ");a>0&&(n=s.slice(0,a),s=s.slice(a+1));let l,d=n?t.createElementNS(n,s):t.createElement(s),f=e[1],p=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){p=2;for(let m in f)if(f[m]!=null){let y=m.indexOf(" ");y>0?d.setAttributeNS(m.slice(0,y),m.slice(y+1),f[m]):d.setAttribute(m,f[m])}}for(let m=p;m<e.length;m++){let y=e[m];if(y===0){if(m<e.length-1||m>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:x,contentDOM:b}=Im(t,y,n,r);if(d.appendChild(x),b){if(l)throw new RangeError("Multiple content holes");l=b}}}return{dom:d,contentDOM:l}}const lR=65535,cR=Math.pow(2,16);function _J(t,e){return t+e*cR}function z4(t){return t&lR}function LJ(t){return(t-(t&lR))/cR}const uR=1,dR=2,Bm=4,fR=8;class T1{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&fR)>0}get deletedBefore(){return(this.delInfo&(uR|Bm))>0}get deletedAfter(){return(this.delInfo&(dR|Bm))>0}get deletedAcross(){return(this.delInfo&Bm)>0}}class $s{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&$s.empty)return $s.empty}recover(e){let n=0,r=z4(e);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+LJ(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let s=0,i=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let d=this.ranges[l]-(this.inverted?s:0);if(d>e)break;let f=this.ranges[l+i],p=this.ranges[l+a],m=d+f;if(e<=m){let y=f?e==d?-1:e==m?1:n:n,x=d+s+(y<0?0:p);if(r)return x;let b=e==(n<0?d:m)?null:_J(l/3,e-d),S=e==d?dR:e==m?uR:Bm;return(n<0?e!=d:e!=m)&&(S|=fR),new T1(x,S,b)}s+=p-f}return r?e+s:new T1(e+s,0,null)}touches(e,n){let r=0,s=z4(n),i=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let d=this.ranges[l]-(this.inverted?r:0);if(d>e)break;let f=this.ranges[l+i],p=d+f;if(e<=p&&l==s*3)return!0;r+=this.ranges[l+a]-f}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let a=this.ranges[s],l=a-(this.inverted?i:0),d=a+(this.inverted?0:i),f=this.ranges[s+n],p=this.ranges[s+r];e(l,l+f,d,d+p),i+=p-f}}invert(){return new $s(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?$s.empty:new $s(e<0?[0,-e,0]:[0,0,e])}}$s.empty=new $s([]);class Qf{constructor(e,n,r=0,s=e?e.length:0){this.mirror=n,this.from=r,this.to=s,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Qf(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let s=e.getMirror(n);this.appendMap(e._maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e._maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let e=new Qf;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let s=0;for(let i=this.from;i<this.to;i++){let a=this._maps[i],l=a.mapResult(e,n);if(l.recover!=null){let d=this.getMirror(i);if(d!=null&&d>i&&d<this.to){i=d,e=this._maps[d].recover(l.recover);continue}}s|=l.delInfo,e=l.pos}return r?e:new T1(e,s,null)}}const Kv=Object.create(null);class ss{getMap(){return $s.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Kv[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Kv)throw new RangeError("Duplicate use of step JSON ID "+e);return Kv[e]=n,n.prototype.jsonID=e,n}}class Cr{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Cr(e,null)}static fail(e){return new Cr(null,e)}static fromReplace(e,n,r,s){try{return Cr.ok(e.replace(n,r,s))}catch(i){if(i instanceof mg)return Cr.fail(i.message);throw i}}}function k2(t,e,n){let r=[];for(let s=0;s<t.childCount;s++){let i=t.child(s);i.content.size&&(i=i.copy(k2(i.content,e,i))),i.isInline&&(i=e(i,n,s)),r.push(i)}return We.fromArray(r)}class Mo extends ss{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),i=new xt(k2(n.content,(a,l)=>!a.isAtom||!l.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),s),n.openStart,n.openEnd);return Cr.fromReplace(e,this.from,this.to,i)}invert(){return new Gi(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Mo(n.pos,r.pos,this.mark)}merge(e){return e instanceof Mo&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Mo(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Mo(n.from,n.to,e.markFromJSON(n.mark))}}ss.jsonID("addMark",Mo);class Gi extends ss{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new xt(k2(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return Cr.fromReplace(e,this.from,this.to,r)}invert(){return new Mo(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Gi(n.pos,r.pos,this.mark)}merge(e){return e instanceof Gi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Gi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Gi(n.from,n.to,e.markFromJSON(n.mark))}}ss.jsonID("removeMark",Gi);class Ro extends ss{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Cr.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Cr.fromReplace(e,this.pos,this.pos+1,new xt(We.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new Ro(this.pos,n.marks[s]);return new Ro(this.pos,this.mark)}}return new sc(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ro(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ro(n.pos,e.markFromJSON(n.mark))}}ss.jsonID("addNodeMark",Ro);class sc extends ss{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Cr.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Cr.fromReplace(e,this.pos,this.pos+1,new xt(We.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Ro(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new sc(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new sc(n.pos,e.markFromJSON(n.mark))}}ss.jsonID("removeNodeMark",sc);class Lr extends ss{constructor(e,n,r,s=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=s}apply(e){return this.structure&&E1(e,this.from,this.to)?Cr.fail("Structure replace would overwrite content"):Cr.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new $s([this.from,this.to-this.from,this.slice.size])}invert(e){return new Lr(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Lr(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Lr)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?xt.empty:new xt(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Lr(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?xt.empty:new xt(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Lr(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Lr(n.from,n.to,xt.fromJSON(e,n.slice),!!n.structure)}}ss.jsonID("replace",Lr);class zr extends ss{constructor(e,n,r,s,i,a,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=i,this.insert=a,this.structure=l}apply(e){if(this.structure&&(E1(e,this.from,this.gapFrom)||E1(e,this.gapTo,this.to)))return Cr.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Cr.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Cr.fromReplace(e,this.from,this.to,r):Cr.fail("Content does not fit in gap")}getMap(){return new $s([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new zr(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||i>r.pos?null:new zr(n.pos,r.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new zr(n.from,n.to,n.gapFrom,n.gapTo,xt.fromJSON(e,n.slice),n.insert,!!n.structure)}}ss.jsonID("replaceAround",zr);function E1(t,e,n){let r=t.resolve(e),s=n-e,i=r.depth;for(;s>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,s--;if(s>0){let a=r.node(i).maybeChild(r.indexAfter(i));for(;s>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,s--}}return!1}function PJ(t,e,n,r){let s=[],i=[],a,l;t.doc.nodesBetween(e,n,(d,f,p)=>{if(!d.isInline)return;let m=d.marks;if(!r.isInSet(m)&&p.type.allowsMarkType(r.type)){let y=Math.max(f,e),x=Math.min(f+d.nodeSize,n),b=r.addToSet(m);for(let S=0;S<m.length;S++)m[S].isInSet(b)||(a&&a.to==y&&a.mark.eq(m[S])?a.to=x:s.push(a=new Gi(y,x,m[S])));l&&l.to==y?l.to=x:i.push(l=new Mo(y,x,r))}}),s.forEach(d=>t.step(d)),i.forEach(d=>t.step(d))}function zJ(t,e,n,r){let s=[],i=0;t.doc.nodesBetween(e,n,(a,l)=>{if(!a.isInline)return;i++;let d=null;if(r instanceof Dy){let f=a.marks,p;for(;p=r.isInSet(f);)(d||(d=[])).push(p),f=p.removeFromSet(f)}else r?r.isInSet(a.marks)&&(d=[r]):d=a.marks;if(d&&d.length){let f=Math.min(l+a.nodeSize,n);for(let p=0;p<d.length;p++){let m=d[p],y;for(let x=0;x<s.length;x++){let b=s[x];b.step==i-1&&m.eq(s[x].style)&&(y=b)}y?(y.to=f,y.step=i):s.push({style:m,from:Math.max(l,e),to:f,step:i})}}}),s.forEach(a=>t.step(new Gi(a.from,a.to,a.style)))}function O2(t,e,n,r=n.contentMatch,s=!0){let i=t.doc.nodeAt(e),a=[],l=e+1;for(let d=0;d<i.childCount;d++){let f=i.child(d),p=l+f.nodeSize,m=r.matchType(f.type);if(!m)a.push(new Lr(l,p,xt.empty));else{r=m;for(let y=0;y<f.marks.length;y++)n.allowsMarkType(f.marks[y].type)||t.step(new Gi(l,p,f.marks[y]));if(s&&f.isText&&n.whitespace!="pre"){let y,x=/\r?\n|\r/g,b;for(;y=x.exec(f.text);)b||(b=new xt(We.from(n.schema.text(" ",n.allowedMarks(f.marks))),0,0)),a.push(new Lr(l+y.index,l+y.index+y[0].length,b))}}l=p}if(!r.validEnd){let d=r.fillBefore(We.empty,!0);t.replace(l,l,new xt(d,0,0))}for(let d=a.length-1;d>=0;d--)t.step(a[d])}function IJ(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function $u(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let s=t.$from.node(r),i=t.$from.index(r),a=t.$to.indexAfter(r);if(r<t.depth&&s.canReplace(i,a,n))return r;if(r==0||s.type.spec.isolating||!IJ(s,i,a))break}return null}function BJ(t,e,n){let{$from:r,$to:s,depth:i}=e,a=r.before(i+1),l=s.after(i+1),d=a,f=l,p=We.empty,m=0;for(let b=i,S=!1;b>n;b--)S||r.index(b)>0?(S=!0,p=We.from(r.node(b).copy(p)),m++):d--;let y=We.empty,x=0;for(let b=i,S=!1;b>n;b--)S||s.after(b+1)<s.end(b)?(S=!0,y=We.from(s.node(b).copy(y)),x++):f++;t.step(new zr(d,f,a,l,new xt(p.append(y),m,x),p.size-m,!0))}function D2(t,e,n=null,r=t){let s=FJ(t,e),i=s&&$J(r,e);return i?s.map(I4).concat({type:e,attrs:n}).concat(i.map(I4)):null}function I4(t){return{type:t,attrs:null}}function FJ(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;let a=i.length?i[0]:e;return n.canReplaceWith(r,s,a)?i:null}function $J(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.child(r),a=e.contentMatch.findWrapping(i.type);if(!a)return null;let d=(a.length?a[a.length-1]:e).contentMatch;for(let f=r;d&&f<s;f++)d=d.matchType(n.child(f).type);return!d||!d.validEnd?null:a}function UJ(t,e,n){let r=We.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let l=n[a].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=We.from(n[a].type.create(n[a].attrs,r))}let s=e.start,i=e.end;t.step(new zr(s,i,s,i,new xt(r,0,0),n.length,!0))}function VJ(t,e,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(a,l)=>{let d=typeof s=="function"?s(a):s;if(a.isTextblock&&!a.hasMarkup(r,d)&&HJ(t.doc,t.mapping.slice(i).map(l),r)){let f=null;if(r.schema.linebreakReplacement){let x=r.whitespace=="pre",b=!!r.contentMatch.matchType(r.schema.linebreakReplacement);x&&!b?f=!1:!x&&b&&(f=!0)}f===!1&&pR(t,a,l,i),O2(t,t.mapping.slice(i).map(l,1),r,void 0,f===null);let p=t.mapping.slice(i),m=p.map(l,1),y=p.map(l+a.nodeSize,1);return t.step(new zr(m,y,m+1,y-1,new xt(We.from(r.create(d,null,a.marks)),0,0),1,!0)),f===!0&&hR(t,a,l,i),!1}})}function hR(t,e,n,r){e.forEach((s,i)=>{if(s.isText){let a,l=/\r?\n|\r/g;for(;a=l.exec(s.text);){let d=t.mapping.slice(r).map(n+1+i+a.index);t.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function pR(t,e,n,r){e.forEach((s,i)=>{if(s.type==s.type.schema.linebreakReplacement){let a=t.mapping.slice(r).map(n+1+i);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function HJ(t,e,n){let r=t.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function qJ(t,e,n,r,s){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let a=n.create(r,null,s||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,a);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new zr(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new xt(We.from(a),0,0),1,!0))}function Fa(t,e,n=1,r){let s=t.resolve(e),i=s.depth-n,a=r&&r[r.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!a.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let f=s.depth-1,p=n-2;f>i;f--,p--){let m=s.node(f),y=s.index(f);if(m.type.spec.isolating)return!1;let x=m.content.cutByIndex(y,m.childCount),b=r&&r[p+1];b&&(x=x.replaceChild(0,b.type.create(b.attrs)));let S=r&&r[p]||m;if(!m.canReplace(y+1,m.childCount)||!S.type.validContent(x))return!1}let l=s.indexAfter(i),d=r&&r[0];return s.node(i).canReplaceWith(l,l,d?d.type:s.node(i+1).type)}function KJ(t,e,n=1,r){let s=t.doc.resolve(e),i=We.empty,a=We.empty;for(let l=s.depth,d=s.depth-n,f=n-1;l>d;l--,f--){i=We.from(s.node(l).copy(i));let p=r&&r[f];a=We.from(p?p.type.create(p.attrs,a):s.node(l).copy(a))}t.step(new Lr(e,e,new xt(i.append(a),n,n),!0))}function el(t,e){let n=t.resolve(e),r=n.index();return mR(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function YJ(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let s=0;s<e.childCount;s++){let i=e.child(s),a=i.type==r?t.type.schema.nodes.text:i.type;if(n=n.matchType(a),!n||!t.type.allowsMarks(i.marks))return!1}return n.validEnd}function mR(t,e){return!!(t&&e&&!t.isLeaf&&YJ(t,e))}function My(t,e,n=-1){let r=t.resolve(e);for(let s=r.depth;;s--){let i,a,l=r.index(s);if(s==r.depth?(i=r.nodeBefore,a=r.nodeAfter):n>0?(i=r.node(s+1),l++,a=r.node(s).maybeChild(l)):(i=r.node(s).maybeChild(l-1),a=r.node(s+1)),i&&!i.isTextblock&&mR(i,a)&&r.node(s).canReplace(l,l+1))return e;if(s==0)break;e=n<0?r.before(s):r.after(s)}}function WJ(t,e,n){let r=null,{linebreakReplacement:s}=t.doc.type.schema,i=t.doc.resolve(e-n),a=i.node().type;if(s&&a.inlineContent){let p=a.whitespace=="pre",m=!!a.contentMatch.matchType(s);p&&!m?r=!1:!p&&m&&(r=!0)}let l=t.steps.length;if(r===!1){let p=t.doc.resolve(e+n);pR(t,p.node(),p.before(),l)}a.inlineContent&&O2(t,e+n-1,a,i.node().contentMatchAt(i.index()),r==null);let d=t.mapping.slice(l),f=d.map(e-n);if(t.step(new Lr(f,d.map(e+n,-1),xt.empty,!0)),r===!0){let p=t.doc.resolve(f);hR(t,p.node(),p.before(),t.steps.length)}return t}function GJ(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let i=r.index(s);if(r.node(s).canReplaceWith(i,i,n))return r.before(s+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let i=r.indexAfter(s);if(r.node(s).canReplaceWith(i,i,n))return r.after(s+1);if(i<r.node(s).childCount)return null}return null}function gR(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let i=0;i<n.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let a=r.depth;a>=0;a--){let l=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,d=r.index(a)+(l>0?1:0),f=r.node(a),p=!1;if(i==1)p=f.canReplace(d,d,s);else{let m=f.contentMatchAt(d).findWrapping(s.firstChild.type);p=m&&f.canReplaceWith(d,d,m[0])}if(p)return l==0?r.pos:l<0?r.before(a+1):r.after(a+1)}return null}function Ry(t,e,n=e,r=xt.empty){if(e==n&&!r.size)return null;let s=t.resolve(e),i=t.resolve(n);return yR(s,i,r)?new Lr(e,n,r):new XJ(s,i,r).fit()}function yR(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class XJ{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=We.empty;for(let s=0;s<=e.depth;s++){let i=e.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=We.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let i=this.placed,a=r.depth,l=s.depth;for(;a&&l&&i.childCount==1;)i=i.firstChild.content,a--,l--;let d=new xt(i,a,l);return e>-1?new zr(r.pos,e,this.$to.pos,this.$to.end(),d,n):d.size||r.pos!=this.$to.pos?new Lr(r.pos,s.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let i=n.firstChild;if(n.childCount>1&&(s=0),i.type.spec.isolating&&s<=r){e=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let s,i=null;r?(i=Yv(this.unplaced.content,r-1).firstChild,s=i.content):s=this.unplaced.content;let a=s.firstChild;for(let l=this.depth;l>=0;l--){let{type:d,match:f}=this.frontier[l],p,m=null;if(n==1&&(a?f.matchType(a.type)||(m=f.fillBefore(We.from(a),!1)):i&&d.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:l,parent:i,inject:m};if(n==2&&a&&(p=f.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:l,parent:i,wrap:p};if(i&&f.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=Yv(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new xt(e,n+1,Math.max(r,s.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=Yv(e,n);if(s.childCount<=1&&n>0){let i=e.size-n<=n+s.size;this.unplaced=new xt(af(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new xt(af(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:s,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let S=0;S<i.length;S++)this.openFrontierNode(i[S]);let a=this.unplaced,l=r?r.content:a.content,d=a.openStart-e,f=0,p=[],{match:m,type:y}=this.frontier[n];if(s){for(let S=0;S<s.childCount;S++)p.push(s.child(S));m=m.matchFragment(s)}let x=l.size+e-(a.content.size-a.openEnd);for(;f<l.childCount;){let S=l.child(f),C=m.matchType(S.type);if(!C)break;f++,(f>1||d==0||S.content.size)&&(m=C,p.push(xR(S.mark(y.allowedMarks(S.marks)),f==1?d:0,f==l.childCount?x:-1)))}let b=f==l.childCount;b||(x=-1),this.placed=of(this.placed,n,We.from(p)),this.frontier[n].match=m,b&&x<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let S=0,C=l;S<x;S++){let N=C.lastChild;this.frontier.push({type:N.type,match:N.contentMatchAt(N.childCount)}),C=N.content}this.unplaced=b?e==0?xt.empty:new xt(af(a.content,e-1,1),e-1,x<0?a.openEnd:e-1):new xt(af(a.content,e,f),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Wv(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=Wv(e,n,s,r,i);if(a){for(let l=n-1;l>=0;l--){let{match:d,type:f}=this.frontier[l],p=Wv(e,l,f,d,!0);if(!p||p.childCount)continue e}return{depth:n,fit:a,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=of(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let s=e.node(r),i=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,i)}return e}openFrontierNode(e,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=of(this.placed,this.depth,We.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(We.empty,!0);n.childCount&&(this.placed=of(this.placed,this.frontier.length,n))}}function af(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(af(t.firstChild.content,e-1,n)))}function of(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(of(t.lastChild.content,e-1,n)))}function Yv(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function xR(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,xR(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(We.empty,!0)))),t.copy(r)}function Wv(t,e,n,r,s){let i=t.node(e),a=s?t.indexAfter(e):t.index(e);if(a==i.childCount&&!n.compatibleContent(i.type))return null;let l=r.fillBefore(i.content,!0,a);return l&&!JJ(n,i.content,a)?l:null}function JJ(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function QJ(t){return t.spec.defining||t.spec.definingForContent}function ZJ(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),i=t.doc.resolve(n);if(yR(s,i,r))return t.step(new Lr(e,n,r));let a=bR(s,t.doc.resolve(n));a[a.length-1]==0&&a.pop();let l=-(s.depth+1);a.unshift(l);for(let y=s.depth,x=s.pos-1;y>0;y--,x--){let b=s.node(y).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;a.indexOf(y)>-1?l=y:s.before(y)==x&&a.splice(1,0,-y)}let d=a.indexOf(l),f=[],p=r.openStart;for(let y=r.content,x=0;;x++){let b=y.firstChild;if(f.push(b),x==r.openStart)break;y=b.content}for(let y=p-1;y>=0;y--){let x=f[y],b=QJ(x.type);if(b&&!x.sameMarkup(s.node(Math.abs(l)-1)))p=y;else if(b||!x.type.isTextblock)break}for(let y=r.openStart;y>=0;y--){let x=(y+p+1)%(r.openStart+1),b=f[x];if(b)for(let S=0;S<a.length;S++){let C=a[(S+d)%a.length],N=!0;C<0&&(N=!1,C=-C);let k=s.node(C-1),D=s.index(C-1);if(k.canReplaceWith(D,D,b.type,b.marks))return t.replace(s.before(C),N?i.after(C):n,new xt(vR(r.content,0,r.openStart,x),x,r.openEnd))}}let m=t.steps.length;for(let y=a.length-1;y>=0&&(t.replace(e,n,r),!(t.steps.length>m));y--){let x=a[y];x<0||(e=s.before(x),n=i.after(x))}}function vR(t,e,n,r,s){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(vR(i.content,e+1,n,r,i)))}if(e>r){let i=s.contentMatchAt(0),a=i.fillBefore(t).append(t);t=a.append(i.matchFragment(a).fillBefore(We.empty,!0))}return t}function eQ(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=GJ(t.doc,e,r.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new xt(We.from(r),0,0))}function tQ(t,e,n){let r=t.doc.resolve(e),s=t.doc.resolve(n),i=bR(r,s);for(let a=0;a<i.length;a++){let l=i[a],d=a==i.length-1;if(d&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),s.end(l));if(l>0&&(d||r.node(l-1).canReplace(r.index(l-1),s.indexAfter(l-1))))return t.delete(r.before(l),s.after(l))}for(let a=1;a<=r.depth&&a<=s.depth;a++)if(e-r.start(a)==r.depth-a&&n>r.end(a)&&s.end(a)-n!=s.depth-a&&r.start(a-1)==s.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),s.index(a-1)))return t.delete(r.before(a),n);t.delete(e,n)}function bR(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let s=r;s>=0;s--){let i=t.start(s);if(i<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(i==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==i-1)&&n.push(s)}return n}class mu extends ss{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Cr.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return Cr.fromReplace(e,this.pos,this.pos+1,new xt(We.from(s),0,n.isLeaf?0:1))}getMap(){return $s.empty}invert(e){return new mu(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new mu(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new mu(n.pos,n.attr,n.value)}}ss.jsonID("attr",mu);class Zf extends ss{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Cr.ok(r)}getMap(){return $s.empty}invert(e){return new Zf(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Zf(n.attr,n.value)}}ss.jsonID("docAttr",Zf);let Cu=class extends Error{};Cu=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Cu.prototype=Object.create(Error.prototype);Cu.prototype.constructor=Cu;Cu.prototype.name="TransformError";class M2{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Qf}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Cu(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=xt.empty){let s=Ry(this.doc,e,n,r);return s&&this.step(s),this}replaceWith(e,n,r){return this.replace(e,n,new xt(We.from(r),0,0))}delete(e,n){return this.replace(e,n,xt.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return ZJ(this,e,n,r),this}replaceRangeWith(e,n,r){return eQ(this,e,n,r),this}deleteRange(e,n){return tQ(this,e,n),this}lift(e,n){return BJ(this,e,n),this}join(e,n=1){return WJ(this,e,n),this}wrap(e,n){return UJ(this,e,n),this}setBlockType(e,n=e,r,s=null){return VJ(this,e,n,r,s),this}setNodeMarkup(e,n,r=null,s){return qJ(this,e,n,r,s),this}setNodeAttribute(e,n,r){return this.step(new mu(e,n,r)),this}setDocAttribute(e,n){return this.step(new Zf(e,n)),this}addNodeMark(e,n){return this.step(new Ro(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof Pn)n.isInSet(r.marks)&&this.step(new sc(e,n));else{let s=r.marks,i,a=[];for(;i=n.isInSet(s);)a.push(new sc(e,i)),s=i.removeFromSet(s);for(let l=a.length-1;l>=0;l--)this.step(a[l])}return this}split(e,n=1,r){return KJ(this,e,n,r),this}addMark(e,n,r){return PJ(this,e,n,r),this}removeMark(e,n,r){return zJ(this,e,n,r),this}clearIncompatible(e,n,r){return O2(this,e,n,r),this}}const Gv=Object.create(null);class Yt{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new wR(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=xt.empty){let r=n.content.lastChild,s=null;for(let l=0;l<n.openEnd;l++)s=r,r=r.lastChild;let i=e.steps.length,a=this.ranges;for(let l=0;l<a.length;l++){let{$from:d,$to:f}=a[l],p=e.mapping.slice(i);e.replaceRange(p.map(d.pos),p.map(f.pos),l?xt.empty:n),l==0&&$4(e,i,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:a,$to:l}=s[i],d=e.mapping.slice(r),f=d.map(a.pos),p=d.map(l.pos);i?e.deleteRange(f,p):(e.replaceRangeWith(f,p,n),$4(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let s=e.parent.inlineContent?new Vt(e):tu(e.node(0),e.parent,e.pos,e.index(),n,r);if(s)return s;for(let i=e.depth-1;i>=0;i--){let a=n<0?tu(e.node(0),e.node(i),e.before(i+1),e.index(i),n,r):tu(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,r);if(a)return a}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new qs(e.node(0))}static atStart(e){return tu(e,e,0,0,1)||new qs(e)}static atEnd(e){return tu(e,e,e.content.size,e.childCount,-1)||new qs(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Gv[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Gv)throw new RangeError("Duplicate use of selection JSON ID "+e);return Gv[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Vt.between(this.$anchor,this.$head).getBookmark()}}Yt.prototype.visible=!0;class wR{constructor(e,n){this.$from=e,this.$to=n}}let B4=!1;function F4(t){!B4&&!t.parent.inlineContent&&(B4=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Vt extends Yt{constructor(e,n=e){F4(e),F4(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Yt.near(r);let s=e.resolve(n.map(this.anchor));return new Vt(s.parent.inlineContent?s:r,r)}replace(e,n=xt.empty){if(super.replace(e,n),n==xt.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Vt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new _y(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Vt(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let s=e.resolve(n);return new this(s,r==n?s:e.resolve(r))}static between(e,n,r){let s=e.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let i=Yt.findFrom(n,r,!0)||Yt.findFrom(n,-r,!0);if(i)n=i.$head;else return Yt.near(n,r)}return e.parent.inlineContent||(s==0?e=n:(e=(Yt.findFrom(e,-r,!0)||Yt.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new Vt(e,n)}}Yt.jsonID("text",Vt);class _y{constructor(e,n){this.anchor=e,this.head=n}map(e){return new _y(e.map(this.anchor),e.map(this.head))}resolve(e){return Vt.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ut extends Yt{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),i=e.resolve(s);return r?Yt.near(i):new Ut(i)}content(){return new xt(We.from(this.node),0,0)}eq(e){return e instanceof Ut&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new R2(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ut(e.resolve(n.anchor))}static create(e,n){return new Ut(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ut.prototype.visible=!1;Yt.jsonID("node",Ut);class R2{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new _y(r,r):new R2(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Ut.isSelectable(r)?new Ut(n):Yt.near(n)}}class qs extends Yt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=xt.empty){if(n==xt.empty){e.delete(0,e.doc.content.size);let r=Yt.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new qs(e)}map(e){return new qs(e)}eq(e){return e instanceof qs}getBookmark(){return nQ}}Yt.jsonID("all",qs);const nQ={map(){return this},resolve(t){return new qs(t)}};function tu(t,e,n,r,s,i=!1){if(e.inlineContent)return Vt.create(t,n);for(let a=r-(s>0?0:1);s>0?a<e.childCount:a>=0;a+=s){let l=e.child(a);if(l.isAtom){if(!i&&Ut.isSelectable(l))return Ut.create(t,n-(s<0?l.nodeSize:0))}else{let d=tu(t,l,n+s,s<0?l.childCount:0,s,i);if(d)return d}n+=l.nodeSize*s}return null}function $4(t,e,n){let r=t.steps.length-1;if(r<e)return;let s=t.steps[r];if(!(s instanceof Lr||s instanceof zr))return;let i=t.mapping.maps[r],a;i.forEach((l,d,f,p)=>{a==null&&(a=p)}),t.setSelection(Yt.near(t.doc.resolve(a),n))}const U4=1,im=2,V4=4;class rQ extends M2{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|U4)&~im,this.storedMarks=null,this}get selectionSet(){return(this.updated&U4)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=im,this}ensureMarks(e){return Pn.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&im)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~im,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Pn.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let a=this.doc.resolve(n);i=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(e,i)),this.selection.empty||this.setSelection(Yt.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=V4,this}get scrolledIntoView(){return(this.updated&V4)>0}}function H4(t,e){return!e||!t?t:t.bind(e)}class lf{constructor(e,n,r){this.name=e,this.init=H4(n.init,r),this.apply=H4(n.apply,r)}}const sQ=[new lf("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new lf("selection",{init(t,e){return t.selection||Yt.atStart(e.doc)},apply(t){return t.selection}}),new lf("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new lf("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Xv{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=sQ.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new lf(r.key,r.spec.state,r))})}}class du{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),s=null;for(;;){let i=!1;for(let a=0;a<this.config.plugins.length;a++){let l=this.config.plugins[a];if(l.spec.appendTransaction){let d=s?s[a].n:0,f=s?s[a].state:this,p=d<n.length&&l.spec.appendTransaction.call(l,d?n.slice(d):n,f,r);if(p&&r.filterTransaction(p,a)){if(p.setMeta("appendedTransaction",e),!s){s=[];for(let m=0;m<this.config.plugins.length;m++)s.push(m<a?{state:r,n:n.length}:{state:this,n:0})}n.push(p),r=r.applyInner(p),i=!0}s&&(s[a]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new du(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let i=r[s];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new rQ(this)}static create(e){let n=new Xv(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new du(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(e,r);return r}reconfigure(e){let n=new Xv(this.schema,e.plugins),r=n.fields,s=new du(n);for(let i=0;i<r.length;i++){let a=r[i].name;s[a]=this.hasOwnProperty(a)?this[a]:r[i].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],i=s.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new Xv(e.schema,e.plugins),i=new du(s);return s.fields.forEach(a=>{if(a.name=="doc")i.doc=zo.fromJSON(e.schema,n.doc);else if(a.name=="selection")i.selection=Yt.fromJSON(i.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let d=r[l],f=d.spec.state;if(d.key==a.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){i[a.name]=f.fromJSON.call(d,e,n[l],i);return}}i[a.name]=a.init(e,i)}}),i}}function SR(t,e,n){for(let r in t){let s=t[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=SR(s,e,{})),n[r]=s}return n}class Nr{constructor(e){this.spec=e,this.props={},e.props&&SR(e.props,this,this.props),this.key=e.key?e.key.key:CR("plugin")}getState(e){return e[this.key]}}const Jv=Object.create(null);function CR(t){return t in Jv?t+"$"+ ++Jv[t]:(Jv[t]=0,t+"$")}class Wr{constructor(e="key"){this.key=CR(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const qr=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Nu=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let A1=null;const La=function(t,e,n){let r=A1||(A1=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},iQ=function(){A1=null},ic=function(t,e,n,r){return n&&(q4(t,e,n,r,-1)||q4(t,e,n,r,1))},aQ=/^(img|br|input|textarea|hr)$/i;function q4(t,e,n,r,s){for(var i;;){if(t==n&&e==r)return!0;if(e==(s<0?0:ci(t))){let a=t.parentNode;if(!a||a.nodeType!=1||kh(t)||aQ.test(t.nodeName)||t.contentEditable=="false")return!1;e=qr(t)+(s<0?0:1),t=a}else if(t.nodeType==1){let a=t.childNodes[e+(s<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((i=a.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)e+=s;else return!1;else t=a,e=s<0?ci(t):0}else return!1}}function ci(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function oQ(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=ci(t)}else if(t.parentNode&&!kh(t))e=qr(t),t=t.parentNode;else return null}}function lQ(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!kh(t))e=qr(t)+1,t=t.parentNode;else return null}}function cQ(t,e,n){for(let r=e==0,s=e==ci(t);r||s;){if(t==n)return!0;let i=qr(t);if(t=t.parentNode,!t)return!1;r=r&&i==0,s=s&&i==ci(t)}}function kh(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Ly=function(t){return t.focusNode&&ic(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function kl(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function uQ(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function dQ(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(ci(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(ci(r.startContainer),r.startOffset)}}}const ia=typeof navigator<"u"?navigator:null,K4=typeof document<"u"?document:null,tl=ia&&ia.userAgent||"",k1=/Edge\/(\d+)/.exec(tl),NR=/MSIE \d/.exec(tl),O1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(tl),Es=!!(NR||O1||k1),Io=NR?document.documentMode:O1?+O1[1]:k1?+k1[1]:0,Oi=!Es&&/gecko\/(\d+)/i.test(tl);Oi&&+(/Firefox\/(\d+)/.exec(tl)||[0,0])[1];const D1=!Es&&/Chrome\/(\d+)/.exec(tl),ts=!!D1,jR=D1?+D1[1]:0,fs=!Es&&!!ia&&/Apple Computer/.test(ia.vendor),ju=fs&&(/Mobile\/\w+/.test(tl)||!!ia&&ia.maxTouchPoints>2),li=ju||(ia?/Mac/.test(ia.platform):!1),fQ=ia?/Win/.test(ia.platform):!1,za=/Android \d/.test(tl),Oh=!!K4&&"webkitFontSmoothing"in K4.documentElement.style,hQ=Oh?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function pQ(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function ka(t,e){return typeof t=="number"?t:t[e]}function mQ(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function Y4(t,e,n){let r=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let a=n||t.dom;a;){if(a.nodeType!=1){a=Nu(a);continue}let l=a,d=l==i.body,f=d?pQ(i):mQ(l),p=0,m=0;if(e.top<f.top+ka(r,"top")?m=-(f.top-e.top+ka(s,"top")):e.bottom>f.bottom-ka(r,"bottom")&&(m=e.bottom-e.top>f.bottom-f.top?e.top+ka(s,"top")-f.top:e.bottom-f.bottom+ka(s,"bottom")),e.left<f.left+ka(r,"left")?p=-(f.left-e.left+ka(s,"left")):e.right>f.right-ka(r,"right")&&(p=e.right-f.right+ka(s,"right")),p||m)if(d)i.defaultView.scrollBy(p,m);else{let x=l.scrollLeft,b=l.scrollTop;m&&(l.scrollTop+=m),p&&(l.scrollLeft+=p);let S=l.scrollLeft-x,C=l.scrollTop-b;e={left:e.left-S,top:e.top-C,right:e.right-S,bottom:e.bottom-C}}let y=d?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(y))break;a=y=="absolute"?a.offsetParent:Nu(a)}}function gQ(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,s;for(let i=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let l=t.root.elementFromPoint(i,a);if(!l||l==t.dom||!t.dom.contains(l))continue;let d=l.getBoundingClientRect();if(d.top>=n-20){r=l,s=d.top;break}}return{refDOM:r,refTop:s,stack:TR(t.dom)}}function TR(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Nu(r));return e}function yQ({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;ER(n,r==0?0:r-e)}function ER(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:s,left:i}=t[n];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=i&&(r.scrollLeft=i)}}let Xc=null;function xQ(t){if(t.setActive)return t.setActive();if(Xc)return t.focus(Xc);let e=TR(t);t.focus(Xc==null?{get preventScroll(){return Xc={preventScroll:!0},!0}}:void 0),Xc||(Xc=!1,ER(e,0))}function AR(t,e){let n,r=2e8,s,i=0,a=e.top,l=e.top,d,f;for(let p=t.firstChild,m=0;p;p=p.nextSibling,m++){let y;if(p.nodeType==1)y=p.getClientRects();else if(p.nodeType==3)y=La(p).getClientRects();else continue;for(let x=0;x<y.length;x++){let b=y[x];if(b.top<=a&&b.bottom>=l){a=Math.max(b.bottom,a),l=Math.min(b.top,l);let S=b.left>e.left?b.left-e.left:b.right<e.left?e.left-b.right:0;if(S<r){n=p,r=S,s=S&&n.nodeType==3?{left:b.right<e.left?b.right:b.left,top:e.top}:e,p.nodeType==1&&S&&(i=m+(e.left>=(b.left+b.right)/2?1:0));continue}}else b.top>e.top&&!d&&b.left<=e.left&&b.right>=e.left&&(d=p,f={left:Math.max(b.left,Math.min(b.right,e.left)),top:b.top});!n&&(e.left>=b.right&&e.top>=b.top||e.left>=b.left&&e.top>=b.bottom)&&(i=m+1)}}return!n&&d&&(n=d,s=f,r=0),n&&n.nodeType==3?vQ(n,s):!n||r&&n.nodeType==1?{node:t,offset:i}:AR(n,s)}function vQ(t,e){let n=t.nodeValue.length,r=document.createRange();for(let s=0;s<n;s++){r.setEnd(t,s+1),r.setStart(t,s);let i=wo(r,1);if(i.top!=i.bottom&&_2(e,i))return{node:t,offset:s+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function _2(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function bQ(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function wQ(t,e,n){let{node:r,offset:s}=AR(e,n),i=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();i=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(r,s,i)}function SQ(t,e,n,r){let s=-1;for(let i=e,a=!1;i!=t.dom;){let l=t.docView.nearestDesc(i,!0),d;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((d=l.dom.getBoundingClientRect()).width||d.height)&&(l.node.isBlock&&l.parent&&(!a&&d.left>r.left||d.top>r.top?s=l.posBefore:(!a&&d.right<r.left||d.bottom<r.top)&&(s=l.posAfter),a=!0),!l.contentDOM&&s<0&&!l.node.isText))return(l.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?l.posBefore:l.posAfter;i=l.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function kR(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),i=s;;){let a=t.childNodes[i];if(a.nodeType==1){let l=a.getClientRects();for(let d=0;d<l.length;d++){let f=l[d];if(_2(e,f))return kR(a,e,f)}}if((i=(i+1)%r)==s)break}return t}function CQ(t,e){let n=t.dom.ownerDocument,r,s=0,i=dQ(n,e.left,e.top);i&&({node:r,offset:s}=i);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let f=t.dom.getBoundingClientRect();if(!_2(e,f)||(a=kR(t.dom,e,f),!a))return null}if(fs)for(let f=a;r&&f;f=Nu(f))f.draggable&&(r=void 0);if(a=bQ(a,e),r){if(Oi&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let p=r.childNodes[s],m;p.nodeName=="IMG"&&(m=p.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&s++}let f;Oh&&s&&r.nodeType==1&&(f=r.childNodes[s-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=e.top&&s--,r==t.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(l=SQ(t,r,s,e))}l==null&&(l=wQ(t,a,e));let d=t.docView.nearestDesc(a,!0);return{pos:l,inside:d?d.posAtStart-d.border:-1}}function W4(t){return t.top<t.bottom||t.left<t.right}function wo(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(W4(r))return r}return Array.prototype.find.call(n,W4)||t.getBoundingClientRect()}const NQ=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function OR(t,e,n){let{node:r,offset:s,atom:i}=t.docView.domFromPos(e,n<0?-1:1),a=Oh||Oi;if(r.nodeType==3)if(a&&(NQ.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let d=wo(La(r,s,s),n);if(Oi&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let f=wo(La(r,s-1,s-1),-1);if(f.top==d.top){let p=wo(La(r,s,s+1),-1);if(p.top!=d.top)return Jd(p,p.left<f.left)}}return d}else{let d=s,f=s,p=n<0?1:-1;return n<0&&!s?(f++,p=-1):n>=0&&s==r.nodeValue.length?(d--,p=1):n<0?d--:f++,Jd(wo(La(r,d,f),p),p<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&s&&(n<0||s==ci(r))){let d=r.childNodes[s-1];if(d.nodeType==1)return Qv(d.getBoundingClientRect(),!1)}if(i==null&&s<ci(r)){let d=r.childNodes[s];if(d.nodeType==1)return Qv(d.getBoundingClientRect(),!0)}return Qv(r.getBoundingClientRect(),n>=0)}if(i==null&&s&&(n<0||s==ci(r))){let d=r.childNodes[s-1],f=d.nodeType==3?La(d,ci(d)-(a?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(f)return Jd(wo(f,1),!1)}if(i==null&&s<ci(r)){let d=r.childNodes[s];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let f=d?d.nodeType==3?La(d,0,a?0:1):d.nodeType==1?d:null:null;if(f)return Jd(wo(f,-1),!0)}return Jd(wo(r.nodeType==3?La(r):r,-n),n>=0)}function Jd(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Qv(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function DR(t,e,n){let r=t.state,s=t.root.activeElement;r!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),s!=t.dom&&s&&s.focus()}}function jQ(t,e,n){let r=e.selection,s=n=="up"?r.$from:r.$to;return DR(t,e,()=>{let{node:i}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(i,!0);if(!l)break;if(l.node.isBlock){i=l.contentDOM||l.dom;break}i=l.dom.parentNode}let a=OR(t,s.pos,1);for(let l=i.firstChild;l;l=l.nextSibling){let d;if(l.nodeType==1)d=l.getClientRects();else if(l.nodeType==3)d=La(l,0,l.nodeValue.length).getClientRects();else continue;for(let f=0;f<d.length;f++){let p=d[f];if(p.bottom>p.top+1&&(n=="up"?a.top-p.top>(p.bottom-a.top)*2:p.bottom-a.bottom>(a.bottom-p.top)*2))return!1}}return!0})}const TQ=/[\u0590-\u08ac]/;function EQ(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,i=!s,a=s==r.parent.content.size,l=t.domSelection();return l?!TQ.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?i:a:DR(t,e,()=>{let{focusNode:d,focusOffset:f,anchorNode:p,anchorOffset:m}=t.domSelectionRange(),y=l.caretBidiLevel;l.modify("move",n,"character");let x=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:b,focusOffset:S}=t.domSelectionRange(),C=b&&!x.contains(b.nodeType==1?b:b.parentNode)||d==b&&f==S;try{l.collapse(p,m),d&&(d!=p||f!=m)&&l.extend&&l.extend(d,f)}catch{}return y!=null&&(l.caretBidiLevel=y),C}):r.pos==r.start()||r.pos==r.end()}let G4=null,X4=null,J4=!1;function AQ(t,e,n){return G4==e&&X4==n?J4:(G4=e,X4=n,J4=n=="up"||n=="down"?jQ(t,e,n):EQ(t,e,n))}const hi=0,Q4=1,zl=2,aa=3;class Dh{constructor(e,n,r,s){this.parent=e,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=hi,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let i,a;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((a=i.pmViewDesc)&&a.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(a)+a.size:this.posAtStart}else{let i,a;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((a=i.pmViewDesc)&&a.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(a):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>qr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,s=e;s;s=s.parentNode){let i=this.getDesc(s),a;if(i&&(!n||i.node))if(r&&(a=i.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let s=e;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],i=r+s.size;if(r==e&&i!=r){for(;!s.border&&s.children.length;)for(let a=0;a<s.children.length;a++){let l=s.children[a];if(l.size){s=l;break}}return s}if(e<i)return s.descAt(e-r-s.border);r=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let i=0;r<this.children.length;r++){let a=this.children[r],l=i+a.size;if(l>e||a instanceof RR){s=e-i;break}i=l}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof MR&&i.side>=0;r--);if(n<=0){let i,a=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,a=!1);return i&&n&&a&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?qr(i.dom)+1:0}}else{let i,a=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,a=!1);return i&&a&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?qr(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let a=r,l=0;;l++){let d=this.children[l],f=a+d.size;if(s==-1&&e<=f){let p=a+d.border;if(e>=p&&n<=f-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,n,p);e=a;for(let m=l;m>0;m--){let y=this.children[m-1];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(1)){s=qr(y.dom)+1;break}e-=y.size}s==-1&&(s=0)}if(s>-1&&(f>n||l==this.children.length-1)){n=f;for(let p=l+1;p<this.children.length;p++){let m=this.children[p];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){i=qr(m.dom);break}n+=m.size}i==-1&&(i=this.contentDOM.childNodes.length);break}a=f}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,s=!1){let i=Math.min(e,n),a=Math.max(e,n);for(let x=0,b=0;x<this.children.length;x++){let S=this.children[x],C=b+S.size;if(i>b&&a<C)return S.setSelection(e-b-S.border,n-b-S.border,r,s);b=C}let l=this.domFromPos(e,e?-1:1),d=n==e?l:this.domFromPos(n,n?-1:1),f=r.root.getSelection(),p=r.domSelectionRange(),m=!1;if((Oi||fs)&&e==n){let{node:x,offset:b}=l;if(x.nodeType==3){if(m=!!(b&&x.nodeValue[b-1]==`
`),m&&b==x.nodeValue.length)for(let S=x,C;S;S=S.parentNode){if(C=S.nextSibling){C.nodeName=="BR"&&(l=d={node:C.parentNode,offset:qr(C)+1});break}let N=S.pmViewDesc;if(N&&N.node&&N.node.isBlock)break}}else{let S=x.childNodes[b-1];m=S&&(S.nodeName=="BR"||S.contentEditable=="false")}}if(Oi&&p.focusNode&&p.focusNode!=d.node&&p.focusNode.nodeType==1){let x=p.focusNode.childNodes[p.focusOffset];x&&x.contentEditable=="false"&&(s=!0)}if(!(s||m&&fs)&&ic(l.node,l.offset,p.anchorNode,p.anchorOffset)&&ic(d.node,d.offset,p.focusNode,p.focusOffset))return;let y=!1;if((f.extend||e==n)&&!m){f.collapse(l.node,l.offset);try{e!=n&&f.extend(d.node,d.offset),y=!0}catch{}}if(!y){if(e>n){let b=l;l=d,d=b}let x=document.createRange();x.setEnd(d.node,d.offset),x.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(x)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,s=0;s<this.children.length;s++){let i=this.children[s],a=r+i.size;if(r==a?e<=a&&n>=r:e<a&&n>r){let l=r+i.border,d=a-i.border;if(e>=l&&n<=d){this.dirty=e==r||n==a?zl:Q4,e==l&&n==d&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=aa:i.markDirty(e-l,n-l);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?zl:aa}r=a}this.dirty=zl}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?zl:Q4;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class MR extends Dh{constructor(e,n,r,s){let i,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(a.nodeType!=1){let l=document.createElement("span");l.appendChild(a),a=l}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==hi&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class kQ extends Dh{constructor(e,n,r,s){super(e,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class ac extends Dh{constructor(e,n,r,s,i){super(e,[],r,s),this.mark=n,this.spec=i}static create(e,n,r,s){let i=s.nodeViews[n.type.name],a=i&&i(n,s,r);return(!a||!a.dom)&&(a=yc.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new ac(e,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&aa||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=aa&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=hi){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=hi}}slice(e,n,r){let s=ac.create(this.parent,this.mark,!0,r),i=this.children,a=this.size;n<a&&(i=R1(i,n,a,r)),e>0&&(i=R1(i,0,e,r));for(let l=0;l<i.length;l++)i[l].parent=s;return s.children=i,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Bo extends Dh{constructor(e,n,r,s,i,a,l,d,f){super(e,[],i,a),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=l}static create(e,n,r,s,i,a){let l=i.nodeViews[n.type.name],d,f=l&&l(n,i,()=>{if(!d)return a;if(d.parent)return d.parent.posBeforeChild(d)},r,s),p=f&&f.dom,m=f&&f.contentDOM;if(n.isText){if(!p)p=document.createTextNode(n.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:m}=yc.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!m&&!n.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),n.type.spec.draggable&&(p.draggable=!0));let y=p;return p=PR(p,r,n),f?d=new OQ(e,n,r,s,p,m||null,y,f,i,a+1):n.isText?new Py(e,n,r,s,p,y,i):new Bo(e,n,r,s,p,m||null,y,i,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>We.empty)}return e}matchesNode(e,n,r){return this.dirty==hi&&e.eq(this.node)&&vg(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,s=n,i=e.composing?this.localCompositionInfo(e,n):null,a=i&&i.pos>-1?i:null,l=i&&i.pos<0,d=new MQ(this,a&&a.node,e);LQ(this.node,this.innerDeco,(f,p,m)=>{f.spec.marks?d.syncToMarks(f.spec.marks,r,e):f.type.side>=0&&!m&&d.syncToMarks(p==this.node.childCount?Pn.none:this.node.child(p).marks,r,e),d.placeWidget(f,e,s)},(f,p,m,y)=>{d.syncToMarks(f.marks,r,e);let x;d.findNodeMatch(f,p,m,y)||l&&e.state.selection.from>s&&e.state.selection.to<s+f.nodeSize&&(x=d.findIndexWithChild(i.node))>-1&&d.updateNodeAt(f,p,m,x,e)||d.updateNextNode(f,p,m,e,y,s)||d.addNode(f,p,m,e,s),s+=f.nodeSize}),d.syncToMarks([],r,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==zl)&&(a&&this.protectLocalComposition(e,a),_R(this.contentDOM,this.children,e),ju&&PQ(this.dom))}localCompositionInfo(e,n){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof Vt)||r<n||s>n+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let a=i.nodeValue,l=zQ(this.node.content,a,r-n,s-n);return l<0?null:{node:i,pos:l,text:a}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let a=new kQ(this,i,n,s);e.input.compositionNodes.push(a),this.children=R1(this.children,r,r+s.length,e,a)}update(e,n,r,s){return this.dirty==aa||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,s),!0)}updateInner(e,n,r,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=hi}updateOuterDeco(e){if(vg(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=LR(this.dom,this.nodeDOM,M1(this.outerDeco,this.node,n),M1(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Z4(t,e,n,r,s){PR(r,e,t);let i=new Bo(void 0,t,e,n,r,r,r,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class Py extends Bo{constructor(e,n,r,s,i,a,l){super(e,n,r,s,i,null,a,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,s){return this.dirty==aa||this.dirty!=hi&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=hi||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=hi,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let s=this.node.cut(e,n),i=document.createTextNode(s.text);return new Py(this.parent,s,this.outerDeco,this.innerDeco,i,i,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=aa)}get domAtom(){return!1}isText(e){return this.node.text==e}}class RR extends Dh{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==hi&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class OQ extends Bo{constructor(e,n,r,s,i,a,l,d,f,p){super(e,n,r,s,i,a,l,f,p),this.spec=d}update(e,n,r,s){if(this.dirty==aa)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,n,r);return i&&this.updateInner(e,n,r,s),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,s){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function _R(t,e,n){let r=t.firstChild,s=!1;for(let i=0;i<e.length;i++){let a=e[i],l=a.dom;if(l.parentNode==t){for(;l!=r;)r=ek(r),s=!0;r=r.nextSibling}else s=!0,t.insertBefore(l,r);if(a instanceof ac){let d=r?r.previousSibling:t.lastChild;_R(a.contentDOM,a.children,n),r=d?d.nextSibling:t.firstChild}}for(;r;)r=ek(r),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const Sf=function(t){t&&(this.nodeName=t)};Sf.prototype=Object.create(null);const Il=[new Sf];function M1(t,e,n){if(t.length==0)return Il;let r=n?Il[0]:new Sf,s=[r];for(let i=0;i<t.length;i++){let a=t[i].type.attrs;if(a){a.nodeName&&s.push(r=new Sf(a.nodeName));for(let l in a){let d=a[l];d!=null&&(n&&s.length==1&&s.push(r=new Sf(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+d:l=="style"?r.style=(r.style?r.style+";":"")+d:l!="nodeName"&&(r[l]=d))}}}return s}function LR(t,e,n,r){if(n==Il&&r==Il)return e;let s=e;for(let i=0;i<r.length;i++){let a=r[i],l=n[i];if(i){let d;l&&l.nodeName==a.nodeName&&s!=t&&(d=s.parentNode)&&d.nodeName.toLowerCase()==a.nodeName||(d=document.createElement(a.nodeName),d.pmIsDeco=!0,d.appendChild(s),l=Il[0]),s=d}DQ(s,l||Il[0],a)}return s}function DQ(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)s.indexOf(r[i])==-1&&t.classList.remove(r[i]);for(let i=0;i<s.length;i++)r.indexOf(s[i])==-1&&t.classList.add(s[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function PR(t,e,n){return LR(t,t,Il,M1(e,n,t.nodeType!=1))}function vg(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function ek(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class MQ{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=RQ(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let s=0,i=this.stack.length>>1,a=Math.min(i,e.length);for(;s<a&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=hi,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let f=this.top.children[d];if(f.matchesMark(e[i])&&!this.isLocked(f.dom)){l=d;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let d=ac.create(this.top,e[i],n,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,r,s){let i=-1,a;if(s>=this.preMatch.index&&(a=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,r))i=this.top.children.indexOf(a,this.index);else for(let l=this.index,d=Math.min(this.top.children.length,l+5);l<d;l++){let f=this.top.children[l];if(f.matchesNode(e,n,r)&&!this.preMatch.matched.has(f)){i=l;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,r,s,i){let a=this.top.children[s];return a.dirty==aa&&a.dom==a.contentDOM&&(a.dirty=zl),a.update(e,n,r,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=n}}updateNextNode(e,n,r,s,i,a){for(let l=this.index;l<this.top.children.length;l++){let d=this.top.children[l];if(d instanceof Bo){let f=this.preMatch.matched.get(d);if(f!=null&&f!=i)return!1;let p=d.dom,m,y=this.isLocked(p)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=aa&&vg(n,d.outerDeco));if(!y&&d.update(e,n,r,s))return this.destroyBetween(this.index,l),d.dom!=p&&(this.changed=!0),this.index++,!0;if(!y&&(m=this.recreateWrapper(d,e,n,r,s,a)))return this.destroyBetween(this.index,l),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=zl,m.updateChildren(s,a+1),m.dirty=hi),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,s,i,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!vg(r,e.outerDeco)||!s.eq(e.innerDeco))return null;let l=Bo.create(this.top,n,r,s,i,a);if(l.contentDOM){l.children=e.children,e.children=[];for(let d of l.children)d.parent=l}return e.destroy(),l}addNode(e,n,r,s,i){let a=Bo.create(this.top,e,n,r,s,i);a.contentDOM&&a.updateChildren(s,i+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new MR(this.top,e,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof ac;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Py)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((fs||ts)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new RR(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function RQ(t,e){let n=e,r=n.children.length,s=t.childCount,i=new Map,a=[];e:for(;s>0;){let l;for(;;)if(r){let f=n.children[r-1];if(f instanceof ac)n=f,r=f.children.length;else{l=f,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let d=l.node;if(d){if(d!=t.child(s-1))break;--s,i.set(l,s),a.push(l)}}return{index:s,matched:i,matches:a.reverse()}}function _Q(t,e){return t.type.side-e.type.side}function LQ(t,e,n,r){let s=e.locals(t),i=0;if(s.length==0){for(let f=0;f<t.childCount;f++){let p=t.child(f);r(p,s,e.forChild(i,p),f),i+=p.nodeSize}return}let a=0,l=[],d=null;for(let f=0;;){let p,m;for(;a<s.length&&s[a].to==i;){let C=s[a++];C.widget&&(p?(m||(m=[p])).push(C):p=C)}if(p)if(m){m.sort(_Q);for(let C=0;C<m.length;C++)n(m[C],f,!!d)}else n(p,f,!!d);let y,x;if(d)x=-1,y=d,d=null;else if(f<t.childCount)x=f,y=t.child(f++);else break;for(let C=0;C<l.length;C++)l[C].to<=i&&l.splice(C--,1);for(;a<s.length&&s[a].from<=i&&s[a].to>i;)l.push(s[a++]);let b=i+y.nodeSize;if(y.isText){let C=b;a<s.length&&s[a].from<C&&(C=s[a].from);for(let N=0;N<l.length;N++)l[N].to<C&&(C=l[N].to);C<b&&(d=y.cut(C-i),y=y.cut(0,C-i),b=C,x=-1)}else for(;a<s.length&&s[a].to<b;)a++;let S=y.isInline&&!y.isLeaf?l.filter(C=>!C.inline):l.slice();r(y,S,e.forChild(i,y),x),i=b}}function PQ(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function zQ(t,e,n,r){for(let s=0,i=0;s<t.childCount&&i<=r;){let a=t.child(s++),l=i;if(i+=a.nodeSize,!a.isText)continue;let d=a.text;for(;s<t.childCount;){let f=t.child(s++);if(i+=f.nodeSize,!f.isText)break;d+=f.text}if(i>=n){if(i>=r&&d.slice(r-e.length-l,r-l)==e)return r-e.length;let f=l<r?d.lastIndexOf(e,r-l-1):-1;if(f>=0&&f+e.length+l>=n)return l+f;if(n==r&&d.length>=r+e.length-l&&d.slice(r-l,r-l+e.length)==e)return r}}return-1}function R1(t,e,n,r,s){let i=[];for(let a=0,l=0;a<t.length;a++){let d=t[a],f=l,p=l+=d.size;f>=n||p<=e?i.push(d):(f<e&&i.push(d.slice(0,e-f,r)),s&&(i.push(s),s=void 0),p>n&&i.push(d.slice(n-f,d.size,r)))}return i}function L2(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),i=s&&s.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let l=r.resolve(a),d,f;if(Ly(n)){for(d=a;s&&!s.node;)s=s.parent;let m=s.node;if(s&&m.isAtom&&Ut.isSelectable(m)&&s.parent&&!(m.isInline&&cQ(n.focusNode,n.focusOffset,s.dom))){let y=s.posBefore;f=new Ut(a==y?l:r.resolve(y))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let m=a,y=a;for(let x=0;x<n.rangeCount;x++){let b=n.getRangeAt(x);m=Math.min(m,t.docView.posFromDOM(b.startContainer,b.startOffset,1)),y=Math.max(y,t.docView.posFromDOM(b.endContainer,b.endOffset,-1))}if(m<0)return null;[d,a]=y==t.state.selection.anchor?[y,m]:[m,y],l=r.resolve(a)}else d=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null}let p=r.resolve(d);if(!f){let m=e=="pointer"||t.state.selection.head<l.pos&&!i?1:-1;f=P2(t,p,l,m)}return f}function zR(t){return t.editable?t.hasFocus():BR(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function $a(t,e=!1){let n=t.state.selection;if(IR(t,n),!!zR(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&ts){let r=t.domSelectionRange(),s=t.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&ic(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)BQ(t);else{let{anchor:r,head:s}=n,i,a;tk&&!(n instanceof Vt)&&(n.$from.parent.inlineContent||(i=nk(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=nk(t,n.to))),t.docView.setSelection(r,s,t,e),tk&&(i&&rk(i),a&&rk(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&IQ(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const tk=fs||ts&&jR<63;function nk(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),s=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(fs&&s&&s.contentEditable=="false")return Zv(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return Zv(s);if(i)return Zv(i)}}function Zv(t){return t.contentEditable="true",fs&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function rk(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function IQ(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!zR(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function BQ(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,s=r.nodeName=="IMG";s?n.setStart(r.parentNode,qr(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!s&&!t.state.selection.visible&&Es&&Io<=11&&(r.disabled=!0,r.disabled=!1)}function IR(t,e){if(e instanceof Ut){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(sk(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else sk(t)}function sk(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function P2(t,e,n,r){return t.someProp("createSelectionBetween",s=>s(t,e,n))||Vt.between(e,n,r)}function ik(t){return t.editable&&!t.hasFocus()?!1:BR(t)}function BR(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function FQ(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return ic(e.node,e.offset,n.anchorNode,n.anchorOffset)}function _1(t,e){let{$anchor:n,$head:r}=t.selection,s=e>0?n.max(r):n.min(r),i=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return i&&Yt.findFrom(i,e)}function So(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function ak(t,e,n){let r=t.state.selection;if(r instanceof Vt)if(n.indexOf("s")>-1){let{$head:s}=r,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let a=t.state.doc.resolve(s.pos+i.nodeSize*(e<0?-1:1));return So(t,new Vt(r.$anchor,a))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=_1(t.state,e);return s&&s instanceof Ut?So(t,s):!1}else if(!(li&&n.indexOf("m")>-1)){let s=r.$head,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,a;if(!i||i.isText)return!1;let l=e<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(a=t.docView.descAt(l))&&!a.contentDOM?Ut.isSelectable(i)?So(t,new Ut(e<0?t.state.doc.resolve(s.pos-i.nodeSize):s)):Oh?So(t,new Vt(t.state.doc.resolve(e<0?l:l+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Ut&&r.node.isInline)return So(t,new Vt(e>0?r.$to:r.$from));{let s=_1(t.state,e);return s?So(t,s):!1}}}function bg(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Cf(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Jc(t,e){return e<0?$Q(t):UQ(t)}function $Q(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s,i,a=!1;for(Oi&&n.nodeType==1&&r<bg(n)&&Cf(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(Cf(l,-1))s=n,i=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(FR(n))break;{let l=n.previousSibling;for(;l&&Cf(l,-1);)s=n.parentNode,i=qr(l),l=l.previousSibling;if(l)n=l,r=bg(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?L1(t,n,r):s&&L1(t,s,i)}function UQ(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s=bg(n),i,a;for(;;)if(r<s){if(n.nodeType!=1)break;let l=n.childNodes[r];if(Cf(l,1))i=n,a=++r;else break}else{if(FR(n))break;{let l=n.nextSibling;for(;l&&Cf(l,1);)i=l.parentNode,a=qr(l)+1,l=l.nextSibling;if(l)n=l,r=0,s=bg(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}}i&&L1(t,i,a)}function FR(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function VQ(t,e){for(;t&&e==t.childNodes.length&&!kh(t);)e=qr(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function HQ(t,e){for(;t&&!e&&!kh(t);)e=qr(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function L1(t,e,n){if(e.nodeType!=3){let i,a;(a=VQ(e,n))?(e=a,n=0):(i=HQ(e,n))&&(e=i,n=i.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Ly(r)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&$a(t)},50)}function ok(t,e){let n=t.state.doc.resolve(e);if(!(ts||fQ)&&n.parent.inlineContent){let s=t.coordsAtPos(e);if(e>n.start()){let i=t.coordsAtPos(e-1),a=(i.top+i.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(i.left-s.left)>1)return i.left<s.left?"ltr":"rtl"}if(e<n.end()){let i=t.coordsAtPos(e+1),a=(i.top+i.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(i.left-s.left)>1)return i.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function lk(t,e,n){let r=t.state.selection;if(r instanceof Vt&&!r.empty||n.indexOf("s")>-1||li&&n.indexOf("m")>-1)return!1;let{$from:s,$to:i}=r;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=_1(t.state,e);if(a&&a instanceof Ut)return So(t,a)}if(!s.parent.inlineContent){let a=e<0?s:i,l=r instanceof qs?Yt.near(a,e):Yt.findFrom(a,e);return l?So(t,l):!1}return!1}function ck(t,e){if(!(t.state.selection instanceof Vt))return!0;let{$head:n,$anchor:r,empty:s}=t.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let a=t.state.tr;return e<0?a.delete(n.pos-i.nodeSize,n.pos):a.delete(n.pos,n.pos+i.nodeSize),t.dispatch(a),!0}return!1}function uk(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function qQ(t){if(!fs||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;uk(t,r,"true"),setTimeout(()=>uk(t,r,"false"),20)}return!1}function KQ(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function YQ(t,e){let n=e.keyCode,r=KQ(e);if(n==8||li&&n==72&&r=="c")return ck(t,-1)||Jc(t,-1);if(n==46&&!e.shiftKey||li&&n==68&&r=="c")return ck(t,1)||Jc(t,1);if(n==13||n==27)return!0;if(n==37||li&&n==66&&r=="c"){let s=n==37?ok(t,t.state.selection.from)=="ltr"?-1:1:-1;return ak(t,s,r)||Jc(t,s)}else if(n==39||li&&n==70&&r=="c"){let s=n==39?ok(t,t.state.selection.from)=="ltr"?1:-1:1;return ak(t,s,r)||Jc(t,s)}else{if(n==38||li&&n==80&&r=="c")return lk(t,-1,r)||Jc(t,-1);if(n==40||li&&n==78&&r=="c")return qQ(t)||lk(t,1,r)||Jc(t,1);if(r==(li?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function z2(t,e){t.someProp("transformCopied",x=>{e=x(e,t)});let n=[],{content:r,openStart:s,openEnd:i}=e;for(;s>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,i--;let x=r.firstChild;n.push(x.type.name,x.attrs!=x.type.defaultAttrs?x.attrs:null),r=x.content}let a=t.someProp("clipboardSerializer")||yc.fromSchema(t.state.schema),l=KR(),d=l.createElement("div");d.appendChild(a.serializeFragment(r,{document:l}));let f=d.firstChild,p,m=0;for(;f&&f.nodeType==1&&(p=qR[f.nodeName.toLowerCase()]);){for(let x=p.length-1;x>=0;x--){let b=l.createElement(p[x]);for(;d.firstChild;)b.appendChild(d.firstChild);d.appendChild(b),m++}f=d.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${s} ${i}${m?` -${m}`:""} ${JSON.stringify(n)}`);let y=t.someProp("clipboardTextSerializer",x=>x(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:y,slice:e}}function $R(t,e,n,r,s){let i=s.parent.type.spec.code,a,l;if(!n&&!e)return null;let d=e&&(r||i||!n);if(d){if(t.someProp("transformPastedText",y=>{e=y(e,i||r,t)}),i)return e?new xt(We.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):xt.empty;let m=t.someProp("clipboardTextParser",y=>y(e,s,r,t));if(m)l=m;else{let y=s.marks(),{schema:x}=t.state,b=yc.fromSchema(x);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(S=>{let C=a.appendChild(document.createElement("p"));S&&C.appendChild(b.serializeNode(x.text(S,y)))})}}else t.someProp("transformPastedHTML",m=>{n=m(n,t)}),a=JQ(n),Oh&&QQ(a);let f=a&&a.querySelector("[data-pm-slice]"),p=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let m=+p[3];m>0;m--){let y=a.firstChild;for(;y&&y.nodeType!=1;)y=y.nextSibling;if(!y)break;a=y}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||bf.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(d||p),context:s,ruleFromNode(y){return y.nodeName=="BR"&&!y.nextSibling&&y.parentNode&&!WQ.test(y.parentNode.nodeName)?{ignore:!0}:null}})),p)l=ZQ(dk(l,+p[1],+p[2]),p[4]);else if(l=xt.maxOpen(GQ(l.content,s),!0),l.openStart||l.openEnd){let m=0,y=0;for(let x=l.content.firstChild;m<l.openStart&&!x.type.spec.isolating;m++,x=x.firstChild);for(let x=l.content.lastChild;y<l.openEnd&&!x.type.spec.isolating;y++,x=x.lastChild);l=dk(l,m,y)}return t.someProp("transformPasted",m=>{l=m(l,t)}),l}const WQ=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function GQ(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),i,a=[];if(t.forEach(l=>{if(!a)return;let d=s.findWrapping(l.type),f;if(!d)return a=null;if(f=a.length&&i.length&&VR(d,i,l,a[a.length-1],0))a[a.length-1]=f;else{a.length&&(a[a.length-1]=HR(a[a.length-1],i.length));let p=UR(l,d);a.push(p),s=s.matchType(p.type),i=d}}),a)return We.from(a)}return t}function UR(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,We.from(t));return t}function VR(t,e,n,r,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let i=VR(t,e,n,r.lastChild,s+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(s==t.length-1?n.type:t[s+1]))return r.copy(r.content.append(We.from(UR(n,t,s+1))))}}function HR(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,HR(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(We.empty,!0);return t.copy(n.append(r))}function P1(t,e,n,r,s,i){let a=e<0?t.firstChild:t.lastChild,l=a.content;return t.childCount>1&&(i=0),s<r-1&&(l=P1(l,e,n,r,s+1,i)),s>=n&&(l=e<0?a.contentMatchAt(0).fillBefore(l,i<=s).append(l):l.append(a.contentMatchAt(a.childCount).fillBefore(We.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(l))}function dk(t,e,n){return e<t.openStart&&(t=new xt(P1(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new xt(P1(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const qR={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let fk=null;function KR(){return fk||(fk=document.implementation.createHTMLDocument("title"))}let eb=null;function XQ(t){let e=window.trustedTypes;return e?(eb||(eb=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),eb.createHTML(t)):t}function JQ(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=KR().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),s;if((s=r&&qR[r[1].toLowerCase()])&&(t=s.map(i=>"<"+i+">").join("")+t+s.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=XQ(t),s)for(let i=0;i<s.length;i++)n=n.querySelector(s[i])||n;return n}function QQ(t){let e=t.querySelectorAll(ts?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function ZQ(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:s,openStart:i,openEnd:a}=t;for(let l=r.length-2;l>=0;l-=2){let d=n.nodes[r[l]];if(!d||d.hasRequiredAttrs())break;s=We.from(d.create(r[l+1],s)),i++,a++}return new xt(s,i,a)}const hs={},ps={},eZ={touchstart:!0,touchmove:!0};class tZ{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function nZ(t){for(let e in hs){let n=hs[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{sZ(t,r)&&!I2(t,r)&&(t.editable||!(r.type in ps))&&n(t,r)},eZ[e]?{passive:!0}:void 0)}fs&&t.dom.addEventListener("input",()=>null),z1(t)}function _o(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function rZ(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function z1(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>I2(t,r))})}function I2(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function sZ(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function iZ(t,e){!I2(t,e)&&hs[e.type]&&(t.editable||!(e.type in ps))&&hs[e.type](t,e)}ps.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!WR(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(za&&ts&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),ju&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",s=>s(t,kl(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||YQ(t,n)?n.preventDefault():_o(t,"key")};ps.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};ps.keypress=(t,e)=>{let n=e;if(WR(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||li&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Vt)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode),i=()=>t.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",a=>a(t,r.$from.pos,r.$to.pos,s,i))&&t.dispatch(i()),n.preventDefault()}};function zy(t){return{left:t.clientX,top:t.clientY}}function aZ(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function B2(t,e,n,r,s){if(r==-1)return!1;let i=t.state.doc.resolve(r);for(let a=i.depth+1;a>0;a--)if(t.someProp(e,l=>a>i.depth?l(t,n,i.nodeAfter,i.before(a),s,!0):l(t,n,i.node(a),i.before(a),s,!1)))return!0;return!1}function gu(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function oZ(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Ut.isSelectable(r)?(gu(t,new Ut(n)),!0):!1}function lZ(t,e){if(e==-1)return!1;let n=t.state.selection,r,s;n instanceof Ut&&(r=n.node);let i=t.state.doc.resolve(e);for(let a=i.depth+1;a>0;a--){let l=a>i.depth?i.nodeAfter:i.node(a);if(Ut.isSelectable(l)){r&&n.$from.depth>0&&a>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?s=i.before(n.$from.depth):s=i.before(a);break}}return s!=null?(gu(t,Ut.create(t.state.doc,s)),!0):!1}function cZ(t,e,n,r,s){return B2(t,"handleClickOn",e,n,r)||t.someProp("handleClick",i=>i(t,e,r))||(s?lZ(t,n):oZ(t,n))}function uZ(t,e,n,r){return B2(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",s=>s(t,e,r))}function dZ(t,e,n,r){return B2(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",s=>s(t,e,r))||fZ(t,n,r)}function fZ(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(gu(t,Vt.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let i=s.depth+1;i>0;i--){let a=i>s.depth?s.nodeAfter:s.node(i),l=s.before(i);if(a.inlineContent)gu(t,Vt.create(r,l+1,l+1+a.content.size));else if(Ut.isSelectable(a))gu(t,Ut.create(r,l));else continue;return!0}}function F2(t){return wg(t)}const YR=li?"metaKey":"ctrlKey";hs.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=F2(t),s=Date.now(),i="singleClick";s-t.input.lastClick.time<500&&aZ(n,t.input.lastClick)&&!n[YR]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:i,button:n.button};let a=t.posAtCoords(zy(n));a&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new hZ(t,a,n,!!r)):(i=="doubleClick"?uZ:dZ)(t,a.pos,a.inside,n)?n.preventDefault():_o(t,"pointer"))};class hZ{constructor(e,n,r,s){this.view=e,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[YR],this.allowDefault=r.shiftKey;let i,a;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),a=n.inside;else{let p=e.state.doc.resolve(n.pos);i=p.parent,a=p.depth?p.before():0}const l=s?null:r.target,d=l?e.docView.nearestDesc(l,!0):null;this.target=d&&d.dom.nodeType==1?d.dom:null;let{selection:f}=e.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||f instanceof Ut&&f.from<=a&&f.to>a)&&(this.mightDrag={node:i,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Oi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),_o(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>$a(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(zy(e))),this.updateAllowDefault(e),this.allowDefault||!n?_o(this.view,"pointer"):cZ(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||fs&&this.mightDrag&&!this.mightDrag.node.isAtom||ts&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(gu(this.view,Yt.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):_o(this.view,"pointer")}move(e){this.updateAllowDefault(e),_o(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}hs.touchstart=t=>{t.input.lastTouch=Date.now(),F2(t),_o(t,"pointer")};hs.touchmove=t=>{t.input.lastTouch=Date.now(),_o(t,"pointer")};hs.contextmenu=t=>F2(t);function WR(t,e){return t.composing?!0:fs&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const pZ=za?5e3:-1;ps.compositionstart=ps.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Vt&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),wg(t,!0),t.markCursor=null;else if(wg(t,!e.selection.empty),Oi&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let s=r.focusNode,i=r.focusOffset;s&&s.nodeType==1&&i!=0;){let a=i<0?s.lastChild:s.childNodes[i-1];if(!a)break;if(a.nodeType==3){let l=t.domSelection();l&&l.collapse(a,a.nodeValue.length);break}else s=a,i=-1}}t.input.composing=!0}GR(t,pZ)};ps.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,GR(t,20))};function GR(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>wg(t),e))}function XR(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=gZ());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function mZ(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=oQ(e.focusNode,e.focusOffset),r=lQ(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let s=r.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!s||!s.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function gZ(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function wg(t,e=!1){if(!(za&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),XR(t),e||t.docView&&t.docView.dirty){let n=L2(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function yZ(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const eh=Es&&Io<15||ju&&hQ<604;hs.copy=ps.cut=(t,e)=>{let n=e,r=t.state.selection,s=n.type=="cut";if(r.empty)return;let i=eh?null:n.clipboardData,a=r.content(),{dom:l,text:d}=z2(t,a);i?(n.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",d)):yZ(t,l),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function xZ(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function vZ(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?th(t,r.value,null,s,e):th(t,r.textContent,r.innerHTML,s,e)},50)}function th(t,e,n,r,s){let i=$R(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",d=>d(t,s,i||xt.empty)))return!0;if(!i)return!1;let a=xZ(i),l=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(i);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function JR(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}ps.paste=(t,e)=>{let n=e;if(t.composing&&!za)return;let r=eh?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&th(t,JR(r),r.getData("text/html"),s,n)?n.preventDefault():vZ(t,n)};class QR{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const bZ=li?"altKey":"ctrlKey";function ZR(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[bZ]}hs.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=t.state.selection,i=s.empty?null:t.posAtCoords(zy(n)),a;if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof Ut?s.to-1:s.to))){if(r&&r.mightDrag)a=Ut.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let m=t.docView.nearestDesc(n.target,!0);m&&m.node.type.spec.draggable&&m!=t.docView&&(a=Ut.create(t.state.doc,m.posBefore))}}let l=(a||t.state.selection).content(),{dom:d,text:f,slice:p}=z2(t,l);(!n.dataTransfer.files.length||!ts||jR>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(eh?"Text":"text/html",d.innerHTML),n.dataTransfer.effectAllowed="copyMove",eh||n.dataTransfer.setData("text/plain",f),t.dragging=new QR(p,ZR(t,n),a)};hs.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};ps.dragover=ps.dragenter=(t,e)=>e.preventDefault();ps.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let s=t.posAtCoords(zy(n));if(!s)return;let i=t.state.doc.resolve(s.pos),a=r&&r.slice;a?t.someProp("transformPasted",b=>{a=b(a,t)}):a=$R(t,JR(n.dataTransfer),eh?null:n.dataTransfer.getData("text/html"),!1,i);let l=!!(r&&ZR(t,n));if(t.someProp("handleDrop",b=>b(t,n,a||xt.empty,l))){n.preventDefault();return}if(!a)return;n.preventDefault();let d=a?gR(t.state.doc,i.pos,a):i.pos;d==null&&(d=i.pos);let f=t.state.tr;if(l){let{node:b}=r;b?b.replace(f):f.deleteSelection()}let p=f.mapping.map(d),m=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,y=f.doc;if(m?f.replaceRangeWith(p,p,a.content.firstChild):f.replaceRange(p,p,a),f.doc.eq(y))return;let x=f.doc.resolve(p);if(m&&Ut.isSelectable(a.content.firstChild)&&x.nodeAfter&&x.nodeAfter.sameMarkup(a.content.firstChild))f.setSelection(new Ut(x));else{let b=f.mapping.map(d);f.mapping.maps[f.mapping.maps.length-1].forEach((S,C,N,k)=>b=k),f.setSelection(P2(t,x,f.doc.resolve(b)))}t.focus(),t.dispatch(f.setMeta("uiEvent","drop"))};hs.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&$a(t)},20))};hs.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};hs.beforeinput=(t,e)=>{if(ts&&za&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,kl(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in ps)hs[t]=ps[t];function nh(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Sg{constructor(e,n){this.toDOM=e,this.spec=n||Gl,this.side=this.spec.side||0}map(e,n,r,s){let{pos:i,deleted:a}=e.mapResult(n.from+s,this.side<0?-1:1);return a?null:new ds(i-r,i-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Sg&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&nh(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Fo{constructor(e,n){this.attrs=e,this.spec=n||Gl}map(e,n,r,s){let i=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,a=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return i>=a?null:new ds(i,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Fo&&nh(this.attrs,e.attrs)&&nh(this.spec,e.spec)}static is(e){return e.type instanceof Fo}destroy(){}}class $2{constructor(e,n){this.attrs=e,this.spec=n||Gl}map(e,n,r,s){let i=e.mapResult(n.from+s,1);if(i.deleted)return null;let a=e.mapResult(n.to+s,-1);return a.deleted||a.pos<=i.pos?null:new ds(i.pos-r,a.pos-r,this)}valid(e,n){let{index:r,offset:s}=e.content.findIndex(n.from),i;return s==n.from&&!(i=e.child(r)).isText&&s+i.nodeSize==n.to}eq(e){return this==e||e instanceof $2&&nh(this.attrs,e.attrs)&&nh(this.spec,e.spec)}destroy(){}}class ds{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new ds(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new ds(e,e,new Sg(n,r))}static inline(e,n,r,s){return new ds(e,n,new Fo(r,s))}static node(e,n,r,s){return new ds(e,n,new $2(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof Fo}get widget(){return this.type instanceof Sg}}const nu=[],Gl={};class ar{constructor(e,n){this.local=e.length?e:nu,this.children=n.length?n:nu}static create(e,n){return n.length?Cg(n,e,0,Gl):Qr}find(e,n,r){let s=[];return this.findInner(e??0,n??1e9,s,0,r),s}findInner(e,n,r,s,i){for(let a=0;a<this.local.length;a++){let l=this.local[a];l.from<=n&&l.to>=e&&(!i||i(l.spec))&&r.push(l.copy(l.from+s,l.to+s))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let l=this.children[a]+1;this.children[a+2].findInner(e-l,n-l,r,s+l,i)}}map(e,n,r){return this==Qr||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Gl)}mapInner(e,n,r,s,i){let a;for(let l=0;l<this.local.length;l++){let d=this.local[l].map(e,r,s);d&&d.type.valid(n,d)?(a||(a=[])).push(d):i.onRemove&&i.onRemove(this.local[l].spec)}return this.children.length?wZ(this.children,a||[],e,n,r,s,i):a?new ar(a.sort(Xl),nu):Qr}add(e,n){return n.length?this==Qr?ar.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let s,i=0;e.forEach((l,d)=>{let f=d+r,p;if(p=t6(n,l,f)){for(s||(s=this.children.slice());i<s.length&&s[i]<d;)i+=3;s[i]==d?s[i+2]=s[i+2].addInner(l,p,f+1):s.splice(i,0,d,d+l.nodeSize,Cg(p,l,f+1,Gl)),i+=3}});let a=e6(i?n6(n):n,-r);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||a.splice(l--,1);return new ar(a.length?this.local.concat(a).sort(Xl):this.local,s||this.children)}remove(e){return e.length==0||this==Qr?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,s=this.local;for(let i=0;i<r.length;i+=3){let a,l=r[i]+n,d=r[i+1]+n;for(let p=0,m;p<e.length;p++)(m=e[p])&&m.from>l&&m.to<d&&(e[p]=null,(a||(a=[])).push(m));if(!a)continue;r==this.children&&(r=this.children.slice());let f=r[i+2].removeInner(a,l+1);f!=Qr?r[i+2]=f:(r.splice(i,3),i-=3)}if(s.length){for(let i=0,a;i<e.length;i++)if(a=e[i])for(let l=0;l<s.length;l++)s[l].eq(a,n)&&(s==this.local&&(s=this.local.slice()),s.splice(l--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new ar(s,r):Qr}forChild(e,n){if(this==Qr)return this;if(n.isLeaf)return ar.empty;let r,s;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let i=e+1,a=i+n.content.size;for(let l=0;l<this.local.length;l++){let d=this.local[l];if(d.from<a&&d.to>i&&d.type instanceof Fo){let f=Math.max(i,d.from)-i,p=Math.min(a,d.to)-i;f<p&&(s||(s=[])).push(d.copy(f,p))}}if(s){let l=new ar(s.sort(Xl),nu);return r?new Ao([l,r]):l}return r||Qr}eq(e){if(this==e)return!0;if(!(e instanceof ar)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return U2(this.localsInner(e))}localsInner(e){if(this==Qr)return nu;if(e.inlineContent||!this.local.some(Fo.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Fo||n.push(this.local[r]);return n}forEachSet(e){e(this)}}ar.empty=new ar([],[]);ar.removeOverlap=U2;const Qr=ar.empty;class Ao{constructor(e){this.members=e}map(e,n){const r=this.members.map(s=>s.map(e,n,Gl));return Ao.from(r)}forChild(e,n){if(n.isLeaf)return ar.empty;let r=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(e,n);i!=Qr&&(i instanceof Ao?r=r.concat(i.members):r.push(i))}return Ao.from(r)}eq(e){if(!(e instanceof Ao)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(e);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let a=0;a<i.length;a++)n.push(i[a])}}return n?U2(r?n:n.sort(Xl)):nu}static from(e){switch(e.length){case 0:return Qr;case 1:return e[0];default:return new Ao(e.every(n=>n instanceof ar)?e:e.reduce((n,r)=>n.concat(r instanceof ar?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function wZ(t,e,n,r,s,i,a){let l=t.slice();for(let f=0,p=i;f<n.maps.length;f++){let m=0;n.maps[f].forEach((y,x,b,S)=>{let C=S-b-(x-y);for(let N=0;N<l.length;N+=3){let k=l[N+1];if(k<0||y>k+p-m)continue;let D=l[N]+p-m;x>=D?l[N+1]=y<=D?-2:-1:y>=p&&C&&(l[N]+=C,l[N+1]+=C)}m+=C}),p=n.maps[f].map(p,-1)}let d=!1;for(let f=0;f<l.length;f+=3)if(l[f+1]<0){if(l[f+1]==-2){d=!0,l[f+1]=-1;continue}let p=n.map(t[f]+i),m=p-s;if(m<0||m>=r.content.size){d=!0;continue}let y=n.map(t[f+1]+i,-1),x=y-s,{index:b,offset:S}=r.content.findIndex(m),C=r.maybeChild(b);if(C&&S==m&&S+C.nodeSize==x){let N=l[f+2].mapInner(n,C,p+1,t[f]+i+1,a);N!=Qr?(l[f]=m,l[f+1]=x,l[f+2]=N):(l[f+1]=-2,d=!0)}else d=!0}if(d){let f=SZ(l,t,e,n,s,i,a),p=Cg(f,r,0,a);e=p.local;for(let m=0;m<l.length;m+=3)l[m+1]<0&&(l.splice(m,3),m-=3);for(let m=0,y=0;m<p.children.length;m+=3){let x=p.children[m];for(;y<l.length&&l[y]<x;)y+=3;l.splice(y,0,p.children[m],p.children[m+1],p.children[m+2])}}return new ar(e.sort(Xl),l)}function e6(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let s=t[r];n.push(new ds(s.from+e,s.to+e,s.type))}return n}function SZ(t,e,n,r,s,i,a){function l(d,f){for(let p=0;p<d.local.length;p++){let m=d.local[p].map(r,s,f);m?n.push(m):a.onRemove&&a.onRemove(d.local[p].spec)}for(let p=0;p<d.children.length;p+=3)l(d.children[p+2],d.children[p]+f+1)}for(let d=0;d<t.length;d+=3)t[d+1]==-1&&l(t[d+2],e[d]+i+1);return n}function t6(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,s=null;for(let i=0,a;i<t.length;i++)(a=t[i])&&a.from>n&&a.to<r&&((s||(s=[])).push(a),t[i]=null);return s}function n6(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Cg(t,e,n,r){let s=[],i=!1;e.forEach((l,d)=>{let f=t6(t,l,d+n);if(f){i=!0;let p=Cg(f,l,n+d+1,r);p!=Qr&&s.push(d,d+l.nodeSize,p)}});let a=e6(i?n6(t):t,-n).sort(Xl);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||(r.onRemove&&r.onRemove(a[l].spec),a.splice(l--,1));return a.length||s.length?new ar(a,s):Qr}function Xl(t,e){return t.from-e.from||t.to-e.to}function U2(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let s=n+1;s<e.length;s++){let i=e[s];if(i.from==r.from){i.to!=r.to&&(e==t&&(e=t.slice()),e[s]=i.copy(i.from,r.to),hk(e,s+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),hk(e,s,r.copy(i.from,r.to)));break}}}return e}function hk(t,e,n){for(;e<t.length&&Xl(n,t[e])>0;)e++;t.splice(e,0,n)}function tb(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Qr&&e.push(r)}),t.cursorWrapper&&e.push(ar.create(t.state.doc,[t.cursorWrapper.deco])),Ao.from(e)}const CZ={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},NZ=Es&&Io<=11;class jZ{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class TZ{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new jZ,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);Es&&Io<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),NZ&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,CZ)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(ik(this.view)){if(this.suppressingSelectionUpdates)return $a(this.view);if(Es&&Io<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ic(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let i=e.focusNode;i;i=Nu(i))n.add(i);for(let i=e.anchorNode;i;i=Nu(i))if(n.has(i)){r=i;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&ik(e)&&!this.ignoreSelectionChange(r),i=-1,a=-1,l=!1,d=[];if(e.editable)for(let p=0;p<n.length;p++){let m=this.registerMutation(n[p],d);m&&(i=i<0?m.from:Math.min(m.from,i),a=a<0?m.to:Math.max(m.to,a),m.typeOver&&(l=!0))}if(Oi&&d.length){let p=d.filter(m=>m.nodeName=="BR");if(p.length==2){let[m,y]=p;m.parentNode&&m.parentNode.parentNode==y.parentNode?y.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let y of p){let x=y.parentNode;x&&x.nodeName=="LI"&&(!m||kZ(e,m)!=x)&&y.remove()}}}let f=null;i<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Ly(r)&&(f=L2(e))&&f.eq(Yt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,$a(e),this.currentSelection.set(r),e.scrollToSelection()):(i>-1||s)&&(i>-1&&(e.docView.markDirty(i,a),EZ(e)),this.handleDOMChange(i,a,l,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||$a(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let m=e.addedNodes[p];n.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,i=e.nextSibling;if(Es&&Io<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:m,nextSibling:y}=e.addedNodes[p];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(s=m),(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(i=y)}let a=s&&s.parentNode==e.target?qr(s)+1:0,l=r.localPosFromDOM(e.target,a,-1),d=i&&i.parentNode==e.target?qr(i):e.target.childNodes.length,f=r.localPosFromDOM(e.target,d,1);return{from:l,to:f}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let pk=new WeakMap,mk=!1;function EZ(t){if(!pk.has(t)&&(pk.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Oi,mk)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),mk=!0}}function gk(t,e){let n=e.startContainer,r=e.startOffset,s=e.endContainer,i=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return ic(a.node,a.offset,s,i)&&([n,r,s,i]=[s,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:i}}function AZ(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return gk(t,s)}let n;function r(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?gk(t,n):null}function kZ(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function OZ(t,e,n){let{node:r,fromOffset:s,toOffset:i,from:a,to:l}=t.docView.parseRange(e,n),d=t.domSelectionRange(),f,p=d.anchorNode;if(p&&t.dom.contains(p.nodeType==1?p:p.parentNode)&&(f=[{node:p,offset:d.anchorOffset}],Ly(d)||f.push({node:d.focusNode,offset:d.focusOffset})),ts&&t.input.lastKeyCode===8)for(let C=i;C>s;C--){let N=r.childNodes[C-1],k=N.pmViewDesc;if(N.nodeName=="BR"&&!k){i=C;break}if(!k||k.size)break}let m=t.state.doc,y=t.someProp("domParser")||bf.fromSchema(t.state.schema),x=m.resolve(a),b=null,S=y.parse(r,{topNode:x.parent,topMatch:x.parent.contentMatchAt(x.index()),topOpen:!0,from:s,to:i,preserveWhitespace:x.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:DZ,context:x});if(f&&f[0].pos!=null){let C=f[0].pos,N=f[1]&&f[1].pos;N==null&&(N=C),b={anchor:C+a,head:N+a}}return{doc:S,sel:b,from:a,to:l}}function DZ(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(fs&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||fs&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const MZ=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function RZ(t,e,n,r,s){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let F=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,ee=L2(t,F);if(ee&&!t.state.selection.eq(ee)){if(ts&&za&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",ce=>ce(t,kl(13,"Enter"))))return;let be=t.state.tr.setSelection(ee);F=="pointer"?be.setMeta("pointer",!0):F=="key"&&be.scrollIntoView(),i&&be.setMeta("composition",i),t.dispatch(be)}return}let a=t.state.doc.resolve(e),l=a.sharedDepth(n);e=a.before(l+1),n=t.state.doc.resolve(n).after(l+1);let d=t.state.selection,f=OZ(t,e,n),p=t.state.doc,m=p.slice(f.from,f.to),y,x;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(y=t.state.selection.to,x="end"):(y=t.state.selection.from,x="start"),t.input.lastKeyCode=null;let b=PZ(m.content,f.doc.content,f.from,y,x);if(b&&t.input.domChangeCount++,(ju&&t.input.lastIOSEnter>Date.now()-225||za)&&s.some(F=>F.nodeType==1&&!MZ.test(F.nodeName))&&(!b||b.endA>=b.endB)&&t.someProp("handleKeyDown",F=>F(t,kl(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!b)if(r&&d instanceof Vt&&!d.empty&&d.$head.sameParent(d.$anchor)&&!t.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))b={start:d.from,endA:d.to,endB:d.to};else{if(f.sel){let F=yk(t,t.state.doc,f.sel);if(F&&!F.eq(t.state.selection)){let ee=t.state.tr.setSelection(F);i&&ee.setMeta("composition",i),t.dispatch(ee)}}return}t.state.selection.from<t.state.selection.to&&b.start==b.endB&&t.state.selection instanceof Vt&&(b.start>t.state.selection.from&&b.start<=t.state.selection.from+2&&t.state.selection.from>=f.from?b.start=t.state.selection.from:b.endA<t.state.selection.to&&b.endA>=t.state.selection.to-2&&t.state.selection.to<=f.to&&(b.endB+=t.state.selection.to-b.endA,b.endA=t.state.selection.to)),Es&&Io<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>f.from&&f.doc.textBetween(b.start-f.from-1,b.start-f.from+1)==" "&&(b.start--,b.endA--,b.endB--);let S=f.doc.resolveNoCache(b.start-f.from),C=f.doc.resolveNoCache(b.endB-f.from),N=p.resolve(b.start),k=S.sameParent(C)&&S.parent.inlineContent&&N.end()>=b.endA,D;if((ju&&t.input.lastIOSEnter>Date.now()-225&&(!k||s.some(F=>F.nodeName=="DIV"||F.nodeName=="P"))||!k&&S.pos<f.doc.content.size&&(!S.sameParent(C)||!S.parent.inlineContent)&&!/\S/.test(f.doc.textBetween(S.pos,C.pos,"",""))&&(D=Yt.findFrom(f.doc.resolve(S.pos+1),1,!0))&&D.head>S.pos)&&t.someProp("handleKeyDown",F=>F(t,kl(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>b.start&&LZ(p,b.start,b.endA,S,C)&&t.someProp("handleKeyDown",F=>F(t,kl(8,"Backspace")))){za&&ts&&t.domObserver.suppressSelectionUpdates();return}ts&&b.endB==b.start&&(t.input.lastChromeDelete=Date.now()),za&&!k&&S.start()!=C.start()&&C.parentOffset==0&&S.depth==C.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==b.endA&&(b.endB-=2,C=f.doc.resolveNoCache(b.endB-f.from),setTimeout(()=>{t.someProp("handleKeyDown",function(F){return F(t,kl(13,"Enter"))})},20));let M=b.start,E=b.endA,A=F=>{let ee=F||t.state.tr.replace(M,E,f.doc.slice(b.start-f.from,b.endB-f.from));if(f.sel){let be=yk(t,ee.doc,f.sel);be&&!(ts&&t.composing&&be.empty&&(b.start!=b.endB||t.input.lastChromeDelete<Date.now()-100)&&(be.head==M||be.head==ee.mapping.map(E)-1)||Es&&be.empty&&be.head==M)&&ee.setSelection(be)}return i&&ee.setMeta("composition",i),ee.scrollIntoView()},P;if(k){if(S.pos==C.pos){Es&&Io<=11&&S.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>$a(t),20));let F=A(t.state.tr.delete(M,E)),ee=p.resolve(b.start).marksAcross(p.resolve(b.endA));ee&&F.ensureMarks(ee),t.dispatch(F)}else if(b.endA==b.endB&&(P=_Z(S.parent.content.cut(S.parentOffset,C.parentOffset),N.parent.content.cut(N.parentOffset,b.endA-N.start())))){let F=A(t.state.tr);P.type=="add"?F.addMark(M,E,P.mark):F.removeMark(M,E,P.mark),t.dispatch(F)}else if(S.parent.child(S.index()).isText&&S.index()==C.index()-(C.textOffset?0:1)){let F=S.parent.textBetween(S.parentOffset,C.parentOffset),ee=()=>A(t.state.tr.insertText(F,M,E));t.someProp("handleTextInput",be=>be(t,M,E,F,ee))||t.dispatch(ee())}}else t.dispatch(A())}function yk(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:P2(t,e.resolve(n.anchor),e.resolve(n.head))}function _Z(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,s=n,i=r,a,l,d;for(let p=0;p<r.length;p++)s=r[p].removeFromSet(s);for(let p=0;p<n.length;p++)i=n[p].removeFromSet(i);if(s.length==1&&i.length==0)l=s[0],a="add",d=p=>p.mark(l.addToSet(p.marks));else if(s.length==0&&i.length==1)l=i[0],a="remove",d=p=>p.mark(l.removeFromSet(p.marks));else return null;let f=[];for(let p=0;p<e.childCount;p++)f.push(d(e.child(p)));if(We.from(f).eq(t))return{mark:l,type:a}}function LZ(t,e,n,r,s){if(n-e<=s.pos-r.pos||nb(r,!0,!1)<s.pos)return!1;let i=t.resolve(e);if(!r.parent.isTextblock){let l=i.nodeAfter;return l!=null&&n==e+l.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let a=t.resolve(nb(i,!0,!0));return!a.parent.isTextblock||a.pos>n||nb(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function nb(t,e,n){let r=t.depth,s=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,s++,e=!1;if(n){let i=t.node(r).maybeChild(t.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function PZ(t,e,n,r,s){let i=t.findDiffStart(e,n);if(i==null)return null;let{a,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let d=Math.max(0,i-Math.min(a,l));r-=a+d-i}if(a<i&&t.size<e.size){let d=r<=i&&r>=a?i-r:0;i-=d,i&&i<e.size&&xk(e.textBetween(i-1,i+1))&&(i+=d?1:-1),l=i+(l-a),a=i}else if(l<i){let d=r<=i&&r>=l?i-r:0;i-=d,i&&i<t.size&&xk(t.textBetween(i-1,i+1))&&(i+=d?1:-1),a=i+(a-l),l=i}return{start:i,endA:a,endB:l}}function xk(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class r6{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new tZ,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Ck),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=wk(this),bk(this),this.nodeViews=Sk(this),this.docView=Z4(this.state.doc,vk(this),tb(this),this.dom,this),this.domObserver=new TZ(this,(r,s,i,a)=>RZ(this,r,s,i,a)),this.domObserver.start(),nZ(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&z1(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Ck),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let s=this.state,i=!1,a=!1;e.storedMarks&&this.composing&&(XR(this),a=!0),this.state=e;let l=s.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let x=Sk(this);IZ(x,this.nodeViews)&&(this.nodeViews=x,i=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&z1(this),this.editable=wk(this),bk(this);let d=tb(this),f=vk(this),p=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",m=i||!this.docView.matchesNode(e.doc,f,d);(m||!e.selection.eq(s.selection))&&(a=!0);let y=p=="preserve"&&a&&this.dom.style.overflowAnchor==null&&gQ(this);if(a){this.domObserver.stop();let x=m&&(Es||ts)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&zZ(s.selection,e.selection);if(m){let b=ts?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=mZ(this)),(i||!this.docView.update(e.doc,f,d,this))&&(this.docView.updateOuterDeco(f),this.docView.destroy(),this.docView=Z4(e.doc,f,d,this.dom,this)),b&&!this.trackWrites&&(x=!0)}x||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&FQ(this))?$a(this,x):(IR(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():y&&yQ(y)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Ut){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&Y4(this,n.getBoundingClientRect(),e)}else Y4(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(s=i)}this.dragging=new QR(e.slice,e.move,s<0?void 0:Ut.create(this.state.doc,s))}someProp(e,n){let r=this._props&&this._props[e],s;if(r!=null&&(s=n?n(r):r))return s;for(let a=0;a<this.directPlugins.length;a++){let l=this.directPlugins[a].props[e];if(l!=null&&(s=n?n(l):l))return s}let i=this.state.plugins;if(i)for(let a=0;a<i.length;a++){let l=i[a].props[e];if(l!=null&&(s=n?n(l):l))return s}}hasFocus(){if(Es){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&xQ(this.dom),$a(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return CQ(this,e)}coordsAtPos(e,n=1){return OR(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let s=this.docView.posFromDOM(e,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return AQ(this,n||this.state,e)}pasteHTML(e,n){return th(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return th(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return z2(this,e)}destroy(){this.docView&&(rZ(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],tb(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,iQ())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return iZ(this,e)}domSelectionRange(){let e=this.domSelection();return e?fs&&this.root.nodeType===11&&uQ(this.dom.ownerDocument)==this.dom&&AZ(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}r6.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function vk(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[ds.node(0,t.state.doc.content.size,e)]}function bk(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:ds.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function wk(t){return!t.someProp("editable",e=>e(t.state)===!1)}function zZ(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function Sk(t){let e=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function IZ(t,e){let n=0,r=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)r++;return n!=r}function Ck(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var qo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ng={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},BZ=typeof navigator<"u"&&/Mac/.test(navigator.platform),FZ=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Kr=0;Kr<10;Kr++)qo[48+Kr]=qo[96+Kr]=String(Kr);for(var Kr=1;Kr<=24;Kr++)qo[Kr+111]="F"+Kr;for(var Kr=65;Kr<=90;Kr++)qo[Kr]=String.fromCharCode(Kr+32),Ng[Kr]=String.fromCharCode(Kr);for(var rb in qo)Ng.hasOwnProperty(rb)||(Ng[rb]=qo[rb]);function $Z(t){var e=BZ&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||FZ&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Ng:qo)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const UZ=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),VZ=typeof navigator<"u"&&/Win/.test(navigator.platform);function HZ(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,s,i,a;for(let l=0;l<e.length-1;l++){let d=e[l];if(/^(cmd|meta|m)$/i.test(d))a=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))i=!0;else if(/^mod$/i.test(d))UZ?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),a&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function qZ(t){let e=Object.create(null);for(let n in t)e[HZ(n)]=t[n];return e}function sb(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function KZ(t){return new Nr({props:{handleKeyDown:V2(t)}})}function V2(t){let e=qZ(t);return function(n,r){let s=$Z(r),i,a=e[sb(s,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let l=e[sb(s,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(VZ&&r.ctrlKey&&r.altKey)&&(i=qo[r.keyCode])&&i!=s){let l=e[sb(i,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const H2=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function s6(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const i6=(t,e,n)=>{let r=s6(t,n);if(!r)return!1;let s=q2(r);if(!s){let a=r.blockRange(),l=a&&$u(a);return l==null?!1:(e&&e(t.tr.lift(a,l).scrollIntoView()),!0)}let i=s.nodeBefore;if(p6(t,s,e,-1))return!0;if(r.parent.content.size==0&&(Tu(i,"end")||Ut.isSelectable(i)))for(let a=r.depth;;a--){let l=Ry(t.doc,r.before(a),r.after(a),xt.empty);if(l&&l.slice.size<l.to-l.from){if(e){let d=t.tr.step(l);d.setSelection(Tu(i,"end")?Yt.findFrom(d.doc.resolve(d.mapping.map(s.pos,-1)),-1):Ut.create(d.doc,s.pos-i.nodeSize)),e(d.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1},YZ=(t,e,n)=>{let r=s6(t,n);if(!r)return!1;let s=q2(r);return s?a6(t,s,e):!1},WZ=(t,e,n)=>{let r=l6(t,n);if(!r)return!1;let s=K2(r);return s?a6(t,s,e):!1};function a6(t,e,n){let r=e.nodeBefore,s=r,i=e.pos-1;for(;!s.isTextblock;i--){if(s.type.spec.isolating)return!1;let p=s.lastChild;if(!p)return!1;s=p}let a=e.nodeAfter,l=a,d=e.pos+1;for(;!l.isTextblock;d++){if(l.type.spec.isolating)return!1;let p=l.firstChild;if(!p)return!1;l=p}let f=Ry(t.doc,i,d,xt.empty);if(!f||f.from!=i||f instanceof Lr&&f.slice.size>=d-i)return!1;if(n){let p=t.tr.step(f);p.setSelection(Vt.create(p.doc,i)),n(p.scrollIntoView())}return!0}function Tu(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const o6=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;i=q2(r)}let a=i&&i.nodeBefore;return!a||!Ut.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Ut.create(t.doc,i.pos-a.nodeSize)).scrollIntoView()),!0)};function q2(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function l6(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const c6=(t,e,n)=>{let r=l6(t,n);if(!r)return!1;let s=K2(r);if(!s)return!1;let i=s.nodeAfter;if(p6(t,s,e,1))return!0;if(r.parent.content.size==0&&(Tu(i,"start")||Ut.isSelectable(i))){let a=Ry(t.doc,r.before(),r.after(),xt.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(Tu(i,"start")?Yt.findFrom(l.doc.resolve(l.mapping.map(s.pos)),1):Ut.create(l.doc,l.mapping.map(s.pos))),e(l.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},u6=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;i=K2(r)}let a=i&&i.nodeAfter;return!a||!Ut.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Ut.create(t.doc,i.pos)).scrollIntoView()),!0)};function K2(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const GZ=(t,e)=>{let n=t.selection,r=n instanceof Ut,s;if(r){if(n.node.isTextblock||!el(t.doc,n.from))return!1;s=n.from}else if(s=My(t.doc,n.from,-1),s==null)return!1;if(e){let i=t.tr.join(s);r&&i.setSelection(Ut.create(i.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},XZ=(t,e)=>{let n=t.selection,r;if(n instanceof Ut){if(n.node.isTextblock||!el(t.doc,n.to))return!1;r=n.to}else if(r=My(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},JZ=(t,e)=>{let{$from:n,$to:r}=t.selection,s=n.blockRange(r),i=s&&$u(s);return i==null?!1:(e&&e(t.tr.lift(s,i).scrollIntoView()),!0)},d6=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function Y2(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const QZ=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),i=n.indexAfter(-1),a=Y2(s.contentMatchAt(i));if(!a||!s.canReplaceWith(i,i,a))return!1;if(e){let l=n.after(),d=t.tr.replaceWith(l,l,a.createAndFill());d.setSelection(Yt.near(d.doc.resolve(l),1)),e(d.scrollIntoView())}return!0},f6=(t,e)=>{let n=t.selection,{$from:r,$to:s}=n;if(n instanceof qs||r.parent.inlineContent||s.parent.inlineContent)return!1;let i=Y2(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let a=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,l=t.tr.insert(a,i.createAndFill());l.setSelection(Vt.create(l.doc,a+1)),e(l.scrollIntoView())}return!0},h6=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(Fa(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),s=r&&$u(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)};function ZZ(t){return(e,n)=>{let{$from:r,$to:s}=e.selection;if(e.selection instanceof Ut&&e.selection.node.isBlock)return!r.parentOffset||!Fa(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let i=[],a,l,d=!1,f=!1;for(let x=r.depth;;x--)if(r.node(x).isBlock){d=r.end(x)==r.pos+(r.depth-x),f=r.start(x)==r.pos-(r.depth-x),l=Y2(r.node(x-1).contentMatchAt(r.indexAfter(x-1))),i.unshift(d&&l?{type:l}:null),a=x;break}else{if(x==1)return!1;i.unshift(null)}let p=e.tr;(e.selection instanceof Vt||e.selection instanceof qs)&&p.deleteSelection();let m=p.mapping.map(r.pos),y=Fa(p.doc,m,i.length,i);if(y||(i[0]=l?{type:l}:null,y=Fa(p.doc,m,i.length,i)),!y)return!1;if(p.split(m,i.length,i),!d&&f&&r.node(a).type!=l){let x=p.mapping.map(r.before(a)),b=p.doc.resolve(x);l&&r.node(a-1).canReplaceWith(b.index(),b.index()+1,l)&&p.setNodeMarkup(p.mapping.map(r.before(a)),l)}return n&&n(p.scrollIntoView()),!0}}const eee=ZZ(),tee=(t,e)=>{let{$from:n,to:r}=t.selection,s,i=n.sharedDepth(r);return i==0?!1:(s=n.before(i),e&&e(t.tr.setSelection(Ut.create(t.doc,s))),!0)};function nee(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,i=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(s.isTextblock||el(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function p6(t,e,n,r){let s=e.nodeBefore,i=e.nodeAfter,a,l,d=s.type.spec.isolating||i.type.spec.isolating;if(!d&&nee(t,e,n))return!0;let f=!d&&e.parent.canReplace(e.index(),e.index()+1);if(f&&(a=(l=s.contentMatchAt(s.childCount)).findWrapping(i.type))&&l.matchType(a[0]||i.type).validEnd){if(n){let x=e.pos+i.nodeSize,b=We.empty;for(let N=a.length-1;N>=0;N--)b=We.from(a[N].create(null,b));b=We.from(s.copy(b));let S=t.tr.step(new zr(e.pos-1,x,e.pos,x,new xt(b,1,0),a.length,!0)),C=S.doc.resolve(x+2*a.length);C.nodeAfter&&C.nodeAfter.type==s.type&&el(S.doc,C.pos)&&S.join(C.pos),n(S.scrollIntoView())}return!0}let p=i.type.spec.isolating||r>0&&d?null:Yt.findFrom(e,1),m=p&&p.$from.blockRange(p.$to),y=m&&$u(m);if(y!=null&&y>=e.depth)return n&&n(t.tr.lift(m,y).scrollIntoView()),!0;if(f&&Tu(i,"start",!0)&&Tu(s,"end")){let x=s,b=[];for(;b.push(x),!x.isTextblock;)x=x.lastChild;let S=i,C=1;for(;!S.isTextblock;S=S.firstChild)C++;if(x.canReplace(x.childCount,x.childCount,S.content)){if(n){let N=We.empty;for(let D=b.length-1;D>=0;D--)N=We.from(b[D].copy(N));let k=t.tr.step(new zr(e.pos-b.length,e.pos+i.nodeSize,e.pos+C,e.pos+i.nodeSize-C,new xt(N,b.length,0),0,!0));n(k.scrollIntoView())}return!0}}return!1}function m6(t){return function(e,n){let r=e.selection,s=t<0?r.$from:r.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(n&&n(e.tr.setSelection(Vt.create(e.doc,t<0?s.start(i):s.end(i)))),!0):!1}}const ree=m6(-1),see=m6(1);function iee(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,a=s.blockRange(i),l=a&&D2(a,t,e);return l?(r&&r(n.tr.wrap(a,l).scrollIntoView()),!0):!1}}function Nk(t,e=null){return function(n,r){let s=!1;for(let i=0;i<n.selection.ranges.length&&!s;i++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[i];n.doc.nodesBetween(a,l,(d,f)=>{if(s)return!1;if(!(!d.isTextblock||d.hasMarkup(t,e)))if(d.type==t)s=!0;else{let p=n.doc.resolve(f),m=p.index();s=p.parent.canReplaceWith(m,m+1,t)}})}if(!s)return!1;if(r){let i=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:l},$to:{pos:d}}=n.selection.ranges[a];i.setBlockType(l,d,t,e)}r(i.scrollIntoView())}return!0}}function W2(...t){return function(e,n,r){for(let s=0;s<t.length;s++)if(t[s](e,n,r))return!0;return!1}}W2(H2,i6,o6);W2(H2,c6,u6);W2(d6,f6,h6,eee);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function aee(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,a=s.blockRange(i);if(!a)return!1;let l=r?n.tr:null;return oee(l,a,t,e)?(r&&r(l.scrollIntoView()),!0):!1}}function oee(t,e,n,r=null){let s=!1,i=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=a.resolve(e.start-2);i=new yg(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new yg(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let l=D2(i,n,r,e);return l?(t&&lee(t,e,l,s,n),!0):!1}function lee(t,e,n,r,s){let i=We.empty;for(let p=n.length-1;p>=0;p--)i=We.from(n[p].type.create(n[p].attrs,i));t.step(new zr(e.start-(r?2:0),e.end,e.start,e.end,new xt(i,0,0),n.length,!0));let a=0;for(let p=0;p<n.length;p++)n[p].type==s&&(a=p+1);let l=n.length-a,d=e.start+n.length-(r?2:0),f=e.parent;for(let p=e.startIndex,m=e.endIndex,y=!0;p<m;p++,y=!1)!y&&Fa(t.doc,d,l)&&(t.split(d,l),d+=2*l),d+=f.child(p).nodeSize;return t}function cee(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,a=>a.childCount>0&&a.firstChild.type==t);return i?n?r.node(i.depth-1).type==t?uee(e,n,t,i):dee(e,n,i):!0:!1}}function uee(t,e,n,r){let s=t.tr,i=r.end,a=r.$to.end(r.depth);i<a&&(s.step(new zr(i-1,a,i,a,new xt(We.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new yg(s.doc.resolve(r.$from.pos),s.doc.resolve(a),r.depth));const l=$u(r);if(l==null)return!1;s.lift(r,l);let d=s.doc.resolve(s.mapping.map(i,-1)-1);return el(s.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&s.join(d.pos),e(s.scrollIntoView()),!0}function dee(t,e,n){let r=t.tr,s=n.parent;for(let x=n.end,b=n.endIndex-1,S=n.startIndex;b>S;b--)x-=s.child(b).nodeSize,r.delete(x-1,x+1);let i=r.doc.resolve(n.start),a=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,d=n.endIndex==s.childCount,f=i.node(-1),p=i.index(-1);if(!f.canReplace(p+(l?0:1),p+1,a.content.append(d?We.empty:We.from(s))))return!1;let m=i.pos,y=m+a.nodeSize;return r.step(new zr(m-(l?1:0),y+(d?1:0),m+1,y-1,new xt((l?We.empty:We.from(s.copy(We.empty))).append(d?We.empty:We.from(s.copy(We.empty))),l?0:1,d?0:1),l?0:1)),e(r.scrollIntoView()),!0}function fee(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,f=>f.childCount>0&&f.firstChild.type==t);if(!i)return!1;let a=i.startIndex;if(a==0)return!1;let l=i.parent,d=l.child(a-1);if(d.type!=t)return!1;if(n){let f=d.lastChild&&d.lastChild.type==l.type,p=We.from(f?t.create():null),m=new xt(We.from(t.create(null,We.from(l.type.create(null,p)))),f?3:1,0),y=i.start,x=i.end;n(e.tr.step(new zr(y-(f?3:1),x,y,x,m,1,!0)).scrollIntoView())}return!0}}function Iy(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:s}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,i=n.storedMarks,n}}}class By{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:s}=n,{tr:i}=r,a=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([l,d])=>[l,(...p)=>{const m=d(...p)(a);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(i),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:s,state:i}=this,{view:a}=s,l=[],d=!!e,f=e||i.tr,p=()=>(!d&&n&&!f.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(f),l.every(y=>y===!0)),m={...Object.fromEntries(Object.entries(r).map(([y,x])=>[y,(...S)=>{const C=this.buildProps(f,n),N=x(...S)(C);return l.push(N),m}])),run:p};return m}createCan(e){const{rawCommands:n,state:r}=this,s=!1,i=e||r.tr,a=this.buildProps(i,s);return{...Object.fromEntries(Object.entries(n).map(([d,f])=>[d,(...p)=>f(...p)({...a,dispatch:void 0})])),chain:()=>this.createChain(i,s)}}buildProps(e,n=!0){const{rawCommands:r,editor:s,state:i}=this,{view:a}=s,l={tr:e,editor:s,view:a,state:Iy({state:i,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([d,f])=>[d,(...p)=>f(...p)(l)]))}};return l}}class hee{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(s=>s.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(s=>s!==n):delete this.callbacks[e]),this}once(e,n){const r=(...s)=>{this.off(e,r),n.apply(this,s)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function _t(t,e,n){return t.config[e]===void 0&&t.parent?_t(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?_t(t.parent,e,n):null}):t.config[e]}function Fy(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),r=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function g6(t){const e=[],{nodeExtensions:n,markExtensions:r}=Fy(t),s=[...n,...r],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage,extensions:s},d=_t(a,"addGlobalAttributes",l);if(!d)return;d().forEach(p=>{p.types.forEach(m=>{Object.entries(p.attributes).forEach(([y,x])=>{e.push({type:m,name:y,attribute:{...i,...x}})})})})}),s.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage},d=_t(a,"addAttributes",l);if(!d)return;const f=d();Object.entries(f).forEach(([p,m])=>{const y={...i,...m};typeof y?.default=="function"&&(y.default=y.default()),y?.isRequired&&y?.default===void 0&&delete y.default,e.push({type:a.name,name:p,attribute:y})})}),e}function Br(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Gn(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([s,i])=>{if(!r[s]){r[s]=i;return}if(s==="class"){const l=i?String(i).split(" "):[],d=r[s]?r[s].split(" "):[],f=l.filter(p=>!d.includes(p));r[s]=[...d,...f].join(" ")}else if(s==="style"){const l=i?i.split(";").map(p=>p.trim()).filter(Boolean):[],d=r[s]?r[s].split(";").map(p=>p.trim()).filter(Boolean):[],f=new Map;d.forEach(p=>{const[m,y]=p.split(":").map(x=>x.trim());f.set(m,y)}),l.forEach(p=>{const[m,y]=p.split(":").map(x=>x.trim());f.set(m,y)}),r[s]=Array.from(f.entries()).map(([p,m])=>`${p}: ${m}`).join("; ")}else r[s]=i}),r},{})}function I1(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Gn(n,r),{})}function y6(t){return typeof t=="function"}function cn(t,e=void 0,...n){return y6(t)?e?t.bind(e)(...n):t(...n):t}function pee(t={}){return Object.keys(t).length===0&&t.constructor===Object}function mee(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function jk(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const s=e.reduce((i,a)=>{const l=a.attribute.parseHTML?a.attribute.parseHTML(n):mee(n.getAttribute(a.name));return l==null?i:{...i,[a.name]:l}},{});return{...r,...s}}}}function Tk(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&pee(n)?!1:n!=null))}function gee(t,e){var n;const r=g6(t),{nodeExtensions:s,markExtensions:i}=Fy(t),a=(n=s.find(f=>_t(f,"topNode")))===null||n===void 0?void 0:n.name,l=Object.fromEntries(s.map(f=>{const p=r.filter(N=>N.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},y=t.reduce((N,k)=>{const D=_t(k,"extendNodeSchema",m);return{...N,...D?D(f):{}}},{}),x=Tk({...y,content:cn(_t(f,"content",m)),marks:cn(_t(f,"marks",m)),group:cn(_t(f,"group",m)),inline:cn(_t(f,"inline",m)),atom:cn(_t(f,"atom",m)),selectable:cn(_t(f,"selectable",m)),draggable:cn(_t(f,"draggable",m)),code:cn(_t(f,"code",m)),whitespace:cn(_t(f,"whitespace",m)),linebreakReplacement:cn(_t(f,"linebreakReplacement",m)),defining:cn(_t(f,"defining",m)),isolating:cn(_t(f,"isolating",m)),attrs:Object.fromEntries(p.map(N=>{var k;return[N.name,{default:(k=N?.attribute)===null||k===void 0?void 0:k.default}]}))}),b=cn(_t(f,"parseHTML",m));b&&(x.parseDOM=b.map(N=>jk(N,p)));const S=_t(f,"renderHTML",m);S&&(x.toDOM=N=>S({node:N,HTMLAttributes:I1(N,p)}));const C=_t(f,"renderText",m);return C&&(x.toText=C),[f.name,x]})),d=Object.fromEntries(i.map(f=>{const p=r.filter(C=>C.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},y=t.reduce((C,N)=>{const k=_t(N,"extendMarkSchema",m);return{...C,...k?k(f):{}}},{}),x=Tk({...y,inclusive:cn(_t(f,"inclusive",m)),excludes:cn(_t(f,"excludes",m)),group:cn(_t(f,"group",m)),spanning:cn(_t(f,"spanning",m)),code:cn(_t(f,"code",m)),attrs:Object.fromEntries(p.map(C=>{var N;return[C.name,{default:(N=C?.attribute)===null||N===void 0?void 0:N.default}]}))}),b=cn(_t(f,"parseHTML",m));b&&(x.parseDOM=b.map(C=>jk(C,p)));const S=_t(f,"renderHTML",m);return S&&(x.toDOM=C=>S({mark:C,HTMLAttributes:I1(C,p)})),[f.name,x]}));return new iR({topNode:a,nodes:l,marks:d})}function ib(t,e){return e.nodes[t]||e.marks[t]||null}function Ek(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function G2(t,e){const n=yc.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}const yee=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(s,i,a,l)=>{var d,f;const p=((f=(d=s.type.spec).toText)===null||f===void 0?void 0:f.call(d,{node:s,pos:i,parent:a,index:l}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?p:p.slice(0,Math.max(0,r-i))}),n};function X2(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class $y{constructor(e){this.find=e.find,this.handler=e.handler}}const xee=(t,e)=>{if(X2(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function am(t){var e;const{editor:n,from:r,to:s,text:i,rules:a,plugin:l}=t,{view:d}=n;if(d.composing)return!1;const f=d.state.doc.resolve(r);if(f.parent.type.spec.code||!((e=f.nodeBefore||f.nodeAfter)===null||e===void 0)&&e.marks.find(y=>y.type.spec.code))return!1;let p=!1;const m=yee(f)+i;return a.forEach(y=>{if(p)return;const x=xee(m,y.find);if(!x)return;const b=d.state.tr,S=Iy({state:d.state,transaction:b}),C={from:r-(x[0].length-i.length),to:s},{commands:N,chain:k,can:D}=new By({editor:n,state:S});y.handler({state:S,range:C,match:x,commands:N,chain:k,can:D})===null||!b.steps.length||(b.setMeta(l,{transform:b,from:r,to:s,text:i}),d.dispatch(b),p=!0)}),p}function vee(t){const{editor:e,rules:n}=t,r=new Nr({state:{init(){return null},apply(s,i,a){const l=s.getMeta(r);if(l)return l;const d=s.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:p}=d;typeof p=="string"?p=p:p=G2(We.from(p),a.schema);const{from:m}=d,y=m+p.length;am({editor:e,from:m,to:y,text:p,rules:n,plugin:r})}),s.selectionSet||s.docChanged?null:i}},props:{handleTextInput(s,i,a,l){return am({editor:e,from:i,to:a,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:i}=s.state.selection;i&&am({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(s,i){if(i.key!=="Enter")return!1;const{$cursor:a}=s.state.selection;return a?am({editor:e,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function bee(t){return Object.prototype.toString.call(t).slice(8,-1)}function om(t){return bee(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Uy(t,e){const n={...t};return om(t)&&om(e)&&Object.keys(e).forEach(r=>{om(e[r])&&om(t[r])?n[r]=Uy(t[r],e[r]):n[r]=e[r]}),n}class Di{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=cn(_t(this,"addOptions",{name:this.name}))),this.storage=cn(_t(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Di(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Uy(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Di(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=cn(_t(n,"addOptions",{name:n.name})),n.storage=cn(_t(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const a=s.marks();if(!!!a.find(f=>f?.type.name===n.name))return!1;const d=a.find(f=>f?.type.name===n.name);return d&&r.removeStoredMark(d),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}}function wee(t){return typeof t=="number"}class See{constructor(e){this.find=e.find,this.handler=e.handler}}const Cee=(t,e,n)=>{if(X2(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(s=>{const i=[s.text];return i.index=s.index,i.input=t,i.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(s.replaceWith)),i}):[]};function Nee(t){const{editor:e,state:n,from:r,to:s,rule:i,pasteEvent:a,dropEvent:l}=t,{commands:d,chain:f,can:p}=new By({editor:e,state:n}),m=[];return n.doc.nodesBetween(r,s,(x,b)=>{if(!x.isTextblock||x.type.spec.code)return;const S=Math.max(r,b),C=Math.min(s,b+x.content.size),N=x.textBetween(S-b,C-b,void 0,"");Cee(N,i.find,a).forEach(D=>{if(D.index===void 0)return;const M=S+D.index+1,E=M+D[0].length,A={from:n.tr.mapping.map(M),to:n.tr.mapping.map(E)},P=i.handler({state:n,range:A,match:D,commands:d,chain:f,can:p,pasteEvent:a,dropEvent:l});m.push(P)})}),m.every(x=>x!==null)}let lm=null;const jee=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function Tee(t){const{editor:e,rules:n}=t;let r=null,s=!1,i=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const d=({state:p,from:m,to:y,rule:x,pasteEvt:b})=>{const S=p.tr,C=Iy({state:p,transaction:S});if(!(!Nee({editor:e,state:C,from:Math.max(m-1,0),to:y.b-1,rule:x,pasteEvent:b,dropEvent:l})||!S.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,S}};return n.map(p=>new Nr({view(m){const y=b=>{var S;r=!((S=m.dom.parentElement)===null||S===void 0)&&S.contains(b.target)?m.dom.parentElement:null,r&&(lm=e)},x=()=>{lm&&(lm=null)};return window.addEventListener("dragstart",y),window.addEventListener("dragend",x),{destroy(){window.removeEventListener("dragstart",y),window.removeEventListener("dragend",x)}}},props:{handleDOMEvents:{drop:(m,y)=>{if(i=r===m.dom.parentElement,l=y,!i){const x=lm;x?.isEditable&&setTimeout(()=>{const b=x.state.selection;b&&x.commands.deleteRange({from:b.from,to:b.to})},10)}return!1},paste:(m,y)=>{var x;const b=(x=y.clipboardData)===null||x===void 0?void 0:x.getData("text/html");return a=y,s=!!b?.includes("data-pm-slice"),!1}}},appendTransaction:(m,y,x)=>{const b=m[0],S=b.getMeta("uiEvent")==="paste"&&!s,C=b.getMeta("uiEvent")==="drop"&&!i,N=b.getMeta("applyPasteRules"),k=!!N;if(!S&&!C&&!k)return;if(k){let{text:E}=N;typeof E=="string"?E=E:E=G2(We.from(E),x.schema);const{from:A}=N,P=A+E.length,F=jee(E);return d({rule:p,state:x,from:A,to:{b:P},pasteEvt:F})}const D=y.doc.content.findDiffStart(x.doc.content),M=y.doc.content.findDiffEnd(x.doc.content);if(!(!wee(D)||!M||D===M.b))return d({rule:p,state:x,from:D,to:M,pasteEvt:a})}}))}function Eee(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}class fu{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=fu.resolve(e),this.schema=gee(this.extensions,n),this.setupExtensions()}static resolve(e){const n=fu.sort(fu.flatten(e)),r=Eee(n.map(s=>s.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},s=_t(n,"addExtensions",r);return s?[n,...this.flatten(s())]:n}).flat(10)}static sort(e){return e.sort((r,s)=>{const i=_t(r,"priority")||100,a=_t(s,"priority")||100;return i>a?-1:i<a?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:ib(n.name,this.schema)},s=_t(n,"addCommands",r);return s?{...e,...s()}:e},{})}get plugins(){const{editor:e}=this,n=fu.sort([...this.extensions].reverse()),r=[],s=[],i=n.map(a=>{const l={name:a.name,options:a.options,storage:a.storage,editor:e,type:ib(a.name,this.schema)},d=[],f=_t(a,"addKeyboardShortcuts",l);let p={};if(a.type==="mark"&&_t(a,"exitable",l)&&(p.ArrowRight=()=>Di.handleExit({editor:e,mark:a})),f){const S=Object.fromEntries(Object.entries(f()).map(([C,N])=>[C,()=>N({editor:e})]));p={...p,...S}}const m=KZ(p);d.push(m);const y=_t(a,"addInputRules",l);Ek(a,e.options.enableInputRules)&&y&&r.push(...y());const x=_t(a,"addPasteRules",l);Ek(a,e.options.enablePasteRules)&&x&&s.push(...x());const b=_t(a,"addProseMirrorPlugins",l);if(b){const S=b();d.push(...S)}return d}).flat();return[vee({editor:e,rules:r}),...Tee({editor:e,rules:s}),...i]}get attributes(){return g6(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=Fy(this.extensions);return Object.fromEntries(n.filter(r=>!!_t(r,"addNodeView")).map(r=>{const s=this.attributes.filter(d=>d.type===r.name),i={name:r.name,options:r.options,storage:r.storage,editor:e,type:Br(r.name,this.schema)},a=_t(r,"addNodeView",i);if(!a)return[];const l=(d,f,p,m,y)=>{const x=I1(d,s);return a()({node:d,view:f,getPos:p,decorations:m,innerDecorations:y,editor:e,extension:r,HTMLAttributes:x})};return[r.name,l]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:ib(e.name,this.schema)};e.type==="mark"&&(!((n=cn(_t(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const s=_t(e,"onBeforeCreate",r),i=_t(e,"onCreate",r),a=_t(e,"onUpdate",r),l=_t(e,"onSelectionUpdate",r),d=_t(e,"onTransaction",r),f=_t(e,"onFocus",r),p=_t(e,"onBlur",r),m=_t(e,"onDestroy",r);s&&this.editor.on("beforeCreate",s),i&&this.editor.on("create",i),a&&this.editor.on("update",a),l&&this.editor.on("selectionUpdate",l),d&&this.editor.on("transaction",d),f&&this.editor.on("focus",f),p&&this.editor.on("blur",p),m&&this.editor.on("destroy",m)})}}class Yr{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=cn(_t(this,"addOptions",{name:this.name}))),this.storage=cn(_t(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Yr(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Uy(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Yr({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=cn(_t(n,"addOptions",{name:n.name})),n.storage=cn(_t(n,"addStorage",{name:n.name,options:n.options})),n}}function x6(t,e,n){const{from:r,to:s}=e,{blockSeparator:i=`

`,textSerializers:a={}}=n||{};let l="";return t.nodesBetween(r,s,(d,f,p,m)=>{var y;d.isBlock&&f>r&&(l+=i);const x=a?.[d.type.name];if(x)return p&&(l+=x({node:d,pos:f,parent:p,index:m,range:e})),!1;d.isText&&(l+=(y=d?.text)===null||y===void 0?void 0:y.slice(Math.max(r,f)-f,s-f))}),l}function v6(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const Aee=Yr.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Nr({key:new Wr("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:s}=e,{ranges:i}=s,a=Math.min(...i.map(p=>p.$from.pos)),l=Math.max(...i.map(p=>p.$to.pos)),d=v6(n);return x6(r,{from:a,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),kee=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),Oee=(t=!1)=>({commands:e})=>e.setContent("",t),Dee=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:s}=r;return n&&s.forEach(({$from:i,$to:a})=>{t.doc.nodesBetween(i.pos,a.pos,(l,d)=>{if(l.type.isText)return;const{doc:f,mapping:p}=e,m=f.resolve(p.map(d)),y=f.resolve(p.map(d+l.nodeSize)),x=m.blockRange(y);if(!x)return;const b=$u(x);if(l.type.isTextblock){const{defaultType:S}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(x.start,S)}(b||b===0)&&e.lift(x,b)})}),!0},Mee=t=>e=>t(e),Ree=()=>({state:t,dispatch:e})=>f6(t,e),_ee=(t,e)=>({editor:n,tr:r})=>{const{state:s}=n,i=s.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const a=r.mapping.map(e);return r.insert(a,i.content),r.setSelection(new Vt(r.doc.resolve(Math.max(a-1,0)))),!0},Lee=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const s=t.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===r.type){if(e){const l=s.before(i),d=s.after(i);t.delete(l,d).scrollIntoView()}return!0}return!1},Pee=t=>({tr:e,state:n,dispatch:r})=>{const s=Br(t,n.schema),i=e.selection.$anchor;for(let a=i.depth;a>0;a-=1)if(i.node(a).type===s){if(r){const d=i.before(a),f=i.after(a);e.delete(d,f).scrollIntoView()}return!0}return!1},zee=t=>({tr:e,dispatch:n})=>{const{from:r,to:s}=t;return n&&e.delete(r,s),!0},Iee=()=>({state:t,dispatch:e})=>H2(t,e),Bee=()=>({commands:t})=>t.keyboardShortcut("Enter"),Fee=()=>({state:t,dispatch:e})=>QZ(t,e);function jg(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>n.strict?e[s]===t[s]:X2(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function b6(t,e,n={}){return t.find(r=>r.type===e&&jg(Object.fromEntries(Object.keys(n).map(s=>[s,r.attrs[s]])),n))}function Ak(t,e,n={}){return!!b6(t,e,n)}function J2(t,e,n){var r;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(p=>p.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(p=>p.type===e)||(n=n||((r=s.node.marks[0])===null||r===void 0?void 0:r.attrs),!b6([...s.node.marks],e,n)))return;let a=s.index,l=t.start()+s.offset,d=a+1,f=l+s.node.nodeSize;for(;a>0&&Ak([...t.parent.child(a-1).marks],e,n);)a-=1,l-=t.parent.child(a).nodeSize;for(;d<t.parent.childCount&&Ak([...t.parent.child(d).marks],e,n);)f+=t.parent.child(d).nodeSize,d+=1;return{from:l,to:f}}function nl(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const $ee=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const i=nl(t,r.schema),{doc:a,selection:l}=n,{$from:d,from:f,to:p}=l;if(s){const m=J2(d,i,e);if(m&&m.from<=f&&m.to>=p){const y=Vt.create(a,m.from,m.to);n.setSelection(y)}}return!0},Uee=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function Q2(t){return t instanceof Vt}function Ia(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function w6(t,e=null){if(!e)return null;const n=Yt.atStart(t),r=Yt.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const s=n.from,i=r.to;return e==="all"?Vt.create(t,Ia(0,s,i),Ia(t.content.size,s,i)):Vt.create(t,Ia(e,s,i),Ia(e,s,i))}function Vee(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Z2(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const Hee=(t=null,e={})=>({editor:n,view:r,tr:s,dispatch:i})=>{e={scrollIntoView:!0,...e};const a=()=>{(Z2()||Vee())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!Q2(n.state.selection))return a(),!0;const l=w6(s.doc,t)||n.state.selection,d=n.state.selection.eq(l);return i&&(d||s.setSelection(l),d&&s.storedMarks&&s.setStoredMarks(s.storedMarks),a()),!0},qee=(t,e)=>n=>t.every((r,s)=>e(r,{...n,index:s})),Kee=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),S6=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&S6(r)}return t};function cm(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return S6(n)}function rh(t,e,n){if(t instanceof zo||t instanceof We)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,s=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return We.fromArray(t.map(l=>e.nodeFromJSON(l)));const a=e.nodeFromJSON(t);return n.errorOnInvalidContent&&a.check(),a}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),rh("",e,n)}if(s){if(n.errorOnInvalidContent){let a=!1,l="";const d=new iR({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:f=>(a=!0,l=typeof f=="string"?f:f.outerHTML,null)}]}})});if(n.slice?bf.fromSchema(d).parseSlice(cm(t),n.parseOptions):bf.fromSchema(d).parse(cm(t),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const i=bf.fromSchema(e);return n.slice?i.parseSlice(cm(t),n.parseOptions).content:i.parse(cm(t),n.parseOptions)}return rh("",e,n)}function Yee(t,e,n){const r=t.steps.length-1;if(r<e)return;const s=t.steps[r];if(!(s instanceof Lr||s instanceof zr))return;const i=t.mapping.maps[r];let a=0;i.forEach((l,d,f,p)=>{a===0&&(a=p)}),t.setSelection(Yt.near(t.doc.resolve(a),n))}const Wee=t=>!("type"in t),Gee=(t,e,n)=>({tr:r,dispatch:s,editor:i})=>{var a;if(s){n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;const d=C=>{i.emit("contentError",{editor:i,error:C,disableCollaboration:()=>{i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},f={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{rh(e,i.schema,{parseOptions:f,errorOnInvalidContent:!0})}catch(C){d(C)}try{l=rh(e,i.schema,{parseOptions:f,errorOnInvalidContent:(a=n.errorOnInvalidContent)!==null&&a!==void 0?a:i.options.enableContentCheck})}catch(C){return d(C),!1}let{from:p,to:m}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},y=!0,x=!0;if((Wee(l)?l:[l]).forEach(C=>{C.check(),y=y?C.isText&&C.marks.length===0:!1,x=x?C.isBlock:!1}),p===m&&x){const{parent:C}=r.doc.resolve(p);C.isTextblock&&!C.type.spec.code&&!C.childCount&&(p-=1,m+=1)}let S;if(y){if(Array.isArray(e))S=e.map(C=>C.text||"").join("");else if(e instanceof We){let C="";e.forEach(N=>{N.text&&(C+=N.text)}),S=C}else typeof e=="object"&&e&&e.text?S=e.text:S=e;r.insertText(S,p,m)}else S=l,r.replaceWith(p,m,S);n.updateSelection&&Yee(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:p,text:S}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:p,text:S})}return!0},Xee=()=>({state:t,dispatch:e})=>GZ(t,e),Jee=()=>({state:t,dispatch:e})=>XZ(t,e),Qee=()=>({state:t,dispatch:e})=>i6(t,e),Zee=()=>({state:t,dispatch:e})=>c6(t,e),ete=()=>({state:t,dispatch:e,tr:n})=>{try{const r=My(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},tte=()=>({state:t,dispatch:e,tr:n})=>{try{const r=My(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},nte=()=>({state:t,dispatch:e})=>YZ(t,e),rte=()=>({state:t,dispatch:e})=>WZ(t,e);function C6(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function ste(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,s,i,a;for(let l=0;l<e.length-1;l+=1){const d=e[l];if(/^(cmd|meta|m)$/i.test(d))a=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))i=!0;else if(/^mod$/i.test(d))Z2()||C6()?a=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}const ite=t=>({editor:e,view:n,tr:r,dispatch:s})=>{const i=ste(t).split(/-(?!$)/),a=i.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),l=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{n.someProp("handleKeyDown",f=>f(n,l))});return d?.steps.forEach(f=>{const p=f.map(r.mapping);p&&s&&r.maybeStep(p)}),!0};function sh(t,e,n={}){const{from:r,to:s,empty:i}=t.selection,a=e?Br(e,t.schema):null,l=[];t.doc.nodesBetween(r,s,(m,y)=>{if(m.isText)return;const x=Math.max(r,y),b=Math.min(s,y+m.nodeSize);l.push({node:m,from:x,to:b})});const d=s-r,f=l.filter(m=>a?a.name===m.node.type.name:!0).filter(m=>jg(m.node.attrs,n,{strict:!1}));return i?!!f.length:f.reduce((m,y)=>m+y.to-y.from,0)>=d}const ate=(t,e={})=>({state:n,dispatch:r})=>{const s=Br(t,n.schema);return sh(n,s,e)?JZ(n,r):!1},ote=()=>({state:t,dispatch:e})=>h6(t,e),lte=t=>({state:e,dispatch:n})=>{const r=Br(t,e.schema);return cee(r)(e,n)},cte=()=>({state:t,dispatch:e})=>d6(t,e);function Vy(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function kk(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,s)=>(n.includes(s)||(r[s]=t[s]),r),{})}const ute=(t,e)=>({tr:n,state:r,dispatch:s})=>{let i=null,a=null;const l=Vy(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(i=Br(t,r.schema)),l==="mark"&&(a=nl(t,r.schema)),s&&n.selection.ranges.forEach(d=>{r.doc.nodesBetween(d.$from.pos,d.$to.pos,(f,p)=>{i&&i===f.type&&n.setNodeMarkup(p,void 0,kk(f.attrs,e)),a&&f.marks.length&&f.marks.forEach(m=>{a===m.type&&n.addMark(p,p+f.nodeSize,a.create(kk(m.attrs,e)))})})}),!0):!1},dte=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),fte=()=>({tr:t,dispatch:e})=>{if(e){const n=new qs(t.doc);t.setSelection(n)}return!0},hte=()=>({state:t,dispatch:e})=>o6(t,e),pte=()=>({state:t,dispatch:e})=>u6(t,e),mte=()=>({state:t,dispatch:e})=>tee(t,e),gte=()=>({state:t,dispatch:e})=>see(t,e),yte=()=>({state:t,dispatch:e})=>ree(t,e);function B1(t,e,n={},r={}){return rh(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const xte=(t,e=!1,n={},r={})=>({editor:s,tr:i,dispatch:a,commands:l})=>{var d,f;const{doc:p}=i;if(n.preserveWhitespace!=="full"){const m=B1(t,s.schema,n,{errorOnInvalidContent:(d=r.errorOnInvalidContent)!==null&&d!==void 0?d:s.options.enableContentCheck});return a&&i.replaceWith(0,p.content.size,m).setMeta("preventUpdate",!e),!0}return a&&i.setMeta("preventUpdate",!e),l.insertContentAt({from:0,to:p.content.size},t,{parseOptions:n,errorOnInvalidContent:(f=r.errorOnInvalidContent)!==null&&f!==void 0?f:s.options.enableContentCheck})};function N6(t,e){const n=nl(e,t.schema),{from:r,to:s,empty:i}=t.selection,a=[];i?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,s,d=>{a.push(...d.marks)});const l=a.find(d=>d.type.name===n.name);return l?{...l.attrs}:{}}function vte(t,e){const n=new M2(t);return e.forEach(r=>{r.steps.forEach(s=>{n.step(s)})}),n}function bte(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function wte(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(s,i)=>{n(s)&&r.push({node:s,pos:i})}),r}function j6(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function eS(t){return e=>j6(e.$from,t)}function Ste(t,e){const n={from:0,to:t.content.size};return x6(t,n,e)}function Cte(t,e){const n=Br(e,t.schema),{from:r,to:s}=t.selection,i=[];t.doc.nodesBetween(r,s,l=>{i.push(l)});const a=i.reverse().find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function T6(t,e){const n=Vy(typeof e=="string"?e:e.name,t.schema);return n==="node"?Cte(t,e):n==="mark"?N6(t,e):{}}function Nte(t,e=JSON.stringify){const n={};return t.filter(r=>{const s=e(r);return Object.prototype.hasOwnProperty.call(n,s)?!1:n[s]=!0})}function jte(t){const e=Nte(t);return e.length===1?e:e.filter((n,r)=>!e.filter((i,a)=>a!==r).some(i=>n.oldRange.from>=i.oldRange.from&&n.oldRange.to<=i.oldRange.to&&n.newRange.from>=i.newRange.from&&n.newRange.to<=i.newRange.to))}function Tte(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((s,i)=>{const a=[];if(s.ranges.length)s.forEach((l,d)=>{a.push({from:l,to:d})});else{const{from:l,to:d}=n[i];if(l===void 0||d===void 0)return;a.push({from:l,to:d})}a.forEach(({from:l,to:d})=>{const f=e.slice(i).map(l,-1),p=e.slice(i).map(d),m=e.invert().map(f,-1),y=e.invert().map(p);r.push({oldRange:{from:m,to:y},newRange:{from:f,to:p}})})}),jte(r)}function tS(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(s=>{const i=n.resolve(t),a=J2(i,s.type);a&&r.push({mark:s,...a})}):n.nodesBetween(t,e,(s,i)=>{!s||s?.nodeSize===void 0||r.push(...s.marks.map(a=>({from:i,to:i+s.nodeSize,mark:a})))}),r}function Fm(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=t.find(i=>i.type===e&&i.name===r);return s?s.attribute.keepOnSplit:!1}))}function F1(t,e,n={}){const{empty:r,ranges:s}=t.selection,i=e?nl(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(m=>i?i.name===m.type.name:!0).find(m=>jg(m.attrs,n,{strict:!1}));let a=0;const l=[];if(s.forEach(({$from:m,$to:y})=>{const x=m.pos,b=y.pos;t.doc.nodesBetween(x,b,(S,C)=>{if(!S.isText&&!S.marks.length)return;const N=Math.max(x,C),k=Math.min(b,C+S.nodeSize),D=k-N;a+=D,l.push(...S.marks.map(M=>({mark:M,from:N,to:k})))})}),a===0)return!1;const d=l.filter(m=>i?i.name===m.mark.type.name:!0).filter(m=>jg(m.mark.attrs,n,{strict:!1})).reduce((m,y)=>m+y.to-y.from,0),f=l.filter(m=>i?m.mark.type!==i&&m.mark.type.excludes(i):!0).reduce((m,y)=>m+y.to-y.from,0);return(d>0?d+f:d)>=a}function Ete(t,e,n={}){if(!e)return sh(t,null,n)||F1(t,null,n);const r=Vy(e,t.schema);return r==="node"?sh(t,e,n):r==="mark"?F1(t,e,n):!1}function Ok(t,e){const{nodeExtensions:n}=Fy(e),r=n.find(a=>a.name===t);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},i=cn(_t(r,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function nS(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!==null&&r!==void 0?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(i=>{s!==!1&&(nS(i,{ignoreWhitespace:n,checkChildren:e})||(s=!1))}),s}return!1}function E6(t){return t instanceof Ut}function Ate(t,e,n){const s=t.state.doc.content.size,i=Ia(e,0,s),a=Ia(n,0,s),l=t.coordsAtPos(i),d=t.coordsAtPos(a,-1),f=Math.min(l.top,d.top),p=Math.max(l.bottom,d.bottom),m=Math.min(l.left,d.left),y=Math.max(l.right,d.right),x=y-m,b=p-f,N={top:f,bottom:p,left:m,right:y,width:x,height:b,x:m,y:f};return{...N,toJSON:()=>N}}function kte(t,e,n){var r;const{selection:s}=e;let i=null;if(Q2(s)&&(i=s.$cursor),i){const l=(r=t.storedMarks)!==null&&r!==void 0?r:i.marks();return!!n.isInSet(l)||!l.some(d=>d.type.excludes(n))}const{ranges:a}=s;return a.some(({$from:l,$to:d})=>{let f=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,d.pos,(p,m,y)=>{if(f)return!1;if(p.isInline){const x=!y||y.type.allowsMarkType(n),b=!!n.isInSet(p.marks)||!p.marks.some(S=>S.type.excludes(n));f=x&&b}return!f}),f})}const Ote=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=n,{empty:a,ranges:l}=i,d=nl(t,r.schema);if(s)if(a){const f=N6(r,d);n.addStoredMark(d.create({...f,...e}))}else l.forEach(f=>{const p=f.$from.pos,m=f.$to.pos;r.doc.nodesBetween(p,m,(y,x)=>{const b=Math.max(x,p),S=Math.min(x+y.nodeSize,m);y.marks.find(N=>N.type===d)?y.marks.forEach(N=>{d===N.type&&n.addMark(b,S,d.create({...N.attrs,...e}))}):n.addMark(b,S,d.create(e))})});return kte(r,n,d)},Dte=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),Mte=(t,e={})=>({state:n,dispatch:r,chain:s})=>{const i=Br(t,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),i.isTextblock?s().command(({commands:l})=>Nk(i,{...a,...e})(n)?!0:l.clearNodes()).command(({state:l})=>Nk(i,{...a,...e})(l,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Rte=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,s=Ia(t,0,r.content.size),i=Ut.create(r,s);e.setSelection(i)}return!0},_te=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:s,to:i}=typeof t=="number"?{from:t,to:t}:t,a=Vt.atStart(r).from,l=Vt.atEnd(r).to,d=Ia(s,a,l),f=Ia(i,a,l),p=Vt.create(r,d,f);e.setSelection(p)}return!0},Lte=t=>({state:e,dispatch:n})=>{const r=Br(t,e.schema);return fee(r)(e,n)};function Dk(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(s=>e?.includes(s.type.name));t.tr.ensureMarks(r)}}const Pte=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:s})=>{const{selection:i,doc:a}=e,{$from:l,$to:d}=i,f=s.extensionManager.attributes,p=Fm(f,l.node().type.name,l.node().attrs);if(i instanceof Ut&&i.node.isBlock)return!l.parentOffset||!Fa(a,l.pos)?!1:(r&&(t&&Dk(n,s.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const m=d.parentOffset===d.parent.content.size,y=l.depth===0?void 0:bte(l.node(-1).contentMatchAt(l.indexAfter(-1)));let x=m&&y?[{type:y,attrs:p}]:void 0,b=Fa(e.doc,e.mapping.map(l.pos),1,x);if(!x&&!b&&Fa(e.doc,e.mapping.map(l.pos),1,y?[{type:y}]:void 0)&&(b=!0,x=y?[{type:y,attrs:p}]:void 0),r){if(b&&(i instanceof Vt&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,x),y&&!m&&!l.parentOffset&&l.parent.type!==y)){const S=e.mapping.map(l.before()),C=e.doc.resolve(S);l.node(-1).canReplaceWith(C.index(),C.index()+1,y)&&e.setNodeMarkup(e.mapping.map(l.before()),y)}t&&Dk(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return b},zte=(t,e={})=>({tr:n,state:r,dispatch:s,editor:i})=>{var a;const l=Br(t,r.schema),{$from:d,$to:f}=r.selection,p=r.selection.node;if(p&&p.isBlock||d.depth<2||!d.sameParent(f))return!1;const m=d.node(-1);if(m.type!==l)return!1;const y=i.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==l||d.index(-2)!==d.node(-2).childCount-1)return!1;if(s){let N=We.empty;const k=d.index(-1)?1:d.index(-2)?2:3;for(let F=d.depth-k;F>=d.depth-3;F-=1)N=We.from(d.node(F).copy(N));const D=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,M={...Fm(y,d.node().type.name,d.node().attrs),...e},E=((a=l.contentMatch.defaultType)===null||a===void 0?void 0:a.createAndFill(M))||void 0;N=N.append(We.from(l.createAndFill(null,E)||void 0));const A=d.before(d.depth-(k-1));n.replace(A,d.after(-D),new xt(N,4-k,0));let P=-1;n.doc.nodesBetween(A,n.doc.content.size,(F,ee)=>{if(P>-1)return!1;F.isTextblock&&F.content.size===0&&(P=ee+1)}),P>-1&&n.setSelection(Vt.near(n.doc.resolve(P))),n.scrollIntoView()}return!0}const x=f.pos===d.end()?m.contentMatchAt(0).defaultType:null,b={...Fm(y,m.type.name,m.attrs),...e},S={...Fm(y,d.node().type.name,d.node().attrs),...e};n.delete(d.pos,f.pos);const C=x?[{type:l,attrs:b},{type:x,attrs:S}]:[{type:l,attrs:b}];if(!Fa(n.doc,d.pos,2))return!1;if(s){const{selection:N,storedMarks:k}=r,{splittableMarks:D}=i.extensionManager,M=k||N.$to.parentOffset&&N.$from.marks();if(n.split(d.pos,2,C).scrollIntoView(),!M||!s)return!0;const E=M.filter(A=>D.includes(A.type.name));n.ensureMarks(E)}return!0},ab=(t,e)=>{const n=eS(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===s?.type&&el(t.doc,n.pos)&&t.join(n.pos),!0},ob=(t,e)=>{const n=eS(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===s?.type&&el(t.doc,r)&&t.join(r),!0},Ite=(t,e,n,r={})=>({editor:s,tr:i,state:a,dispatch:l,chain:d,commands:f,can:p})=>{const{extensions:m,splittableMarks:y}=s.extensionManager,x=Br(t,a.schema),b=Br(e,a.schema),{selection:S,storedMarks:C}=a,{$from:N,$to:k}=S,D=N.blockRange(k),M=C||S.$to.parentOffset&&S.$from.marks();if(!D)return!1;const E=eS(A=>Ok(A.type.name,m))(S);if(D.depth>=1&&E&&D.depth-E.depth<=1){if(E.node.type===x)return f.liftListItem(b);if(Ok(E.node.type.name,m)&&x.validContent(E.node.content)&&l)return d().command(()=>(i.setNodeMarkup(E.pos,x),!0)).command(()=>ab(i,x)).command(()=>ob(i,x)).run()}return!n||!M||!l?d().command(()=>p().wrapInList(x,r)?!0:f.clearNodes()).wrapInList(x,r).command(()=>ab(i,x)).command(()=>ob(i,x)).run():d().command(()=>{const A=p().wrapInList(x,r),P=M.filter(F=>y.includes(F.type.name));return i.ensureMarks(P),A?!0:f.clearNodes()}).wrapInList(x,r).command(()=>ab(i,x)).command(()=>ob(i,x)).run()},Bte=(t,e={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:i=!1}=n,a=nl(t,r.schema);return F1(r,a,e)?s.unsetMark(a,{extendEmptyMarkRange:i}):s.setMark(a,e)},Fte=(t,e,n={})=>({state:r,commands:s})=>{const i=Br(t,r.schema),a=Br(e,r.schema),l=sh(r,i,n);let d;return r.selection.$anchor.sameParent(r.selection.$head)&&(d=r.selection.$anchor.parent.attrs),l?s.setNode(a,d):s.setNode(i,{...d,...n})},$te=(t,e={})=>({state:n,commands:r})=>{const s=Br(t,n.schema);return sh(n,s,e)?r.lift(s):r.wrapIn(s,e)},Ute=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let i;if(s.spec.isInputRules&&(i=s.getState(t))){if(e){const a=t.tr,l=i.transform;for(let d=l.steps.length-1;d>=0;d-=1)a.step(l.steps[d].invert(l.docs[d]));if(i.text){const d=a.doc.resolve(i.from).marks();a.replaceWith(i.from,i.to,t.schema.text(i.text,d))}else a.delete(i.from,i.to)}return!0}}return!1},Vte=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:s}=n;return r||e&&s.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},Hte=(t,e={})=>({tr:n,state:r,dispatch:s})=>{var i;const{extendEmptyMarkRange:a=!1}=e,{selection:l}=n,d=nl(t,r.schema),{$from:f,empty:p,ranges:m}=l;if(!s)return!0;if(p&&a){let{from:y,to:x}=l;const b=(i=f.marks().find(C=>C.type===d))===null||i===void 0?void 0:i.attrs,S=J2(f,d,b);S&&(y=S.from,x=S.to),n.removeMark(y,x,d)}else m.forEach(y=>{n.removeMark(y.$from.pos,y.$to.pos,d)});return n.removeStoredMark(d),!0},qte=(t,e={})=>({tr:n,state:r,dispatch:s})=>{let i=null,a=null;const l=Vy(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(i=Br(t,r.schema)),l==="mark"&&(a=nl(t,r.schema)),s&&n.selection.ranges.forEach(d=>{const f=d.$from.pos,p=d.$to.pos;let m,y,x,b;n.selection.empty?r.doc.nodesBetween(f,p,(S,C)=>{i&&i===S.type&&(x=Math.max(C,f),b=Math.min(C+S.nodeSize,p),m=C,y=S)}):r.doc.nodesBetween(f,p,(S,C)=>{C<f&&i&&i===S.type&&(x=Math.max(C,f),b=Math.min(C+S.nodeSize,p),m=C,y=S),C>=f&&C<=p&&(i&&i===S.type&&n.setNodeMarkup(C,void 0,{...S.attrs,...e}),a&&S.marks.length&&S.marks.forEach(N=>{if(a===N.type){const k=Math.max(C,f),D=Math.min(C+S.nodeSize,p);n.addMark(k,D,a.create({...N.attrs,...e}))}}))}),y&&(m!==void 0&&n.setNodeMarkup(m,void 0,{...y.attrs,...e}),a&&y.marks.length&&y.marks.forEach(S=>{a===S.type&&n.addMark(x,b,a.create({...S.attrs,...e}))}))}),!0):!1},Kte=(t,e={})=>({state:n,dispatch:r})=>{const s=Br(t,n.schema);return iee(s,e)(n,r)},Yte=(t,e={})=>({state:n,dispatch:r})=>{const s=Br(t,n.schema);return aee(s,e)(n,r)};var Wte=Object.freeze({__proto__:null,blur:kee,clearContent:Oee,clearNodes:Dee,command:Mee,createParagraphNear:Ree,cut:_ee,deleteCurrentNode:Lee,deleteNode:Pee,deleteRange:zee,deleteSelection:Iee,enter:Bee,exitCode:Fee,extendMarkRange:$ee,first:Uee,focus:Hee,forEach:qee,insertContent:Kee,insertContentAt:Gee,joinBackward:Qee,joinDown:Jee,joinForward:Zee,joinItemBackward:ete,joinItemForward:tte,joinTextblockBackward:nte,joinTextblockForward:rte,joinUp:Xee,keyboardShortcut:ite,lift:ate,liftEmptyBlock:ote,liftListItem:lte,newlineInCode:cte,resetAttributes:ute,scrollIntoView:dte,selectAll:fte,selectNodeBackward:hte,selectNodeForward:pte,selectParentNode:mte,selectTextblockEnd:gte,selectTextblockStart:yte,setContent:xte,setMark:Ote,setMeta:Dte,setNode:Mte,setNodeSelection:Rte,setTextSelection:_te,sinkListItem:Lte,splitBlock:Pte,splitListItem:zte,toggleList:Ite,toggleMark:Bte,toggleNode:Fte,toggleWrap:$te,undoInputRule:Ute,unsetAllMarks:Vte,unsetMark:Hte,updateAttributes:qte,wrapIn:Kte,wrapInList:Yte});const Gte=Yr.create({name:"commands",addCommands(){return{...Wte}}}),Xte=Yr.create({name:"drop",addProseMirrorPlugins(){return[new Nr({key:new Wr("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),Jte=Yr.create({name:"editable",addProseMirrorPlugins(){return[new Nr({key:new Wr("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Qte=new Wr("focusEvents"),Zte=Yr.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Nr({key:Qte,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),ene=Yr.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:l})=>{const{selection:d,doc:f}=l,{empty:p,$anchor:m}=d,{pos:y,parent:x}=m,b=m.parent.isTextblock&&y>0?l.doc.resolve(y-1):m,S=b.parent.type.spec.isolating,C=m.pos-m.parentOffset,N=S&&b.parent.childCount===1?C===m.pos:Yt.atStart(f).from===y;return!p||!x.type.isTextblock||x.textContent.length||!N||N&&m.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},i={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Z2()||C6()?i:s},addProseMirrorPlugins(){return[new Nr({key:new Wr("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(S=>S.getMeta("composition")))return;const r=t.some(S=>S.docChanged)&&!e.doc.eq(n.doc),s=t.some(S=>S.getMeta("preventClearDocument"));if(!r||s)return;const{empty:i,from:a,to:l}=e.selection,d=Yt.atStart(e.doc).from,f=Yt.atEnd(e.doc).to;if(i||!(a===d&&l===f)||!nS(n.doc))return;const y=n.tr,x=Iy({state:n,transaction:y}),{commands:b}=new By({editor:this.editor,state:x});if(b.clearNodes(),!!y.steps.length)return y}})]}}),tne=Yr.create({name:"paste",addProseMirrorPlugins(){return[new Nr({key:new Wr("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),nne=Yr.create({name:"tabindex",addProseMirrorPlugins(){return[new Nr({key:new Wr("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Ol{get name(){return this.node.type.name}constructor(e,n,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=s}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Ol(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Ol(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Ol(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const s=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,a=this.pos+r+(i?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(a);if(!s&&l.depth<=this.depth)return;const d=new Ol(l,this.editor,s,s?n:null);s&&(d.actualDepth=this.depth+1),e.push(new Ol(l,this.editor,s,s?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===e)if(Object.keys(n).length>0){const i=s.node.attrs,a=Object.keys(n);for(let l=0;l<a.length;l+=1){const d=a[l];if(i[d]!==n[d])break}}else r=s;s=s.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const i=Object.keys(n);return this.children.forEach(a=>{r&&s.length>0||(a.node.type.name===e&&i.every(d=>n[d]===a.node.attrs[d])&&s.push(a),!(r&&s.length>0)&&(s=s.concat(a.querySelectorAll(e,n,r))))}),s}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const rne=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function sne(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}class ine extends hee{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:r,moved:s})=>this.options.onDrop(n,r,s)),this.on("paste",({event:n,slice:r})=>this.options.onPaste(n,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=sne(rne,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=y6(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],s=this.state.reconfigure({plugins:r});return this.view.updateState(s),s}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(e).forEach(i=>{const a=typeof i=="string"?`${i}$`:i.key;r=r.filter(l=>!l.key.startsWith(a))}),n.length===r.length)return;const s=this.state.reconfigure({plugins:r});return this.view.updateState(s),s}createExtensionManager(){var e,n;const s=[...this.options.enableCoreExtensions?[Jte,Aee.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),Gte,Zte,ene,nne,Xte,tne].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i?.type));this.extensionManager=new fu(s,this)}createCommandManager(){this.commandManager=new By({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let n;try{n=B1(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(a){if(!(a instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(a.message))throw a;this.emit("contentError",{editor:this,error:a,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(l=>l.name!=="collaboration"),this.createExtensionManager()}}),n=B1(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=w6(n,this.options.autofocus);this.view=new r6(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:du.create({doc:n,selection:r||void 0})});const s=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(s),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(a=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(a)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const s=e.getMeta("focus"),i=e.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:e}),i&&this.emit("blur",{editor:this,event:i.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return T6(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,s=typeof e=="string"?n:e;return Ete(this.state,r,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return G2(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return Ste(this.state.doc,{blockSeparator:n,textSerializers:{...v6(this.schema),...r}})}get isEmpty(){return nS(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new Ol(n,this)}get $doc(){return this.$pos(0)}}function Eu(t){return new $y({find:t.find,handler:({state:e,range:n,match:r})=>{const s=cn(t.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:i}=e,a=r[r.length-1],l=r[0];if(a){const d=l.search(/\S/),f=n.from+l.indexOf(a),p=f+a.length;if(tS(n.from,n.to,e.doc).filter(x=>x.mark.type.excluded.find(S=>S===t.type&&S!==x.mark.type)).filter(x=>x.to>f).length)return null;p<n.to&&i.delete(p,n.to),f>n.from&&i.delete(n.from+d,f);const y=n.from+d+a.length;i.addMark(n.from+d,y,t.type.create(s||{})),i.removeStoredMark(t.type)}}})}function A6(t){return new $y({find:t.find,handler:({state:e,range:n,match:r})=>{const s=cn(t.getAttributes,void 0,r)||{},{tr:i}=e,a=n.from;let l=n.to;const d=t.type.create(s);if(r[1]){const f=r[0].lastIndexOf(r[1]);let p=a+f;p>l?p=l:l=p+r[1].length;const m=r[0][r[0].length-1];i.insertText(m,a+r[0].length-1),i.replaceWith(p,l,d)}else if(r[0]){const f=t.type.isInline?a:a-1;i.insert(f,t.type.create(s)).delete(i.mapping.map(a),i.mapping.map(l))}i.scrollIntoView()}})}function $1(t){return new $y({find:t.find,handler:({state:e,range:n,match:r})=>{const s=e.doc.resolve(n.from),i=cn(t.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,i)}})}function ih(t){return new $y({find:t.find,handler:({state:e,range:n,match:r,chain:s})=>{const i=cn(t.getAttributes,void 0,r)||{},a=e.tr.delete(n.from,n.to),d=a.doc.resolve(n.from).blockRange(),f=d&&D2(d,t.type,i);if(!f)return null;if(a.wrap(d,f),t.keepMarks&&t.editor){const{selection:m,storedMarks:y}=e,{splittableMarks:x}=t.editor.extensionManager,b=y||m.$to.parentOffset&&m.$from.marks();if(b){const S=b.filter(C=>x.includes(C.type.name));a.ensureMarks(S)}}if(t.keepAttributes){const m=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(m,i).run()}const p=a.doc.resolve(n.from-1).nodeBefore;p&&p.type===t.type&&el(a.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,p))&&a.join(n.from-1)}})}class cr{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=cn(_t(this,"addOptions",{name:this.name}))),this.storage=cn(_t(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new cr(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Uy(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new cr(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=cn(_t(n,"addOptions",{name:n.name})),n.storage=cn(_t(n,"addStorage",{name:n.name,options:n.options})),n}}function oc(t){return new See({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:s})=>{const i=cn(t.getAttributes,void 0,r,s);if(i===!1||i===null)return null;const{tr:a}=e,l=r[r.length-1],d=r[0];let f=n.to;if(l){const p=d.search(/\S/),m=n.from+d.indexOf(l),y=m+l.length;if(tS(n.from,n.to,e.doc).filter(b=>b.mark.type.excluded.find(C=>C===t.type&&C!==b.mark.type)).filter(b=>b.to>m).length)return null;y<n.to&&a.delete(y,n.to),m>n.from&&a.delete(n.from+p,m),f=n.from+p+l.length,a.addMark(n.from+p,f,t.type.create(i||{})),a.removeStoredMark(t.type)}}})}function ane(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof Ut){const i=r.index();return r.parent.canReplaceWith(i,i+1,e)}let s=r.depth;for(;s>=0;){const i=r.index(s);if(r.node(s).contentMatchAt(i).matchType(e))return!0;s-=1}return!1}var As="top",gi="bottom",yi="right",ks="left",rS="auto",Mh=[As,gi,yi,ks],Au="start",ah="end",one="clippingParents",k6="viewport",Qd="popper",lne="reference",Mk=Mh.reduce(function(t,e){return t.concat([e+"-"+Au,e+"-"+ah])},[]),O6=[].concat(Mh,[rS]).reduce(function(t,e){return t.concat([e,e+"-"+Au,e+"-"+ah])},[]),cne="beforeRead",une="read",dne="afterRead",fne="beforeMain",hne="main",pne="afterMain",mne="beforeWrite",gne="write",yne="afterWrite",xne=[cne,une,dne,fne,hne,pne,mne,gne,yne];function oa(t){return t?(t.nodeName||"").toLowerCase():null}function Ks(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function lc(t){var e=Ks(t).Element;return t instanceof e||t instanceof Element}function pi(t){var e=Ks(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function sS(t){if(typeof ShadowRoot>"u")return!1;var e=Ks(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function vne(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},s=e.attributes[n]||{},i=e.elements[n];!pi(i)||!oa(i)||(Object.assign(i.style,r),Object.keys(s).forEach(function(a){var l=s[a];l===!1?i.removeAttribute(a):i.setAttribute(a,l===!0?"":l)}))})}function bne(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],i=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),l=a.reduce(function(d,f){return d[f]="",d},{});!pi(s)||!oa(s)||(Object.assign(s.style,l),Object.keys(i).forEach(function(d){s.removeAttribute(d)}))})}}const D6={name:"applyStyles",enabled:!0,phase:"write",fn:vne,effect:bne,requires:["computeStyles"]};function ta(t){return t.split("-")[0]}var Jl=Math.max,Tg=Math.min,ku=Math.round;function U1(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function M6(){return!/^((?!chrome|android).)*safari/i.test(U1())}function Ou(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),s=1,i=1;e&&pi(t)&&(s=t.offsetWidth>0&&ku(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&ku(r.height)/t.offsetHeight||1);var a=lc(t)?Ks(t):window,l=a.visualViewport,d=!M6()&&n,f=(r.left+(d&&l?l.offsetLeft:0))/s,p=(r.top+(d&&l?l.offsetTop:0))/i,m=r.width/s,y=r.height/i;return{width:m,height:y,top:p,right:f+m,bottom:p+y,left:f,x:f,y:p}}function iS(t){var e=Ou(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function R6(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&sS(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function qa(t){return Ks(t).getComputedStyle(t)}function wne(t){return["table","td","th"].indexOf(oa(t))>=0}function rl(t){return((lc(t)?t.ownerDocument:t.document)||window.document).documentElement}function Hy(t){return oa(t)==="html"?t:t.assignedSlot||t.parentNode||(sS(t)?t.host:null)||rl(t)}function Rk(t){return!pi(t)||qa(t).position==="fixed"?null:t.offsetParent}function Sne(t){var e=/firefox/i.test(U1()),n=/Trident/i.test(U1());if(n&&pi(t)){var r=qa(t);if(r.position==="fixed")return null}var s=Hy(t);for(sS(s)&&(s=s.host);pi(s)&&["html","body"].indexOf(oa(s))<0;){var i=qa(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function Rh(t){for(var e=Ks(t),n=Rk(t);n&&wne(n)&&qa(n).position==="static";)n=Rk(n);return n&&(oa(n)==="html"||oa(n)==="body"&&qa(n).position==="static")?e:n||Sne(t)||e}function aS(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Nf(t,e,n){return Jl(t,Tg(e,n))}function Cne(t,e,n){var r=Nf(t,e,n);return r>n?n:r}function _6(){return{top:0,right:0,bottom:0,left:0}}function L6(t){return Object.assign({},_6(),t)}function P6(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var Nne=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,L6(typeof e!="number"?e:P6(e,Mh))};function jne(t){var e,n=t.state,r=t.name,s=t.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,l=ta(n.placement),d=aS(l),f=[ks,yi].indexOf(l)>=0,p=f?"height":"width";if(!(!i||!a)){var m=Nne(s.padding,n),y=iS(i),x=d==="y"?As:ks,b=d==="y"?gi:yi,S=n.rects.reference[p]+n.rects.reference[d]-a[d]-n.rects.popper[p],C=a[d]-n.rects.reference[d],N=Rh(i),k=N?d==="y"?N.clientHeight||0:N.clientWidth||0:0,D=S/2-C/2,M=m[x],E=k-y[p]-m[b],A=k/2-y[p]/2+D,P=Nf(M,A,E),F=d;n.modifiersData[r]=(e={},e[F]=P,e.centerOffset=P-A,e)}}function Tne(t){var e=t.state,n=t.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||R6(e.elements.popper,s)&&(e.elements.arrow=s))}const Ene={name:"arrow",enabled:!0,phase:"main",fn:jne,effect:Tne,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Du(t){return t.split("-")[1]}var Ane={top:"auto",right:"auto",bottom:"auto",left:"auto"};function kne(t,e){var n=t.x,r=t.y,s=e.devicePixelRatio||1;return{x:ku(n*s)/s||0,y:ku(r*s)/s||0}}function _k(t){var e,n=t.popper,r=t.popperRect,s=t.placement,i=t.variation,a=t.offsets,l=t.position,d=t.gpuAcceleration,f=t.adaptive,p=t.roundOffsets,m=t.isFixed,y=a.x,x=y===void 0?0:y,b=a.y,S=b===void 0?0:b,C=typeof p=="function"?p({x,y:S}):{x,y:S};x=C.x,S=C.y;var N=a.hasOwnProperty("x"),k=a.hasOwnProperty("y"),D=ks,M=As,E=window;if(f){var A=Rh(n),P="clientHeight",F="clientWidth";if(A===Ks(n)&&(A=rl(n),qa(A).position!=="static"&&l==="absolute"&&(P="scrollHeight",F="scrollWidth")),A=A,s===As||(s===ks||s===yi)&&i===ah){M=gi;var ee=m&&A===E&&E.visualViewport?E.visualViewport.height:A[P];S-=ee-r.height,S*=d?1:-1}if(s===ks||(s===As||s===gi)&&i===ah){D=yi;var be=m&&A===E&&E.visualViewport?E.visualViewport.width:A[F];x-=be-r.width,x*=d?1:-1}}var ce=Object.assign({position:l},f&&Ane),ae=p===!0?kne({x,y:S},Ks(n)):{x,y:S};if(x=ae.x,S=ae.y,d){var te;return Object.assign({},ce,(te={},te[M]=k?"0":"",te[D]=N?"0":"",te.transform=(E.devicePixelRatio||1)<=1?"translate("+x+"px, "+S+"px)":"translate3d("+x+"px, "+S+"px, 0)",te))}return Object.assign({},ce,(e={},e[M]=k?S+"px":"",e[D]=N?x+"px":"",e.transform="",e))}function One(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,a=i===void 0?!0:i,l=n.roundOffsets,d=l===void 0?!0:l,f={placement:ta(e.placement),variation:Du(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,_k(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:d})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,_k(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Dne={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:One,data:{}};var um={passive:!0};function Mne(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,i=s===void 0?!0:s,a=r.resize,l=a===void 0?!0:a,d=Ks(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&f.forEach(function(p){p.addEventListener("scroll",n.update,um)}),l&&d.addEventListener("resize",n.update,um),function(){i&&f.forEach(function(p){p.removeEventListener("scroll",n.update,um)}),l&&d.removeEventListener("resize",n.update,um)}}const Rne={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Mne,data:{}};var _ne={left:"right",right:"left",bottom:"top",top:"bottom"};function $m(t){return t.replace(/left|right|bottom|top/g,function(e){return _ne[e]})}var Lne={start:"end",end:"start"};function Lk(t){return t.replace(/start|end/g,function(e){return Lne[e]})}function oS(t){var e=Ks(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function lS(t){return Ou(rl(t)).left+oS(t).scrollLeft}function Pne(t,e){var n=Ks(t),r=rl(t),s=n.visualViewport,i=r.clientWidth,a=r.clientHeight,l=0,d=0;if(s){i=s.width,a=s.height;var f=M6();(f||!f&&e==="fixed")&&(l=s.offsetLeft,d=s.offsetTop)}return{width:i,height:a,x:l+lS(t),y:d}}function zne(t){var e,n=rl(t),r=oS(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=Jl(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),a=Jl(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),l=-r.scrollLeft+lS(t),d=-r.scrollTop;return qa(s||n).direction==="rtl"&&(l+=Jl(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:a,x:l,y:d}}function cS(t){var e=qa(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function z6(t){return["html","body","#document"].indexOf(oa(t))>=0?t.ownerDocument.body:pi(t)&&cS(t)?t:z6(Hy(t))}function jf(t,e){var n;e===void 0&&(e=[]);var r=z6(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=Ks(r),a=s?[i].concat(i.visualViewport||[],cS(r)?r:[]):r,l=e.concat(a);return s?l:l.concat(jf(Hy(a)))}function V1(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Ine(t,e){var n=Ou(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Pk(t,e,n){return e===k6?V1(Pne(t,n)):lc(e)?Ine(e,n):V1(zne(rl(t)))}function Bne(t){var e=jf(Hy(t)),n=["absolute","fixed"].indexOf(qa(t).position)>=0,r=n&&pi(t)?Rh(t):t;return lc(r)?e.filter(function(s){return lc(s)&&R6(s,r)&&oa(s)!=="body"}):[]}function Fne(t,e,n,r){var s=e==="clippingParents"?Bne(t):[].concat(e),i=[].concat(s,[n]),a=i[0],l=i.reduce(function(d,f){var p=Pk(t,f,r);return d.top=Jl(p.top,d.top),d.right=Tg(p.right,d.right),d.bottom=Tg(p.bottom,d.bottom),d.left=Jl(p.left,d.left),d},Pk(t,a,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function I6(t){var e=t.reference,n=t.element,r=t.placement,s=r?ta(r):null,i=r?Du(r):null,a=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,d;switch(s){case As:d={x:a,y:e.y-n.height};break;case gi:d={x:a,y:e.y+e.height};break;case yi:d={x:e.x+e.width,y:l};break;case ks:d={x:e.x-n.width,y:l};break;default:d={x:e.x,y:e.y}}var f=s?aS(s):null;if(f!=null){var p=f==="y"?"height":"width";switch(i){case Au:d[f]=d[f]-(e[p]/2-n[p]/2);break;case ah:d[f]=d[f]+(e[p]/2-n[p]/2);break}}return d}function oh(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?t.placement:r,i=n.strategy,a=i===void 0?t.strategy:i,l=n.boundary,d=l===void 0?one:l,f=n.rootBoundary,p=f===void 0?k6:f,m=n.elementContext,y=m===void 0?Qd:m,x=n.altBoundary,b=x===void 0?!1:x,S=n.padding,C=S===void 0?0:S,N=L6(typeof C!="number"?C:P6(C,Mh)),k=y===Qd?lne:Qd,D=t.rects.popper,M=t.elements[b?k:y],E=Fne(lc(M)?M:M.contextElement||rl(t.elements.popper),d,p,a),A=Ou(t.elements.reference),P=I6({reference:A,element:D,placement:s}),F=V1(Object.assign({},D,P)),ee=y===Qd?F:A,be={top:E.top-ee.top+N.top,bottom:ee.bottom-E.bottom+N.bottom,left:E.left-ee.left+N.left,right:ee.right-E.right+N.right},ce=t.modifiersData.offset;if(y===Qd&&ce){var ae=ce[s];Object.keys(be).forEach(function(te){var ke=[yi,gi].indexOf(te)>=0?1:-1,ze=[As,gi].indexOf(te)>=0?"y":"x";be[te]+=ae[ze]*ke})}return be}function $ne(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,i=n.rootBoundary,a=n.padding,l=n.flipVariations,d=n.allowedAutoPlacements,f=d===void 0?O6:d,p=Du(r),m=p?l?Mk:Mk.filter(function(b){return Du(b)===p}):Mh,y=m.filter(function(b){return f.indexOf(b)>=0});y.length===0&&(y=m);var x=y.reduce(function(b,S){return b[S]=oh(t,{placement:S,boundary:s,rootBoundary:i,padding:a})[ta(S)],b},{});return Object.keys(x).sort(function(b,S){return x[b]-x[S]})}function Une(t){if(ta(t)===rS)return[];var e=$m(t);return[Lk(t),e,Lk(e)]}function Vne(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,a=n.altAxis,l=a===void 0?!0:a,d=n.fallbackPlacements,f=n.padding,p=n.boundary,m=n.rootBoundary,y=n.altBoundary,x=n.flipVariations,b=x===void 0?!0:x,S=n.allowedAutoPlacements,C=e.options.placement,N=ta(C),k=N===C,D=d||(k||!b?[$m(C)]:Une(C)),M=[C].concat(D).reduce(function(Ee,Pe){return Ee.concat(ta(Pe)===rS?$ne(e,{placement:Pe,boundary:p,rootBoundary:m,padding:f,flipVariations:b,allowedAutoPlacements:S}):Pe)},[]),E=e.rects.reference,A=e.rects.popper,P=new Map,F=!0,ee=M[0],be=0;be<M.length;be++){var ce=M[be],ae=ta(ce),te=Du(ce)===Au,ke=[As,gi].indexOf(ae)>=0,ze=ke?"width":"height",W=oh(e,{placement:ce,boundary:p,rootBoundary:m,altBoundary:y,padding:f}),oe=ke?te?yi:ks:te?gi:As;E[ze]>A[ze]&&(oe=$m(oe));var ye=$m(oe),Fe=[];if(i&&Fe.push(W[ae]<=0),l&&Fe.push(W[oe]<=0,W[ye]<=0),Fe.every(function(Ee){return Ee})){ee=ce,F=!1;break}P.set(ce,Fe)}if(F)for(var U=b?3:1,ue=function(Pe){var Oe=M.find(function(Ye){var Me=P.get(Ye);if(Me)return Me.slice(0,Pe).every(function(ut){return ut})});if(Oe)return ee=Oe,"break"},se=U;se>0;se--){var fe=ue(se);if(fe==="break")break}e.placement!==ee&&(e.modifiersData[r]._skip=!0,e.placement=ee,e.reset=!0)}}const Hne={name:"flip",enabled:!0,phase:"main",fn:Vne,requiresIfExists:["offset"],data:{_skip:!1}};function zk(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Ik(t){return[As,yi,gi,ks].some(function(e){return t[e]>=0})}function qne(t){var e=t.state,n=t.name,r=e.rects.reference,s=e.rects.popper,i=e.modifiersData.preventOverflow,a=oh(e,{elementContext:"reference"}),l=oh(e,{altBoundary:!0}),d=zk(a,r),f=zk(l,s,i),p=Ik(d),m=Ik(f);e.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:f,isReferenceHidden:p,hasPopperEscaped:m},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":m})}const Kne={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:qne};function Yne(t,e,n){var r=ta(t),s=[ks,As].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=i[0],l=i[1];return a=a||0,l=(l||0)*s,[ks,yi].indexOf(r)>=0?{x:l,y:a}:{x:a,y:l}}function Wne(t){var e=t.state,n=t.options,r=t.name,s=n.offset,i=s===void 0?[0,0]:s,a=O6.reduce(function(p,m){return p[m]=Yne(m,e.rects,i),p},{}),l=a[e.placement],d=l.x,f=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=f),e.modifiersData[r]=a}const Gne={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Wne};function Xne(t){var e=t.state,n=t.name;e.modifiersData[n]=I6({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Jne={name:"popperOffsets",enabled:!0,phase:"read",fn:Xne,data:{}};function Qne(t){return t==="x"?"y":"x"}function Zne(t){var e=t.state,n=t.options,r=t.name,s=n.mainAxis,i=s===void 0?!0:s,a=n.altAxis,l=a===void 0?!1:a,d=n.boundary,f=n.rootBoundary,p=n.altBoundary,m=n.padding,y=n.tether,x=y===void 0?!0:y,b=n.tetherOffset,S=b===void 0?0:b,C=oh(e,{boundary:d,rootBoundary:f,padding:m,altBoundary:p}),N=ta(e.placement),k=Du(e.placement),D=!k,M=aS(N),E=Qne(M),A=e.modifiersData.popperOffsets,P=e.rects.reference,F=e.rects.popper,ee=typeof S=="function"?S(Object.assign({},e.rects,{placement:e.placement})):S,be=typeof ee=="number"?{mainAxis:ee,altAxis:ee}:Object.assign({mainAxis:0,altAxis:0},ee),ce=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ae={x:0,y:0};if(A){if(i){var te,ke=M==="y"?As:ks,ze=M==="y"?gi:yi,W=M==="y"?"height":"width",oe=A[M],ye=oe+C[ke],Fe=oe-C[ze],U=x?-F[W]/2:0,ue=k===Au?P[W]:F[W],se=k===Au?-F[W]:-P[W],fe=e.elements.arrow,Ee=x&&fe?iS(fe):{width:0,height:0},Pe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:_6(),Oe=Pe[ke],Ye=Pe[ze],Me=Nf(0,P[W],Ee[W]),ut=D?P[W]/2-U-Me-Oe-be.mainAxis:ue-Me-Oe-be.mainAxis,Ze=D?-P[W]/2+U+Me+Ye+be.mainAxis:se+Me+Ye+be.mainAxis,St=e.elements.arrow&&Rh(e.elements.arrow),Nt=St?M==="y"?St.clientTop||0:St.clientLeft||0:0,Ft=(te=ce?.[M])!=null?te:0,nt=oe+ut-Ft-Nt,Z=oe+Ze-Ft,Ve=Nf(x?Tg(ye,nt):ye,oe,x?Jl(Fe,Z):Fe);A[M]=Ve,ae[M]=Ve-oe}if(l){var qe,at=M==="x"?As:ks,bt=M==="x"?gi:yi,$=A[E],re=E==="y"?"height":"width",B=$+C[at],de=$-C[bt],xe=[As,ks].indexOf(N)!==-1,H=(qe=ce?.[E])!=null?qe:0,V=xe?B:$-P[re]-F[re]-H+be.altAxis,we=xe?$+P[re]+F[re]-H-be.altAxis:de,et=x&&xe?Cne(V,$,we):Nf(x?V:B,$,x?we:de);A[E]=et,ae[E]=et-$}e.modifiersData[r]=ae}}const ere={name:"preventOverflow",enabled:!0,phase:"main",fn:Zne,requiresIfExists:["offset"]};function tre(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function nre(t){return t===Ks(t)||!pi(t)?oS(t):tre(t)}function rre(t){var e=t.getBoundingClientRect(),n=ku(e.width)/t.offsetWidth||1,r=ku(e.height)/t.offsetHeight||1;return n!==1||r!==1}function sre(t,e,n){n===void 0&&(n=!1);var r=pi(e),s=pi(e)&&rre(e),i=rl(e),a=Ou(t,s,n),l={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!n)&&((oa(e)!=="body"||cS(i))&&(l=nre(e)),pi(e)?(d=Ou(e,!0),d.x+=e.clientLeft,d.y+=e.clientTop):i&&(d.x=lS(i))),{x:a.left+l.scrollLeft-d.x,y:a.top+l.scrollTop-d.y,width:a.width,height:a.height}}function ire(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function s(i){n.add(i.name);var a=[].concat(i.requires||[],i.requiresIfExists||[]);a.forEach(function(l){if(!n.has(l)){var d=e.get(l);d&&s(d)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||s(i)}),r}function are(t){var e=ire(t);return xne.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function ore(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function lre(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Bk={placement:"bottom",modifiers:[],strategy:"absolute"};function Fk(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function cre(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,i=s===void 0?Bk:s;return function(l,d,f){f===void 0&&(f=i);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},Bk,i),modifiersData:{},elements:{reference:l,popper:d},attributes:{},styles:{}},m=[],y=!1,x={state:p,setOptions:function(N){var k=typeof N=="function"?N(p.options):N;S(),p.options=Object.assign({},i,p.options,k),p.scrollParents={reference:lc(l)?jf(l):l.contextElement?jf(l.contextElement):[],popper:jf(d)};var D=are(lre([].concat(r,p.options.modifiers)));return p.orderedModifiers=D.filter(function(M){return M.enabled}),b(),x.update()},forceUpdate:function(){if(!y){var N=p.elements,k=N.reference,D=N.popper;if(Fk(k,D)){p.rects={reference:sre(k,Rh(D),p.options.strategy==="fixed"),popper:iS(D)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(be){return p.modifiersData[be.name]=Object.assign({},be.data)});for(var M=0;M<p.orderedModifiers.length;M++){if(p.reset===!0){p.reset=!1,M=-1;continue}var E=p.orderedModifiers[M],A=E.fn,P=E.options,F=P===void 0?{}:P,ee=E.name;typeof A=="function"&&(p=A({state:p,options:F,name:ee,instance:x})||p)}}}},update:ore(function(){return new Promise(function(C){x.forceUpdate(),C(p)})}),destroy:function(){S(),y=!0}};if(!Fk(l,d))return x;x.setOptions(f).then(function(C){!y&&f.onFirstUpdate&&f.onFirstUpdate(C)});function b(){p.orderedModifiers.forEach(function(C){var N=C.name,k=C.options,D=k===void 0?{}:k,M=C.effect;if(typeof M=="function"){var E=M({state:p,name:N,instance:x,options:D}),A=function(){};m.push(E||A)}})}function S(){m.forEach(function(C){return C()}),m=[]}return x}}var ure=[Rne,Jne,Dne,D6,Gne,Hne,ere,Ene,Kne],dre=cre({defaultModifiers:ure}),fre="tippy-box",B6="tippy-content",hre="tippy-backdrop",F6="tippy-arrow",$6="tippy-svg-arrow",El={passive:!0,capture:!0},U6=function(){return document.body};function lb(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function uS(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function V6(t,e){return typeof t=="function"?t.apply(void 0,e):t}function $k(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function pre(t){return t.split(/\s+/).filter(Boolean)}function ru(t){return[].concat(t)}function Uk(t,e){t.indexOf(e)===-1&&t.push(e)}function mre(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function gre(t){return t.split("-")[0]}function Eg(t){return[].slice.call(t)}function Vk(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Tf(){return document.createElement("div")}function qy(t){return["Element","Fragment"].some(function(e){return uS(t,e)})}function yre(t){return uS(t,"NodeList")}function xre(t){return uS(t,"MouseEvent")}function vre(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function bre(t){return qy(t)?[t]:yre(t)?Eg(t):Array.isArray(t)?t:Eg(document.querySelectorAll(t))}function cb(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function Hk(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function wre(t){var e,n=ru(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function Sre(t,e){var n=e.clientX,r=e.clientY;return t.every(function(s){var i=s.popperRect,a=s.popperState,l=s.props,d=l.interactiveBorder,f=gre(a.placement),p=a.modifiersData.offset;if(!p)return!0;var m=f==="bottom"?p.top.y:0,y=f==="top"?p.bottom.y:0,x=f==="right"?p.left.x:0,b=f==="left"?p.right.x:0,S=i.top-r+m>d,C=r-i.bottom-y>d,N=i.left-n+x>d,k=n-i.right-b>d;return S||C||N||k})}function ub(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(s){t[r](s,n)})}function qk(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Wi={isTouch:!1},Kk=0;function Cre(){Wi.isTouch||(Wi.isTouch=!0,window.performance&&document.addEventListener("mousemove",H6))}function H6(){var t=performance.now();t-Kk<20&&(Wi.isTouch=!1,document.removeEventListener("mousemove",H6)),Kk=t}function Nre(){var t=document.activeElement;if(vre(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function jre(){document.addEventListener("touchstart",Cre,El),window.addEventListener("blur",Nre)}var Tre=typeof window<"u"&&typeof document<"u",Ere=Tre?!!window.msCrypto:!1,Are={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},kre={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Ai=Object.assign({appendTo:U6,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Are,kre),Ore=Object.keys(Ai),Dre=function(e){var n=Object.keys(e);n.forEach(function(r){Ai[r]=e[r]})};function q6(t){var e=t.plugins||[],n=e.reduce(function(r,s){var i=s.name,a=s.defaultValue;if(i){var l;r[i]=t[i]!==void 0?t[i]:(l=Ai[i])!=null?l:a}return r},{});return Object.assign({},t,n)}function Mre(t,e){var n=e?Object.keys(q6(Object.assign({},Ai,{plugins:e}))):Ore,r=n.reduce(function(s,i){var a=(t.getAttribute("data-tippy-"+i)||"").trim();if(!a)return s;if(i==="content")s[i]=a;else try{s[i]=JSON.parse(a)}catch{s[i]=a}return s},{});return r}function Yk(t,e){var n=Object.assign({},e,{content:V6(e.content,[t])},e.ignoreAttributes?{}:Mre(t,e.plugins));return n.aria=Object.assign({},Ai.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var Rre=function(){return"innerHTML"};function H1(t,e){t[Rre()]=e}function Wk(t){var e=Tf();return t===!0?e.className=F6:(e.className=$6,qy(t)?e.appendChild(t):H1(e,t)),e}function Gk(t,e){qy(e.content)?(H1(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?H1(t,e.content):t.textContent=e.content)}function q1(t){var e=t.firstElementChild,n=Eg(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(B6)}),arrow:n.find(function(r){return r.classList.contains(F6)||r.classList.contains($6)}),backdrop:n.find(function(r){return r.classList.contains(hre)})}}function K6(t){var e=Tf(),n=Tf();n.className=fre,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Tf();r.className=B6,r.setAttribute("data-state","hidden"),Gk(r,t.props),e.appendChild(n),n.appendChild(r),s(t.props,t.props);function s(i,a){var l=q1(e),d=l.box,f=l.content,p=l.arrow;a.theme?d.setAttribute("data-theme",a.theme):d.removeAttribute("data-theme"),typeof a.animation=="string"?d.setAttribute("data-animation",a.animation):d.removeAttribute("data-animation"),a.inertia?d.setAttribute("data-inertia",""):d.removeAttribute("data-inertia"),d.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?d.setAttribute("role",a.role):d.removeAttribute("role"),(i.content!==a.content||i.allowHTML!==a.allowHTML)&&Gk(f,t.props),a.arrow?p?i.arrow!==a.arrow&&(d.removeChild(p),d.appendChild(Wk(a.arrow))):d.appendChild(Wk(a.arrow)):p&&d.removeChild(p)}return{popper:e,onUpdate:s}}K6.$$tippy=!0;var _re=1,dm=[],db=[];function Lre(t,e){var n=Yk(t,Object.assign({},Ai,q6(Vk(e)))),r,s,i,a=!1,l=!1,d=!1,f=!1,p,m,y,x=[],b=$k(nt,n.interactiveDebounce),S,C=_re++,N=null,k=mre(n.plugins),D={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},M={id:C,reference:t,popper:Tf(),popperInstance:N,props:n,state:D,plugins:k,clearDelayTimeouts:V,setProps:we,setContent:et,show:ht,hide:Jt,hideWithInteractivity:Pt,enable:xe,disable:H,unmount:an,destroy:Qt};if(!n.render)return M;var E=n.render(M),A=E.popper,P=E.onUpdate;A.setAttribute("data-tippy-root",""),A.id="tippy-"+M.id,M.popper=A,t._tippy=M,A._tippy=M;var F=k.map(function(Ne){return Ne.fn(M)}),ee=t.hasAttribute("aria-expanded");return St(),U(),oe(),ye("onCreate",[M]),n.showOnCreate&&B(),A.addEventListener("mouseenter",function(){M.props.interactive&&M.state.isVisible&&M.clearDelayTimeouts()}),A.addEventListener("mouseleave",function(){M.props.interactive&&M.props.trigger.indexOf("mouseenter")>=0&&ke().addEventListener("mousemove",b)}),M;function be(){var Ne=M.props.touch;return Array.isArray(Ne)?Ne:[Ne,0]}function ce(){return be()[0]==="hold"}function ae(){var Ne;return!!((Ne=M.props.render)!=null&&Ne.$$tippy)}function te(){return S||t}function ke(){var Ne=te().parentNode;return Ne?wre(Ne):document}function ze(){return q1(A)}function W(Ne){return M.state.isMounted&&!M.state.isVisible||Wi.isTouch||p&&p.type==="focus"?0:lb(M.props.delay,Ne?0:1,Ai.delay)}function oe(Ne){Ne===void 0&&(Ne=!1),A.style.pointerEvents=M.props.interactive&&!Ne?"":"none",A.style.zIndex=""+M.props.zIndex}function ye(Ne,ot,pt){if(pt===void 0&&(pt=!0),F.forEach(function(mt){mt[Ne]&&mt[Ne].apply(mt,ot)}),pt){var pe;(pe=M.props)[Ne].apply(pe,ot)}}function Fe(){var Ne=M.props.aria;if(Ne.content){var ot="aria-"+Ne.content,pt=A.id,pe=ru(M.props.triggerTarget||t);pe.forEach(function(mt){var Lt=mt.getAttribute(ot);if(M.state.isVisible)mt.setAttribute(ot,Lt?Lt+" "+pt:pt);else{var rt=Lt&&Lt.replace(pt,"").trim();rt?mt.setAttribute(ot,rt):mt.removeAttribute(ot)}})}}function U(){if(!(ee||!M.props.aria.expanded)){var Ne=ru(M.props.triggerTarget||t);Ne.forEach(function(ot){M.props.interactive?ot.setAttribute("aria-expanded",M.state.isVisible&&ot===te()?"true":"false"):ot.removeAttribute("aria-expanded")})}}function ue(){ke().removeEventListener("mousemove",b),dm=dm.filter(function(Ne){return Ne!==b})}function se(Ne){if(!(Wi.isTouch&&(d||Ne.type==="mousedown"))){var ot=Ne.composedPath&&Ne.composedPath()[0]||Ne.target;if(!(M.props.interactive&&qk(A,ot))){if(ru(M.props.triggerTarget||t).some(function(pt){return qk(pt,ot)})){if(Wi.isTouch||M.state.isVisible&&M.props.trigger.indexOf("click")>=0)return}else ye("onClickOutside",[M,Ne]);M.props.hideOnClick===!0&&(M.clearDelayTimeouts(),M.hide(),l=!0,setTimeout(function(){l=!1}),M.state.isMounted||Oe())}}}function fe(){d=!0}function Ee(){d=!1}function Pe(){var Ne=ke();Ne.addEventListener("mousedown",se,!0),Ne.addEventListener("touchend",se,El),Ne.addEventListener("touchstart",Ee,El),Ne.addEventListener("touchmove",fe,El)}function Oe(){var Ne=ke();Ne.removeEventListener("mousedown",se,!0),Ne.removeEventListener("touchend",se,El),Ne.removeEventListener("touchstart",Ee,El),Ne.removeEventListener("touchmove",fe,El)}function Ye(Ne,ot){ut(Ne,function(){!M.state.isVisible&&A.parentNode&&A.parentNode.contains(A)&&ot()})}function Me(Ne,ot){ut(Ne,ot)}function ut(Ne,ot){var pt=ze().box;function pe(mt){mt.target===pt&&(ub(pt,"remove",pe),ot())}if(Ne===0)return ot();ub(pt,"remove",m),ub(pt,"add",pe),m=pe}function Ze(Ne,ot,pt){pt===void 0&&(pt=!1);var pe=ru(M.props.triggerTarget||t);pe.forEach(function(mt){mt.addEventListener(Ne,ot,pt),x.push({node:mt,eventType:Ne,handler:ot,options:pt})})}function St(){ce()&&(Ze("touchstart",Ft,{passive:!0}),Ze("touchend",Z,{passive:!0})),pre(M.props.trigger).forEach(function(Ne){if(Ne!=="manual")switch(Ze(Ne,Ft),Ne){case"mouseenter":Ze("mouseleave",Z);break;case"focus":Ze(Ere?"focusout":"blur",Ve);break;case"focusin":Ze("focusout",Ve);break}})}function Nt(){x.forEach(function(Ne){var ot=Ne.node,pt=Ne.eventType,pe=Ne.handler,mt=Ne.options;ot.removeEventListener(pt,pe,mt)}),x=[]}function Ft(Ne){var ot,pt=!1;if(!(!M.state.isEnabled||qe(Ne)||l)){var pe=((ot=p)==null?void 0:ot.type)==="focus";p=Ne,S=Ne.currentTarget,U(),!M.state.isVisible&&xre(Ne)&&dm.forEach(function(mt){return mt(Ne)}),Ne.type==="click"&&(M.props.trigger.indexOf("mouseenter")<0||a)&&M.props.hideOnClick!==!1&&M.state.isVisible?pt=!0:B(Ne),Ne.type==="click"&&(a=!pt),pt&&!pe&&de(Ne)}}function nt(Ne){var ot=Ne.target,pt=te().contains(ot)||A.contains(ot);if(!(Ne.type==="mousemove"&&pt)){var pe=re().concat(A).map(function(mt){var Lt,rt=mt._tippy,Te=(Lt=rt.popperInstance)==null?void 0:Lt.state;return Te?{popperRect:mt.getBoundingClientRect(),popperState:Te,props:n}:null}).filter(Boolean);Sre(pe,Ne)&&(ue(),de(Ne))}}function Z(Ne){var ot=qe(Ne)||M.props.trigger.indexOf("click")>=0&&a;if(!ot){if(M.props.interactive){M.hideWithInteractivity(Ne);return}de(Ne)}}function Ve(Ne){M.props.trigger.indexOf("focusin")<0&&Ne.target!==te()||M.props.interactive&&Ne.relatedTarget&&A.contains(Ne.relatedTarget)||de(Ne)}function qe(Ne){return Wi.isTouch?ce()!==Ne.type.indexOf("touch")>=0:!1}function at(){bt();var Ne=M.props,ot=Ne.popperOptions,pt=Ne.placement,pe=Ne.offset,mt=Ne.getReferenceClientRect,Lt=Ne.moveTransition,rt=ae()?q1(A).arrow:null,Te=mt?{getBoundingClientRect:mt,contextElement:mt.contextElement||te()}:t,lt={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(kt){var en=kt.state;if(ae()){var Nn=ze(),Q=Nn.box;["placement","reference-hidden","escaped"].forEach(function(me){me==="placement"?Q.setAttribute("data-placement",en.placement):en.attributes.popper["data-popper-"+me]?Q.setAttribute("data-"+me,""):Q.removeAttribute("data-"+me)}),en.attributes.popper={}}}},jt=[{name:"offset",options:{offset:pe}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Lt}},lt];ae()&&rt&&jt.push({name:"arrow",options:{element:rt,padding:3}}),jt.push.apply(jt,ot?.modifiers||[]),M.popperInstance=dre(Te,A,Object.assign({},ot,{placement:pt,onFirstUpdate:y,modifiers:jt}))}function bt(){M.popperInstance&&(M.popperInstance.destroy(),M.popperInstance=null)}function $(){var Ne=M.props.appendTo,ot,pt=te();M.props.interactive&&Ne===U6||Ne==="parent"?ot=pt.parentNode:ot=V6(Ne,[pt]),ot.contains(A)||ot.appendChild(A),M.state.isMounted=!0,at()}function re(){return Eg(A.querySelectorAll("[data-tippy-root]"))}function B(Ne){M.clearDelayTimeouts(),Ne&&ye("onTrigger",[M,Ne]),Pe();var ot=W(!0),pt=be(),pe=pt[0],mt=pt[1];Wi.isTouch&&pe==="hold"&&mt&&(ot=mt),ot?r=setTimeout(function(){M.show()},ot):M.show()}function de(Ne){if(M.clearDelayTimeouts(),ye("onUntrigger",[M,Ne]),!M.state.isVisible){Oe();return}if(!(M.props.trigger.indexOf("mouseenter")>=0&&M.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(Ne.type)>=0&&a)){var ot=W(!1);ot?s=setTimeout(function(){M.state.isVisible&&M.hide()},ot):i=requestAnimationFrame(function(){M.hide()})}}function xe(){M.state.isEnabled=!0}function H(){M.hide(),M.state.isEnabled=!1}function V(){clearTimeout(r),clearTimeout(s),cancelAnimationFrame(i)}function we(Ne){if(!M.state.isDestroyed){ye("onBeforeUpdate",[M,Ne]),Nt();var ot=M.props,pt=Yk(t,Object.assign({},ot,Vk(Ne),{ignoreAttributes:!0}));M.props=pt,St(),ot.interactiveDebounce!==pt.interactiveDebounce&&(ue(),b=$k(nt,pt.interactiveDebounce)),ot.triggerTarget&&!pt.triggerTarget?ru(ot.triggerTarget).forEach(function(pe){pe.removeAttribute("aria-expanded")}):pt.triggerTarget&&t.removeAttribute("aria-expanded"),U(),oe(),P&&P(ot,pt),M.popperInstance&&(at(),re().forEach(function(pe){requestAnimationFrame(pe._tippy.popperInstance.forceUpdate)})),ye("onAfterUpdate",[M,Ne])}}function et(Ne){M.setProps({content:Ne})}function ht(){var Ne=M.state.isVisible,ot=M.state.isDestroyed,pt=!M.state.isEnabled,pe=Wi.isTouch&&!M.props.touch,mt=lb(M.props.duration,0,Ai.duration);if(!(Ne||ot||pt||pe)&&!te().hasAttribute("disabled")&&(ye("onShow",[M],!1),M.props.onShow(M)!==!1)){if(M.state.isVisible=!0,ae()&&(A.style.visibility="visible"),oe(),Pe(),M.state.isMounted||(A.style.transition="none"),ae()){var Lt=ze(),rt=Lt.box,Te=Lt.content;cb([rt,Te],0)}y=function(){var jt;if(!(!M.state.isVisible||f)){if(f=!0,A.offsetHeight,A.style.transition=M.props.moveTransition,ae()&&M.props.animation){var Et=ze(),kt=Et.box,en=Et.content;cb([kt,en],mt),Hk([kt,en],"visible")}Fe(),U(),Uk(db,M),(jt=M.popperInstance)==null||jt.forceUpdate(),ye("onMount",[M]),M.props.animation&&ae()&&Me(mt,function(){M.state.isShown=!0,ye("onShown",[M])})}},$()}}function Jt(){var Ne=!M.state.isVisible,ot=M.state.isDestroyed,pt=!M.state.isEnabled,pe=lb(M.props.duration,1,Ai.duration);if(!(Ne||ot||pt)&&(ye("onHide",[M],!1),M.props.onHide(M)!==!1)){if(M.state.isVisible=!1,M.state.isShown=!1,f=!1,a=!1,ae()&&(A.style.visibility="hidden"),ue(),Oe(),oe(!0),ae()){var mt=ze(),Lt=mt.box,rt=mt.content;M.props.animation&&(cb([Lt,rt],pe),Hk([Lt,rt],"hidden"))}Fe(),U(),M.props.animation?ae()&&Ye(pe,M.unmount):M.unmount()}}function Pt(Ne){ke().addEventListener("mousemove",b),Uk(dm,b),b(Ne)}function an(){M.state.isVisible&&M.hide(),M.state.isMounted&&(bt(),re().forEach(function(Ne){Ne._tippy.unmount()}),A.parentNode&&A.parentNode.removeChild(A),db=db.filter(function(Ne){return Ne!==M}),M.state.isMounted=!1,ye("onHidden",[M]))}function Qt(){M.state.isDestroyed||(M.clearDelayTimeouts(),M.unmount(),Nt(),delete t._tippy,M.state.isDestroyed=!0,ye("onDestroy",[M]))}}function _h(t,e){e===void 0&&(e={});var n=Ai.plugins.concat(e.plugins||[]);jre();var r=Object.assign({},e,{plugins:n}),s=bre(t),i=s.reduce(function(a,l){var d=l&&Lre(l,r);return d&&a.push(d),a},[]);return qy(t)?i[0]:i}_h.defaultProps=Ai;_h.setDefaultProps=Dre;_h.currentInput=Wi;Object.assign({},D6,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});_h.setDefaultProps({render:K6});class Pre{constructor({editor:e,element:n,view:r,tippyOptions:s={},updateDelay:i=250,shouldShow:a}){this.preventHide=!1,this.shouldShow=({view:l,state:d,from:f,to:p})=>{const{doc:m,selection:y}=d,{empty:x}=y,b=!m.textBetween(f,p).length&&Q2(d.selection),S=this.element.contains(document.activeElement);return!(!(l.hasFocus()||S)||x||b||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:l})=>{var d;if(this.preventHide){this.preventHide=!1;return}l?.relatedTarget&&(!((d=this.element.parentNode)===null||d===void 0)&&d.contains(l.relatedTarget))||l?.relatedTarget!==this.editor.view.dom&&this.hide()},this.tippyBlurHandler=l=>{this.blurHandler({event:l})},this.handleDebouncedUpdate=(l,d)=>{const f=!d?.selection.eq(l.state.selection),p=!d?.doc.eq(l.state.doc);!f&&!p||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(l,f,p,d)},this.updateDelay))},this.updateHandler=(l,d,f,p)=>{var m,y,x;const{state:b,composing:S}=l,{selection:C}=b;if(S||!d&&!f)return;this.createTooltip();const{ranges:k}=C,D=Math.min(...k.map(A=>A.$from.pos)),M=Math.max(...k.map(A=>A.$to.pos));if(!((m=this.shouldShow)===null||m===void 0?void 0:m.call(this,{editor:this.editor,element:this.element,view:l,state:b,oldState:p,from:D,to:M}))){this.hide();return}(y=this.tippy)===null||y===void 0||y.setProps({getReferenceClientRect:((x=this.tippyOptions)===null||x===void 0?void 0:x.getReferenceClientRect)||(()=>{if(E6(b.selection)){let A=l.nodeDOM(D);if(A){const P=A.dataset.nodeViewWrapper?A:A.querySelector("[data-node-view-wrapper]");if(P&&(A=P.firstChild),A)return A.getBoundingClientRect()}}return Ate(l,D,M)})}),this.show()},this.editor=e,this.element=n,this.view=r,this.updateDelay=i,a&&(this.shouldShow=a),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=s,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,n=!!e.parentElement;this.element.tabIndex=0,!(this.tippy||!n)&&(this.tippy=_h(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,n){const{state:r}=e,s=r.selection.from!==r.selection.to;if(this.updateDelay>0&&s){this.handleDebouncedUpdate(e,n);return}const i=!n?.selection.eq(e.state.selection),a=!n?.doc.eq(e.state.doc);this.updateHandler(e,i,a,n)}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,n;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(n=this.tippy)===null||n===void 0||n.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const Y6=t=>new Nr({key:typeof t.pluginKey=="string"?new Wr(t.pluginKey):t.pluginKey,view:e=>new Pre({view:e,...t})});Yr.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[Y6({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});function zre(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var W6={exports:{}},fb={};var Xk;function Ire(){if(Xk)return fb;Xk=1;var t=Ht;function e(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,i=t.useLayoutEffect,a=t.useDebugValue;function l(m,y){var x=y(),b=r({inst:{value:x,getSnapshot:y}}),S=b[0].inst,C=b[1];return i(function(){S.value=x,S.getSnapshot=y,d(S)&&C({inst:S})},[m,x,y]),s(function(){return d(S)&&C({inst:S}),m(function(){d(S)&&C({inst:S})})},[m]),a(x),x}function d(m){var y=m.getSnapshot;m=m.value;try{var x=y();return!n(m,x)}catch{return!0}}function f(m,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return fb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,fb}W6.exports=Ire();var dS=W6.exports;const Bre=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},Fre=({contentComponent:t})=>{const e=dS.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return Ht.createElement(Ht.Fragment,null,Object.values(e))};function $re(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:O5.createPortal(r.reactElement,r.element,n)},t.forEach(s=>s())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(s=>s())}}}class Ure extends Ht.Component{constructor(e){var n;super(e),this.editorContentRef=Ht.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=$re(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...r}=this.props;return Ht.createElement(Ht.Fragment,null,Ht.createElement("div",{ref:Bre(n,this.editorContentRef),...r}),e?.contentComponent&&Ht.createElement(Fre,{contentComponent:e.contentComponent}))}}const Vre=j.forwardRef((t,e)=>{const n=Ht.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Ht.createElement(Ure,{key:n,innerRef:e,...t})}),Hre=Ht.memo(Vre);var qre=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;for(s of e.entries())if(!t(s[1],n.get(s[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(e[s]!==n[s])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var a=i[s];if(!(a==="_owner"&&e.$$typeof)&&!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n},Kre=zre(qre),G6={exports:{}},hb={};var Jk;function Yre(){if(Jk)return hb;Jk=1;var t=Ht,e=dS;function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,i=t.useRef,a=t.useEffect,l=t.useMemo,d=t.useDebugValue;return hb.useSyncExternalStoreWithSelector=function(f,p,m,y,x){var b=i(null);if(b.current===null){var S={hasValue:!1,value:null};b.current=S}else S=b.current;b=l(function(){function N(A){if(!k){if(k=!0,D=A,A=y(A),x!==void 0&&S.hasValue){var P=S.value;if(x(P,A))return M=P}return M=A}if(P=M,r(D,A))return P;var F=y(A);return x!==void 0&&x(P,F)?P:(D=A,M=F)}var k=!1,D,M,E=m===void 0?null:m;return[function(){return N(p())},E===null?void 0:function(){return N(E())}]},[p,m,y,x]);var C=s(f,b[0],b[1]);return a(function(){S.hasValue=!0,S.value=C},[C]),d(C),C},hb}G6.exports=Yre();var Wre=G6.exports;const Gre=typeof window<"u"?j.useLayoutEffect:j.useEffect;class Xre{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(s=>s())},r=this.editor;return r.on("transaction",n),()=>{r.off("transaction",n)}}}}function Jre(t){var e;const[n]=j.useState(()=>new Xre(t.editor)),r=Wre.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!==null&&e!==void 0?e:Kre);return Gre(()=>n.watch(t.editor),[t.editor,n]),j.useDebugValue(r),r}const Qre=!1,K1=typeof window>"u",Zre=K1||!!(typeof window<"u"&&window.next);class fS{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?K1||Zre?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onBeforeCreate)===null||i===void 0?void 0:i.call(s,...r)},onBlur:(...r)=>{var s,i;return(i=(s=this.options.current).onBlur)===null||i===void 0?void 0:i.call(s,...r)},onCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onCreate)===null||i===void 0?void 0:i.call(s,...r)},onDestroy:(...r)=>{var s,i;return(i=(s=this.options.current).onDestroy)===null||i===void 0?void 0:i.call(s,...r)},onFocus:(...r)=>{var s,i;return(i=(s=this.options.current).onFocus)===null||i===void 0?void 0:i.call(s,...r)},onSelectionUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onSelectionUpdate)===null||i===void 0?void 0:i.call(s,...r)},onTransaction:(...r)=>{var s,i;return(i=(s=this.options.current).onTransaction)===null||i===void 0?void 0:i.call(s,...r)},onUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onUpdate)===null||i===void 0?void 0:i.call(s,...r)},onContentError:(...r)=>{var s,i;return(i=(s=this.options.current).onContentError)===null||i===void 0?void 0:i.call(s,...r)},onDrop:(...r)=>{var s,i;return(i=(s=this.options.current).onDrop)===null||i===void 0?void 0:i.call(s,...r)},onPaste:(...r)=>{var s,i;return(i=(s=this.options.current).onPaste)===null||i===void 0?void 0:i.call(s,...r)}};return new ine(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((s,i)=>{var a;return s===((a=n.extensions)===null||a===void 0?void 0:a[i])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?fS.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,s)=>r===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function ese(t={},e=[]){const n=j.useRef(t);n.current=t;const[r]=j.useState(()=>new fS(n)),s=dS.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return j.useDebugValue(s),j.useEffect(r.onRender(e)),Jre({editor:s,selector:({transactionNumber:i})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&i===0?0:i+1}),s}const hS=j.createContext({editor:null}),tse=hS.Consumer,pS=()=>j.useContext(hS);function nse({children:t,slotAfter:e,slotBefore:n,editorContainerProps:r={},...s}){const i=ese(s);return i?Ht.createElement(hS.Provider,{value:{editor:i}},n,Ht.createElement(tse,null,({editor:a})=>Ht.createElement(Hre,{editor:a,...r})),t,e):null}const rse=t=>{const[e,n]=j.useState(null),{editor:r}=pS();return j.useEffect(()=>{var s;if(!e||!((s=t.editor)===null||s===void 0)&&s.isDestroyed||r?.isDestroyed)return;const{pluginKey:i="bubbleMenu",editor:a,tippyOptions:l={},updateDelay:d,shouldShow:f=null}=t,p=a||r;if(!p){console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");return}const m=Y6({updateDelay:d,editor:p,element:e,pluginKey:i,shouldShow:f,tippyOptions:l});return p.registerPlugin(m),()=>{p.unregisterPlugin(i)}},[t.editor,r,e]),Ht.createElement("div",{ref:n,className:t.className,style:{visibility:"hidden"}},t.children)},sse=j.createContext({onDragStart:void 0}),ise=()=>j.useContext(sse);Ht.forwardRef((t,e)=>{const{onDragStart:n}=ise(),r=t.as||"div";return Ht.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});const ase=/^\s*>\s$/,ose=cr.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",Gn(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ih({find:ase,type:this.type})]}}),lse=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,cse=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,use=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,dse=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,fse=Di.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",Gn(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Eu({find:lse,type:this.type}),Eu({find:use,type:this.type})]},addPasteRules(){return[oc({find:cse,type:this.type}),oc({find:dse,type:this.type})]}}),hse="listItem",Qk="textStyle",Zk=/^\s*([-+*])\s$/,pse=cr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Gn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(hse,this.editor.getAttributes(Qk)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=ih({find:Zk,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ih({find:Zk,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Qk),editor:this.editor})),[t]}}),mse=/(^|[^`])`([^`]+)`(?!`)/,gse=/(^|[^`])`([^`]+)`(?!`)/g,yse=Di.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Gn(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Eu({find:mse,type:this.type})]},addPasteRules(){return[oc({find:gse,type:this.type})]}}),xse=/^```([a-z]+)?[\s\n]$/,vse=/^~~~([a-z]+)?[\s\n]$/,bse=cr.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,i=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Gn(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!i||!a?!1:t.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:s,empty:i}=n;if(!i||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const l=s.after();return l===void 0?!1:r.nodeAt(l)?t.commands.command(({tr:f})=>(f.setSelection(Yt.near(r.resolve(l))),!0)):t.commands.exitCode()}}},addInputRules(){return[$1({find:xse,type:this.type,getAttributes:t=>({language:t[1]})}),$1({find:vse,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Nr({key:new Wr("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,i=s?.mode;if(!n||!i)return!1;const{tr:a,schema:l}=t.state,d=l.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:i},d)),a.selection.$from.parent.type!==this.type&&a.setSelection(Vt.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),wse=cr.create({name:"doc",topNode:!0,content:"block+"});function Sse(t={}){return new Nr({view(e){return new Cse(e,t)}})}class Cse{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let i=a=>{this[s](a)};return e.dom.addEventListener(s,i),{name:s,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,s=this.editorView.dom,i=s.getBoundingClientRect(),a=i.width/s.offsetWidth,l=i.height/s.offsetHeight;if(n){let m=e.nodeBefore,y=e.nodeAfter;if(m||y){let x=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(x){let b=x.getBoundingClientRect(),S=m?b.bottom:b.top;m&&y&&(S=(S+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let C=this.width/2*l;r={left:b.left,right:b.right,top:S-C,bottom:S+C}}}}if(!r){let m=this.editorView.coordsAtPos(this.cursorPos),y=this.width/2*a;r={left:m.left-y,right:m.left+y,top:m.top,bottom:m.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let f,p;if(!d||d==document.body&&getComputedStyle(d).position=="static")f=-pageXOffset,p=-pageYOffset;else{let m=d.getBoundingClientRect(),y=m.width/d.offsetWidth,x=m.height/d.offsetHeight;f=m.left-d.scrollLeft*y,p=m.top-d.scrollTop*x}this.element.style.left=(r.left-f)/a+"px",this.element.style.top=(r.top-p)/l+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=r&&r.type.spec.disableDropCursor,i=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!i){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=gR(this.editorView.state.doc,a,this.editorView.dragging.slice);l!=null&&(a=l)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const Nse=Yr.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Sse(this.options)]}});class or extends Yt{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return or.valid(r)?new or(r):Yt.near(r)}content(){return xt.empty}eq(e){return e instanceof or&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new or(e.resolve(n.pos))}getBookmark(){return new mS(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!jse(e)||!Tse(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&or.valid(e))return e;let s=e.pos,i=null;for(let a=e.depth;;a--){let l=e.node(a);if(n>0?e.indexAfter(a)<l.childCount:e.index(a)>0){i=l.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;s+=n;let d=e.doc.resolve(s);if(or.valid(d))return d}for(;;){let a=n>0?i.firstChild:i.lastChild;if(!a){if(i.isAtom&&!i.isText&&!Ut.isSelectable(i)){e=e.doc.resolve(s+i.nodeSize*n),r=!1;continue e}break}i=a,s+=n;let l=e.doc.resolve(s);if(or.valid(l))return l}return null}}}or.prototype.visible=!1;or.findFrom=or.findGapCursorFrom;Yt.jsonID("gapcursor",or);class mS{constructor(e){this.pos=e}map(e){return new mS(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return or.valid(n)?new or(n):Yt.near(n)}}function jse(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function Tse(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function Ese(){return new Nr({props:{decorations:Dse,createSelectionBetween(t,e,n){return e.pos==n.pos&&or.valid(n)?new or(n):null},handleClick:kse,handleKeyDown:Ase,handleDOMEvents:{beforeinput:Ose}}})}const Ase=V2({ArrowLeft:fm("horiz",-1),ArrowRight:fm("horiz",1),ArrowUp:fm("vert",-1),ArrowDown:fm("vert",1)});function fm(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,i){let a=r.selection,l=e>0?a.$to:a.$from,d=a.empty;if(a instanceof Vt){if(!i.endOfTextblock(n)||l.depth==0)return!1;d=!1,l=r.doc.resolve(e>0?l.after():l.before())}let f=or.findGapCursorFrom(l,e,d);return f?(s&&s(r.tr.setSelection(new or(f))),!0):!1}}function kse(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!or.valid(r))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&Ut.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new or(r))),!0)}function Ose(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof or))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let s=We.empty;for(let a=r.length-1;a>=0;a--)s=We.from(r[a].createAndFill(null,s));let i=t.state.tr.replace(n.pos,n.pos,new xt(s,0,0));return i.setSelection(Vt.near(i.doc.resolve(n.pos+1))),t.dispatch(i),!1}function Dse(t){if(!(t.selection instanceof or))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",ar.create(t.doc,[ds.widget(t.selection.head,e,{key:"gapcursor"})])}const Mse=Yr.create({name:"gapCursor",addProseMirrorPlugins(){return[Ese()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=cn(_t(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),Rse=cr.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Gn(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:i}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:l}=r.extensionManager,d=i||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:f,dispatch:p})=>{if(p&&d&&a){const m=d.filter(y=>l.includes(y.type.name));f.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),X6=cr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Gn(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>$1({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var Ag=200,Ir=function(){};Ir.prototype.append=function(e){return e.length?(e=Ir.from(e),!this.length&&e||e.length<Ag&&this.leafAppend(e)||this.length<Ag&&e.leafPrepend(this)||this.appendInner(e)):this};Ir.prototype.prepend=function(e){return e.length?Ir.from(e).append(this):this};Ir.prototype.appendInner=function(e){return new _se(this,e)};Ir.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Ir.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Ir.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ir.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Ir.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(i,a){return s.push(e(i,a))},n,r),s};Ir.from=function(e){return e instanceof Ir?e:e&&e.length?new J6(e):Ir.empty};var J6=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new e(this.values.slice(s,i))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,i,a,l){for(var d=i;d<a;d++)if(s(this.values[d],l+d)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,a,l){for(var d=i-1;d>=a;d--)if(s(this.values[d],l+d)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=Ag)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=Ag)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Ir);Ir.empty=new J6([]);var _se=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,i,a){var l=this.left.length;if(s<l&&this.left.forEachInner(r,s,Math.min(i,l),a)===!1||i>l&&this.right.forEachInner(r,Math.max(s-l,0),Math.min(this.length,i)-l,a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,i,a){var l=this.left.length;if(s>l&&this.right.forEachInvertedInner(r,s-l,Math.max(i,l)-l,a+l)===!1||i<l&&this.left.forEachInvertedInner(r,Math.min(s,l),i,a)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(r,s):r>=i?this.right.slice(r-i,s-i):this.left.slice(r,i).append(this.right.slice(0,s-i))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Ir);const Lse=500;class Ni{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,i;n&&(s=this.remapping(r,this.items.length),i=s.maps.length);let a=e.tr,l,d,f=[],p=[];return this.items.forEach((m,y)=>{if(!m.step){s||(s=this.remapping(r,y+1),i=s.maps.length),i--,p.push(m);return}if(s){p.push(new Vi(m.map));let x=m.step.map(s.slice(i)),b;x&&a.maybeStep(x).doc&&(b=a.mapping.maps[a.mapping.maps.length-1],f.push(new Vi(b,void 0,void 0,f.length+p.length))),i--,b&&s.appendMap(b,i)}else a.maybeStep(m.step);if(m.selection)return l=s?m.selection.map(s.slice(i)):m.selection,d=new Ni(this.items.slice(0,r).append(p.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:a,selection:l}}addTransform(e,n,r,s){let i=[],a=this.eventCount,l=this.items,d=!s&&l.length?l.get(l.length-1):null;for(let p=0;p<e.steps.length;p++){let m=e.steps[p].invert(e.docs[p]),y=new Vi(e.mapping.maps[p],m,n),x;(x=d&&d.merge(y))&&(y=x,p?i.pop():l=l.slice(0,l.length-1)),i.push(y),n&&(a++,n=void 0),s||(d=y)}let f=a-r.depth;return f>zse&&(l=Pse(l,f),a-=f),new Ni(l.append(i),a)}remapping(e,n){let r=new Qf;return this.items.forEach((s,i)=>{let a=s.mirrorOffset!=null&&i-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,a)},e,n),r}addMaps(e){return this.eventCount==0?this:new Ni(this.items.append(e.map(n=>new Vi(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),i=e.mapping,a=e.steps.length,l=this.eventCount;this.items.forEach(y=>{y.selection&&l--},s);let d=n;this.items.forEach(y=>{let x=i.getMirror(--d);if(x==null)return;a=Math.min(a,x);let b=i.maps[x];if(y.step){let S=e.steps[x].invert(e.docs[x]),C=y.selection&&y.selection.map(i.slice(d+1,x));C&&l++,r.push(new Vi(b,S,C))}else r.push(new Vi(b))},s);let f=[];for(let y=n;y<a;y++)f.push(new Vi(i.maps[y]));let p=this.items.slice(0,s).append(f).append(r),m=new Ni(p,l);return m.emptyItemCount()>Lse&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,s=[],i=0;return this.items.forEach((a,l)=>{if(l>=e)s.push(a),a.selection&&i++;else if(a.step){let d=a.step.map(n.slice(r)),f=d&&d.getMap();if(r--,f&&n.appendMap(f,r),d){let p=a.selection&&a.selection.map(n.slice(r));p&&i++;let m=new Vi(f.invert(),d,p),y,x=s.length-1;(y=s.length&&s[x].merge(m))?s[x]=y:s.push(m)}}else a.map&&r--},this.items.length,0),new Ni(Ir.from(s.reverse()),i)}}Ni.empty=new Ni(Ir.empty,0);function Pse(t,e){let n;return t.forEach((r,s)=>{if(r.selection&&e--==0)return n=s,!1}),t.slice(n)}class Vi{constructor(e,n,r,s){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Vi(n.getMap().invert(),n,this.selection)}}}class Co{constructor(e,n,r,s,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=i}}const zse=20;function Ise(t,e,n,r){let s=n.getMeta(Ql),i;if(s)return s.historyState;n.getMeta($se)&&(t=new Co(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(Ql))return a.getMeta(Ql).redo?new Co(t.done.addTransform(n,void 0,r,Um(e)),t.undone,e3(n.mapping.maps),t.prevTime,t.prevComposition):new Co(t.done,t.undone.addTransform(n,void 0,r,Um(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),d=t.prevTime==0||!a&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-r.newGroupDelay||!Bse(n,t.prevRanges)),f=a?pb(t.prevRanges,n.mapping):e3(n.mapping.maps);return new Co(t.done.addTransform(n,d?e.selection.getBookmark():void 0,r,Um(e)),Ni.empty,f,n.time,l??t.prevComposition)}else return(i=n.getMeta("rebased"))?new Co(t.done.rebased(n,i),t.undone.rebased(n,i),pb(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Co(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),pb(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function Bse(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,s)=>{for(let i=0;i<e.length;i+=2)r<=e[i+1]&&s>=e[i]&&(n=!0)}),n}function e3(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,s,i,a)=>e.push(i,a));return e}function pb(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let s=e.map(t[r],1),i=e.map(t[r+1],-1);s<=i&&n.push(s,i)}return n}function Fse(t,e,n){let r=Um(e),s=Ql.get(e).spec.config,i=(n?t.undone:t.done).popEvent(e,r);if(!i)return null;let a=i.selection.resolve(i.transform.doc),l=(n?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),s,r),d=new Co(n?l:i.remaining,n?i.remaining:l,null,0,-1);return i.transform.setSelection(a).setMeta(Ql,{redo:n,historyState:d})}let mb=!1,t3=null;function Um(t){let e=t.plugins;if(t3!=e){mb=!1,t3=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){mb=!0;break}}return mb}const Ql=new Wr("history"),$se=new Wr("closeHistory");function Use(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Nr({key:Ql,state:{init(){return new Co(Ni.empty,Ni.empty,null,0,-1)},apply(e,n,r){return Ise(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,s=r=="historyUndo"?Z6:r=="historyRedo"?e_:null;return s?(n.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function Q6(t,e){return(n,r)=>{let s=Ql.getState(n);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(r){let i=Fse(s,n,t);i&&r(e?i.scrollIntoView():i)}return!0}}const Z6=Q6(!1,!0),e_=Q6(!0,!0),Vse=Yr.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>Z6(t,e),redo:()=>({state:t,dispatch:e})=>e_(t,e)}},addProseMirrorPlugins(){return[Use(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Hse=cr.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Gn(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!ane(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$from:r,$to:s}=n,i=t();return r.parentOffset===0?i.insertContentAt({from:Math.max(r.pos-1,0),to:s.pos},{type:this.name}):E6(n)?i.insertContentAt(s.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({tr:a,dispatch:l})=>{var d;if(l){const{$to:f}=a.selection,p=f.end();if(f.nodeAfter)f.nodeAfter.isTextblock?a.setSelection(Vt.create(a.doc,f.pos+1)):f.nodeAfter.isBlock?a.setSelection(Ut.create(a.doc,f.pos)):a.setSelection(Vt.create(a.doc,f.pos));else{const m=(d=f.parent.type.contentMatch.defaultType)===null||d===void 0?void 0:d.create();m&&(a.insert(p,m),a.setSelection(Vt.create(a.doc,p+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[A6({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),qse=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Kse=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Yse=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Wse=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Gse=Di.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Gn(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Eu({find:qse,type:this.type}),Eu({find:Yse,type:this.type})]},addPasteRules(){return[oc({find:Kse,type:this.type}),oc({find:Wse,type:this.type})]}}),Xse=cr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Gn(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Jse="listItem",n3="textStyle",r3=/^(\d+)\.\s$/,Qse=cr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Gn(this.options.HTMLAttributes,n),0]:["ol",Gn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Jse,this.editor.getAttributes(n3)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=ih({find:r3,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ih({find:r3,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(n3)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),Zse=cr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Gn(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),eie=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,tie=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,nie=Di.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Gn(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Eu({find:eie,type:this.type})]},addPasteRules(){return[oc({find:tie,type:this.type})]}}),rie=cr.create({name:"text",group:"inline"}),sie=Yr.create({name:"starterKit",addExtensions(){const t=[];return this.options.bold!==!1&&t.push(fse.configure(this.options.bold)),this.options.blockquote!==!1&&t.push(ose.configure(this.options.blockquote)),this.options.bulletList!==!1&&t.push(pse.configure(this.options.bulletList)),this.options.code!==!1&&t.push(yse.configure(this.options.code)),this.options.codeBlock!==!1&&t.push(bse.configure(this.options.codeBlock)),this.options.document!==!1&&t.push(wse.configure(this.options.document)),this.options.dropcursor!==!1&&t.push(Nse.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&t.push(Mse.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&t.push(Rse.configure(this.options.hardBreak)),this.options.heading!==!1&&t.push(X6.configure(this.options.heading)),this.options.history!==!1&&t.push(Vse.configure(this.options.history)),this.options.horizontalRule!==!1&&t.push(Hse.configure(this.options.horizontalRule)),this.options.italic!==!1&&t.push(Gse.configure(this.options.italic)),this.options.listItem!==!1&&t.push(Xse.configure(this.options.listItem)),this.options.orderedList!==!1&&t.push(Qse.configure(this.options.orderedList)),this.options.paragraph!==!1&&t.push(Zse.configure(this.options.paragraph)),this.options.strike!==!1&&t.push(nie.configure(this.options.strike)),this.options.text!==!1&&t.push(rie.configure(this.options.text)),t}}),iie=Yr.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),aie=Di.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Gn(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),oie=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,lie=cr.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",Gn(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[A6({find:oie,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),cie="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",uie="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Y1="numeric",W1="ascii",G1="alpha",Ef="asciinumeric",cf="alphanumeric",X1="domain",t_="emoji",die="scheme",fie="slashscheme",gb="whitespace";function hie(t,e){return t in e||(e[t]=[]),e[t]}function Bl(t,e,n){e[Y1]&&(e[Ef]=!0,e[cf]=!0),e[W1]&&(e[Ef]=!0,e[G1]=!0),e[Ef]&&(e[cf]=!0),e[G1]&&(e[cf]=!0),e[cf]&&(e[X1]=!0),e[t_]&&(e[X1]=!0);for(const r in e){const s=hie(r,n);s.indexOf(t)<0&&s.push(t)}}function pie(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Cs(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Cs.groups={};Cs.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],i=e.jr[r][1];if(i&&s.test(t))return i}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,r)},tr(t,e,n,r){r=r||Cs.groups;let s;return e&&e.j?s=e:(s=new Cs(e),n&&r&&Bl(e,n,r)),this.jr.push([t,s]),s},ts(t,e,n,r){let s=this;const i=t.length;if(!i)return s;for(let a=0;a<i-1;a++)s=s.tt(t[a]);return s.tt(t[i-1],e,n,r)},tt(t,e,n,r){r=r||Cs.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const i=e;let a,l=s.go(t);if(l?(a=new Cs,Object.assign(a.j,l.j),a.jr.push.apply(a.jr,l.jr),a.jd=l.jd,a.t=l.t):a=new Cs,i){if(r)if(a.t&&typeof a.t=="string"){const d=Object.assign(pie(a.t,r),n);Bl(i,d,r)}else n&&Bl(i,n,r);a.t=i}return s.j[t]=a,a}};const ln=(t,e,n,r,s)=>t.ta(e,n,r,s),sr=(t,e,n,r,s)=>t.tr(e,n,r,s),s3=(t,e,n,r,s)=>t.ts(e,n,r,s),it=(t,e,n,r,s)=>t.tt(e,n,r,s),Ra="WORD",J1="UWORD",n_="ASCIINUMERICAL",r_="ALPHANUMERICAL",lh="LOCALHOST",Q1="TLD",Z1="UTLD",Vm="SCHEME",su="SLASH_SCHEME",gS="NUM",ew="WS",yS="NL",Af="OPENBRACE",kf="CLOSEBRACE",kg="OPENBRACKET",Og="CLOSEBRACKET",Dg="OPENPAREN",Mg="CLOSEPAREN",Rg="OPENANGLEBRACKET",_g="CLOSEANGLEBRACKET",Lg="FULLWIDTHLEFTPAREN",Pg="FULLWIDTHRIGHTPAREN",zg="LEFTCORNERBRACKET",Ig="RIGHTCORNERBRACKET",Bg="LEFTWHITECORNERBRACKET",Fg="RIGHTWHITECORNERBRACKET",$g="FULLWIDTHLESSTHAN",Ug="FULLWIDTHGREATERTHAN",Vg="AMPERSAND",Hg="APOSTROPHE",qg="ASTERISK",No="AT",Kg="BACKSLASH",Yg="BACKTICK",Wg="CARET",ko="COLON",xS="COMMA",Gg="DOLLAR",Hi="DOT",Xg="EQUALS",vS="EXCLAMATION",ai="HYPHEN",Of="PERCENT",Jg="PIPE",Qg="PLUS",Zg="POUND",Df="QUERY",bS="QUOTE",s_="FULLWIDTHMIDDLEDOT",wS="SEMI",qi="SLASH",Mf="TILDE",ey="UNDERSCORE",i_="EMOJI",ty="SYM";var a_=Object.freeze({__proto__:null,ALPHANUMERICAL:r_,AMPERSAND:Vg,APOSTROPHE:Hg,ASCIINUMERICAL:n_,ASTERISK:qg,AT:No,BACKSLASH:Kg,BACKTICK:Yg,CARET:Wg,CLOSEANGLEBRACKET:_g,CLOSEBRACE:kf,CLOSEBRACKET:Og,CLOSEPAREN:Mg,COLON:ko,COMMA:xS,DOLLAR:Gg,DOT:Hi,EMOJI:i_,EQUALS:Xg,EXCLAMATION:vS,FULLWIDTHGREATERTHAN:Ug,FULLWIDTHLEFTPAREN:Lg,FULLWIDTHLESSTHAN:$g,FULLWIDTHMIDDLEDOT:s_,FULLWIDTHRIGHTPAREN:Pg,HYPHEN:ai,LEFTCORNERBRACKET:zg,LEFTWHITECORNERBRACKET:Bg,LOCALHOST:lh,NL:yS,NUM:gS,OPENANGLEBRACKET:Rg,OPENBRACE:Af,OPENBRACKET:kg,OPENPAREN:Dg,PERCENT:Of,PIPE:Jg,PLUS:Qg,POUND:Zg,QUERY:Df,QUOTE:bS,RIGHTCORNERBRACKET:Ig,RIGHTWHITECORNERBRACKET:Fg,SCHEME:Vm,SEMI:wS,SLASH:qi,SLASH_SCHEME:su,SYM:ty,TILDE:Mf,TLD:Q1,UNDERSCORE:ey,UTLD:Z1,UWORD:J1,WORD:Ra,WS:ew});const Oa=/[a-z]/,Zd=new RegExp("\\p{L}","u"),yb=new RegExp("\\p{Emoji}","u"),Da=/\d/,xb=/\s/,i3="\r",vb=`
`,mie="",gie="",bb="";let hm=null,pm=null;function yie(t=[]){const e={};Cs.groups=e;const n=new Cs;hm==null&&(hm=a3(cie)),pm==null&&(pm=a3(uie)),it(n,"'",Hg),it(n,"{",Af),it(n,"}",kf),it(n,"[",kg),it(n,"]",Og),it(n,"(",Dg),it(n,")",Mg),it(n,"<",Rg),it(n,">",_g),it(n,"",Lg),it(n,"",Pg),it(n,"",zg),it(n,"",Ig),it(n,"",Bg),it(n,"",Fg),it(n,"",$g),it(n,"",Ug),it(n,"&",Vg),it(n,"*",qg),it(n,"@",No),it(n,"`",Yg),it(n,"^",Wg),it(n,":",ko),it(n,",",xS),it(n,"$",Gg),it(n,".",Hi),it(n,"=",Xg),it(n,"!",vS),it(n,"-",ai),it(n,"%",Of),it(n,"|",Jg),it(n,"+",Qg),it(n,"#",Zg),it(n,"?",Df),it(n,'"',bS),it(n,"/",qi),it(n,";",wS),it(n,"~",Mf),it(n,"_",ey),it(n,"\\",Kg),it(n,"",s_);const r=sr(n,Da,gS,{[Y1]:!0});sr(r,Da,r);const s=sr(r,Oa,n_,{[Ef]:!0}),i=sr(r,Zd,r_,{[cf]:!0}),a=sr(n,Oa,Ra,{[W1]:!0});sr(a,Da,s),sr(a,Oa,a),sr(s,Da,s),sr(s,Oa,s);const l=sr(n,Zd,J1,{[G1]:!0});sr(l,Oa),sr(l,Da,i),sr(l,Zd,l),sr(i,Da,i),sr(i,Oa),sr(i,Zd,i);const d=it(n,vb,yS,{[gb]:!0}),f=it(n,i3,ew,{[gb]:!0}),p=sr(n,xb,ew,{[gb]:!0});it(n,bb,p),it(f,vb,d),it(f,bb,p),sr(f,xb,p),it(p,i3),it(p,vb),sr(p,xb,p),it(p,bb,p);const m=sr(n,yb,i_,{[t_]:!0});it(m,"#"),sr(m,yb,m),it(m,mie,m);const y=it(m,gie);it(y,"#"),sr(y,yb,m);const x=[[Oa,a],[Da,s]],b=[[Oa,null],[Zd,l],[Da,i]];for(let S=0;S<hm.length;S++)xo(n,hm[S],Q1,Ra,x);for(let S=0;S<pm.length;S++)xo(n,pm[S],Z1,J1,b);Bl(Q1,{tld:!0,ascii:!0},e),Bl(Z1,{utld:!0,alpha:!0},e),xo(n,"file",Vm,Ra,x),xo(n,"mailto",Vm,Ra,x),xo(n,"http",su,Ra,x),xo(n,"https",su,Ra,x),xo(n,"ftp",su,Ra,x),xo(n,"ftps",su,Ra,x),Bl(Vm,{scheme:!0,ascii:!0},e),Bl(su,{slashscheme:!0,ascii:!0},e),t=t.sort((S,C)=>S[0]>C[0]?1:-1);for(let S=0;S<t.length;S++){const C=t[S][0],k=t[S][1]?{[die]:!0}:{[fie]:!0};C.indexOf("-")>=0?k[X1]=!0:Oa.test(C)?Da.test(C)?k[Ef]=!0:k[W1]=!0:k[Y1]=!0,s3(n,C,C,k)}return s3(n,"localhost",lh,{ascii:!0}),n.jd=new Cs(ty),{start:n,tokens:Object.assign({groups:e},a_)}}function o_(t,e){const n=xie(e.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,s=[];let i=0,a=0;for(;a<r;){let l=t,d=null,f=0,p=null,m=-1,y=-1;for(;a<r&&(d=l.go(n[a]));)l=d,l.accepts()?(m=0,y=0,p=l):m>=0&&(m+=n[a].length,y++),f+=n[a].length,i+=n[a].length,a++;i-=m,a-=y,f-=m,s.push({t:p.t,v:e.slice(i-f,i),s:i-f,e:i})}return s}function xie(t){const e=[],n=t.length;let r=0;for(;r<n;){let s=t.charCodeAt(r),i,a=s<55296||s>56319||r+1===n||(i=t.charCodeAt(r+1))<56320||i>57343?t[r]:t.slice(r,r+2);e.push(a),r+=a.length}return e}function xo(t,e,n,r,s){let i;const a=e.length;for(let l=0;l<a-1;l++){const d=e[l];t.j[d]?i=t.j[d]:(i=new Cs(r),i.jr=s.slice(),t.j[d]=i),t=i}return i=new Cs(n),i.jr=s.slice(),t.j[e[a-1]]=i,i}function a3(t){const e=[],n=[];let r=0,s="0123456789";for(;r<t.length;){let i=0;for(;s.indexOf(t[r+i])>=0;)i++;if(i>0){e.push(n.join(""));for(let a=parseInt(t.substring(r,r+i),10);a>0;a--)n.pop();r+=i}else n.push(t[r]),r++}return e}const ch={defaultProtocol:"http",events:null,format:o3,formatHref:o3,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function SS(t,e=null){let n=Object.assign({},ch);t&&(n=Object.assign(n,t instanceof SS?t.o:t));const r=n.ignoreTags,s=[];for(let i=0;i<r.length;i++)s.push(r[i].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}SS.prototype={o:ch,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:ch[t],typeof s=="function"&&r&&(s=s(e,n))):typeof s=="function"&&r&&(s=s(e,n.t,n)),s)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function o3(t){return t}function l_(t,e){this.t="token",this.v=t,this.tk=e}l_.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=ch.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),s=t.get("tagName",n,e),i=this.toFormattedString(t),a={},l=t.get("className",n,e),d=t.get("target",n,e),f=t.get("rel",n,e),p=t.getObj("attributes",n,e),m=t.getObj("events",n,e);return a.href=r,l&&(a.class=l),d&&(a.target=d),f&&(a.rel=f),p&&Object.assign(a,p),{tagName:s,attributes:a,content:i,eventListeners:m}}};function Ky(t,e){class n extends l_{constructor(s,i){super(s,i),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const l3=Ky("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),c3=Ky("text"),vie=Ky("nl"),mm=Ky("url",{isLink:!0,toHref(t=ch.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==lh&&t[1].t===ko}}),si=t=>new Cs(t);function bie({groups:t}){const e=t.domain.concat([Vg,qg,No,Kg,Yg,Wg,Gg,Xg,ai,gS,Of,Jg,Qg,Zg,qi,ty,Mf,ey]),n=[Hg,ko,xS,Hi,vS,Of,Df,bS,wS,Rg,_g,Af,kf,Og,kg,Dg,Mg,Lg,Pg,zg,Ig,Bg,Fg,$g,Ug],r=[Vg,Hg,qg,Kg,Yg,Wg,Gg,Xg,ai,Af,kf,Of,Jg,Qg,Zg,Df,qi,ty,Mf,ey],s=si(),i=it(s,Mf);ln(i,r,i),ln(i,t.domain,i);const a=si(),l=si(),d=si();ln(s,t.domain,a),ln(s,t.scheme,l),ln(s,t.slashscheme,d),ln(a,r,i),ln(a,t.domain,a);const f=it(a,No);it(i,No,f),it(l,No,f),it(d,No,f);const p=it(i,Hi);ln(p,r,i),ln(p,t.domain,i);const m=si();ln(f,t.domain,m),ln(m,t.domain,m);const y=it(m,Hi);ln(y,t.domain,m);const x=si(l3);ln(y,t.tld,x),ln(y,t.utld,x),it(f,lh,x);const b=it(m,ai);it(b,ai,b),ln(b,t.domain,m),ln(x,t.domain,m),it(x,Hi,y),it(x,ai,b);const S=it(x,ko);ln(S,t.numeric,l3);const C=it(a,ai),N=it(a,Hi);it(C,ai,C),ln(C,t.domain,a),ln(N,r,i),ln(N,t.domain,a);const k=si(mm);ln(N,t.tld,k),ln(N,t.utld,k),ln(k,t.domain,a),ln(k,r,i),it(k,Hi,N),it(k,ai,C),it(k,No,f);const D=it(k,ko),M=si(mm);ln(D,t.numeric,M);const E=si(mm),A=si();ln(E,e,E),ln(E,n,A),ln(A,e,E),ln(A,n,A),it(k,qi,E),it(M,qi,E);const P=it(l,ko),F=it(d,ko),ee=it(F,qi),be=it(ee,qi);ln(l,t.domain,a),it(l,Hi,N),it(l,ai,C),ln(d,t.domain,a),it(d,Hi,N),it(d,ai,C),ln(P,t.domain,E),it(P,qi,E),it(P,Df,E),ln(be,t.domain,E),ln(be,e,E),it(be,qi,E);const ce=[[Af,kf],[kg,Og],[Dg,Mg],[Rg,_g],[Lg,Pg],[zg,Ig],[Bg,Fg],[$g,Ug]];for(let ae=0;ae<ce.length;ae++){const[te,ke]=ce[ae],ze=it(E,te);it(A,te,ze),it(ze,ke,E);const W=si(mm);ln(ze,e,W);const oe=si();ln(ze,n),ln(W,e,W),ln(W,n,oe),ln(oe,e,W),ln(oe,n,oe),it(W,ke,E),it(oe,ke,E)}return it(s,lh,k),it(s,yS,vie),{start:s,tokens:a_}}function wie(t,e,n){let r=n.length,s=0,i=[],a=[];for(;s<r;){let l=t,d=null,f=null,p=0,m=null,y=-1;for(;s<r&&!(d=l.go(n[s].t));)a.push(n[s++]);for(;s<r&&(f=d||l.go(n[s].t));)d=null,l=f,l.accepts()?(y=0,m=l):y>=0&&y++,s++,p++;if(y<0)s-=p,s<r&&(a.push(n[s]),s++);else{a.length>0&&(i.push(wb(c3,e,a)),a=[]),s-=y,p-=y;const x=m.t,b=n.slice(s-p,s);i.push(wb(x,e,b))}}return a.length>0&&i.push(wb(c3,e,a)),i}function wb(t,e,n){const r=n[0].s,s=n[n.length-1].e,i=e.slice(r,s);return new t(i,n)}const Sie=typeof console<"u"&&console&&console.warn||(()=>{}),Cie="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Un={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Nie(){return Cs.groups={},Un.scanner=null,Un.parser=null,Un.tokenQueue=[],Un.pluginQueue=[],Un.customSchemes=[],Un.initialized=!1,Un}function u3(t,e=!1){if(Un.initialized&&Sie(`linkifyjs: already initialized - will not register custom scheme "${t}" ${Cie}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Un.customSchemes.push([t,e])}function jie(){Un.scanner=yie(Un.customSchemes);for(let t=0;t<Un.tokenQueue.length;t++)Un.tokenQueue[t][1]({scanner:Un.scanner});Un.parser=bie(Un.scanner.tokens);for(let t=0;t<Un.pluginQueue.length;t++)Un.pluginQueue[t][1]({scanner:Un.scanner,parser:Un.parser});return Un.initialized=!0,Un}function CS(t){return Un.initialized||jie(),wie(Un.parser.start,t,o_(Un.scanner.start,t))}CS.scan=o_;function c_(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new SS(n),s=CS(t),i=[];for(let a=0;a<s.length;a++){const l=s[a];l.isLink&&(!e||l.t===e)&&r.check(l)&&i.push(l.toFormattedObject(r))}return i}const NS="[\0- -\u2029]",Tie=new RegExp(NS),Eie=new RegExp(`${NS}$`),Aie=new RegExp(NS,"g");function kie(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function Oie(t){return new Nr({key:new Wr("autolink"),appendTransaction:(e,n,r)=>{const s=e.some(f=>f.docChanged)&&!n.doc.eq(r.doc),i=e.some(f=>f.getMeta("preventAutolink"));if(!s||i)return;const{tr:a}=r,l=vte(n.doc,[...e]);if(Tte(l).forEach(({newRange:f})=>{const p=wte(r.doc,f,x=>x.isTextblock);let m,y;if(p.length>1)m=p[0],y=r.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(p.length){const x=r.doc.textBetween(f.from,f.to," "," ");if(!Eie.test(x))return;m=p[0],y=r.doc.textBetween(m.pos,f.to,void 0," ")}if(m&&y){const x=y.split(Tie).filter(Boolean);if(x.length<=0)return!1;const b=x[x.length-1],S=m.pos+y.lastIndexOf(b);if(!b)return!1;const C=CS(b).map(N=>N.toObject(t.defaultProtocol));if(!kie(C))return!1;C.filter(N=>N.isLink).map(N=>({...N,from:S+N.start+1,to:S+N.end+1})).filter(N=>r.schema.marks.code?!r.doc.rangeHasMark(N.from,N.to,r.schema.marks.code):!0).filter(N=>t.validate(N.value)).filter(N=>t.shouldAutoLink(N.value)).forEach(N=>{tS(N.from,N.to,r.doc).some(k=>k.mark.type===t.type)||a.addMark(N.from,N.to,t.type.create({href:N.href}))})}}),!!a.steps.length)return a}})}function Die(t){return new Nr({key:new Wr("handleClickLink"),props:{handleClick:(e,n,r)=>{var s,i;if(r.button!==0||!e.editable)return!1;let a=r.target;const l=[];for(;a.nodeName!=="DIV";)l.push(a),a=a.parentNode;if(!l.find(y=>y.nodeName==="A"))return!1;const d=T6(e.state,t.type.name),f=r.target,p=(s=f?.href)!==null&&s!==void 0?s:d.href,m=(i=f?.target)!==null&&i!==void 0?i:d.target;return f&&p?(window.open(p,m),!0):!1}}})}function Mie(t){return new Nr({key:new Wr("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:s}=e,{selection:i}=s,{empty:a}=i;if(a)return!1;let l="";r.content.forEach(f=>{l+=f.textContent});const d=c_(l,{defaultProtocol:t.defaultProtocol}).find(f=>f.isLink&&f.value===l);return!l||!d?!1:t.editor.commands.setMark(t.type,{href:d.href})}}})}function Cl(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const s=typeof r=="string"?r:r.scheme;s&&n.push(s)}),!t||t.replace(Aie,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const Rie=Di.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){u3(t);return}u3(t.scheme,t.optionalSlashes)})},onDestroy(){Nie()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Cl(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Cl(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Cl(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Gn(this.options.HTMLAttributes,t),0]:["a",Gn(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Cl(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Cl(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[oc({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,s=c_(t).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:a=>!!Cl(a,n),protocols:n,defaultProtocol:r}));s.length&&s.forEach(i=>e.push({text:i.value,data:{href:i.href},index:i.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(Oie({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:s=>!!Cl(s,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(Die({type:this.type})),this.options.linkOnPaste&&t.push(Mie({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}});var tw,nw;if(typeof WeakMap<"u"){let t=new WeakMap;tw=e=>t.get(e),nw=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;tw=r=>{for(let s=0;s<t.length;s+=2)if(t[s]==r)return t[s+1]},nw=(r,s)=>(n==10&&(n=0),t[n++]=r,t[n++]=s)}var lr=class{constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,s=e/this.width|0;let i=r+1,a=s+1;for(let l=1;i<this.width&&this.map[e+l]==n;l++)i++;for(let l=1;a<this.height&&this.map[e+this.width*l]==n;l++)a++;return{left:r,top:s,right:i,bottom:a}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:s,top:i,bottom:a}=this.findCell(t);return e=="horiz"?(n<0?r==0:s==this.width)?null:this.map[i*this.width+(n<0?r-1:s)]:(n<0?i==0:a==this.height)?null:this.map[r+this.width*(n<0?i-1:a)]}rectBetween(t,e){const{left:n,right:r,top:s,bottom:i}=this.findCell(t),{left:a,right:l,top:d,bottom:f}=this.findCell(e);return{left:Math.min(n,a),top:Math.min(s,d),right:Math.max(r,l),bottom:Math.max(i,f)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let s=t.left;s<t.right;s++){const i=r*this.width+s,a=this.map[i];n[a]||(n[a]=!0,!(s==t.left&&s&&this.map[i-1]==a||r==t.top&&r&&this.map[i-this.width]==a)&&e.push(a))}return e}positionAt(t,e,n){for(let r=0,s=0;;r++){const i=s+n.child(r).nodeSize;if(r==t){let a=e+t*this.width;const l=(t+1)*this.width;for(;a<l&&this.map[a]<s;)a++;return a==l?i-1:this.map[a]}s=i}}static get(t){return tw(t)||nw(t,_ie(t))}};function _ie(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=Lie(t),n=t.childCount,r=[];let s=0,i=null;const a=[];for(let f=0,p=e*n;f<p;f++)r[f]=0;for(let f=0,p=0;f<n;f++){const m=t.child(f);p++;for(let b=0;;b++){for(;s<r.length&&r[s]!=0;)s++;if(b==m.childCount)break;const S=m.child(b),{colspan:C,rowspan:N,colwidth:k}=S.attrs;for(let D=0;D<N;D++){if(D+f>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:p,n:N-D});break}const M=s+D*e;for(let E=0;E<C;E++){r[M+E]==0?r[M+E]=p:(i||(i=[])).push({type:"collision",row:f,pos:p,n:C-E});const A=k&&k[E];if(A){const P=(M+E)%e*2,F=a[P];F==null||F!=A&&a[P+1]==1?(a[P]=A,a[P+1]=1):F==A&&a[P+1]++}}}s+=C,p+=S.nodeSize}const y=(f+1)*e;let x=0;for(;s<y;)r[s++]==0&&x++;x&&(i||(i=[])).push({type:"missing",row:f,n:x}),p++}(e===0||n===0)&&(i||(i=[])).push({type:"zero_sized"});const l=new lr(e,n,r,i);let d=!1;for(let f=0;!d&&f<a.length;f+=2)a[f]!=null&&a[f+1]<n&&(d=!0);return d&&Pie(l,a,t),l}function Lie(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const s=t.child(r);let i=0;if(n)for(let a=0;a<r;a++){const l=t.child(a);for(let d=0;d<l.childCount;d++){const f=l.child(d);a+f.attrs.rowspan>r&&(i+=f.attrs.colspan)}}for(let a=0;a<s.childCount;a++){const l=s.child(a);i+=l.attrs.colspan,l.attrs.rowspan>1&&(n=!0)}e==-1?e=i:e!=i&&(e=Math.max(e,i))}return e}function Pie(t,e,n){t.problems||(t.problems=[]);const r={};for(let s=0;s<t.map.length;s++){const i=t.map[s];if(r[i])continue;r[i]=!0;const a=n.nodeAt(i);if(!a)throw new RangeError(`No cell with offset ${i} found`);let l=null;const d=a.attrs;for(let f=0;f<d.colspan;f++){const p=(s+f)%t.width,m=e[p*2];m!=null&&(!d.colwidth||d.colwidth[f]!=m)&&((l||(l=zie(d)))[f]=m)}l&&t.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:l})}}function zie(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function rs(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],s=r.spec.tableRole;s&&(e[s]=r)}}return e}var Oo=new Wr("selectingCells");function Uu(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function Iie(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function Pi(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function Yy(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=Uu(e.$head)||Bie(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function Bie(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function rw(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function Fie(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function jS(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function u_(t,e,n){const r=t.node(-1),s=lr.get(r),i=t.start(-1),a=s.nextCell(t.pos-i,e,n);return a==null?null:t.node(0).resolve(i+a)}function cc(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(s=>s>0)||(r.colwidth=null)),r}function d_(t,e,n=1){const r={...t,colspan:t.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let s=0;s<n;s++)r.colwidth.splice(e,0,0)}return r}function $ie(t,e,n){const r=rs(e.type.schema).header_cell;for(let s=0;s<t.height;s++)if(e.nodeAt(t.map[n+s*t.width]).type!=r)return!1;return!0}var Fn=class _a extends Yt{constructor(e,n=e){const r=e.node(-1),s=lr.get(r),i=e.start(-1),a=s.rectBetween(e.pos-i,n.pos-i),l=e.node(0),d=s.cellsInRect(a).filter(p=>p!=n.pos-i);d.unshift(n.pos-i);const f=d.map(p=>{const m=r.nodeAt(p);if(!m)throw RangeError(`No cell with offset ${p} found`);const y=i+p+1;return new wR(l.resolve(y),l.resolve(y+m.content.size))});super(f[0].$from,f[0].$to,f),this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),s=e.resolve(n.map(this.$headCell.pos));if(rw(r)&&rw(s)&&jS(r,s)){const i=this.$anchorCell.node(-1)!=r.node(-1);return i&&this.isRowSelection()?_a.rowSelection(r,s):i&&this.isColSelection()?_a.colSelection(r,s):new _a(r,s)}return Vt.between(r,s)}content(){const e=this.$anchorCell.node(-1),n=lr.get(e),r=this.$anchorCell.start(-1),s=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),i={},a=[];for(let d=s.top;d<s.bottom;d++){const f=[];for(let p=d*n.width+s.left,m=s.left;m<s.right;m++,p++){const y=n.map[p];if(i[y])continue;i[y]=!0;const x=n.findCell(y);let b=e.nodeAt(y);if(!b)throw RangeError(`No cell with offset ${y} found`);const S=s.left-x.left,C=x.right-s.right;if(S>0||C>0){let N=b.attrs;if(S>0&&(N=cc(N,0,S)),C>0&&(N=cc(N,N.colspan-C,C)),x.left<s.left){if(b=b.type.createAndFill(N),!b)throw RangeError(`Could not create cell with attrs ${JSON.stringify(N)}`)}else b=b.type.create(N,b.content)}if(x.top<s.top||x.bottom>s.bottom){const N={...b.attrs,rowspan:Math.min(x.bottom,s.bottom)-Math.max(x.top,s.top)};x.top<s.top?b=b.type.createAndFill(N):b=b.type.create(N,b.content)}f.push(b)}a.push(e.child(d).copy(We.from(f)))}const l=this.isColSelection()&&this.isRowSelection()?e:a;return new xt(We.from(l),1,1)}replace(e,n=xt.empty){const r=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){const{$from:l,$to:d}=s[a],f=e.mapping.slice(r);e.replace(f.map(l.pos),f.map(d.pos),a?xt.empty:n)}const i=Yt.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);i&&e.setSelection(i)}replaceWith(e,n){this.replace(e,new xt(We.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=lr.get(n),s=this.$anchorCell.start(-1),i=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-s,this.$headCell.pos-s));for(let a=0;a<i.length;a++)e(n.nodeAt(i[a]),s+i[a])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,s=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,s)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=e.node(-1),s=lr.get(r),i=e.start(-1),a=s.findCell(e.pos-i),l=s.findCell(n.pos-i),d=e.node(0);return a.top<=l.top?(a.top>0&&(e=d.resolve(i+s.map[a.left])),l.bottom<s.height&&(n=d.resolve(i+s.map[s.width*(s.height-1)+l.right-1]))):(l.top>0&&(n=d.resolve(i+s.map[l.left])),a.bottom<s.height&&(e=d.resolve(i+s.map[s.width*(s.height-1)+a.right-1]))),new _a(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=lr.get(e),r=this.$anchorCell.start(-1),s=n.colCount(this.$anchorCell.pos-r),i=n.colCount(this.$headCell.pos-r);if(Math.min(s,i)>0)return!1;const a=s+this.$anchorCell.nodeAfter.attrs.colspan,l=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,l)==n.width}eq(e){return e instanceof _a&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=e.node(-1),s=lr.get(r),i=e.start(-1),a=s.findCell(e.pos-i),l=s.findCell(n.pos-i),d=e.node(0);return a.left<=l.left?(a.left>0&&(e=d.resolve(i+s.map[a.top*s.width])),l.right<s.width&&(n=d.resolve(i+s.map[s.width*(l.top+1)-1]))):(l.left>0&&(n=d.resolve(i+s.map[l.top*s.width])),a.right<s.width&&(e=d.resolve(i+s.map[s.width*(a.top+1)-1]))),new _a(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new _a(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new _a(e.resolve(n),e.resolve(r))}getBookmark(){return new Uie(this.$anchorCell.pos,this.$headCell.pos)}};Fn.prototype.visible=!1;Yt.jsonID("cell",Fn);var Uie=class f_{constructor(e,n){this.anchor=e,this.head=n}map(e){return new f_(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&jS(n,r)?new Fn(n,r):Yt.near(r,1)}};function Vie(t){if(!(t.selection instanceof Fn))return null;const e=[];return t.selection.forEachCell((n,r)=>{e.push(ds.node(r,r+n.nodeSize,{class:"selectedCell"}))}),ar.create(t.doc,e)}function Hie({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,r=e.pos,s=t.depth;for(;s>=0&&!(t.after(s+1)<t.end(s));s--,n++);for(let i=e.depth;i>=0&&!(e.before(i+1)>e.start(i));i--,r--);return n==r&&/row|table/.test(t.node(s).type.spec.tableRole)}function qie({$from:t,$to:e}){let n,r;for(let s=t.depth;s>0;s--){const i=t.node(s);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){n=i;break}}for(let s=e.depth;s>0;s--){const i=e.node(s);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){r=i;break}}return n!==r&&e.parentOffset===0}function Kie(t,e,n){const r=(e||t).selection,s=(e||t).doc;let i,a;if(r instanceof Ut&&(a=r.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")i=Fn.create(s,r.from);else if(a=="row"){const l=s.resolve(r.from+1);i=Fn.rowSelection(l,l)}else if(!n){const l=lr.get(r.node),d=r.from+1,f=d+l.map[l.width*l.height-1];i=Fn.create(s,d+1,f)}}else r instanceof Vt&&Hie(r)?i=Vt.create(s,r.from):r instanceof Vt&&qie(r)&&(i=Vt.create(s,r.$from.start(),r.$from.end()));return i&&(e||(e=t.tr)).setSelection(i),e}var Yie=new Wr("fix-tables");function h_(t,e,n,r){const s=t.childCount,i=e.childCount;e:for(let a=0,l=0;a<i;a++){const d=e.child(a);for(let f=l,p=Math.min(s,a+3);f<p;f++)if(t.child(f)==d){l=f+1,n+=d.nodeSize;continue e}r(d,n),l<s&&t.child(l).sameMarkup(d)?h_(t.child(l),d,n+1,r):d.nodesBetween(0,d.content.size,r,n+1),n+=d.nodeSize}}function p_(t,e){let n;const r=(s,i)=>{s.type.spec.tableRole=="table"&&(n=Wie(t,s,i,n))};return e?e.doc!=t.doc&&h_(e.doc,t.doc,0,r):t.doc.descendants(r),n}function Wie(t,e,n,r){const s=lr.get(e);if(!s.problems)return r;r||(r=t.tr);const i=[];for(let d=0;d<s.height;d++)i.push(0);for(let d=0;d<s.problems.length;d++){const f=s.problems[d];if(f.type=="collision"){const p=e.nodeAt(f.pos);if(!p)continue;const m=p.attrs;for(let y=0;y<m.rowspan;y++)i[f.row+y]+=f.n;r.setNodeMarkup(r.mapping.map(n+1+f.pos),null,cc(m,m.colspan-f.n,f.n))}else if(f.type=="missing")i[f.row]+=f.n;else if(f.type=="overlong_rowspan"){const p=e.nodeAt(f.pos);if(!p)continue;r.setNodeMarkup(r.mapping.map(n+1+f.pos),null,{...p.attrs,rowspan:p.attrs.rowspan-f.n})}else if(f.type=="colwidth mismatch"){const p=e.nodeAt(f.pos);if(!p)continue;r.setNodeMarkup(r.mapping.map(n+1+f.pos),null,{...p.attrs,colwidth:f.colwidth})}else if(f.type=="zero_sized"){const p=r.mapping.map(n);r.delete(p,p+e.nodeSize)}}let a,l;for(let d=0;d<i.length;d++)i[d]&&(a==null&&(a=d),l=d);for(let d=0,f=n+1;d<s.height;d++){const p=e.child(d),m=f+p.nodeSize,y=i[d];if(y>0){let x="cell";p.firstChild&&(x=p.firstChild.type.spec.tableRole);const b=[];for(let C=0;C<y;C++){const N=rs(t.schema)[x].createAndFill();N&&b.push(N)}const S=(d==0||a==d-1)&&l==d?f+1:m-1;r.insert(r.mapping.map(S),b)}f=m}return r.setMeta(Yie,{fixTables:!0})}function ua(t){const e=t.selection,n=Yy(t),r=n.node(-1),s=n.start(-1),i=lr.get(r);return{...e instanceof Fn?i.rectBetween(e.$anchorCell.pos-s,e.$headCell.pos-s):i.findCell(n.pos-s),tableStart:s,map:i,table:r}}function m_(t,{map:e,tableStart:n,table:r},s){let i=s>0?-1:0;$ie(e,r,s+i)&&(i=s==0||s==e.width?null:0);for(let a=0;a<e.height;a++){const l=a*e.width+s;if(s>0&&s<e.width&&e.map[l-1]==e.map[l]){const d=e.map[l],f=r.nodeAt(d);t.setNodeMarkup(t.mapping.map(n+d),null,d_(f.attrs,s-e.colCount(d))),a+=f.attrs.rowspan-1}else{const d=i==null?rs(r.type.schema).cell:r.nodeAt(e.map[l+i]).type,f=e.positionAt(a,s,r);t.insert(t.mapping.map(n+f),d.createAndFill())}}return t}function Gie(t,e){if(!Pi(t))return!1;if(e){const n=ua(t);e(m_(t.tr,n,n.left))}return!0}function Xie(t,e){if(!Pi(t))return!1;if(e){const n=ua(t);e(m_(t.tr,n,n.right))}return!0}function Jie(t,{map:e,table:n,tableStart:r},s){const i=t.mapping.maps.length;for(let a=0;a<e.height;){const l=a*e.width+s,d=e.map[l],f=n.nodeAt(d),p=f.attrs;if(s>0&&e.map[l-1]==d||s<e.width-1&&e.map[l+1]==d)t.setNodeMarkup(t.mapping.slice(i).map(r+d),null,cc(p,s-e.colCount(d)));else{const m=t.mapping.slice(i).map(r+d);t.delete(m,m+f.nodeSize)}a+=p.rowspan}}function Qie(t,e){if(!Pi(t))return!1;if(e){const n=ua(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let s=n.right-1;Jie(r,n,s),s!=n.left;s--){const i=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!i)throw RangeError("No table found");n.table=i,n.map=lr.get(i)}e(r)}return!0}function Zie(t,e,n){var r;const s=rs(e.type.schema).header_cell;for(let i=0;i<t.width;i++)if(((r=e.nodeAt(t.map[i+n*t.width]))==null?void 0:r.type)!=s)return!1;return!0}function g_(t,{map:e,tableStart:n,table:r},s){var i;let a=n;for(let f=0;f<s;f++)a+=r.child(f).nodeSize;const l=[];let d=s>0?-1:0;Zie(e,r,s+d)&&(d=s==0||s==e.height?null:0);for(let f=0,p=e.width*s;f<e.width;f++,p++)if(s>0&&s<e.height&&e.map[p]==e.map[p-e.width]){const m=e.map[p],y=r.nodeAt(m).attrs;t.setNodeMarkup(n+m,null,{...y,rowspan:y.rowspan+1}),f+=y.colspan-1}else{const m=d==null?rs(r.type.schema).cell:(i=r.nodeAt(e.map[p+d*e.width]))==null?void 0:i.type,y=m?.createAndFill();y&&l.push(y)}return t.insert(a,rs(r.type.schema).row.create(null,l)),t}function eae(t,e){if(!Pi(t))return!1;if(e){const n=ua(t);e(g_(t.tr,n,n.top))}return!0}function tae(t,e){if(!Pi(t))return!1;if(e){const n=ua(t);e(g_(t.tr,n,n.bottom))}return!0}function nae(t,{map:e,table:n,tableStart:r},s){let i=0;for(let f=0;f<s;f++)i+=n.child(f).nodeSize;const a=i+n.child(s).nodeSize,l=t.mapping.maps.length;t.delete(i+r,a+r);const d=new Set;for(let f=0,p=s*e.width;f<e.width;f++,p++){const m=e.map[p];if(!d.has(m)){if(d.add(m),s>0&&m==e.map[p-e.width]){const y=n.nodeAt(m).attrs;t.setNodeMarkup(t.mapping.slice(l).map(m+r),null,{...y,rowspan:y.rowspan-1}),f+=y.colspan-1}else if(s<e.height&&m==e.map[p+e.width]){const y=n.nodeAt(m),x=y.attrs,b=y.type.create({...x,rowspan:y.attrs.rowspan-1},y.content),S=e.positionAt(s+1,f,n);t.insert(t.mapping.slice(l).map(r+S),b),f+=x.colspan-1}}}}function rae(t,e){if(!Pi(t))return!1;if(e){const n=ua(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let s=n.bottom-1;nae(r,n,s),s!=n.top;s--){const i=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!i)throw RangeError("No table found");n.table=i,n.map=lr.get(n.table)}e(r)}return!0}function d3(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function sae({width:t,height:e,map:n},r){let s=r.top*t+r.left,i=s,a=(r.bottom-1)*t+r.left,l=s+(r.right-r.left-1);for(let d=r.top;d<r.bottom;d++){if(r.left>0&&n[i]==n[i-1]||r.right<t&&n[l]==n[l+1])return!0;i+=t,l+=t}for(let d=r.left;d<r.right;d++){if(r.top>0&&n[s]==n[s-t]||r.bottom<e&&n[a]==n[a+t])return!0;s++,a++}return!1}function f3(t,e){const n=t.selection;if(!(n instanceof Fn)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=ua(t),{map:s}=r;if(sae(s,r))return!1;if(e){const i=t.tr,a={};let l=We.empty,d,f;for(let p=r.top;p<r.bottom;p++)for(let m=r.left;m<r.right;m++){const y=s.map[p*s.width+m],x=r.table.nodeAt(y);if(!(a[y]||!x))if(a[y]=!0,d==null)d=y,f=x;else{d3(x)||(l=l.append(x.content));const b=i.mapping.map(y+r.tableStart);i.delete(b,b+x.nodeSize)}}if(d==null||f==null)return!0;if(i.setNodeMarkup(d+r.tableStart,null,{...d_(f.attrs,f.attrs.colspan,r.right-r.left-f.attrs.colspan),rowspan:r.bottom-r.top}),l.size){const p=d+1+f.content.size,m=d3(f)?d+1:p;i.replaceWith(m+r.tableStart,p+r.tableStart,l)}i.setSelection(new Fn(i.doc.resolve(d+r.tableStart))),e(i)}return!0}function h3(t,e){const n=rs(t.schema);return iae(({node:r})=>n[r.type.spec.tableRole])(t,e)}function iae(t){return(e,n)=>{var r;const s=e.selection;let i,a;if(s instanceof Fn){if(s.$anchorCell.pos!=s.$headCell.pos)return!1;i=s.$anchorCell.nodeAfter,a=s.$anchorCell.pos}else{if(i=Iie(s.$from),!i)return!1;a=(r=Uu(s.$from))==null?void 0:r.pos}if(i==null||a==null||i.attrs.colspan==1&&i.attrs.rowspan==1)return!1;if(n){let l=i.attrs;const d=[],f=l.colwidth;l.rowspan>1&&(l={...l,rowspan:1}),l.colspan>1&&(l={...l,colspan:1});const p=ua(e),m=e.tr;for(let x=0;x<p.right-p.left;x++)d.push(f?{...l,colwidth:f&&f[x]?[f[x]]:null}:l);let y;for(let x=p.top;x<p.bottom;x++){let b=p.map.positionAt(x,p.left,p.table);x==p.top&&(b+=i.nodeSize);for(let S=p.left,C=0;S<p.right;S++,C++)S==p.left&&x==p.top||m.insert(y=m.mapping.map(b+p.tableStart,1),t({node:i,row:x,col:S}).createAndFill(d[C]))}m.setNodeMarkup(a,t({node:i,row:p.top,col:p.left}),d[0]),s instanceof Fn&&m.setSelection(new Fn(m.doc.resolve(s.$anchorCell.pos),y?m.doc.resolve(y):void 0)),n(m)}return!0}}function aae(t,e){return function(n,r){if(!Pi(n))return!1;const s=Yy(n);if(s.nodeAfter.attrs[t]===e)return!1;if(r){const i=n.tr;n.selection instanceof Fn?n.selection.forEachCell((a,l)=>{a.attrs[t]!==e&&i.setNodeMarkup(l,null,{...a.attrs,[t]:e})}):i.setNodeMarkup(s.pos,null,{...s.nodeAfter.attrs,[t]:e}),r(i)}return!0}}function oae(t){return function(e,n){if(!Pi(e))return!1;if(n){const r=rs(e.schema),s=ua(e),i=e.tr,a=s.map.cellsInRect(t=="column"?{left:s.left,top:0,right:s.right,bottom:s.map.height}:t=="row"?{left:0,top:s.top,right:s.map.width,bottom:s.bottom}:s),l=a.map(d=>s.table.nodeAt(d));for(let d=0;d<a.length;d++)l[d].type==r.header_cell&&i.setNodeMarkup(s.tableStart+a[d],r.cell,l[d].attrs);if(i.steps.length==0)for(let d=0;d<a.length;d++)i.setNodeMarkup(s.tableStart+a[d],r.header_cell,l[d].attrs);n(i)}return!0}}function p3(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let s=0;s<r.length;s++){const i=e.table.nodeAt(r[s]);if(i&&i.type!==n.header_cell)return!1}return!0}function uh(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?oae(t):function(n,r){if(!Pi(n))return!1;if(r){const s=rs(n.schema),i=ua(n),a=n.tr,l=p3("row",i,s),d=p3("column",i,s),p=(t==="column"?l:t==="row"?d:!1)?1:0,m=t=="column"?{left:0,top:p,right:1,bottom:i.map.height}:t=="row"?{left:p,top:0,right:i.map.width,bottom:1}:i,y=t=="column"?d?s.cell:s.header_cell:t=="row"?l?s.cell:s.header_cell:s.cell;i.map.cellsInRect(m).forEach(x=>{const b=x+i.tableStart,S=a.doc.nodeAt(b);S&&a.setNodeMarkup(b,y,S.attrs)}),r(a)}return!0}}uh("row",{useDeprecatedLogic:!0});uh("column",{useDeprecatedLogic:!0});var lae=uh("cell",{useDeprecatedLogic:!0});function cae(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,s=t.before();r>=0;r--){const i=t.node(-1).child(r),a=i.lastChild;if(a)return s-1-a.nodeSize;s-=i.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let r=t.indexAfter(-1),s=t.after();r<n.childCount;r++){const i=n.child(r);if(i.childCount)return s+1;s+=i.nodeSize}}return null}function m3(t){return function(e,n){if(!Pi(e))return!1;const r=cae(Yy(e),t);if(r==null)return!1;if(n){const s=e.doc.resolve(r);n(e.tr.setSelection(Vt.between(s,Fie(s))).scrollIntoView())}return!0}}function uae(t,e){const n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function gm(t,e){const n=t.selection;if(!(n instanceof Fn))return!1;if(e){const r=t.tr,s=rs(t.schema).cell.createAndFill().content;n.forEachCell((i,a)=>{i.content.eq(s)||r.replace(r.mapping.map(a+1),r.mapping.map(a+i.nodeSize-1),new xt(s,0,0))}),r.docChanged&&e(r)}return!0}function dae(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.child(0).type.spec.tableRole=="table");)n--,r--,e=e.child(0).content;const s=e.child(0),i=s.type.spec.tableRole,a=s.type.schema,l=[];if(i=="row")for(let d=0;d<e.childCount;d++){let f=e.child(d).content;const p=d?0:Math.max(0,n-1),m=d<e.childCount-1?0:Math.max(0,r-1);(p||m)&&(f=sw(rs(a).row,new xt(f,p,m)).content),l.push(f)}else if(i=="cell"||i=="header_cell")l.push(n||r?sw(rs(a).row,new xt(e,n,r)).content:e);else return null;return fae(a,l)}function fae(t,e){const n=[];for(let s=0;s<e.length;s++){const i=e[s];for(let a=i.childCount-1;a>=0;a--){const{rowspan:l,colspan:d}=i.child(a).attrs;for(let f=s;f<s+l;f++)n[f]=(n[f]||0)+d}}let r=0;for(let s=0;s<n.length;s++)r=Math.max(r,n[s]);for(let s=0;s<n.length;s++)if(s>=e.length&&e.push(We.empty),n[s]<r){const i=rs(t).cell.createAndFill(),a=[];for(let l=n[s];l<r;l++)a.push(i);e[s]=e[s].append(We.from(a))}return{height:e.length,width:r,rows:e}}function sw(t,e){const n=t.createAndFill();return new M2(n).replace(0,n.content.size,e).doc}function hae({width:t,height:e,rows:n},r,s){if(t!=r){const i=[],a=[];for(let l=0;l<n.length;l++){const d=n[l],f=[];for(let p=i[l]||0,m=0;p<r;m++){let y=d.child(m%d.childCount);p+y.attrs.colspan>r&&(y=y.type.createChecked(cc(y.attrs,y.attrs.colspan,p+y.attrs.colspan-r),y.content)),f.push(y),p+=y.attrs.colspan;for(let x=1;x<y.attrs.rowspan;x++)i[l+x]=(i[l+x]||0)+y.attrs.colspan}a.push(We.from(f))}n=a,t=r}if(e!=s){const i=[];for(let a=0,l=0;a<s;a++,l++){const d=[],f=n[l%e];for(let p=0;p<f.childCount;p++){let m=f.child(p);a+m.attrs.rowspan>s&&(m=m.type.create({...m.attrs,rowspan:Math.max(1,s-m.attrs.rowspan)},m.content)),d.push(m)}i.push(We.from(d))}n=i,e=s}return{width:t,height:e,rows:n}}function pae(t,e,n,r,s,i,a){const l=t.doc.type.schema,d=rs(l);let f,p;if(s>e.width)for(let m=0,y=0;m<e.height;m++){const x=n.child(m);y+=x.nodeSize;const b=[];let S;x.lastChild==null||x.lastChild.type==d.cell?S=f||(f=d.cell.createAndFill()):S=p||(p=d.header_cell.createAndFill());for(let C=e.width;C<s;C++)b.push(S);t.insert(t.mapping.slice(a).map(y-1+r),b)}if(i>e.height){const m=[];for(let b=0,S=(e.height-1)*e.width;b<Math.max(e.width,s);b++){const C=b>=e.width?!1:n.nodeAt(e.map[S+b]).type==d.header_cell;m.push(C?p||(p=d.header_cell.createAndFill()):f||(f=d.cell.createAndFill()))}const y=d.row.create(null,We.from(m)),x=[];for(let b=e.height;b<i;b++)x.push(y);t.insert(t.mapping.slice(a).map(r+n.nodeSize-2),x)}return!!(f||p)}function g3(t,e,n,r,s,i,a,l){if(a==0||a==e.height)return!1;let d=!1;for(let f=s;f<i;f++){const p=a*e.width+f,m=e.map[p];if(e.map[p-e.width]==m){d=!0;const y=n.nodeAt(m),{top:x,left:b}=e.findCell(m);t.setNodeMarkup(t.mapping.slice(l).map(m+r),null,{...y.attrs,rowspan:a-x}),t.insert(t.mapping.slice(l).map(e.positionAt(a,b,n)),y.type.createAndFill({...y.attrs,rowspan:x+y.attrs.rowspan-a})),f+=y.attrs.colspan-1}}return d}function y3(t,e,n,r,s,i,a,l){if(a==0||a==e.width)return!1;let d=!1;for(let f=s;f<i;f++){const p=f*e.width+a,m=e.map[p];if(e.map[p-1]==m){d=!0;const y=n.nodeAt(m),x=e.colCount(m),b=t.mapping.slice(l).map(m+r);t.setNodeMarkup(b,null,cc(y.attrs,a-x,y.attrs.colspan-(a-x))),t.insert(b+y.nodeSize,y.type.createAndFill(cc(y.attrs,0,a-x))),f+=y.attrs.rowspan-1}}return d}function x3(t,e,n,r,s){let i=n?t.doc.nodeAt(n-1):t.doc;if(!i)throw new Error("No table found");let a=lr.get(i);const{top:l,left:d}=r,f=d+s.width,p=l+s.height,m=t.tr;let y=0;function x(){if(i=n?m.doc.nodeAt(n-1):m.doc,!i)throw new Error("No table found");a=lr.get(i),y=m.mapping.maps.length}pae(m,a,i,n,f,p,y)&&x(),g3(m,a,i,n,d,f,l,y)&&x(),g3(m,a,i,n,d,f,p,y)&&x(),y3(m,a,i,n,l,p,d,y)&&x(),y3(m,a,i,n,l,p,f,y)&&x();for(let b=l;b<p;b++){const S=a.positionAt(b,d,i),C=a.positionAt(b,f,i);m.replace(m.mapping.slice(y).map(S+n),m.mapping.slice(y).map(C+n),new xt(s.rows[b-l],0,0))}x(),m.setSelection(new Fn(m.doc.resolve(n+a.positionAt(l,d,i)),m.doc.resolve(n+a.positionAt(p-1,f-1,i)))),e(m)}var mae=V2({ArrowLeft:ym("horiz",-1),ArrowRight:ym("horiz",1),ArrowUp:ym("vert",-1),ArrowDown:ym("vert",1),"Shift-ArrowLeft":xm("horiz",-1),"Shift-ArrowRight":xm("horiz",1),"Shift-ArrowUp":xm("vert",-1),"Shift-ArrowDown":xm("vert",1),Backspace:gm,"Mod-Backspace":gm,Delete:gm,"Mod-Delete":gm});function Hm(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function ym(t,e){return(n,r,s)=>{if(!s)return!1;const i=n.selection;if(i instanceof Fn)return Hm(n,r,Yt.near(i.$headCell,e));if(t!="horiz"&&!i.empty)return!1;const a=y_(s,t,e);if(a==null)return!1;if(t=="horiz")return Hm(n,r,Yt.near(n.doc.resolve(i.head+e),e));{const l=n.doc.resolve(a),d=u_(l,t,e);let f;return d?f=Yt.near(d,1):e<0?f=Yt.near(n.doc.resolve(l.before(-1)),-1):f=Yt.near(n.doc.resolve(l.after(-1)),1),Hm(n,r,f)}}}function xm(t,e){return(n,r,s)=>{if(!s)return!1;const i=n.selection;let a;if(i instanceof Fn)a=i;else{const d=y_(s,t,e);if(d==null)return!1;a=new Fn(n.doc.resolve(d))}const l=u_(a.$headCell,t,e);return l?Hm(n,r,new Fn(a.$anchorCell,l)):!1}}function gae(t,e){const n=t.state.doc,r=Uu(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new Fn(r))),!0):!1}function yae(t,e,n){if(!Pi(t.state))return!1;let r=dae(n);const s=t.state.selection;if(s instanceof Fn){r||(r={width:1,height:1,rows:[We.from(sw(rs(t.state.schema).cell,n))]});const i=s.$anchorCell.node(-1),a=s.$anchorCell.start(-1),l=lr.get(i).rectBetween(s.$anchorCell.pos-a,s.$headCell.pos-a);return r=hae(r,l.right-l.left,l.bottom-l.top),x3(t.state,t.dispatch,a,l,r),!0}else if(r){const i=Yy(t.state),a=i.start(-1);return x3(t.state,t.dispatch,a,lr.get(i.node(-1)).findCell(i.pos-a),r),!0}else return!1}function xae(t,e){var n;if(e.ctrlKey||e.metaKey)return;const r=v3(t,e.target);let s;if(e.shiftKey&&t.state.selection instanceof Fn)i(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(s=Uu(t.state.selection.$anchor))!=null&&((n=Sb(t,e))==null?void 0:n.pos)!=s.pos)i(s,e),e.preventDefault();else if(!r)return;function i(d,f){let p=Sb(t,f);const m=Oo.getState(t.state)==null;if(!p||!jS(d,p))if(m)p=d;else return;const y=new Fn(d,p);if(m||!t.state.selection.eq(y)){const x=t.state.tr.setSelection(y);m&&x.setMeta(Oo,d.pos),t.dispatch(x)}}function a(){t.root.removeEventListener("mouseup",a),t.root.removeEventListener("dragstart",a),t.root.removeEventListener("mousemove",l),Oo.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(Oo,-1))}function l(d){const f=d,p=Oo.getState(t.state);let m;if(p!=null)m=t.state.doc.resolve(p);else if(v3(t,f.target)!=r&&(m=Sb(t,e),!m))return a();m&&i(m,f)}t.root.addEventListener("mouseup",a),t.root.addEventListener("dragstart",a),t.root.addEventListener("mousemove",l)}function y_(t,e,n){if(!(t.state.selection instanceof Vt))return null;const{$head:r}=t.state.selection;for(let s=r.depth-1;s>=0;s--){const i=r.node(s);if((n<0?r.index(s):r.indexAfter(s))!=(n<0?0:i.childCount))return null;if(i.type.spec.tableRole=="cell"||i.type.spec.tableRole=="header_cell"){const l=r.before(s),d=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(d)?l:null}}return null}function v3(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function Sb(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?Uu(t.state.doc.resolve(n.pos)):null}var vae=class{constructor(e,n){this.node=e,this.defaultCellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${n}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),iw(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,iw(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function iw(t,e,n,r,s,i){var a;let l=0,d=!0,f=e.firstChild;const p=t.firstChild;if(p){for(let m=0,y=0;m<p.childCount;m++){const{colspan:x,colwidth:b}=p.child(m).attrs;for(let S=0;S<x;S++,y++){const C=s==y?i:b&&b[S],N=C?C+"px":"";if(l+=C||r,C||(d=!1),f)f.style.width!=N&&(f.style.width=N),f=f.nextSibling;else{const k=document.createElement("col");k.style.width=N,e.appendChild(k)}}}for(;f;){const m=f.nextSibling;(a=f.parentNode)==null||a.removeChild(f),f=m}d?(n.style.width=l+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=l+"px")}}var Us=new Wr("tableColumnResizing");function bae({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:r=vae,lastColumnResizable:s=!0}={}){const i=new Nr({key:Us,state:{init(a,l){var d,f;const p=(f=(d=i.spec)==null?void 0:d.props)==null?void 0:f.nodeViews,m=rs(l.schema).table.name;return r&&p&&(p[m]=(y,x)=>new r(y,n,x)),new wae(-1,!1)},apply(a,l){return l.apply(a)}},props:{attributes:a=>{const l=Us.getState(a);return l&&l.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(a,l)=>{Sae(a,l,t,s)},mouseleave:a=>{Cae(a)},mousedown:(a,l)=>{Nae(a,l,e,n)}},decorations:a=>{const l=Us.getState(a);if(l&&l.activeHandle>-1)return kae(a,l.activeHandle)},nodeViews:{}}});return i}var wae=class qm{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,r=e.getMeta(Us);if(r&&r.setHandle!=null)return new qm(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new qm(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){let s=e.mapping.map(n.activeHandle,-1);return rw(e.doc.resolve(s))||(s=-1),new qm(s,n.dragging)}return n}};function Sae(t,e,n,r){if(!t.editable)return;const s=Us.getState(t.state);if(s&&!s.dragging){const i=Tae(e.target);let a=-1;if(i){const{left:l,right:d}=i.getBoundingClientRect();e.clientX-l<=n?a=b3(t,e,"left",n):d-e.clientX<=n&&(a=b3(t,e,"right",n))}if(a!=s.activeHandle){if(!r&&a!==-1){const l=t.state.doc.resolve(a),d=l.node(-1),f=lr.get(d),p=l.start(-1);if(f.colCount(l.pos-p)+l.nodeAfter.attrs.colspan-1==f.width-1)return}x_(t,a)}}}function Cae(t){if(!t.editable)return;const e=Us.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&x_(t,-1)}function Nae(t,e,n,r){var s;if(!t.editable)return!1;const i=(s=t.dom.ownerDocument.defaultView)!=null?s:window,a=Us.getState(t.state);if(!a||a.activeHandle==-1||a.dragging)return!1;const l=t.state.doc.nodeAt(a.activeHandle),d=jae(t,a.activeHandle,l.attrs);t.dispatch(t.state.tr.setMeta(Us,{setDragging:{startX:e.clientX,startWidth:d}}));function f(m){i.removeEventListener("mouseup",f),i.removeEventListener("mousemove",p);const y=Us.getState(t.state);y?.dragging&&(Eae(t,y.activeHandle,w3(y.dragging,m,n)),t.dispatch(t.state.tr.setMeta(Us,{setDragging:null})))}function p(m){if(!m.which)return f(m);const y=Us.getState(t.state);if(y&&y.dragging){const x=w3(y.dragging,m,n);S3(t,y.activeHandle,x,r)}}return S3(t,a.activeHandle,d,r),i.addEventListener("mouseup",f),i.addEventListener("mousemove",p),e.preventDefault(),!0}function jae(t,e,{colspan:n,colwidth:r}){const s=r&&r[r.length-1];if(s)return s;const i=t.domAtPos(e);let l=i.node.childNodes[i.offset].offsetWidth,d=n;if(r)for(let f=0;f<n;f++)r[f]&&(l-=r[f],d--);return l/d}function Tae(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function b3(t,e,n,r){const s=n=="right"?-r:r,i=t.posAtCoords({left:e.clientX+s,top:e.clientY});if(!i)return-1;const{pos:a}=i,l=Uu(t.state.doc.resolve(a));if(!l)return-1;if(n=="right")return l.pos;const d=lr.get(l.node(-1)),f=l.start(-1),p=d.map.indexOf(l.pos-f);return p%d.width==0?-1:f+d.map[p-1]}function w3(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function x_(t,e){t.dispatch(t.state.tr.setMeta(Us,{setHandle:e}))}function Eae(t,e,n){const r=t.state.doc.resolve(e),s=r.node(-1),i=lr.get(s),a=r.start(-1),l=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,d=t.state.tr;for(let f=0;f<i.height;f++){const p=f*i.width+l;if(f&&i.map[p]==i.map[p-i.width])continue;const m=i.map[p],y=s.nodeAt(m).attrs,x=y.colspan==1?0:l-i.colCount(m);if(y.colwidth&&y.colwidth[x]==n)continue;const b=y.colwidth?y.colwidth.slice():Aae(y.colspan);b[x]=n,d.setNodeMarkup(a+m,null,{...y,colwidth:b})}d.docChanged&&t.dispatch(d)}function S3(t,e,n,r){const s=t.state.doc.resolve(e),i=s.node(-1),a=s.start(-1),l=lr.get(i).colCount(s.pos-a)+s.nodeAfter.attrs.colspan-1;let d=t.domAtPos(s.start(-1)).node;for(;d&&d.nodeName!="TABLE";)d=d.parentNode;d&&iw(i,d.firstChild,d,r,l,n)}function Aae(t){return Array(t).fill(0)}function kae(t,e){var n;const r=[],s=t.doc.resolve(e),i=s.node(-1);if(!i)return ar.empty;const a=lr.get(i),l=s.start(-1),d=a.colCount(s.pos-l)+s.nodeAfter.attrs.colspan-1;for(let f=0;f<a.height;f++){const p=d+f*a.width;if((d==a.width-1||a.map[p]!=a.map[p+1])&&(f==0||a.map[p]!=a.map[p-a.width])){const m=a.map[p],y=l+m+i.nodeAt(m).nodeSize-1,x=document.createElement("div");x.className="column-resize-handle",(n=Us.getState(t))!=null&&n.dragging&&r.push(ds.node(l+m,l+m+i.nodeAt(m).nodeSize,{class:"column-resize-dragging"})),r.push(ds.widget(y,x))}}return ar.create(t.doc,r)}function Oae({allowTableNodeSelection:t=!1}={}){return new Nr({key:Oo,state:{init(){return null},apply(e,n){const r=e.getMeta(Oo);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;const{deleted:s,pos:i}=e.mapping.mapResult(n);return s?null:i}},props:{decorations:Vie,handleDOMEvents:{mousedown:xae},createSelectionBetween(e){return Oo.getState(e.state)!=null?e.state.selection:null},handleTripleClick:gae,handleKeyDown:mae,handlePaste:yae},appendTransaction(e,n,r){return Kie(r,p_(r,n),t)}})}function aw(t,e){return e?["width",`${Math.max(e,t)}px`]:["min-width",`${t}px`]}function C3(t,e,n,r,s,i){var a;let l=0,d=!0,f=e.firstChild;const p=t.firstChild;if(p!==null)for(let m=0,y=0;m<p.childCount;m+=1){const{colspan:x,colwidth:b}=p.child(m).attrs;for(let S=0;S<x;S+=1,y+=1){const C=s===y?i:b&&b[S],N=C?`${C}px`:"";if(l+=C||r,C||(d=!1),f){if(f.style.width!==N){const[k,D]=aw(r,C);f.style.setProperty(k,D)}f=f.nextSibling}else{const k=document.createElement("col"),[D,M]=aw(r,C);k.style.setProperty(D,M),e.appendChild(k)}}}for(;f;){const m=f.nextSibling;(a=f.parentNode)===null||a===void 0||a.removeChild(f),f=m}d?(n.style.width=`${l}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${l}px`)}class Dae{constructor(e,n){this.node=e,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),C3(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,C3(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type==="attributes"&&(e.target===this.table||this.colgroup.contains(e.target))}}function Mae(t,e,n,r){let s=0,i=!0;const a=[],l=t.firstChild;if(!l)return{};for(let m=0,y=0;m<l.childCount;m+=1){const{colspan:x,colwidth:b}=l.child(m).attrs;for(let S=0;S<x;S+=1,y+=1){const C=n===y?r:b&&b[S];s+=C||e,C||(i=!1);const[N,k]=aw(e,C);a.push(["col",{style:`${N}: ${k}`}])}}const d=i?`${s}px`:"",f=i?"":`${s}px`;return{colgroup:["colgroup",{},...a],tableWidth:d,tableMinWidth:f}}function N3(t,e){return t.createAndFill()}function Rae(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(n=>{const r=t.nodes[n];r.spec.tableRole&&(e[r.spec.tableRole]=r)}),t.cached.tableNodeTypes=e,e}function _ae(t,e,n,r,s){const i=Rae(t),a=[],l=[];for(let f=0;f<n;f+=1){const p=N3(i.cell);if(p&&l.push(p),r){const m=N3(i.header_cell);m&&a.push(m)}}const d=[];for(let f=0;f<e;f+=1)d.push(i.row.createChecked(null,r&&f===0?a:l));return i.table.createChecked(null,d)}function Lae(t){return t instanceof Fn}const vm=({editor:t})=>{const{selection:e}=t.state;if(!Lae(e))return!1;let n=0;const r=j6(e.ranges[0].$from,i=>i.type.name==="table");return r?.node.descendants(i=>{if(i.type.name==="table")return!1;["tableCell","tableHeader"].includes(i.type.name)&&(n+=1)}),n===e.ranges.length?(t.commands.deleteTable(),!0):!1},Pae=cr.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:Dae,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:t,HTMLAttributes:e}){const{colgroup:n,tableWidth:r,tableMinWidth:s}=Mae(t,this.options.cellMinWidth);return["table",Gn(this.options.HTMLAttributes,e,{style:r?`width: ${r}`:`min-width: ${s}`}),n,["tbody",0]]},addCommands(){return{insertTable:({rows:t=3,cols:e=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:s,editor:i})=>{const a=_ae(i.schema,t,e,n);if(s){const l=r.selection.from+1;r.replaceSelectionWith(a).scrollIntoView().setSelection(Vt.near(r.doc.resolve(l)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>Gie(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>Xie(t,e),deleteColumn:()=>({state:t,dispatch:e})=>Qie(t,e),addRowBefore:()=>({state:t,dispatch:e})=>eae(t,e),addRowAfter:()=>({state:t,dispatch:e})=>tae(t,e),deleteRow:()=>({state:t,dispatch:e})=>rae(t,e),deleteTable:()=>({state:t,dispatch:e})=>uae(t,e),mergeCells:()=>({state:t,dispatch:e})=>f3(t,e),splitCell:()=>({state:t,dispatch:e})=>h3(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>uh("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>uh("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>lae(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>f3(t,e)?!0:h3(t,e),setCellAttribute:(t,e)=>({state:n,dispatch:r})=>aae(t,e)(n,r),goToNextCell:()=>({state:t,dispatch:e})=>m3(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>m3(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&p_(t),!0),setCellSelection:t=>({tr:e,dispatch:n})=>{if(n){const r=Fn.create(e.doc,t.anchorCell,t.headCell);e.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:vm,"Mod-Backspace":vm,Delete:vm,"Mod-Delete":vm}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[bae({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],Oae({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:cn(_t(t,"tableRole",e))}}}),zae=cr.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",Gn(this.options.HTMLAttributes,t),0]}}),Iae=cr.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",Gn(this.options.HTMLAttributes,t),0]}}),Bae=cr.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",Gn(this.options.HTMLAttributes,t),0]}}),Fae=Iae.extend({addAttributes(){return{...this.parent?.(),style:{default:null,parseHTML:t=>t.getAttribute("style"),renderHTML:t=>({style:t.style})},"data-colwidth":{default:null,parseHTML:t=>t.getAttribute("data-colwidth"),renderHTML:t=>({"data-colwidth":t["data-colwidth"]})},"data-colindex":{default:null,parseHTML:t=>t.getAttribute("data-colindex"),renderHTML:t=>({"data-colindex":t["data-colindex"]})}}},renderHTML({node:t,HTMLAttributes:e}){return["td",{...e,class:"tiptap-table-cell","data-colwidth":t.attrs.colwidth?t.attrs.colwidth.join(","):null,"data-colindex":t.attrs["data-colindex"]||null},0]},addNodeView(){return({node:t,getPos:e,editor:n})=>{const{view:r}=n,s=document.createElement("td"),i=document.createElement("div"),a=document.createElement("div");i.contentEditable="true",s.appendChild(i),a.classList.add("column-resize-handle"),s.appendChild(a);const l=Array.from(s.parentElement?.children||[]).indexOf(s);l!==-1&&s.setAttribute("data-colindex",l);let d,f,p=!1;const m=b=>{b.button===0&&(b.preventDefault(),b.stopPropagation(),p=!0,d=b.clientX,f=s.offsetWidth,document.addEventListener("mousemove",y),document.addEventListener("mouseup",x),document.body.style.cursor="col-resize",document.body.style.userSelect="none",a.classList.add("is-resizing"))},y=b=>{if(!p)return;const S=b.clientX-d,C=Math.max(50,f+S),N=s.closest("table");if(N){const k=Array.from(s.parentElement.children).indexOf(s);N.querySelectorAll("tr").forEach(M=>{const E=M.querySelectorAll("td, th");E[k]&&(E[k].style.width=`${C}px`,E[k].style.minWidth=`${C}px`)})}},x=()=>{if(p&&(p=!1,document.body.style.cursor="",document.body.style.userSelect="",a.classList.remove("is-resizing"),document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",x),typeof e=="function")){const b=e(),S=Array.from(s.parentElement.children).indexOf(s),C=s.offsetWidth,N=r.state.tr,k=r.state.doc.resolve(b),D=k.node(-1),M=k.start(-1);D.descendants((E,A)=>{(E.type.name==="tableCell"||E.type.name==="tableHeader")&&(E.attrs.colspan>1?A-1:E.attrs["data-colindex"]||0)===S&&N.setNodeMarkup(M+A,null,{...E.attrs,style:`width: ${C}px; min-width: ${C}px;`,"data-colindex":S})}),N.steps.length>0&&r.dispatch(N)}};return a.addEventListener("mousedown",m),{dom:s,contentDOM:i,destroy:()=>{a.removeEventListener("mousedown",m),document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",x)}}}}}),TS=t=>t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""),$ae=X6.extend({addAttributes(){return{...this.parent?.(),id:{default:null,parseHTML:t=>t.getAttribute("id"),renderHTML:t=>t.id?{id:t.id}:{}}}},addCommands(){return{...this.parent?.(),setHeadingWithId:t=>({commands:e})=>e.setNode(this.name,t)}}}),Uae=lie.extend({addAttributes(){return{...this.parent?.(),alt:{default:"",parseHTML:t=>t.getAttribute("alt"),renderHTML:t=>t.alt?{alt:t.alt}:{}},title:{default:"",parseHTML:t=>t.getAttribute("title"),renderHTML:t=>t.title?{title:t.title}:{}},content:{default:"",parseHTML:t=>t.getAttribute("data-content"),renderHTML:t=>t.content?{"data-content":t.content}:{}}}}}),Vae=cr.create({name:"infoBox",group:"block",content:"inline*",defining:!0,addAttributes(){return{class:{default:"info-box"}}},parseHTML(){return[{tag:'div[class*="info-box"]'}]},renderHTML({HTMLAttributes:t}){return["div",Gn(t,{class:"info-box"}),0]},addCommands(){return{setInfoBox:()=>({commands:t})=>t.setNode("infoBox")}}}),Hae=Di.create({name:"dynamicDate",inclusive(){return!1},parseHTML(){return[{tag:"span.dynamic-date"}]},renderHTML(){return["span",{class:"dynamic-date"},0]},addCommands(){return{toggleDynamicDate:()=>({commands:t})=>t.toggleMark(this.name)}}}),qae=cr.create({name:"video",group:"block",atom:!0,inline:!1,addAttributes(){return{src:{default:null},alt:{default:""},title:{default:""},description:{default:""},type:{default:"local"},youtubeId:{default:null},width:{default:"100%"},height:{default:"auto"}}},parseHTML(){return[{tag:"video",getAttrs:t=>({src:t.getAttribute("src"),alt:t.getAttribute("alt"),title:t.getAttribute("title"),description:t.getAttribute("data-description"),type:t.getAttribute("data-type")||"local",youtubeId:t.getAttribute("data-youtube-id"),width:t.getAttribute("width")||"100%",height:t.getAttribute("height")||"auto"})},{tag:"div[data-video]",getAttrs:t=>({src:t.getAttribute("data-src"),alt:t.getAttribute("data-alt"),title:t.getAttribute("data-title"),description:t.getAttribute("data-description"),type:t.getAttribute("data-type")||"local",youtubeId:t.getAttribute("data-youtube-id"),width:t.getAttribute("width")||"100%",height:t.getAttribute("height")||"auto"})}]},renderHTML({HTMLAttributes:t}){const{src:e,alt:n,title:r,description:s,type:i,youtubeId:a,width:l,height:d}=t;return i==="youtube"&&a?["div",{class:"video-container youtube-video","data-video":!0,"data-type":"youtube","data-youtube-id":a,"data-alt":n,"data-title":r,"data-description":s,"data-width":l,"data-height":d},["iframe",{src:`https://www.youtube.com/embed/${a}`,width:l,height:d==="auto"?"315":d,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0,title:r||n}]]:["video",{src:e,alt:n,title:r,"data-description":s,"data-type":"local",width:l,height:d,controls:!0,preload:"metadata",class:"help-center-video"}]},addCommands(){return{setVideo:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}}}),Kae=cr.create({name:"youtubeVideo",group:"block",atom:!0,inline:!1,defining:!0,content:"",addAttributes(){return{videoId:{default:null},alt:{default:""},title:{default:""},description:{default:""},width:{default:"100%"},height:{default:"400"}}},parseHTML(){return[{tag:"div[data-youtube-video]",getAttrs:t=>({videoId:t.getAttribute("data-video-id"),alt:t.getAttribute("data-alt"),title:t.getAttribute("data-title"),description:t.getAttribute("data-description"),width:t.getAttribute("data-width")||"100%",height:t.getAttribute("data-height")||"400"})}]},renderHTML({HTMLAttributes:t}){const{videoId:e,alt:n,title:r,description:s,width:i,height:a}=t;return["div",{"data-youtube-video":!0,"data-video-id":e,"data-alt":n,"data-title":r,"data-description":s,"data-width":i,"data-height":a,class:"youtube-video-container"},["iframe",{src:`https://www.youtube.com/embed/${e}`,title:r||"YouTube video player",alt:n,width:i,height:a,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowfullscreen:!0,class:"youtube-iframe"}]]},addCommands(){return{setYouTubeVideo:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}}}),Yae=[sie.configure({heading:!1,paragraph:!0,blockquote:!0,codeBlock:!0}),Vae,$ae.configure({levels:[1,2,3,4,5,6],HTMLAttributes:{class:"heading-with-id"}}),iie.configure({types:["heading","paragraph"],alignments:["left","center","right","justify"]}),aie,Hae,Uae.configure({inline:!0,allowBase64:!1,HTMLAttributes:{class:"help-center-image"}}),Rie.configure({openOnClick:!1,HTMLAttributes:{class:"custom-link",rel:"noopener noreferrer"}}),Pae.extend({content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({HTMLAttributes:t}){return["div",{class:"table-wrapper"},["table",{...t,class:"tiptap-table"},["tbody",0]]]},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.insertTable({rows:3,cols:3,withHeaderRow:!0})}}}).configure({resizable:!0,lastColumnResizable:!0,allowTableNodeSelection:!0,HTMLAttributes:{class:"tiptap-table"}}),zae,Bae,Fae.configure({HTMLAttributes:{class:"tiptap-table-cell"}}),qae,Kae],Wae=({uploadImgUrl:t="",uploadVideoUrl:e="https://api.nexus.com/api/admin/blog-media/upload-video",processYoutubeUrl:n="https://api.nexus.com/api/admin/blog-media/process-youtube"})=>{const{editor:r}=pS(),s=j.useRef(null),i=j.useRef(null),[a,l]=j.useState(!1),[d,f]=j.useState(!1),[p,m]=j.useState(!1),[y,x]=j.useState(""),[b,S]=j.useState(!1),[C,N]=j.useState(""),[k,D]=j.useState(""),[M,E]=j.useState(""),[A,P]=j.useState(null),[F,ee]=j.useState(!1),[be,ce]=j.useState(""),[ae,te]=j.useState(""),[ke,ze]=j.useState(""),[W,oe]=j.useState(null),[ye,Fe]=j.useState(!1),[U,ue]=j.useState(""),[se,fe]=j.useState(!1),[Ee,Pe]=j.useState(3),[Oe,Ye]=j.useState(3),Me=j.useRef(null),ut=j.useRef(null),Ze=j.useRef(null),St=j.useRef(null);if(!r)return null;const Nt=async pe=>{const mt=pe.target.files[0];if(mt){l(!0);try{const Lt=new FormData;Lt.append("image",mt);const rt=await Ge.post(t,Lt,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("userToken")}`}});if(rt.data.success&&rt.data.data?.url){const Te=rt.data.data.url;r.chain().focus().setImage({src:Te}).run();const{state:lt}=r,{selection:jt}=lt,Et=jt.$anchor.pos-1;P(Et),N(""),D(""),E(""),S(!0),setTimeout(()=>{ut.current?.focus()},100)}else throw new Error("Invalid response format")}catch(Lt){console.error("Image upload failed:",Lt),ge.error("Failed to upload image. Please try again.")}finally{l(!1),pe.target.value=""}}},Ft=async pe=>{const mt=pe.target.files[0];if(!mt)return;if(mt.size>100*1024*1024){ge.error("Video file size must be less than 100MB");return}if(!["video/mp4","video/mov","video/avi","video/wmv","video/webm"].includes(mt.type)){ge.error("Please select a valid video file (MP4, MOV, AVI, WMV, WebM)");return}f(!0);try{const rt=new FormData;rt.append("video",mt);const Te=await Ge.post(e,rt,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("userToken")}`}});if(Te.data.success&&Te.data.data?.url){const lt=Te.data.data.url;r.chain().focus().setVideo({src:lt,type:"local"}).run();const{state:jt}=r,{selection:Et}=jt,kt=Et.$anchor.pos-1;oe(kt),ce(""),te(""),ze(""),ee(!0),setTimeout(()=>{Ze.current?.focus()},100)}else throw new Error("Invalid response format")}catch(rt){console.error("Video upload failed:",rt),ge.error("Failed to upload video. Please try again.")}finally{f(!1),pe.target.value=""}},nt=async pe=>{if(pe.preventDefault(),!U.trim()){ge.error("Please enter a YouTube URL");return}let mt=null;const Lt=U.trim();if(Lt.includes("youtube.com/watch?v=")?mt=Lt.split("v=")[1]?.split("&")[0]:Lt.includes("youtu.be/")?mt=Lt.split("youtu.be/")[1]?.split("?")[0]:Lt.includes("youtube.com/embed/")&&(mt=Lt.split("embed/")[1]?.split("?")[0]),!mt){ge.error("Invalid YouTube URL. Please enter a valid YouTube video URL.");return}try{r.chain().focus().setYouTubeVideo({videoId:mt,alt:"",title:"YouTube video player",description:"",width:"100%",height:"400"}).run(),setTimeout(()=>{const jt=r.getHTML()},100)}catch(jt){console.error("Error inserting YouTube video:",jt),r.chain().focus().insertContent(`[YouTube Video: ${mt}]`).run(),ge.error("Failed to embed YouTube video. Please try again.")}const{state:rt}=r,{selection:Te}=rt,lt=Te.$anchor.pos-1;oe(lt),ce(""),te(""),ze(""),ee(!0),setTimeout(()=>{Ze.current?.focus()},100),ue(""),Fe(!1)},Z=pe=>{if(pe.preventDefault(),!A)return;const{state:mt}=r,Lt=mt.doc.nodeAt(A);Lt&&Lt.type.name==="image"&&r.chain().focus().command(({tr:rt})=>{const Te={...Lt.attrs,alt:C,title:k,content:M};return rt.setNodeMarkup(A,void 0,Te),!0}).run(),S(!1),N(""),D(""),E(""),P(null)},Ve=pe=>{if(pe.preventDefault(),!W)return;const{state:mt}=r,Lt=mt.doc.nodeAt(W);Lt&&Lt.type.name==="video"&&r.chain().focus().command(({tr:Te})=>{const lt={...Lt.attrs,alt:be,title:ae,description:ke};return Te.setNodeMarkup(W,void 0,lt),!0}).run();const rt=r.getHTML();if(rt.includes("data-youtube-video")){let Te=rt;Te=Te.replace(/<div([^>]*data-youtube-video[^>]*)>/g,(lt,jt)=>{let Et=jt.replace(/data-alt="[^"]*"/g,"").replace(/data-title="[^"]*"/g,"").replace(/data-description="[^"]*"/g,"");return be&&(Et+=` data-alt="${be}"`),ae&&(Et+=` data-title="${ae}"`),ke&&(Et+=` data-description="${ke}"`),`<div${Et}>`}),r.commands.setContent(Te)}ee(!1),ce(""),te(""),ze(""),oe(null)},qe=()=>{ee(!1),ce(""),te(""),ze(""),oe(null),r.chain().focus().run()},at=()=>{S(!1),N(""),D(""),E(""),P(null),r.chain().focus().run()},bt=pe=>{pe.preventDefault();const{from:mt,to:Lt}=r.state.selection;if(r.state.doc.textBetween(mt,Lt," ").trim()===""){ge.error("Please select some text first");return}if(r.isActive("link")){const Te=r.getAttributes("link").href||"";x(Te)}else x("");m(!0),setTimeout(()=>{Me.current?.focus()},100)},$=pe=>{if(pe.preventDefault(),y.trim()===""){m(!1);return}let mt=y.trim();!mt.startsWith("http://")&&!mt.startsWith("https://")&&(mt="https://"+mt),r.chain().focus().setLink({href:mt}).run(),m(!1),x("")},re=()=>{m(!1),x(""),r.chain().focus().run()},B=pe=>{pe.preventDefault(),r.chain().focus().unsetLink().run()},de=pe=>{pe.preventDefault(),fe(!se)},xe=pe=>{pe.preventDefault(),r.chain().focus().insertTable({rows:Ee,cols:Oe,withHeaderRow:!0}).run(),fe(!1)},H=pe=>{pe.preventDefault(),r.chain().focus().addRowAfter().run()},V=pe=>{pe.preventDefault(),r.chain().focus().addColumnAfter().run()},we=pe=>{pe.preventDefault(),r.chain().focus().deleteRow().run()},et=pe=>{pe.preventDefault(),r.chain().focus().deleteColumn().run()},ht=pe=>{pe.preventDefault(),r.chain().focus().deleteTable().run()},Jt=pe=>{pe.preventDefault(),r.chain().focus().mergeCells().run()},Pt=pe=>{pe.preventDefault(),r.chain().focus().splitCell().run()},an=pe=>{pe.preventDefault(),r.chain().focus().toggleHeaderRow().run()},Qt=pe=>{pe.preventDefault(),r.chain().focus().toggleHeaderColumn().run()},Ne=pe=>{pe.preventDefault(),r.chain().focus().setCellAttribute("textAlign","left").run()},ot=pe=>{pe.preventDefault(),r.chain().focus().setCellAttribute("textAlign","center").run()},pt=pe=>{pe.preventDefault(),r.chain().focus().setCellAttribute("textAlign","right").run()};return u.jsxs("div",{className:"tiptap-toolbar single-line",children:[u.jsxs("div",{className:"toolbar-group",children:[u.jsx("button",{onClick:pe=>{pe.preventDefault(),r.chain().focus().toggleBold().run()},disabled:!r.can().chain().focus().toggleBold().run(),className:r.isActive("bold")?"is-active":"",title:"Bold",children:u.jsx(EH,{size:16})}),u.jsx("button",{onClick:pe=>{pe.preventDefault(),r.chain().focus().toggleItalic().run()},disabled:!r.can().chain().focus().toggleItalic().run(),className:r.isActive("italic")?"is-active":"",title:"Italic",children:u.jsx(QH,{size:16})}),u.jsx("button",{onClick:pe=>{pe.preventDefault(),r.chain().focus().toggleStrike().run()},disabled:!r.can().chain().focus().toggleStrike().run(),className:r.isActive("strike")?"is-active":"",title:"Strikethrough",children:u.jsx(gq,{size:16})}),u.jsx("button",{onClick:pe=>{pe.preventDefault(),r.chain().focus().toggleUnderline().run()},disabled:!r.can().chain().focus().toggleUnderline().run(),className:r.isActive("underline")?"is-active":"",title:"Underline",children:u.jsx(wq,{size:16})}),u.jsx("button",{onClick:pe=>{pe.preventDefault(),r.chain().focus().toggleDynamicDate().run()},disabled:!r.can().chain().focus().toggleDynamicDate().run(),className:r.isActive("dynamicDate")?"is-active":"",title:"Dynamic Date",children:u.jsx(kH,{size:16})})]}),u.jsx("div",{className:"toolbar-divider"}),u.jsxs("div",{className:"toolbar-group",children:[u.jsx("button",{onClick:pe=>{pe.preventDefault(),r.chain().focus().toggleHeading({level:1}).run()},className:r.isActive("heading",{level:1})?"is-active":"",title:"Heading 1",children:u.jsx(zH,{size:16})}),u.jsx("button",{onClick:pe=>{pe.preventDefault(),r.chain().focus().toggleHeading({level:2}).run()},className:r.isActive("heading",{level:2})?"is-active":"",title:"Heading 2",children:u.jsx(BH,{size:16})}),u.jsx("button",{onClick:pe=>{pe.preventDefault(),r.chain().focus().toggleHeading({level:3}).run()},className:r.isActive("heading",{level:3})?"is-active":"",title:"Heading 3",children:u.jsx($H,{size:16})}),u.jsx("button",{onClick:pe=>{pe.preventDefault(),r.chain().focus().toggleHeading({level:4}).run()},className:r.isActive("heading",{level:4})?"is-active":"",title:"Heading 4",children:u.jsx(VH,{size:16})}),u.jsx("button",{onClick:pe=>{pe.preventDefault(),r.chain().focus().toggleHeading({level:5}).run()},className:r.isActive("heading",{level:5})?"is-active":"",title:"Heading 5",children:u.jsx(qH,{size:16})}),u.jsx("button",{onClick:pe=>{pe.preventDefault(),r.chain().focus().toggleHeading({level:6}).run()},className:r.isActive("heading",{level:6})?"is-active":"",title:"Heading 6",children:u.jsx(YH,{size:16})})]}),u.jsx("div",{className:"toolbar-divider"}),u.jsxs("div",{className:"toolbar-group",children:[u.jsx("button",{onClick:pe=>{pe.preventDefault(),r.chain().focus().toggleBulletList().run()},className:r.isActive("bulletList")?"is-active":"",title:"Bullet List",children:u.jsx(rq,{size:16})}),u.jsx("button",{onClick:pe=>{pe.preventDefault(),r.chain().focus().toggleOrderedList().run()},className:r.isActive("orderedList")?"is-active":"",title:"Numbered List",children:u.jsx(tq,{size:16})})]}),u.jsx("div",{className:"toolbar-divider"}),u.jsxs("div",{className:"toolbar-group",children:[u.jsx("button",{onClick:pe=>{pe.preventDefault(),r.isActive("blockquote")?r.chain().focus().toggleBlockquote().run():r.chain().focus().toggleBlockquote().updateAttributes("blockquote",{class:""}).run()},className:r.isActive("blockquote")&&r.getAttributes("blockquote").class!=="info-box"?"is-active":"",title:"Blockquote",children:u.jsx(uq,{size:16})}),u.jsx("button",{onClick:pe=>{pe.preventDefault(),r.isActive("infoBox")?r.chain().focus().setParagraph().run():r.chain().focus().setInfoBox().run()},className:r.isActive("infoBox")?"is-active":"",title:"Info Box",children:u.jsx(XH,{size:16})}),u.jsx("button",{onClick:pe=>{pe.preventDefault(),r.chain().focus().toggleCodeBlock().run()},className:r.isActive("codeBlock")?"is-active":"",title:"Code Block",children:u.jsx(LH,{size:16})}),u.jsx("button",{onClick:pe=>{pe.preventDefault(),r.chain().focus().setHorizontalRule().run()},title:"Horizontal Rule",children:u.jsx(oq,{size:16})})]}),u.jsx("div",{className:"toolbar-divider"}),u.jsxs("div",{className:"toolbar-group",children:[u.jsx("button",{onClick:pe=>{pe.preventDefault(),r.chain().focus().setTextAlign("left").run()},className:r.isActive({textAlign:"left"})?"is-active":"",title:"Align Left",children:u.jsx(JE,{size:16})}),u.jsx("button",{onClick:pe=>{pe.preventDefault(),r.chain().focus().setTextAlign("center").run()},className:r.isActive({textAlign:"center"})?"is-active":"",title:"Align Center",children:u.jsx(XE,{size:16})}),u.jsx("button",{onClick:pe=>{pe.preventDefault(),r.chain().focus().setTextAlign("right").run()},className:r.isActive({textAlign:"right"})?"is-active":"",title:"Align Right",children:u.jsx(QE,{size:16})}),u.jsx("button",{onClick:pe=>{pe.preventDefault(),r.chain().focus().setTextAlign("justify").run()},className:r.isActive({textAlign:"justify"})?"is-active":"",title:"Justify",children:u.jsx(CH,{size:16})})]}),u.jsx("div",{className:"toolbar-divider"}),u.jsxs("div",{className:"toolbar-group",children:[u.jsx("button",{onClick:bt,className:r.isActive("link")?"is-active":"",title:"Add/Edit Link",children:u.jsx(iD,{size:16})}),r.isActive("link")&&u.jsx("button",{onClick:B,title:"Remove Link",children:u.jsx(aD,{size:16})})]}),u.jsx("div",{className:"toolbar-divider"}),u.jsxs("div",{className:"toolbar-group",children:[u.jsx("input",{type:"file",ref:s,onChange:Nt,accept:"image/*",style:{display:"none"},disabled:a}),u.jsx("button",{onClick:pe=>{pe.preventDefault(),s.current.click()},title:"Upload Image",disabled:a,className:a?"is-uploading":"",children:a?"Uploading...":u.jsx(sD,{size:16})})]}),u.jsx("div",{className:"toolbar-divider"}),u.jsxs("div",{className:"toolbar-group",children:[u.jsx("input",{type:"file",ref:i,onChange:Ft,accept:"video/*",style:{display:"none"},disabled:d}),u.jsx("button",{onClick:pe=>{pe.preventDefault(),i.current.click()},title:"Upload Video",disabled:d,className:d?"is-uploading":"",children:d?"Uploading...":u.jsx(oD,{size:16})}),u.jsx("button",{onClick:pe=>{pe.preventDefault(),Fe(!0),setTimeout(()=>{St.current?.focus()},100)},title:"Add YouTube Video",children:u.jsx(Aq,{size:16})})]}),u.jsx("div",{className:"toolbar-divider"}),u.jsx("div",{className:"toolbar-group",children:u.jsx("button",{onClick:de,className:r.isActive("table")?"is-active":"",title:"Table",children:u.jsx(xq,{size:16})})}),u.jsx("div",{className:"toolbar-divider"}),u.jsxs("div",{className:"toolbar-group",children:[u.jsx("button",{onClick:pe=>{pe.preventDefault(),r.chain().focus().undo().run()},disabled:!r.can().undo(),title:"Undo",children:u.jsx(Cq,{size:16})}),u.jsx("button",{onClick:pe=>{pe.preventDefault(),r.chain().focus().redo().run()},disabled:!r.can().redo(),title:"Redo",children:u.jsx(fq,{size:16})})]}),se&&u.jsxs("div",{className:"table-controls-modal",children:[u.jsx("div",{className:"table-controls-overlay",onClick:()=>fe(!1)}),u.jsxs("div",{className:"table-controls-container",children:[u.jsx("h4",{children:"Create Table"}),u.jsxs("div",{className:"table-controls-grid",children:[u.jsxs("div",{className:"table-control-row",children:[u.jsx("label",{children:"Rows:"}),u.jsx("input",{type:"number",min:"1",max:"10",value:Ee,onChange:pe=>Pe(parseInt(pe.target.value)||1)})]}),u.jsxs("div",{className:"table-control-row",children:[u.jsx("label",{children:"Columns:"}),u.jsx("input",{type:"number",min:"1",max:"10",value:Oe,onChange:pe=>Ye(parseInt(pe.target.value)||1)})]})]}),u.jsxs("div",{className:"table-controls-buttons",children:[u.jsx("button",{onClick:xe,className:"table-create-btn",children:"Create Table"}),u.jsx("button",{onClick:()=>fe(!1),className:"table-cancel-btn",children:"Cancel"})]})]})]}),r?.isActive("table")&&u.jsxs("div",{className:"table-edit-controls",children:[u.jsxs("div",{className:"table-controls-group",children:[u.jsx("button",{onClick:H,title:"Add Row",children:u.jsx(eA,{size:14})}),u.jsx("button",{onClick:V,title:"Add Column",children:u.jsx(eA,{size:14,style:{transform:"rotate(90deg)"}})}),u.jsx("button",{onClick:we,title:"Delete Row",children:u.jsx(Cv,{size:14})}),u.jsx("button",{onClick:et,title:"Delete Column",children:u.jsx(Cv,{size:14,style:{transform:"rotate(90deg)"}})})]}),u.jsx("div",{className:"table-controls-divider"}),u.jsxs("div",{className:"table-controls-group",children:[u.jsx("button",{onClick:Jt,title:"Merge Cells",children:u.jsx(iq,{size:14})}),u.jsx("button",{onClick:Pt,title:"Split Cell",children:u.jsx(pq,{size:14})})]}),u.jsx("div",{className:"table-controls-divider"}),u.jsxs("div",{className:"table-controls-group",children:[u.jsx("button",{onClick:Ne,title:"Align Left",children:u.jsx(JE,{size:14})}),u.jsx("button",{onClick:ot,title:"Align Center",children:u.jsx(XE,{size:14})}),u.jsx("button",{onClick:pt,title:"Align Right",children:u.jsx(QE,{size:14})})]}),u.jsx("div",{className:"table-controls-divider"}),u.jsxs("div",{className:"table-controls-group",children:[u.jsx("button",{onClick:an,title:"Toggle Header Row",children:"H"}),u.jsx("button",{onClick:Qt,title:"Toggle Header Column",children:"H|"}),u.jsx("button",{onClick:ht,title:"Delete Table",children:u.jsx(Cv,{size:14,color:"#ef4444"})})]})]}),p&&u.jsxs("div",{className:"link-input-modal",children:[u.jsx("div",{className:"link-input-overlay",onClick:re}),u.jsx("div",{className:"link-input-container",children:u.jsxs("div",{children:[u.jsx("input",{ref:Me,type:"text",value:y,onChange:pe=>x(pe.target.value),placeholder:"Enter URL (e.g., https://example.com)",className:"link-input",onKeyDown:pe=>{pe.key==="Enter"&&(pe.preventDefault(),$(pe)),pe.key==="Escape"&&re()}}),u.jsxs("div",{className:"link-input-buttons",children:[u.jsxs("button",{type:"button",onClick:$,className:"link-submit-btn",children:[r.isActive("link")?"Update":"Add"," Link"]}),u.jsx("button",{type:"button",onClick:re,className:"link-cancel-btn",children:"Cancel"})]})]})})]}),b&&u.jsxs("div",{className:"link-input-modal",children:[u.jsx("div",{className:"link-input-overlay",onClick:at}),u.jsx("div",{className:"link-input-container",children:u.jsxs("div",{className:"image-meta-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Alt Text"}),u.jsx("input",{ref:ut,type:"text",value:C,onChange:pe=>N(pe.target.value),placeholder:"Enter alt text for accessibility",className:"link-input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Title"}),u.jsx("input",{type:"text",value:k,onChange:pe=>D(pe.target.value),placeholder:"Enter title text (shown on hover)",className:"link-input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Content"}),u.jsx("textarea",{value:M,onChange:pe=>E(pe.target.value),placeholder:"Enter additional content or description",className:"link-input textarea",rows:3})]}),u.jsxs("div",{className:"link-input-buttons",children:[u.jsx("button",{type:"button",onClick:Z,className:"link-submit-btn",children:"Save Image Details"}),u.jsx("button",{type:"button",onClick:at,className:"link-cancel-btn",children:"Cancel"})]})]})})]}),F&&u.jsxs("div",{className:"link-input-modal",children:[u.jsx("div",{className:"link-input-overlay",onClick:qe}),u.jsx("div",{className:"link-input-container",children:u.jsxs("div",{className:"image-meta-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Alt Text"}),u.jsx("input",{ref:Ze,type:"text",value:be,onChange:pe=>ce(pe.target.value),placeholder:"Enter alt text for accessibility",className:"link-input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Title"}),u.jsx("input",{type:"text",value:ae,onChange:pe=>te(pe.target.value),placeholder:"Enter title text (shown on hover)",className:"link-input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Description"}),u.jsx("textarea",{value:ke,onChange:pe=>ze(pe.target.value),placeholder:"Enter video description",className:"link-input textarea",rows:3})]}),u.jsxs("div",{className:"link-input-buttons",children:[u.jsx("button",{type:"button",onClick:Ve,className:"link-submit-btn",children:"Save Video Details"}),u.jsx("button",{type:"button",onClick:qe,className:"link-cancel-btn",children:"Cancel"})]})]})})]}),ye&&u.jsxs("div",{className:"link-input-modal",children:[u.jsx("div",{className:"link-input-overlay",onClick:()=>Fe(!1)}),u.jsx("div",{className:"link-input-container",children:u.jsxs("div",{children:[u.jsx("h4",{children:"Add YouTube Video"}),u.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Enter a YouTube URL to embed the video directly in your content."}),u.jsx("input",{ref:St,type:"text",value:U,onChange:pe=>ue(pe.target.value),placeholder:"Enter YouTube URL (e.g., https://www.youtube.com/watch?v=VIDEO_ID)",className:"link-input",onKeyDown:pe=>{pe.key==="Enter"&&(pe.preventDefault(),nt(pe)),pe.key==="Escape"&&Fe(!1)}}),u.jsxs("div",{className:"link-input-buttons",children:[u.jsx("button",{type:"button",onClick:nt,className:"link-submit-btn",children:"Embed Video"}),u.jsx("button",{type:"button",onClick:()=>Fe(!1),className:"link-cancel-btn",children:"Cancel"})]})]})})]})]})},Gae=()=>{const{editor:t}=pS(),[e,n]=j.useState(!1),[r,s]=j.useState(""),[i,a]=j.useState(!1),[l,d]=j.useState(""),[f,p]=j.useState(""),[m,y]=j.useState(""),[x,b]=j.useState(null),[S,C]=j.useState(!1),[N,k]=j.useState(""),[D,M]=j.useState(""),[E,A]=j.useState(""),[P,F]=j.useState(null),ee=j.useRef(null),be=j.useRef(null),ce=j.useRef(null);if(!t)return null;const ae=se=>{if(se.preventDefault(),t.isActive("link")){const fe=t.getAttributes("link").href||"";s(fe)}else s("");n(!0),setTimeout(()=>{ee.current?.focus()},100)},te=se=>{if(se.preventDefault(),r.trim()===""){n(!1);return}let fe=r.trim();!fe.startsWith("http://")&&!fe.startsWith("https://")&&(fe="https://"+fe),t.chain().focus().setLink({href:fe}).run(),n(!1),s("")},ke=()=>{n(!1),s(""),t.chain().focus().run()},ze=se=>{se.preventDefault(),t.chain().focus().unsetLink().run()},W=se=>{se.preventDefault();const{state:fe}=t,{from:Ee,to:Pe}=fe.selection;fe.doc.nodesBetween(Ee,Pe,(Oe,Ye)=>{if(Oe.type.name==="image")return b(Ye),d(Oe.attrs.alt||""),p(Oe.attrs.title||""),y(Oe.attrs.content||""),a(!0),setTimeout(()=>{be.current?.focus()},100),!1})},oe=se=>{se.preventDefault(),x!==null&&(t.chain().focus().command(({tr:fe})=>{const Ee=fe.doc.nodeAt(x);return Ee&&Ee.type.name==="image"&&fe.setNodeMarkup(x,void 0,{...Ee.attrs,alt:l,title:f,content:m}),!0}).run(),a(!1),d(""),p(""),y(""),b(null))},ye=()=>{a(!1),d(""),p(""),y(""),b(null),t.chain().focus().run()},Fe=se=>{se.preventDefault();const{state:fe}=t,{from:Ee,to:Pe}=fe.selection;fe.doc.nodesBetween(Ee,Pe,(Ye,Me)=>{if(Ye.type.name==="video")return F(Me),k(Ye.attrs.alt||""),M(Ye.attrs.title||""),A(Ye.attrs.description||""),C(!0),setTimeout(()=>{ce.current?.focus()},100),!1});const Oe=t.getHTML();if(Oe.includes("data-youtube-video")){const Ye=Oe.match(/<div[^>]*data-youtube-video[^>]*>/);if(Ye){const Me=Ye[0],ut=Me.match(/data-title="([^"]*)"/),Ze=Me.match(/data-alt="([^"]*)"/),St=Me.match(/data-description="([^"]*)"/);F(Ee),k(Ze?Ze[1]:""),M(ut?ut[1]:""),A(St?St[1]:""),C(!0),setTimeout(()=>{ce.current?.focus()},100)}}},U=se=>{if(se.preventDefault(),P===null)return;t.chain().focus().command(({tr:Ee})=>{const Pe=Ee.doc.nodeAt(P);return Pe&&Pe.type.name==="video"?(Ee.setNodeMarkup(P,void 0,{...Pe.attrs,alt:N,title:D,description:E}),!0):!1}).run();const fe=t.getHTML();if(fe.includes("data-youtube-video")){let Ee=fe;Ee=Ee.replace(/<div([^>]*data-youtube-video[^>]*)>/g,(Pe,Oe)=>{let Ye=Oe.replace(/data-alt="[^"]*"/g,"").replace(/data-title="[^"]*"/g,"").replace(/data-description="[^"]*"/g,"");return N&&(Ye+=` data-alt="${N}"`),D&&(Ye+=` data-title="${D}"`),E&&(Ye+=` data-description="${E}"`),`<div${Ye}>`}),t.commands.setContent(Ee)}C(!1),k(""),M(""),A(""),F(null)},ue=()=>{C(!1),k(""),M(""),A(""),F(null),t.chain().focus().run()};return u.jsx(rse,{editor:t,tippyOptions:{duration:100,onHidden:()=>{n(!1),a(!1),C(!1),s(""),d(""),p(""),y(""),b(null),k(""),M(""),A(""),F(null)}},children:u.jsxs("div",{className:"bubble-menu",children:[u.jsxs("div",{className:"flex",children:[u.jsx("button",{onClick:ae,className:t.isActive("link")?"is-active":"",title:"Add/Edit Link",children:u.jsx(iD,{size:14})}),t.isActive("link")&&u.jsx("button",{onClick:ze,title:"Remove Link",children:u.jsx(aD,{size:14})}),t.isActive("image")&&u.jsx("button",{onClick:W,title:"Edit Image Details",children:u.jsx(sD,{size:14})}),(t.isActive("video")||t.getHTML().includes("data-youtube-video"))&&u.jsx("button",{onClick:Fe,title:"Edit Video Details",children:u.jsx(oD,{size:14})})]}),i&&u.jsx("div",{className:"bubble-link-input",children:u.jsxs("div",{className:"image-meta-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Alt:"}),u.jsx("input",{ref:be,type:"text",value:l,onChange:se=>d(se.target.value),placeholder:"Alt text",className:"bubble-link-field !w-full"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Title:"}),u.jsx("input",{type:"text",value:f,onChange:se=>p(se.target.value),placeholder:"Title",className:"bubble-link-field !w-full"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Content:"}),u.jsx("textarea",{value:m,onChange:se=>y(se.target.value),placeholder:"Content",className:"bubble-link-field textarea",rows:2})]}),u.jsxs("div",{className:"form-buttons",children:[u.jsx("button",{type:"button",onClick:oe,className:"bubble-link-submit",children:u.jsx(ZE,{size:16,color:"green"})}),u.jsx("button",{type:"button",onClick:ye,className:"bubble-link-cancel",children:u.jsx(tA,{size:16,color:"red"})})]})]})}),e&&u.jsx("div",{className:"bubble-link-input",children:u.jsxs("div",{children:[u.jsx("input",{ref:ee,type:"text",value:r,onChange:se=>s(se.target.value),placeholder:"Enter URL",className:"bubble-link-field",onKeyDown:se=>{se.key==="Enter"&&(se.preventDefault(),te(se)),se.key==="Escape"&&ke()}}),u.jsx("button",{type:"button",onClick:te,className:"bubble-link-submit",children:""}),u.jsx("button",{type:"button",onClick:ke,className:"bubble-link-cancel",children:""})]})}),S&&u.jsx("div",{className:"bubble-link-input",children:u.jsxs("div",{className:"image-meta-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Alt:"}),u.jsx("input",{ref:ce,type:"text",value:N,onChange:se=>k(se.target.value),placeholder:"Alt text",className:"bubble-link-field !w-full"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Title:"}),u.jsx("input",{type:"text",value:D,onChange:se=>M(se.target.value),placeholder:"Title",className:"bubble-link-field !w-full"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Desc:"}),u.jsx("textarea",{value:E,onChange:se=>A(se.target.value),placeholder:"Description",className:"bubble-link-field textarea",rows:2})]}),u.jsxs("div",{className:"form-buttons",children:[u.jsx("button",{type:"button",onClick:U,className:"bubble-link-submit",children:u.jsx(ZE,{size:16,color:"green"})}),u.jsx("button",{type:"button",onClick:ue,className:"bubble-link-cancel",children:u.jsx(tA,{size:16,color:"red"})})]})]})})]})})},Xae=t=>{const r=new DOMParser().parseFromString(t,"text/html").querySelectorAll("h1, h2, h3, h4, h5, h6");return Array.from(r).map(s=>{const i=s.textContent.trim(),a=s.id,l=TS(i);return{id:a||l,text:i,level:parseInt(s.tagName.substring(1)),tag:s.tagName.toLowerCase()}})},Jae=t=>{const n=new DOMParser().parseFromString(t,"text/html"),r=n.querySelectorAll("h1, h2, h3, h4, h5, h6");let s=!1;return r.forEach(i=>{const a=i.textContent.trim();a&&!i.id&&(i.id=TS(a),s=!0)}),s?n.body.innerHTML:t},ui=({content:t="",onUpdate:e,onHeadingsUpdate:n,uploadImgUrl:r="https://nexus-consults.com/api/public/api/admin/blogs/upload-content-image",uploadVideoUrl:s="https://api.nexus.com/api/admin/blog-media/upload-video",processYoutubeUrl:i="https://api.nexus.com/api/admin/blog-media/process-youtube"})=>{const[a,l]=j.useState(!1),[d,f]=j.useState(null),p=j.useRef(null),m=j.useCallback(b=>{!b||!a||(p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{const{state:S}=b,{tr:C}=S;let N=!1;S.doc.descendants((k,D)=>{if(k.type.name==="heading"&&k.textContent){const M=k.attrs.id,E=TS(k.textContent);M!==E&&(C.setNodeMarkup(D,void 0,{...k.attrs,id:E}),N=!0)}}),N&&b.view.dispatch(C)},500))},[a]),y=j.useCallback(({editor:b})=>{if(a){let S=b.getHTML();S=Jae(S);const C=Xae(S);e&&e(S),n&&n(C),m(b)}},[e,n,a,m]),x=j.useCallback(({editor:b})=>{f(b)},[]);return j.useEffect(()=>(l(!0),()=>{p.current&&clearTimeout(p.current)}),[]),u.jsx("div",{className:"tiptap-container",children:u.jsxs(nse,{extensions:Yae,content:t,onUpdate:y,onCreate:x,children:[u.jsx(Wae,{uploadImgUrl:r,uploadVideoUrl:s,processYoutubeUrl:i}),u.jsx(Gae,{})]})})};function Lh({onDateChange:t,initialRange:e}){const[n,r]=j.useState(e?.startDate||null),[s,i]=j.useState(e?.endDate||null),[a,l]=j.useState(!1),d=j.useRef(null),f=j.useRef(null),[p,m]=j.useState({top:0,left:0,width:256});j.useEffect(()=>{(e?.startDate||e?.startDate===null)&&r(e.startDate||null),(e?.endDate||e?.endDate===null)&&i(e.endDate||null)},[e?.startDate,e?.endDate]),j.useEffect(()=>{const N=k=>{d.current&&!d.current.contains(k.target)&&f.current&&!f.current.contains(k.target)&&l(!1)};return a&&document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[a]);const y=()=>{const N=f.current;if(!N)return;const k=N.getBoundingClientRect(),D=4,M=256;let E=k.left;E+M>window.innerWidth-D&&(E=window.innerWidth-D-M),E<D&&(E=D);const A=k.bottom+D;m({top:A,left:E,width:M})};j.useLayoutEffect(()=>{if(a){y();const N=()=>y(),k=()=>y();return window.addEventListener("scroll",N,!0),window.addEventListener("resize",k),()=>{window.removeEventListener("scroll",N,!0),window.removeEventListener("resize",k)}}},[a]);const x=N=>{if(!(N instanceof Date)||isNaN(N))return"";const k=N.getFullYear(),D=String(N.getMonth()+1).padStart(2,"0"),M=String(N.getDate()).padStart(2,"0");return`${k}-${D}-${M}`},b=()=>{const N=x(n),k=x(s);return!N&&!k?"Select date range":N&&!k?`${N}  ...`:!N&&k?`...  ${k}`:`${N}  ${k}`},S=()=>{t?.({startDate:n,endDate:s}),l(!1)},C=()=>{r(null),i(null),t?.({startDate:null,endDate:null}),l(!1)};return u.jsxs("div",{className:"relative",children:[u.jsx("button",{type:"button",ref:f,className:"w-full text-left text-xs p-1.5 border rounded hover:bg-gray-50",onClick:()=>l(N=>!N),title:"Filter by created date range",children:b()}),a&&Ew.createPortal(u.jsx("div",{ref:d,className:"bg-white border rounded shadow p-3",style:{position:"fixed",top:p.top,left:p.left,width:p.width,zIndex:9999},children:u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("label",{className:"text-[10px] text-gray-500",children:"From"}),u.jsx("input",{type:"date",value:x(n),onChange:N=>r(N.target.value?new Date(`${N.target.value}T00:00:00`):null),className:"text-xs p-1 border rounded w-full"}),u.jsx("label",{className:"text-[10px] text-gray-500",children:"To"}),u.jsx("input",{type:"date",value:x(s),onChange:N=>i(N.target.value?new Date(`${N.target.value}T00:00:00`):null),className:"text-xs p-1 border rounded w-full"}),u.jsxs("div",{className:"flex justify-between gap-2 pt-1",children:[u.jsx("button",{type:"button",className:"px-2 py-1 text-xs bg-gray-100 rounded",onClick:C,children:"Clear"}),u.jsx("button",{type:"button",className:"px-2 py-1 text-xs bg-primary text-white rounded",onClick:S,children:"Apply"})]})]})}),document.body)]})}var Qae={};function Zae(t){if(Array.isArray(t))return t}function eoe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,a,l=[],d=!0,f=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw s}}return l}}function ow(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function v_(t,e){if(t){if(typeof t=="string")return ow(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ow(t,e):void 0}}function toe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Km(t,e){return Zae(t)||eoe(t,e)||v_(t,e)||toe()}function Bn(t){"@babel/helpers - typeof";return Bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bn(t)}function na(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e){for(var r=[],s=0;s<e.length;s++){var i=e[s];if(i){var a=Bn(i);if(a==="string"||a==="number")r.push(i);else if(a==="object"){var l=Array.isArray(i)?i:Object.entries(i).map(function(d){var f=Km(d,2),p=f[0],m=f[1];return m?p:null});r=l.length?r.concat(l.filter(function(d){return!!d})):r}}}return r.join(" ").trim()}}function noe(t){if(Array.isArray(t))return ow(t)}function roe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function soe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ny(t){return noe(t)||roe(t)||v_(t)||soe()}function ES(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ioe(t,e){if(Bn(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function b_(t){var e=ioe(t,"string");return Bn(e)=="symbol"?e:e+""}function aoe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b_(r.key),r)}}function AS(t,e,n){return n&&aoe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wy(t,e,n){return(e=b_(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cb(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=ooe(t))||e){n&&(t=n);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(f){throw f},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var f=n.next();return a=f.done,f},e:function(f){l=!0,i=f},f:function(){try{a||n.return==null||n.return()}finally{if(l)throw i}}}}function ooe(t,e){if(t){if(typeof t=="string")return j3(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j3(t,e):void 0}}function j3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var xn=function(){function t(){ES(this,t)}return AS(t,null,[{key:"innerWidth",value:function(n){if(n){var r=n.offsetWidth,s=getComputedStyle(n);return r=r+(parseFloat(s.paddingLeft)+parseFloat(s.paddingRight)),r}return 0}},{key:"width",value:function(n){if(n){var r=n.offsetWidth,s=getComputedStyle(n);return r=r-(parseFloat(s.paddingLeft)+parseFloat(s.paddingRight)),r}return 0}},{key:"getBrowserLanguage",value:function(){return navigator.userLanguage||navigator.languages&&navigator.languages.length&&navigator.languages[0]||navigator.language||navigator.browserLanguage||navigator.systemLanguage||"en"}},{key:"getWindowScrollTop",value:function(){var n=document.documentElement;return(window.pageYOffset||n.scrollTop)-(n.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var n=document.documentElement;return(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}},{key:"getOuterWidth",value:function(n,r){if(n){var s=n.getBoundingClientRect().width||n.offsetWidth;if(r){var i=getComputedStyle(n);s=s+(parseFloat(i.marginLeft)+parseFloat(i.marginRight))}return s}return 0}},{key:"getOuterHeight",value:function(n,r){if(n){var s=n.getBoundingClientRect().height||n.offsetHeight;if(r){var i=getComputedStyle(n);s=s+(parseFloat(i.marginTop)+parseFloat(i.marginBottom))}return s}return 0}},{key:"getClientHeight",value:function(n,r){if(n){var s=n.clientHeight;if(r){var i=getComputedStyle(n);s=s+(parseFloat(i.marginTop)+parseFloat(i.marginBottom))}return s}return 0}},{key:"getClientWidth",value:function(n,r){if(n){var s=n.clientWidth;if(r){var i=getComputedStyle(n);s=s+(parseFloat(i.marginLeft)+parseFloat(i.marginRight))}return s}return 0}},{key:"getViewport",value:function(){var n=window,r=document,s=r.documentElement,i=r.getElementsByTagName("body")[0],a=n.innerWidth||s.clientWidth||i.clientWidth,l=n.innerHeight||s.clientHeight||i.clientHeight;return{width:a,height:l}}},{key:"getOffset",value:function(n){if(n){var r=n.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}},{key:"index",value:function(n){if(n)for(var r=n.parentNode.childNodes,s=0,i=0;i<r.length;i++){if(r[i]===n)return s;r[i].nodeType===1&&s++}return-1}},{key:"addMultipleClasses",value:function(n,r){if(n&&r)if(n.classList)for(var s=r.split(" "),i=0;i<s.length;i++)n.classList.add(s[i]);else for(var a=r.split(" "),l=0;l<a.length;l++)n.className=n.className+(" "+a[l])}},{key:"removeMultipleClasses",value:function(n,r){if(n&&r)if(n.classList)for(var s=r.split(" "),i=0;i<s.length;i++)n.classList.remove(s[i]);else for(var a=r.split(" "),l=0;l<a.length;l++)n.className=n.className.replace(new RegExp("(^|\\b)"+a[l].split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"addClass",value:function(n,r){n&&r&&(n.classList?n.classList.add(r):n.className=n.className+(" "+r))}},{key:"removeClass",value:function(n,r){n&&r&&(n.classList?n.classList.remove(r):n.className=n.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(n,r){return n?n.classList?n.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(n.className):!1}},{key:"addStyles",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};n&&Object.entries(r).forEach(function(s){var i=Km(s,2),a=i[0],l=i[1];return n.style[a]=l})}},{key:"find",value:function(n,r){return n?Array.from(n.querySelectorAll(r)):[]}},{key:"findSingle",value:function(n,r){return n?n.querySelector(r):null}},{key:"setAttributes",value:function(n){var r=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n){var i=function(l,d){var f,p,m=n!=null&&(f=n.$attrs)!==null&&f!==void 0&&f[l]?[n==null||(p=n.$attrs)===null||p===void 0?void 0:p[l]]:[];return[d].flat().reduce(function(y,x){if(x!=null){var b=Bn(x);if(b==="string"||b==="number")y.push(x);else if(b==="object"){var S=Array.isArray(x)?i(l,x):Object.entries(x).map(function(C){var N=Km(C,2),k=N[0],D=N[1];return l==="style"&&(D||D===0)?"".concat(k.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(D):D?k:void 0});y=S.length?y.concat(S.filter(function(C){return!!C})):y}}return y},m)};Object.entries(s).forEach(function(a){var l=Km(a,2),d=l[0],f=l[1];if(f!=null){var p=d.match(/^on(.+)/);p?n.addEventListener(p[1].toLowerCase(),f):d==="p-bind"?r.setAttributes(n,f):(f=d==="class"?ny(new Set(i("class",f))).join(" ").trim():d==="style"?i("style",f).join(";").trim():f,(n.$attrs=n.$attrs||{})&&(n.$attrs[d]=f),n.setAttribute(d,f))}})}}},{key:"getAttribute",value:function(n,r){if(n){var s=n.getAttribute(r);return isNaN(s)?s==="true"||s==="false"?s==="true":s:+s}}},{key:"isAttributeEquals",value:function(n,r,s){return n?this.getAttribute(n,r)===s:!1}},{key:"isAttributeNotEquals",value:function(n,r,s){return!this.isAttributeEquals(n,r,s)}},{key:"getHeight",value:function(n){if(n){var r=n.offsetHeight,s=getComputedStyle(n);return r=r-(parseFloat(s.paddingTop)+parseFloat(s.paddingBottom)+parseFloat(s.borderTopWidth)+parseFloat(s.borderBottomWidth)),r}return 0}},{key:"getWidth",value:function(n){if(n){var r=n.offsetWidth,s=getComputedStyle(n);return r=r-(parseFloat(s.paddingLeft)+parseFloat(s.paddingRight)+parseFloat(s.borderLeftWidth)+parseFloat(s.borderRightWidth)),r}return 0}},{key:"alignOverlay",value:function(n,r,s){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;n&&r&&(s==="self"?this.relativePosition(n,r):(i&&(n.style.minWidth=t.getOuterWidth(r)+"px"),this.absolutePosition(n,r)))}},{key:"absolutePosition",value:function(n,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left";if(n&&r){var i=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),a=i.height,l=i.width,d=r.offsetHeight,f=r.offsetWidth,p=r.getBoundingClientRect(),m=this.getWindowScrollTop(),y=this.getWindowScrollLeft(),x=this.getViewport(),b,S;p.top+d+a>x.height?(b=p.top+m-a,b<0&&(b=m),n.style.transformOrigin="bottom"):(b=d+p.top+m,n.style.transformOrigin="top");var C=p.left;s==="left"?C+l>x.width?S=Math.max(0,C+y+f-l):S=C+y:C+f-l<0?S=y:S=C+f-l+y,n.style.top=b+"px",n.style.left=S+"px"}}},{key:"relativePosition",value:function(n,r){if(n&&r){var s=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),i=r.offsetHeight,a=r.getBoundingClientRect(),l=this.getViewport(),d,f;a.top+i+s.height>l.height?(d=-1*s.height,a.top+d<0&&(d=-1*a.top),n.style.transformOrigin="bottom"):(d=i,n.style.transformOrigin="top"),s.width>l.width?f=a.left*-1:a.left+s.width>l.width?f=(a.left+s.width-l.width)*-1:f=0,n.style.top=d+"px",n.style.left=f+"px"}}},{key:"flipfitCollision",value:function(n,r){var s=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left top",a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"left bottom",l=arguments.length>4?arguments[4]:void 0;if(n&&r){var d=r.getBoundingClientRect(),f=this.getViewport(),p=i.split(" "),m=a.split(" "),y=function(N,k){return k?+N.substring(N.search(/(\+|-)/g))||0:N.substring(0,N.search(/(\+|-)/g))||N},x={my:{x:y(p[0]),y:y(p[1]||p[0]),offsetX:y(p[0],!0),offsetY:y(p[1]||p[0],!0)},at:{x:y(m[0]),y:y(m[1]||m[0]),offsetX:y(m[0],!0),offsetY:y(m[1]||m[0],!0)}},b={left:function(){var N=x.my.offsetX+x.at.offsetX;return N+d.left+(x.my.x==="left"?0:-1*(x.my.x==="center"?s.getOuterWidth(n)/2:s.getOuterWidth(n)))},top:function(){var N=x.my.offsetY+x.at.offsetY;return N+d.top+(x.my.y==="top"?0:-1*(x.my.y==="center"?s.getOuterHeight(n)/2:s.getOuterHeight(n)))}},S={count:{x:0,y:0},left:function(){var N=b.left(),k=t.getWindowScrollLeft();n.style.left=N+k+"px",this.count.x===2?(n.style.left=k+"px",this.count.x=0):N<0&&(this.count.x++,x.my.x="left",x.at.x="right",x.my.offsetX*=-1,x.at.offsetX*=-1,this.right())},right:function(){var N=b.left()+t.getOuterWidth(r),k=t.getWindowScrollLeft();n.style.left=N+k+"px",this.count.x===2?(n.style.left=f.width-t.getOuterWidth(n)+k+"px",this.count.x=0):N+t.getOuterWidth(n)>f.width&&(this.count.x++,x.my.x="right",x.at.x="left",x.my.offsetX*=-1,x.at.offsetX*=-1,this.left())},top:function(){var N=b.top(),k=t.getWindowScrollTop();n.style.top=N+k+"px",this.count.y===2?(n.style.left=k+"px",this.count.y=0):N<0&&(this.count.y++,x.my.y="top",x.at.y="bottom",x.my.offsetY*=-1,x.at.offsetY*=-1,this.bottom())},bottom:function(){var N=b.top()+t.getOuterHeight(r),k=t.getWindowScrollTop();n.style.top=N+k+"px",this.count.y===2?(n.style.left=f.height-t.getOuterHeight(n)+k+"px",this.count.y=0):N+t.getOuterHeight(r)>f.height&&(this.count.y++,x.my.y="bottom",x.at.y="top",x.my.offsetY*=-1,x.at.offsetY*=-1,this.top())},center:function(N){if(N==="y"){var k=b.top()+t.getOuterHeight(r)/2;n.style.top=k+t.getWindowScrollTop()+"px",k<0?this.bottom():k+t.getOuterHeight(r)>f.height&&this.top()}else{var D=b.left()+t.getOuterWidth(r)/2;n.style.left=D+t.getWindowScrollLeft()+"px",D<0?this.left():D+t.getOuterWidth(n)>f.width&&this.right()}}};S[x.at.x]("x"),S[x.at.y]("y"),this.isFunction(l)&&l(x)}}},{key:"findCollisionPosition",value:function(n){if(n){var r=n==="top"||n==="bottom",s=n==="left"?"right":"left",i=n==="top"?"bottom":"top";return r?{axis:"y",my:"center ".concat(i),at:"center ".concat(n)}:{axis:"x",my:"".concat(s," center"),at:"".concat(n," center")}}}},{key:"getParents",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n.parentNode===null?r:this.getParents(n.parentNode,r.concat([n.parentNode]))}},{key:"getScrollableParents",value:function(n){var r=this,s=[];if(n){var i=this.getParents(n),a=/(auto|scroll)/,l=function(M){var E=M?getComputedStyle(M):null;return E&&(a.test(E.getPropertyValue("overflow"))||a.test(E.getPropertyValue("overflow-x"))||a.test(E.getPropertyValue("overflow-y")))},d=function(M){s.push(M.nodeName==="BODY"||M.nodeName==="HTML"||r.isDocument(M)?window:M)},f=Cb(i),p;try{for(f.s();!(p=f.n()).done;){var m,y=p.value,x=y.nodeType===1&&((m=y.dataset)===null||m===void 0?void 0:m.scrollselectors);if(x){var b=x.split(","),S=Cb(b),C;try{for(S.s();!(C=S.n()).done;){var N=C.value,k=this.findSingle(y,N);k&&l(k)&&d(k)}}catch(D){S.e(D)}finally{S.f()}}y.nodeType===1&&l(y)&&d(y)}}catch(D){f.e(D)}finally{f.f()}}return s}},{key:"getHiddenElementOuterHeight",value:function(n){if(n){n.style.visibility="hidden",n.style.display="block";var r=n.offsetHeight;return n.style.display="none",n.style.visibility="visible",r}return 0}},{key:"getHiddenElementOuterWidth",value:function(n){if(n){n.style.visibility="hidden",n.style.display="block";var r=n.offsetWidth;return n.style.display="none",n.style.visibility="visible",r}return 0}},{key:"getHiddenElementDimensions",value:function(n){var r={};return n&&(n.style.visibility="hidden",n.style.display="block",r.width=n.offsetWidth,r.height=n.offsetHeight,n.style.display="none",n.style.visibility="visible"),r}},{key:"fadeIn",value:function(n,r){if(n){n.style.opacity=0;var s=+new Date,i=0,a=function(){i=+n.style.opacity+(new Date().getTime()-s)/r,n.style.opacity=i,s=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(a)||setTimeout(a,16))};a()}}},{key:"fadeOut",value:function(n,r){if(n)var s=1,i=50,a=i/r,l=setInterval(function(){s=s-a,s<=0&&(s=0,clearInterval(l)),n.style.opacity=s},i)}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isChrome",value:function(){return/(chrome)/i.test(navigator.userAgent)}},{key:"isClient",value:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"appendChild",value:function(n,r){if(this.isElement(r))r.appendChild(n);else if(r.el&&r.el.nativeElement)r.el.nativeElement.appendChild(n);else throw new Error("Cannot append "+r+" to "+n)}},{key:"removeChild",value:function(n,r){if(this.isElement(r))r.removeChild(n);else if(r.el&&r.el.nativeElement)r.el.nativeElement.removeChild(n);else throw new Error("Cannot remove "+n+" from "+r)}},{key:"isElement",value:function(n){return(typeof HTMLElement>"u"?"undefined":Bn(HTMLElement))==="object"?n instanceof HTMLElement:n&&Bn(n)==="object"&&n!==null&&n.nodeType===1&&typeof n.nodeName=="string"}},{key:"isDocument",value:function(n){return(typeof Document>"u"?"undefined":Bn(Document))==="object"?n instanceof Document:n&&Bn(n)==="object"&&n!==null&&n.nodeType===9}},{key:"scrollInView",value:function(n,r){var s=getComputedStyle(n).getPropertyValue("border-top-width"),i=s?parseFloat(s):0,a=getComputedStyle(n).getPropertyValue("padding-top"),l=a?parseFloat(a):0,d=n.getBoundingClientRect(),f=r.getBoundingClientRect(),p=f.top+document.body.scrollTop-(d.top+document.body.scrollTop)-i-l,m=n.scrollTop,y=n.clientHeight,x=this.getOuterHeight(r);p<0?n.scrollTop=m+p:p+x>y&&(n.scrollTop=m+p-y+x)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}},{key:"calculateScrollbarWidth",value:function(n){if(n){var r=getComputedStyle(n);return n.offsetWidth-n.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var s=document.createElement("div");s.className="p-scrollbar-measure",document.body.appendChild(s);var i=s.offsetWidth-s.clientWidth;return document.body.removeChild(s),this.calculatedScrollbarWidth=i,i}},{key:"calculateBodyScrollbarWidth",value:function(){return window.innerWidth-document.documentElement.offsetWidth}},{key:"getBrowser",value:function(){if(!this.browser){var n=this.resolveUserAgent();this.browser={},n.browser&&(this.browser[n.browser]=!0,this.browser.version=n.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}},{key:"resolveUserAgent",value:function(){var n=navigator.userAgent.toLowerCase(),r=/(chrome)[ ]([\w.]+)/.exec(n)||/(webkit)[ ]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:r[1]||"",version:r[2]||"0"}}},{key:"blockBodyScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden",r=!!document.body.style.getPropertyValue("--scrollbar-width");!r&&document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,n)}},{key:"unblockBodyScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,n)}},{key:"isVisible",value:function(n){return n&&(n.clientHeight!==0||n.getClientRects().length!==0||getComputedStyle(n).display!=="none")}},{key:"isExist",value:function(n){return!!(n!==null&&typeof n<"u"&&n.nodeName&&n.parentNode)}},{key:"getFocusableElements",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=t.find(n,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(r,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r)),i=[],a=Cb(s),l;try{for(a.s();!(l=a.n()).done;){var d=l.value;getComputedStyle(d).display!=="none"&&getComputedStyle(d).visibility!=="hidden"&&i.push(d)}}catch(f){a.e(f)}finally{a.f()}return i}},{key:"getFirstFocusableElement",value:function(n,r){var s=t.getFocusableElements(n,r);return s.length>0?s[0]:null}},{key:"getLastFocusableElement",value:function(n,r){var s=t.getFocusableElements(n,r);return s.length>0?s[s.length-1]:null}},{key:"focus",value:function(n,r){var s=r===void 0?!0:!r;n&&document.activeElement!==n&&n.focus({preventScroll:s})}},{key:"focusFirstElement",value:function(n,r){if(n){var s=t.getFirstFocusableElement(n);return s&&t.focus(s,r),s}}},{key:"getCursorOffset",value:function(n,r,s,i){if(n){var a=getComputedStyle(n),l=document.createElement("div");l.style.position="absolute",l.style.top="0px",l.style.left="0px",l.style.visibility="hidden",l.style.pointerEvents="none",l.style.overflow=a.overflow,l.style.width=a.width,l.style.height=a.height,l.style.padding=a.padding,l.style.border=a.border,l.style.overflowWrap=a.overflowWrap,l.style.whiteSpace=a.whiteSpace,l.style.lineHeight=a.lineHeight,l.innerHTML=r.replace(/\r\n|\r|\n/g,"<br />");var d=document.createElement("span");d.textContent=i,l.appendChild(d);var f=document.createTextNode(s);l.appendChild(f),document.body.appendChild(l);var p=d.offsetLeft,m=d.offsetTop,y=d.clientHeight;return document.body.removeChild(l),{left:Math.abs(p-n.scrollLeft),top:Math.abs(m-n.scrollTop)+y}}return{top:"auto",left:"auto"}}},{key:"invokeElementMethod",value:function(n,r,s){n[r].apply(n,s)}},{key:"isClickable",value:function(n){var r=n.nodeName,s=n.parentElement&&n.parentElement.nodeName;return r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||s==="INPUT"||s==="TEXTAREA"||s==="BUTTON"||s==="A"||this.hasClass(n,"p-button")||this.hasClass(n.parentElement,"p-button")||this.hasClass(n.parentElement,"p-checkbox")||this.hasClass(n.parentElement,"p-radiobutton")}},{key:"applyStyle",value:function(n,r){if(typeof r=="string")n.style.cssText=r;else for(var s in r)n.style[s]=r[s]}},{key:"exportCSV",value:function(n,r){var s=new Blob([n],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(s,r+".csv");else{var i=t.saveAs({name:r+".csv",src:URL.createObjectURL(s)});i||(n="data:text/csv;charset=utf-8,"+n,window.open(encodeURI(n)))}}},{key:"saveAs",value:function(n){if(n){var r=document.createElement("a");if(r.download!==void 0){var s=n.name,i=n.src;return r.setAttribute("href",i),r.setAttribute("download",s),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),!0}}return!1}},{key:"createInlineStyle",value:function(n,r){var s=document.createElement("style");return t.addNonce(s,n),r||(r=document.head),r.appendChild(s),s}},{key:"removeInlineStyle",value:function(n){if(this.isExist(n)){try{n.parentNode.removeChild(n)}catch{}n=null}return n}},{key:"addNonce",value:function(n,r){try{r||(r=Qae.REACT_APP_CSS_NONCE)}catch{}r&&n.setAttribute("nonce",r)}},{key:"getTargetElement",value:function(n){if(!n)return null;if(n==="document")return document;if(n==="window")return window;if(Bn(n)==="object"&&n.hasOwnProperty("current"))return this.isExist(n.current)?n.current:null;var r=function(a){return!!(a&&a.constructor&&a.call&&a.apply)},s=r(n)?n():n;return this.isDocument(s)||this.isExist(s)?s:null}},{key:"getAttributeNames",value:function(n){var r,s,i;for(s=[],i=n.attributes,r=0;r<i.length;++r)s.push(i[r].nodeName);return s.sort(),s}},{key:"isEqualElement",value:function(n,r){var s,i,a,l,d;if(s=t.getAttributeNames(n),i=t.getAttributeNames(r),s.join(",")!==i.join(","))return!1;for(var f=0;f<s.length;++f)if(a=s[f],a==="style")for(var p=n.style,m=r.style,y=/^\d+$/,x=0,b=Object.keys(p);x<b.length;x++){var S=b[x];if(!y.test(S)&&p[S]!==m[S])return!1}else if(n.getAttribute(a)!==r.getAttribute(a))return!1;for(l=n.firstChild,d=r.firstChild;l&&d;l=l.nextSibling,d=d.nextSibling){if(l.nodeType!==d.nodeType)return!1;if(l.nodeType===1){if(!t.isEqualElement(l,d))return!1}else if(l.nodeValue!==d.nodeValue)return!1}return!(l||d)}},{key:"hasCSSAnimation",value:function(n){if(n){var r=getComputedStyle(n),s=parseFloat(r.getPropertyValue("animation-duration")||"0");return s>0}return!1}},{key:"hasCSSTransition",value:function(n){if(n){var r=getComputedStyle(n),s=parseFloat(r.getPropertyValue("transition-duration")||"0");return s>0}return!1}}])}();Wy(xn,"DATA_PROPS",["data-"]);Wy(xn,"ARIA_PROPS",["aria","focus-target"]);function lw(){return lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lw.apply(null,arguments)}function T3(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=loe(t))||e){n&&(t=n);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(f){throw f},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var f=n.next();return a=f.done,f},e:function(f){l=!0,i=f},f:function(){try{a||n.return==null||n.return()}finally{if(l)throw i}}}}function loe(t,e){if(t){if(typeof t=="string")return E3(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E3(t,e):void 0}}function E3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var dn=function(){function t(){ES(this,t)}return AS(t,null,[{key:"equals",value:function(n,r,s){return s&&n&&Bn(n)==="object"&&r&&Bn(r)==="object"?this.deepEquals(this.resolveFieldData(n,s),this.resolveFieldData(r,s)):this.deepEquals(n,r)}},{key:"deepEquals",value:function(n,r){if(n===r)return!0;if(n&&r&&Bn(n)==="object"&&Bn(r)==="object"){var s=Array.isArray(n),i=Array.isArray(r),a,l,d;if(s&&i){if(l=n.length,l!==r.length)return!1;for(a=l;a--!==0;)if(!this.deepEquals(n[a],r[a]))return!1;return!0}if(s!==i)return!1;var f=n instanceof Date,p=r instanceof Date;if(f!==p)return!1;if(f&&p)return n.getTime()===r.getTime();var m=n instanceof RegExp,y=r instanceof RegExp;if(m!==y)return!1;if(m&&y)return n.toString()===r.toString();var x=Object.keys(n);if(l=x.length,l!==Object.keys(r).length)return!1;for(a=l;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,x[a]))return!1;for(a=l;a--!==0;)if(d=x[a],!this.deepEquals(n[d],r[d]))return!1;return!0}return n!==n&&r!==r}},{key:"resolveFieldData",value:function(n,r){if(!n||!r)return null;try{var s=n[r];if(this.isNotEmpty(s))return s}catch{}if(Object.keys(n).length){if(this.isFunction(r))return r(n);if(this.isNotEmpty(n[r]))return n[r];if(r.indexOf(".")===-1)return n[r];for(var i=r.split("."),a=n,l=0,d=i.length;l<d;++l){if(a==null)return null;a=a[i[l]]}return a}return null}},{key:"findDiffKeys",value:function(n,r){return!n||!r?{}:Object.keys(n).filter(function(s){return!r.hasOwnProperty(s)}).reduce(function(s,i){return s[i]=n[i],s},{})}},{key:"reduceKeys",value:function(n,r){var s={};return!n||!r||r.length===0||Object.keys(n).filter(function(i){return r.some(function(a){return i.startsWith(a)})}).forEach(function(i){s[i]=n[i],delete n[i]}),s}},{key:"reorderArray",value:function(n,r,s){n&&r!==s&&(s>=n.length&&(s=s%n.length,r=r%n.length),n.splice(s,0,n.splice(r,1)[0]))}},{key:"findIndexInList",value:function(n,r,s){var i=this;return r?s?r.findIndex(function(a){return i.equals(a,n,s)}):r.findIndex(function(a){return a===n}):-1}},{key:"getJSXElement",value:function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return this.isFunction(n)?n.apply(void 0,s):n}},{key:"getItemValue",value:function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return this.isFunction(n)?n.apply(void 0,s):n}},{key:"getProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n?n[r]:void 0;return i===void 0?s[r]:i}},{key:"getPropCaseInsensitive",value:function(n,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=this.toFlatCase(r);for(var a in n)if(n.hasOwnProperty(a)&&this.toFlatCase(a)===i)return n[a];for(var l in s)if(s.hasOwnProperty(l)&&this.toFlatCase(l)===i)return s[l]}},{key:"getMergedProps",value:function(n,r){return Object.assign({},r,n)}},{key:"getDiffProps",value:function(n,r){return this.findDiffKeys(n,r)}},{key:"getPropValue",value:function(n){if(!this.isFunction(n))return n;for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];if(s.length===1){var a=s[0];return n(Array.isArray(a)?a[0]:a)}return n.apply(void 0,s)}},{key:"getComponentProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.isNotEmpty(n)?this.getProp(n.props,r,s):void 0}},{key:"getComponentProps",value:function(n,r){return this.isNotEmpty(n)?this.getMergedProps(n.props,r):void 0}},{key:"getComponentDiffProps",value:function(n,r){return this.isNotEmpty(n)?this.getDiffProps(n.props,r):void 0}},{key:"isValidChild",value:function(n,r,s){if(n){var i,a=this.getComponentProp(n,"__TYPE")||(n.type?n.type.displayName:void 0);!a&&n!==null&&n!==void 0&&(i=n.type)!==null&&i!==void 0&&(i=i._payload)!==null&&i!==void 0&&i.value&&(a=n.type._payload.value.find(function(f){return f===r}));var l=a===r;try{var d}catch{}return l}return!1}},{key:"getRefElement",value:function(n){return n?Bn(n)==="object"&&n.hasOwnProperty("current")?n.current:n:null}},{key:"combinedRefs",value:function(n,r){n&&r&&(typeof r=="function"?r(n.current):r.current=n.current)}},{key:"removeAccents",value:function(n){return n&&n.search(/[\xC0-\xFF]/g)>-1&&(n=n.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),n}},{key:"toFlatCase",value:function(n){return this.isNotEmpty(n)&&this.isString(n)?n.replace(/(-|_)/g,"").toLowerCase():n}},{key:"toCapitalCase",value:function(n){return this.isNotEmpty(n)&&this.isString(n)?n[0].toUpperCase()+n.slice(1):n}},{key:"trim",value:function(n){return this.isNotEmpty(n)&&this.isString(n)?n.trim():n}},{key:"isEmpty",value:function(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&Bn(n)==="object"&&Object.keys(n).length===0}},{key:"isNotEmpty",value:function(n){return!this.isEmpty(n)}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"isObject",value:function(n){return n!==null&&n instanceof Object&&n.constructor===Object}},{key:"isDate",value:function(n){return n!==null&&n instanceof Date&&n.constructor===Date}},{key:"isArray",value:function(n){return n!==null&&Array.isArray(n)}},{key:"isString",value:function(n){return n!==null&&typeof n=="string"}},{key:"isPrintableCharacter",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(n)&&n.length===1&&n.match(/\S| /)}},{key:"isLetter",value:function(n){return/^[a-zA-Z\u00C0-\u017F]$/.test(n)}},{key:"isScalar",value:function(n){return n!=null&&(typeof n=="string"||typeof n=="number"||typeof n=="bigint"||typeof n=="boolean")}},{key:"findLast",value:function(n,r){var s;if(this.isNotEmpty(n))try{s=n.findLast(r)}catch{s=ny(n).reverse().find(r)}return s}},{key:"findLastIndex",value:function(n,r){var s=-1;if(this.isNotEmpty(n))try{s=n.findLastIndex(r)}catch{s=n.lastIndexOf(ny(n).reverse().find(r))}return s}},{key:"sort",value:function(n,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,l=this.compare(n,r,i,s),d=s;return(this.isEmpty(n)||this.isEmpty(r))&&(d=a===1?s:a),d*l}},{key:"compare",value:function(n,r,s){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,a=-1,l=this.isEmpty(n),d=this.isEmpty(r);return l&&d?a=0:l?a=i:d?a=-i:typeof n=="string"&&typeof r=="string"?a=s(n,r):a=n<r?-1:n>r?1:0,a}},{key:"localeComparator",value:function(n){return new Intl.Collator(n,{numeric:!0}).compare}},{key:"findChildrenByKey",value:function(n,r){var s=T3(n),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;if(a.key===r)return a.children||[];if(a.children){var l=this.findChildrenByKey(a.children,r);if(l.length>0)return l}}}catch(d){s.e(d)}finally{s.f()}return[]}},{key:"mutateFieldData",value:function(n,r,s){if(!(Bn(n)!=="object"||typeof r!="string"))for(var i=r.split("."),a=n,l=0,d=i.length;l<d;++l){if(l+1-d===0){a[i[l]]=s;break}a[i[l]]||(a[i[l]]={}),a=a[i[l]]}}},{key:"getNestedValue",value:function(n,r){return r.split(".").reduce(function(s,i){return s&&s[i]!==void 0?s[i]:void 0},n)}},{key:"absoluteCompare",value:function(n,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(!n||!r||i>s)return!0;if(Bn(n)!==Bn(r))return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(var d=0,f=a;d<f.length;d++){var p=f[d],m=n[p],y=r[p],x=t.isObject(m)&&t.isObject(y),b=t.isFunction(m)&&t.isFunction(y);if((x||b)&&!this.absoluteCompare(m,y,s,i+1)||!x&&m!==y)return!1}return!0}},{key:"selectiveCompare",value:function(n,r,s){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(n===r)return!0;if(!n||!r||Bn(n)!=="object"||Bn(r)!=="object")return!1;if(!s)return this.absoluteCompare(n,r,1);var a=T3(s),l;try{for(a.s();!(l=a.n()).done;){var d=l.value,f=this.getNestedValue(n,d),p=this.getNestedValue(r,d),m=Bn(f)==="object"&&f!==null&&Bn(p)==="object"&&p!==null;if(m&&!this.absoluteCompare(f,p,i)||!m&&f!==p)return!1}}catch(y){a.e(y)}finally{a.f()}return!0}}])}(),A3=0;function w_(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pr_id_";return A3++,"".concat(t).concat(A3)}function k3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function coe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k3(Object(n),!0).forEach(function(r){Wy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var uoe=function(){function t(){ES(this,t)}return AS(t,null,[{key:"getJSXIcon",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=null;if(n!==null){var a=Bn(n),l=na(r.className,a==="string"&&n);if(i=j.createElement("span",lw({},r,{className:l,key:w_("icon")})),a!=="string"){var d=coe({iconProps:r,element:i},s);return dn.getJSXElement(n,d)}}return i}}])}();function O3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function D3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O3(Object(n),!0).forEach(function(r){Wy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ry(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t){var n=function(a){return typeof a=="function"},r=e.classNameMergeFunction,s=n(r);return t.reduce(function(i,a){if(!a)return i;var l=function(){var p=a[d];if(d==="style")i.style=D3(D3({},i.style),a.style);else if(d==="className"){var m="";s?m=r(i.className,a.className):m=[i.className,a.className].join(" ").trim(),i.className=m||void 0}else if(n(p)){var y=i[d];i[d]=y?function(){y.apply(void 0,arguments),p.apply(void 0,arguments)}:p}else i[d]=p};for(var d in a)l();return i},{})}}function doe(){var t=[],e=function(l,d){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:999,p=s(l,d,f),m=p.value+(p.key===l?0:f)+1;return t.push({key:l,value:m}),m},n=function(l){t=t.filter(function(d){return d.value!==l})},r=function(l,d){return s(l,d).value},s=function(l,d){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return ny(t).reverse().find(function(p){return d?!0:p.key===l})||{key:l,value:f}},i=function(l){return l&&parseInt(l.style.zIndex,10)||0};return{get:i,set:function(l,d,f,p){d&&(d.style.zIndex=String(e(l,f,p)))},clear:function(l){l&&(n(uf.get(l)),l.style.zIndex="")},getCurrent:function(l,d){return r(l,d)}}}var uf=doe(),Jr=Object.freeze({STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",NOT_IN:"notIn",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter",CUSTOM:"custom"});function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}function foe(t,e){if(dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hoe(t){var e=foe(t,"string");return dh(e)=="symbol"?e:e+""}function Ys(t,e,n){return(e=hoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function poe(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function moe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Os=poe(function t(){moe(this,t)});Ys(Os,"ripple",!1);Ys(Os,"inputStyle","outlined");Ys(Os,"locale","en");Ys(Os,"appendTo",null);Ys(Os,"cssTransition",!0);Ys(Os,"autoZIndex",!0);Ys(Os,"hideOverlaysOnDocumentScrolling",!1);Ys(Os,"nonce",null);Ys(Os,"nullSortOrder",1);Ys(Os,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200});Ys(Os,"pt",void 0);Ys(Os,"filterMatchModeOptions",{text:[Jr.STARTS_WITH,Jr.CONTAINS,Jr.NOT_CONTAINS,Jr.ENDS_WITH,Jr.EQUALS,Jr.NOT_EQUALS],numeric:[Jr.EQUALS,Jr.NOT_EQUALS,Jr.LESS_THAN,Jr.LESS_THAN_OR_EQUAL_TO,Jr.GREATER_THAN,Jr.GREATER_THAN_OR_EQUAL_TO],date:[Jr.DATE_IS,Jr.DATE_IS_NOT,Jr.DATE_BEFORE,Jr.DATE_AFTER]});Ys(Os,"changeTheme",function(t,e,n,r){var s,i=document.getElementById(n);if(!i)throw Error("Element with id ".concat(n," not found."));var a=i.getAttribute("href").replace(t,e),l=document.createElement("link");l.setAttribute("rel","stylesheet"),l.setAttribute("id",n),l.setAttribute("href",a),l.addEventListener("load",function(){r&&r()}),(s=i.parentNode)===null||s===void 0||s.replaceChild(l,i)});var Vu=Ht.createContext(),Ko=Os;function goe(t){if(Array.isArray(t))return t}function yoe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,a,l=[],d=!0,f=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw s}}return l}}function cw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function S_(t,e){if(t){if(typeof t=="string")return cw(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cw(t,e):void 0}}function xoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sy(t,e){return goe(t)||yoe(t,e)||S_(t,e)||xoe()}var iy=function(e){var n=j.useRef(null);return j.useEffect(function(){return n.current=e,function(){n.current=null}},[e]),n.current},Ph=function(e){return j.useEffect(function(){return e},[])},voe=function(e){var n=e.target,r=n===void 0?"document":n,s=e.type,i=e.listener,a=e.options,l=e.when,d=l===void 0?!0:l,f=j.useRef(null),p=j.useRef(null),m=iy(i),y=iy(a),x=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},D=k.target;dn.isNotEmpty(D)&&(b(),(k.when||d)&&(f.current=xn.getTargetElement(D))),!p.current&&f.current&&(p.current=function(M){return i&&i(M)},f.current.addEventListener(s,p.current,a))},b=function(){p.current&&(f.current.removeEventListener(s,p.current,a),p.current=null)},S=function(){b(),m=null,y=null},C=j.useCallback(function(){d?f.current=xn.getTargetElement(r):(b(),f.current=null)},[r,d]);return j.useEffect(function(){C()},[C]),j.useEffect(function(){var N="".concat(m)!=="".concat(i),k=y!==a,D=p.current;D&&(N||k)?(b(),d&&x()):D||S()},[i,a,d]),Ph(function(){S()}),[x,b]},Nl={},boe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=j.useState(function(){return w_()}),s=sy(r,1),i=s[0],a=j.useState(0),l=sy(a,2),d=l[0],f=l[1];return j.useEffect(function(){if(n){Nl[e]||(Nl[e]=[]);var p=Nl[e].push(i);return f(p),function(){delete Nl[e][p-1];var m=Nl[e].length-1,y=dn.findLastIndex(Nl[e],function(x){return x!==void 0});y!==m&&Nl[e].splice(y+1),f(void 0)}}},[e,i,n]),d};function woe(t){if(Array.isArray(t))return cw(t)}function Soe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Coe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M3(t){return woe(t)||Soe(t)||S_(t)||Coe()}var Noe={TOOLTIP:1200},C_={escKeyListeners:new Map,onGlobalKeyDown:function(e){if(e.code==="Escape"){var n=C_.escKeyListeners,r=Math.max.apply(Math,M3(n.keys())),s=n.get(r),i=Math.max.apply(Math,M3(s.keys())),a=s.get(i);a(e)}},refreshGlobalKeyDownListener:function(){var e=xn.getTargetElement("document");this.escKeyListeners.size>0?e.addEventListener("keydown",this.onGlobalKeyDown):e.removeEventListener("keydown",this.onGlobalKeyDown)},addListener:function(e,n){var r=this,s=sy(n,2),i=s[0],a=s[1],l=this.escKeyListeners;l.has(i)||l.set(i,new Map);var d=l.get(i);if(d.has(a))throw new Error("Unexpected: global esc key listener with priority [".concat(i,", ").concat(a,"] already exists."));return d.set(a,e),this.refreshGlobalKeyDownListener(),function(){d.delete(a),d.size===0&&l.delete(i),r.refreshGlobalKeyDownListener()}}},joe=function(e){var n=e.callback,r=e.when,s=e.priority;j.useEffect(function(){if(r)return C_.addListener(n,s)},[n,r,s])},N_=function(){var e=j.useContext(Vu);return function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return ry(r,e?.ptOptions)}},Gy=function(e){var n=j.useRef(!1);return j.useEffect(function(){if(!n.current)return n.current=!0,e&&e()},[])},Toe=function(e){var n=e.target,r=e.listener,s=e.options,i=e.when,a=i===void 0?!0:i,l=j.useContext(Vu),d=j.useRef(null),f=j.useRef(null),p=j.useRef([]),m=iy(r),y=iy(s),x=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(dn.isNotEmpty(k.target)&&(b(),(k.when||a)&&(d.current=xn.getTargetElement(k.target))),!f.current&&d.current){var D=l?l.hideOverlaysOnDocumentScrolling:Ko.hideOverlaysOnDocumentScrolling,M=p.current=xn.getScrollableParents(d.current);M.some(function(E){return E===document.body||E===window})||M.push(D?window:document.body),f.current=function(E){return r&&r(E)},M.forEach(function(E){return E.addEventListener("scroll",f.current,s)})}},b=function(){if(f.current){var k=p.current;k.forEach(function(D){return D.removeEventListener("scroll",f.current,s)}),f.current=null}},S=function(){b(),p.current=null,m=null,y=null},C=j.useCallback(function(){a?d.current=xn.getTargetElement(n):(b(),d.current=null)},[n,a]);return j.useEffect(function(){C()},[C]),j.useEffect(function(){var N="".concat(m)!=="".concat(r),k=y!==s,D=f.current;D&&(N||k)?(b(),a&&x()):D||S()},[r,s,a]),Ph(function(){S()}),[x,b]},Eoe=function(e){var n=e.listener,r=e.when,s=r===void 0?!0:r;return voe({target:"window",type:"resize",listener:n,when:s})},Aoe=0,bm=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=j.useState(!1),s=sy(r,2),i=s[0],a=s[1],l=j.useRef(null),d=j.useContext(Vu),f=xn.isClient()?window.document:void 0,p=n.document,m=p===void 0?f:p,y=n.manual,x=y===void 0?!1:y,b=n.name,S=b===void 0?"style_".concat(++Aoe):b,C=n.id,N=C===void 0?void 0:C,k=n.media,D=k===void 0?void 0:k,M=function(ee){var be=ee.querySelector('style[data-primereact-style-id="'.concat(S,'"]'));if(be)return be;if(N!==void 0){var ce=m.getElementById(N);if(ce)return ce}return m.createElement("style")},E=function(ee){i&&e!==ee&&(l.current.textContent=ee)},A=function(){if(!(!m||i)){var ee=d?.styleContainer||m.head;l.current=M(ee),l.current.isConnected||(l.current.type="text/css",N&&(l.current.id=N),D&&(l.current.media=D),xn.addNonce(l.current,d&&d.nonce||Ko.nonce),ee.appendChild(l.current),S&&l.current.setAttribute("data-primereact-style-id",S)),l.current.textContent=e,a(!0)}},P=function(){!m||!l.current||(xn.removeInlineStyle(l.current),a(!1))};return j.useEffect(function(){x||A()},[x]),{id:N,name:S,update:E,unload:P,load:A,isLoaded:i}},Rf=function(e,n){var r=j.useRef(!1);return j.useEffect(function(){if(!r.current){r.current=!0;return}return e&&e()},n)};function uw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function koe(t){if(Array.isArray(t))return uw(t)}function Ooe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Doe(t,e){if(t){if(typeof t=="string")return uw(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uw(t,e):void 0}}function Moe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R3(t){return koe(t)||Ooe(t)||Doe(t)||Moe()}function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function Roe(t,e){if(fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _oe(t){var e=Roe(t,"string");return fh(e)=="symbol"?e:e+""}function dw(t,e,n){return(e=_oe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_3(Object(n),!0).forEach(function(r){dw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Loe=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    opacity: 0;
    overflow: hidden;
    padding: 0;
    pointer-events: none;
    position: absolute;
    white-space: nowrap;
    width: 1px;
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,Poe=`
.p-button {
    margin: 0;
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    vertical-align: bottom;
    text-align: center;
    overflow: hidden;
    position: relative;
}

.p-button-label {
    flex: 1 1 auto;
}

.p-button-icon-right {
    order: 1;
}

.p-button:disabled {
    cursor: default;
}

.p-button-icon-only {
    justify-content: center;
}

.p-button-icon-only .p-button-label {
    visibility: hidden;
    width: 0;
    flex: 0 0 auto;
}

.p-button-vertical {
    flex-direction: column;
}

.p-button-icon-bottom {
    order: 2;
}

.p-button-group .p-button {
    margin: 0;
}

.p-button-group .p-button:not(:last-child) {
    border-right: 0 none;
}

.p-button-group .p-button:not(:first-of-type):not(:last-of-type) {
    border-radius: 0;
}

.p-button-group .p-button:first-of-type {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}

.p-button-group .p-button:last-of-type {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
}

.p-button-group .p-button:focus {
    position: relative;
    z-index: 1;
}

.p-button-group-single .p-button:first-of-type {
    border-top-right-radius: var(--border-radius) !important;
    border-bottom-right-radius: var(--border-radius) !important;
}

.p-button-group-single .p-button:last-of-type {
    border-top-left-radius: var(--border-radius) !important;
    border-bottom-left-radius: var(--border-radius) !important;
}
`,zoe=`
.p-inputtext {
    margin: 0;
}

.p-fluid .p-inputtext {
    width: 100%;
}

/* InputGroup */
.p-inputgroup {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup-addon {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-inputgroup .p-float-label {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup .p-inputtext,
.p-fluid .p-inputgroup .p-inputtext,
.p-inputgroup .p-inputwrapper,
.p-fluid .p-inputgroup .p-input {
    flex: 1 1 auto;
    width: 1%;
}

/* Floating Label */
.p-float-label {
    display: block;
    position: relative;
}

.p-float-label label {
    position: absolute;
    pointer-events: none;
    top: 50%;
    margin-top: -0.5rem;
    transition-property: all;
    transition-timing-function: ease;
    line-height: 1;
}

.p-float-label textarea ~ label,
.p-float-label .p-mention ~ label {
    top: 1rem;
}

.p-float-label input:focus ~ label,
.p-float-label input:-webkit-autofill ~ label,
.p-float-label input.p-filled ~ label,
.p-float-label textarea:focus ~ label,
.p-float-label textarea.p-filled ~ label,
.p-float-label .p-inputwrapper-focus ~ label,
.p-float-label .p-inputwrapper-filled ~ label,
.p-float-label .p-tooltip-target-wrapper ~ label {
    top: -0.75rem;
    font-size: 12px;
}

.p-float-label .p-placeholder,
.p-float-label input::placeholder,
.p-float-label .p-inputtext::placeholder {
    opacity: 0;
    transition-property: all;
    transition-timing-function: ease;
}

.p-float-label .p-focus .p-placeholder,
.p-float-label input:focus::placeholder,
.p-float-label .p-inputtext:focus::placeholder {
    opacity: 1;
    transition-property: all;
    transition-timing-function: ease;
}

.p-input-icon-left,
.p-input-icon-right {
    position: relative;
    display: inline-block;
}

.p-input-icon-left > i,
.p-input-icon-right > i,
.p-input-icon-left > svg,
.p-input-icon-right > svg,
.p-input-icon-left > .p-input-prefix,
.p-input-icon-right > .p-input-suffix {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
}

.p-fluid .p-input-icon-left,
.p-fluid .p-input-icon-right {
    display: block;
    width: 100%;
}
`,Ioe=`
.p-icon {
    display: inline-block;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

svg.p-icon {
    pointer-events: auto;
}

svg.p-icon g,
.p-disabled svg.p-icon {
    pointer-events: none;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,Boe=`
@layer primereact {
    .p-component, .p-component * {
        box-sizing: border-box;
    }

    .p-hidden {
        display: none;
    }

    .p-hidden-space {
        visibility: hidden;
    }

    .p-reset {
        margin: 0;
        padding: 0;
        border: 0;
        outline: 0;
        text-decoration: none;
        font-size: 100%;
        list-style: none;
    }

    .p-disabled, .p-disabled * {
        cursor: default;
        pointer-events: none;
        user-select: none;
    }

    .p-component-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-unselectable-text {
        user-select: none;
    }

    .p-scrollbar-measure {
        width: 100px;
        height: 100px;
        overflow: scroll;
        position: absolute;
        top: -9999px;
    }

    @-webkit-keyframes p-fadein {
      0%   { opacity: 0; }
      100% { opacity: 1; }
    }
    @keyframes p-fadein {
      0%   { opacity: 0; }
      100% { opacity: 1; }
    }

    .p-link {
        text-align: left;
        background-color: transparent;
        margin: 0;
        padding: 0;
        border: none;
        cursor: pointer;
        user-select: none;
    }

    .p-link:disabled {
        cursor: default;
    }

    /* Non react overlay animations */
    .p-connected-overlay {
        opacity: 0;
        transform: scaleY(0.8);
        transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-visible {
        opacity: 1;
        transform: scaleY(1);
    }

    .p-connected-overlay-hidden {
        opacity: 0;
        transform: scaleY(1);
        transition: opacity .1s linear;
    }

    /* React based overlay animations */
    .p-connected-overlay-enter {
        opacity: 0;
        transform: scaleY(0.8);
    }

    .p-connected-overlay-enter-active {
        opacity: 1;
        transform: scaleY(1);
        transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-enter-done {
        transform: none;
    }

    .p-connected-overlay-exit {
        opacity: 1;
    }

    .p-connected-overlay-exit-active {
        opacity: 0;
        transition: opacity .1s linear;
    }

    /* Toggleable Content */
    .p-toggleable-content-enter {
        max-height: 0;
    }

    .p-toggleable-content-enter-active {
        overflow: hidden;
        max-height: 1000px;
        transition: max-height 1s ease-in-out;
    }

    .p-toggleable-content-enter-done {
        transform: none;
    }

    .p-toggleable-content-exit {
        max-height: 1000px;
    }

    .p-toggleable-content-exit-active {
        overflow: hidden;
        max-height: 0;
        transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
    }

    /* @todo Refactor */
    .p-menu .p-menuitem-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
    }

    `.concat(Poe,`
    `).concat(zoe,`
    `).concat(Ioe,`
}
`),hr={cProps:void 0,cParams:void 0,cName:void 0,defaultProps:{pt:void 0,ptOptions:void 0,unstyled:!1},context:{},globalCSS:void 0,classes:{},styles:"",extend:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.css,r=Rr(Rr({},e.defaultProps),hr.defaultProps),s={},i=function(p){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return hr.context=m,hr.cProps=p,dn.getMergedProps(p,r)},a=function(p){return dn.getDiffProps(p,r)},l=function(){var p,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;m.hasOwnProperty("pt")&&m.pt!==void 0&&(m=m.pt);var S=y,C=/./g.test(S)&&!!x[S.split(".")[0]],N=C?dn.toFlatCase(S.split(".")[1]):dn.toFlatCase(S),k=x.hostName&&dn.toFlatCase(x.hostName),D=k||x.props&&x.props.__TYPE&&dn.toFlatCase(x.props.__TYPE)||"",M=N==="transition",E="data-pc-",A=function(ye){return ye!=null&&ye.props?ye.hostName?ye.props.__TYPE===ye.hostName?ye.props:A(ye.parent):ye.parent:void 0},P=function(ye){var Fe,U;return((Fe=x.props)===null||Fe===void 0?void 0:Fe[ye])||((U=A(x))===null||U===void 0?void 0:U[ye])};hr.cParams=x,hr.cName=D;var F=P("ptOptions")||hr.context.ptOptions||{},ee=F.mergeSections,be=ee===void 0?!0:ee,ce=F.mergeProps,ae=ce===void 0?!1:ce,te=function(){var ye=Ba.apply(void 0,arguments);return Array.isArray(ye)?{className:na.apply(void 0,R3(ye))}:dn.isString(ye)?{className:ye}:ye!=null&&ye.hasOwnProperty("className")&&Array.isArray(ye.className)?{className:na.apply(void 0,R3(ye.className))}:ye},ke=b?C?j_(te,S,x):T_(te,S,x):void 0,ze=C?void 0:Jy(Xy(m,D),te,S,x),W=!M&&Rr(Rr({},N==="root"&&dw({},"".concat(E,"name"),x.props&&x.props.__parentMetadata?dn.toFlatCase(x.props.__TYPE):D)),{},dw({},"".concat(E,"section"),N));return be||!be&&ze?ae?ry([ke,ze,Object.keys(W).length?W:{}],{classNameMergeFunction:(p=hr.context.ptOptions)===null||p===void 0?void 0:p.classNameMergeFunction}):Rr(Rr(Rr({},ke),ze),Object.keys(W).length?W:{}):Rr(Rr({},ze),Object.keys(W).length?W:{})},d=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=p.props,y=p.state,x=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return l((m||{}).pt,D,Rr(Rr({},p),M))},b=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return l(D,M,E,!1)},S=function(){return hr.context.unstyled||Ko.unstyled||m.unstyled},C=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return S()?void 0:Ba(n&&n.classes,D,Rr({props:m,state:y},M))},N=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(E){var A,P=Ba(n&&n.inlineStyles,D,Rr({props:m,state:y},M)),F=Ba(s,D,Rr({props:m,state:y},M));return ry([F,P],{classNameMergeFunction:(A=hr.context.ptOptions)===null||A===void 0?void 0:A.classNameMergeFunction})}};return{ptm:x,ptmo:b,sx:N,cx:C,isUnstyled:S}};return Rr(Rr({getProps:i,getOtherProps:a,setMetaData:d},e),{},{defaultProps:r})}},Ba=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=String(dn.toFlatCase(n)).split("."),i=s.shift(),a=dn.isNotEmpty(e)?Object.keys(e).find(function(l){return dn.toFlatCase(l)===i}):"";return i?dn.isObject(e)?Ba(dn.getItemValue(e[a],r),s.join("."),r):void 0:dn.getItemValue(e,r)},Xy=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,s=e?._usept,i=function(l){var d,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,p=r?r(l):l,m=dn.toFlatCase(n);return(d=f?m!==hr.cName?p?.[m]:void 0:p?.[m])!==null&&d!==void 0?d:p};return dn.isNotEmpty(s)?{_usept:s,originalValue:i(e.originalValue),value:i(e.value)}:i(e,!0)},Jy=function(e,n,r,s){var i=function(S){return n(S,r,s)};if(e!=null&&e.hasOwnProperty("_usept")){var a=e._usept||hr.context.ptOptions||{},l=a.mergeSections,d=l===void 0?!0:l,f=a.mergeProps,p=f===void 0?!1:f,m=a.classNameMergeFunction,y=i(e.originalValue),x=i(e.value);return y===void 0&&x===void 0?void 0:dn.isString(x)?x:dn.isString(y)?y:d||!d&&x?p?ry([y,x],{classNameMergeFunction:m}):Rr(Rr({},y),x):x}return i(e)},Foe=function(){return Xy(hr.context.pt||Ko.pt,void 0,function(e){return dn.getItemValue(e,hr.cParams)})},$oe=function(){return Xy(hr.context.pt||Ko.pt,void 0,function(e){return Ba(e,hr.cName,hr.cParams)||dn.getItemValue(e,hr.cParams)})},j_=function(e,n,r){return Jy(Foe(),e,n,r)},T_=function(e,n,r){return Jy($oe(),e,n,r)},E_=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2?arguments[2]:void 0,s=r.name,i=r.styled,a=i===void 0?!1:i,l=r.hostName,d=l===void 0?"":l,f=j_(Ba,"global.css",hr.cParams),p=dn.toFlatCase(s),m=bm(Loe,{name:"base",manual:!0}),y=m.load,x=bm(Boe,{name:"common",manual:!0}),b=x.load,S=bm(f,{name:"global",manual:!0}),C=S.load,N=bm(e,{name:s,manual:!0}),k=N.load,D=function(E){if(!d){var A=Jy(Xy((hr.cProps||{}).pt,p),Ba,"hooks.".concat(E)),P=T_(Ba,"hooks.".concat(E));A?.(),P?.()}};D("useMountEffect"),Gy(function(){y(),C(),n()||(b(),a||k())}),Rf(function(){D("useUpdateEffect")}),Ph(function(){D("useUnmountEffect")})},Ym={defaultProps:{__TYPE:"IconBase",className:null,label:null,spin:!1},getProps:function(e){return dn.getMergedProps(e,Ym.defaultProps)},getOtherProps:function(e){return dn.getDiffProps(e,Ym.defaultProps)},getPTI:function(e){var n=dn.isEmpty(e.label),r=Ym.getOtherProps(e),s={className:na("p-icon",{"p-icon-spin":e.spin},e.className),role:n?void 0:"img","aria-label":n?void 0:e.label,"aria-hidden":e.label?n:void 0};return dn.getMergedProps(r,s)}};function fw(){return fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fw.apply(null,arguments)}var A_=j.memo(j.forwardRef(function(t,e){var n=Ym.getPTI(t);return j.createElement("svg",fw({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"}))}));A_.displayName="TimesCircleIcon";function hw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Uoe(t){if(Array.isArray(t))return hw(t)}function Voe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hoe(t,e){if(t){if(typeof t=="string")return hw(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hw(t,e):void 0}}function qoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Koe(t){return Uoe(t)||Voe(t)||Hoe(t)||qoe()}var ay={DEFAULT_MASKS:{pint:/[\d]/,int:/[\d\-]/,pnum:/[\d\.]/,money:/[\d\.\s,]/,num:/[\d\-\.]/,hex:/[0-9a-f]/i,email:/[a-z0-9_\.\-@]/i,alpha:/[a-z_]/i,alphanum:/[a-z0-9_]/i},getRegex:function(e){return ay.DEFAULT_MASKS[e]?ay.DEFAULT_MASKS[e]:e},onBeforeInput:function(e,n,r){r||!xn.isAndroid()||this.validateKey(e,e.data,n)},onKeyPress:function(e,n,r){r||xn.isAndroid()||e.ctrlKey||e.altKey||e.metaKey||this.validateKey(e,e.key,n)},onPaste:function(e,n,r){if(!r){var s=this.getRegex(n),i=e.clipboardData.getData("text");Koe(i).forEach(function(a){if(!s.test(a))return e.preventDefault(),!1})}},validateKey:function(e,n,r){if(n!=null){var s=n.length<=2;if(s){var i=this.getRegex(r);i.test(n)||e.preventDefault()}}},validate:function(e,n){var r=e.target.value,s=!0,i=this.getRegex(n);return r&&!i.test(r)&&(s=!1),s}};function Yoe(t){if(Array.isArray(t))return t}function Woe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,a,l=[],d=!0,f=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw s}}return l}}function L3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Goe(t,e){if(t){if(typeof t=="string")return L3(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L3(t,e):void 0}}function Xoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Joe(t,e){return Yoe(t)||Woe(t,e)||Goe(t,e)||Xoe()}var pw={defaultProps:{__TYPE:"Portal",element:null,appendTo:null,visible:!1,onMounted:null,onUnmounted:null,children:void 0},getProps:function(e){return dn.getMergedProps(e,pw.defaultProps)},getOtherProps:function(e){return dn.getDiffProps(e,pw.defaultProps)}},k_=j.memo(function(t){var e=pw.getProps(t),n=j.useContext(Vu),r=j.useState(e.visible&&xn.isClient()),s=Joe(r,2),i=s[0],a=s[1];Gy(function(){xn.isClient()&&!i&&(a(!0),e.onMounted&&e.onMounted())}),Rf(function(){e.onMounted&&e.onMounted()},[i]),Ph(function(){e.onUnmounted&&e.onUnmounted()});var l=e.element||e.children;if(l&&i){var d=e.appendTo||n&&n.appendTo||Ko.appendTo;return dn.isFunction(d)&&(d=d()),d||(d=document.body),d==="self"?l:O5.createPortal(l,d)}return null});k_.displayName="Portal";function oy(){return oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oy.apply(null,arguments)}function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function Qoe(t,e){if(hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zoe(t){var e=Qoe(t,"string");return hh(e)=="symbol"?e:e+""}function O_(t,e,n){return(e=Zoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ele(t){if(Array.isArray(t))return mw(t)}function tle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function D_(t,e){if(t){if(typeof t=="string")return mw(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mw(t,e):void 0}}function nle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rle(t){return ele(t)||tle(t)||D_(t)||nle()}function sle(t){if(Array.isArray(t))return t}function ile(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,a,l=[],d=!0,f=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw s}}return l}}function ale(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qc(t,e){return sle(t)||ile(t,e)||D_(t,e)||ale()}var ole={root:function(e){var n=e.positionState,r=e.classNameState;return na("p-tooltip p-component",O_({},"p-tooltip-".concat(n),!0),r)},arrow:"p-tooltip-arrow",text:"p-tooltip-text"},lle={arrow:function(e){var n=e.context;return{top:n.bottom?"0":n.right||n.left||!n.right&&!n.left&&!n.top&&!n.bottom?"50%":null,bottom:n.top?"0":null,left:n.right||!n.right&&!n.left&&!n.top&&!n.bottom?"0":n.top||n.bottom?"50%":null,right:n.left?"0":null}}},cle=`
@layer primereact {
    .p-tooltip {
        position: absolute;
        padding: .25em .5rem;
        /* #3687: Tooltip prevent scrollbar flickering */
        top: -9999px;
        left: -9999px;
    }
    
    .p-tooltip.p-tooltip-right,
    .p-tooltip.p-tooltip-left {
        padding: 0 .25rem;
    }
    
    .p-tooltip.p-tooltip-top,
    .p-tooltip.p-tooltip-bottom {
        padding:.25em 0;
    }
    
    .p-tooltip .p-tooltip-text {
       white-space: pre-line;
       word-break: break-word;
    }
    
    .p-tooltip-arrow {
        position: absolute;
        width: 0;
        height: 0;
        border-color: transparent;
        border-style: solid;
    }
    
    .p-tooltip-right .p-tooltip-arrow {
        top: 50%;
        left: 0;
        margin-top: -.25rem;
        border-width: .25em .25em .25em 0;
    }
    
    .p-tooltip-left .p-tooltip-arrow {
        top: 50%;
        right: 0;
        margin-top: -.25rem;
        border-width: .25em 0 .25em .25rem;
    }
    
    .p-tooltip.p-tooltip-top {
        padding: .25em 0;
    }
    
    .p-tooltip-top .p-tooltip-arrow {
        bottom: 0;
        left: 50%;
        margin-left: -.25rem;
        border-width: .25em .25em 0;
    }
    
    .p-tooltip-bottom .p-tooltip-arrow {
        top: 0;
        left: 50%;
        margin-left: -.25rem;
        border-width: 0 .25em .25rem;
    }

    .p-tooltip-target-wrapper {
        display: inline-flex;
    }
}
`,wm=hr.extend({defaultProps:{__TYPE:"Tooltip",appendTo:null,at:null,autoHide:!0,autoZIndex:!0,baseZIndex:0,className:null,closeOnEscape:!1,content:null,disabled:!1,event:null,hideDelay:0,hideEvent:"mouseleave",id:null,mouseTrack:!1,mouseTrackLeft:5,mouseTrackTop:5,my:null,onBeforeHide:null,onBeforeShow:null,onHide:null,onShow:null,position:"right",showDelay:0,showEvent:"mouseenter",showOnDisabled:!1,style:null,target:null,updateDelay:0,children:void 0},css:{classes:ole,styles:cle,inlineStyles:lle}});function P3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ule(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P3(Object(n),!0).forEach(function(r){O_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var M_=j.memo(j.forwardRef(function(t,e){var n=N_(),r=j.useContext(Vu),s=wm.getProps(t,r),i=j.useState(!1),a=Qc(i,2),l=a[0],d=a[1],f=j.useState(s.position||"right"),p=Qc(f,2),m=p[0],y=p[1],x=j.useState(""),b=Qc(x,2),S=b[0],C=b[1],N=j.useState(!1),k=Qc(N,2),D=k[0],M=k[1],E=l&&s.closeOnEscape,A=boe("tooltip",E),P={props:s,state:{visible:l,position:m,className:S},context:{right:m==="right",left:m==="left",top:m==="top",bottom:m==="bottom"}},F=wm.setMetaData(P),ee=F.ptm,be=F.cx,ce=F.sx,ae=F.isUnstyled;E_(wm.css.styles,ae,{name:"tooltip"}),joe({callback:function(){B()},when:E,priority:[Noe.TOOLTIP,A]});var te=j.useRef(null),ke=j.useRef(null),ze=j.useRef(null),W=j.useRef(null),oe=j.useRef(!0),ye=j.useRef({}),Fe=j.useRef(null),U=Eoe({listener:function(Te){!xn.isTouchDevice()&&B(Te)}}),ue=Qc(U,2),se=ue[0],fe=ue[1],Ee=Toe({target:ze.current,listener:function(Te){B(Te)},when:l}),Pe=Qc(Ee,2),Oe=Pe[0],Ye=Pe[1],Me=function(Te){return!(s.content||nt(Te,"tooltip"))},ut=function(Te){return!(s.content||nt(Te,"tooltip")||s.children)},Ze=function(Te){return nt(Te,"mousetrack")||s.mouseTrack},St=function(Te){return nt(Te,"disabled")==="true"||Z(Te,"disabled")||s.disabled},Nt=function(Te){return nt(Te,"showondisabled")||s.showOnDisabled},Ft=function(){return nt(ze.current,"autohide")||s.autoHide},nt=function(Te,lt){return Z(Te,"data-pr-".concat(lt))?Te.getAttribute("data-pr-".concat(lt)):null},Z=function(Te,lt){return Te&&Te.hasAttribute(lt)},Ve=function(Te){var lt=[nt(Te,"showevent")||s.showEvent],jt=[nt(Te,"hideevent")||s.hideEvent];if(Ze(Te))lt=["mousemove"],jt=["mouseleave"];else{var Et=nt(Te,"event")||s.event;Et==="focus"&&(lt=["focus"],jt=["blur"]),Et==="both"&&(lt=["focus","mouseenter"],jt=D?["blur"]:["mouseleave","blur"])}return{showEvents:lt,hideEvents:jt}},qe=function(Te){return nt(Te,"position")||m},at=function(Te){var lt=nt(Te,"mousetracktop")||s.mouseTrackTop,jt=nt(Te,"mousetrackleft")||s.mouseTrackLeft;return{top:lt,left:jt}},bt=function(Te,lt){if(ke.current){var jt=nt(Te,"tooltip")||s.content;jt?(ke.current.innerHTML="",ke.current.appendChild(document.createTextNode(jt)),lt()):s.children&&lt()}},$=function(Te){bt(ze.current,function(){var lt=Fe.current,jt=lt.pageX,Et=lt.pageY;s.autoZIndex&&!uf.get(te.current)&&uf.set("tooltip",te.current,r&&r.autoZIndex||Ko.autoZIndex,s.baseZIndex||r&&r.zIndex.tooltip||Ko.zIndex.tooltip),te.current.style.left="",te.current.style.top="",Ft()&&(te.current.style.pointerEvents="none");var kt=Ze(ze.current)||Te==="mouse";(kt&&!W.current||kt)&&(W.current={width:xn.getOuterWidth(te.current),height:xn.getOuterHeight(te.current)}),de(ze.current,{x:jt,y:Et},Te)})},re=function(Te){Te.type&&Te.type==="focus"&&M(!0),ze.current=Te.currentTarget;var lt=St(ze.current),jt=ut(Nt(ze.current)&&lt?ze.current.firstChild:ze.current);if(!(jt||lt))if(Fe.current=Te,l)Jt("updateDelay",$);else{var Et=Pt(s.onBeforeShow,{originalEvent:Te,target:ze.current});Et&&Jt("showDelay",function(){d(!0),Pt(s.onShow,{originalEvent:Te,target:ze.current})})}},B=function(Te){if(Te&&Te.type==="blur"&&M(!1),an(),l){var lt=Pt(s.onBeforeHide,{originalEvent:Te,target:ze.current});lt&&Jt("hideDelay",function(){!Ft()&&oe.current===!1||(uf.clear(te.current),xn.removeClass(te.current,"p-tooltip-active"),d(!1),Pt(s.onHide,{originalEvent:Te,target:ze.current}))})}else!s.onBeforeHide&&!ht("hideDelay")&&d(!1)},de=function(Te,lt,jt){var Et=0,kt=0,en=jt||m;if((Ze(Te)||en=="mouse")&&lt){var Nn={width:xn.getOuterWidth(te.current),height:xn.getOuterHeight(te.current)};Et=lt.x,kt=lt.y;var Q=at(Te),me=Q.top,je=Q.left;switch(en){case"left":Et=Et-(Nn.width+je),kt=kt-(Nn.height/2-me);break;case"right":case"mouse":Et=Et+je,kt=kt-(Nn.height/2-me);break;case"top":Et=Et-(Nn.width/2-je),kt=kt-(Nn.height+me);break;case"bottom":Et=Et-(Nn.width/2-je),kt=kt+me;break}Et<=0||W.current.width>Nn.width?(te.current.style.left="0px",te.current.style.right=window.innerWidth-Nn.width-Et+"px"):(te.current.style.right="",te.current.style.left=Et+"px"),te.current.style.top=kt+"px",xn.addClass(te.current,"p-tooltip-active")}else{var $e=xn.findCollisionPosition(en),Xe=nt(Te,"my")||s.my||$e.my,vt=nt(Te,"at")||s.at||$e.at;te.current.style.padding="0px",xn.flipfitCollision(te.current,Te,Xe,vt,function(At){var ct=At.at,Ct=ct.x,gt=ct.y,Ot=At.my.x,G=s.at?Ct!=="center"&&Ct!==Ot?Ct:gt:At.at["".concat($e.axis)];te.current.style.padding="",y(G),xe(G),xn.addClass(te.current,"p-tooltip-active")})}},xe=function(Te){if(te.current){var lt=getComputedStyle(te.current);Te==="left"?te.current.style.left=parseFloat(lt.left)-parseFloat(lt.paddingLeft)*2+"px":Te==="top"&&(te.current.style.top=parseFloat(lt.top)-parseFloat(lt.paddingTop)*2+"px")}},H=function(){Ft()||(oe.current=!1)},V=function(Te){Ft()||(oe.current=!0,B(Te))},we=function(Te){if(Te){var lt=Ve(Te),jt=lt.showEvents,Et=lt.hideEvents,kt=Qt(Te);jt.forEach(function(en){return kt?.addEventListener(en,re)}),Et.forEach(function(en){return kt?.addEventListener(en,B)})}},et=function(Te){if(Te){var lt=Ve(Te),jt=lt.showEvents,Et=lt.hideEvents,kt=Qt(Te);jt.forEach(function(en){return kt?.removeEventListener(en,re)}),Et.forEach(function(en){return kt?.removeEventListener(en,B)})}},ht=function(Te){return nt(ze.current,Te.toLowerCase())||s[Te]},Jt=function(Te,lt){an();var jt=ht(Te);jt?ye.current["".concat(Te)]=setTimeout(function(){return lt()},jt):lt()},Pt=function(Te){if(Te){for(var lt=arguments.length,jt=new Array(lt>1?lt-1:0),Et=1;Et<lt;Et++)jt[Et-1]=arguments[Et];var kt=Te.apply(void 0,jt);return kt===void 0&&(kt=!0),kt}return!0},an=function(){Object.values(ye.current).forEach(function(Te){return clearTimeout(Te)})},Qt=function(Te){if(Te){if(Nt(Te)){if(!Te.hasWrapper){var lt=document.createElement("div"),jt=Te.nodeName==="INPUT";return jt?xn.addMultipleClasses(lt,"p-tooltip-target-wrapper p-inputwrapper"):xn.addClass(lt,"p-tooltip-target-wrapper"),Te.parentNode.insertBefore(lt,Te),lt.appendChild(Te),Te.hasWrapper=!0,lt}return Te.parentElement}else if(Te.hasWrapper){var Et;(Et=Te.parentElement).replaceWith.apply(Et,rle(Te.parentElement.childNodes)),delete Te.hasWrapper}return Te}return null},Ne=function(Te){pt(Te),ot(Te)},ot=function(Te){pe(Te||s.target,we)},pt=function(Te){pe(Te||s.target,et)},pe=function(Te,lt){if(Te=dn.getRefElement(Te),Te)if(xn.isElement(Te))lt(Te);else{var jt=function(kt){var en=xn.find(document,kt);en.forEach(function(Nn){lt(Nn)})};Te instanceof Array?Te.forEach(function(Et){jt(Et)}):jt(Te)}};Gy(function(){l&&ze.current&&St(ze.current)&&B()}),Rf(function(){return ot(),function(){pt()}},[re,B,s.target]),Rf(function(){if(l){var rt=qe(ze.current),Te=nt(ze.current,"classname");y(rt),C(Te),$(rt),se(),Oe()}else y(s.position||"right"),C(""),ze.current=null,W.current=null,oe.current=!0;return function(){fe(),Ye()}},[l]),Rf(function(){var rt=qe(ze.current);l&&rt!=="mouse"&&Jt("updateDelay",function(){bt(ze.current,function(){de(ze.current)})})},[s.content]),Ph(function(){B(),uf.clear(te.current)}),j.useImperativeHandle(e,function(){return{props:s,updateTargetEvents:Ne,loadTargetEvents:ot,unloadTargetEvents:pt,show:re,hide:B,getElement:function(){return te.current},getTarget:function(){return ze.current}}});var mt=function(){var Te=Me(ze.current),lt=n({id:s.id,className:na(s.className,be("root",{positionState:m,classNameState:S})),style:s.style,role:"tooltip","aria-hidden":l,onMouseEnter:function(en){return H()},onMouseLeave:function(en){return V(en)}},wm.getOtherProps(s),ee("root")),jt=n({className:be("arrow"),style:ce("arrow",ule({},P))},ee("arrow")),Et=n({className:be("text")},ee("text"));return j.createElement("div",oy({ref:te},lt),j.createElement("div",jt),j.createElement("div",oy({ref:ke},Et),Te&&s.children))};if(l){var Lt=mt();return j.createElement(k_,{element:Lt,appendTo:s.appendTo,visible:!0})}return null}));M_.displayName="Tooltip";function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function dle(t,e){if(ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fle(t){var e=dle(t,"string");return ph(e)=="symbol"?e:e+""}function hle(t,e,n){return(e=fle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jo(){return jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jo.apply(null,arguments)}function gw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ple(t){if(Array.isArray(t))return gw(t)}function mle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function R_(t,e){if(t){if(typeof t=="string")return gw(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gw(t,e):void 0}}function gle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sm(t){return ple(t)||mle(t)||R_(t)||gle()}function yle(t){if(Array.isArray(t))return t}function xle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,a,l=[],d=!0,f=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw s}}return l}}function vle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z3(t,e){return yle(t)||xle(t,e)||R_(t,e)||vle()}var ble=`
@layer primereact {
    .p-chips {
        display: inline-flex;
    }
    
    .p-chips-multiple-container {
        margin: 0;
        padding: 0;
        list-style-type: none;
        cursor: text;
        overflow: hidden;
        display: flex;
        align-items: center;
        flex-wrap: wrap;
    }
    
    .p-chips-token {
        cursor: default;
        display: inline-flex;
        align-items: center;
        flex: 0 0 auto;
    }
    
    .p-chips-input-token {
        flex: 1 1 auto;
        display: inline-flex;
    }
    
    .p-chips-token-icon {
        cursor: pointer;
    }
    
    .p-chips-input-token input {
        border: 0 none;
        outline: 0 none;
        background-color: transparent;
        margin: 0;
        padding: 0;
        box-shadow: none;
        border-radius: 0;
        width: 100%;
    }
    
    .p-fluid .p-chips {
        display: flex;
    }
    
    .p-chips-icon-left,
    .p-chips-icon-right {
        position: relative;
        display: inline-block;
    }
    
    .p-chips-icon-left > i,
    .p-chips-icon-right > i,
    .p-chips-icon-left > svg,
    .p-chips-icon-right > svg,
    .p-chips-icon-left > .p-chips-prefix,
    .p-chips-icon-right > .p-chips-suffix {
        position: absolute;
        top: 50%;
        margin-top: -0.5rem;
    }
    
    .p-fluid .p-chips-icon-left,
    .p-fluid .p-chips-icon-right {
        display: block;
        width: 100%;
    }
}
`,wle={removeTokenIcon:"p-chips-token-icon",label:"p-chips-token-label",token:function(e){var n=e.focusedIndex,r=e.index;return na("p-chips-token",{"p-focus":n===r})},inputToken:"p-chips-input-token",container:function(e){var n=e.props,r=e.context;return na("p-inputtext p-chips-multiple-container",{"p-variant-filled":n.variant?n.variant==="filled":r&&r.inputStyle==="filled"})},root:function(e){var n=e.isFilled,r=e.focusedState,s=e.disabled,i=e.invalid;return na("p-chips p-component p-inputwrapper",{"p-inputwrapper-filled":n,"p-inputwrapper-focus":r,"p-disabled":s,"p-invalid":i,"p-focus":r})}},Cm=hr.extend({defaultProps:{__TYPE:"Chips",addOnBlur:null,allowDuplicate:!0,ariaLabelledBy:null,autoFocus:!1,className:null,disabled:null,id:null,inputId:null,inputRef:null,invalid:!1,variant:null,itemTemplate:null,keyfilter:null,max:null,name:null,onAdd:null,onBlur:null,onChange:null,onFocus:null,onKeyDown:null,onRemove:null,placeholder:null,readOnly:!1,removable:!0,removeIcon:null,separator:null,style:null,tooltip:null,tooltipOptions:null,value:null,children:void 0},css:{classes:wle,styles:ble}});function I3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function B3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I3(Object(n),!0).forEach(function(r){hle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var yw=j.memo(j.forwardRef(function(t,e){var n=N_(),r=j.useContext(Vu),s=Cm.getProps(t,r),i=j.useState(!1),a=z3(i,2),l=a[0],d=a[1],f=j.useState(null),p=z3(f,2),m=p[0],y=p[1],x=Cm.setMetaData({props:s,state:{focused:l}}),b=x.ptm,S=x.cx,C=x.isUnstyled;E_(Cm.css.styles,C,{name:"chips"});var N=j.useRef(null),k=j.useRef(null),D=j.useRef(s.inputRef),M=function(Z,Ve){if(!(s.disabled||s.readOnly)){var qe=Sm(s.value),at=qe.splice(Ve,1)[0];se(at,Ve)&&(s.onRemove&&s.onRemove({originalEvent:Z,value:at}),s.onChange&&s.onChange({originalEvent:Z,value:qe,stopPropagation:function(){Z?.stopPropagation()},preventDefault:function(){Z?.preventDefault()},target:{name:s.name,id:s.id,value:qe}}))}},E=function(Z,Ve,qe){if(Ve&&Ve.trim().length){var at=s.value?Sm(s.value):[];if(s.allowDuplicate||at.indexOf(Ve)===-1){var bt=!0;s.onAdd&&(bt=s.onAdd({originalEvent:Z,value:Ve})),bt!==!1&&at.push(Ve)}ae(Z,at,qe)}},A=function(){xn.focus(D.current)},P=function(Z){switch(Z.code){case"ArrowLeft":F();break;case"ArrowRight":ee();break;case"Backspace":be(Z);break}},F=function(){var Z=m;D.current.value.length===0&&s.value&&s.value.length>0&&(Z=Z===null?s.value.length-1:Z-1,Z<0&&(Z=0)),y(Z)},ee=function(){var Z=m;D.current.value.length===0&&s.value&&s.value.length>0&&(Z===s.value.length-1?(Z=null,D.current.focus()):Z++),y(Z)},be=function(Z){m!==null&&M(Z,m)},ce=function(Z){var Ve=Z.target.value,qe=s.value||[];if(s.onKeyDown&&s.onKeyDown(Z),!Z.defaultPrevented)switch(Z.key){case"Backspace":Ve.length===0&&qe.length>0&&M(Z,qe.length-1);break;case"Enter":Ve&&Ve.trim().length&&(!s.max||s.max>qe.length)&&E(Z,Ve,!0);break;case"ArrowLeft":Ve.length===0&&qe&&qe.length>0&&xn.focus(k.current);break;case"ArrowRight":Z.stopPropagation();break;default:s.keyfilter&&ay.onKeyPress(Z,s.keyfilter),Fe()&&Z.preventDefault();break}},ae=function(Z,Ve,qe){s.onChange&&s.onChange({originalEvent:Z,value:Ve,stopPropagation:function(){Z?.stopPropagation()},preventDefault:function(){Z?.preventDefault()},target:{name:s.name,id:s.id,value:Ve}}),D.current.value="",qe&&Z.preventDefault()},te=function(Z){var Ve,qe=(Ve=Z.target.value)===null||Ve===void 0?void 0:Ve.trim();if(qe===s.separator){D.current.value="";return}if(s.separator&&qe.endsWith(s.separator)){var at=qe.slice(0,-1);E(Z,at)}},ke=function(Z){if(s.separator){var Ve=s.separator.replace("\\n",`
`).replace("\\r","\r").replace("\\t","	"),qe=(Z.clipboardData||window.clipboardData).getData("Text");if(s.keyfilter&&ay.onPaste(Z,s.keyfilter),qe){var at=s.value||[],bt=qe.split(Ve);bt=bt.filter(function($){return(s.allowDuplicate||at.indexOf($)===-1)&&$.trim().length}),at=[].concat(Sm(at),Sm(bt)),ae(Z,at,!0)}}},ze=function(){d(!0)},W=function(){y(-1),d(!1)},oe=function(Z){d(!0),y(null),s.onFocus&&s.onFocus(Z)},ye=function(Z){if(s.addOnBlur){var Ve=Z.target.value,qe=s.value||[];Ve&&Ve.trim().length&&(!s.max||s.max>qe.length)&&E(Z,Ve,!0)}d(!1),s.onBlur&&s.onBlur(Z)},Fe=function(){return s.max&&s.value&&s.max===s.value.length},U=D.current&&D.current.value,ue=j.useMemo(function(){return dn.isNotEmpty(s.value)||dn.isNotEmpty(U)},[s.value,U]),se=function(Z,Ve){return dn.getPropValue(s.removable,{value:Z,index:Ve,props:s})};j.useImperativeHandle(e,function(){return{props:s,focus:function(){return xn.focus(D.current)},getElement:function(){return N.current},getInput:function(){return D.current}}}),j.useEffect(function(){dn.combinedRefs(D,s.inputRef)},[D,s.inputRef]),Gy(function(){s.autoFocus&&xn.focus(D.current,s.autoFocus)});var fe=function(){return m!==null?"".concat(s.inputId,"_chips_item_").concat(m):null},Ee=function(Z,Ve){if(!s.disabled&&!s.readOnly&&se(Z,Ve)){var qe=n({className:S("removeTokenIcon"),onClick:function(re){return M(re,Ve)},"aria-hidden":"true"},b("removeTokenIcon")),at=s.removeIcon||j.createElement(A_,jo({},qe,{key:"".concat(Ve,"_icon")})),bt=uoe.getJSXIcon(at,B3({},qe),{props:s});return bt}return null},Pe=function(Z,Ve){var qe=s.itemTemplate?s.itemTemplate(Z):Z,at=n({className:S("label")},b("label")),bt=j.createElement("span",jo({},at,{key:"".concat(Ve,"_").concat(Z,"_span")}),qe),$=Ee(Z,Ve),re=n({id:s.inputId+"_chips_item_"+Ve,role:"option","aria-label":Z,className:S("token",{focusedIndex:m,index:Ve}),"aria-selected":!0,"aria-setsize":s.value.length,"aria-posinset":Ve+1,"data-p-highlight":!0,"data-p-focused":m===Ve},b("token"));return j.createElement("li",jo({},re,{key:"".concat(Ve,"_").concat(Z)}),bt,$)},Oe=function(){var Z=n({className:S("inputToken")},b("inputToken")),Ve=n(B3({id:s.inputId,ref:D,placeholder:s.placeholder,type:"text",enterKeyHint:"enter",name:s.name,disabled:s.disabled||Fe(),onKeyDown:function(at){return ce(at)},onChange:function(at){return te(at)},onPaste:function(at){return ke(at)},onFocus:function(at){return oe(at)},onBlur:function(at){return ye(at)},readOnly:s.readOnly},St),b("input"));return j.createElement("li",jo({},Z,{key:s.inputId+"_chips_input"}),j.createElement("input",Ve))},Ye=function(){return s.value?s.value.map(Pe):null},Me=function(){var Z=Ye(),Ve=Oe(),qe=n({ref:k,className:S("container",{context:r}),onClick:function(bt){return A()},onKeyDown:function(bt){return P(bt)},tabIndex:-1,role:"listbox","aria-orientation":"horizontal","aria-labelledby":s.ariaLabelledby,"aria-label":s.ariaLabel,"aria-activedescendant":l?fe():void 0,"data-p-disabled":s.disabled,"data-p-focus":l,onFocus:ze,onBlur:W},b("container"));return j.createElement("ul",qe,Z,Ve)},ut=dn.isNotEmpty(s.tooltip),Ze=Cm.getOtherProps(s),St=dn.reduceKeys(Ze,xn.ARIA_PROPS),Nt=Me(),Ft=n({id:s.id,ref:N,className:na(s.className,S("root",{isFilled:ue,focusedState:l,disabled:s.disabled,invalid:s.invalid})),style:s.style},b("root"));return j.createElement(j.Fragment,null,j.createElement("div",jo({},Ft,{key:"chips"}),Nt),ut&&j.createElement(M_,jo({target:D,content:s.tooltip,pt:b("tooltip")},s.tooltipOptions)))}));yw.displayName="Chips";function Nm(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Nb={exports:{}};var F3;function Sle(){return F3||(F3=1,function(t,e){(function(n){t.exports=n()})(function(){return function n(r,s,i){function a(f,p){if(!s[f]){if(!r[f]){var m=typeof Nm=="function"&&Nm;if(!p&&m)return m(f,!0);if(l)return l(f,!0);var y=new Error("Cannot find module '"+f+"'");throw y.code="MODULE_NOT_FOUND",y}var x=s[f]={exports:{}};r[f][0].call(x.exports,function(b){var S=r[f][1][b];return a(S||b)},x,x.exports,n,r,s,i)}return s[f].exports}for(var l=typeof Nm=="function"&&Nm,d=0;d<i.length;d++)a(i[d]);return a}({1:[function(n,r,s){(function(i){var a=i.MutationObserver||i.WebKitMutationObserver,l;if(a){var d=0,f=new a(b),p=i.document.createTextNode("");f.observe(p,{characterData:!0}),l=function(){p.data=d=++d%2}}else if(!i.setImmediate&&typeof i.MessageChannel<"u"){var m=new i.MessageChannel;m.port1.onmessage=b,l=function(){m.port2.postMessage(0)}}else"document"in i&&"onreadystatechange"in i.document.createElement("script")?l=function(){var C=i.document.createElement("script");C.onreadystatechange=function(){b(),C.onreadystatechange=null,C.parentNode.removeChild(C),C=null},i.document.documentElement.appendChild(C)}:l=function(){setTimeout(b,0)};var y,x=[];function b(){y=!0;for(var C,N,k=x.length;k;){for(N=x,x=[],C=-1;++C<k;)N[C]();k=x.length}y=!1}r.exports=S;function S(C){x.push(C)===1&&!y&&l()}}).call(this,typeof Vp<"u"?Vp:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,s){var i=n(1);function a(){}var l={},d=["REJECTED"],f=["FULFILLED"],p=["PENDING"];r.exports=m;function m(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,E!==a&&S(this,E)}m.prototype.catch=function(E){return this.then(null,E)},m.prototype.then=function(E,A){if(typeof E!="function"&&this.state===f||typeof A!="function"&&this.state===d)return this;var P=new this.constructor(a);if(this.state!==p){var F=this.state===f?E:A;x(P,F,this.outcome)}else this.queue.push(new y(P,E,A));return P};function y(E,A,P){this.promise=E,typeof A=="function"&&(this.onFulfilled=A,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}y.prototype.callFulfilled=function(E){l.resolve(this.promise,E)},y.prototype.otherCallFulfilled=function(E){x(this.promise,this.onFulfilled,E)},y.prototype.callRejected=function(E){l.reject(this.promise,E)},y.prototype.otherCallRejected=function(E){x(this.promise,this.onRejected,E)};function x(E,A,P){i(function(){var F;try{F=A(P)}catch(ee){return l.reject(E,ee)}F===E?l.reject(E,new TypeError("Cannot resolve promise with itself")):l.resolve(E,F)})}l.resolve=function(E,A){var P=C(b,A);if(P.status==="error")return l.reject(E,P.value);var F=P.value;if(F)S(E,F);else{E.state=f,E.outcome=A;for(var ee=-1,be=E.queue.length;++ee<be;)E.queue[ee].callFulfilled(A)}return E},l.reject=function(E,A){E.state=d,E.outcome=A;for(var P=-1,F=E.queue.length;++P<F;)E.queue[P].callRejected(A);return E};function b(E){var A=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof A=="function")return function(){A.apply(E,arguments)}}function S(E,A){var P=!1;function F(ae){P||(P=!0,l.reject(E,ae))}function ee(ae){P||(P=!0,l.resolve(E,ae))}function be(){A(ee,F)}var ce=C(be);ce.status==="error"&&F(ce.value)}function C(E,A){var P={};try{P.value=E(A),P.status="success"}catch(F){P.status="error",P.value=F}return P}m.resolve=N;function N(E){return E instanceof this?E:l.resolve(new this(a),E)}m.reject=k;function k(E){var A=new this(a);return l.reject(A,E)}m.all=D;function D(E){var A=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=E.length,F=!1;if(!P)return this.resolve([]);for(var ee=new Array(P),be=0,ce=-1,ae=new this(a);++ce<P;)te(E[ce],ce);return ae;function te(ke,ze){A.resolve(ke).then(W,function(oe){F||(F=!0,l.reject(ae,oe))});function W(oe){ee[ze]=oe,++be===P&&!F&&(F=!0,l.resolve(ae,ee))}}}m.race=M;function M(E){var A=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=E.length,F=!1;if(!P)return this.resolve([]);for(var ee=-1,be=new this(a);++ee<P;)ce(E[ee]);return be;function ce(ae){A.resolve(ae).then(function(te){F||(F=!0,l.resolve(be,te))},function(te){F||(F=!0,l.reject(be,te))})}}},{1:1}],3:[function(n,r,s){(function(i){typeof i.Promise!="function"&&(i.Promise=n(2))}).call(this,typeof Vp<"u"?Vp:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,s){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T};function a(T,L){if(!(T instanceof L))throw new TypeError("Cannot call a class as a function")}function l(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var d=l();function f(){try{if(!d||!d.open)return!1;var T=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),L=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!T||L)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function p(T,L){T=T||[],L=L||{};try{return new Blob(T,L)}catch(ie){if(ie.name!=="TypeError")throw ie;for(var I=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,J=new I,he=0;he<T.length;he+=1)J.append(T[he]);return J.getBlob(L.type)}}typeof Promise>"u"&&n(3);var m=Promise;function y(T,L){L&&T.then(function(I){L(null,I)},function(I){L(I)})}function x(T,L,I){typeof L=="function"&&T.then(L),typeof I=="function"&&T.catch(I)}function b(T){return typeof T!="string"&&(console.warn(T+" used as a key, but it is not a string."),T=String(T)),T}function S(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var C="local-forage-detect-blob-support",N=void 0,k={},D=Object.prototype.toString,M="readonly",E="readwrite";function A(T){for(var L=T.length,I=new ArrayBuffer(L),J=new Uint8Array(I),he=0;he<L;he++)J[he]=T.charCodeAt(he);return I}function P(T){return new m(function(L){var I=T.transaction(C,E),J=p([""]);I.objectStore(C).put(J,"key"),I.onabort=function(he){he.preventDefault(),he.stopPropagation(),L(!1)},I.oncomplete=function(){var he=navigator.userAgent.match(/Chrome\/(\d+)/),ie=navigator.userAgent.match(/Edge\//);L(ie||!he||parseInt(he[1],10)>=43)}}).catch(function(){return!1})}function F(T){return typeof N=="boolean"?m.resolve(N):P(T).then(function(L){return N=L,N})}function ee(T){var L=k[T.name],I={};I.promise=new m(function(J,he){I.resolve=J,I.reject=he}),L.deferredOperations.push(I),L.dbReady?L.dbReady=L.dbReady.then(function(){return I.promise}):L.dbReady=I.promise}function be(T){var L=k[T.name],I=L.deferredOperations.pop();if(I)return I.resolve(),I.promise}function ce(T,L){var I=k[T.name],J=I.deferredOperations.pop();if(J)return J.reject(L),J.promise}function ae(T,L){return new m(function(I,J){if(k[T.name]=k[T.name]||se(),T.db)if(L)ee(T),T.db.close();else return I(T.db);var he=[T.name];L&&he.push(T.version);var ie=d.open.apply(d,he);L&&(ie.onupgradeneeded=function(Ie){var Je=ie.result;try{Je.createObjectStore(T.storeName),Ie.oldVersion<=1&&Je.createObjectStore(C)}catch(Qe){if(Qe.name==="ConstraintError")console.warn('The database "'+T.name+'" has been upgraded from version '+Ie.oldVersion+" to version "+Ie.newVersion+', but the storage "'+T.storeName+'" already exists.');else throw Qe}}),ie.onerror=function(Ie){Ie.preventDefault(),J(ie.error)},ie.onsuccess=function(){var Ie=ie.result;Ie.onversionchange=function(Je){Je.target.close()},I(Ie),be(T)}})}function te(T){return ae(T,!1)}function ke(T){return ae(T,!0)}function ze(T,L){if(!T.db)return!0;var I=!T.db.objectStoreNames.contains(T.storeName),J=T.version<T.db.version,he=T.version>T.db.version;if(J&&(T.version!==L&&console.warn('The database "'+T.name+`" can't be downgraded from version `+T.db.version+" to version "+T.version+"."),T.version=T.db.version),he||I){if(I){var ie=T.db.version+1;ie>T.version&&(T.version=ie)}return!0}return!1}function W(T){return new m(function(L,I){var J=new FileReader;J.onerror=I,J.onloadend=function(he){var ie=btoa(he.target.result||"");L({__local_forage_encoded_blob:!0,data:ie,type:T.type})},J.readAsBinaryString(T)})}function oe(T){var L=A(atob(T.data));return p([L],{type:T.type})}function ye(T){return T&&T.__local_forage_encoded_blob}function Fe(T){var L=this,I=L._initReady().then(function(){var J=k[L._dbInfo.name];if(J&&J.dbReady)return J.dbReady});return x(I,T,T),I}function U(T){ee(T);for(var L=k[T.name],I=L.forages,J=0;J<I.length;J++){var he=I[J];he._dbInfo.db&&(he._dbInfo.db.close(),he._dbInfo.db=null)}return T.db=null,te(T).then(function(ie){return T.db=ie,ze(T)?ke(T):ie}).then(function(ie){T.db=L.db=ie;for(var Ie=0;Ie<I.length;Ie++)I[Ie]._dbInfo.db=ie}).catch(function(ie){throw ce(T,ie),ie})}function ue(T,L,I,J){J===void 0&&(J=1);try{var he=T.db.transaction(T.storeName,L);I(null,he)}catch(ie){if(J>0&&(!T.db||ie.name==="InvalidStateError"||ie.name==="NotFoundError"))return m.resolve().then(function(){if(!T.db||ie.name==="NotFoundError"&&!T.db.objectStoreNames.contains(T.storeName)&&T.version<=T.db.version)return T.db&&(T.version=T.db.version+1),ke(T)}).then(function(){return U(T).then(function(){ue(T,L,I,J-1)})}).catch(I);I(ie)}}function se(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function fe(T){var L=this,I={db:null};if(T)for(var J in T)I[J]=T[J];var he=k[I.name];he||(he=se(),k[I.name]=he),he.forages.push(L),L._initReady||(L._initReady=L.ready,L.ready=Fe);var ie=[];function Ie(){return m.resolve()}for(var Je=0;Je<he.forages.length;Je++){var Qe=he.forages[Je];Qe!==L&&ie.push(Qe._initReady().catch(Ie))}var st=he.forages.slice(0);return m.all(ie).then(function(){return I.db=he.db,te(I)}).then(function(dt){return I.db=dt,ze(I,L._defaultConfig.version)?ke(I):dt}).then(function(dt){I.db=he.db=dt,L._dbInfo=I;for(var Mt=0;Mt<st.length;Mt++){var Zt=st[Mt];Zt!==L&&(Zt._dbInfo.db=I.db,Zt._dbInfo.version=I.version)}})}function Ee(T,L){var I=this;T=b(T);var J=new m(function(he,ie){I.ready().then(function(){ue(I._dbInfo,M,function(Ie,Je){if(Ie)return ie(Ie);try{var Qe=Je.objectStore(I._dbInfo.storeName),st=Qe.get(T);st.onsuccess=function(){var dt=st.result;dt===void 0&&(dt=null),ye(dt)&&(dt=oe(dt)),he(dt)},st.onerror=function(){ie(st.error)}}catch(dt){ie(dt)}})}).catch(ie)});return y(J,L),J}function Pe(T,L){var I=this,J=new m(function(he,ie){I.ready().then(function(){ue(I._dbInfo,M,function(Ie,Je){if(Ie)return ie(Ie);try{var Qe=Je.objectStore(I._dbInfo.storeName),st=Qe.openCursor(),dt=1;st.onsuccess=function(){var Mt=st.result;if(Mt){var Zt=Mt.value;ye(Zt)&&(Zt=oe(Zt));var vn=T(Zt,Mt.key,dt++);vn!==void 0?he(vn):Mt.continue()}else he()},st.onerror=function(){ie(st.error)}}catch(Mt){ie(Mt)}})}).catch(ie)});return y(J,L),J}function Oe(T,L,I){var J=this;T=b(T);var he=new m(function(ie,Ie){var Je;J.ready().then(function(){return Je=J._dbInfo,D.call(L)==="[object Blob]"?F(Je.db).then(function(Qe){return Qe?L:W(L)}):L}).then(function(Qe){ue(J._dbInfo,E,function(st,dt){if(st)return Ie(st);try{var Mt=dt.objectStore(J._dbInfo.storeName);Qe===null&&(Qe=void 0);var Zt=Mt.put(Qe,T);dt.oncomplete=function(){Qe===void 0&&(Qe=null),ie(Qe)},dt.onabort=dt.onerror=function(){var vn=Zt.error?Zt.error:Zt.transaction.error;Ie(vn)}}catch(vn){Ie(vn)}})}).catch(Ie)});return y(he,I),he}function Ye(T,L){var I=this;T=b(T);var J=new m(function(he,ie){I.ready().then(function(){ue(I._dbInfo,E,function(Ie,Je){if(Ie)return ie(Ie);try{var Qe=Je.objectStore(I._dbInfo.storeName),st=Qe.delete(T);Je.oncomplete=function(){he()},Je.onerror=function(){ie(st.error)},Je.onabort=function(){var dt=st.error?st.error:st.transaction.error;ie(dt)}}catch(dt){ie(dt)}})}).catch(ie)});return y(J,L),J}function Me(T){var L=this,I=new m(function(J,he){L.ready().then(function(){ue(L._dbInfo,E,function(ie,Ie){if(ie)return he(ie);try{var Je=Ie.objectStore(L._dbInfo.storeName),Qe=Je.clear();Ie.oncomplete=function(){J()},Ie.onabort=Ie.onerror=function(){var st=Qe.error?Qe.error:Qe.transaction.error;he(st)}}catch(st){he(st)}})}).catch(he)});return y(I,T),I}function ut(T){var L=this,I=new m(function(J,he){L.ready().then(function(){ue(L._dbInfo,M,function(ie,Ie){if(ie)return he(ie);try{var Je=Ie.objectStore(L._dbInfo.storeName),Qe=Je.count();Qe.onsuccess=function(){J(Qe.result)},Qe.onerror=function(){he(Qe.error)}}catch(st){he(st)}})}).catch(he)});return y(I,T),I}function Ze(T,L){var I=this,J=new m(function(he,ie){if(T<0){he(null);return}I.ready().then(function(){ue(I._dbInfo,M,function(Ie,Je){if(Ie)return ie(Ie);try{var Qe=Je.objectStore(I._dbInfo.storeName),st=!1,dt=Qe.openKeyCursor();dt.onsuccess=function(){var Mt=dt.result;if(!Mt){he(null);return}T===0||st?he(Mt.key):(st=!0,Mt.advance(T))},dt.onerror=function(){ie(dt.error)}}catch(Mt){ie(Mt)}})}).catch(ie)});return y(J,L),J}function St(T){var L=this,I=new m(function(J,he){L.ready().then(function(){ue(L._dbInfo,M,function(ie,Ie){if(ie)return he(ie);try{var Je=Ie.objectStore(L._dbInfo.storeName),Qe=Je.openKeyCursor(),st=[];Qe.onsuccess=function(){var dt=Qe.result;if(!dt){J(st);return}st.push(dt.key),dt.continue()},Qe.onerror=function(){he(Qe.error)}}catch(dt){he(dt)}})}).catch(he)});return y(I,T),I}function Nt(T,L){L=S.apply(this,arguments);var I=this.config();T=typeof T!="function"&&T||{},T.name||(T.name=T.name||I.name,T.storeName=T.storeName||I.storeName);var J=this,he;if(!T.name)he=m.reject("Invalid arguments");else{var ie=T.name===I.name&&J._dbInfo.db,Ie=ie?m.resolve(J._dbInfo.db):te(T).then(function(Je){var Qe=k[T.name],st=Qe.forages;Qe.db=Je;for(var dt=0;dt<st.length;dt++)st[dt]._dbInfo.db=Je;return Je});T.storeName?he=Ie.then(function(Je){if(Je.objectStoreNames.contains(T.storeName)){var Qe=Je.version+1;ee(T);var st=k[T.name],dt=st.forages;Je.close();for(var Mt=0;Mt<dt.length;Mt++){var Zt=dt[Mt];Zt._dbInfo.db=null,Zt._dbInfo.version=Qe}var vn=new m(function(wn,_n){var Qn=d.open(T.name,Qe);Qn.onerror=function(is){var Wa=Qn.result;Wa.close(),_n(is)},Qn.onupgradeneeded=function(){var is=Qn.result;is.deleteObjectStore(T.storeName)},Qn.onsuccess=function(){var is=Qn.result;is.close(),wn(is)}});return vn.then(function(wn){st.db=wn;for(var _n=0;_n<dt.length;_n++){var Qn=dt[_n];Qn._dbInfo.db=wn,be(Qn._dbInfo)}}).catch(function(wn){throw(ce(T,wn)||m.resolve()).catch(function(){}),wn})}}):he=Ie.then(function(Je){ee(T);var Qe=k[T.name],st=Qe.forages;Je.close();for(var dt=0;dt<st.length;dt++){var Mt=st[dt];Mt._dbInfo.db=null}var Zt=new m(function(vn,wn){var _n=d.deleteDatabase(T.name);_n.onerror=function(){var Qn=_n.result;Qn&&Qn.close(),wn(_n.error)},_n.onblocked=function(){console.warn('dropInstance blocked for database "'+T.name+'" until all open connections are closed')},_n.onsuccess=function(){var Qn=_n.result;Qn&&Qn.close(),vn(Qn)}});return Zt.then(function(vn){Qe.db=vn;for(var wn=0;wn<st.length;wn++){var _n=st[wn];be(_n._dbInfo)}}).catch(function(vn){throw(ce(T,vn)||m.resolve()).catch(function(){}),vn})})}return y(he,L),he}var Ft={_driver:"asyncStorage",_initStorage:fe,_support:f(),iterate:Pe,getItem:Ee,setItem:Oe,removeItem:Ye,clear:Me,length:ut,key:Ze,keys:St,dropInstance:Nt};function nt(){return typeof openDatabase=="function"}var Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ve="~~local_forage_type~",qe=/^~~local_forage_type~([^~]+)~/,at="__lfsc__:",bt=at.length,$="arbf",re="blob",B="si08",de="ui08",xe="uic8",H="si16",V="si32",we="ur16",et="ui32",ht="fl32",Jt="fl64",Pt=bt+$.length,an=Object.prototype.toString;function Qt(T){var L=T.length*.75,I=T.length,J,he=0,ie,Ie,Je,Qe;T[T.length-1]==="="&&(L--,T[T.length-2]==="="&&L--);var st=new ArrayBuffer(L),dt=new Uint8Array(st);for(J=0;J<I;J+=4)ie=Z.indexOf(T[J]),Ie=Z.indexOf(T[J+1]),Je=Z.indexOf(T[J+2]),Qe=Z.indexOf(T[J+3]),dt[he++]=ie<<2|Ie>>4,dt[he++]=(Ie&15)<<4|Je>>2,dt[he++]=(Je&3)<<6|Qe&63;return st}function Ne(T){var L=new Uint8Array(T),I="",J;for(J=0;J<L.length;J+=3)I+=Z[L[J]>>2],I+=Z[(L[J]&3)<<4|L[J+1]>>4],I+=Z[(L[J+1]&15)<<2|L[J+2]>>6],I+=Z[L[J+2]&63];return L.length%3===2?I=I.substring(0,I.length-1)+"=":L.length%3===1&&(I=I.substring(0,I.length-2)+"=="),I}function ot(T,L){var I="";if(T&&(I=an.call(T)),T&&(I==="[object ArrayBuffer]"||T.buffer&&an.call(T.buffer)==="[object ArrayBuffer]")){var J,he=at;T instanceof ArrayBuffer?(J=T,he+=$):(J=T.buffer,I==="[object Int8Array]"?he+=B:I==="[object Uint8Array]"?he+=de:I==="[object Uint8ClampedArray]"?he+=xe:I==="[object Int16Array]"?he+=H:I==="[object Uint16Array]"?he+=we:I==="[object Int32Array]"?he+=V:I==="[object Uint32Array]"?he+=et:I==="[object Float32Array]"?he+=ht:I==="[object Float64Array]"?he+=Jt:L(new Error("Failed to get type for BinaryArray"))),L(he+Ne(J))}else if(I==="[object Blob]"){var ie=new FileReader;ie.onload=function(){var Ie=Ve+T.type+"~"+Ne(this.result);L(at+re+Ie)},ie.readAsArrayBuffer(T)}else try{L(JSON.stringify(T))}catch(Ie){console.error("Couldn't convert value into a JSON string: ",T),L(null,Ie)}}function pt(T){if(T.substring(0,bt)!==at)return JSON.parse(T);var L=T.substring(Pt),I=T.substring(bt,Pt),J;if(I===re&&qe.test(L)){var he=L.match(qe);J=he[1],L=L.substring(he[0].length)}var ie=Qt(L);switch(I){case $:return ie;case re:return p([ie],{type:J});case B:return new Int8Array(ie);case de:return new Uint8Array(ie);case xe:return new Uint8ClampedArray(ie);case H:return new Int16Array(ie);case we:return new Uint16Array(ie);case V:return new Int32Array(ie);case et:return new Uint32Array(ie);case ht:return new Float32Array(ie);case Jt:return new Float64Array(ie);default:throw new Error("Unkown type: "+I)}}var pe={serialize:ot,deserialize:pt,stringToBuffer:Qt,bufferToString:Ne};function mt(T,L,I,J){T.executeSql("CREATE TABLE IF NOT EXISTS "+L.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],I,J)}function Lt(T){var L=this,I={db:null};if(T)for(var J in T)I[J]=typeof T[J]!="string"?T[J].toString():T[J];var he=new m(function(ie,Ie){try{I.db=openDatabase(I.name,String(I.version),I.description,I.size)}catch(Je){return Ie(Je)}I.db.transaction(function(Je){mt(Je,I,function(){L._dbInfo=I,ie()},function(Qe,st){Ie(st)})},Ie)});return I.serializer=pe,he}function rt(T,L,I,J,he,ie){T.executeSql(I,J,he,function(Ie,Je){Je.code===Je.SYNTAX_ERR?Ie.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[L.storeName],function(Qe,st){st.rows.length?ie(Qe,Je):mt(Qe,L,function(){Qe.executeSql(I,J,he,ie)},ie)},ie):ie(Ie,Je)},ie)}function Te(T,L){var I=this;T=b(T);var J=new m(function(he,ie){I.ready().then(function(){var Ie=I._dbInfo;Ie.db.transaction(function(Je){rt(Je,Ie,"SELECT * FROM "+Ie.storeName+" WHERE key = ? LIMIT 1",[T],function(Qe,st){var dt=st.rows.length?st.rows.item(0).value:null;dt&&(dt=Ie.serializer.deserialize(dt)),he(dt)},function(Qe,st){ie(st)})})}).catch(ie)});return y(J,L),J}function lt(T,L){var I=this,J=new m(function(he,ie){I.ready().then(function(){var Ie=I._dbInfo;Ie.db.transaction(function(Je){rt(Je,Ie,"SELECT * FROM "+Ie.storeName,[],function(Qe,st){for(var dt=st.rows,Mt=dt.length,Zt=0;Zt<Mt;Zt++){var vn=dt.item(Zt),wn=vn.value;if(wn&&(wn=Ie.serializer.deserialize(wn)),wn=T(wn,vn.key,Zt+1),wn!==void 0){he(wn);return}}he()},function(Qe,st){ie(st)})})}).catch(ie)});return y(J,L),J}function jt(T,L,I,J){var he=this;T=b(T);var ie=new m(function(Ie,Je){he.ready().then(function(){L===void 0&&(L=null);var Qe=L,st=he._dbInfo;st.serializer.serialize(L,function(dt,Mt){Mt?Je(Mt):st.db.transaction(function(Zt){rt(Zt,st,"INSERT OR REPLACE INTO "+st.storeName+" (key, value) VALUES (?, ?)",[T,dt],function(){Ie(Qe)},function(vn,wn){Je(wn)})},function(Zt){if(Zt.code===Zt.QUOTA_ERR){if(J>0){Ie(jt.apply(he,[T,Qe,I,J-1]));return}Je(Zt)}})})}).catch(Je)});return y(ie,I),ie}function Et(T,L,I){return jt.apply(this,[T,L,I,1])}function kt(T,L){var I=this;T=b(T);var J=new m(function(he,ie){I.ready().then(function(){var Ie=I._dbInfo;Ie.db.transaction(function(Je){rt(Je,Ie,"DELETE FROM "+Ie.storeName+" WHERE key = ?",[T],function(){he()},function(Qe,st){ie(st)})})}).catch(ie)});return y(J,L),J}function en(T){var L=this,I=new m(function(J,he){L.ready().then(function(){var ie=L._dbInfo;ie.db.transaction(function(Ie){rt(Ie,ie,"DELETE FROM "+ie.storeName,[],function(){J()},function(Je,Qe){he(Qe)})})}).catch(he)});return y(I,T),I}function Nn(T){var L=this,I=new m(function(J,he){L.ready().then(function(){var ie=L._dbInfo;ie.db.transaction(function(Ie){rt(Ie,ie,"SELECT COUNT(key) as c FROM "+ie.storeName,[],function(Je,Qe){var st=Qe.rows.item(0).c;J(st)},function(Je,Qe){he(Qe)})})}).catch(he)});return y(I,T),I}function Q(T,L){var I=this,J=new m(function(he,ie){I.ready().then(function(){var Ie=I._dbInfo;Ie.db.transaction(function(Je){rt(Je,Ie,"SELECT key FROM "+Ie.storeName+" WHERE id = ? LIMIT 1",[T+1],function(Qe,st){var dt=st.rows.length?st.rows.item(0).key:null;he(dt)},function(Qe,st){ie(st)})})}).catch(ie)});return y(J,L),J}function me(T){var L=this,I=new m(function(J,he){L.ready().then(function(){var ie=L._dbInfo;ie.db.transaction(function(Ie){rt(Ie,ie,"SELECT key FROM "+ie.storeName,[],function(Je,Qe){for(var st=[],dt=0;dt<Qe.rows.length;dt++)st.push(Qe.rows.item(dt).key);J(st)},function(Je,Qe){he(Qe)})})}).catch(he)});return y(I,T),I}function je(T){return new m(function(L,I){T.transaction(function(J){J.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(he,ie){for(var Ie=[],Je=0;Je<ie.rows.length;Je++)Ie.push(ie.rows.item(Je).name);L({db:T,storeNames:Ie})},function(he,ie){I(ie)})},function(J){I(J)})})}function $e(T,L){L=S.apply(this,arguments);var I=this.config();T=typeof T!="function"&&T||{},T.name||(T.name=T.name||I.name,T.storeName=T.storeName||I.storeName);var J=this,he;return T.name?he=new m(function(ie){var Ie;T.name===I.name?Ie=J._dbInfo.db:Ie=openDatabase(T.name,"","",0),T.storeName?ie({db:Ie,storeNames:[T.storeName]}):ie(je(Ie))}).then(function(ie){return new m(function(Ie,Je){ie.db.transaction(function(Qe){function st(vn){return new m(function(wn,_n){Qe.executeSql("DROP TABLE IF EXISTS "+vn,[],function(){wn()},function(Qn,is){_n(is)})})}for(var dt=[],Mt=0,Zt=ie.storeNames.length;Mt<Zt;Mt++)dt.push(st(ie.storeNames[Mt]));m.all(dt).then(function(){Ie()}).catch(function(vn){Je(vn)})},function(Qe){Je(Qe)})})}):he=m.reject("Invalid arguments"),y(he,L),he}var Xe={_driver:"webSQLStorage",_initStorage:Lt,_support:nt(),iterate:lt,getItem:Te,setItem:Et,removeItem:kt,clear:en,length:Nn,key:Q,keys:me,dropInstance:$e};function vt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function At(T,L){var I=T.name+"/";return T.storeName!==L.storeName&&(I+=T.storeName+"/"),I}function ct(){var T="_localforage_support_test";try{return localStorage.setItem(T,!0),localStorage.removeItem(T),!1}catch{return!0}}function Ct(){return!ct()||localStorage.length>0}function gt(T){var L=this,I={};if(T)for(var J in T)I[J]=T[J];return I.keyPrefix=At(T,L._defaultConfig),Ct()?(L._dbInfo=I,I.serializer=pe,m.resolve()):m.reject()}function Ot(T){var L=this,I=L.ready().then(function(){for(var J=L._dbInfo.keyPrefix,he=localStorage.length-1;he>=0;he--){var ie=localStorage.key(he);ie.indexOf(J)===0&&localStorage.removeItem(ie)}});return y(I,T),I}function G(T,L){var I=this;T=b(T);var J=I.ready().then(function(){var he=I._dbInfo,ie=localStorage.getItem(he.keyPrefix+T);return ie&&(ie=he.serializer.deserialize(ie)),ie});return y(J,L),J}function Re(T,L){var I=this,J=I.ready().then(function(){for(var he=I._dbInfo,ie=he.keyPrefix,Ie=ie.length,Je=localStorage.length,Qe=1,st=0;st<Je;st++){var dt=localStorage.key(st);if(dt.indexOf(ie)===0){var Mt=localStorage.getItem(dt);if(Mt&&(Mt=he.serializer.deserialize(Mt)),Mt=T(Mt,dt.substring(Ie),Qe++),Mt!==void 0)return Mt}}});return y(J,L),J}function tt(T,L){var I=this,J=I.ready().then(function(){var he=I._dbInfo,ie;try{ie=localStorage.key(T)}catch{ie=null}return ie&&(ie=ie.substring(he.keyPrefix.length)),ie});return y(J,L),J}function yt(T){var L=this,I=L.ready().then(function(){for(var J=L._dbInfo,he=localStorage.length,ie=[],Ie=0;Ie<he;Ie++){var Je=localStorage.key(Ie);Je.indexOf(J.keyPrefix)===0&&ie.push(Je.substring(J.keyPrefix.length))}return ie});return y(I,T),I}function Wt(T){var L=this,I=L.keys().then(function(J){return J.length});return y(I,T),I}function Dt(T,L){var I=this;T=b(T);var J=I.ready().then(function(){var he=I._dbInfo;localStorage.removeItem(he.keyPrefix+T)});return y(J,L),J}function zt(T,L,I){var J=this;T=b(T);var he=J.ready().then(function(){L===void 0&&(L=null);var ie=L;return new m(function(Ie,Je){var Qe=J._dbInfo;Qe.serializer.serialize(L,function(st,dt){if(dt)Je(dt);else try{localStorage.setItem(Qe.keyPrefix+T,st),Ie(ie)}catch(Mt){(Mt.name==="QuotaExceededError"||Mt.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Je(Mt),Je(Mt)}})})});return y(he,I),he}function Xn(T,L){if(L=S.apply(this,arguments),T=typeof T!="function"&&T||{},!T.name){var I=this.config();T.name=T.name||I.name,T.storeName=T.storeName||I.storeName}var J=this,he;return T.name?he=new m(function(ie){T.storeName?ie(At(T,J._defaultConfig)):ie(T.name+"/")}).then(function(ie){for(var Ie=localStorage.length-1;Ie>=0;Ie--){var Je=localStorage.key(Ie);Je.indexOf(ie)===0&&localStorage.removeItem(Je)}}):he=m.reject("Invalid arguments"),y(he,L),he}var On={_driver:"localStorageWrapper",_initStorage:gt,_support:vt(),iterate:Re,getItem:G,setItem:zt,removeItem:Dt,clear:Ot,length:Wt,key:tt,keys:yt,dropInstance:Xn},bn=function(L,I){return L===I||typeof L=="number"&&typeof I=="number"&&isNaN(L)&&isNaN(I)},jn=function(L,I){for(var J=L.length,he=0;he<J;){if(bn(L[he],I))return!0;he++}return!1},gr=Array.isArray||function(T){return Object.prototype.toString.call(T)==="[object Array]"},Jn={},Y={},Se={INDEXEDDB:Ft,WEBSQL:Xe,LOCALSTORAGE:On},_=[Se.INDEXEDDB._driver,Se.WEBSQL._driver,Se.LOCALSTORAGE._driver],K=["dropInstance"],R=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(K),q={description:"",driver:_.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ne(T,L){T[L]=function(){var I=arguments;return T.ready().then(function(){return T[L].apply(T,I)})}}function _e(){for(var T=1;T<arguments.length;T++){var L=arguments[T];if(L)for(var I in L)L.hasOwnProperty(I)&&(gr(L[I])?arguments[0][I]=L[I].slice():arguments[0][I]=L[I])}return arguments[0]}var ft=function(){function T(L){a(this,T);for(var I in Se)if(Se.hasOwnProperty(I)){var J=Se[I],he=J._driver;this[I]=he,Jn[he]||this.defineDriver(J)}this._defaultConfig=_e({},q),this._config=_e({},this._defaultConfig,L),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return T.prototype.config=function(I){if((typeof I>"u"?"undefined":i(I))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var J in I){if(J==="storeName"&&(I[J]=I[J].replace(/\W/g,"_")),J==="version"&&typeof I[J]!="number")return new Error("Database version must be a number.");this._config[J]=I[J]}return"driver"in I&&I.driver?this.setDriver(this._config.driver):!0}else return typeof I=="string"?this._config[I]:this._config},T.prototype.defineDriver=function(I,J,he){var ie=new m(function(Ie,Je){try{var Qe=I._driver,st=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!I._driver){Je(st);return}for(var dt=R.concat("_initStorage"),Mt=0,Zt=dt.length;Mt<Zt;Mt++){var vn=dt[Mt],wn=!jn(K,vn);if((wn||I[vn])&&typeof I[vn]!="function"){Je(st);return}}var _n=function(){for(var Wa=function(Ku){return function(){var Yu=new Error("Method "+Ku+" is not implemented by the current driver"),da=m.reject(Yu);return y(da,arguments[arguments.length-1]),da}},sl=0,Zy=K.length;sl<Zy;sl++){var Hu=K[sl];I[Hu]||(I[Hu]=Wa(Hu))}};_n();var Qn=function(Wa){Jn[Qe]&&console.info("Redefining LocalForage driver: "+Qe),Jn[Qe]=I,Y[Qe]=Wa,Ie()};"_support"in I?I._support&&typeof I._support=="function"?I._support().then(Qn,Je):Qn(!!I._support):Qn(!0)}catch(is){Je(is)}});return x(ie,J,he),ie},T.prototype.driver=function(){return this._driver||null},T.prototype.getDriver=function(I,J,he){var ie=Jn[I]?m.resolve(Jn[I]):m.reject(new Error("Driver not found."));return x(ie,J,he),ie},T.prototype.getSerializer=function(I){var J=m.resolve(pe);return x(J,I),J},T.prototype.ready=function(I){var J=this,he=J._driverSet.then(function(){return J._ready===null&&(J._ready=J._initDriver()),J._ready});return x(he,I,I),he},T.prototype.setDriver=function(I,J,he){var ie=this;gr(I)||(I=[I]);var Ie=this._getSupportedDrivers(I);function Je(){ie._config.driver=ie.driver()}function Qe(Mt){return ie._extend(Mt),Je(),ie._ready=ie._initStorage(ie._config),ie._ready}function st(Mt){return function(){var Zt=0;function vn(){for(;Zt<Mt.length;){var wn=Mt[Zt];return Zt++,ie._dbInfo=null,ie._ready=null,ie.getDriver(wn).then(Qe).catch(vn)}Je();var _n=new Error("No available storage method found.");return ie._driverSet=m.reject(_n),ie._driverSet}return vn()}}var dt=this._driverSet!==null?this._driverSet.catch(function(){return m.resolve()}):m.resolve();return this._driverSet=dt.then(function(){var Mt=Ie[0];return ie._dbInfo=null,ie._ready=null,ie.getDriver(Mt).then(function(Zt){ie._driver=Zt._driver,Je(),ie._wrapLibraryMethodsWithReady(),ie._initDriver=st(Ie)})}).catch(function(){Je();var Mt=new Error("No available storage method found.");return ie._driverSet=m.reject(Mt),ie._driverSet}),x(this._driverSet,J,he),this._driverSet},T.prototype.supports=function(I){return!!Y[I]},T.prototype._extend=function(I){_e(this,I)},T.prototype._getSupportedDrivers=function(I){for(var J=[],he=0,ie=I.length;he<ie;he++){var Ie=I[he];this.supports(Ie)&&J.push(Ie)}return J},T.prototype._wrapLibraryMethodsWithReady=function(){for(var I=0,J=R.length;I<J;I++)ne(this,R[I])},T.prototype.createInstance=function(I){return new T(I)},T}(),tn=new ft;r.exports=tn},{3:3}]},{},[4])(4)})}(Nb)),Nb.exports}var Cle=Sle();const la=Ka(Cle),$3=Ht.memo(({sectionId:t,label:e,existingImage:n,currentImage:r,caption:s,onImageChange:i,onRemoveImage:a,onRemoveExistingImage:l,onCaptionChange:d})=>{const f=n,[p,m]=j.useState(null),y=j.useRef(null);j.useEffect(()=>{if(r&&r instanceof File){const S=URL.createObjectURL(r);return m(S),()=>{URL.revokeObjectURL(S),m(null)}}else m(null)},[r]);const x=S=>{S.target.files&&S.target.files[0]&&i(t,S.target.files[0])},b=S=>{d&&d(t,S.target.value)};return u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),p?u.jsxs("div",{className:"relative mb-4",children:[u.jsx("img",{src:p,alt:"Preview",className:"h-48 w-full object-cover rounded-lg"}),u.jsx("button",{type:"button",onClick:()=>a(t),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 transition-colors",children:u.jsx($t,{size:16})})]}):f?u.jsxs("div",{className:"relative mb-4",children:[u.jsx("img",{src:f,alt:"Current",className:"h-48 w-full object-cover rounded-lg"}),u.jsx("button",{type:"button",onClick:()=>l(t),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2",children:u.jsx($t,{size:16})})]}):u.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[u.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[u.jsx(sa,{className:"w-8 h-8 mb-3 text-gray-400"}),u.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[u.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),u.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, JPEG (MAX. 5MB)"})]}),u.jsx("input",{ref:y,type:"file",className:"hidden",onChange:x,accept:"image/*"})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image Caption"}),u.jsx("input",{type:"text",value:s||"",onChange:b,className:"w-full px-3 py-2 border rounded-md",placeholder:"Enter image caption (optional)"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add a caption for the image (optional)"})]})]})});function Nle({services:t,disciplinesData:e,loading:n,refetch:r}){const s=Hn(),i=Li(),[a,l]=j.useState([]),[d,f]=j.useState(!1),[p,m]=j.useState(!1),[y,x]=j.useState({global:"",title:"",status:"",author:"",discipline:"",order:"",created_from:"",created_to:""}),[b,S]=j.useState(1),[C]=j.useState(10),[N,k]=j.useState(null),[D,M]=j.useState(null),[E,A]=j.useState(!1),[P,F]=j.useState(!1),[ee,be]=j.useState(!1),[ce,ae]=j.useState(null),[te,ke]=j.useState(!1),[ze,W]=j.useState(!1),[oe,ye]=j.useState(!1),[Fe,U]=j.useState(null),[ue,se]=j.useState({key:"order",direction:"ascending"}),fe="serviceDrafts",[Ee,Pe]=j.useState([]),[Oe,Ye]=j.useState(null),[Me,ut]=j.useState({title:"",slug:"",description:"",is_active:!0,show_on_home:!1,cover_photo:null,disciplines:[],sections:[],order:1}),[Ze,St]=j.useState({id:null,title:"",slug:"",description:"",is_active:!0,show_on_home:!1,cover_photo:null,existing_cover_photo:null,disciplines:[],sections:[],order:1}),{data:Nt,isLoading:Ft}=Cn({queryKey:["currentUser"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}),{data:nt,isLoading:Z,refetch:Ve}=Cn({queryKey:["service",Fe],queryFn:()=>Fe?Ge.get(`https://nexus-consults.com/api/public/api/admin/services/${Fe}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}).then(R=>R.data.data):Promise.resolve(null),enabled:!!Fe,staleTime:5*60*1e3}),qe="serviceDrafts_beforeunload_fallback",at=async()=>{try{const R=await la.getItem(fe),q=Array.isArray(R)?R:[];Pe(q);const ne=localStorage.getItem(qe);if(ne){try{const _e=JSON.parse(ne);_e&&typeof _e=="object"&&$(_e)}catch{}localStorage.removeItem(qe)}}catch{}},bt=async R=>{try{await la.setItem(fe,R)}catch(q){console.error("Persist drafts failed",q),ge.error("Could not save drafts locally")}},$=async R=>{Pe(q=>{const ne=q.findIndex(tn=>tn.id===R.id);let _e=[...q];const ft=new Date().toISOString();if(ne>=0)_e[ne]={...q[ne],...R,updatedAt:ft};else{const tn=R.slug?q.findIndex(T=>T.slug===R.slug&&T.slug):-1;tn>=0?_e[tn]={...q[tn],...R,id:q[tn].id,updatedAt:ft}:_e.push({...R,updatedAt:ft})}return _e.length>20&&(_e=_e.slice().sort((tn,T)=>new Date(T.updatedAt)-new Date(tn.updatedAt)).slice(0,20)),bt(_e),_e})},re=async R=>{Pe(q=>{const ne=q.filter(_e=>_e.id!==R);return bt(ne),ne}),Oe===R&&Ye(null)},B=async R=>{R&&Pe(q=>{const ne=q.filter(_e=>_e.slug!==R);return bt(ne),ne})};j.useEffect(()=>{at()},[]);const de=()=>{if(!(Me.title&&Me.title.trim()!==""||Me.description&&Me.description.trim()!==""||Me.sections.some(_e=>_e.content&&_e.content.trim()!=="")))return null;let q=Oe;if(!q&&Me.slug){const _e=Ee.find(ft=>ft.slug===Me.slug);_e&&(q=_e.id)}const ne=Me.sections.map(_e=>({content:_e.content||"",caption:_e.caption||"",image_meta:_e.image?{name:_e.image.name,type:_e.image.type,size:_e.image.size}:null,existing_image:_e.existing_image||null}));return{id:q||`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,title:Me.title,slug:Me.slug,description:Me.description,is_active:Me.is_active,show_on_home:Me.show_on_home||!1,disciplines:Me.disciplines||[],sections:ne,order:Me.order||1,cover_photo_meta:Me.cover_photo?{name:Me.cover_photo.name,type:Me.cover_photo.type,size:Me.cover_photo.size}:null}},xe=()=>{const R=de();R&&(Ye(R.id),$(R),ge.success("Draft saved locally"))},H=R=>{const q=R.sections?.map(ne=>({id:Date.now()+Math.random(),content:ne.content||"",caption:ne.caption||"",image:null,existing_image:ne.existing_image||null}))||[];ut({title:R.title||"",slug:R.slug||"",description:R.description||"",is_active:R.is_active??!0,show_on_home:R.show_on_home||!1,disciplines:R.disciplines||[],sections:q,cover_photo:null,order:R.order||1}),W(!0),Ye(R.id),A(!0),ge("Draft loaded")},V=j.useRef(null),we=j.useRef("");j.useEffect(()=>{if(E){V.current=setInterval(()=>{const q=de();if(q){const ne=JSON.stringify({title:q.title,description:q.description,disciplines:q.disciplines,sections:q.sections,order:q.order});ne!==we.current&&(Ye(_e=>_e||q.id),$(q),we.current=ne)}},5e3);const R=()=>{const q=de();if(q){$(q);try{localStorage.setItem(qe,JSON.stringify(q))}catch{}}};return window.addEventListener("beforeunload",R),()=>{V.current&&clearInterval(V.current),window.removeEventListener("beforeunload",R),we.current=""}}else V.current&&clearInterval(V.current),we.current=""},[E]);const et=R=>R.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),ht=(R,q)=>{x(ne=>({...ne,[R]:q})),S(1)},Jt=async(R,q)=>{M(R);try{await Ge.patch(`https://nexus-consults.com/api/public/api/admin/services/${R}/toggle-active`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ge.success(`Service ${q?"deactivated":"activated"} successfully`,{duration:2e3}),r()}catch(ne){ge.error(ne.response?.data?.message||"An unexpected error occurred",{duration:3e3}),ne.response?.status==401,ne.response?.status==403&&(ge.error("You are not authorized to view this page"),s("/home"))}finally{M(null)}},Pt=R=>{ae(R),be(!0)},an=async()=>{if(ce){k(ce),be(!1);try{await Ge.delete(`https://nexus-consults.com/api/public/api/admin/services/${ce}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ge.success("Service deleted successfully",{duration:2e3}),r()}catch(R){ge.error(R.response?.data?.message||"An unexpected error occurred",{duration:3e3}),R.response?.status==401&&(localStorage.removeItem("userToken"),s("/login")),R.response?.status==403&&(ge.error("You are not authorized to view this page"),s("/home"))}finally{k(null),ae(null)}}},Qt=R=>{const{name:q,value:ne,type:_e,checked:ft,files:tn}=R.target;if(ut(_e==="file"?T=>({...T,[q]:tn[0]}):_e==="number"?T=>({...T,[q]:parseInt(ne)||1}):T=>({...T,[q]:_e==="checkbox"?ft:ne})),q==="title"&&!ze){const T=et(ne);ut(L=>({...L,slug:T}))}},Ne=R=>{const{value:q}=R.target;ut(ne=>({...ne,slug:q})),W(!0)},ot=()=>{const R=et(Me.title);ut(q=>({...q,slug:R})),W(!1)},pt=R=>{const{name:q,value:ne,type:_e,checked:ft,files:tn}=R.target;if(St(_e==="file"?T=>({...T,[q]:tn[0]}):_e==="number"?T=>({...T,[q]:parseInt(ne)||1}):T=>({...T,[q]:_e==="checkbox"?ft:ne})),q==="title"&&!oe){const T=et(ne);St(L=>({...L,slug:T}))}},pe=R=>{const{value:q}=R.target;St(ne=>({...ne,slug:q})),ye(!0)},mt=()=>{const R=et(Ze.title);St(q=>({...q,slug:R})),ye(!1)},Lt=(R,q)=>{ut(ne=>({...ne,disciplines:q?[...ne.disciplines,R]:ne.disciplines.filter(_e=>_e!==R)}))},rt=(R,q)=>{St(ne=>({...ne,disciplines:q?[...ne.disciplines,R]:ne.disciplines.filter(_e=>_e!==R)}))},Te=()=>{const R={id:Date.now()+Math.random(),content:"",caption:"",image:null,existing_image:null};ut(q=>({...q,sections:[...q.sections,R]}))},lt=R=>{ut(q=>({...q,sections:q.sections.filter(ne=>ne.id!==R)}))},jt=(R,q)=>{ut(ne=>({...ne,sections:ne.sections.map(_e=>_e.id===R?{..._e,content:q}:_e)}))},Et=(R,q)=>{ut(ne=>({...ne,sections:ne.sections.map(_e=>_e.id===R?{..._e,caption:q}:_e)}))},kt=(R,q)=>{ut(ne=>({...ne,sections:ne.sections.map(_e=>_e.id===R?{..._e,image:q}:_e)}))},en=R=>{ut(q=>({...q,sections:q.sections.map(ne=>ne.id===R?{...ne,image:null}:ne)}))},Nn=R=>{ut(q=>({...q,sections:q.sections.map(ne=>ne.id===R?{...ne,existing_image:null,image:null}:ne)}))},Q=()=>{const R={id:Date.now()+Math.random(),content:"",caption:"",image:null,existing_image:null};St(q=>({...q,sections:[...q.sections,R]}))};j.useEffect(()=>{console.log(Ze)},[Ze]);const me=R=>{St(q=>({...q,sections:q.sections.filter(ne=>ne.id!==R)}))},je=(R,q)=>{St(ne=>({...ne,sections:ne.sections.map(_e=>_e.id===R?{..._e,content:q}:_e)}))},$e=(R,q)=>{St(ne=>({...ne,sections:ne.sections.map(_e=>_e.id===R?{..._e,caption:q}:_e)}))},Xe=(R,q)=>{St(ne=>({...ne,sections:ne.sections.map(_e=>_e.id===R?{..._e,image:q}:_e)}))},vt=R=>{St(q=>({...q,sections:q.sections.map(ne=>ne.id===R?{...ne,image:null}:ne)}))},At=R=>{St(q=>({...q,sections:q.sections.map(ne=>ne.id===R?{...ne,existing_image:null,image:null}:ne)}))},ct=()=>{ut({title:"",slug:"",description:"",is_active:!0,show_on_home:!1,cover_photo:null,disciplines:[],sections:[],order:1}),W(!1)},Ct=R=>{U(R.id)};j.useEffect(()=>{if(nt&&Fe){const q=(nt.sections||[]).map((ne,_e)=>({id:Date.now()+_e,content:ne.content||"",caption:ne.caption||"",image:null,existing_image:ne.image||null}));St({id:nt.id,title:nt.title,slug:nt.slug,description:nt.description,is_active:nt.is_active,show_on_home:nt.show_on_home||!1,cover_photo:null,existing_cover_photo:nt.cover_photo,disciplines:nt.disciplines?.map(ne=>ne.id)||[],sections:q,order:nt.order||1}),ye(!0),F(!0)}},[nt,Fe]);const gt=async R=>{if(R.preventDefault(),!Me.sections.some(ne=>ne.content&&ne.content.trim()!=="")){ge.error("Please add at least one section with content");return}ke(!0);try{const ne=new FormData;ne.append("title",Me.title),ne.append("slug",Me.slug),ne.append("is_active",Me.is_active?1:0),ne.append("show_on_home",Me.show_on_home?1:0),ne.append("description",Me.description),ne.append("order",Me.order),Me.disciplines.forEach(_e=>{ne.append("disciplines[]",_e)}),Me.sections.forEach((_e,ft)=>{ne.append(`content${ft+1}`,_e.content||""),ne.append(`caption${ft+1}`,_e.caption||""),_e.image instanceof File&&ne.append(`image${ft+1}`,_e.image)}),ne.append("cover_photo",Me.cover_photo||""),await Ge.post("https://nexus-consults.com/api/public/api/admin/services",ne,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}}),ke(!1),ge.success("Service added successfully",{duration:2e3}),A(!1),ct(),r(),B(Me.slug),Ye(null)}catch(ne){ke(!1),ge.error(ne.response?.data?.message||"An unexpected error occurred",{duration:3e3}),ne.response?.status==401&&(localStorage.removeItem("userToken"),s("/login")),ne.response?.status==403&&(ge.error("You are not authorized to view this page"),s("/home"))}},Ot=async R=>{if(R.preventDefault(),!Ze.sections.some(ne=>ne.content&&ne.content.trim()!=="")){ge.error("Please add at least one section with content");return}ke(!0);try{const ne=new FormData;ne.append("title",Ze.title),ne.append("slug",Ze.slug),ne.append("is_active",Ze.is_active?1:0),ne.append("show_on_home",Ze.show_on_home?1:0),ne.append("description",Ze.description),ne.append("order",Ze.order),ne.append("_method","POST"),Ze.disciplines.forEach(_e=>{ne.append("disciplines[]",_e)}),Ze.sections.forEach((_e,ft)=>{ne.append(`content${ft+1}`,_e.content||""),ne.append(`caption${ft+1}`,_e.caption||""),_e.image instanceof File?ne.append(`image${ft+1}`,_e.image):_e.existing_image===null&&ne.append(`image${ft+1}`,"")}),Ze.cover_photo instanceof File?ne.append("cover_photo",Ze.cover_photo):Ze.existing_cover_photo===null&&ne.append("cover_photo",""),await Ge.post(`https://nexus-consults.com/api/public/api/admin/services/${Ze.id}`,ne,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}}),ke(!1),ge.success("Service updated successfully",{duration:2e3}),F(!1),U(null),r(),i.invalidateQueries(["service",Ze.id])}catch(ne){ke(!1),ge.error(ne.response?.data?.message||"An unexpected error occurred",{duration:3e3}),ne.response?.status==401&&(localStorage.removeItem("userToken"),s("/login")),ne.response?.status==403&&(ge.error("You are not authorized to view this page"),s("/home"))}},Re=[...t?.filter(R=>{const q=y.global===""||R.title.toLowerCase().includes(y.global.toLowerCase())||(R.author?.name?R.author.name.toLowerCase().includes(y.global.toLowerCase()):!1),ne=y.title===""||R.title.toLowerCase().includes(y.title.toLowerCase()),_e=y.status===""||(y.status==="active"?R.is_active:!R.is_active),ft=y.author===""||(R.author?.name?R.author.name.toLowerCase().includes(y.author.toLowerCase()):!1),tn=y.discipline===""||R.disciplines&&R.disciplines.some(I=>I.id.toString()===y.discipline),T=y.order===""||R.order!==void 0&&R.order!==null&&R.order.toString()===y.order;let L=!0;if(R.created_at){const I=new Date(R.created_at);if(y.created_from){const J=new Date(`${y.created_from}T00:00:00`);I<J&&(L=!1)}if(L&&y.created_to){const J=new Date(`${y.created_to}T23:59:59.999`);I>J&&(L=!1)}}return q&&ne&&_e&&ft&&tn&&T&&L})||[]].sort((R,q)=>{if(ue.key==="order"){const ne=R.order||9999,_e=q.order||9999;return ue.direction==="ascending"?ne-_e:_e-ne}else if(ue.key==="title")return ue.direction==="ascending"?(R.title||"").localeCompare(q.title||""):(q.title||"").localeCompare(R.title||"");return 0}),tt=Math.ceil(Re.length/C),yt=Re.slice((b-1)*C,b*C),Wt=R=>{const q=R?"bg-[#009379] text-white":"bg-[#930002] text-white";return u.jsx("span",{className:`flex justify-center w-fit items-center px-2.5 py-1 rounded-md text-xs font-medium ${q} min-w-16 text-center`,children:R?"Active":"Inactive"})},Dt=R=>{const q=R||0;return u.jsxs("span",{className:"inline-flex items-center justify-center px-2.5 py-1 rounded-md bg-blue-100 text-blue-800 text-xs font-medium min-w-12",children:[u.jsx(b1,{className:"mr-1",size:10}),q]})},zt=()=>tt<=1?null:u.jsxs("div",{className:"flex justify-between items-center mt-4 px-4 pb-1",children:[u.jsxs("div",{className:"text-xs",children:["Showing ",(b-1)*C+1,"-",Math.min(b*C,Re.length)," of ",Re.length," entries"]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:()=>S(1),disabled:b===1,className:"p-1 disabled:opacity-50",children:u.jsx(Qo,{className:"h-4 w-4"})}),u.jsxs("span",{className:"px-3 py-1",children:["Page ",b," of ",tt]}),u.jsx("button",{onClick:()=>S(R=>Math.min(tt,R+1)),disabled:b===tt,className:"p-1 disabled:opacity-50",children:u.jsx(Zo,{className:"h-4 w-4"})})]})]}),Xn=(R,q)=>{l(q?ne=>[...ne,R]:ne=>ne.filter(_e=>_e!==R))},On=R=>{R?(l(Re.map(q=>q.id)),f(!0)):(l([]),f(!1))},[bn,jn]=j.useState(!1),gr=async()=>{a.length&&jn(!0)},Jn=async()=>{jn(!1);try{m(!0),await Ge.post("https://nexus-consults.com/api/public/api/admin/services/bulk/delete",{ids:a},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ge.success(`${a.length} service(s) deleted successfully`),l([]),f(!1),r()}catch(R){console.error("Error deleting services:",R),ge.error(R.response?.data?.message||"Failed to delete services")}finally{m(!1)}},Y=async R=>{if(a.length)try{m(!0),await Ge.post("https://nexus-consults.com/api/public/api/admin/services/bulk/update-status",{ids:a,status:R},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ge.success(`Status updated for ${a.length} service(s)`),l([]),f(!1),r()}catch(q){console.error("Error updating service status:",q),ge.error(q.response?.data?.message||"Failed to update service status")}finally{m(!1)}},Se=Ht.memo(({name:R,label:q,existingImage:ne,currentImage:_e,onImageChange:ft,onRemoveImage:tn})=>{const T=ne,[L,I]=j.useState(null);return j.useEffect(()=>{if(_e&&_e instanceof File){const J=URL.createObjectURL(_e);return I(J),()=>{URL.revokeObjectURL(J),I(null)}}else I(null)},[_e]),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:q}),L?u.jsxs("div",{className:"relative mb-4",children:[u.jsx("img",{src:L,alt:"Preview",className:"h-48 w-full object-cover rounded-lg"}),u.jsx("button",{type:"button",onClick:()=>tn(R),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 transition-colors",children:u.jsx($t,{size:16})})]}):T?u.jsxs("div",{className:"relative mb-4",children:[u.jsx("img",{src:T,alt:"Current",className:"h-48 w-full object-cover rounded-lg"}),u.jsx("button",{type:"button",onClick:()=>tn(`existing_${R}`),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2",children:u.jsx($t,{size:16})})]}):u.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[u.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[u.jsx(sa,{className:"w-8 h-8 mb-3 text-gray-400"}),u.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[u.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),u.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, JPEG (MAX. 5MB)"})]}),u.jsx("input",{id:R,name:R,type:"file",className:"hidden",onChange:ft,accept:"image/*"})]})]})},(R,q)=>R.name===q.name&&R.label===q.label&&R.existingImage===q.existingImage&&R.currentImage===q.currentImage),_=()=>Me.sections.map((R,q)=>u.jsxs("div",{className:"p-4 border rounded-lg mb-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("h3",{className:"text-lg font-medium",children:["Section ",q+1]}),u.jsx("button",{type:"button",onClick:()=>lt(R.id),className:"text-red-500 hover:text-red-700 p-1",disabled:Me.sections.length===1,children:u.jsx(Su,{size:16})})]}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Content ",q+1,"*"]}),u.jsx(ui,{content:R.content,onUpdate:ne=>jt(R.id,ne)})]}),u.jsx($3,{sectionId:R.id,label:`Image ${q+1}`,existingImage:R.existing_image,currentImage:R.image,caption:R.caption,onImageChange:kt,onRemoveImage:en,onRemoveExistingImage:Nn,onCaptionChange:Et})]},R.id)),K=()=>Ze.sections.map((R,q)=>u.jsxs("div",{className:"p-4 border rounded-lg mb-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("h3",{className:"text-lg font-medium",children:["Section ",q+1]}),u.jsx("button",{type:"button",onClick:()=>me(R.id),className:"text-red-500 hover:text-red-700 p-1",disabled:Ze.sections.length===1,children:u.jsx(Su,{size:16})})]}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Content ",q+1,"*"]}),u.jsx(ui,{content:R.content,onUpdate:ne=>je(R.id,ne)})]}),u.jsx($3,{sectionId:R.id,label:`Image ${q+1}`,existingImage:R.existing_image,currentImage:R.image,caption:R.caption,onImageChange:Xe,onRemoveImage:vt,onRemoveExistingImage:At,onCaptionChange:$e})]},R.id));return u.jsxs("div",{className:"shadow-2xl rounded-2xl overflow-hidden bg-white",children:[u.jsxs("div",{className:"p-4 border-b flex justify-between items-center gap-4",children:[u.jsx("input",{type:"text",value:y.global,onChange:R=>ht("global",R.target.value),placeholder:"Search services...",className:"px-3 py-2 rounded-xl shadow-sm focus:outline-2 focus:outline-primary w-full border border-primary transition-all"}),Nt?.data?.data?.admin?.permissions?.includes("create_services")&&u.jsxs("button",{onClick:()=>{A(!0),ct()},className:"bg-primary hover:bg-darkBlue transition-all text-white px-3 py-2 rounded-xl shadow-sm min-w-max flex items-center gap-2",children:[u.jsx(Ar,{size:18}),u.jsx("span",{children:"Add Service"})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:d&&Re.length>0,onChange:R=>On(R.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),u.jsx("span",{className:"ml-2",children:"Title"})]})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsx("input",{type:"text",value:y.author,onChange:R=>ht("author",R.target.value),placeholder:"Author",className:"text-xs p-1 border rounded w-full"})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cover Photo"}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsxs("select",{value:y.discipline,onChange:R=>ht("discipline",R.target.value),className:"text-xs p-1 border rounded w-full",children:[u.jsx("option",{value:"",children:"All Disciplines"}),e?.map(R=>u.jsxs("option",{value:R.id,children:[R.title,!R.is_active&&" (inactive)"]},R.id))]})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsx("input",{type:"number",value:y.order,onChange:R=>ht("order",R.target.value),placeholder:"Order",className:"text-xs p-1 border rounded w-full",min:"1"})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsxs("select",{value:y.status,onChange:R=>ht("status",R.target.value),className:"text-xs p-1 border rounded w-full",children:[u.jsx("option",{value:"",children:"All Statuses"}),u.jsx("option",{value:"active",children:"Active"}),u.jsx("option",{value:"inactive",children:"Inactive"})]})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsx(Lh,{initialRange:{startDate:y.created_from?new Date(`${y.created_from}T00:00:00`):null,endDate:y.created_to?new Date(`${y.created_to}T00:00:00`):null},onDateChange:({startDate:R,endDate:q})=>{const ne=_e=>{if(!(_e instanceof Date)||isNaN(_e))return"";const ft=_e.getFullYear(),tn=String(_e.getMonth()+1).padStart(2,"0"),T=String(_e.getDate()).padStart(2,"0");return`${ft}-${tn}-${T}`};ht("created_from",R?ne(R):""),ht("created_to",q?ne(q):"")}})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:n?u.jsx("tr",{children:u.jsx("td",{colSpan:"8",className:"px-3 py-4 text-center",children:u.jsxs("div",{className:"flex justify-center items-center gap-2",children:[u.jsx(wt,{className:"animate-spin",size:18}),"Loading services..."]})})}):yt.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:"8",className:"px-3 py-4 text-center",children:"No services found"})}):yt.map(R=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:a.includes(R.id),onChange:q=>Xn(R.id,q.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),u.jsx("span",{className:"ml-2 text-sm font-medium text-gray-900",children:R.title})]})}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:R.author?.name||"-"}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:R.cover_photo&&u.jsx("img",{src:R.cover_photo,alt:"Cover",className:"h-10 w-10 object-cover rounded"})}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:u.jsx("div",{className:"flex flex-wrap gap-1",children:R.disciplines&&R.disciplines.length>0?R.disciplines.map(q=>u.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium",children:q.title},q.id)):u.jsx("span",{className:"text-gray-500 text-xs",children:"No disciplines"})})}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Dt(R.order)}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Wt(R.is_active)}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:R.created_at?new Date(R.created_at).toLocaleDateString():"-"}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center gap-2",children:[Nt?.data?.data?.admin?.permissions?.includes("edit_services")&&u.jsx("button",{className:"text-blue-500 hover:text-blue-700 p-1",onClick:()=>Ct(R),disabled:Z,children:Z&&Fe===R.id?u.jsx(wt,{className:"animate-spin",size:18}):u.jsx(ki,{size:18})}),u.jsx("button",{className:`${R.is_active?"text-green-500 hover:text-green-700":"text-red-500 hover:text-red-700"} p-1`,onClick:()=>Jt(R.id,R.is_active),disabled:D===R.id,children:D===R.id?u.jsx(wt,{className:"animate-spin",size:18}):R.is_active?u.jsx(Pr,{}):u.jsx($t,{})}),Nt?.data?.data?.admin?.permissions?.includes("delete_services")&&u.jsx("button",{className:"text-red-500 hover:text-red-700 p-1",onClick:()=>Pt(R.id),disabled:N===R.id,title:"Delete",children:N===R.id?u.jsx(wt,{className:"animate-spin",size:18}):u.jsx(Vn,{size:18})})]})})]},R.id))})]})}),bn&&u.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:"bg-white rounded-lg p-6 max-w-md w-full",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Deletion"}),u.jsx("button",{onClick:()=>jn(!1),className:"text-gray-500 hover:text-gray-700",children:u.jsx($t,{})})]}),u.jsxs("p",{className:"text-gray-700 mb-6",children:["Are you sure you want to delete ",a.length," selected service(s)? This action cannot be undone."]}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx("button",{onClick:()=>jn(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:p,children:"Cancel"}),u.jsx("button",{onClick:Jn,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 flex items-center",disabled:p,children:p?u.jsxs(u.Fragment,{children:[u.jsx(wt,{className:"animate-spin mr-2"}),"Deleting..."]}):"Delete"})]})]})}),a.length>0&&u.jsx("div",{className:"bg-blue-50 p-4 rounded-md mb-6 border border-blue-200",children:u.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[u.jsxs("div",{className:"text-blue-800 font-medium",children:[a.length," service(s) selected"]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs("button",{onClick:()=>Y(!0),disabled:p,className:"flex items-center px-3 py-1.5 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 text-sm",children:[u.jsx(Pr,{className:"mr-1.5"}),"Activate"]}),u.jsxs("button",{onClick:()=>Y(!1),disabled:p,className:"flex items-center px-3 py-1.5 bg-yellow-600 text-white rounded hover:bg-yellow-700 disabled:opacity-50 text-sm",children:[u.jsx($t,{className:"mr-1.5"}),"Deactivate"]}),u.jsxs("button",{onClick:gr,disabled:p,className:"flex items-center px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 text-sm",children:[u.jsx(Vn,{className:"mr-1.5"}),"Delete"]}),u.jsxs("button",{onClick:()=>{l([]),f(!1)},className:"flex items-center px-3 py-1.5 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 text-sm",children:[u.jsx($t,{className:"mr-1.5"}),"Clear Selection"]}),p&&u.jsxs("div",{className:"flex items-center",children:[u.jsx(wt,{className:"animate-spin mr-1.5"}),"Loading..."]})]})]})}),!n&&zt(),u.jsxs("div",{className:"p-4 border-t",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Drafts"}),u.jsx("div",{className:"text-xs text-gray-500",children:"Drafts are stored locally in your browser"})]}),Ee.length===0?u.jsx("div",{className:"text-sm text-gray-500",children:"No drafts yet"}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full divide-y divide-gray-200 text-sm",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-2 text-left",children:"Title"}),u.jsx("th",{className:"px-4 py-2 text-left",children:"Order"}),u.jsx("th",{className:"px-4 py-2 text-left",children:"Updated"}),u.jsx("th",{className:"px-4 py-2 text-left",children:"Note"}),u.jsx("th",{className:"px-4 py-2 text-left",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-200",children:Ee.slice().sort((R,q)=>new Date(q.updatedAt)-new Date(R.updatedAt)).map(R=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-2",children:R.title||u.jsx("span",{className:"italic text-gray-400",children:"Untitled"})}),u.jsx("td",{className:"px-4 py-2",children:R.order||1}),u.jsx("td",{className:"px-4 py-2",children:new Date(R.updatedAt).toLocaleString()}),u.jsx("td",{className:"px-4 py-2 text-xs text-gray-500",children:R.cover_photo_meta?`Attachment: ${R.cover_photo_meta.name} (re-attach required)`:"No attachment"}),u.jsx("td",{className:"px-4 py-2",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-1",onClick:()=>H(R),children:[u.jsx(Ah,{})," Resume"]}),u.jsx("button",{className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",onClick:()=>re(R.id),children:"Delete"})]})})]},R.id))})]})})]}),E&&u.jsxs(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 ",children:[u.jsx("button",{onClick:()=>{A(!1);const R=de();R&&$(R)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:u.jsx(ns,{className:"",size:40})}),u.jsx(Tt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-4/5 h-[90vh] overflow-y-auto",onClick:R=>R.stopPropagation(),children:u.jsxs("div",{className:"p-6",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New Service"}),u.jsxs("form",{onSubmit:gt,children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title*"}),u.jsx("input",{type:"text",name:"title",value:Me.title,onChange:Qt,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order*"}),u.jsx("input",{type:"number",name:"order",value:Me.order,onChange:Qt,className:"w-full px-3 py-2 border rounded-md",min:"1",required:!0}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lower numbers appear first. Default is 1."})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug*"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",name:"slug",value:Me.slug,onChange:Ne,className:"w-full px-3 py-2 border rounded-md",required:!0}),ze&&u.jsx("button",{type:"button",onClick:ot,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",title:"Reset to auto-generated slug",children:u.jsx($t,{})})]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ze?"Slug is manually edited. Click the X to reset to auto-generated.":"Slug is auto-generated from title. You can edit it manually."})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),u.jsx("textarea",{name:"description",value:Me.description,onChange:Qt,rows:3,className:"w-full px-3 py-2 border rounded-md resize-vertical",placeholder:"Enter service description..."})]}),u.jsx(Se,{name:"cover_photo",label:"Cover Photo",currentImage:Me.cover_photo,onImageChange:Qt,onRemoveImage:R=>ut(q=>({...q,[R]:null}))}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:Me.is_active,onChange:Qt,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700",children:"Active"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"show_on_home",name:"show_on_home",checked:Me.show_on_home,onChange:Qt,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsx("label",{htmlFor:"show_on_home",className:"ml-2 text-sm text-gray-700",children:"Show on Home Screen"})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Disciplines"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 max-h-48 overflow-y-auto p-2 border rounded-md",children:[e?.map(R=>u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:`discipline-${R.id}`,checked:Me.disciplines.includes(R.id),onChange:q=>Lt(R.id,q.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsxs("label",{htmlFor:`discipline-${R.id}`,className:"ml-2 text-sm text-gray-700",children:[R.title,!R.is_active&&u.jsx("span",{className:"ml-1 text-xs text-orange-600",children:"(inactive)"})]})]},R.id)),(!e||e.length===0)&&u.jsx("div",{className:"text-sm text-gray-500 col-span-full",children:"No disciplines available"})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"space-y-4",children:Me.sections.length===0?u.jsxs("div",{className:"text-center p-8 border-2 border-dashed rounded-lg",children:[u.jsx("p",{className:"text-gray-500 mb-4",children:'No sections added yet. Click "Add Section" to get started.'}),u.jsx("p",{className:"text-sm text-gray-400",children:"Note: At least one section with content is required."})]}):_()}),u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-medium",children:"Sections"}),u.jsxs("button",{type:"button",onClick:Te,className:"bg-primary hover:bg-darkBlue text-white px-3 py-2 rounded-md flex items-center gap-2",children:[u.jsx(Ar,{})," Add Section"]})]})]}),u.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[u.jsxs("div",{className:"text-xs text-gray-500 mt-2 flex items-center",children:[u.jsx(wt,{className:`animate-spin mr-1 ${te?"opacity-100":"opacity-0"}`,size:12}),"Auto-saves to drafts every 5s"]}),u.jsxs("button",{type:"button",onClick:xe,className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[u.jsx(Fu,{size:16})," Save as Draft"]}),u.jsx("button",{type:"button",onClick:()=>{const R=de();R&&$(R),A(!1),ct()},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:te,children:te?u.jsxs(u.Fragment,{children:[u.jsx(wt,{className:"animate-spin",size:18}),u.jsx("span",{children:"Adding..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Ar,{size:18}),u.jsx("span",{children:"Add Service"})]})})]})]})]})})]}),P&&u.jsxs(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[u.jsx("button",{onClick:()=>{F(!1),U(null)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:u.jsx(ns,{className:"",size:40})}),u.jsx(Tt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-4/5 h-[90vh] overflow-y-auto",onClick:R=>R.stopPropagation(),children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center mb-4",children:[u.jsx("button",{type:"button",onClick:()=>{F(!1),U(null)},className:"text-blue-600 hover:text-blue-800 font-medium",children:"Services"}),u.jsx("span",{className:"mx-2 text-gray-400",children:">"}),u.jsx("span",{className:"text-xl font-bold text-gray-900",children:Ze.title||"Untitled Service"}),Z&&u.jsxs("div",{className:"ml-4 flex items-center text-sm text-gray-500",children:[u.jsx(wt,{className:"animate-spin mr-2",size:14}),"Loading service data..."]})]}),Z?u.jsxs("div",{className:"flex justify-center items-center py-8",children:[u.jsx(wt,{className:"animate-spin mr-2",size:24}),u.jsx("span",{children:"Loading service data..."})]}):u.jsxs("form",{onSubmit:Ot,children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title*"}),u.jsx("input",{type:"text",name:"title",value:Ze.title,onChange:pt,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order*"}),u.jsx("input",{type:"number",name:"order",value:Ze.order,onChange:pt,className:"w-full px-3 py-2 border rounded-md",min:"1",required:!0}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lower numbers appear first. Default is 1."})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug*"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",name:"slug",value:Ze.slug,onChange:pe,className:"w-full px-3 py-2 border rounded-md",required:!0}),oe&&u.jsx("button",{type:"button",onClick:mt,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",title:"Reset to auto-generated slug",children:u.jsx($t,{})})]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:oe?"Slug is manually edited. Click the X to reset to auto-generated.":"Slug is auto-generated from title. You can edit it manually."})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),u.jsx("textarea",{name:"description",value:Ze.description,onChange:pt,rows:3,className:"w-full px-3 py-2 border rounded-md resize-vertical",placeholder:"Enter service description..."})]}),u.jsx(Se,{name:"cover_photo",label:"Cover Photo",existingImage:Ze.existing_cover_photo,currentImage:Ze.cover_photo,onImageChange:pt,onRemoveImage:R=>{if(R.startsWith("existing_")){const q=R.replace("existing_","");St(ne=>({...ne,[R]:null,[q]:null}))}else St(q=>({...q,[R]:null}))}}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"edit_is_active",name:"is_active",checked:Ze.is_active,onChange:pt,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsx("label",{htmlFor:"edit_is_active",className:"ml-2 text-sm text-gray-700",children:"Active"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"edit_show_on_home",name:"show_on_home",checked:Ze.show_on_home,onChange:pt,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsx("label",{htmlFor:"edit_show_on_home",className:"ml-2 text-sm text-gray-700",children:"Show on Home Screen"})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Disciplines"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 max-h-48 overflow-y-auto p-2 border rounded-md",children:[e?.map(R=>u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:`edit-discipline-${R.id}`,checked:Ze.disciplines.includes(R.id),onChange:q=>rt(R.id,q.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsxs("label",{htmlFor:`edit-discipline-${R.id}`,className:"ml-2 text-sm text-gray-700",children:[R.title,!R.is_active&&u.jsx("span",{className:"ml-1 text-xs text-orange-600",children:"(inactive)"})]})]},R.id)),(!e||e.length===0)&&u.jsx("div",{className:"text-sm text-gray-500 col-span-full",children:"No disciplines available"})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"flex justify-between items-center mb-4",children:u.jsx("h3",{className:"text-lg font-medium",children:"Sections"})}),u.jsx("div",{className:"space-y-4",children:Ze.sections.length===0?u.jsxs("div",{className:"text-center p-8 border-2 border-dashed rounded-lg",children:[u.jsx("p",{className:"text-gray-500 mb-4",children:'No sections added yet. Click "Add Section" to get started.'}),u.jsx("p",{className:"text-sm text-gray-400",children:"Note: At least one section with content is required."})]}):K()}),u.jsx("div",{className:"flex justify-end items-center mb-4",children:u.jsxs("button",{type:"button",onClick:Q,className:"bg-primary hover:bg-darkBlue text-white px-3 py-2 rounded-md flex items-center gap-2",children:[u.jsx(Ar,{})," Add Section"]})})]}),u.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[u.jsx("button",{type:"button",onClick:()=>{F(!1),U(null)},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:te,children:te?u.jsxs(u.Fragment,{children:[u.jsx(wt,{className:"animate-spin",size:18}),u.jsx("span",{children:"Updating..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Pr,{size:18}),u.jsx("span",{children:"Update Service"})]})})]})]})]})})]}),ee&&u.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>be(!1),children:u.jsx(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:R=>R.stopPropagation(),children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-start",children:[u.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:u.jsx(Vn,{className:"h-5 w-5 text-red-600"})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Service"}),u.jsx("div",{className:"mt-2",children:u.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this service? This action cannot be undone."})})]})]}),u.jsxs("div",{className:"mt-5 flex justify-end gap-3",children:[u.jsx("button",{type:"button",onClick:()=>be(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),u.jsx("button",{type:"button",onClick:an,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})})})]})}function jle(){const t=Hn(),{data:e,isLoading:n,isError:r,error:s,refetch:i}=Cn({queryKey:["disciplines"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/disciplines",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})});function a(){return Ge.get("https://nexus-consults.com/api/public/api/admin/services",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}const{data:l,isLoading:d,refetch:f,isError:p,error:m}=Cn({queryKey:["services"],queryFn:a});return j.useEffect(()=>{p&&(m.response?.status==401&&(localStorage.removeItem("userToken"),t("/login")),m.response?.status==403&&(ge.error("You are not authorized to view this page"),t("/home")))},[p]),u.jsxs("div",{className:"p-4",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Services"}),u.jsx(Nle,{services:l?.data?.data||[],disciplinesData:e?.data?.data||[],loading:d,refetch:f})]})}function Tle(){const t=Hn();return j.useEffect(()=>{t("/user-setting")},[]),u.jsx("div",{children:"Home"})}const U3=Ht.memo(({sectionId:t,label:e,existingImage:n,currentImage:r,caption:s,onImageChange:i,onRemoveImage:a,onRemoveExistingImage:l,onCaptionChange:d})=>{const f=n,[p,m]=j.useState(null),y=j.useRef(null);j.useEffect(()=>{if(r&&r instanceof File){const S=URL.createObjectURL(r);return m(S),()=>{URL.revokeObjectURL(S),m(null)}}else m(null)},[r]);const x=S=>{S.target.files&&S.target.files[0]&&i(t,S.target.files[0])},b=S=>{d&&d(t,S.target.value)};return u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),p?u.jsxs("div",{className:"relative mb-4",children:[u.jsx("img",{src:p,alt:"Preview",className:"h-48 w-full object-cover rounded-lg"}),u.jsx("button",{type:"button",onClick:()=>a(t),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 transition-colors",children:u.jsx($t,{size:16})})]}):f?u.jsxs("div",{className:"relative mb-4",children:[u.jsx("img",{src:f,alt:"Current",className:"h-48 w-full object-cover rounded-lg"}),u.jsx("button",{type:"button",onClick:()=>l(t),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2",children:u.jsx($t,{size:16})})]}):u.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[u.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[u.jsx(sa,{className:"w-8 h-8 mb-3 text-gray-400"}),u.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[u.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),u.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, JPEG (MAX. 5MB)"})]}),u.jsx("input",{ref:y,type:"file",className:"hidden",onChange:x,accept:"image/*"})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image Caption"}),u.jsx("input",{type:"text",value:s||"",onChange:b,className:"w-full px-3 py-2 border rounded-md",placeholder:"Enter image caption (optional)"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add a caption for the image (optional)"})]})]})});function Ele({projects:t,disciplinesData:e,loading:n,refetch:r}){const s=Hn(),i=Li(),[a,l]=j.useState([]),[d,f]=j.useState(!1),[p,m]=j.useState(!1),[y,x]=j.useState({global:"",title:"",status:"",author:"",discipline:"",created_from:"",created_to:""}),[b,S]=j.useState(1),[C]=j.useState(10),[N,k]=j.useState(null),[D,M]=j.useState(null),[E,A]=j.useState(!1),[P,F]=j.useState(!1),[ee,be]=j.useState(!1),[ce,ae]=j.useState(null),[te,ke]=j.useState(!1),[ze,W]=j.useState(!1),[oe,ye]=j.useState(!1),[Fe,U]=j.useState(null),ue="projectDrafts",[se,fe]=j.useState([]),[Ee,Pe]=j.useState(null),[Oe,Ye]=j.useState({title:"",slug:"",description:"",is_active:!0,show_on_home:!1,cover_photo:null,disciplines:[],sections:[]}),[Me,ut]=j.useState({id:null,title:"",slug:"",description:"",is_active:!0,show_on_home:!1,cover_photo:null,existing_cover_photo:null,disciplines:[],sections:[]}),{data:Ze,isLoading:St}=Cn({queryKey:["currentUser"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}),{data:Nt,isLoading:Ft,refetch:nt}=Cn({queryKey:["project",Fe],queryFn:()=>Fe?Ge.get(`https://nexus-consults.com/api/public/api/admin/projects/${Fe}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}).then(Y=>Y.data.data):Promise.resolve(null),enabled:!!Fe,staleTime:5*60*1e3}),Z="projectDrafts_beforeunload_fallback",Ve=async()=>{try{const Y=await la.getItem(ue),Se=Array.isArray(Y)?Y:[];fe(Se);const _=localStorage.getItem(Z);if(_){try{const K=JSON.parse(_);K&&typeof K=="object"&&at(K)}catch{}localStorage.removeItem(Z)}}catch{}},qe=async Y=>{try{await la.setItem(ue,Y)}catch(Se){console.error("Persist drafts failed",Se),ge.error("Could not save drafts locally")}},at=async Y=>{fe(Se=>{const _=Se.findIndex(q=>q.id===Y.id);let K=[...Se];const R=new Date().toISOString();if(_>=0)K[_]={...Se[_],...Y,updatedAt:R};else{const q=Y.slug?Se.findIndex(ne=>ne.slug===Y.slug&&ne.slug):-1;q>=0?K[q]={...Se[q],...Y,id:Se[q].id,updatedAt:R}:K.push({...Y,updatedAt:R})}return K.length>20&&(K=K.slice().sort((q,ne)=>new Date(ne.updatedAt)-new Date(q.updatedAt)).slice(0,20)),qe(K),K})},bt=async Y=>{fe(Se=>{const _=Se.filter(K=>K.id!==Y);return qe(_),_}),Ee===Y&&Pe(null)},$=async Y=>{Y&&fe(Se=>{const _=Se.filter(K=>K.slug!==Y);return qe(_),_})};j.useEffect(()=>{Ve()},[]);const re=()=>{if(!(Oe.title&&Oe.title.trim()!==""||Oe.description&&Oe.description.trim()!==""||Oe.sections.some(K=>K.content&&K.content.trim()!=="")))return null;let Se=Ee;if(!Se&&Oe.slug){const K=se.find(R=>R.slug===Oe.slug);K&&(Se=K.id)}const _=Oe.sections.map(K=>({content:K.content||"",caption:K.caption||"",image_meta:K.image?{name:K.image.name,type:K.image.type,size:K.image.size}:null,existing_image:K.existing_image||null}));return{id:Se||`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,title:Oe.title,slug:Oe.slug,description:Oe.description,is_active:Oe.is_active,show_on_home:Oe.show_on_home||!1,disciplines:Oe.disciplines||[],sections:_,cover_photo_meta:Oe.cover_photo?{name:Oe.cover_photo.name,type:Oe.cover_photo.type,size:Oe.cover_photo.size}:null}},B=()=>{const Y=re();Y&&(Pe(Y.id),at(Y),ge.success("Draft saved locally"))},de=Y=>{const Se=Y.sections?.map(_=>({id:Date.now()+Math.random(),content:_.content||"",caption:_.caption||"",image:null,existing_image:_.existing_image||null}))||[];Ye({title:Y.title||"",slug:Y.slug||"",description:Y.description||"",is_active:Y.is_active??!0,show_on_home:Y.show_on_home||!1,disciplines:Y.disciplines||[],sections:Se,cover_photo:null}),W(!0),Pe(Y.id),A(!0),ge("Draft loaded")},xe=j.useRef(null),H=j.useRef("");j.useEffect(()=>{if(E){xe.current=setInterval(()=>{const Se=re();if(Se){const _=JSON.stringify({title:Se.title,description:Se.description,disciplines:Se.disciplines,sections:Se.sections});_!==H.current&&(Pe(K=>K||Se.id),at(Se),H.current=_)}},5e3);const Y=()=>{const Se=re();if(Se){at(Se);try{localStorage.setItem(Z,JSON.stringify(Se))}catch{}}};return window.addEventListener("beforeunload",Y),()=>{xe.current&&clearInterval(xe.current),window.removeEventListener("beforeunload",Y)}}else xe.current&&clearInterval(xe.current),H.current=""},[E]);const V=Y=>Y.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),we=(Y,Se)=>{x(_=>({..._,[Y]:Se})),S(1)},et=async(Y,Se)=>{M(Y);try{await Ge.patch(`https://nexus-consults.com/api/public/api/admin/projects/${Y}/toggle-active`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ge.success(`Project ${Se?"deactivated":"activated"} successfully`,{duration:2e3}),r()}catch(_){ge.error(_.response?.data?.message||"An unexpected error occurred",{duration:3e3}),_.response?.status==401,_.response?.status==403&&(ge.error("You are not authorized to view this page"),s("/home"))}finally{M(null)}},ht=Y=>{ae(Y),be(!0)},Jt=async()=>{if(ce){k(ce),be(!1);try{await Ge.delete(`https://nexus-consults.com/api/public/api/admin/projects/${ce}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ge.success("Project deleted successfully",{duration:2e3}),r()}catch(Y){ge.error(Y.response?.data?.message||"An unexpected error occurred",{duration:3e3}),Y.response?.status==401&&(localStorage.removeItem("userToken"),s("/login")),Y.response?.status==403&&(ge.error("You are not authorized to view this page"),s("/home"))}finally{k(null),ae(null)}}},Pt=Y=>{const{name:Se,value:_,type:K,checked:R,files:q}=Y.target;if(Ye(K==="file"?ne=>({...ne,[Se]:q[0]}):ne=>({...ne,[Se]:K==="checkbox"?R:_})),Se==="title"&&!ze){const ne=V(_);Ye(_e=>({..._e,slug:ne}))}},an=Y=>{const{value:Se}=Y.target;Ye(_=>({..._,slug:Se})),W(!0)},Qt=()=>{const Y=V(Oe.title);Ye(Se=>({...Se,slug:Y})),W(!1)},Ne=Y=>{const{name:Se,value:_,type:K,checked:R,files:q}=Y.target;if(ut(K==="file"?ne=>({...ne,[Se]:q[0]}):ne=>({...ne,[Se]:K==="checkbox"?R:_})),Se==="title"&&!oe){const ne=V(_);ut(_e=>({..._e,slug:ne}))}},ot=Y=>{const{value:Se}=Y.target;ut(_=>({..._,slug:Se})),ye(!0)},pt=()=>{const Y=V(Me.title);ut(Se=>({...Se,slug:Y})),ye(!1)},pe=(Y,Se)=>{Ye(_=>({..._,disciplines:Se?[..._.disciplines,Y]:_.disciplines.filter(K=>K!==Y)}))},mt=(Y,Se)=>{ut(_=>({..._,disciplines:Se?[..._.disciplines,Y]:_.disciplines.filter(K=>K!==Y)}))},Lt=()=>{const Y={id:Date.now()+Math.random(),content:"",caption:"",image:null,existing_image:null};Ye(Se=>({...Se,sections:[...Se.sections,Y]}))},rt=Y=>{Ye(Se=>({...Se,sections:Se.sections.filter(_=>_.id!==Y)}))},Te=(Y,Se)=>{Ye(_=>({..._,sections:_.sections.map(K=>K.id===Y?{...K,content:Se}:K)}))},lt=(Y,Se)=>{Ye(_=>({..._,sections:_.sections.map(K=>K.id===Y?{...K,caption:Se}:K)}))},jt=(Y,Se)=>{Ye(_=>({..._,sections:_.sections.map(K=>K.id===Y?{...K,image:Se}:K)}))},Et=Y=>{Ye(Se=>({...Se,sections:Se.sections.map(_=>_.id===Y?{..._,image:null}:_)}))},kt=Y=>{Ye(Se=>({...Se,sections:Se.sections.map(_=>_.id===Y?{..._,existing_image:null,image:null}:_)}))},en=()=>{const Y={id:Date.now()+Math.random(),content:"",caption:"",image:null,existing_image:null};ut(Se=>({...Se,sections:[...Se.sections,Y]}))},Nn=Y=>{ut(Se=>({...Se,sections:Se.sections.filter(_=>_.id!==Y)}))},Q=(Y,Se)=>{ut(_=>({..._,sections:_.sections.map(K=>K.id===Y?{...K,content:Se}:K)}))},me=(Y,Se)=>{ut(_=>({..._,sections:_.sections.map(K=>K.id===Y?{...K,caption:Se}:K)}))},je=(Y,Se)=>{ut(_=>({..._,sections:_.sections.map(K=>K.id===Y?{...K,image:Se}:K)}))},$e=Y=>{ut(Se=>({...Se,sections:Se.sections.map(_=>_.id===Y?{..._,image:null}:_)}))},Xe=Y=>{ut(Se=>({...Se,sections:Se.sections.map(_=>_.id===Y?{..._,existing_image:null,image:null}:_)}))},vt=()=>{Ye({title:"",slug:"",description:"",is_active:!0,show_on_home:!1,cover_photo:null,disciplines:[],sections:[]}),W(!1)},At=Y=>{U(Y.id)};j.useEffect(()=>{if(Nt&&Fe){const Se=(Nt.sections||[]).map((_,K)=>({id:Date.now()+K,content:_.content||"",caption:_.caption||"",image:null,existing_image:_.image||null}));ut({id:Nt.id,title:Nt.title,slug:Nt.slug,description:Nt.description||"",is_active:Nt.is_active,show_on_home:Nt.show_on_home||!1,cover_photo:null,existing_cover_photo:Nt.cover_photo,disciplines:Nt.disciplines?Nt.disciplines.map(_=>_.id):[],sections:Se}),ye(!0),F(!0)}},[Nt,Fe]);const ct=async Y=>{if(Y.preventDefault(),!Oe.sections.some(_=>_.content&&_.content.trim()!=="")){ge.error("Please add at least one section with content");return}ke(!0);try{const _=new FormData;_.append("title",Oe.title),_.append("slug",Oe.slug),_.append("is_active",Oe.is_active?1:0),_.append("show_on_home",Oe.show_on_home?1:0),_.append("description",Oe.description),Oe.disciplines.forEach(K=>{_.append("disciplines[]",K)}),Oe.sections.forEach((K,R)=>{_.append(`content${R+1}`,K.content||""),_.append(`caption${R+1}`,K.caption||""),K.image instanceof File&&_.append(`image${R+1}`,K.image)}),_.append("cover_photo",Oe.cover_photo||""),await Ge.post("https://nexus-consults.com/api/public/api/admin/projects",_,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}}),ke(!1),ge.success("Project added successfully",{duration:2e3}),A(!1),vt(),r(),$(Oe.slug),Pe(null)}catch(_){ke(!1),ge.error(_.response?.data?.message||"An unexpected error occurred",{duration:3e3}),_.response?.status==401&&(localStorage.removeItem("userToken"),s("/login")),_.response?.status==403&&(ge.error("You are not authorized to view this page"),s("/home"))}},Ct=async Y=>{if(Y.preventDefault(),!Me.sections.some(_=>_.content&&_.content.trim()!=="")){ge.error("Please add at least one section with content");return}ke(!0);try{const _=new FormData;_.append("title",Me.title),_.append("slug",Me.slug),_.append("is_active",Me.is_active?1:0),_.append("show_on_home",Me.show_on_home?1:0),_.append("description",Me.description),_.append("_method","POST"),Me.disciplines.forEach(K=>{_.append("disciplines[]",K)}),Me.sections.forEach((K,R)=>{_.append(`content${R+1}`,K.content||""),_.append(`caption${R+1}`,K.caption||""),K.image instanceof File?_.append(`image${R+1}`,K.image):K.existing_image===null&&_.append(`image${R+1}`,"")}),Me.cover_photo instanceof File?_.append("cover_photo",Me.cover_photo):Me.existing_cover_photo===null&&_.append("cover_photo",""),await Ge.post(`https://nexus-consults.com/api/public/api/admin/projects/${Me.id}`,_,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}}),ke(!1),ge.success("Project updated successfully",{duration:2e3}),F(!1),U(null),r(),i.invalidateQueries(["project",Me.id])}catch(_){ke(!1),ge.error(_.response?.data?.message||"An unexpected error occurred",{duration:3e3}),_.response?.status==401&&(localStorage.removeItem("userToken"),s("/login")),_.response?.status==403&&(ge.error("You are not authorized to view this page"),s("/home"))}},gt=t?.filter(Y=>{const Se=y.global===""||Y.title.toLowerCase().includes(y.global.toLowerCase())||(Y.author?.name?Y.author.name.toLowerCase().includes(y.global.toLowerCase()):!1),_=y.title===""||Y.title.toLowerCase().includes(y.title.toLowerCase()),K=y.status===""||(y.status==="active"?Y.is_active:!Y.is_active),R=y.author===""||(Y.author?.name?Y.author.name.toLowerCase().includes(y.author.toLowerCase()):!1),q=y.discipline===""||Y.disciplines&&Y.disciplines.some(_e=>_e.id.toString()===y.discipline||_e.title.toLowerCase().includes(y.discipline.toLowerCase()));let ne=!0;if(Y.created_at){const _e=new Date(Y.created_at);if(y.created_from){const ft=new Date(`${y.created_from}T00:00:00`);_e<ft&&(ne=!1)}if(ne&&y.created_to){const ft=new Date(`${y.created_to}T23:59:59.999`);_e>ft&&(ne=!1)}}return Se&&_&&K&&R&&q&&ne})||[],Ot=Math.ceil(gt.length/C),G=gt.slice((b-1)*C,b*C),Re=Y=>{const Se=Y?"bg-[#009379] text-white":"bg-[#930002] text-white";return u.jsx("span",{className:`flex justify-center w-fit items-center px-2.5 py-1 rounded-md text-xs font-medium ${Se} min-w-16 text-center`,children:Y?"Active":"Inactive"})},tt=()=>Ot<=1?null:u.jsxs("div",{className:"flex justify-between items-center mt-4 px-4 pb-1",children:[u.jsxs("div",{className:"text-xs",children:["Showing ",(b-1)*C+1,"-",Math.min(b*C,gt.length)," of ",gt.length," entries"]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:()=>S(1),disabled:b===1,className:"p-1 disabled:opacity-50",children:u.jsx(Qo,{className:"h-4 w-4"})}),u.jsxs("span",{className:"px-3 py-1",children:["Page ",b," of ",Ot]}),u.jsx("button",{onClick:()=>S(Y=>Math.min(Ot,Y+1)),disabled:b===Ot,className:"p-1 disabled:opacity-50",children:u.jsx(Zo,{className:"h-4 w-4"})})]})]}),yt=(Y,Se)=>{l(Se?_=>[..._,Y]:_=>_.filter(K=>K!==Y))},Wt=Y=>{Y?(l(gt.map(Se=>Se.id)),f(!0)):(l([]),f(!1))},[Dt,zt]=j.useState(!1),Xn=async()=>{a.length&&zt(!0)},On=async()=>{zt(!1);try{m(!0),await Ge.post("https://nexus-consults.com/api/public/api/admin/projects/bulk/delete",{ids:a},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ge.success(`${a.length} project(s) deleted successfully`),l([]),f(!1),r()}catch(Y){console.error("Error deleting projects:",Y),ge.error(Y.response?.data?.message||"Failed to delete projects")}finally{m(!1)}},bn=async Y=>{if(a.length)try{m(!0),await Ge.post("https://nexus-consults.com/api/public/api/admin/projects/bulk/update-status",{ids:a,status:Y},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ge.success(`Status updated for ${a.length} project(s)`),l([]),f(!1),r()}catch(Se){console.error("Error updating project status:",Se),ge.error(Se.response?.data?.message||"Failed to update project status")}finally{m(!1)}},jn=Ht.memo(({name:Y,label:Se,existingImage:_,currentImage:K,onImageChange:R,onRemoveImage:q})=>{const ne=_,[_e,ft]=j.useState(null);return j.useEffect(()=>{if(K&&K instanceof File){const tn=URL.createObjectURL(K);return ft(tn),()=>{URL.revokeObjectURL(tn),ft(null)}}else ft(null)},[K]),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:Se}),_e?u.jsxs("div",{className:"relative mb-4",children:[u.jsx("img",{src:_e,alt:"Preview",className:"h-48 w-full object-cover rounded-lg"}),u.jsx("button",{type:"button",onClick:()=>q(Y),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 transition-colors",children:u.jsx($t,{size:16})})]}):ne?u.jsxs("div",{className:"relative mb-4",children:[u.jsx("img",{src:ne,alt:"Current",className:"h-48 w-full object-cover rounded-lg"}),u.jsx("button",{type:"button",onClick:()=>q(`existing_${Y}`),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2",children:u.jsx($t,{size:16})})]}):u.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[u.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[u.jsx(sa,{className:"w-8 h-8 mb-3 text-gray-400"}),u.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[u.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),u.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, JPEG (MAX. 5MB)"})]}),u.jsx("input",{id:Y,name:Y,type:"file",className:"hidden",onChange:R,accept:"image/*"})]})]})},(Y,Se)=>Y.name===Se.name&&Y.label===Se.label&&Y.existingImage===Se.existingImage&&Y.currentImage===Se.currentImage),gr=()=>Oe.sections.map((Y,Se)=>u.jsxs("div",{className:"p-4 border rounded-lg mb-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("h3",{className:"text-lg font-medium",children:["Section ",Se+1]}),u.jsx("button",{type:"button",onClick:()=>rt(Y.id),className:"text-red-500 hover:text-red-700 p-1",disabled:Oe.sections.length===1,children:u.jsx(Su,{size:16})})]}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Content ",Se+1,"*"]}),u.jsx(ui,{content:Y.content,onUpdate:_=>Te(Y.id,_)})]}),u.jsx(U3,{sectionId:Y.id,label:`Image ${Se+1}`,existingImage:Y.existing_image,currentImage:Y.image,caption:Y.caption,onImageChange:jt,onRemoveImage:Et,onRemoveExistingImage:kt,onCaptionChange:lt})]},Y.id)),Jn=()=>Me.sections.map((Y,Se)=>u.jsxs("div",{className:"p-4 border rounded-lg mb-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("h3",{className:"text-lg font-medium",children:["Section ",Se+1]}),u.jsx("button",{type:"button",onClick:()=>Nn(Y.id),className:"text-red-500 hover:text-red-700 p-1",disabled:Me.sections.length===1,children:u.jsx(Su,{size:16})})]}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Content ",Se+1,"*"]}),u.jsx(ui,{content:Y.content,onUpdate:_=>Q(Y.id,_)})]}),u.jsx(U3,{sectionId:Y.id,label:`Image ${Se+1}`,existingImage:Y.existing_image,currentImage:Y.image,caption:Y.caption,onImageChange:je,onRemoveImage:$e,onRemoveExistingImage:Xe,onCaptionChange:me})]},Y.id));return u.jsxs("div",{className:"shadow-2xl rounded-2xl overflow-hidden bg-white",children:[u.jsxs("div",{className:"p-4 border-b flex justify-between items-center gap-4",children:[u.jsx("input",{type:"text",value:y.global,onChange:Y=>we("global",Y.target.value),placeholder:"Search projects...",className:"px-3 py-2 rounded-xl shadow-sm focus:outline-2 focus:outline-primary w-full border border-primary transition-all"}),Ze?.data?.data?.admin?.permissions?.includes("create_projects")&&u.jsxs("button",{onClick:()=>{A(!0),vt()},className:"bg-primary hover:bg-darkBlue transition-all text-white px-3 py-2 rounded-xl shadow-sm min-w-max flex items-center gap-2",children:[u.jsx(Ar,{size:18}),u.jsx("span",{children:"Add Project"})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:d&&gt.length>0,onChange:Y=>Wt(Y.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),u.jsx("span",{className:"ml-2",children:"Title"})]})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsx("input",{type:"text",value:y.author,onChange:Y=>we("author",Y.target.value),placeholder:"Author",className:"text-xs p-1 border rounded w-full"})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cover Photo"}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsxs("select",{value:y.status,onChange:Y=>we("status",Y.target.value),className:"text-xs p-1 border rounded w-full",children:[u.jsx("option",{value:"",children:"All Statuses"}),u.jsx("option",{value:"active",children:"Active"}),u.jsx("option",{value:"inactive",children:"Inactive"})]})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsxs("select",{value:y.discipline,onChange:Y=>we("discipline",Y.target.value),className:"text-xs p-1 border rounded w-full",children:[u.jsx("option",{value:"",children:"All Disciplines"}),e?.map(Y=>u.jsxs("option",{value:Y.id,children:[Y.title,!Y.is_active&&" (inactive)"]},Y.id))]})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsx(Lh,{initialRange:{startDate:y.created_from?new Date(`${y.created_from}T00:00:00`):null,endDate:y.created_to?new Date(`${y.created_to}T00:00:00`):null},onDateChange:({startDate:Y,endDate:Se})=>{const _=K=>{if(!(K instanceof Date)||isNaN(K))return"";const R=K.getFullYear(),q=String(K.getMonth()+1).padStart(2,"0"),ne=String(K.getDate()).padStart(2,"0");return`${R}-${q}-${ne}`};we("created_from",Y?_(Y):""),we("created_to",Se?_(Se):"")}})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:n?u.jsx("tr",{children:u.jsxs("td",{colSpan:"7",className:"px-3 py-4 text-center",children:[" ",u.jsxs("div",{className:"flex justify-center items-center gap-2",children:[u.jsx(wt,{className:"animate-spin",size:18}),"Loading projects..."]})]})}):G.length===0?u.jsx("tr",{children:u.jsxs("td",{colSpan:"7",className:"px-3 py-4 text-center",children:[" ","No projects found"]})}):G.map(Y=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:a.includes(Y.id),onChange:Se=>yt(Y.id,Se.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),u.jsx("span",{className:"ml-2 text-sm font-medium text-gray-900",children:Y.title})]})}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Y.author?.name||"-"}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Y.cover_photo&&u.jsx("img",{src:Y.cover_photo,alt:"Cover",className:"h-10 w-10 object-cover rounded"})}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Re(Y.is_active)}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:u.jsx("div",{className:"flex flex-wrap gap-1",children:Y.disciplines&&Y.disciplines.length>0?Y.disciplines.map(Se=>u.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium",children:Se.title},Se.id)):u.jsx("span",{className:"text-gray-500 text-xs",children:"No disciplines"})})}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Y.created_at?new Date(Y.created_at).toLocaleDateString():"-"}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center gap-2",children:[Ze?.data?.data?.admin?.permissions?.includes("edit_projects")&&u.jsx("button",{className:"text-blue-500 hover:text-blue-700 p-1",onClick:()=>At(Y),disabled:Ft,children:Ft&&Fe===Y.id?u.jsx(wt,{className:"animate-spin",size:18}):u.jsx(ki,{size:18})}),u.jsx("button",{className:`${Y.is_active?"text-green-500 hover:text-green-700":"text-red-500 hover:text-red-700"} p-1`,onClick:()=>et(Y.id,Y.is_active),disabled:D===Y.id,children:D===Y.id?u.jsx(wt,{className:"animate-spin",size:18}):Y.is_active?u.jsx(Pr,{}):u.jsx($t,{})}),Ze?.data?.data?.admin?.permissions?.includes("delete_projects")&&u.jsx("button",{className:"text-red-500 hover:text-red-700 p-1",onClick:()=>ht(Y.id),disabled:N===Y.id,title:"Delete",children:N===Y.id?u.jsx(wt,{className:"animate-spin",size:18}):u.jsx(Vn,{size:18})})]})})]},Y.id))})]})}),Dt&&u.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:"bg-white rounded-lg p-6 max-w-md w-full",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Deletion"}),u.jsx("button",{onClick:()=>zt(!1),className:"text-gray-500 hover:text-gray-700",children:u.jsx($t,{})})]}),u.jsxs("p",{className:"text-gray-700 mb-6",children:["Are you sure you want to delete ",a.length," selected project(s)? This action cannot be undone."]}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx("button",{onClick:()=>zt(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:p,children:"Cancel"}),u.jsx("button",{onClick:On,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 flex items-center",disabled:p,children:p?u.jsxs(u.Fragment,{children:[u.jsx(wt,{className:"animate-spin mr-2"}),"Deleting..."]}):"Delete"})]})]})}),a.length>0&&u.jsx("div",{className:"bg-blue-50 p-4 rounded-md mb-6 border border-blue-200",children:u.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[u.jsxs("div",{className:"text-blue-800 font-medium",children:[a.length," project(s) selected"]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs("button",{onClick:()=>bn(!0),disabled:p,className:"flex items-center px-3 py-1.5 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 text-sm",children:[u.jsx(Pr,{className:"mr-1.5"}),"Activate"]}),u.jsxs("button",{onClick:()=>bn(!1),disabled:p,className:"flex items-center px-3 py-1.5 bg-yellow-600 text-white rounded hover:bg-yellow-700 disabled:opacity-50 text-sm",children:[u.jsx($t,{className:"mr-1.5"}),"Deactivate"]}),u.jsxs("button",{onClick:Xn,disabled:p,className:"flex items-center px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 text-sm",children:[u.jsx(Vn,{className:"mr-1.5"}),"Delete"]}),u.jsxs("button",{onClick:()=>{l([]),f(!1)},className:"flex items-center px-3 py-1.5 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 text-sm",children:[u.jsx($t,{className:"mr-1.5"}),"Clear Selection"]}),p&&u.jsxs("div",{className:"flex items-center",children:[u.jsx(wt,{className:"animate-spin mr-1.5"}),"Loading..."]})]})]})}),!n&&tt(),u.jsxs("div",{className:"p-4 border-t",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Drafts"}),u.jsx("div",{className:"text-xs text-gray-500",children:"Drafts are stored locally in your browser"})]}),se.length===0?u.jsx("div",{className:"text-sm text-gray-500",children:"No drafts yet"}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full divide-y divide-gray-200 text-sm",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-2 text-left",children:"Title"}),u.jsx("th",{className:"px-4 py-2 text-left",children:"Updated"}),u.jsx("th",{className:"px-4 py-2 text-left",children:"Note"}),u.jsx("th",{className:"px-4 py-2 text-left",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-200",children:se.slice().sort((Y,Se)=>new Date(Se.updatedAt)-new Date(Y.updatedAt)).map(Y=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-2",children:Y.title||u.jsx("span",{className:"italic text-gray-400",children:"Untitled"})}),u.jsx("td",{className:"px-4 py-2",children:new Date(Y.updatedAt).toLocaleString()}),u.jsx("td",{className:"px-4 py-2 text-xs text-gray-500",children:Y.cover_photo_meta?`Attachment: ${Y.cover_photo_meta.name} (re-attach required)`:"No attachment"}),u.jsx("td",{className:"px-4 py-2",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-1",onClick:()=>de(Y),children:[u.jsx(Ah,{})," Resume"]}),u.jsx("button",{className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",onClick:()=>bt(Y.id),children:"Delete"})]})})]},Y.id))})]})})]}),E&&u.jsxs(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 ",children:[u.jsx("button",{onClick:()=>{A(!1);const Y=re();Y&&at(Y)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:u.jsx(ns,{className:"",size:40})}),u.jsx(Tt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-4/5 h-[90vh] overflow-y-auto",onClick:Y=>Y.stopPropagation(),children:u.jsxs("div",{className:"p-6",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New Project"}),u.jsxs("form",{onSubmit:ct,children:[u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title*"}),u.jsx("input",{type:"text",name:"title",value:Oe.title,onChange:Pt,className:"w-full px-3 py-2 border rounded-md",required:!0})]})}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug*"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",name:"slug",value:Oe.slug,onChange:an,className:"w-full px-3 py-2 border rounded-md",required:!0}),ze&&u.jsx("button",{type:"button",onClick:Qt,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",title:"Reset to auto-generated slug",children:u.jsx($t,{})})]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ze?"Slug is manually edited. Click the X to reset to auto-generated.":"Slug is auto-generated from title. You can edit it manually."})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),u.jsx("textarea",{name:"description",value:Oe.description,onChange:Pt,rows:3,className:"w-full px-3 py-2 border rounded-md resize-vertical",placeholder:"Enter project description..."})]}),u.jsx(jn,{name:"cover_photo",label:"Cover Photo",currentImage:Oe.cover_photo,onImageChange:Pt,onRemoveImage:Y=>Ye(Se=>({...Se,[Y]:null}))}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:Oe.is_active,onChange:Pt,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700",children:"Active"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"show_on_home",name:"show_on_home",checked:Oe.show_on_home,onChange:Pt,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsx("label",{htmlFor:"show_on_home",className:"ml-2 text-sm text-gray-700",children:"Show on Home Screen"})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Disciplines"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 max-h-48 overflow-y-auto p-2 border rounded-md",children:[e?.map(Y=>u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:`discipline-${Y.id}`,checked:Oe.disciplines.includes(Y.id),onChange:Se=>pe(Y.id,Se.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsxs("label",{htmlFor:`discipline-${Y.id}`,className:"ml-2 text-sm text-gray-700",children:[Y.title,!Y.is_active&&u.jsx("span",{className:"ml-1 text-xs text-orange-600",children:"(inactive)"})]})]},Y.id)),(!e||e.length===0)&&u.jsx("div",{className:"text-sm text-gray-500 col-span-full",children:"No disciplines available"})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"space-y-4",children:Oe.sections.length===0?u.jsxs("div",{className:"text-center p-8 border-2 border-dashed rounded-lg",children:[u.jsx("p",{className:"text-gray-500 mb-4",children:'No sections added yet. Click "Add Section" to get started.'}),u.jsx("p",{className:"text-sm text-gray-400",children:"Note: At least one section with content is required."})]}):gr()}),u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-medium",children:"Sections"}),u.jsxs("button",{type:"button",onClick:Lt,className:"bg-primary hover:bg-darkBlue text-white px-3 py-2 rounded-md flex items-center gap-2",children:[u.jsx(Ar,{})," Add Section"]})]})]}),u.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[u.jsxs("div",{className:"text-xs text-gray-500 mt-2 flex items-center",children:[u.jsx(wt,{className:`animate-spin mr-1 ${te?"opacity-100":"opacity-0"}`,size:12}),"Auto-saves to drafts every 5s"]}),u.jsxs("button",{type:"button",onClick:B,className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[u.jsx(Fu,{size:16})," Save as Draft"]}),u.jsx("button",{type:"button",onClick:()=>{const Y=re();Y&&at(Y),A(!1),vt()},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:te,children:te?u.jsxs(u.Fragment,{children:[u.jsx(wt,{className:"animate-spin",size:18}),u.jsx("span",{children:"Adding..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Ar,{size:18}),u.jsx("span",{children:"Add Project"})]})})]})]})]})})]}),P&&u.jsxs(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[u.jsx("button",{onClick:()=>{F(!1),U(null)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:u.jsx(ns,{className:"",size:40})}),u.jsx(Tt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-4/5 h-[90vh] overflow-y-auto",onClick:Y=>Y.stopPropagation(),children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center mb-4",children:[u.jsx("button",{type:"button",onClick:()=>{F(!1),U(null)},className:"text-blue-600 hover:text-blue-800 font-medium",children:"Projects"}),u.jsx("span",{className:"mx-2 text-gray-400",children:">"}),u.jsx("span",{className:"text-xl font-bold text-gray-900",children:Me.title||"Untitled Project"}),Ft&&u.jsxs("div",{className:"ml-4 flex items-center text-sm text-gray-500",children:[u.jsx(wt,{className:"animate-spin mr-2",size:14}),"Loading project data..."]})]}),Ft?u.jsxs("div",{className:"flex justify-center items-center py-8",children:[u.jsx(wt,{className:"animate-spin mr-2",size:24}),u.jsx("span",{children:"Loading project data..."})]}):u.jsxs("form",{onSubmit:Ct,children:[u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title*"}),u.jsx("input",{type:"text",name:"title",value:Me.title,onChange:Ne,className:"w-full px-3 py-2 border rounded-md",required:!0})]})}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug*"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",name:"slug",value:Me.slug,onChange:ot,className:"w-full px-3 py-2 border rounded-md",required:!0}),oe&&u.jsx("button",{type:"button",onClick:pt,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",title:"Reset to auto-generated slug",children:u.jsx($t,{})})]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:oe?"Slug is manually edited. Click the X to reset to auto-generated.":"Slug is auto-generated from title. You can edit it manually."})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),u.jsx("textarea",{name:"description",value:Me.description,onChange:Ne,rows:3,className:"w-full px-3 py-2 border rounded-md resize-vertical",placeholder:"Enter project description..."})]}),u.jsx(jn,{name:"cover_photo",label:"Cover Photo",existingImage:Me.existing_cover_photo,currentImage:Me.cover_photo,onImageChange:Ne,onRemoveImage:Y=>{if(Y.startsWith("existing_")){const Se=Y.replace("existing_","");ut(_=>({..._,[Y]:null,[Se]:null}))}else ut(Se=>({...Se,[Y]:null}))}}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"edit_is_active",name:"is_active",checked:Me.is_active,onChange:Ne,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsx("label",{htmlFor:"edit_is_active",className:"ml-2 text-sm text-gray-700",children:"Active"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"edit_show_on_home",name:"show_on_home",checked:Me.show_on_home,onChange:Ne,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsx("label",{htmlFor:"edit_show_on_home",className:"ml-2 text-sm text-gray-700",children:"Show on Home Screen"})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Disciplines"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 max-h-48 overflow-y-auto p-2 border rounded-md",children:[e?.map(Y=>u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:`edit-discipline-${Y.id}`,checked:Me.disciplines.includes(Y.id),onChange:Se=>mt(Y.id,Se.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsxs("label",{htmlFor:`edit-discipline-${Y.id}`,className:"ml-2 text-sm text-gray-700",children:[Y.title,!Y.is_active&&u.jsx("span",{className:"ml-1 text-xs text-orange-600",children:"(inactive)"})]})]},Y.id)),(!e||e.length===0)&&u.jsx("div",{className:"text-sm text-gray-500 col-span-full",children:"No disciplines available"})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"flex justify-between items-center mb-4",children:u.jsx("h3",{className:"text-lg font-medium",children:"Sections"})}),u.jsx("div",{className:"space-y-4",children:Me.sections.length===0?u.jsxs("div",{className:"text-center p-8 border-2 border-dashed rounded-lg",children:[u.jsx("p",{className:"text-gray-500 mb-4",children:'No sections added yet. Click "Add Section" to get started.'}),u.jsx("p",{className:"text-sm text-gray-400",children:"Note: At least one section with content is required."})]}):Jn()}),u.jsx("div",{className:"flex justify-end items-center mb-4",children:u.jsxs("button",{type:"button",onClick:en,className:"bg-primary hover:bg-darkBlue text-white px-3 py-2 rounded-md flex items-center gap-2",children:[u.jsx(Ar,{})," Add Section"]})})]}),u.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[u.jsx("button",{type:"button",onClick:()=>{F(!1),U(null)},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:te,children:te?u.jsxs(u.Fragment,{children:[u.jsx(wt,{className:"animate-spin",size:18}),u.jsx("span",{children:"Updating..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Pr,{size:18}),u.jsx("span",{children:"Update Project"})]})})]})]})]})})]}),ee&&u.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>be(!1),children:u.jsx(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:Y=>Y.stopPropagation(),children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-start",children:[u.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:u.jsx(Vn,{className:"h-5 w-5 text-red-600"})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Project"}),u.jsx("div",{className:"mt-2",children:u.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this project? This action cannot be undone."})})]})]}),u.jsxs("div",{className:"mt-5 flex justify-end gap-3",children:[u.jsx("button",{type:"button",onClick:()=>be(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),u.jsx("button",{type:"button",onClick:Jt,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})})})]})}function Ale(){const t=Hn(),{data:e,isLoading:n,isError:r,error:s,refetch:i}=Cn({queryKey:["disciplines"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/disciplines",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})});function a(){return Ge.get("https://nexus-consults.com/api/public/api/admin/projects",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}const{data:l,isLoading:d,refetch:f,isError:p,error:m}=Cn({queryKey:["projects"],queryFn:a});return j.useEffect(()=>{p&&(m.response?.status==401&&(localStorage.removeItem("userToken"),t("/login")),m.response?.status==403&&(ge.error("You are not authorized to view this page"),t("/home")))},[p]),u.jsxs("div",{className:"p-4",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Projects"}),u.jsx(Ele,{projects:l?.data?.data||[],disciplinesData:e?.data?.data||[],loading:d,refetch:f})]})}function kle({admins:t,allPermissions:e,loading:n,refetch:r}){const s=Hn(),[i,a]=j.useState({global:"",name:"",email:"",status:"",role:""}),[l,d]=j.useState(1),[f]=j.useState(10),[p,m]=j.useState(null),[y,x]=j.useState(null),[b,S]=j.useState(!1),[C,N]=j.useState(!1),[k,D]=j.useState(!1),[M,E]=j.useState(null),[A,P]=j.useState(!1),[F,ee]=j.useState(null),[be,ce]=j.useState(!1),[ae,te]=j.useState({name:"",email:"",password:"",confirmPassword:"",permissions:[]}),ke=(Z,Ve)=>{a(qe=>({...qe,[Z]:Ve})),d(1)},{data:ze,isLoading:W,error:oe,isError:ye}=Cn({queryKey:["currentUser"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}),Fe=async(Z,Ve)=>{m(Z);try{const qe=Ve==="active"?"inactive":"active";await Ge.patch(`https://nexus-consults.com/api/public/api/admin/users/${Z}/toggle-active`,{status:qe},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ge.success(`Admin ${qe==="active"?"activated":"deactivated"} successfully`,{duration:2e3}),r()}catch(qe){ge.error(qe.response?.data?.message||"An unexpected error occurred",{duration:3e3}),qe.response?.status==401&&(localStorage.removeItem("userToken"),s("/login"))}finally{m(null)}},U=Z=>{ee(Z),P(!0)},ue=async()=>{if(F){x(F),P(!1);try{await Ge.delete(`https://nexus-consults.com/api/public/api/admin/users/${F}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ge.success("Admin deleted successfully",{duration:2e3}),r()}catch(Z){ge.error(Z.response?.data?.message||"An unexpected error occurred",{duration:3e3}),Z.response?.status==401&&(localStorage.removeItem("userToken"),s("/login")),Z.response?.status==403&&(ge.error("You are not authorized to view this page"),s("/home"))}finally{x(null),ee(null)}}},se=Z=>{const{name:Ve,value:qe,type:at,checked:bt}=Z.target;te($=>({...$,[Ve]:at==="checkbox"?bt:qe}))},fe=(Z,Ve)=>{te(qe=>Ve?{...qe,permissions:[...qe.permissions,Z]}:{...qe,permissions:qe.permissions.filter(at=>at!==Z)})},Ee=()=>{te({name:"",email:"",password:"",confirmPassword:"",permissions:[]})},Pe=Z=>{E(Z),te({name:Z.name,email:Z.email,password:"",confirmPassword:"",permissions:[...Z.permissions]}),N(!0)},Oe=Z=>{E(Z),te({...ae,permissions:[...Z.permissions]}),D(!0)},Ye=async Z=>{if(Z.preventDefault(),ae.password!==ae.confirmPassword){ge.error("Passwords do not match",{duration:3e3});return}ce(!0);try{await Ge.post("https://nexus-consults.com/api/public/api/admin/users",{name:ae.name,email:ae.email,password:ae.password,permissions:ae.permissions},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ce(!1),ge.success("Admin added successfully",{duration:2e3}),S(!1),Ee(),r()}catch(Ve){ce(!1),ge.error(Ve.response?.data?.message||"An unexpected error occurred",{duration:3e3}),Ve.response?.status==401&&(localStorage.removeItem("userToken"),s("/login")),Ve.response?.status==403&&(ge.error("You are not authorized to view this page"),s("/home"))}},Me=async Z=>{if(Z.preventDefault(),ae.password&&ae.password!==ae.confirmPassword){ge.error("Passwords do not match",{duration:3e3});return}ce(!0);try{const Ve={name:ae.name,email:ae.email};ae.password&&(Ve.password=ae.password),await Ge.put(`https://nexus-consults.com/api/public/api/admin/users/${M.id}`,Ve,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ce(!1),ge.success("Admin updated successfully",{duration:2e3}),N(!1),Ee(),r()}catch(Ve){ce(!1),ge.error(Ve.response?.data?.message||"An unexpected error occurred",{duration:3e3}),Ve.response?.status==401&&(localStorage.removeItem("userToken"),s("/login")),Ve.response?.status==403&&(ge.error("You are not authorized to view this page"),s("/home"))}},ut=async Z=>{Z.preventDefault(),ce(!0);try{await Ge.post(`https://nexus-consults.com/api/public/api/admin/permissions/assign/${M.id}`,{permissions:ae.permissions},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ce(!1),ge.success("Permissions updated successfully",{duration:2e3}),D(!1),Ee(),r()}catch(Ve){ce(!1),ge.error(Ve.response?.data?.message||"An unexpected error occurred",{duration:3e3}),Ve.response?.status==401&&(localStorage.removeItem("userToken"),s("/login")),Ve.response?.status==403&&(ge.error("You are not authorized to view this page"),s("/home"))}},Ze=t?.filter(Z=>(i.global===""||Z.name.toLowerCase().includes(i.global.toLowerCase())||Z.email.toLowerCase().includes(i.global.toLowerCase()))&&(i.name===""||Z.name.toLowerCase().includes(i.name.toLowerCase()))&&(i.email===""||Z.email.toLowerCase().includes(i.email.toLowerCase()))&&(i.status===""||Z.status.includes(i.status.toLowerCase()))&&(i.role===""||Z.role.includes(i.role.toLowerCase())))||[],St=Math.ceil(Ze.length/f),Nt=Ze.slice((l-1)*f,l*f),Ft=Z=>{const Ve=Z?"bg-[#009379] text-white":"bg-[#930002] text-white";return u.jsx("span",{className:`flex justify-center w-fit items-center px-2.5 py-1 rounded-md text-xs font-medium ${Ve} min-w-16 text-center`,children:Z?"Active":"Inactive"})},nt=()=>St<=1?null:u.jsxs("div",{className:"flex justify-between items-center mt-4 px-4 pb-1",children:[u.jsxs("div",{className:"text-xs",children:["Showing ",(l-1)*f+1,"-",Math.min(l*f,Ze.length)," of ",Ze.length," entries"]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:()=>d(1),disabled:l===1,className:"p-1 disabled:opacity-50",children:u.jsx(Qo,{className:"h-4 w-4"})}),u.jsxs("span",{className:"px-3 py-1",children:["Page ",l," of ",St]}),u.jsx("button",{onClick:()=>d(Z=>Math.min(St,Z+1)),disabled:l===St,className:"p-1 disabled:opacity-50",children:u.jsx(Zo,{className:"h-4 w-4"})})]})]});return u.jsxs("div",{className:"shadow-2xl rounded-2xl overflow-hidden bg-white",children:[u.jsxs("div",{className:"p-4 border-b flex justify-between items-center gap-4",children:[u.jsx("input",{type:"text",value:i.global,onChange:Z=>ke("global",Z.target.value),placeholder:"Search admins...",className:"px-3 py-2 rounded-xl shadow-sm focus:outline-2 focus:outline-primary w-full border border-primary transition-all"}),ze?.data?.data?.admin?.permissions?.includes("create_admins")&&u.jsxs("button",{onClick:()=>S(!0),className:"bg-primary hover:bg-darkBlue transition-all text-white px-3 py-2 rounded-xl shadow-sm min-w-max flex items-center gap-2",children:[u.jsx(Ar,{size:18}),u.jsx("span",{children:"Add Admin"})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsx("input",{type:"text",placeholder:"Name",value:i.name,onChange:Z=>ke("name",Z.target.value),className:"text-xs p-1 border rounded w-full"})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsx("input",{type:"text",placeholder:"Email",value:i.email,onChange:Z=>ke("email",Z.target.value),className:"text-xs p-1 border rounded w-full"})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsx("input",{type:"text",placeholder:"Status",value:i.status,onChange:Z=>ke("status",Z.target.value),className:"text-xs p-1 border rounded w-full"})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:n?u.jsx("tr",{children:u.jsx("td",{colSpan:"5",className:"px-3 py-4 text-center",children:u.jsxs("div",{className:"flex justify-center items-center gap-2",children:[u.jsx(wt,{className:"animate-spin",size:18}),"Loading admins..."]})})}):Nt.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:"5",className:"px-3 py-4 text-center",children:"No admins found"})}):Nt.map(Z=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:u.jsx("div",{className:"font-medium",children:Z.name})}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Z.email}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap capitalize",children:Z.role}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Ft(Z.is_active)}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center gap-2",children:[ze?.data?.data?.admin?.permissions?.includes("edit_admins")&&u.jsx("button",{className:"text-blue-500 hover:text-blue-700 p-1",onClick:()=>Pe(Z),children:u.jsx(ki,{size:18})}),ze?.data?.data?.admin?.permissions?.includes("edit_admins")&&u.jsx("button",{className:"text-purple-500 hover:text-purple-700 p-1",onClick:()=>Oe(Z),children:u.jsx(j4,{size:18})}),ze?.data?.data?.admin?.permissions?.includes("edit_admins")&&u.jsx("button",{className:`${Z.status==="active"?"text-red-500 hover:text-red-700":"text-green-500 hover:text-green-700"} p-1`,onClick:()=>Fe(Z.id,Z.status),disabled:p===Z.id,children:p===Z.id?u.jsx(wt,{className:"animate-spin",size:18}):Z.status==="active"?u.jsx($t,{}):u.jsx(Pr,{})}),ze?.data?.data?.admin?.permissions?.includes("delete_admins")&&u.jsx("button",{className:"text-red-500 hover:text-red-700 p-1",onClick:()=>U(Z.id),disabled:y===Z.id,children:y===Z.id?u.jsx(wt,{className:"animate-spin",size:18}):u.jsx(Vn,{size:18})})]})})]},Z.id))})]})}),!n&&nt(),b&&u.jsxs(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[u.jsx("button",{onClick:()=>{S(!1)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:u.jsx(ns,{className:"",size:40})}),u.jsx(Tt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:Z=>Z.stopPropagation(),children:u.jsxs("div",{className:"p-6",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New Admin"}),u.jsxs("form",{onSubmit:Ye,children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),u.jsx("input",{type:"text",name:"name",value:ae.name,onChange:se,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),u.jsx("input",{type:"email",name:"email",value:ae.email,onChange:se,className:"w-full px-3 py-2 border rounded-md",required:!0})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),u.jsx("input",{type:"password",name:"password",value:ae.password,onChange:se,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),u.jsx("input",{type:"password",name:"confirmPassword",value:ae.confirmPassword,onChange:se,className:"w-full px-3 py-2 border rounded-md",required:!0})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Permissions"}),u.jsx("button",{type:"button",onClick:()=>{te(Z=>({...Z,permissions:e.map(Ve=>Ve.name)}))},className:"mb-2 text-xs bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded",children:"Select All"}),u.jsx("button",{type:"button",onClick:()=>{te(Z=>({...Z,permissions:[]}))},className:"mb-2 text-xs bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded ml-2",children:"Clear All"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 max-h-60 overflow-y-auto p-2 border rounded",children:e.map(Z=>u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:`perm-${Z.name}`,checked:ae.permissions.includes(Z.name),onChange:Ve=>fe(Z.name,Ve.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsxs("label",{htmlFor:`perm-${Z.name}`,className:"ml-2 text-sm text-gray-700",children:[u.jsx("div",{className:"font-medium",children:Z.name.replaceAll("_"," ")}),u.jsx("div",{className:"text-xs text-gray-500",children:Z.description})]})]},Z.name))})]}),u.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[u.jsx("button",{type:"button",onClick:()=>{S(!1),Ee()},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:be,children:be?u.jsxs(u.Fragment,{children:[u.jsx(wt,{className:"animate-spin",size:18}),u.jsx("span",{children:"Adding..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Ar,{size:18}),u.jsx("span",{children:"Add Admin"})]})})]})]})]})})]}),C&&u.jsxs(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[u.jsx("button",{onClick:()=>{N(!1)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:u.jsx(ns,{className:"",size:40})}),u.jsx(Tt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:Z=>Z.stopPropagation(),children:u.jsxs("div",{className:"p-6",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Edit Admin"}),u.jsxs("form",{onSubmit:Me,children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),u.jsx("input",{type:"text",name:"name",value:ae.name,onChange:se,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),u.jsx("input",{type:"email",name:"email",value:ae.email,onChange:se,className:"w-full px-3 py-2 border rounded-md",required:!0})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password (leave blank to keep current)"}),u.jsx("input",{type:"password",name:"password",value:ae.password,onChange:se,className:"w-full px-3 py-2 border rounded-md"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),u.jsx("input",{type:"password",name:"confirmPassword",value:ae.confirmPassword,onChange:se,className:"w-full px-3 py-2 border rounded-md"})]})]}),u.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[u.jsx("button",{type:"button",onClick:()=>{N(!1),Ee()},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:be,children:be?u.jsxs(u.Fragment,{children:[u.jsx(wt,{className:"animate-spin",size:18}),u.jsx("span",{children:"Updating..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(ki,{size:18}),u.jsx("span",{children:"Update Admin"})]})})]})]})]})})]}),k&&u.jsxs(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[u.jsx("button",{onClick:()=>{D(!1)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:u.jsx(ns,{className:"",size:40})}),u.jsx(Tt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:Z=>Z.stopPropagation(),children:u.jsxs("div",{className:"p-6",children:[u.jsxs("h2",{className:"text-xl font-bold mb-4",children:["Manage Permissions for ",M?.name]}),u.jsxs("form",{onSubmit:ut,children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Permissions"}),u.jsx("button",{type:"button",onClick:()=>{te(Z=>({...Z,permissions:e.map(Ve=>Ve.name)}))},className:"mb-2 text-xs bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded",children:"Select All"}),u.jsx("button",{type:"button",onClick:()=>{te(Z=>({...Z,permissions:[]}))},className:"mb-2 text-xs bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded ml-2",children:"Clear All"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 max-h-60 overflow-y-auto p-2 border rounded",children:e.map(Z=>u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:`perm-edit-${Z.name}`,checked:ae.permissions.includes(Z.name),onChange:Ve=>fe(Z.name,Ve.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsxs("label",{htmlFor:`perm-edit-${Z.name}`,className:"ml-2 text-sm text-gray-700",children:[u.jsx("div",{className:"font-medium",children:Z.name.replaceAll("_"," ")}),u.jsx("div",{className:"text-xs text-gray-500",children:Z.description})]})]},Z.name))})]}),u.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[u.jsx("button",{type:"button",onClick:()=>{D(!1),Ee()},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:be,children:be?u.jsxs(u.Fragment,{children:[u.jsx(wt,{className:"animate-spin",size:18}),u.jsx("span",{children:"Updating..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(j4,{size:18}),u.jsx("span",{children:"Update Permissions"})]})})]})]})]})})]}),A&&u.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>P(!1),children:u.jsx(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:Z=>Z.stopPropagation(),children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-start",children:[u.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:u.jsx(Vn,{className:"h-5 w-5 text-red-600"})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Admin"}),u.jsx("div",{className:"mt-2",children:u.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this admin? This action cannot be undone."})})]})]}),u.jsxs("div",{className:"mt-5 flex justify-end gap-3",children:[u.jsx("button",{type:"button",onClick:()=>P(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),u.jsx("button",{type:"button",onClick:ue,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})})})]})}function Ole(){const t=Hn();function e(){return Ge.get("https://nexus-consults.com/api/public/api/admin/users",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}const{data:n,isLoading:r,refetch:s,error:i,isError:a}=Cn({queryKey:["admins"],queryFn:e,onError:()=>{i.response?.status==401&&(localStorage.removeItem("userToken"),t("/login"))}});function l(){return Ge.get("https://nexus-consults.com/api/public/api/admin/permissions",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}const{data:d,error:f}=Cn({queryKey:["permissions"],queryFn:l});return j.useEffect(()=>{a&&(i.response?.status==401&&(localStorage.removeItem("userToken"),t("/login")),i.response?.status==403&&(ge.error("You are not authorized to view this page"),t("/home")))},[a]),j.useEffect(()=>{},[d,f]),u.jsxs("div",{className:"p-4",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Admins"}),u.jsx(kle,{admins:n?.data?.data||[],allPermissions:d?.data?.data?.all_permissions||[],loading:r,refetch:s})]})}function Dle({blogs:t,loading:e,refetch:n}){const r=Hn();Li();const[s,i]=j.useState([]),[a,l]=j.useState(!1),[d,f]=j.useState(!1),[p,m]=j.useState({global:"",title:"",category:"",status:"",author:"",created_from:"",created_to:""}),[y,x]=j.useState(1),[b]=j.useState(10),[S,C]=j.useState(null),[N,k]=j.useState(null),[D,M]=j.useState(!1),[E,A]=j.useState(!1),[P,F]=j.useState(!1),[ee,be]=j.useState(null),[ce,ae]=j.useState(!1),[te,ke]=j.useState([]),[ze,W]=j.useState([]),[oe,ye]=j.useState(!1),[Fe,U]=j.useState(!1),[ue,se]=j.useState(!1),[fe,Ee]=j.useState(null),[Pe,Oe]=j.useState({question:"",answer:"",order:""}),[Ye,Me]=j.useState(null),[ut,Ze]=j.useState(!1),[St,Nt]=j.useState(null),[Ft,nt]=j.useState(null),Z="blogDrafts",[Ve,qe]=j.useState([]),[at,bt]=j.useState(null),[$,re]=j.useState({title:"",slug:"",category:"news",is_active:!0,mark_as_hero:!1,content:"",cover_photo:null,tags:[],headings:[]}),[B,de]=j.useState({id:null,title:"",slug:"",category:"news",is_active:!0,mark_as_hero:!1,content:"",cover_photo:null,existing_cover_photo:null,tags:[],headings:[]}),{data:xe,refetch:H}=Cn({queryKey:["blogFaqs",fe],queryFn:()=>fe?Ge.get(`https://nexus-consults.com/api/public/api/admin/blogs/${fe}/manage/faq`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}).then(T=>T.data.data):Promise.resolve([]),enabled:!!fe}),V=di({mutationFn:T=>Ge.post(`https://nexus-consults.com/api/public/api/admin/blogs/${fe}/manage/faq`,T,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),onSuccess:()=>{ge.success("FAQ added successfully"),H(),Oe({question:"",answer:"",order:""})},onError:T=>{ge.error(T.response?.data?.message||"Failed to add FAQ"),T.response?.status===401&&(localStorage.removeItem("userToken"),r("/login")),T.response?.status===403&&ge.error("You are not authorized to perform this action")}}),we=di({mutationFn:T=>Ge.put(`https://nexus-consults.com/api/public/api/admin/blogs/${fe}/manage/faq/${Ye}`,T,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),onSuccess:()=>{ge.success("FAQ updated successfully"),H(),Me(null),Oe({question:"",answer:"",order:""})},onError:T=>{ge.error(T.response?.data?.message||"Failed to update FAQ"),T.response?.status===401&&(localStorage.removeItem("userToken"),r("/login")),T.response?.status===403&&ge.error("You are not authorized to perform this action")}}),et=di({mutationFn:T=>Ge.delete(`https://nexus-consults.com/api/public/api/admin/blogs/${fe}/manage/faq/${T}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),onSuccess:()=>{ge.success("FAQ deleted successfully"),H()},onError:T=>{ge.error(T.response?.data?.message||"Failed to delete FAQ"),T.response?.status===401&&(localStorage.removeItem("userToken"),r("/login")),T.response?.status===403&&ge.error("You are not authorized to perform this action")}}),ht=T=>{ke(T),re(L=>({...L,headings:T}))},Jt="blogDrafts_beforeunload_fallback",Pt=async()=>{try{const T=await la.getItem(Z),L=Array.isArray(T)?T:[];qe(L);const I=localStorage.getItem(Jt);if(I){try{const J=JSON.parse(I);J&&typeof J=="object"&&Qt(J)}catch{}localStorage.removeItem(Jt)}}catch{}},an=async T=>{try{await la.setItem(Z,T)}catch(L){console.error("Persist drafts failed",L),ge.error("Could not save drafts locally")}},Qt=async T=>{qe(L=>{const I=L.findIndex(ie=>ie.id===T.id);let J=[...L];const he=new Date().toISOString();if(I>=0)J[I]={...L[I],...T,updatedAt:he};else{const ie=T.slug?L.findIndex(Ie=>Ie.slug===T.slug&&Ie.slug):-1;ie>=0?J[ie]={...L[ie],...T,id:L[ie].id,updatedAt:he}:J.push({...T,updatedAt:he})}return J.length>20&&(J=J.slice().sort((ie,Ie)=>new Date(Ie.updatedAt)-new Date(ie.updatedAt)).slice(0,20)),an(J),J})},Ne=async T=>{qe(L=>{const I=L.filter(J=>J.id!==T);return an(I),I}),at===T&&bt(null)},ot=async T=>{T&&qe(L=>{const I=L.filter(J=>J.slug!==T);return an(I),I})};j.useEffect(()=>{Pt()},[]);const pt=()=>{if(!($.title&&$.title.trim()!==""||$.content&&$.content.trim()!==""))return null;let L=at;if(!L&&$.slug){const I=Ve.find(J=>J.slug===$.slug);I&&(L=I.id)}return{id:L||`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,title:$.title,slug:$.slug,category:$.category,is_active:$.is_active,mark_as_hero:$.mark_as_hero,content:$.content,cover_photo_meta:$.cover_photo?{name:$.cover_photo.name,type:$.cover_photo.type,size:$.cover_photo.size}:null,tags:$.tags,headings:$.headings}},pe=()=>{const T=pt();T&&(bt(T.id),Qt(T),ge.success("Draft saved locally"))},mt=T=>{re({title:T.title||"",slug:T.slug||"",category:T.category||"news",is_active:T.is_active??!0,mark_as_hero:T.mark_as_hero??!1,content:T.content||"",cover_photo:null,tags:T.tags||[],headings:T.headings||[]}),ke(T.headings||[]),ye(!0),bt(T.id),M(!0),ge("Draft loaded")},Lt=j.useRef(null);j.useEffect(()=>{if(D){Lt.current=setInterval(()=>{const L=pt();L&&(bt(I=>I||L.id),Qt(L))},5e3);const T=()=>{const L=pt();if(L){Qt(L);try{localStorage.setItem(Jt,JSON.stringify(L))}catch{}}};return window.addEventListener("beforeunload",T),()=>{Lt.current&&clearInterval(Lt.current),window.removeEventListener("beforeunload",T)}}else Lt.current&&clearInterval(Lt.current)},[D,$]);const rt=T=>{W(T),de(L=>({...L,headings:T}))},Te=T=>T.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),lt=(T,L)=>{m(I=>({...I,[T]:L})),x(1)},{data:jt,isLoading:Et}=Cn({queryKey:["currentUser"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")} `}})}),kt=async(T,L)=>{k(T);try{await Ge.patch(`https://nexus-consults.com/api/public/api/admin/blogs/${T}/toggle-active`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ge.success(`Blog ${L?"deactivated":"activated"} successfully`,{duration:2e3}),n()}catch(I){ge.error(I.response?.data?.message||"An unexpected error occurred",{duration:3e3}),I.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),I.response?.status==403&&(ge.error("You are not authorized to view this page"),r("/home"))}finally{k(null)}},en=T=>{be(T),F(!0)},Nn=async()=>{if(ee){C(ee),F(!1);try{await Ge.delete(`https://nexus-consults.com/api/public/api/admin/blogs/${ee}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ge.success("Blog deleted successfully",{duration:2e3}),n()}catch(T){ge.error(T.response?.data?.message||"An unexpected error occurred",{duration:3e3}),T.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),T.response?.status==403&&(ge.error("You are not authorized to view this page"),r("/home"))}finally{C(null),be(null)}}},Q=T=>{const{name:L,value:I,type:J,checked:he,files:ie}=T.target;if(re(J==="file"?Ie=>({...Ie,[L]:ie[0]}):Ie=>({...Ie,[L]:J==="checkbox"?he:I})),L==="title"&&!oe){const Ie=Te(I);re(Je=>({...Je,slug:Ie}))}},me=T=>{const{value:L}=T.target;re(I=>({...I,slug:L})),ye(!0)},je=()=>{const T=Te($.title);re(L=>({...L,slug:T})),ye(!1)},$e=T=>{const{name:L,value:I,type:J,checked:he,files:ie}=T.target;if(de(J==="file"?Ie=>({...Ie,[L]:ie[0]}):Ie=>({...Ie,[L]:J==="checkbox"?he:I})),L==="title"&&!Fe){const Ie=Te(I);de(Je=>({...Je,slug:Ie}))}},Xe=T=>{const{value:L}=T.target;de(I=>({...I,slug:L})),U(!0)},vt=()=>{const T=Te(B.title);de(L=>({...L,slug:T})),U(!1)},At=T=>{re(L=>({...L,tags:T.value}))},ct=T=>{de(L=>({...L,tags:T.value}))},Ct=()=>{re({title:"",slug:"",category:"news",is_active:!0,mark_as_hero:!0,content:"",cover_photo:null,tags:[],headings:[]}),ke([]),ye(!1)},gt=T=>{de({id:T.id,title:T.title,slug:T.slug,category:T.category,is_active:T.is_active,mark_as_hero:T.mark_as_hero,content:T.content,cover_photo:null,existing_cover_photo:T.cover_photo,tags:T.tags||[],headings:T.headings||[]}),W(T.headings||[]),U(!0),A(!0)},Ot=async T=>{T.preventDefault(),ae(!0);try{const L=new FormData;L.append("title",$.title),L.append("slug",$.slug),L.append("category",$.category),L.append("is_active",$.is_active?1:0),L.append("mark_as_hero",$.mark_as_hero?1:0),L.append("content",$.content),L.append("headings",JSON.stringify($.headings)),$.tags.forEach(I=>{L.append("tags[]",I)}),$.cover_photo&&L.append("cover_photo",$.cover_photo),await Ge.post("https://nexus-consults.com/api/public/api/admin/blogs",L,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}}),ae(!1),ge.success("Blog added successfully",{duration:2e3}),M(!1),Ct(),n(),ot($.slug),bt(null)}catch(L){ae(!1),ge.error(L.response?.data?.message||"An unexpected error occurred",{duration:3e3}),L.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),L.response?.status==403&&(ge.error("You are not authorized to view this page"),r("/home"))}},G=async T=>{T.preventDefault(),tt.current&&clearInterval(tt.current),ae(!0);try{const L=new FormData;L.append("title",B.title),L.append("slug",B.slug),L.append("category",B.category),L.append("is_active",B.is_active?1:0),L.append("mark_as_hero",B.mark_as_hero?1:0),L.append("content",B.content),L.append("headings",JSON.stringify(B.headings)),B.tags.forEach(I=>{L.append("tags[]",I)}),L.append("_method","put"),B.cover_photo&&L.append("cover_photo",B.cover_photo),await Ge.post(`https://nexus-consults.com/api/public/api/admin/blogs/${B.id}`,L,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}}),ae(!1),ge.success("Blog updated successfully",{duration:2e3}),A(!1),n()}catch(L){ae(!1),ge.error(L.response?.data?.message||"An unexpected error occurred",{duration:3e3}),L.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),L.response?.status==403&&(ge.error("You are not authorized to view this page"),r("/home"))}},Re=async()=>{if(!(ce||!B.title||!B.content)){ae(!0);try{const T=new FormData;T.append("title",B.title),T.append("slug",B.slug),T.append("category",B.category),T.append("is_active",B.is_active?1:0),T.append("mark_as_hero",B.mark_as_hero?1:0),T.append("content",B.content),T.append("headings",JSON.stringify(B.headings)),B.tags.forEach(L=>{T.append("tags[]",L)}),T.append("_method","POST"),B.cover_photo&&T.append("cover_photo",B.cover_photo),await Ge.post(`https://nexus-consults.com/api/public/api/admin/blogs/${B.id}`,T,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}}),ge.success("Auto-saved successfully",{duration:2e3,icon:""})}catch(T){console.error("Auto-save failed:",T)}finally{ae(!1)}}},tt=j.useRef(null);j.useEffect(()=>(E?tt.current=setInterval(()=>{Re()},3e4):tt.current&&clearInterval(tt.current),()=>{tt.current&&clearInterval(tt.current)}),[E,B]);const yt=T=>{const{name:L,value:I}=T.target;Oe(J=>({...J,[L]:I}))},Wt=T=>{T.preventDefault(),Ye?we.mutate(Pe):V.mutate(Pe)},Dt=T=>{Me(T.id),Oe({question:T.question,answer:T.answer,order:T.order})},zt=()=>{Me(null),Oe({question:"",answer:"",order:""})},Xn=T=>{Nt(T),Ze(!0)},On=()=>{St&&(et.mutate(St),Ze(!1),Nt(null))},bn=t?.filter(T=>{const L=p.global===""||T.title.toLowerCase().includes(p.global.toLowerCase())||T.category.toLowerCase().includes(p.global.toLowerCase())||(T.author?.name?T.author.name.toLowerCase().includes(p.global.toLowerCase()):!1),I=p.title===""||T.title.toLowerCase().includes(p.title.toLowerCase()),J=p.category===""||T.category.includes(p.category.toLowerCase()),he=p.status===""||(p.status==="active"?T.is_active:!T.is_active),ie=p.author===""||(T.author?.name?T.author.name.toLowerCase().includes(p.author.toLowerCase()):!1);let Ie=!0;if(T.created_at){const Je=new Date(T.created_at);if(p.created_from){const Qe=new Date(`${p.created_from}T00:00:00`);Je<Qe&&(Ie=!1)}if(Ie&&p.created_to){const Qe=new Date(`${p.created_to}T23:59:59.999`);Je>Qe&&(Ie=!1)}}return L&&I&&J&&he&&ie&&Ie})||[],jn=Math.ceil(bn.length/b),gr=bn.slice((y-1)*b,y*b),Jn=T=>{const L={news:"bg-blue-100 text-blue-800",trending:"bg-pink-100 text-pink-800"};return u.jsx("span",{className:`${L[T]||"bg-gray-100 text-gray-800"} text-xs font-medium px-2.5 py-1 rounded capitalize`,children:T})},Y=T=>{const L=T?"bg-[#009379] text-white":"bg-[#930002] text-white";return u.jsx("span",{className:`flex justify-center w-fit items-center px-2.5 py-1 rounded-md text-xs font-medium ${L} min-w-16 text-center`,children:T?"Active":"Inactive"})},Se=()=>jn<=1?null:u.jsxs("div",{className:"flex justify-between items-center mt-4 px-4 pb-1",children:[u.jsxs("div",{className:"text-xs",children:["Showing ",(y-1)*b+1,"-",Math.min(y*b,bn.length)," of ",bn.length," entries"]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:()=>x(1),disabled:y===1,className:"p-1 disabled:opacity-50",children:u.jsx(Qo,{className:"h-4 w-4"})}),u.jsxs("span",{className:"px-3 py-1",children:["Page ",y," of ",jn]}),u.jsx("button",{onClick:()=>x(T=>Math.min(jn,T+1)),disabled:y===jn,className:"p-1 disabled:opacity-50",children:u.jsx(Zo,{className:"h-4 w-4"})})]})]}),_=({blog:T,onClose:L})=>T?u.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:u.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[u.jsx("div",{className:"fixed inset-0 transition-opacity",onClick:L,children:u.jsx("div",{className:"absolute inset-0 bg-black opacity-75"})}),u.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-5xl m-auto sm:w-full max-h-[90vh] flex flex-col",children:[u.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4 flex-grow overflow-y-auto",children:[u.jsxs("div",{className:"sm:flex sm:items-start justify-between",children:[u.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Blog Preview"}),u.jsx("button",{onClick:L,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:u.jsx(lJ,{className:"h-6 w-6"})})]}),u.jsxs("div",{className:"content-container",children:[u.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 mb-12",children:[u.jsxs("div",{className:"lg:w-1/2 font-bold",children:[u.jsx("span",{className:"text-blue-600 capitalize",children:T.category}),u.jsx("h1",{className:"lg:text-[54px] text-3xl font-extrabold lg:leading-[67px]",children:T.title}),u.jsxs("div",{className:"mt-5",children:[u.jsx("p",{children:"By Admin"}),u.jsxs("div",{className:"flex gap-2 items-center text-sm font-medium mt-3",children:[u.jsx("p",{children:"5 minutes read"}),u.jsx("div",{className:"h-full w-[1px] bg-gray-400"}),u.jsxs("p",{children:["Published ",new Date(T.created_at).toLocaleDateString()]})]})]})]}),u.jsx("div",{className:"lg:w-1/2",children:T.cover_photo&&u.jsx("div",{className:"flex justify-center",children:u.jsx("img",{src:T.cover_photo,alt:"cover photo",className:"w-full max-h-[500px] object-contain rounded-lg"})})})]}),u.jsx("div",{className:"content",dangerouslySetInnerHTML:{__html:T.content}}),T.tags&&T.tags.length>0&&u.jsx("div",{className:"flex flex-wrap gap-3 mt-8",children:T.tags.map((I,J)=>u.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-800 text-sm rounded-full",children:I},J))})]})]}),u.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:u.jsx("button",{type:"button",onClick:L,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",children:"Close Preview"})})]})]})}):null,K=(T,L)=>{i(L?I=>[...I,T]:I=>I.filter(J=>J!==T))},R=T=>{T?(i(bn.map(L=>L.id)),l(!0)):(i([]),l(!1))},[q,ne]=j.useState(!1),_e=async()=>{s.length&&ne(!0)},ft=async()=>{ne(!1);try{f(!0),await Ge.post("https://nexus-consults.com/api/public/api/admin/blogs/bulk/delete",{ids:s},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ge.success(`${s.length} blog(s) deleted successfully`),i([]),l(!1),n()}catch(T){console.error("Error deleting blogs:",T),ge.error(T.response?.data?.message||"Failed to delete blogs")}finally{f(!1)}},tn=async T=>{if(s.length)try{f(!0),await Ge.post("https://nexus-consults.com/api/public/api/admin/blogs/bulk/update-status",{ids:s,status:T},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ge.success(`Status updated for ${s.length} blog(s)`),i([]),l(!1),n()}catch(L){console.error("Error updating blog status:",L),ge.error(L.response?.data?.message||"Failed to update blog status")}finally{f(!1)}};return u.jsxs("div",{className:"shadow-2xl rounded-2xl overflow-hidden bg-white",children:[u.jsxs("div",{className:"p-4 border-b flex justify-between items-center gap-4",children:[u.jsx("input",{type:"text",value:p.global,onChange:T=>lt("global",T.target.value),placeholder:"Search blogs...",className:"px-3 py-2 rounded-xl shadow-sm focus:outline-2 focus:outline-primary w-full border border-primary transition-all"}),u.jsxs("button",{onClick:()=>M(!0),className:"bg-primary hover:bg-darkBlue transition-all text-white px-3 py-2 rounded-xl shadow-sm min-w-max flex items-center gap-2",children:[u.jsx(Ar,{size:18}),u.jsx("span",{children:"Add Blog"})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:a&&bn.length>0,onChange:T=>R(T.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),u.jsx("span",{className:"ml-2",children:"Title"})]})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsx("input",{type:"text",value:p.author,onChange:T=>lt("author",T.target.value),placeholder:"Author",className:"text-xs p-1 border rounded w-full"})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cover Photo"}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsxs("select",{value:p.category,onChange:T=>lt("category",T.target.value),className:"text-xs p-1 border rounded w-full",children:[u.jsx("option",{value:"",children:"All Categories"}),u.jsx("option",{value:"news",children:"News"}),u.jsx("option",{value:"trending",children:"Trending"})]})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsxs("select",{value:p.status,onChange:T=>lt("status",T.target.value),className:"text-xs p-1 border rounded w-full",children:[u.jsx("option",{value:"",children:"All Statuses"}),u.jsx("option",{value:"active",children:"Active"}),u.jsx("option",{value:"inactive",children:"Inactive"})]})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsx(Lh,{initialRange:{startDate:p.created_from?new Date(`${p.created_from}T00:00:00`):null,endDate:p.created_to?new Date(`${p.created_to}T00:00:00`):null},onDateChange:({startDate:T,endDate:L})=>{const I=J=>{if(!(J instanceof Date)||isNaN(J))return"";const he=J.getFullYear(),ie=String(J.getMonth()+1).padStart(2,"0"),Ie=String(J.getDate()).padStart(2,"0");return`${he}-${ie}-${Ie}`};lt("created_from",T?I(T):""),lt("created_to",L?I(L):"")}})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:e?u.jsx("tr",{children:u.jsx("td",{colSpan:"8",className:"px-3 py-4 text-center",children:u.jsxs("div",{className:"flex justify-center items-center gap-2",children:[u.jsx(wt,{className:"animate-spin",size:18}),"Loading blogs..."]})})}):gr.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:"8",className:"px-3 py-4 text-center",children:"No blogs found"})}):gr.map(T=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:s.includes(T.id),onChange:L=>K(T.id,L.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),u.jsx("span",{className:"ml-2 text-sm font-medium text-gray-900",children:T.title})]})}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:T.author?.name||"-"}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:T.cover_photo&&u.jsx("img",{src:T.cover_photo,alt:"Cover",className:"h-10 w-10 object-cover rounded"})}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Jn(T.category)}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Y(T.is_active)}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:T.created_at?new Date(T.created_at).toLocaleDateString():"-"}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center gap-2",children:[jt?.data?.data?.admin?.permissions?.includes("edit_blogs")&&u.jsx("button",{className:"text-blue-500 hover:text-blue-700 p-1",onClick:()=>gt(T),children:u.jsx(ki,{size:18})}),jt?.data?.data?.admin?.permissions?.includes("edit_blogs")&&u.jsx("button",{className:`${T.is_active?"text-green-500 hover:text-green-700":"text-red-500 hover:text-red-700"} p-1`,onClick:()=>kt(T.id,T.is_active),disabled:N===T.id,children:N===T.id?u.jsx(wt,{className:"animate-spin",size:18}):T.is_active?u.jsx(Pr,{}):u.jsx($t,{})}),jt?.data?.data?.admin?.permissions?.includes("delete_blogs")&&u.jsx("button",{className:"text-red-500 hover:text-red-700 p-1",onClick:()=>en(T.id),disabled:S===T.id,title:"Delete",children:S===T.id?u.jsx(wt,{className:"animate-spin",size:18}):u.jsx(Vn,{size:18})}),u.jsx("button",{className:"text-green-500 hover:text-green-700 p-1",onClick:()=>nt(T),title:"Preview Blog",children:u.jsx(wu,{size:18})})]})})]},T.id))})]})}),q&&u.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:"bg-white rounded-lg p-6 max-w-md w-full",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Deletion"}),u.jsx("button",{onClick:()=>ne(!1),className:"text-gray-500 hover:text-gray-700",children:u.jsx($t,{})})]}),u.jsxs("p",{className:"text-gray-700 mb-6",children:["Are you sure you want to delete ",s.length," selected blog(s)? This action cannot be undone."]}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx("button",{onClick:()=>ne(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:d,children:"Cancel"}),u.jsx("button",{onClick:ft,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 flex items-center",disabled:d,children:d?u.jsxs(u.Fragment,{children:[u.jsx(wt,{className:"animate-spin mr-2"}),"Deleting..."]}):"Delete"})]})]})}),s.length>0&&u.jsx("div",{className:"bg-blue-50 p-4 rounded-md mb-6 border border-blue-200",children:u.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[u.jsxs("div",{className:"text-blue-800 font-medium",children:[s.length," blog(s) selected"]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs("button",{onClick:()=>tn(!0),disabled:d,className:"flex items-center px-3 py-1.5 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 text-sm",children:[u.jsx(Pr,{className:"mr-1.5"}),"Activate"]}),u.jsxs("button",{onClick:()=>tn(!1),disabled:d,className:"flex items-center px-3 py-1.5 bg-yellow-600 text-white rounded hover:bg-yellow-700 disabled:opacity-50 text-sm",children:[u.jsx($t,{className:"mr-1.5"}),"Deactivate"]}),u.jsxs("button",{onClick:_e,disabled:d,className:"flex items-center px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 text-sm",children:[u.jsx(Vn,{className:"mr-1.5"}),"Delete"]}),u.jsxs("button",{onClick:()=>{i([]),l(!1)},className:"flex items-center px-3 py-1.5 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 text-sm",children:[u.jsx($t,{className:"mr-1.5"}),"Clear Selection"]}),d&&u.jsxs("div",{className:"flex items-center",children:[u.jsx(wt,{className:"animate-spin mr-1.5"}),"Loading..."]})]})]})}),!e&&Se(),u.jsxs("div",{className:"p-4 border-t",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Drafts"}),u.jsx("div",{className:"text-xs text-gray-500",children:"Drafts are stored locally in your browser"})]}),Ve.length===0?u.jsx("div",{className:"text-sm text-gray-500",children:"No drafts yet"}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full divide-y divide-gray-200 text-sm",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-2 text-left",children:"Title"}),u.jsx("th",{className:"px-4 py-2 text-left",children:"Category"}),u.jsx("th",{className:"px-4 py-2 text-left",children:"Updated"}),u.jsx("th",{className:"px-4 py-2 text-left",children:"Note"}),u.jsx("th",{className:"px-4 py-2 text-left",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-200",children:Ve.slice().sort((T,L)=>new Date(L.updatedAt)-new Date(T.updatedAt)).map(T=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-2",children:T.title||u.jsx("span",{className:"italic text-gray-400",children:"Untitled"})}),u.jsx("td",{className:"px-4 py-2 capitalize",children:T.category||"-"}),u.jsx("td",{className:"px-4 py-2",children:new Date(T.updatedAt).toLocaleString()}),u.jsx("td",{className:"px-4 py-2 text-xs text-gray-500",children:T.cover_photo_meta?`Attachment: ${T.cover_photo_meta.name} (re-attach required)`:"No attachment"}),u.jsx("td",{className:"px-4 py-2",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-1",onClick:()=>mt(T),children:[u.jsx(Ah,{})," Resume"]}),u.jsx("button",{className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",onClick:()=>Ne(T.id),children:"Delete"})]})})]},T.id))})]})})]}),D&&u.jsxs(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 ",children:[u.jsx("button",{onClick:()=>{M(!1);const T=pt();T&&Qt(T)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:u.jsx(ns,{className:"",size:40})}),u.jsxs(Tt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-5/6  h-[90vh] overflow-y-auto",onClick:T=>T.stopPropagation(),children:[u.jsx("div",{className:""}),u.jsxs("div",{className:"p-6",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New Blog"}),u.jsxs("form",{onSubmit:Ot,children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title*"}),u.jsx("input",{type:"text",name:"title",value:$.title,onChange:Q,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category*"}),u.jsxs("select",{name:"category",value:$.category,onChange:Q,className:"w-full px-3 py-2 border rounded-md",required:!0,children:[u.jsx("option",{value:"news",children:"News"}),u.jsx("option",{value:"trending",children:"Trending"})]})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug*"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",name:"slug",value:$.slug,onChange:me,className:"w-full px-3 py-2 border rounded-md",required:!0}),oe&&u.jsx("button",{type:"button",onClick:je,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",title:"Reset to auto-generated slug",children:u.jsx($t,{})})]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:oe?"Slug is manually edited. Click the X to reset to auto-generated.":"Slug is auto-generated from title. You can edit it manually."})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cover Photo"}),$.cover_photo?u.jsxs("div",{className:"relative mb-4",children:[u.jsx("img",{src:URL.createObjectURL($.cover_photo),alt:"Preview",className:"h-48 w-full object-cover rounded-lg"}),u.jsx("button",{type:"button",onClick:()=>re(T=>({...T,cover_photo:null})),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2",children:u.jsx($t,{size:16})})]}):u.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[u.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[u.jsx(sa,{className:"w-8 h-8 mb-3 text-gray-400"}),u.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[u.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),u.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, JPEG (MAX. 5MB)"})]}),u.jsx("input",{id:"cover_photo",name:"cover_photo",type:"file",className:"hidden",onChange:Q,accept:"image/*"})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:$.is_active,onChange:Q,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700",children:"Active"})]})}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium mb-1",children:"Tags"}),u.jsx(yw,{id:"tags",name:"tags",value:$.tags,onChange:At,placeholder:"Enter tags",className:"w-full p-chips dark:bg-dark2",itemTemplate:T=>u.jsx("div",{className:"bg-gray-200 dark:bg-dark1 rounded-full px-3 py-1 text-sm",children:T})})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content*"}),u.jsx(ui,{content:$.content,onUpdate:T=>re(L=>({...L,content:T})),onHeadingsUpdate:ht})]}),u.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[u.jsxs("div",{className:"text-xs text-gray-500 mt-2 flex items-center",children:[u.jsx(wt,{className:`animate-spin mr-1 ${ce?"opacity-100":"opacity-0"}`,size:12}),"Auto-saves to drafts every 10s"]}),u.jsxs("button",{type:"button",onClick:pe,className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[u.jsx(Fu,{size:16})," Save as Draft"]}),u.jsx("button",{type:"button",onClick:()=>{const T=pt();T&&Qt(T),M(!1),Ct()},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:ce,children:ce?u.jsxs(u.Fragment,{children:[u.jsx(wt,{className:"animate-spin",size:18}),u.jsx("span",{children:"Adding..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Ar,{size:18}),u.jsx("span",{children:"Add Blog"})]})})]})]})]})]})]}),E&&u.jsxs(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[u.jsx("button",{onClick:()=>{A(!1)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:u.jsx(ns,{className:"",size:40})}),u.jsx(Tt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-5/6 h-[90vh] overflow-y-auto",onClick:T=>T.stopPropagation(),children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center mb-4",children:[u.jsx("button",{type:"button",onClick:()=>A(!1),className:"text-blue-600 hover:text-blue-800 font-medium",children:"Blogs"}),u.jsx("span",{className:"mx-2 text-gray-400",children:">"}),u.jsx("span",{className:"text-xl font-bold text-gray-900",children:B.title||"Untitled Blog"})]}),u.jsxs("form",{onSubmit:G,children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title*"}),u.jsx("input",{type:"text",name:"title",value:B.title,onChange:$e,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category*"}),u.jsxs("select",{name:"category",value:B.category,onChange:$e,className:"w-full px-3 py-2 border rounded-md",required:!0,children:[u.jsx("option",{value:"news",children:"News"}),u.jsx("option",{value:"trending",children:"Trending"})]})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug*"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",name:"slug",value:B.slug,onChange:Xe,className:"w-full px-3 py-2 border rounded-md",required:!0}),Fe&&u.jsx("button",{type:"button",onClick:vt,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",title:"Reset to auto-generated slug",children:u.jsx($t,{})})]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Fe?"Slug is manually edited. Click the X to reset to auto-generated.":"Slug is auto-generated from title. You can edit it manually."})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cover Photo"}),B.cover_photo?u.jsxs("div",{className:"relative mb-4",children:[u.jsx("img",{src:URL.createObjectURL(B.cover_photo),alt:"Preview",className:"h-48 w-full object-cover rounded-lg"}),u.jsx("button",{type:"button",onClick:()=>de(T=>({...T,cover_photo:null})),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2",children:u.jsx($t,{size:16})})]}):B.existing_cover_photo?u.jsxs("div",{className:"relative mb-4",children:[u.jsx("img",{src:B.existing_cover_photo,alt:"Current Cover",className:"h-48 w-full object-cover rounded-lg"}),u.jsx("button",{type:"button",onClick:()=>de(T=>({...T,existing_cover_photo:null})),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2",children:u.jsx($t,{size:16})})]}):u.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[u.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[u.jsx(sa,{className:"w-8 h-8 mb-3 text-gray-400"}),u.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[u.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),u.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, JPEG (MAX. 5MB)"})]}),u.jsx("input",{id:"edit_cover_photo",name:"cover_photo",type:"file",className:"hidden",onChange:$e,accept:"image/*"})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"edit_is_active",name:"is_active",checked:B.is_active,onChange:$e,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsx("label",{htmlFor:"edit_is_active",className:"ml-2 text-sm text-gray-700",children:"Active"})]})}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium mb-1",children:"tags"}),u.jsx(yw,{id:"tags",name:"tags",value:B.tags,onChange:ct,placeholder:"Enter tags",className:"w-full p-chips dark:bg-dark2",itemTemplate:T=>u.jsx("div",{className:"bg-gray-200 dark:bg-dark1 rounded-full px-3 py-1 text-sm",children:T})})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content"}),u.jsx(ui,{content:B.content,onUpdate:T=>de(L=>({...L,content:T})),onHeadingsUpdate:rt})]}),u.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[u.jsxs("div",{className:"text-xs text-gray-500 mt-2 flex items-center",children:[u.jsx(wt,{className:`animate-spin mr-1 ${ce?"opacity-100":"opacity-0"}`,size:12}),ce?"Auto-saving...":"Form will auto-save every 30 seconds"]}),u.jsx("button",{type:"button",onClick:()=>{A(!1),n()},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:ce,children:ce?u.jsxs(u.Fragment,{children:[u.jsx(wt,{className:"animate-spin",size:18}),u.jsx("span",{children:"Updating..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Pr,{size:18}),u.jsx("span",{children:"Update Blog"})]})})]})]})]})})]}),P&&u.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>F(!1),children:u.jsx(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:T=>T.stopPropagation(),children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-start",children:[u.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:u.jsx(Vn,{className:"h-5 w-5 text-red-600"})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Blog"}),u.jsx("div",{className:"mt-2",children:u.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this blog? This action cannot be undone."})})]})]}),u.jsxs("div",{className:"mt-5 flex justify-end gap-3",children:[u.jsx("button",{type:"button",onClick:()=>F(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),u.jsx("button",{type:"button",onClick:Nn,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})})}),ue&&u.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>{se(!1),Ee(null),Me(null),Oe({question:"",answer:"",order:""})},children:u.jsx(Tt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",onClick:T=>T.stopPropagation(),children:u.jsxs("div",{className:"p-6",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Manage FAQs"}),u.jsxs("form",{onSubmit:Wt,className:"mb-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question*"}),u.jsx("input",{type:"text",name:"question",value:Pe.question,onChange:yt,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order*"}),u.jsx("input",{type:"number",name:"order",value:Pe.order,onChange:yt,className:"w-full px-3 py-2 border rounded-md",required:!0})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Answer*"}),u.jsx("textarea",{name:"answer",value:Pe.answer,onChange:yt,className:"w-full px-3 py-2 border rounded-md",rows:"3",required:!0})]}),u.jsxs("div",{className:"flex justify-end gap-3",children:[Ye&&u.jsx("button",{type:"button",onClick:zt,className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:V.isPending||we.isPending,children:V.isPending||we.isPending?u.jsxs(u.Fragment,{children:[u.jsx(wt,{className:"animate-spin",size:18}),u.jsx("span",{children:Ye?"Updating...":"Adding..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Pr,{size:18}),u.jsx("span",{children:Ye?"Update FAQ":"Add FAQ"})]})})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-medium mb-2",children:"Existing FAQs"}),xe?.length===0?u.jsx("p",{className:"text-gray-500",children:"No FAQs found for this blog."}):u.jsx("div",{className:"space-y-4",children:xe?.map(T=>u.jsx("div",{className:"border rounded-lg p-4",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium",children:T.question}),u.jsx("p",{className:"text-sm text-gray-600 mt-1",children:T.answer}),u.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Order: ",T.order]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>Dt(T),className:"text-blue-500 hover:text-blue-700 p-1",children:u.jsx(ki,{size:16})}),u.jsx("button",{onClick:()=>Xn(T.id),className:"text-red-500 hover:text-red-700 p-1",disabled:et.isPending,children:et.isPending&&et.variables===T.id?u.jsx(wt,{className:"animate-spin",size:16}):u.jsx(Vn,{size:16})})]})]})},T.id))})]}),u.jsx("div",{className:"flex justify-end mt-6",children:u.jsx("button",{type:"button",onClick:()=>{se(!1),Ee(null),Me(null),Oe({question:"",answer:"",order:""})},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Close"})})]})})}),ut&&u.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>Ze(!1),children:u.jsx(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:T=>T.stopPropagation(),children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-start",children:[u.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:u.jsx(Vn,{className:"h-5 w-5 text-red-600"})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete FAQ"}),u.jsx("div",{className:"mt-2",children:u.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this FAQ? This action cannot be undone."})})]})]}),u.jsxs("div",{className:"mt-5 flex justify-end gap-3",children:[u.jsx("button",{type:"button",onClick:()=>Ze(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),u.jsx("button",{type:"button",onClick:On,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",disabled:et.isPending,children:et.isPending?u.jsxs(u.Fragment,{children:[u.jsx(wt,{className:"animate-spin mr-2"}),"Deleting..."]}):"Delete"})]})]})})}),u.jsx(mW,{children:Ft&&u.jsx(_,{blog:Ft,onClose:()=>nt(null)})})]})}function Mle(){const t=Hn();function e(){return Ge.get("https://nexus-consults.com/api/public/api/admin/blogs",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}const{data:n,isLoading:r,refetch:s,isError:i,error:a}=Cn({queryKey:["blogs"],queryFn:e});return j.useEffect(()=>{i&&(a.response?.status==401&&(localStorage.removeItem("userToken"),t("/login")),a.response?.status==403&&(ge.error("You are not authorized to view this page"),t("/home")))},[i]),u.jsxs("div",{className:"p-4",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Blogs"}),u.jsx(Dle,{blogs:n?.data?.data||[],loading:r,refetch:s})]})}function Rle({jobs:t,loading:e,refetch:n}){const r=Hn(),s=Li(),[i,a]=j.useState([]),[l,d]=j.useState(!1),[f,p]=j.useState(!1),[m,y]=j.useState({global:"",title:"",location:"",type:"",status:"",author:"",created_from:"",created_to:""}),[x,b]=j.useState(1),[S]=j.useState(10),[C,N]=j.useState(null),[k,D]=j.useState(null),[M,E]=j.useState(!1),[A,P]=j.useState(!1),[F,ee]=j.useState(!1),[be,ce]=j.useState(null),[ae,te]=j.useState(!1),[ke,ze]=j.useState(!1),[W,oe]=j.useState(!1),[ye,Fe]=j.useState(null),U="jobDrafts",[ue,se]=j.useState([]),[fe,Ee]=j.useState(null),[Pe,Oe]=j.useState({title:"",slug:"",location:"",type:"full-time",key_responsibilities:"",preferred_qualifications:"",is_active:!0}),[Ye,Me]=j.useState({id:null,title:"",slug:"",location:"",type:"full-time",key_responsibilities:"",preferred_qualifications:"",is_active:!0}),ut=[{value:"full-time",label:"Full Time"},{value:"part-time",label:"Part Time"},{value:"contract",label:"Contract"},{value:"freelance",label:"Freelance"},{value:"internship",label:"Internship"}],{data:Ze,isLoading:St}=Cn({queryKey:["currentUser"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}),{data:Nt,isLoading:Ft,refetch:nt}=Cn({queryKey:["job",ye],queryFn:()=>ye?Ge.get(`https://nexus-consults.com/api/public/api/admin/jobs/${ye}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}).then(G=>G.data.data):Promise.resolve(null),enabled:!!ye,staleTime:5*60*1e3}),Z="jobDrafts_beforeunload_fallback",Ve=async()=>{try{const G=await la.getItem(U),Re=Array.isArray(G)?G:[];se(Re);const tt=localStorage.getItem(Z);if(tt){try{const yt=JSON.parse(tt);yt&&typeof yt=="object"&&at(yt)}catch{}localStorage.removeItem(Z)}}catch{}},qe=async G=>{try{await la.setItem(U,G)}catch(Re){console.error("Persist drafts failed",Re),ge.error("Could not save drafts locally")}},at=async G=>{se(Re=>{const tt=Re.findIndex(Dt=>Dt.id===G.id);let yt=[...Re];const Wt=new Date().toISOString();if(tt>=0)yt[tt]={...Re[tt],...G,updatedAt:Wt};else{const Dt=G.slug?Re.findIndex(zt=>zt.slug===G.slug&&zt.slug):-1;Dt>=0?yt[Dt]={...Re[Dt],...G,id:Re[Dt].id,updatedAt:Wt}:yt.push({...G,updatedAt:Wt})}return yt.length>20&&(yt=yt.slice().sort((Dt,zt)=>new Date(zt.updatedAt)-new Date(Dt.updatedAt)).slice(0,20)),qe(yt),yt})},bt=async G=>{se(Re=>{const tt=Re.filter(yt=>yt.id!==G);return qe(tt),tt}),fe===G&&Ee(null)},$=async G=>{G&&se(Re=>{const tt=Re.filter(yt=>yt.slug!==G);return qe(tt),tt})};j.useEffect(()=>{Ve()},[]);const re=()=>{if(!(Pe.title&&Pe.title.trim()!==""||Pe.key_responsibilities&&Pe.key_responsibilities.trim()!==""||Pe.preferred_qualifications&&Pe.preferred_qualifications.trim()!==""))return null;let Re=fe;if(!Re&&Pe.slug){const tt=ue.find(yt=>yt.slug===Pe.slug);tt&&(Re=tt.id)}return{id:Re||`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,title:Pe.title,slug:Pe.slug,location:Pe.location,type:Pe.type,key_responsibilities:Pe.key_responsibilities,preferred_qualifications:Pe.preferred_qualifications,is_active:Pe.is_active}},B=()=>{const G=re();G&&(Ee(G.id),at(G),ge.success("Draft saved locally"))},de=G=>{Oe({title:G.title||"",slug:G.slug||"",location:G.location||"",type:G.type||"full-time",key_responsibilities:G.key_responsibilities||"",preferred_qualifications:G.preferred_qualifications||"",is_active:G.is_active??!0}),ze(!0),E(!0),ge("Draft loaded")},xe=j.useRef(null),H=j.useRef("");j.useEffect(()=>{if(M){xe.current=setInterval(()=>{const Re=re();if(Re){const tt=JSON.stringify({title:Re.title,location:Re.location,type:Re.type,key_responsibilities:Re.key_responsibilities,preferred_qualifications:Re.preferred_qualifications});tt!==H.current&&(Ee(yt=>yt||Re.id),at(Re),H.current=tt)}},5e3);const G=()=>{const Re=re();if(Re){at(Re);try{localStorage.setItem(Z,JSON.stringify(Re))}catch{}}};return window.addEventListener("beforeunload",G),()=>{xe.current&&clearInterval(xe.current),window.removeEventListener("beforeunload",G)}}else xe.current&&clearInterval(xe.current),H.current=""},[M]);const V=G=>G.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),we=(G,Re)=>{y(tt=>({...tt,[G]:Re})),b(1)},et=async(G,Re)=>{D(G);try{await Ge.patch(`https://nexus-consults.com/api/public/api/admin/jobs/${G}/toggle-active`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ge.success(`Job ${Re?"deactivated":"activated"} successfully`,{duration:2e3}),n()}catch(tt){ge.error(tt.response?.data?.message||"An unexpected error occurred",{duration:3e3}),tt.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),tt.response?.status==403&&(ge.error("You are not authorized to view this page"),r("/home"))}finally{D(null)}},ht=G=>{ce(G),ee(!0)},Jt=async()=>{if(be){N(be),ee(!1);try{await Ge.delete(`https://nexus-consults.com/api/public/api/admin/jobs/${be}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ge.success("Job deleted successfully",{duration:2e3}),n()}catch(G){ge.error(G.response?.data?.message||"An unexpected error occurred",{duration:3e3}),G.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),G.response?.status==403&&(ge.error("You are not authorized to view this page"),r("/home"))}finally{N(null),ce(null)}}},Pt=G=>{const{name:Re,value:tt,type:yt,checked:Wt}=G.target;if(Oe(Dt=>({...Dt,[Re]:yt==="checkbox"?Wt:tt})),Re==="title"&&!ke){const Dt=V(tt);Oe(zt=>({...zt,slug:Dt}))}},an=G=>{const{value:Re}=G.target;Oe(tt=>({...tt,slug:Re})),ze(!0)},Qt=()=>{const G=V(Pe.title);Oe(Re=>({...Re,slug:G})),ze(!1)},Ne=G=>{const{name:Re,value:tt,type:yt,checked:Wt}=G.target;if(Me(Dt=>({...Dt,[Re]:yt==="checkbox"?Wt:tt})),Re==="title"&&!W){const Dt=V(tt);Me(zt=>({...zt,slug:Dt}))}},ot=G=>{const{value:Re}=G.target;Me(tt=>({...tt,slug:Re})),oe(!0)},pt=()=>{const G=V(Ye.title);Me(Re=>({...Re,slug:G})),oe(!1)},pe=G=>{Oe(Re=>({...Re,key_responsibilities:G}))},mt=G=>{Oe(Re=>({...Re,preferred_qualifications:G}))},Lt=G=>{Me(Re=>({...Re,key_responsibilities:G}))},rt=G=>{Me(Re=>({...Re,preferred_qualifications:G}))},Te=()=>{Oe({title:"",slug:"",location:"",type:"full-time",key_responsibilities:"",preferred_qualifications:"",is_active:!0}),ze(!1)},lt=G=>{Fe(G.id)};j.useEffect(()=>{Nt&&ye&&(Me({id:Nt.id,title:Nt.title,slug:Nt.slug,location:Nt.location,type:Nt.type,key_responsibilities:Nt.key_responsibilities,preferred_qualifications:Nt.preferred_qualifications,is_active:Nt.is_active}),oe(!0),P(!0))},[Nt,ye]);const jt=async G=>{G.preventDefault(),te(!0);try{await Ge.post("https://nexus-consults.com/api/public/api/admin/jobs",Pe,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"application/json"}}),te(!1),ge.success("Job added successfully",{duration:2e3}),E(!1),Te(),n(),$(Pe.slug),Ee(null)}catch(Re){te(!1),ge.error(Re.response?.data?.message||"An unexpected error occurred",{duration:3e3}),Re.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),Re.response?.status==403&&(ge.error("You are not authorized to view this page"),r("/home"))}},Et=async G=>{G.preventDefault(),te(!0);try{await Ge.post(`https://nexus-consults.com/api/public/api/admin/jobs/${Ye.id}`,Ye,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"application/json"}}),te(!1),ge.success("Job updated successfully",{duration:2e3}),P(!1),Fe(null),n(),s.invalidateQueries(["job",Ye.id])}catch(Re){te(!1),ge.error(Re.response?.data?.message||"An unexpected error occurred",{duration:3e3}),Re.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),Re.response?.status==403&&(ge.error("You are not authorized to view this page"),r("/home"))}},kt=t?.filter(G=>{const Re=m.global===""||G.title.toLowerCase().includes(m.global.toLowerCase())||G.location.toLowerCase().includes(m.global.toLowerCase())||(G.author?.name?G.author.name.toLowerCase().includes(m.global.toLowerCase()):!1),tt=m.title===""||G.title.toLowerCase().includes(m.title.toLowerCase()),yt=m.location===""||G.location.toLowerCase().includes(m.location.toLowerCase()),Wt=m.type===""||G.type===m.type,Dt=m.status===""||(m.status==="active"?G.is_active:!G.is_active),zt=m.author===""||(G.author?.name?G.author.name.toLowerCase().includes(m.author.toLowerCase()):!1);let Xn=!0;if(G.created_at){const On=new Date(G.created_at);if(m.created_from){const bn=new Date(`${m.created_from}T00:00:00`);On<bn&&(Xn=!1)}if(Xn&&m.created_to){const bn=new Date(`${m.created_to}T23:59:59.999`);On>bn&&(Xn=!1)}}return Re&&tt&&yt&&Wt&&Dt&&zt&&Xn})||[],en=Math.ceil(kt.length/S),Nn=kt.slice((x-1)*S,x*S),Q=G=>{const Re=G?"bg-[#009379] text-white":"bg-[#930002] text-white";return u.jsx("span",{className:`flex justify-center w-fit items-center px-2.5 py-1 rounded-md text-xs font-medium ${Re} min-w-16 text-center`,children:G?"Active":"Inactive"})},me=G=>{const tt={"full-time":{color:"bg-blue-100 text-blue-800",label:"Full Time"},"part-time":{color:"bg-green-100 text-green-800",label:"Part Time"},contract:{color:"bg-purple-100 text-purple-800",label:"Contract"},freelance:{color:"bg-orange-100 text-orange-800",label:"Freelance"},internship:{color:"bg-pink-100 text-pink-800",label:"Internship"}}[G]||{color:"bg-gray-100 text-gray-800",label:G};return u.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${tt.color}`,children:[u.jsx(UM,{className:"mr-1",size:10}),tt.label]})},je=G=>{const Re=G||0,tt=Re>0?"bg-green-100 text-green-800 border-green-200":"bg-gray-100 text-gray-600 border-gray-200";return u.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium border ${tt}`,children:[u.jsx(VM,{size:10}),Re]})},$e=()=>en<=1?null:u.jsxs("div",{className:"flex justify-between items-center mt-4 px-4 pb-1",children:[u.jsxs("div",{className:"text-xs",children:["Showing ",(x-1)*S+1,"-",Math.min(x*S,kt.length)," of ",kt.length," entries"]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:()=>b(1),disabled:x===1,className:"p-1 disabled:opacity-50",children:u.jsx(Qo,{className:"h-4 w-4"})}),u.jsxs("span",{className:"px-3 py-1",children:["Page ",x," of ",en]}),u.jsx("button",{onClick:()=>b(G=>Math.min(en,G+1)),disabled:x===en,className:"p-1 disabled:opacity-50",children:u.jsx(Zo,{className:"h-4 w-4"})})]})]}),Xe=(G,Re)=>{a(Re?tt=>[...tt,G]:tt=>tt.filter(yt=>yt!==G))},vt=G=>{G?(a(kt.map(Re=>Re.id)),d(!0)):(a([]),d(!1))},[At,ct]=j.useState(!1),Ct=async()=>{i.length&&ct(!0)},gt=async()=>{ct(!1);try{p(!0),await Ge.post("https://nexus-consults.com/api/public/api/admin/jobs/bulk/delete",{ids:i},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ge.success(`${i.length} job(s) deleted successfully`),a([]),d(!1),n()}catch(G){console.error("Error deleting jobs:",G),ge.error(G.response?.data?.message||"Failed to delete jobs")}finally{p(!1)}},Ot=async G=>{if(i.length)try{p(!0),await Ge.post("https://nexus-consults.com/api/public/api/admin/jobs/bulk/update-status",{ids:i,status:G},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ge.success(`Status updated for ${i.length} job(s)`),a([]),d(!1),n()}catch(Re){console.error("Error updating job status:",Re),ge.error(Re.response?.data?.message||"Failed to update job status")}finally{p(!1)}};return u.jsxs("div",{className:"shadow-2xl rounded-2xl overflow-hidden bg-white",children:[u.jsxs("div",{className:"p-4 border-b flex justify-between items-center gap-4",children:[u.jsx("input",{type:"text",value:m.global,onChange:G=>we("global",G.target.value),placeholder:"Search jobs...",className:"px-3 py-2 rounded-xl shadow-sm focus:outline-2 focus:outline-primary w-full border border-primary transition-all"}),Ze?.data?.data?.admin?.permissions?.includes("create_jobs")&&u.jsxs("button",{onClick:()=>{E(!0),Te()},className:"bg-primary hover:bg-darkBlue transition-all text-white px-3 py-2 rounded-xl shadow-sm min-w-max flex items-center gap-2",children:[u.jsx(Ar,{size:18}),u.jsx("span",{children:"Add Job"})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:l&&kt.length>0,onChange:G=>vt(G.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),u.jsx("span",{className:"ml-2",children:"Title"})]})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsx("input",{type:"text",value:m.author,onChange:G=>we("author",G.target.value),placeholder:"Author",className:"text-xs p-1 border rounded w-full"})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsx("input",{type:"text",value:m.location,onChange:G=>we("location",G.target.value),placeholder:"Location",className:"text-xs p-1 border rounded w-full"})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsxs("select",{value:m.type,onChange:G=>we("type",G.target.value),className:"text-xs p-1 border rounded w-full",children:[u.jsx("option",{value:"",children:"All Types"}),ut.map(G=>u.jsx("option",{value:G.value,children:G.label},G.value))]})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Applications"}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsxs("select",{value:m.status,onChange:G=>we("status",G.target.value),className:"text-xs p-1 border rounded w-full",children:[u.jsx("option",{value:"",children:"All Statuses"}),u.jsx("option",{value:"active",children:"Active"}),u.jsx("option",{value:"inactive",children:"Inactive"})]})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsx(Lh,{initialRange:{startDate:m.created_from?new Date(`${m.created_from}T00:00:00`):null,endDate:m.created_to?new Date(`${m.created_to}T00:00:00`):null},onDateChange:({startDate:G,endDate:Re})=>{const tt=yt=>{if(!(yt instanceof Date)||isNaN(yt))return"";const Wt=yt.getFullYear(),Dt=String(yt.getMonth()+1).padStart(2,"0"),zt=String(yt.getDate()).padStart(2,"0");return`${Wt}-${Dt}-${zt}`};we("created_from",G?tt(G):""),we("created_to",Re?tt(Re):"")}})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:e?u.jsx("tr",{children:u.jsx("td",{colSpan:"8",className:"px-3 py-4 text-center",children:u.jsxs("div",{className:"flex justify-center items-center gap-2",children:[u.jsx(wt,{className:"animate-spin",size:18}),"Loading jobs..."]})})}):Nn.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:"8",className:"px-3 py-4 text-center",children:"No jobs found"})}):Nn.map(G=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:i.includes(G.id),onChange:Re=>Xe(G.id,Re.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),u.jsx("span",{className:"ml-2 text-sm font-medium text-gray-900",children:G.title})]})}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:G.author?.name||"-"}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(rJ,{className:"text-gray-400",size:12}),G.location]})}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:me(G.type)}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:je(G.applications_count)}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Q(G.is_active)}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:G.created_at?new Date(G.created_at).toLocaleDateString():"-"}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center gap-2",children:[Ze?.data?.data?.admin?.permissions?.includes("edit_jobs")&&u.jsx("button",{className:"text-blue-500 hover:text-blue-700 p-1",onClick:()=>lt(G),disabled:Ft,children:Ft&&ye===G.id?u.jsx(wt,{className:"animate-spin",size:18}):u.jsx(ki,{size:18})}),u.jsx("button",{className:`${G.is_active?"text-green-500 hover:text-green-700":"text-red-500 hover:text-red-700"} p-1`,onClick:()=>et(G.id,G.is_active),disabled:k===G.id,children:k===G.id?u.jsx(wt,{className:"animate-spin",size:18}):G.is_active?u.jsx(Pr,{}):u.jsx($t,{})}),Ze?.data?.data?.admin?.permissions?.includes("delete_jobs")&&u.jsx("button",{className:"text-red-500 hover:text-red-700 p-1",onClick:()=>ht(G.id),disabled:C===G.id,title:"Delete",children:C===G.id?u.jsx(wt,{className:"animate-spin",size:18}):u.jsx(Vn,{size:18})})]})})]},G.id))})]})}),At&&u.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:"bg-white rounded-lg p-6 max-w-md w-full",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Deletion"}),u.jsx("button",{onClick:()=>ct(!1),className:"text-gray-500 hover:text-gray-700",children:u.jsx($t,{})})]}),u.jsxs("p",{className:"text-gray-700 mb-6",children:["Are you sure you want to delete ",i.length," selected job(s)? This action cannot be undone."]}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx("button",{onClick:()=>ct(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:f,children:"Cancel"}),u.jsx("button",{onClick:gt,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 flex items-center",disabled:f,children:f?u.jsxs(u.Fragment,{children:[u.jsx(wt,{className:"animate-spin mr-2"}),"Deleting..."]}):"Delete"})]})]})}),i.length>0&&u.jsx("div",{className:"bg-blue-50 p-4 rounded-md mb-6 border border-blue-200",children:u.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[u.jsxs("div",{className:"text-blue-800 font-medium",children:[i.length," job(s) selected"]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs("button",{onClick:()=>Ot(!0),disabled:f,className:"flex items-center px-3 py-1.5 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 text-sm",children:[u.jsx(Pr,{className:"mr-1.5"}),"Activate"]}),u.jsxs("button",{onClick:()=>Ot(!1),disabled:f,className:"flex items-center px-3 py-1.5 bg-yellow-600 text-white rounded hover:bg-yellow-700 disabled:opacity-50 text-sm",children:[u.jsx($t,{className:"mr-1.5"}),"Deactivate"]}),u.jsxs("button",{onClick:Ct,disabled:f,className:"flex items-center px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 text-sm",children:[u.jsx(Vn,{className:"mr-1.5"}),"Delete"]}),u.jsxs("button",{onClick:()=>{a([]),d(!1)},className:"flex items-center px-3 py-1.5 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 text-sm",children:[u.jsx($t,{className:"mr-1.5"}),"Clear Selection"]}),f&&u.jsxs("div",{className:"flex items-center",children:[u.jsx(wt,{className:"animate-spin mr-1.5"}),"Loading..."]})]})]})}),!e&&$e(),u.jsxs("div",{className:"p-4 border-t",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Drafts"}),u.jsx("div",{className:"text-xs text-gray-500",children:"Drafts are stored locally in your browser"})]}),ue.length===0?u.jsx("div",{className:"text-sm text-gray-500",children:"No drafts yet"}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full divide-y divide-gray-200 text-sm",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-2 text-left",children:"Title"}),u.jsx("th",{className:"px-4 py-2 text-left",children:"Location"}),u.jsx("th",{className:"px-4 py-2 text-left",children:"Type"}),u.jsx("th",{className:"px-4 py-2 text-left",children:"Updated"}),u.jsx("th",{className:"px-4 py-2 text-left",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-200",children:ue.slice().sort((G,Re)=>new Date(Re.updatedAt)-new Date(G.updatedAt)).map(G=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-2",children:G.title||u.jsx("span",{className:"italic text-gray-400",children:"Untitled"})}),u.jsx("td",{className:"px-4 py-2",children:G.location||"-"}),u.jsx("td",{className:"px-4 py-2",children:ut.find(Re=>Re.value===G.type)?.label||G.type}),u.jsx("td",{className:"px-4 py-2",children:new Date(G.updatedAt).toLocaleString()}),u.jsx("td",{className:"px-4 py-2",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-1",onClick:()=>de(G),children:[u.jsx(Ah,{})," Resume"]}),u.jsx("button",{className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",onClick:()=>bt(G.id),children:"Delete"})]})})]},G.id))})]})})]}),M&&u.jsxs(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 ",children:[u.jsx("button",{onClick:()=>{E(!1);const G=re();G&&at(G)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:u.jsx(ns,{className:"",size:40})}),u.jsx(Tt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-4/5 h-[90vh] overflow-y-auto",onClick:G=>G.stopPropagation(),children:u.jsxs("div",{className:"p-6",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New Job"}),u.jsxs("form",{onSubmit:jt,children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title*"}),u.jsx("input",{type:"text",name:"title",value:Pe.title,onChange:Pt,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location*"}),u.jsx("input",{type:"text",name:"location",value:Pe.location,onChange:Pt,className:"w-full px-3 py-2 border rounded-md",required:!0})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug*"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",name:"slug",value:Pe.slug,onChange:an,className:"w-full px-3 py-2 border rounded-md",required:!0}),ke&&u.jsx("button",{type:"button",onClick:Qt,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",title:"Reset to auto-generated slug",children:u.jsx($t,{})})]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ke?"Slug is manually edited. Click the X to reset to auto-generated.":"Slug is auto-generated from title. You can edit it manually."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Type*"}),u.jsx("select",{name:"type",value:Pe.type,onChange:Pt,className:"w-full px-3 py-2 border rounded-md",required:!0,children:ut.map(G=>u.jsx("option",{value:G.value,children:G.label},G.value))})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:Pe.is_active,onChange:Pt,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700",children:"Active"})]})]}),u.jsxs("div",{className:"p-4 border rounded-lg mb-4",children:[u.jsx("h3",{className:"text-lg font-medium mb-4",children:"Key Responsibilities*"}),u.jsx("div",{className:"mb-4",children:u.jsx(ui,{content:Pe.key_responsibilities,onUpdate:pe})})]}),u.jsxs("div",{className:"p-4 border rounded-lg mb-4",children:[u.jsx("h3",{className:"text-lg font-medium mb-4",children:"Preferred Qualifications*"}),u.jsx("div",{className:"mb-4",children:u.jsx(ui,{content:Pe.preferred_qualifications,onUpdate:mt})})]}),u.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[u.jsxs("div",{className:"text-xs text-gray-500 mt-2 flex items-center",children:[u.jsx(wt,{className:`animate-spin mr-1 ${ae?"opacity-100":"opacity-0"}`,size:12}),"Auto-saves to drafts every 5s"]}),u.jsxs("button",{type:"button",onClick:B,className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[u.jsx(Fu,{size:16})," Save as Draft"]}),u.jsx("button",{type:"button",onClick:()=>{const G=re();G&&at(G),E(!1),Te()},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:ae,children:ae?u.jsxs(u.Fragment,{children:[u.jsx(wt,{className:"animate-spin",size:18}),u.jsx("span",{children:"Adding..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Ar,{size:18}),u.jsx("span",{children:"Add Job"})]})})]})]})]})})]}),A&&u.jsxs(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[u.jsx("button",{onClick:()=>{P(!1),Fe(null)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:u.jsx(ns,{className:"",size:40})}),u.jsx(Tt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-4/5 h-[90vh] overflow-y-auto",onClick:G=>G.stopPropagation(),children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center mb-4",children:[u.jsx("button",{type:"button",onClick:()=>{P(!1),Fe(null)},className:"text-blue-600 hover:text-blue-800 font-medium",children:"Jobs"}),u.jsx("span",{className:"mx-2 text-gray-400",children:">"}),u.jsx("span",{className:"text-xl font-bold text-gray-900",children:Ye.title||"Untitled Job"}),Ft&&u.jsxs("div",{className:"ml-4 flex items-center text-sm text-gray-500",children:[u.jsx(wt,{className:"animate-spin mr-2",size:14}),"Loading job data..."]})]}),Ft?u.jsxs("div",{className:"flex justify-center items-center py-8",children:[u.jsx(wt,{className:"animate-spin mr-2",size:24}),u.jsx("span",{children:"Loading job data..."})]}):u.jsxs("form",{onSubmit:Et,children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title*"}),u.jsx("input",{type:"text",name:"title",value:Ye.title,onChange:Ne,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location*"}),u.jsx("input",{type:"text",name:"location",value:Ye.location,onChange:Ne,className:"w-full px-3 py-2 border rounded-md",required:!0})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug*"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",name:"slug",value:Ye.slug,onChange:ot,className:"w-full px-3 py-2 border rounded-md",required:!0}),W&&u.jsx("button",{type:"button",onClick:pt,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",title:"Reset to auto-generated slug",children:u.jsx($t,{})})]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:W?"Slug is manually edited. Click the X to reset to auto-generated.":"Slug is auto-generated from title. You can edit it manually."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Type*"}),u.jsx("select",{name:"type",value:Ye.type,onChange:Ne,className:"w-full px-3 py-2 border rounded-md",required:!0,children:ut.map(G=>u.jsx("option",{value:G.value,children:G.label},G.value))})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"edit_is_active",name:"is_active",checked:Ye.is_active,onChange:Ne,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsx("label",{htmlFor:"edit_is_active",className:"ml-2 text-sm text-gray-700",children:"Active"})]})]}),u.jsxs("div",{className:"p-4 border rounded-lg mb-4",children:[u.jsx("h3",{className:"text-lg font-medium mb-4",children:"Key Responsibilities*"}),u.jsx("div",{className:"mb-4",children:u.jsx(ui,{content:Ye.key_responsibilities,onUpdate:Lt})})]}),u.jsxs("div",{className:"p-4 border rounded-lg mb-4",children:[u.jsx("h3",{className:"text-lg font-medium mb-4",children:"Preferred Qualifications*"}),u.jsx("div",{className:"mb-4",children:u.jsx(ui,{content:Ye.preferred_qualifications,onUpdate:rt})})]}),u.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[u.jsx("button",{type:"button",onClick:()=>{P(!1),Fe(null)},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:ae,children:ae?u.jsxs(u.Fragment,{children:[u.jsx(wt,{className:"animate-spin",size:18}),u.jsx("span",{children:"Updating..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Pr,{size:18}),u.jsx("span",{children:"Update Job"})]})})]})]})]})})]}),F&&u.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>ee(!1),children:u.jsx(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:G=>G.stopPropagation(),children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-start",children:[u.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:u.jsx(Vn,{className:"h-5 w-5 text-red-600"})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Job"}),u.jsx("div",{className:"mt-2",children:u.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this job? This action cannot be undone."})})]})]}),u.jsxs("div",{className:"mt-5 flex justify-end gap-3",children:[u.jsx("button",{type:"button",onClick:()=>ee(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),u.jsx("button",{type:"button",onClick:Jt,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})})})]})}function _le(){const t=Hn();function e(){return Ge.get("https://nexus-consults.com/api/public/api/admin/jobs",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}const{data:n,isLoading:r,refetch:s,isError:i,error:a}=Cn({queryKey:["jobs"],queryFn:e});return j.useEffect(()=>{i&&(a.response?.status==401&&(localStorage.removeItem("userToken"),t("/login")),a.response?.status==403&&(ge.error("You are not authorized to view this page"),t("/home")))},[i]),u.jsxs("div",{className:"p-4",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Jobs"}),u.jsx(Rle,{jobs:n?.data?.data||[],loading:r,refetch:s})]})}function Lle({applications:t,loading:e,refetch:n}){const r=Hn();Li();const[s,i]=j.useState([]),[a,l]=j.useState(!1),[d,f]=j.useState(!1),[p,m]=j.useState({global:"",applicant_name:"",applicant_email:"",job_title:"",status:"",created_from:"",created_to:""}),[y,x]=j.useState(1),[b]=j.useState(10),[S,C]=j.useState(null),[N,k]=j.useState(!1),[D,M]=j.useState(null),[E,A]=j.useState(!1),[P,F]=j.useState(null),[ee,be]=j.useState(!1),[ce,ae]=j.useState(!1),[te,ke]=j.useState(!1),[ze,W]=j.useState(!1),[oe,ye]=j.useState({status:""}),[Fe,U]=j.useState({notes:""}),{data:ue}=Cn({queryKey:["applicationStatusOptions"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/job-applications/status-options",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}).then(V=>V.data.data),staleTime:5*60*1e3}),{data:se}=Cn({queryKey:["currentUser"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}),{data:fe,isLoading:Ee,refetch:Pe}=Cn({queryKey:["application",P],queryFn:()=>P?Ge.get(`https://nexus-consults.com/api/public/api/admin/job-applications/${P}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}).then(V=>V.data.data):Promise.resolve(null),enabled:!!P}),Oe=[...new Set(t?.map(V=>V.job?.title).filter(Boolean))],Ye=(V,we)=>{m(et=>({...et,[V]:we})),x(1)},Me=V=>{M(V),k(!0)},ut=async()=>{if(D){C(D),k(!1);try{await Ge.delete(`https://nexus-consults.com/api/public/api/admin/job-applications/${D}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ge.success("Application deleted successfully",{duration:2e3}),n()}catch(V){ge.error(V.response?.data?.message||"An unexpected error occurred",{duration:3e3}),V.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),V.response?.status==403&&(ge.error("You are not authorized to view this page"),r("/home"))}finally{C(null),M(null)}}},Ze=V=>{F(V),A(!0)},St=V=>{F(V),ye({status:""}),be(!0)},Nt=V=>{F(V),U({notes:fe?.admin_notes||""}),ae(!0)},Ft=di({mutationFn:({applicationId:V,status:we})=>Ge.patch(`https://nexus-consults.com/api/public/api/admin/job-applications/${V}/status`,{status:we},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),onSuccess:()=>{ge.success("Status updated successfully"),be(!1),n(),Pe()},onError:V=>{ge.error(V.response?.data?.message||"Failed to update status"),V.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),V.response?.status==403&&ge.error("You are not authorized to perform this action")}}),nt=di({mutationFn:({applicationId:V,notes:we})=>Ge.patch(`https://nexus-consults.com/api/public/api/admin/job-applications/${V}/notes`,{admin_notes:we},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),onSuccess:()=>{ge.success("Notes updated successfully"),ae(!1),Pe()},onError:V=>{ge.error(V.response?.data?.message||"Failed to update notes"),V.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),V.response?.status==403&&ge.error("You are not authorized to perform this action")}}),Z=async V=>{try{const we=await Ge.get(`https://nexus-consults.com/api/public/api/admin/job-applications/${V}/download/cv`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`},responseType:"blob"}),et=window.URL.createObjectURL(new Blob([we.data])),ht=document.createElement("a");ht.href=et,ht.setAttribute("download",`CV-${V}.pdf`),document.body.appendChild(ht),ht.click(),ht.remove(),window.URL.revokeObjectURL(et),ge.success("CV downloaded successfully")}catch(we){ge.error(we.response?.data?.message||"Failed to download CV")}},Ve=V=>{if(V.preventDefault(),!oe.status){ge.error("Please select a status");return}Ft.mutate({applicationId:P,status:oe.status})},qe=V=>{V.preventDefault(),nt.mutate({applicationId:P,notes:Fe.notes})},at=t?.filter(V=>{const we=p.global===""||V.applicant?.name?.toLowerCase().includes(p.global.toLowerCase())||V.applicant?.email?.toLowerCase().includes(p.global.toLowerCase())||V.job?.title?.toLowerCase().includes(p.global.toLowerCase()),et=p.applicant_name===""||V.applicant?.name?.toLowerCase().includes(p.applicant_name.toLowerCase()),ht=p.applicant_email===""||V.applicant?.email?.toLowerCase().includes(p.applicant_email.toLowerCase()),Jt=p.job_title===""||V.job?.title?.toLowerCase().includes(p.job_title.toLowerCase()),Pt=p.status===""||V.status===p.status;let an=!0;if(V.created_at){const Qt=new Date(V.created_at);if(p.created_from){const Ne=new Date(`${p.created_from}T00:00:00`);Qt<Ne&&(an=!1)}if(an&&p.created_to){const Ne=new Date(`${p.created_to}T23:59:59.999`);Qt>Ne&&(an=!1)}}return we&&et&&ht&&Jt&&Pt&&an})||[],bt=Math.ceil(at.length/b),$=at.slice((y-1)*b,y*b),re=V=>{const we=ue?.statuses?.[V]||{label:V,color:"gray"},et={yellow:"bg-yellow-100 text-yellow-800 border-yellow-200",blue:"bg-blue-100 text-blue-800 border-blue-200",purple:"bg-purple-100 text-purple-800 border-purple-200",indigo:"bg-indigo-100 text-indigo-800 border-indigo-200",green:"bg-green-100 text-green-800 border-green-200",red:"bg-red-100 text-red-800 border-red-200",gray:"bg-gray-100 text-gray-800 border-gray-200"};return u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${et[we.color]||et.gray}`,children:we.label})},B=()=>bt<=1?null:u.jsxs("div",{className:"flex justify-between items-center mt-4 px-4 pb-1",children:[u.jsxs("div",{className:"text-xs",children:["Showing ",(y-1)*b+1,"-",Math.min(y*b,at.length)," of ",at.length," entries"]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:()=>x(1),disabled:y===1,className:"p-1 disabled:opacity-50",children:u.jsx(Qo,{className:"h-4 w-4"})}),u.jsxs("span",{className:"px-3 py-1",children:["Page ",y," of ",bt]}),u.jsx("button",{onClick:()=>x(V=>Math.min(bt,V+1)),disabled:y===bt,className:"p-1 disabled:opacity-50",children:u.jsx(Zo,{className:"h-4 w-4"})})]})]}),de=(V,we)=>{i(we?et=>[...et,V]:et=>et.filter(ht=>ht!==V))},xe=V=>{V?(i(at.map(we=>we.id)),l(!0)):(i([]),l(!1))},H=async()=>{if(s.length)try{f(!0),await Ge.post("https://nexus-consults.com/api/public/api/admin/job-applications/bulk/delete",{ids:s},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ge.success(`${s.length} application(s) deleted successfully`),i([]),l(!1),n()}catch(V){console.error("Error deleting applications:",V),ge.error(V.response?.data?.message||"Failed to delete applications")}finally{f(!1)}};return u.jsxs("div",{className:"shadow-2xl rounded-2xl overflow-hidden bg-white",children:[u.jsx("div",{className:"p-4 border-b flex justify-between items-center gap-4",children:u.jsxs("div",{className:"relative flex-1",children:[u.jsx(A2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),u.jsx("input",{type:"text",value:p.global,onChange:V=>Ye("global",V.target.value),placeholder:"Search applications...",className:"pl-10 pr-4 py-2 rounded-xl shadow-sm focus:outline-2 focus:outline-primary w-full border border-primary transition-all"})]})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:a&&at.length>0,onChange:V=>xe(V.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),u.jsx("span",{className:"ml-2",children:"Applicant"})]})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsx("input",{type:"text",value:p.applicant_email,onChange:V=>Ye("applicant_email",V.target.value),placeholder:"Email",className:"text-xs p-1 border rounded w-full"})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsxs("select",{value:p.job_title,onChange:V=>Ye("job_title",V.target.value),className:"text-xs p-1 border rounded w-full",children:[u.jsx("option",{value:"",children:"All Jobs"}),Oe.map(V=>u.jsx("option",{value:V,children:V},V))]})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsxs("select",{value:p.status,onChange:V=>Ye("status",V.target.value),className:"text-xs p-1 border rounded w-full",children:[u.jsx("option",{value:"",children:"All Statuses"}),ue&&Object.entries(ue.statuses).map(([V,we])=>u.jsx("option",{value:V,children:we.label},V))]})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsx(Lh,{initialRange:{startDate:p.created_from?new Date(`${p.created_from}T00:00:00`):null,endDate:p.created_to?new Date(`${p.created_to}T00:00:00`):null},onDateChange:({startDate:V,endDate:we})=>{const et=ht=>{if(!(ht instanceof Date)||isNaN(ht))return"";const Jt=ht.getFullYear(),Pt=String(ht.getMonth()+1).padStart(2,"0"),an=String(ht.getDate()).padStart(2,"0");return`${Jt}-${Pt}-${an}`};Ye("created_from",V?et(V):""),Ye("created_to",we?et(we):"")}})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:e?u.jsx("tr",{children:u.jsx("td",{colSpan:"6",className:"px-3 py-4 text-center",children:u.jsxs("div",{className:"flex justify-center items-center gap-2",children:[u.jsx(wt,{className:"animate-spin",size:18}),"Loading applications..."]})})}):$.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:"6",className:"px-3 py-4 text-center",children:"No applications found"})}):$.map(V=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:s.includes(V.id),onChange:we=>de(V.id,we.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),u.jsxs("div",{className:"ml-2",children:[u.jsx("div",{className:"text-sm font-medium text-gray-900",children:V.applicant?.name||"N/A"}),u.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[u.jsx(sJ,{size:10}),V.applicant?.phone||"N/A"]})]})]})}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-900",children:[u.jsx(VM,{size:12,className:"text-gray-400"}),V.applicant?.email]})}),u.jsxs("td",{className:"px-3 py-4 whitespace-nowrap",children:[u.jsx("div",{className:"text-sm text-gray-900",children:V.job?.title||"N/A"}),u.jsx("div",{className:"text-xs text-gray-500",children:V.job?.type&&u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(UM,{size:10}),V.job.type]})})]}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:re(V.status)}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:V.created_at?new Date(V.created_at).toLocaleDateString():"-"})}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{className:"text-blue-500 hover:text-blue-700 p-1",onClick:()=>Ze(V.id),title:"View Details",children:u.jsx(wu,{size:16})}),u.jsx("button",{className:"text-green-500 hover:text-green-700 p-1",onClick:()=>Z(V.id),title:"Download CV",children:u.jsx(tJ,{size:16})}),se?.data?.data?.admin?.permissions?.includes("manage_job_applications")&&u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"text-purple-500 hover:text-purple-700 p-1",onClick:()=>St(V.id),title:"Update Status",children:u.jsx(ki,{size:16})}),u.jsx("button",{className:"text-indigo-500 hover:text-indigo-700 p-1",onClick:()=>Nt(V.id),title:"Add Notes",children:u.jsx(oJ,{size:16})})]}),se?.data?.data?.admin?.permissions?.includes("delete_job_applications")&&u.jsx("button",{className:"text-red-500 hover:text-red-700 p-1",onClick:()=>Me(V.id),disabled:S===V.id,title:"Delete",children:S===V.id?u.jsx(wt,{className:"animate-spin",size:16}):u.jsx(Vn,{size:16})})]})})]},V.id))})]})}),s.length>0&&u.jsx("div",{className:"bg-blue-50 p-4 rounded-md mb-6 border border-blue-200",children:u.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[u.jsxs("div",{className:"text-blue-800 font-medium",children:[s.length," application(s) selected"]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs("button",{onClick:H,disabled:d,className:"flex items-center px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 text-sm",children:[u.jsx(Vn,{className:"mr-1.5"}),"Delete Selected"]}),u.jsxs("button",{onClick:()=>{i([]),l(!1)},className:"flex items-center px-3 py-1.5 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 text-sm",children:[u.jsx($t,{className:"mr-1.5"}),"Clear Selection"]}),d&&u.jsxs("div",{className:"flex items-center",children:[u.jsx(wt,{className:"animate-spin mr-1.5"}),"Loading..."]})]})]})}),!e&&B(),E&&u.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>A(!1),children:u.jsx(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:V=>V.stopPropagation(),children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Application Details"}),u.jsx("button",{onClick:()=>A(!1),className:"text-gray-500 hover:text-gray-700",children:u.jsx($t,{size:20})})]}),Ee?u.jsxs("div",{className:"flex justify-center items-center py-8",children:[u.jsx(wt,{className:"animate-spin mr-2",size:24}),u.jsx("span",{children:"Loading application details..."})]}):fe?u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Applicant Information"}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900",children:fe.applicant?.name||"N/A"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900",children:fe.applicant?.email})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900",children:fe.applicant?.phone})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Years of Experience"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900",children:fe.applicant?.years_of_experience})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Availability"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900 capitalize",children:fe.applicant?.availability?.replace("_"," ")||"N/A"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Message"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900 whitespace-pre-wrap",children:fe.applicant?.message||"No message provided"})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Job & Application Information"}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Job Title"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900",children:fe.job?.title})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900 capitalize",children:fe.job?.location?.replace("-"," ")||"N/A"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Job Type"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900 capitalize",children:fe.job?.type?.replace("-"," ")||"N/A"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),u.jsx("div",{className:"mt-1",children:re(fe.status)})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Applied On"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(fe.created_at).toLocaleString()})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Admin Notes"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900 whitespace-pre-wrap",children:fe.admin_notes||"No notes added"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"CV"}),u.jsxs("button",{onClick:()=>Z(fe.id),className:"mt-1 flex items-center gap-2 px-3 py-2 bg-primary text-white rounded hover:bg-darkBlue transition-all text-sm",children:[u.jsx(nJ,{}),"Download CV"]})]})]})]}):u.jsx("div",{className:"text-center py-8 text-gray-500",children:"Failed to load application details"})]})})}),ee&&u.jsxs(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[u.jsx("button",{onClick:()=>{be(!1)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:u.jsx(ns,{className:"",size:40})}),u.jsx(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:V=>V.stopPropagation(),children:u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Update Application Status"}),u.jsxs("form",{onSubmit:Ve,children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Status"}),u.jsxs("select",{value:oe.status,onChange:V=>ye({status:V.target.value}),className:"w-full px-3 py-2 border rounded-md focus:outline-primary",required:!0,children:[u.jsx("option",{value:"",children:"Choose a status"}),ue&&Object.entries(ue.statuses).map(([V,we])=>u.jsx("option",{value:V,children:we.label},V))]}),oe.status&&ue?.statuses[oe.status]?.description&&u.jsx("p",{className:"mt-2 text-xs text-gray-500",children:ue.statuses[oe.status].description})]}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx("button",{type:"button",onClick:()=>be(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:Ft.isPending,className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center gap-2 disabled:opacity-50",children:Ft.isPending?u.jsxs(u.Fragment,{children:[u.jsx(wt,{className:"animate-spin"}),"Updating..."]}):"Update Status"})]})]})]})})]}),ce&&u.jsxs(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[u.jsx("button",{onClick:()=>{ae(!1)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:u.jsx(ns,{className:"",size:40})}),u.jsx(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:V=>V.stopPropagation(),children:u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add Admin Notes"}),u.jsxs("form",{onSubmit:qe,children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),u.jsx("textarea",{value:Fe.notes,onChange:V=>U({notes:V.target.value}),rows:6,className:"w-full px-3 py-2 border rounded-md focus:outline-primary resize-vertical",placeholder:"Enter your notes about this application..."})]}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx("button",{type:"button",onClick:()=>ae(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:nt.isPending,className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center gap-2 disabled:opacity-50",children:nt.isPending?u.jsxs(u.Fragment,{children:[u.jsx(wt,{className:"animate-spin"}),"Saving..."]}):"Save Notes"})]})]})]})})]}),N&&u.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>k(!1),children:u.jsx(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:V=>V.stopPropagation(),children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-start",children:[u.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:u.jsx(Vn,{className:"h-5 w-5 text-red-600"})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Application"}),u.jsx("div",{className:"mt-2",children:u.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this application? This action cannot be undone."})})]})]}),u.jsxs("div",{className:"mt-5 flex justify-end gap-3",children:[u.jsx("button",{type:"button",onClick:()=>k(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),u.jsx("button",{type:"button",onClick:ut,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})})})]})}function Ple(){const t=Hn();function e(){return Ge.get("https://nexus-consults.com/api/public/api/admin/job-applications",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}const{data:n,isLoading:r,refetch:s,isError:i,error:a}=Cn({queryKey:["Applications"],queryFn:e});return j.useEffect(()=>{i&&(a.response?.status==401&&(localStorage.removeItem("userToken"),t("/login")),a.response?.status==403&&(ge.error("You are not authorized to view this page"),t("/home")))},[i]),u.jsxs("div",{className:"p-4",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Applications"}),u.jsx(Lle,{applications:n?.data?.data||[],loading:r,refetch:s})]})}function zle({testmonialsData:t,loading:e,refetch:n}){const r=Hn();Li();const[s,i]=j.useState([]),[a,l]=j.useState(!1),[d,f]=j.useState(!1),[p,m]=j.useState({global:"",name:"",title:"",is_active:"",created_from:"",created_to:""}),[y,x]=j.useState(1),[b]=j.useState(10),[S,C]=j.useState(null),[N,k]=j.useState(!1),[D,M]=j.useState(null),[E,A]=j.useState(null),[P,F]=j.useState(!1),[ee,be]=j.useState(null),[ce,ae]=j.useState(!1),[te,ke]=j.useState(!1),[ze,W]=j.useState(!1),[oe,ye]=j.useState({name:"",title:"",message:"",image:null,imagePreview:"",removeImage:!1}),Fe=j.useRef(null),{data:U}=Cn({queryKey:["currentUser"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}),{data:ue,isLoading:se,refetch:fe}=Cn({queryKey:["testmonial",ee],queryFn:()=>ee?Ge.get(`https://nexus-consults.com/api/public/api/admin/feedbacks/${ee}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}).then(H=>H.data.data):Promise.resolve(null),enabled:!!ee}),Ee=(H,V)=>{m(we=>({...we,[H]:V})),x(1)},Pe=H=>{M(H),k(!0)},Oe=async()=>{if(D){C(D),k(!1);try{await Ge.delete(`https://nexus-consults.com/api/public/api/admin/feedbacks/${D}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ge.success("Testimonial deleted successfully",{duration:2e3}),n()}catch(H){ge.error(H.response?.data?.message||"An unexpected error occurred",{duration:3e3}),H.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),H.response?.status==403&&(ge.error("You are not authorized to view this page"),r("/home"))}finally{C(null),M(null)}}},Ye=H=>{be(H),F(!0)},Me=()=>{ke(!1),ye({name:"",title:"",message:"",image:null,imagePreview:"",removeImage:!1}),ae(!0)},ut=H=>{be(H.id),ke(!0),ye({name:H.name||"",title:H.title||"",message:H.message||"",image:null,imagePreview:H.image||"",removeImage:!1}),ae(!0)};j.useEffect(()=>{te&&ue&&ye(H=>({...H,name:ue.name||H.name,title:ue.title||H.title,message:ue.message||H.message,imagePreview:ue.image||H.imagePreview,removeImage:!1}))},[te,ue]);const Ze=H=>{const V=H.target.files[0];if(V){if(!V.type.startsWith("image/")){ge.error("Please select an image file");return}if(V.size>5*1024*1024){ge.error("Image size should be less than 5MB");return}ye(we=>({...we,image:V,imagePreview:URL.createObjectURL(V),removeImage:!1}))}},St=()=>{ye(H=>({...H,image:null,imagePreview:"",removeImage:!0})),Fe.current&&(Fe.current.value="")},Nt=di({mutationFn:H=>{const V=new FormData;return V.append("name",H.name),V.append("title",H.title),V.append("message",H.message),H.image&&V.append("image",H.image),H.image||V.append("image",""),Ge.post("https://nexus-consults.com/api/public/api/admin/feedbacks",V,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}})},onSuccess:()=>{ge.success("Testimonial created successfully"),ae(!1),n()},onError:H=>{ge.error(H.response?.data?.message||"Failed to create testimonial"),H.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),H.response?.status==403&&ge.error("You are not authorized to perform this action")}}),Ft=di({mutationFn:({testmonialId:H,formData:V})=>{const we=new FormData;return we.append("name",V.name),we.append("title",V.title),we.append("message",V.message),V.removeImage?we.append("image",""):V.image&&we.append("image",V.image),we.append("_method","PUT"),Ge.post(`https://nexus-consults.com/api/public/api/admin/feedbacks/${H}`,we,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}})},onSuccess:()=>{ge.success("Testimonial updated successfully"),ae(!1),n(),fe()},onError:H=>{ge.error(H.response?.data?.message||"Failed to update testimonial"),H.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),H.response?.status==403&&ge.error("You are not authorized to perform this action")}}),nt=di({mutationFn:H=>Ge.patch(`https://nexus-consults.com/api/public/api/admin/feedbacks/${H}/toggle-active`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),onMutate:H=>{A(H)},onSuccess:()=>{ge.success("Status updated successfully"),n()},onError:H=>{ge.error(H.response?.data?.message||"Failed to update status"),H.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),H.response?.status==403&&ge.error("You are not authorized to perform this action")},onSettled:()=>{A(null)}}),Z=(H,V)=>{nt.mutate(H)},Ve=H=>{if(H.preventDefault(),!oe.name||!oe.title||!oe.message){ge.error("Please fill in all required fields");return}te?Ft.mutate({testmonialId:ee,formData:oe}):Nt.mutate(oe)},qe=t?.filter(H=>{const V=p.global===""||H.name?.toLowerCase().includes(p.global.toLowerCase())||H.title?.toLowerCase().includes(p.global.toLowerCase())||H.message?.toLowerCase().includes(p.global.toLowerCase()),we=p.name===""||H.name?.toLowerCase().includes(p.name.toLowerCase()),et=p.title===""||H.title?.toLowerCase().includes(p.title.toLowerCase()),ht=p.is_active===""||H.is_active?.toString()===p.is_active;let Jt=!0;if(H.created_at){const Pt=new Date(H.created_at);if(p.created_from){const an=new Date(`${p.created_from}T00:00:00`);Pt<an&&(Jt=!1)}if(Jt&&p.created_to){const an=new Date(`${p.created_to}T23:59:59.999`);Pt>an&&(Jt=!1)}}return V&&we&&et&&ht&&Jt})||[],at=Math.ceil(qe.length/b),bt=qe.slice((y-1)*b,y*b),$=H=>{const V=H?"bg-[#009379] text-white":"bg-[#930002] text-white";return u.jsx("span",{className:`flex justify-center w-fit items-center px-2.5 py-1 rounded-md text-xs font-medium ${V} min-w-16 text-center`,children:H?"Active":"Inactive"})},re=()=>at<=1?null:u.jsxs("div",{className:"flex justify-between items-center mt-4 px-4 pb-1",children:[u.jsxs("div",{className:"text-xs",children:["Showing ",(y-1)*b+1,"-",Math.min(y*b,qe.length)," of ",qe.length," entries"]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:()=>x(1),disabled:y===1,className:"p-1 disabled:opacity-50",children:u.jsx(Qo,{className:"h-4 w-4"})}),u.jsxs("span",{className:"px-3 py-1",children:["Page ",y," of ",at]}),u.jsx("button",{onClick:()=>x(H=>Math.min(at,H+1)),disabled:y===at,className:"p-1 disabled:opacity-50",children:u.jsx(Zo,{className:"h-4 w-4"})})]})]}),B=(H,V)=>{i(V?we=>[...we,H]:we=>we.filter(et=>et!==H))},de=H=>{H?(i(qe.map(V=>V.id)),l(!0)):(i([]),l(!1))},xe=async()=>{if(s.length)try{f(!0),await Ge.post("https://nexus-consults.com/api/public/api/admin/feedbacks/bulk/delete",{ids:s},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ge.success(`${s.length} testimonial(s) deleted successfully`),i([]),l(!1),n()}catch(H){console.error("Error deleting testimonials:",H),ge.error(H.response?.data?.message||"Failed to delete testimonials")}finally{f(!1)}};return u.jsxs("div",{className:"shadow-2xl rounded-2xl overflow-hidden bg-white",children:[u.jsxs("div",{className:"p-4 border-b flex justify-between items-center gap-4",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(A2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),u.jsx("input",{type:"text",value:p.global,onChange:H=>Ee("global",H.target.value),placeholder:"Search testimonials...",className:"pl-10 pr-4 py-2 rounded-xl shadow-sm focus:outline-2 focus:outline-primary w-full border border-primary transition-all"})]}),U?.data?.data?.admin?.permissions?.includes("create_feedbacks")&&u.jsxs("button",{onClick:Me,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl hover:bg-darkBlue transition-all",children:[u.jsx(Ar,{size:16}),"Add Testimonial"]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:a&&qe.length>0,onChange:H=>de(H.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),u.jsx("span",{className:"ml-2",children:"Name"})]})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsx("input",{type:"text",value:p.title,onChange:H=>Ee("title",H.target.value),placeholder:"Title",className:"text-xs p-1 border rounded w-full"})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Message"}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsxs("select",{value:p.is_active,onChange:H=>Ee("is_active",H.target.value),className:"text-xs p-1 border rounded w-full",children:[u.jsx("option",{value:"",children:"All Status"}),u.jsx("option",{value:"true",children:"Active"}),u.jsx("option",{value:"false",children:"Inactive"})]})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created Date"}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:e?u.jsx("tr",{children:u.jsx("td",{colSpan:"6",className:"px-3 py-4 text-center",children:u.jsxs("div",{className:"flex justify-center items-center gap-2",children:[u.jsx(wt,{className:"animate-spin",size:18}),"Loading testimonials..."]})})}):bt.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:"6",className:"px-3 py-4 text-center",children:"No testimonials found"})}):bt.map(H=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:s.includes(H.id),onChange:V=>B(H.id,V.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),u.jsxs("div",{className:"ml-2 flex items-center gap-3",children:[u.jsx("img",{src:H.image,alt:H.name,className:"h-10 w-10 rounded-full object-cover"}),u.jsx("div",{children:u.jsx("div",{className:"text-sm font-medium text-gray-900",children:H.name})})]})]})}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:H.title})}),u.jsx("td",{className:"px-3 py-4",children:u.jsx("div",{className:"text-sm text-gray-900 line-clamp-2 max-w-xs",children:H.message})}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:$(H.is_active)}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:H.created_at?new Date(H.created_at).toLocaleDateString():"-"})}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{className:"text-blue-500 hover:text-blue-700 p-1",onClick:()=>Ye(H),title:"View Details",children:u.jsx(wu,{size:16})}),U?.data?.data?.admin?.permissions?.includes("edit_feedbacks")&&u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"text-purple-500 hover:text-purple-700 p-1",onClick:()=>ut(H),title:"Edit",children:u.jsx(ki,{size:16})}),u.jsx("button",{className:`${H.is_active?"text-green-500 hover:text-green-700":"text-red-500 hover:text-red-700"} p-1`,onClick:()=>Z(H.id,H.is_active),disabled:E===H.id,title:H.is_active?"Deactivate":"Activate",children:E===H.id?u.jsx(wt,{className:"animate-spin",size:16}):H.is_active?u.jsx(Pr,{}):u.jsx($t,{})})]}),U?.data?.data?.admin?.permissions?.includes("delete_feedbacks")&&u.jsx("button",{className:"text-red-500 hover:text-red-700 p-1",onClick:()=>Pe(H.id),disabled:S===H.id,title:"Delete",children:S===H.id?u.jsx(wt,{className:"animate-spin",size:16}):u.jsx(Vn,{size:16})})]})})]},H.id))})]})}),s.length>0&&u.jsx("div",{className:"bg-blue-50 p-4 rounded-md mb-6 border border-blue-200",children:u.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[u.jsxs("div",{className:"text-blue-800 font-medium",children:[s.length," testimonial(s) selected"]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs("button",{onClick:xe,disabled:d,className:"flex items-center px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 text-sm",children:[u.jsx(Vn,{className:"mr-1.5"}),"Delete Selected"]}),u.jsxs("button",{onClick:()=>{i([]),l(!1)},className:"flex items-center px-3 py-1.5 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 text-sm",children:[u.jsx($t,{className:"mr-1.5"}),"Clear Selection"]}),d&&u.jsxs("div",{className:"flex items-center",children:[u.jsx(wt,{className:"animate-spin mr-1.5"}),"Loading..."]})]})]})}),!e&&re(),P&&u.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>F(!1),children:u.jsx(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:H=>H.stopPropagation(),children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Testimonial Details"}),u.jsx("button",{onClick:()=>F(!1),className:"text-gray-500 hover:text-gray-700",children:u.jsx($t,{size:20})})]}),ee?u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex justify-center",children:u.jsx("img",{src:ee.image,alt:ee.name,className:"h-32 w-32 rounded-full object-cover border-4 border-gray-200"})}),u.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),u.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:ee.name})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),u.jsx("p",{className:"mt-1 text-md text-gray-900",children:ee.title})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Message"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900 whitespace-pre-wrap bg-gray-50 p-4 rounded-lg",children:ee.message})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),u.jsx("div",{className:"mt-1",children:$(ee.is_active)})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Created On"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(ee.created_at).toLocaleString()})]})]})]})]}):u.jsx("div",{className:"text-center py-8 text-gray-500",children:"Failed to load testimonial details"})]})})}),ce&&u.jsxs(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[u.jsx("button",{onClick:()=>{ae(!1)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:u.jsx(ns,{className:"",size:40})}),u.jsx(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:H=>H.stopPropagation(),children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:te?"Edit Testimonial":"Add New Testimonial"}),u.jsx("button",{onClick:()=>ae(!1),className:"text-gray-500 hover:text-gray-700",children:u.jsx($t,{size:20})})]}),u.jsxs("form",{onSubmit:Ve,children:[u.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Image"}),u.jsxs("div",{className:"flex items-center gap-4",children:[oe.imagePreview?u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:oe.imagePreview,alt:"Preview",className:"h-20 w-20 rounded-full object-cover border"}),u.jsx("button",{type:"button",onClick:St,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:u.jsx($t,{size:12})})]}):u.jsx("div",{className:"h-20 w-20 rounded-full border-2 border-dashed border-gray-300 flex items-center justify-center",children:u.jsx(sa,{className:"text-gray-400",size:24})}),u.jsxs("div",{children:[u.jsx("input",{type:"file",ref:Fe,onChange:Ze,accept:"image/*",className:"hidden"}),u.jsx("button",{type:"button",onClick:()=>Fe.current?.click(),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Choose Image"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, JPEG up to 5MB"})]})]}),oe.removeImage&&u.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Image will be set to default"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),u.jsx("input",{type:"text",value:oe.name,onChange:H=>ye(V=>({...V,name:H.target.value})),className:"w-full px-3 py-2 border rounded-md focus:outline-primary",placeholder:"Enter full name",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),u.jsx("input",{type:"text",value:oe.title,onChange:H=>ye(V=>({...V,title:H.target.value})),className:"w-full px-3 py-2 border rounded-md focus:outline-primary",placeholder:"e.g., CEO at Company",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message *"}),u.jsx("textarea",{value:oe.message,onChange:H=>ye(V=>({...V,message:H.target.value})),rows:6,className:"w-full px-3 py-2 border rounded-md focus:outline-primary resize-vertical",placeholder:"Enter testimonial message",required:!0})]})]}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx("button",{type:"button",onClick:()=>ae(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:Nt.isPending||Ft.isPending,className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center gap-2 disabled:opacity-50",children:Nt.isPending||Ft.isPending?u.jsxs(u.Fragment,{children:[u.jsx(wt,{className:"animate-spin"}),te?"Updating...":"Creating..."]}):te?"Update Testimonial":"Create Testimonial"})]})]})]})})]}),N&&u.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>k(!1),children:u.jsx(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:H=>H.stopPropagation(),children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-start",children:[u.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:u.jsx(Vn,{className:"h-5 w-5 text-red-600"})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Testimonial"}),u.jsx("div",{className:"mt-2",children:u.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this testimonial? This action cannot be undone."})})]})]}),u.jsxs("div",{className:"mt-5 flex justify-end gap-3",children:[u.jsx("button",{type:"button",onClick:()=>k(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),u.jsx("button",{type:"button",onClick:Oe,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})})})]})}function Ile(){const t=Hn(),{data:e,isLoading:n,isError:r,error:s,refetch:i}=Cn({queryKey:["testmonials"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/feedbacks",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})});return j.useEffect(()=>{r&&(s.response?.status==401&&(localStorage.removeItem("userToken"),t("/login")),s.response?.status==403&&(toast.error("You are not authorized to view this page"),t("/home")))},[r]),u.jsxs("div",{className:"p-4",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Testmonials"}),u.jsx(zle,{testmonialsData:e?.data?.data||[],loading:n,refetch:i})]})}function Ble(){const t=Hn(),e=Li(),[n,r]=j.useState(!1),[s,i]=j.useState(!1),[a,l]=j.useState(""),{data:d,isLoading:f}=Cn({queryKey:["currentUser"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}),[p,m]=j.useState({our_mission:"",our_vision:"",portfolio:"",years:"",projects:"",clients:"",engineers:"",image:null}),y=Ht.useRef(null),{data:x,isLoading:b,isError:S,error:C}=Cn({queryKey:["aboutUs"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/settings",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),refetchOnWindowFocus:!1});j.useEffect(()=>{if(x?.data?.data){const P=x.data.data;m({our_mission:P.our_mission||"",our_vision:P.our_vision||"",portfolio:P.portfolio||"",years:P.years||"",projects:P.projects||"",clients:P.clients||"",engineers:P.engineers||"",image:null}),P.image&&l(P.image)}},[x]),j.useEffect(()=>{S&&(C.response?.status===401&&(localStorage.removeItem("userToken"),t("/login")),C.response?.status===403&&(ge.error("You are not authorized to view this page"),t("/home")))},[S,C,t]);const N=P=>{const F=P.target.files[0];if(F){if(!F.type.startsWith("image/")){ge.error("Please select an image file");return}if(F.size>6*1024*1024){ge.error("Image size should be less than 6MB");return}m(ee=>({...ee,image:F})),l(URL.createObjectURL(F))}},k=()=>{m(P=>({...P,image:null})),l(""),y.current&&(y.current.value="")},D=di({mutationFn:P=>{const F=new FormData;return F.append("our_mission",P.our_mission),F.append("our_vision",P.our_vision),F.append("portfolio",P.portfolio),F.append("years",P.years),F.append("projects",P.projects),F.append("clients",P.clients),F.append("engineers",P.engineers),P.image&&F.append("image",P.image),F.append("_method","PUT"),Ge.post("https://nexus-consults.com/api/public/api/admin/settings",F,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}})},onSuccess:()=>{ge.success("About Us information updated successfully"),r(!1),e.invalidateQueries(["aboutUs"])},onError:P=>{ge.error(P.response?.data?.message||"Failed to update About Us information"),P.response?.status===401&&(localStorage.removeItem("userToken"),t("/login")),P.response?.status===403&&ge.error("You are not authorized to perform this action")}}),M=P=>{if(P.preventDefault(),!p.our_mission||!p.our_vision||!p.portfolio){ge.error("Please fill in all required fields");return}if(p.portfolio&&!E(p.portfolio)){ge.error("Please enter a valid URL for the portfolio");return}if(!p.years||!p.projects||!p.clients||!p.engineers){ge.error("Please fill in all statistics fields");return}D.mutate(p)},E=P=>{try{return new URL(P),!0}catch{return!1}},A=()=>{if(r(!1),x?.data?.data){const P=x.data.data;m({our_mission:P.our_mission||"",our_vision:P.our_vision||"",portfolio:P.portfolio||"",years:P.years||"",projects:P.projects||"",clients:P.clients||"",engineers:P.engineers||"",image:null}),l(P.image||"")}};return b?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(wt,{className:"animate-spin text-2xl text-primary"}),u.jsx("span",{className:"text-lg",children:"Loading About Us information..."})]})}):u.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"About Us"}),u.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your company's about us information and statistics"})]}),u.jsxs(Tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-2xl overflow-hidden",children:[u.jsx("div",{className:"border-b border-gray-200 px-6 py-4",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"About Us Information"}),n?u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-all",children:[u.jsx($t,{size:16}),"Cancel"]}),u.jsxs("button",{onClick:M,disabled:D.isPending,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all disabled:opacity-50",children:[D.isPending?u.jsx(wt,{className:"animate-spin",size:16}):u.jsx(Fu,{size:16}),"Save Changes"]})]}):d?.data?.data?.admin?.permissions?.includes("edit_feedbacks")&&u.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-darkBlue transition-all",children:[u.jsx(ki,{size:16}),"Edit Information"]})]})}),u.jsx("div",{className:"p-6",children:u.jsxs("form",{onSubmit:M,children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Company Image"}),u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a?u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:a,alt:"Company",className:"h-64 w-full object-cover rounded-lg border-2 border-gray-300"}),n&&u.jsx("button",{type:"button",onClick:k,className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 transition-all",children:u.jsx($t,{size:14})})]}):u.jsxs("div",{className:"h-64 w-full border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center gap-3",children:[u.jsx(sa,{className:"text-gray-400 text-4xl"}),u.jsx("span",{className:"text-gray-500",children:"No image uploaded"})]}),n&&u.jsxs("div",{className:"w-full",children:[u.jsx("input",{type:"file",ref:y,onChange:N,accept:"image/*",className:"hidden"}),u.jsx("button",{type:"button",onClick:()=>y.current?.click(),className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-all",children:"Choose Image"}),u.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"PNG, JPG, JPEG up to 6MB"})]})]})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx(ZX,{className:"text-primary"}),"Company Statistics"]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Years in Business"}),n?u.jsx("input",{type:"number",value:p.years,onChange:P=>m(F=>({...F,years:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-primary",min:"0",required:!0}):u.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg",children:[u.jsx(eJ,{className:"text-blue-600"}),u.jsx("span",{className:"font-semibold",children:x?.data?.data?.years||"0"}),u.jsx("span",{className:"text-sm text-gray-600",children:"Years"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Projects Completed"}),n?u.jsx("input",{type:"number",value:p.projects,onChange:P=>m(F=>({...F,projects:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-primary",min:"0",required:!0}):u.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg",children:[u.jsx(iJ,{className:"text-green-600"}),u.jsx("span",{className:"font-semibold",children:x?.data?.data?.projects||"0"}),u.jsx("span",{className:"text-sm text-gray-600",children:"Projects"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Happy Clients"}),n?u.jsx("input",{type:"number",value:p.clients,onChange:P=>m(F=>({...F,clients:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-primary",min:"0",required:!0}):u.jsxs("div",{className:"flex items-center gap-2 p-3 bg-purple-50 rounded-lg",children:[u.jsx(uJ,{className:"text-purple-600"}),u.jsx("span",{className:"font-semibold",children:x?.data?.data?.clients||"0"}),u.jsx("span",{className:"text-sm text-gray-600",children:"Clients"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expert Engineers"}),n?u.jsx("input",{type:"number",value:p.engineers,onChange:P=>m(F=>({...F,engineers:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-primary",min:"0",required:!0}):u.jsxs("div",{className:"flex items-center gap-2 p-3 bg-orange-50 rounded-lg",children:[u.jsx(cJ,{className:"text-orange-600"}),u.jsx("span",{className:"font-semibold",children:x?.data?.data?.engineers||"0"}),u.jsx("span",{className:"text-sm text-gray-600",children:"Engineers"})]})]})]})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[u.jsx(aJ,{className:"text-primary"}),"Our Mission *"]}),n?u.jsx("textarea",{value:p.our_mission,onChange:P=>m(F=>({...F,our_mission:P.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-primary resize-vertical",placeholder:"Describe your company's mission...",required:!0}):u.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:u.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:x?.data?.data?.our_mission||"No mission statement provided."})})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[u.jsx(wu,{className:"text-primary"}),"Our Vision *"]}),n?u.jsx("textarea",{value:p.our_vision,onChange:P=>m(F=>({...F,our_vision:P.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-primary resize-vertical",placeholder:"Describe your company's vision...",required:!0}):u.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:u.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:x?.data?.data?.our_vision||"No vision statement provided."})})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[u.jsx(N4,{className:"text-primary"}),"Portfolio URL *"]}),n?u.jsxs("div",{children:[u.jsx("input",{type:"url",value:p.portfolio,onChange:P=>m(F=>({...F,portfolio:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-primary",placeholder:"https://drive.google.com/your-portfolio-link",required:!0}),u.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Enter the Google Drive URL for your portfolio"})]}):u.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:x?.data?.data?.portfolio?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(N4,{className:"text-primary",size:14}),u.jsx("a",{href:x.data.data.portfolio,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:text-darkBlue break-all",children:x.data.data.portfolio})]}):u.jsx("p",{className:"text-gray-700",children:"No portfolio URL provided."})})]})]})]}),!n&&u.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(wu,{className:"text-blue-600"}),u.jsx("div",{children:u.jsx("p",{className:"text-sm text-blue-800",children:'You are currently in preview mode. Click "Edit Information" to make changes.'})})]})})]})})]}),D.isPending&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl flex items-center gap-3",children:[u.jsx(wt,{className:"animate-spin text-primary text-xl"}),u.jsx("span",{className:"text-gray-700",children:"Updating About Us information..."})]})})]})})}var zh=t=>t.type==="checkbox",Fl=t=>t instanceof Date,cs=t=>t==null;const __=t=>typeof t=="object";var mr=t=>!cs(t)&&!Array.isArray(t)&&__(t)&&!Fl(t),Fle=t=>mr(t)&&t.target?zh(t.target)?t.target.checked:t.target.value:t,$le=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Ule=(t,e)=>t.has($le(e)),Vle=t=>{const e=t.constructor&&t.constructor.prototype;return mr(e)&&e.hasOwnProperty("isPrototypeOf")},kS=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Mr(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(kS&&(t instanceof Blob||r))&&(n||mr(t)))if(e=n?[]:{},!n&&!Vle(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Mr(t[s]));else return t;return e}var Qy=t=>/^\w*$/.test(t),wr=t=>t===void 0,OS=t=>Array.isArray(t)?t.filter(Boolean):[],DS=t=>OS(t.replace(/["|']|\]/g,"").split(/\.|\[/)),It=(t,e,n)=>{if(!e||!mr(t))return n;const r=(Qy(e)?[e]:DS(e)).reduce((s,i)=>cs(s)?s:s[i],t);return wr(r)||r===t?wr(t[e])?n:t[e]:r},Yi=t=>typeof t=="boolean",Yn=(t,e,n)=>{let r=-1;const s=Qy(e)?[e]:DS(e),i=s.length,a=i-1;for(;++r<i;){const l=s[r];let d=n;if(r!==a){const f=t[l];d=mr(f)||Array.isArray(f)?f:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=d,t=t[l]}};const V3={BLUR:"blur",FOCUS_OUT:"focusout"},ji={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ma={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Hle=Ht.createContext(null);Hle.displayName="HookFormContext";var qle=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const a=i;return e._proxyFormState[a]!==ji.all&&(e._proxyFormState[a]=!r||ji.all),t[a]}});return s};const Kle=typeof window<"u"?Ht.useLayoutEffect:Ht.useEffect;var Xi=t=>typeof t=="string",Yle=(t,e,n,r,s)=>Xi(t)?(r&&e.watch.add(t),It(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),It(n,i))):(r&&(e.watchAll=!0),n),xw=t=>cs(t)||!__(t);function Do(t,e,n=new WeakSet){if(xw(t)||xw(e))return t===e;if(Fl(t)&&Fl(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of r){const a=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=e[i];if(Fl(a)&&Fl(l)||mr(a)&&mr(l)||Array.isArray(a)&&Array.isArray(l)?!Do(a,l,n):a!==l)return!1}}return!0}var Wle=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},_f=t=>Array.isArray(t)?t:[t],H3=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},ws=t=>mr(t)&&!Object.keys(t).length,MS=t=>t.type==="file",Ti=t=>typeof t=="function",ly=t=>{if(!kS)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},L_=t=>t.type==="select-multiple",RS=t=>t.type==="radio",Gle=t=>RS(t)||zh(t),jb=t=>ly(t)&&t.isConnected;function Xle(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=wr(t)?r++:t[e[r++]];return t}function Jle(t){for(const e in t)if(t.hasOwnProperty(e)&&!wr(t[e]))return!1;return!0}function vr(t,e){const n=Array.isArray(e)?e:Qy(e)?[e]:DS(e),r=n.length===1?t:Xle(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(mr(r)&&ws(r)||Array.isArray(r)&&Jle(r))&&vr(t,n.slice(0,-1)),t}var P_=t=>{for(const e in t)if(Ti(t[e]))return!0;return!1};function cy(t,e={}){const n=Array.isArray(t);if(mr(t)||n)for(const r in t)Array.isArray(t[r])||mr(t[r])&&!P_(t[r])?(e[r]=Array.isArray(t[r])?[]:{},cy(t[r],e[r])):cs(t[r])||(e[r]=!0);return e}function z_(t,e,n){const r=Array.isArray(t);if(mr(t)||r)for(const s in t)Array.isArray(t[s])||mr(t[s])&&!P_(t[s])?wr(e)||xw(n[s])?n[s]=Array.isArray(t[s])?cy(t[s],[]):{...cy(t[s])}:z_(t[s],cs(e)?{}:e[s],n[s]):n[s]=!Do(t[s],e[s]);return n}var ef=(t,e)=>z_(t,e,cy(e));const q3={value:!1,isValid:!1},K3={value:!0,isValid:!0};var I_=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!wr(t[0].attributes.value)?wr(t[0].value)||t[0].value===""?K3:{value:t[0].value,isValid:!0}:K3:q3}return q3},B_=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>wr(t)?t:e?t===""?NaN:t&&+t:n&&Xi(t)?new Date(t):r?r(t):t;const Y3={isValid:!1,value:null};var F_=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,Y3):Y3;function W3(t){const e=t.ref;return MS(e)?e.files:RS(e)?F_(t.refs).value:L_(e)?[...e.selectedOptions].map(({value:n})=>n):zh(e)?I_(t.refs).value:B_(wr(e.value)?t.ref.value:e.value,t)}var Qle=(t,e,n,r)=>{const s={};for(const i of t){const a=It(e,i);a&&Yn(s,i,a._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},uy=t=>t instanceof RegExp,tf=t=>wr(t)?t:uy(t)?t.source:mr(t)?uy(t.value)?t.value.source:t.value:t,G3=t=>({isOnSubmit:!t||t===ji.onSubmit,isOnBlur:t===ji.onBlur,isOnChange:t===ji.onChange,isOnAll:t===ji.all,isOnTouch:t===ji.onTouched});const X3="AsyncFunction";var Zle=t=>!!t&&!!t.validate&&!!(Ti(t.validate)&&t.validate.constructor.name===X3||mr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===X3)),ece=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),J3=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Lf=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=It(t,s);if(i){const{_f:a,...l}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(Lf(l,e))break}else if(mr(l)&&Lf(l,e))break}}};function Q3(t,e,n){const r=It(t,n);if(r||Qy(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),a=It(e,i),l=It(t,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:n}}var tce=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return ws(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!r||ji.all))},nce=(t,e,n)=>!t||!e||t===e||_f(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),rce=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,sce=(t,e)=>!OS(It(t,e)).length&&vr(t,e),ice=(t,e,n)=>{const r=_f(It(t,n));return Yn(r,"root",e[n]),Yn(t,n,r),t},Wm=t=>Xi(t);function Z3(t,e,n="validate"){if(Wm(t)||Array.isArray(t)&&t.every(Wm)||Yi(t)&&!t)return{type:n,message:Wm(t)?t:"",ref:e}}var Zc=t=>mr(t)&&!uy(t)?t:{value:t,message:""},e5=async(t,e,n,r,s,i)=>{const{ref:a,refs:l,required:d,maxLength:f,minLength:p,min:m,max:y,pattern:x,validate:b,name:S,valueAsNumber:C,mount:N}=t._f,k=It(n,S);if(!N||e.has(S))return{};const D=l?l[0]:a,M=ae=>{s&&D.reportValidity&&(D.setCustomValidity(Yi(ae)?"":ae||""),D.reportValidity())},E={},A=RS(a),P=zh(a),F=A||P,ee=(C||MS(a))&&wr(a.value)&&wr(k)||ly(a)&&a.value===""||k===""||Array.isArray(k)&&!k.length,be=Wle.bind(null,S,r,E),ce=(ae,te,ke,ze=Ma.maxLength,W=Ma.minLength)=>{const oe=ae?te:ke;E[S]={type:ae?ze:W,message:oe,ref:a,...be(ae?ze:W,oe)}};if(i?!Array.isArray(k)||!k.length:d&&(!F&&(ee||cs(k))||Yi(k)&&!k||P&&!I_(l).isValid||A&&!F_(l).isValid)){const{value:ae,message:te}=Wm(d)?{value:!!d,message:d}:Zc(d);if(ae&&(E[S]={type:Ma.required,message:te,ref:D,...be(Ma.required,te)},!r))return M(te),E}if(!ee&&(!cs(m)||!cs(y))){let ae,te;const ke=Zc(y),ze=Zc(m);if(!cs(k)&&!isNaN(k)){const W=a.valueAsNumber||k&&+k;cs(ke.value)||(ae=W>ke.value),cs(ze.value)||(te=W<ze.value)}else{const W=a.valueAsDate||new Date(k),oe=U=>new Date(new Date().toDateString()+" "+U),ye=a.type=="time",Fe=a.type=="week";Xi(ke.value)&&k&&(ae=ye?oe(k)>oe(ke.value):Fe?k>ke.value:W>new Date(ke.value)),Xi(ze.value)&&k&&(te=ye?oe(k)<oe(ze.value):Fe?k<ze.value:W<new Date(ze.value))}if((ae||te)&&(ce(!!ae,ke.message,ze.message,Ma.max,Ma.min),!r))return M(E[S].message),E}if((f||p)&&!ee&&(Xi(k)||i&&Array.isArray(k))){const ae=Zc(f),te=Zc(p),ke=!cs(ae.value)&&k.length>+ae.value,ze=!cs(te.value)&&k.length<+te.value;if((ke||ze)&&(ce(ke,ae.message,te.message),!r))return M(E[S].message),E}if(x&&!ee&&Xi(k)){const{value:ae,message:te}=Zc(x);if(uy(ae)&&!k.match(ae)&&(E[S]={type:Ma.pattern,message:te,ref:a,...be(Ma.pattern,te)},!r))return M(te),E}if(b){if(Ti(b)){const ae=await b(k,n),te=Z3(ae,D);if(te&&(E[S]={...te,...be(Ma.validate,te.message)},!r))return M(te.message),E}else if(mr(b)){let ae={};for(const te in b){if(!ws(ae)&&!r)break;const ke=Z3(await b[te](k,n),D,te);ke&&(ae={...ke,...be(te,ke.message)},M(ke.message),r&&(E[S]=ae))}if(!ws(ae)&&(E[S]={ref:D,...ae},!r))return E}}return M(!0),E};const ace={mode:ji.onSubmit,reValidateMode:ji.onChange,shouldFocusError:!0};function oce(t={}){let e={...ace,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ti(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=mr(e.defaultValues)||mr(e.values)?Mr(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Mr(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,f=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...p};const y={array:H3(),state:H3()},x=e.criteriaMode===ji.all,b=$=>re=>{clearTimeout(f),f=setTimeout($,re)},S=async $=>{if(!e.disabled&&(p.isValid||m.isValid||$)){const re=e.resolver?ws((await P()).errors):await ee(r,!0);re!==n.isValid&&y.state.next({isValid:re})}},C=($,re)=>{!e.disabled&&(p.isValidating||p.validatingFields||m.isValidating||m.validatingFields)&&(($||Array.from(l.mount)).forEach(B=>{B&&(re?Yn(n.validatingFields,B,re):vr(n.validatingFields,B))}),y.state.next({validatingFields:n.validatingFields,isValidating:!ws(n.validatingFields)}))},N=($,re=[],B,de,xe=!0,H=!0)=>{if(de&&B&&!e.disabled){if(a.action=!0,H&&Array.isArray(It(r,$))){const V=B(It(r,$),de.argA,de.argB);xe&&Yn(r,$,V)}if(H&&Array.isArray(It(n.errors,$))){const V=B(It(n.errors,$),de.argA,de.argB);xe&&Yn(n.errors,$,V),sce(n.errors,$)}if((p.touchedFields||m.touchedFields)&&H&&Array.isArray(It(n.touchedFields,$))){const V=B(It(n.touchedFields,$),de.argA,de.argB);xe&&Yn(n.touchedFields,$,V)}(p.dirtyFields||m.dirtyFields)&&(n.dirtyFields=ef(s,i)),y.state.next({name:$,isDirty:ce($,re),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Yn(i,$,re)},k=($,re)=>{Yn(n.errors,$,re),y.state.next({errors:n.errors})},D=$=>{n.errors=$,y.state.next({errors:n.errors,isValid:!1})},M=($,re,B,de)=>{const xe=It(r,$);if(xe){const H=It(i,$,wr(B)?It(s,$):B);wr(H)||de&&de.defaultChecked||re?Yn(i,$,re?H:W3(xe._f)):ke($,H),a.mount&&S()}},E=($,re,B,de,xe)=>{let H=!1,V=!1;const we={name:$};if(!e.disabled){if(!B||de){(p.isDirty||m.isDirty)&&(V=n.isDirty,n.isDirty=we.isDirty=ce(),H=V!==we.isDirty);const et=Do(It(s,$),re);V=!!It(n.dirtyFields,$),et?vr(n.dirtyFields,$):Yn(n.dirtyFields,$,!0),we.dirtyFields=n.dirtyFields,H=H||(p.dirtyFields||m.dirtyFields)&&V!==!et}if(B){const et=It(n.touchedFields,$);et||(Yn(n.touchedFields,$,B),we.touchedFields=n.touchedFields,H=H||(p.touchedFields||m.touchedFields)&&et!==B)}H&&xe&&y.state.next(we)}return H?we:{}},A=($,re,B,de)=>{const xe=It(n.errors,$),H=(p.isValid||m.isValid)&&Yi(re)&&n.isValid!==re;if(e.delayError&&B?(d=b(()=>k($,B)),d(e.delayError)):(clearTimeout(f),d=null,B?Yn(n.errors,$,B):vr(n.errors,$)),(B?!Do(xe,B):xe)||!ws(de)||H){const V={...de,...H&&Yi(re)?{isValid:re}:{},errors:n.errors,name:$};n={...n,...V},y.state.next(V)}},P=async $=>{C($,!0);const re=await e.resolver(i,e.context,Qle($||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return C($),re},F=async $=>{const{errors:re}=await P($);if($)for(const B of $){const de=It(re,B);de?Yn(n.errors,B,de):vr(n.errors,B)}else n.errors=re;return re},ee=async($,re,B={valid:!0})=>{for(const de in $){const xe=$[de];if(xe){const{_f:H,...V}=xe;if(H){const we=l.array.has(H.name),et=xe._f&&Zle(xe._f);et&&p.validatingFields&&C([de],!0);const ht=await e5(xe,l.disabled,i,x,e.shouldUseNativeValidation&&!re,we);if(et&&p.validatingFields&&C([de]),ht[H.name]&&(B.valid=!1,re))break;!re&&(It(ht,H.name)?we?ice(n.errors,ht,H.name):Yn(n.errors,H.name,ht[H.name]):vr(n.errors,H.name))}!ws(V)&&await ee(V,re,B)}}return B.valid},be=()=>{for(const $ of l.unMount){const re=It(r,$);re&&(re._f.refs?re._f.refs.every(B=>!jb(B)):!jb(re._f.ref))&&Ye($)}l.unMount=new Set},ce=($,re)=>!e.disabled&&($&&re&&Yn(i,$,re),!Do(U(),s)),ae=($,re,B)=>Yle($,l,{...a.mount?i:wr(re)?s:Xi($)?{[$]:re}:re},B,re),te=$=>OS(It(a.mount?i:s,$,e.shouldUnregister?It(s,$,[]):[])),ke=($,re,B={})=>{const de=It(r,$);let xe=re;if(de){const H=de._f;H&&(!H.disabled&&Yn(i,$,B_(re,H)),xe=ly(H.ref)&&cs(re)?"":re,L_(H.ref)?[...H.ref.options].forEach(V=>V.selected=xe.includes(V.value)):H.refs?zh(H.ref)?H.refs.forEach(V=>{(!V.defaultChecked||!V.disabled)&&(Array.isArray(xe)?V.checked=!!xe.find(we=>we===V.value):V.checked=xe===V.value||!!xe)}):H.refs.forEach(V=>V.checked=V.value===xe):MS(H.ref)?H.ref.value="":(H.ref.value=xe,H.ref.type||y.state.next({name:$,values:Mr(i)})))}(B.shouldDirty||B.shouldTouch)&&E($,xe,B.shouldTouch,B.shouldDirty,!0),B.shouldValidate&&Fe($)},ze=($,re,B)=>{for(const de in re){if(!re.hasOwnProperty(de))return;const xe=re[de],H=$+"."+de,V=It(r,H);(l.array.has($)||mr(xe)||V&&!V._f)&&!Fl(xe)?ze(H,xe,B):ke(H,xe,B)}},W=($,re,B={})=>{const de=It(r,$),xe=l.array.has($),H=Mr(re);Yn(i,$,H),xe?(y.array.next({name:$,values:Mr(i)}),(p.isDirty||p.dirtyFields||m.isDirty||m.dirtyFields)&&B.shouldDirty&&y.state.next({name:$,dirtyFields:ef(s,i),isDirty:ce($,H)})):de&&!de._f&&!cs(H)?ze($,H,B):ke($,H,B),J3($,l)&&y.state.next({...n,name:$}),y.state.next({name:a.mount?$:void 0,values:Mr(i)})},oe=async $=>{a.mount=!0;const re=$.target;let B=re.name,de=!0;const xe=It(r,B),H=et=>{de=Number.isNaN(et)||Fl(et)&&isNaN(et.getTime())||Do(et,It(i,B,et))},V=G3(e.mode),we=G3(e.reValidateMode);if(xe){let et,ht;const Jt=re.type?W3(xe._f):Fle($),Pt=$.type===V3.BLUR||$.type===V3.FOCUS_OUT,an=!ece(xe._f)&&!e.resolver&&!It(n.errors,B)&&!xe._f.deps||rce(Pt,It(n.touchedFields,B),n.isSubmitted,we,V),Qt=J3(B,l,Pt);Yn(i,B,Jt),Pt?(xe._f.onBlur&&xe._f.onBlur($),d&&d(0)):xe._f.onChange&&xe._f.onChange($);const Ne=E(B,Jt,Pt),ot=!ws(Ne)||Qt;if(!Pt&&y.state.next({name:B,type:$.type,values:Mr(i)}),an)return(p.isValid||m.isValid)&&(e.mode==="onBlur"?Pt&&S():Pt||S()),ot&&y.state.next({name:B,...Qt?{}:Ne});if(!Pt&&Qt&&y.state.next({...n}),e.resolver){const{errors:pt}=await P([B]);if(H(Jt),de){const pe=Q3(n.errors,r,B),mt=Q3(pt,r,pe.name||B);et=mt.error,B=mt.name,ht=ws(pt)}}else C([B],!0),et=(await e5(xe,l.disabled,i,x,e.shouldUseNativeValidation))[B],C([B]),H(Jt),de&&(et?ht=!1:(p.isValid||m.isValid)&&(ht=await ee(r,!0)));de&&(xe._f.deps&&Fe(xe._f.deps),A(B,ht,et,Ne))}},ye=($,re)=>{if(It(n.errors,re)&&$.focus)return $.focus(),1},Fe=async($,re={})=>{let B,de;const xe=_f($);if(e.resolver){const H=await F(wr($)?$:xe);B=ws(H),de=$?!xe.some(V=>It(H,V)):B}else $?(de=(await Promise.all(xe.map(async H=>{const V=It(r,H);return await ee(V&&V._f?{[H]:V}:V)}))).every(Boolean),!(!de&&!n.isValid)&&S()):de=B=await ee(r);return y.state.next({...!Xi($)||(p.isValid||m.isValid)&&B!==n.isValid?{}:{name:$},...e.resolver||!$?{isValid:B}:{},errors:n.errors}),re.shouldFocus&&!de&&Lf(r,ye,$?xe:l.mount),de},U=$=>{const re={...a.mount?i:s};return wr($)?re:Xi($)?It(re,$):$.map(B=>It(re,B))},ue=($,re)=>({invalid:!!It((re||n).errors,$),isDirty:!!It((re||n).dirtyFields,$),error:It((re||n).errors,$),isValidating:!!It(n.validatingFields,$),isTouched:!!It((re||n).touchedFields,$)}),se=$=>{$&&_f($).forEach(re=>vr(n.errors,re)),y.state.next({errors:$?n.errors:{}})},fe=($,re,B)=>{const de=(It(r,$,{_f:{}})._f||{}).ref,xe=It(n.errors,$)||{},{ref:H,message:V,type:we,...et}=xe;Yn(n.errors,$,{...et,...re,ref:de}),y.state.next({name:$,errors:n.errors,isValid:!1}),B&&B.shouldFocus&&de&&de.focus&&de.focus()},Ee=($,re)=>Ti($)?y.state.subscribe({next:B=>"values"in B&&$(ae(void 0,re),B)}):ae($,re,!0),Pe=$=>y.state.subscribe({next:re=>{nce($.name,re.name,$.exact)&&tce(re,$.formState||p,qe,$.reRenderRoot)&&$.callback({values:{...i},...n,...re,defaultValues:s})}}).unsubscribe,Oe=$=>(a.mount=!0,m={...m,...$.formState},Pe({...$,formState:m})),Ye=($,re={})=>{for(const B of $?_f($):l.mount)l.mount.delete(B),l.array.delete(B),re.keepValue||(vr(r,B),vr(i,B)),!re.keepError&&vr(n.errors,B),!re.keepDirty&&vr(n.dirtyFields,B),!re.keepTouched&&vr(n.touchedFields,B),!re.keepIsValidating&&vr(n.validatingFields,B),!e.shouldUnregister&&!re.keepDefaultValue&&vr(s,B);y.state.next({values:Mr(i)}),y.state.next({...n,...re.keepDirty?{isDirty:ce()}:{}}),!re.keepIsValid&&S()},Me=({disabled:$,name:re})=>{(Yi($)&&a.mount||$||l.disabled.has(re))&&($?l.disabled.add(re):l.disabled.delete(re))},ut=($,re={})=>{let B=It(r,$);const de=Yi(re.disabled)||Yi(e.disabled);return Yn(r,$,{...B||{},_f:{...B&&B._f?B._f:{ref:{name:$}},name:$,mount:!0,...re}}),l.mount.add($),B?Me({disabled:Yi(re.disabled)?re.disabled:e.disabled,name:$}):M($,!0,re.value),{...de?{disabled:re.disabled||e.disabled}:{},...e.progressive?{required:!!re.required,min:tf(re.min),max:tf(re.max),minLength:tf(re.minLength),maxLength:tf(re.maxLength),pattern:tf(re.pattern)}:{},name:$,onChange:oe,onBlur:oe,ref:xe=>{if(xe){ut($,re),B=It(r,$);const H=wr(xe.value)&&xe.querySelectorAll&&xe.querySelectorAll("input,select,textarea")[0]||xe,V=Gle(H),we=B._f.refs||[];if(V?we.find(et=>et===H):H===B._f.ref)return;Yn(r,$,{_f:{...B._f,...V?{refs:[...we.filter(jb),H,...Array.isArray(It(s,$))?[{}]:[]],ref:{type:H.type,name:$}}:{ref:H}}}),M($,!1,void 0,H)}else B=It(r,$,{}),B._f&&(B._f.mount=!1),(e.shouldUnregister||re.shouldUnregister)&&!(Ule(l.array,$)&&a.action)&&l.unMount.add($)}}},Ze=()=>e.shouldFocusError&&Lf(r,ye,l.mount),St=$=>{Yi($)&&(y.state.next({disabled:$}),Lf(r,(re,B)=>{const de=It(r,B);de&&(re.disabled=de._f.disabled||$,Array.isArray(de._f.refs)&&de._f.refs.forEach(xe=>{xe.disabled=de._f.disabled||$}))},0,!1))},Nt=($,re)=>async B=>{let de;B&&(B.preventDefault&&B.preventDefault(),B.persist&&B.persist());let xe=Mr(i);if(y.state.next({isSubmitting:!0}),e.resolver){const{errors:H,values:V}=await P();n.errors=H,xe=Mr(V)}else await ee(r);if(l.disabled.size)for(const H of l.disabled)vr(xe,H);if(vr(n.errors,"root"),ws(n.errors)){y.state.next({errors:{}});try{await $(xe,B)}catch(H){de=H}}else re&&await re({...n.errors},B),Ze(),setTimeout(Ze);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ws(n.errors)&&!de,submitCount:n.submitCount+1,errors:n.errors}),de)throw de},Ft=($,re={})=>{It(r,$)&&(wr(re.defaultValue)?W($,Mr(It(s,$))):(W($,re.defaultValue),Yn(s,$,Mr(re.defaultValue))),re.keepTouched||vr(n.touchedFields,$),re.keepDirty||(vr(n.dirtyFields,$),n.isDirty=re.defaultValue?ce($,Mr(It(s,$))):ce()),re.keepError||(vr(n.errors,$),p.isValid&&S()),y.state.next({...n}))},nt=($,re={})=>{const B=$?Mr($):s,de=Mr(B),xe=ws($),H=xe?s:de;if(re.keepDefaultValues||(s=B),!re.keepValues){if(re.keepDirtyValues){const V=new Set([...l.mount,...Object.keys(ef(s,i))]);for(const we of Array.from(V))It(n.dirtyFields,we)?Yn(H,we,It(i,we)):W(we,It(H,we))}else{if(kS&&wr($))for(const V of l.mount){const we=It(r,V);if(we&&we._f){const et=Array.isArray(we._f.refs)?we._f.refs[0]:we._f.ref;if(ly(et)){const ht=et.closest("form");if(ht){ht.reset();break}}}}if(re.keepFieldsRef)for(const V of l.mount)W(V,It(H,V));else r={}}i=e.shouldUnregister?re.keepDefaultValues?Mr(s):{}:Mr(H),y.array.next({values:{...H}}),y.state.next({values:{...H}})}l={mount:re.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!p.isValid||!!re.keepIsValid||!!re.keepDirtyValues,a.watch=!!e.shouldUnregister,y.state.next({submitCount:re.keepSubmitCount?n.submitCount:0,isDirty:xe?!1:re.keepDirty?n.isDirty:!!(re.keepDefaultValues&&!Do($,s)),isSubmitted:re.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:xe?{}:re.keepDirtyValues?re.keepDefaultValues&&i?ef(s,i):n.dirtyFields:re.keepDefaultValues&&$?ef(s,$):re.keepDirty?n.dirtyFields:{},touchedFields:re.keepTouched?n.touchedFields:{},errors:re.keepErrors?n.errors:{},isSubmitSuccessful:re.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Z=($,re)=>nt(Ti($)?$(i):$,re),Ve=($,re={})=>{const B=It(r,$),de=B&&B._f;if(de){const xe=de.refs?de.refs[0]:de.ref;xe.focus&&(xe.focus(),re.shouldSelect&&Ti(xe.select)&&xe.select())}},qe=$=>{n={...n,...$}},bt={control:{register:ut,unregister:Ye,getFieldState:ue,handleSubmit:Nt,setError:fe,_subscribe:Pe,_runSchema:P,_focusError:Ze,_getWatch:ae,_getDirty:ce,_setValid:S,_setFieldArray:N,_setDisabledField:Me,_setErrors:D,_getFieldArray:te,_reset:nt,_resetDefaultValues:()=>Ti(e.defaultValues)&&e.defaultValues().then($=>{Z($,e.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:be,_disableForm:St,_subjects:y,_proxyFormState:p,get _fields(){return r},get _formValues(){return i},get _state(){return a},set _state($){a=$},get _defaultValues(){return s},get _names(){return l},set _names($){l=$},get _formState(){return n},get _options(){return e},set _options($){e={...e,...$}}},subscribe:Oe,trigger:Fe,register:ut,handleSubmit:Nt,watch:Ee,setValue:W,getValues:U,reset:Z,resetField:Ft,clearErrors:se,unregister:Ye,setError:fe,setFocus:Ve,getFieldState:ue};return{...bt,formControl:bt}}function lce(t={}){const e=Ht.useRef(void 0),n=Ht.useRef(void 0),[r,s]=Ht.useState({isDirty:!1,isValidating:!1,isLoading:Ti(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ti(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!Ti(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...l}=oce(t);e.current={...l,formState:r}}const i=e.current.control;return i._options=t,Kle(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,a},[i]),Ht.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Ht.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),Ht.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),Ht.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),Ht.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==r.isDirty&&i._subjects.state.next({isDirty:a})}},[i,r.isDirty]),Ht.useEffect(()=>{t.values&&!Do(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=t.values,s(a=>({...a}))):i._resetDefaultValues()},[i,t.values]),Ht.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=qle(r,i),e.current}function cce(){const t=Li(),[e,n]=j.useState(!1),[r,s]=j.useState(null),[i,a]=j.useState(null),[l,d]=j.useState(!1),[f,p]=j.useState(""),[m,y]=j.useState(null),{register:x,handleSubmit:b,reset:S,watch:C,setValue:N,formState:{errors:k}}=lce(),{data:D,isLoading:M}=Cn({queryKey:["currentUser"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})});j.useEffect(()=>{e&&D?.data?.data?.admin&&(N("name",D.data.data.admin.name),N("email",D.data.data.admin.email),N("bio",D.data.data.admin.bio||""))},[e,D,N]);const E=di({mutationFn:async()=>Ge.post("https://nexus-consults.com/api/public/api/admin/auth/settings/request-update",{},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),onSuccess:()=>{Sr.success("Verification code sent to your email"),d(!0)},onError:ce=>{Sr.error(ce.response?.data?.message||"Failed to send verification code")}}),A=di({mutationFn:async({formData:ce,verificationCode:ae})=>{const te=new FormData;return te.append("name",ce.name),te.append("email",ce.email),te.append("bio",ce.bio),te.append("code",ae),ce.password&&te.append("password",ce.password),r&&te.append("profile_image",r),Ge.post("https://nexus-consults.com/api/public/api/admin/auth/settings/confirm-update",te,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}})},onSuccess:()=>{Sr.success("Profile updated successfully"),t.invalidateQueries(["currentUser"]),n(!1),s(null),a(null),d(!1),p(""),y(null)},onError:ce=>{Sr.error(ce.response?.data?.message||"Failed to update profile")}}),P=ce=>{const ae=ce.target.files[0];if(ae){s(ae);const te=new FileReader;te.onloadend=()=>{a(te.result)},te.readAsDataURL(ae)}},F=ce=>{y(ce),E.mutate()},ee=()=>{if(!f.trim()){Sr.error("Please enter verification code");return}A.mutate({formData:m,verificationCode:f.trim()})},be=()=>{d(!1),p(""),y(null)};return M?u.jsxs("div",{className:"mx-auto p-6",children:[u.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-8 animate-pulse"}),u.jsxs("div",{className:"flex flex-col gap-8",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[u.jsxs("div",{className:"flex items-center mb-8",children:[u.jsx("div",{className:"relative",children:u.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 animate-pulse"})}),u.jsxs("div",{className:"ml-6 space-y-2",children:[u.jsx("div",{className:"h-6 bg-gray-200 rounded w-40 animate-pulse"}),u.jsx("div",{className:"h-4 bg-gray-200 rounded w-48 animate-pulse"}),u.jsx("div",{className:"h-3 bg-gray-200 rounded w-32 animate-pulse"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[[1,2,3,4].map(ce=>u.jsxs("div",{children:[u.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-1 animate-pulse"}),u.jsx("div",{className:"h-10 bg-gray-100 rounded-md animate-pulse"})]},ce)),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/6 mb-1 animate-pulse"}),u.jsx("div",{className:"h-20 bg-gray-100 rounded-md animate-pulse"})]})]}),u.jsx("div",{className:"mt-8 flex justify-end",children:u.jsx("div",{className:"h-10 bg-gray-200 rounded w-32 animate-pulse"})})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[u.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-6 animate-pulse"}),u.jsx("div",{className:"flex flex-wrap gap-3",children:[1,2,3,4,5].map(ce=>u.jsx("div",{className:"h-8 bg-gray-100 rounded-xl w-24 animate-pulse"},ce))})]})]})]}):u.jsxs("div",{className:"mx-auto p-6",children:[u.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:["Welcome ",D?.data?.data?.admin?.name.split(" ")[0]]}),u.jsxs("div",{className:"flex flex-col gap-8",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[u.jsxs("div",{className:"flex items-center mb-8",children:[u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:i||D?.data?.data?.admin?.profile_image,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-2 border-gray-200"}),e&&u.jsxs("label",{className:"absolute bottom-0 right-0 bg-blue-500 text-white rounded-full p-2 cursor-pointer",children:[u.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:P}),u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 3H8.828a2 2 0 00-1.414.586L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})})]})]}),u.jsxs("div",{className:"ml-6",children:[u.jsx("h2",{className:"text-xl font-semibold",children:D?.data?.data?.admin?.name}),u.jsx("p",{className:"text-gray-600",children:D?.data?.data?.admin?.email})]})]}),u.jsxs("form",{onSubmit:b(F),children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),e?u.jsx("input",{type:"text",...x("name",{required:"Name is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:E.isPending}):u.jsx("p",{className:"px-3 py-2 bg-gray-50 rounded-md",children:D?.data?.data?.admin?.name}),k.name&&u.jsx("p",{className:"text-red-500 text-sm mt-1",children:k.name.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e?u.jsx("input",{type:"email",...x("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):u.jsx("p",{className:"px-3 py-2 bg-gray-50 rounded-md",children:D?.data?.data?.admin?.email}),k.email&&u.jsx("p",{className:"text-red-500 text-sm mt-1",children:k.email.message})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bio"}),e?u.jsx("textarea",{...x("bio"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Tell us about yourself...",disabled:E.isPending}):u.jsx("p",{className:"px-3 py-2 bg-gray-50 rounded-md whitespace-pre-line",children:D?.data?.data?.admin?.bio||"No bio yet"})]}),e&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),u.jsx("input",{type:"password",...x("password"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Leave blank to keep current password",disabled:E.isPending})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),u.jsx("input",{type:"password",...x("confirmPassword",{validate:ce=>{const ae=C("password");return!ae&&!ce?!0:ce===ae||"Passwords do not match"}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Confirm new password",disabled:E.isPending}),k.confirmPassword&&u.jsx("p",{className:"text-red-500 text-sm mt-1",children:k.confirmPassword.message})]})]})]}),u.jsx("div",{className:"mt-8 flex justify-end space-x-3",children:e?u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>{n(!1),S(),s(null),a(null)},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:E.isPending,children:"Cancel"}),u.jsxs("button",{type:"submit",disabled:E.isPending,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[E.isPending&&u.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 714 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),E.isPending?"Sending Code...":"Save Changes"]})]}):u.jsx("button",{type:"button",onClick:()=>n(!0),className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Edit Profile"})})]})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[u.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Permissions"}),u.jsx("div",{className:"flex flex-wrap gap-3",children:D?.data?.data?.admin?.permissions?.map((ce,ae)=>u.jsx("div",{className:"bg-gray-100 shadow p-1 rounded-xl",children:ce.replaceAll("_"," ")},ae))})]})]}),l&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Email Verification"}),u.jsx("button",{onClick:be,className:"text-gray-500 hover:text-gray-700",disabled:A.isPending,children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("p",{className:"text-gray-600 mb-4",children:"We've sent a verification code to your email address. Please enter it below to confirm your profile changes."}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Verification Code"}),u.jsx("input",{type:"text",value:f,onChange:ce=>p(ce.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter 6-digit code",maxLength:6,disabled:A.isPending})]}),u.jsxs("div",{className:"flex justify-end space-x-3",children:[u.jsx("button",{type:"button",onClick:be,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:A.isPending,children:"Cancel"}),u.jsxs("button",{onClick:ee,disabled:A.isPending||!f.trim(),className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[A.isPending&&u.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 714 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),A.isPending?"Updating...":"Verify & Update"]})]}),u.jsx("div",{className:"mt-4 text-center",children:u.jsxs("button",{onClick:()=>E.mutate(),disabled:E.isPending||A.isPending,className:"text-blue-500 hover:text-blue-600 text-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 mx-auto",children:[E.isPending&&u.jsxs("svg",{className:"animate-spin h-3 w-3",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 714 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),E.isPending?"Sending...":"Resend Code"]})})]})})]})}const t5=Ht.memo(({sectionId:t,label:e,existingImage:n,currentImage:r,caption:s,onImageChange:i,onRemoveImage:a,onRemoveExistingImage:l,onCaptionChange:d})=>{const f=n,[p,m]=j.useState(null),y=j.useRef(null);j.useEffect(()=>{if(r&&r instanceof File){const S=URL.createObjectURL(r);return m(S),()=>{URL.revokeObjectURL(S),m(null)}}else m(null)},[r]);const x=S=>{S.target.files&&S.target.files[0]&&i(t,S.target.files[0])},b=S=>{d&&d(t,S.target.value)};return u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),p?u.jsxs("div",{className:"relative mb-4",children:[u.jsx("img",{src:p,alt:"Preview",className:"h-48 w-full object-cover rounded-lg"}),u.jsx("button",{type:"button",onClick:()=>a(t),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 transition-colors",children:u.jsx($t,{size:16})})]}):f?u.jsxs("div",{className:"relative mb-4",children:[u.jsx("img",{src:f,alt:"Current",className:"h-48 w-full object-cover rounded-lg"}),u.jsx("button",{type:"button",onClick:()=>l(t),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2",children:u.jsx($t,{size:16})})]}):u.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[u.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[u.jsx(sa,{className:"w-8 h-8 mb-3 text-gray-400"}),u.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[u.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),u.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, JPEG (MAX. 5MB)"})]}),u.jsx("input",{ref:y,type:"file",className:"hidden",onChange:x,accept:"image/*"})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image Caption"}),u.jsx("input",{type:"text",value:s||"",onChange:b,className:"w-full px-3 py-2 border rounded-md",placeholder:"Enter image caption (optional)"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add a caption for the image (optional)"})]})]})}),n5=Ht.memo(({name:t,label:e,existingImage:n,currentImage:r,onImageChange:s,onRemoveImage:i})=>{const a=n,[l,d]=j.useState(null);return j.useEffect(()=>{if(r&&r instanceof File){const f=URL.createObjectURL(r);return d(f),()=>{URL.revokeObjectURL(f),d(null)}}else d(null)},[r]),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),l?u.jsxs("div",{className:"relative mb-4",children:[u.jsx("img",{src:l,alt:"Preview",className:"h-48 w-full object-cover rounded-lg"}),u.jsx("button",{type:"button",onClick:()=>i(t),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 transition-colors",children:u.jsx($t,{size:16})})]}):a?u.jsxs("div",{className:"relative mb-4",children:[u.jsx("img",{src:a,alt:"Current",className:"h-48 w-full object-cover rounded-lg"}),u.jsx("button",{type:"button",onClick:()=>i(`existing_${t}`),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2",children:u.jsx($t,{size:16})})]}):u.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[u.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[u.jsx(sa,{className:"w-8 h-8 mb-3 text-gray-400"}),u.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[u.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),u.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, JPEG (MAX. 5MB)"})]}),u.jsx("input",{id:t,name:t,type:"file",className:"hidden",onChange:s,accept:"image/*"})]})]})},(t,e)=>t.name===e.name&&t.label===e.label&&t.existingImage===e.existingImage&&t.currentImage===e.currentImage);function uce({disciplinessData:t,loading:e,refetch:n}){const r=Hn(),s=Li(),[i,a]=j.useState([]),[l,d]=j.useState(!1),[f,p]=j.useState(!1),[m,y]=j.useState({global:"",title:"",is_active:"",created_by:"",created_from:"",created_to:""}),[x,b]=j.useState(1),[S]=j.useState(10),[C,N]=j.useState(null),[k,D]=j.useState(!1),[M,E]=j.useState(null),[A,P]=j.useState(null),[F,ee]=j.useState(!1),[be,ce]=j.useState(!1),[ae,te]=j.useState(!1),[ke,ze]=j.useState(null),[W,oe]=j.useState(!1),[ye,Fe]=j.useState(!1),[U,ue]=j.useState(null),[se,fe]=j.useState({title:"",slug:"",description:"",order:0,is_active:!0,show_on_home:!1,cover_photo:null,sections:[]}),[Ee,Pe]=j.useState({id:null,title:"",slug:"",description:"",order:0,is_active:!0,show_on_home:!1,cover_photo:null,existing_cover_photo:null,sections:[]}),[Oe,Ye]=j.useState(!1),[Me,ut]=j.useState(!1),Ze="disciplineDrafts",St="disciplineDrafts_beforeunload_fallback",[Nt,Ft]=j.useState([]),[nt,Z]=j.useState(null),Ve=j.useRef(null),qe=j.useRef(""),{data:at}=Cn({queryKey:["currentUser"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}),{data:bt,isLoading:$,refetch:re}=Cn({queryKey:["discipline",ke],queryFn:()=>ke?Ge.get(`https://nexus-consults.com/api/public/api/admin/disciplines/${ke}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}).then(_=>_.data.data):Promise.resolve(null),enabled:!!ke}),B=async()=>{try{const _=await la.getItem(Ze),K=Array.isArray(_)?_:[];Ft(K);const R=localStorage.getItem(St);if(R){try{const q=JSON.parse(R);q&&typeof q=="object"&&xe(q)}catch{}localStorage.removeItem(St)}}catch{}},de=async _=>{try{await la.setItem(Ze,_)}catch(K){console.error("Persist drafts failed",K),ge.error("Could not save drafts locally")}},xe=async _=>{Ft(K=>{const R=K.findIndex(_e=>_e.id===_.id);let q=[...K];const ne=new Date().toISOString();if(R>=0)q[R]={...K[R],..._,updatedAt:ne};else{const _e=_.slug?K.findIndex(ft=>ft.slug===_.slug&&ft.slug):-1;_e>=0?q[_e]={...K[_e],..._,id:K[_e].id,updatedAt:ne}:q.push({..._,updatedAt:ne})}return q.length>20&&(q=q.slice().sort((_e,ft)=>new Date(ft.updatedAt)-new Date(_e.updatedAt)).slice(0,20)),de(q),q})},H=async _=>{Ft(K=>{const R=K.filter(q=>q.id!==_);return de(R),R}),nt===_&&Z(null)},V=async _=>{_&&Ft(K=>{const R=K.filter(q=>q.slug!==_);return de(R),R})};j.useEffect(()=>{B()},[]);const we=()=>{if(!(se.title&&se.title.trim()!==""||se.description&&se.description.trim()!==""||se.sections.some(q=>q.content&&q.content.trim()!=="")))return null;let K=nt;if(!K&&se.slug){const q=Nt.find(ne=>ne.slug===se.slug);q&&(K=q.id)}const R=se.sections.map(q=>({content:q.content||"",caption:q.caption||"",image_meta:q.image?{name:q.image.name,type:q.image.type,size:q.image.size}:null,existing_image:q.existing_image||null}));return{id:K||`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,title:se.title,slug:se.slug,description:se.description,order:se.order||0,is_active:se.is_active,show_on_home:se.show_on_home||!1,sections:R,cover_photo_meta:se.cover_photo?{name:se.cover_photo.name,type:se.cover_photo.type,size:se.cover_photo.size}:null}},et=()=>{const _=we();_&&(Z(_.id),xe(_),ge.success("Draft saved locally"))},ht=_=>{const K=_.sections?.map(R=>({id:Date.now()+Math.random(),content:R.content||"",caption:R.caption||"",image:null,existing_image:R.existing_image||null}))||[];fe({title:_.title||"",slug:_.slug||"",description:_.description||"",order:_.order||0,is_active:_.is_active??!0,show_on_home:_.show_on_home||!1,sections:K,cover_photo:null}),Ye(!0),Z(_.id),ee(!0),ge("Draft loaded")};j.useEffect(()=>{if(F){Ve.current=setInterval(()=>{const K=we();if(K){const R=JSON.stringify({title:K.title,description:K.description,order:K.order,sections:K.sections});R!==qe.current&&(Z(q=>q||K.id),xe(K),qe.current=R)}},5e3);const _=()=>{const K=we();if(K){xe(K);try{localStorage.setItem(St,JSON.stringify(K))}catch{}}};return window.addEventListener("beforeunload",_),()=>{Ve.current&&clearInterval(Ve.current),window.removeEventListener("beforeunload",_),qe.current=""}}else Ve.current&&clearInterval(Ve.current),qe.current=""},[F]);const Jt=(_,K)=>{y(R=>({...R,[_]:K})),b(1)},Pt=_=>_.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),an=_=>{E(_),D(!0)},Qt=async()=>{if(M){N(M),D(!1);try{await Ge.delete(`https://nexus-consults.com/api/public/api/admin/disciplines/${M}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ge.success("Discipline deleted successfully",{duration:2e3}),n()}catch(_){ge.error(_.response?.data?.message||"An unexpected error occurred",{duration:3e3}),_.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),_.response?.status==403&&(ge.error("You are not authorized to view this page"),r("/home"))}finally{N(null),E(null)}}},Ne=_=>{ue(_),Fe(!0)},ot=()=>{fe({title:"",slug:"",description:"",order:0,is_active:!0,show_on_home:!1,cover_photo:null,sections:[]}),Ye(!1)},pt=()=>{ot(),ee(!0)},pe=_=>{ze(_.id)};j.useEffect(()=>{if(bt&&ke){const K=(bt.sections||[]).map((R,q)=>({id:Date.now()+q,content:R.content||"",caption:R.caption||"",image:null,existing_image:R.image||null}));Pe({id:bt.id,title:bt.title,slug:bt.slug,description:bt.description,order:bt.order||0,is_active:bt.is_active,show_on_home:bt.show_on_home||!1,cover_photo:null,existing_cover_photo:bt.cover_photo,sections:K}),ut(!0),ce(!0)}},[bt,ke]);const mt=()=>{const _={id:Date.now()+Math.random(),content:"",caption:"",image:null,existing_image:null};fe(K=>({...K,sections:[...K.sections,_]}))},Lt=_=>{fe(K=>({...K,sections:K.sections.filter(R=>R.id!==_)}))},rt=(_,K)=>{fe(R=>({...R,sections:R.sections.map(q=>q.id===_?{...q,content:K}:q)}))},Te=(_,K)=>{fe(R=>({...R,sections:R.sections.map(q=>q.id===_?{...q,caption:K}:q)}))},lt=(_,K)=>{fe(R=>({...R,sections:R.sections.map(q=>q.id===_?{...q,image:K}:q)}))},jt=_=>{fe(K=>({...K,sections:K.sections.map(R=>R.id===_?{...R,image:null}:R)}))},Et=_=>{fe(K=>({...K,sections:K.sections.map(R=>R.id===_?{...R,existing_image:null,image:null}:R)}))},kt=()=>{const _={id:Date.now()+Math.random(),content:"",caption:"",image:null,existing_image:null};Pe(K=>({...K,sections:[...K.sections,_]}))},en=_=>{Pe(K=>({...K,sections:K.sections.filter(R=>R.id!==_)}))},Nn=(_,K)=>{Pe(R=>({...R,sections:R.sections.map(q=>q.id===_?{...q,content:K}:q)}))},Q=(_,K)=>{Pe(R=>({...R,sections:R.sections.map(q=>q.id===_?{...q,caption:K}:q)}))},me=(_,K)=>{Pe(R=>({...R,sections:R.sections.map(q=>q.id===_?{...q,image:K}:q)}))},je=_=>{Pe(K=>({...K,sections:K.sections.map(R=>R.id===_?{...R,image:null}:R)}))},$e=_=>{Pe(K=>({...K,sections:K.sections.map(R=>R.id===_?{...R,existing_image:null,image:null}:R)}))},Xe=_=>{const{name:K,value:R,type:q,checked:ne,files:_e}=_.target;if(fe(q==="file"?ft=>({...ft,[K]:_e[0]}):q==="number"?ft=>({...ft,[K]:parseInt(R)||0}):ft=>({...ft,[K]:q==="checkbox"?ne:R})),K==="title"&&!Oe){const ft=Pt(R);fe(tn=>({...tn,slug:ft}))}},vt=_=>{const{value:K}=_.target;fe(R=>({...R,slug:K})),Ye(!0)},At=()=>{const _=Pt(se.title);fe(K=>({...K,slug:_})),Ye(!1)},ct=_=>{const{name:K,value:R,type:q,checked:ne,files:_e}=_.target;if(Pe(q==="file"?ft=>({...ft,[K]:_e[0]}):q==="number"?ft=>({...ft,[K]:parseInt(R)||0}):ft=>({...ft,[K]:q==="checkbox"?ne:R})),K==="title"&&!Me){const ft=Pt(R);Pe(tn=>({...tn,slug:ft}))}},Ct=_=>{const{value:K}=_.target;Pe(R=>({...R,slug:K})),ut(!0)},gt=()=>{const _=Pt(Ee.title);Pe(K=>({...K,slug:_})),ut(!1)},Ot=async _=>{if(_.preventDefault(),!se.sections.some(R=>R.content&&R.content.trim()!=="")){ge.error("Please add at least one section with content");return}te(!0);try{const R=new FormData;R.append("title",se.title),R.append("slug",se.slug),R.append("order",se.order||0),R.append("is_active",se.is_active?1:0),R.append("show_on_home",se.show_on_home?1:0),R.append("description",se.description),se.sections.forEach((q,ne)=>{R.append(`content${ne+1}`,q.content||""),R.append(`caption${ne+1}`,q.caption||""),q.image instanceof File&&R.append(`image${ne+1}`,q.image)}),R.append("cover_photo",se.cover_photo||""),await Ge.post("https://nexus-consults.com/api/public/api/admin/disciplines",R,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}}),te(!1),ge.success("Discipline added successfully",{duration:2e3}),ee(!1),ot(),n(),V(se.slug),Z(null)}catch(R){te(!1),ge.error(R.response?.data?.message||"An unexpected error occurred",{duration:3e3}),R.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),R.response?.status==403&&(ge.error("You are not authorized to view this page"),r("/home"))}},G=async _=>{if(_.preventDefault(),!Ee.sections.some(R=>R.content&&R.content.trim()!=="")){ge.error("Please add at least one section with content");return}te(!0);try{const R=new FormData;R.append("title",Ee.title),R.append("slug",Ee.slug),R.append("order",Ee.order||0),R.append("is_active",Ee.is_active?1:0),R.append("show_on_home",Ee.show_on_home?1:0),R.append("description",Ee.description),R.append("_method","PUT"),Ee.sections.forEach((q,ne)=>{R.append(`content${ne+1}`,q.content||""),R.append(`caption${ne+1}`,q.caption||""),q.image instanceof File?R.append(`image${ne+1}`,q.image):q.existing_image===null&&R.append(`image${ne+1}`,"")}),Ee.cover_photo instanceof File?R.append("cover_photo",Ee.cover_photo):Ee.existing_cover_photo===null&&R.append("cover_photo",""),await Ge.post(`https://nexus-consults.com/api/public/api/admin/disciplines/${Ee.id}`,R,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}}),te(!1),ge.success("Discipline updated successfully",{duration:2e3}),ce(!1),ze(null),n(),s.invalidateQueries(["discipline",Ee.id])}catch(R){te(!1),ge.error(R.response?.data?.message||"An unexpected error occurred",{duration:3e3}),R.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),R.response?.status==403&&(ge.error("You are not authorized to view this page"),r("/home"))}},Re=di({mutationFn:_=>Ge.patch(`https://nexus-consults.com/api/public/api/admin/disciplines/${_}/toggle-active`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),onMutate:_=>{P(_)},onSuccess:()=>{ge.success("Status updated successfully"),n()},onError:_=>{ge.error(_.response?.data?.message||"Failed to update status"),_.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),_.response?.status==403&&ge.error("You are not authorized to perform this action")},onSettled:()=>{P(null)}}),tt=_=>{Re.mutate(_)},yt=t?.filter(_=>{const K=m.global===""||_.title?.toLowerCase().includes(m.global.toLowerCase())||_.description?.toLowerCase().includes(m.global.toLowerCase())||_.created_by?.toLowerCase().includes(m.global.toLowerCase()),R=m.title===""||_.title?.toLowerCase().includes(m.title.toLowerCase()),q=m.created_by===""||_.created_by?.toLowerCase().includes(m.created_by.toLowerCase()),ne=m.is_active===""||_.is_active?.toString()===m.is_active;let _e=!0;if(_.created_at){const ft=new Date(_.created_at);if(m.created_from){const tn=new Date(`${m.created_from}T00:00:00`);ft<tn&&(_e=!1)}if(_e&&m.created_to){const tn=new Date(`${m.created_to}T23:59:59.999`);ft>tn&&(_e=!1)}}return K&&R&&q&&ne&&_e})||[],Wt=Math.ceil(yt.length/S),Dt=yt.slice((x-1)*S,x*S),zt=_=>{const K=_?"bg-[#009379] text-white":"bg-[#930002] text-white";return u.jsx("span",{className:`flex justify-center w-fit items-center px-2.5 py-1 rounded-md text-xs font-medium ${K} min-w-16 text-center`,children:_?"Active":"Inactive"})},Xn=()=>Wt<=1?null:u.jsxs("div",{className:"flex justify-between items-center mt-4 px-4 pb-1",children:[u.jsxs("div",{className:"text-xs",children:["Showing ",(x-1)*S+1,"-",Math.min(x*S,yt.length)," of ",yt.length," entries"]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:()=>b(1),disabled:x===1,className:"p-1 disabled:opacity-50",children:u.jsx(Qo,{className:"h-4 w-4"})}),u.jsxs("span",{className:"px-3 py-1",children:["Page ",x," of ",Wt]}),u.jsx("button",{onClick:()=>b(_=>Math.min(Wt,_+1)),disabled:x===Wt,className:"p-1 disabled:opacity-50",children:u.jsx(Zo,{className:"h-4 w-4"})})]})]}),On=(_,K)=>{a(K?R=>[...R,_]:R=>R.filter(q=>q!==_))},bn=_=>{_?(a(yt.map(K=>K.id)),d(!0)):(a([]),d(!1))},jn=async()=>{i.length&&oe(!0)},gr=async()=>{oe(!1);try{p(!0),await Ge.post("https://nexus-consults.com/api/public/api/admin/disciplines/bulk/delete",{ids:i},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ge.success(`${i.length} discipline(s) deleted successfully`),a([]),d(!1),n()}catch(_){console.error("Error deleting disciplines:",_),ge.error(_.response?.data?.message||"Failed to delete disciplines")}finally{p(!1)}},Jn=async _=>{if(i.length)try{p(!0),await Ge.post("https://nexus-consults.com/api/public/api/admin/disciplines/bulk/update-status",{ids:i,status:_},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ge.success(`Status updated for ${i.length} discipline(s)`),a([]),d(!1),n()}catch(K){console.error("Error updating discipline status:",K),ge.error(K.response?.data?.message||"Failed to update discipline status")}finally{p(!1)}},Y=()=>se.sections.map((_,K)=>u.jsxs("div",{className:"p-4 border rounded-lg mb-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("h3",{className:"text-lg font-medium",children:["Section ",K+1]}),u.jsx("button",{type:"button",onClick:()=>Lt(_.id),className:"text-red-500 hover:text-red-700 p-1",disabled:se.sections.length===1,children:u.jsx(Su,{size:16})})]}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Content ",K+1,"*"]}),u.jsx(ui,{content:_.content,onUpdate:R=>rt(_.id,R)})]}),u.jsx(t5,{sectionId:_.id,label:`Image ${K+1}`,existingImage:_.existing_image,currentImage:_.image,caption:_.caption,onImageChange:lt,onRemoveImage:jt,onRemoveExistingImage:Et,onCaptionChange:Te})]},_.id)),Se=()=>Ee.sections.map((_,K)=>u.jsxs("div",{className:"p-4 border rounded-lg mb-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("h3",{className:"text-lg font-medium",children:["Section ",K+1]}),u.jsx("button",{type:"button",onClick:()=>en(_.id),className:"text-red-500 hover:text-red-700 p-1",disabled:Ee.sections.length===1,children:u.jsx(Su,{size:16})})]}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Content ",K+1,"*"]}),u.jsx(ui,{content:_.content,onUpdate:R=>Nn(_.id,R)})]}),u.jsx(t5,{sectionId:_.id,label:`Image ${K+1}`,existingImage:_.existing_image,currentImage:_.image,caption:_.caption,onImageChange:me,onRemoveImage:je,onRemoveExistingImage:$e,onCaptionChange:Q})]},_.id));return u.jsxs("div",{className:"shadow-2xl rounded-2xl overflow-hidden bg-white",children:[u.jsxs("div",{className:"p-4 border-b flex justify-between items-center gap-4",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(A2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),u.jsx("input",{type:"text",value:m.global,onChange:_=>Jt("global",_.target.value),placeholder:"Search disciplines...",className:"pl-10 pr-4 py-2 rounded-xl shadow-sm focus:outline-2 focus:outline-primary w-full border border-primary transition-all"})]}),at?.data?.data?.admin?.permissions?.includes("create_disciplines")&&u.jsxs("button",{onClick:pt,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl hover:bg-darkBlue transition-all",children:[u.jsx(Ar,{size:16}),"Add Discipline"]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:l&&yt.length>0,onChange:_=>bn(_.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),u.jsx("span",{className:"ml-2",children:"Title"})]})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cover Photo"}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsxs("select",{value:m.is_active,onChange:_=>Jt("is_active",_.target.value),className:"text-xs p-1 border rounded w-full",children:[u.jsx("option",{value:"",children:"All Status"}),u.jsx("option",{value:"true",children:"Active"}),u.jsx("option",{value:"false",children:"Inactive"})]})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.jsx("input",{type:"text",value:m.created_by,onChange:_=>Jt("created_by",_.target.value),placeholder:"Created By",className:"text-xs p-1 border rounded w-full"})}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created Date"}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:e?u.jsx("tr",{children:u.jsx("td",{colSpan:"7",className:"px-3 py-4 text-center",children:u.jsxs("div",{className:"flex justify-center items-center gap-2",children:[u.jsx(wt,{className:"animate-spin",size:18}),"Loading disciplines..."]})})}):Dt.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:"7",className:"px-3 py-4 text-center",children:"No disciplines found"})}):Dt.map(_=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:i.includes(_.id),onChange:K=>On(_.id,K.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),u.jsxs("div",{className:"ml-2",children:[u.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.title}),_.description&&u.jsx("div",{className:"text-xs text-gray-500 truncate max-w-xs",children:_.description})]})]})}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:_.cover_photo&&u.jsx("img",{src:_.cover_photo,alt:"Cover",className:"h-10 w-10 object-cover rounded"})}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:_.order||0})}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:zt(_.is_active)}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:_.created_by||"-"})}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:_.created_at?new Date(_.created_at).toLocaleDateString():"-"})}),u.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{className:"text-blue-500 hover:text-blue-700 p-1",onClick:()=>Ne(_),title:"View Details",children:u.jsx(wu,{size:16})}),at?.data?.data?.admin?.permissions?.includes("edit_disciplines")&&u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"text-purple-500 hover:text-purple-700 p-1",onClick:()=>pe(_),title:"Edit",disabled:$,children:$&&ke===_.id?u.jsx(wt,{className:"animate-spin",size:16}):u.jsx(ki,{size:16})}),u.jsx("button",{className:`${_.is_active?"text-green-500 hover:text-green-700":"text-red-500 hover:text-red-700"} p-1`,onClick:()=>tt(_.id),disabled:A===_.id,title:_.is_active?"Deactivate":"Activate",children:A===_.id?u.jsx(wt,{className:"animate-spin",size:16}):_.is_active?u.jsx(Pr,{}):u.jsx($t,{})})]}),at?.data?.data?.admin?.permissions?.includes("delete_disciplines")&&u.jsx("button",{className:"text-red-500 hover:text-red-700 p-1",onClick:()=>an(_.id),disabled:C===_.id,title:"Delete",children:C===_.id?u.jsx(wt,{className:"animate-spin",size:16}):u.jsx(Vn,{size:16})})]})})]},_.id))})]})}),W&&u.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:"bg-white rounded-lg p-6 max-w-md w-full",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Deletion"}),u.jsx("button",{onClick:()=>oe(!1),className:"text-gray-500 hover:text-gray-700",children:u.jsx($t,{})})]}),u.jsxs("p",{className:"text-gray-700 mb-6",children:["Are you sure you want to delete ",i.length," selected discipline(s)? This action cannot be undone."]}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx("button",{onClick:()=>oe(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:f,children:"Cancel"}),u.jsx("button",{onClick:gr,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 flex items-center",disabled:f,children:f?u.jsxs(u.Fragment,{children:[u.jsx(wt,{className:"animate-spin mr-2"}),"Deleting..."]}):"Delete"})]})]})}),i.length>0&&u.jsx("div",{className:"bg-blue-50 p-4 rounded-md mb-6 border border-blue-200",children:u.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[u.jsxs("div",{className:"text-blue-800 font-medium",children:[i.length," discipline(s) selected"]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs("button",{onClick:()=>Jn(!0),disabled:f,className:"flex items-center px-3 py-1.5 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 text-sm",children:[u.jsx(Pr,{className:"mr-1.5"}),"Activate"]}),u.jsxs("button",{onClick:()=>Jn(!1),disabled:f,className:"flex items-center px-3 py-1.5 bg-yellow-600 text-white rounded hover:bg-yellow-700 disabled:opacity-50 text-sm",children:[u.jsx($t,{className:"mr-1.5"}),"Deactivate"]}),u.jsxs("button",{onClick:jn,disabled:f,className:"flex items-center px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 text-sm",children:[u.jsx(Vn,{className:"mr-1.5"}),"Delete"]}),u.jsxs("button",{onClick:()=>{a([]),d(!1)},className:"flex items-center px-3 py-1.5 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 text-sm",children:[u.jsx($t,{className:"mr-1.5"}),"Clear Selection"]}),f&&u.jsxs("div",{className:"flex items-center",children:[u.jsx(wt,{className:"animate-spin mr-1.5"}),"Loading..."]})]})]})}),!e&&Xn(),u.jsxs("div",{className:"p-4 border-t",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Drafts"}),u.jsx("div",{className:"text-xs text-gray-500",children:"Drafts are stored locally in your browser"})]}),Nt.length===0?u.jsx("div",{className:"text-sm text-gray-500",children:"No drafts yet"}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full divide-y divide-gray-200 text-sm",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-2 text-left",children:"Title"}),u.jsx("th",{className:"px-4 py-2 text-left",children:"Updated"}),u.jsx("th",{className:"px-4 py-2 text-left",children:"Note"}),u.jsx("th",{className:"px-4 py-2 text-left",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-200",children:Nt.slice().sort((_,K)=>new Date(K.updatedAt)-new Date(_.updatedAt)).map(_=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-2",children:_.title||u.jsx("span",{className:"italic text-gray-400",children:"Untitled"})}),u.jsx("td",{className:"px-4 py-2",children:new Date(_.updatedAt).toLocaleString()}),u.jsx("td",{className:"px-4 py-2 text-xs text-gray-500",children:_.cover_photo_meta?`Attachment: ${_.cover_photo_meta.name} (re-attach required)`:"No attachment"}),u.jsx("td",{className:"px-4 py-2",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-1",onClick:()=>ht(_),children:[u.jsx(Ah,{})," Resume"]}),u.jsx("button",{className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",onClick:()=>H(_.id),children:"Delete"})]})})]},_.id))})]})})]}),F&&u.jsxs(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 ",children:[u.jsx("button",{onClick:()=>{ee(!1);const _=we();_&&xe(_)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:u.jsx(ns,{className:"",size:40})}),u.jsx(Tt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-4/5 h-[90vh] overflow-y-auto",onClick:_=>_.stopPropagation(),children:u.jsxs("div",{className:"p-6",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New Discipline"}),u.jsxs("form",{onSubmit:Ot,children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title*"}),u.jsx("input",{type:"text",name:"title",value:se.title,onChange:Xe,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"number",name:"order",value:se.order,onChange:Xe,min:"0",step:"1",className:"w-full px-3 py-2 border rounded-md pl-10",placeholder:"0"}),u.jsx(b1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16})]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lower numbers appear first"})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug*"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",name:"slug",value:se.slug,onChange:vt,className:"w-full px-3 py-2 border rounded-md",required:!0}),Oe&&u.jsx("button",{type:"button",onClick:At,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",title:"Reset to auto-generated slug",children:u.jsx($t,{})})]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Oe?"Slug is manually edited. Click the X to reset to auto-generated.":"Slug is auto-generated from title. You can edit it manually."})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),u.jsx("textarea",{name:"description",value:se.description,onChange:Xe,rows:3,className:"w-full px-3 py-2 border rounded-md resize-vertical",placeholder:"Enter discipline description..."})]}),u.jsx(n5,{name:"cover_photo",label:"Cover Photo",currentImage:se.cover_photo,onImageChange:Xe,onRemoveImage:_=>fe(K=>({...K,[_]:null}))}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:se.is_active,onChange:Xe,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700",children:"Active"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"show_on_home",name:"show_on_home",checked:se.show_on_home,onChange:Xe,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsx("label",{htmlFor:"show_on_home",className:"ml-2 text-sm text-gray-700",children:"Show on Home Screen"})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"space-y-4",children:se.sections.length===0?u.jsxs("div",{className:"text-center p-8 border-2 border-dashed rounded-lg",children:[u.jsx("p",{className:"text-gray-500 mb-4",children:'No sections added yet. Click "Add Section" to get started.'}),u.jsx("p",{className:"text-sm text-gray-400",children:"Note: At least one section with content is required."})]}):Y()}),u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-medium",children:"Sections"}),u.jsxs("button",{type:"button",onClick:mt,className:"bg-primary hover:bg-darkBlue text-white px-3 py-2 rounded-md flex items-center gap-2",children:[u.jsx(Ar,{})," Add Section"]})]})]}),u.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[u.jsxs("div",{className:"text-xs text-gray-500 mt-2 flex items-center",children:[u.jsx(wt,{className:`animate-spin mr-1 ${ae?"opacity-100":"opacity-0"}`,size:12}),"Auto-saves to drafts every 5s"]}),u.jsxs("button",{type:"button",onClick:et,className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[u.jsx(Fu,{size:16})," Save as Draft"]}),u.jsx("button",{type:"button",onClick:()=>{const _=we();_&&xe(_),ee(!1),ot()},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:ae,children:ae?u.jsxs(u.Fragment,{children:[u.jsx(wt,{className:"animate-spin",size:18}),u.jsx("span",{children:"Adding..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Ar,{size:18}),u.jsx("span",{children:"Add Discipline"})]})})]})]})]})})]}),be&&u.jsxs(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[u.jsx("button",{onClick:()=>{ce(!1),ze(null)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:u.jsx(ns,{className:"",size:40})}),u.jsx(Tt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-4/5 h-[90vh] overflow-y-auto",onClick:_=>_.stopPropagation(),children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center mb-4",children:[u.jsx("button",{type:"button",onClick:()=>{ce(!1),ze(null)},className:"text-blue-600 hover:text-blue-800 font-medium",children:"Disciplines"}),u.jsx("span",{className:"mx-2 text-gray-400",children:">"}),u.jsx("span",{className:"text-xl font-bold text-gray-900",children:Ee.title||"Untitled Discipline"}),$&&u.jsxs("div",{className:"ml-4 flex items-center text-sm text-gray-500",children:[u.jsx(wt,{className:"animate-spin mr-2",size:14}),"Loading discipline data..."]})]}),$?u.jsxs("div",{className:"flex justify-center items-center py-8",children:[u.jsx(wt,{className:"animate-spin mr-2",size:24}),u.jsx("span",{children:"Loading discipline data..."})]}):u.jsxs("form",{onSubmit:G,children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title*"}),u.jsx("input",{type:"text",name:"title",value:Ee.title,onChange:ct,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"number",name:"order",value:Ee.order,onChange:ct,min:"0",step:"1",className:"w-full px-3 py-2 border rounded-md pl-10",placeholder:"0"}),u.jsx(b1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16})]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lower numbers appear first"})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug*"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",name:"slug",value:Ee.slug,onChange:Ct,className:"w-full px-3 py-2 border rounded-md",required:!0}),Me&&u.jsx("button",{type:"button",onClick:gt,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",title:"Reset to auto-generated slug",children:u.jsx($t,{})})]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Me?"Slug is manually edited. Click the X to reset to auto-generated.":"Slug is auto-generated from title. You can edit it manually."})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),u.jsx("textarea",{name:"description",value:Ee.description,onChange:ct,rows:3,className:"w-full px-3 py-2 border rounded-md resize-vertical",placeholder:"Enter discipline description..."})]}),u.jsx(n5,{name:"cover_photo",label:"Cover Photo",existingImage:Ee.existing_cover_photo,currentImage:Ee.cover_photo,onImageChange:ct,onRemoveImage:_=>{if(_.startsWith("existing_")){const K=_.replace("existing_","");Pe(R=>({...R,[_]:null,[K]:null}))}else Pe(K=>({...K,[_]:null}))}}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"edit_is_active",name:"is_active",checked:Ee.is_active,onChange:ct,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsx("label",{htmlFor:"edit_is_active",className:"ml-2 text-sm text-gray-700",children:"Active"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"edit_show_on_home",name:"show_on_home",checked:Ee.show_on_home,onChange:ct,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsx("label",{htmlFor:"edit_show_on_home",className:"ml-2 text-sm text-gray-700",children:"Show on Home Screen"})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"flex justify-between items-center mb-4",children:u.jsx("h3",{className:"text-lg font-medium",children:"Sections"})}),u.jsx("div",{className:"space-y-4",children:Ee.sections.length===0?u.jsxs("div",{className:"text-center p-8 border-2 border-dashed rounded-lg",children:[u.jsx("p",{className:"text-gray-500 mb-4",children:'No sections added yet. Click "Add Section" to get started.'}),u.jsx("p",{className:"text-sm text-gray-400",children:"Note: At least one section with content is required."})]}):Se()}),u.jsx("div",{className:"flex justify-end items-center mb-4",children:u.jsxs("button",{type:"button",onClick:kt,className:"bg-primary hover:bg-darkBlue text-white px-3 py-2 rounded-md flex items-center gap-2",children:[u.jsx(Ar,{})," Add Section"]})})]}),u.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[u.jsx("button",{type:"button",onClick:()=>{ce(!1),ze(null)},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:ae,children:ae?u.jsxs(u.Fragment,{children:[u.jsx(wt,{className:"animate-spin",size:18}),u.jsx("span",{children:"Updating..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Pr,{size:18}),u.jsx("span",{children:"Update Discipline"})]})})]})]})]})})]}),k&&u.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>D(!1),children:u.jsx(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:_=>_.stopPropagation(),children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-start",children:[u.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:u.jsx(Vn,{className:"h-5 w-5 text-red-600"})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Discipline"}),u.jsx("div",{className:"mt-2",children:u.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this discipline? This action cannot be undone."})})]})]}),u.jsxs("div",{className:"mt-5 flex justify-end gap-3",children:[u.jsx("button",{type:"button",onClick:()=>D(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),u.jsx("button",{type:"button",onClick:Qt,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})})}),ye&&u.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>Fe(!1),children:u.jsx(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:_=>_.stopPropagation(),children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Discipline Details"}),u.jsx("button",{onClick:()=>Fe(!1),className:"text-gray-500 hover:text-gray-700",children:u.jsx($t,{size:20})})]}),U?u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),u.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:U.title})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900",children:U.description||"No description provided"})]}),U.cover_photo&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cover Photo"}),u.jsx("img",{src:U.cover_photo,alt:"Cover",className:"mt-1 h-48 w-full object-cover rounded-lg"})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Order"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900",children:U.order||0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),u.jsx("div",{className:"mt-1",children:zt(U.is_active)})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Show on Home"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900",children:U.show_on_home?"Yes":"No"})]})]}),u.jsx("div",{className:"grid grid-cols-2 gap-4",children:u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Created By"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900",children:U.created_by||"-"})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Created On"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(U.created_at).toLocaleString()})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Updated"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(U.updated_at).toLocaleString()})]})]})]})}):u.jsx("div",{className:"text-center py-8 text-gray-500",children:"Failed to load discipline details"})]})})})]})}function dce(){const t=Hn(),{data:e,isLoading:n,isError:r,error:s,refetch:i}=Cn({queryKey:["disciplines"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/disciplines",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})});return j.useEffect(()=>{r&&(s.response?.status==401&&(localStorage.removeItem("userToken"),t("/login")),s.response?.status==403&&(toast.error("You are not authorized to view this page"),t("/home")))},[r]),u.jsxs("div",{className:"p-4",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Disciplines"}),u.jsx(uce,{disciplinessData:e?.data?.data||[],loading:n,refetch:i})]})}function fce(){const t=Hn(),e=()=>{window.location.reload()},n=()=>{t("/")};return u.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 px-4",children:u.jsxs("div",{className:"text-center max-w-md mx-auto",children:[u.jsx("div",{className:"mb-6",children:u.jsx("div",{className:"w-24 h-24 mx-auto bg-red-100 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-12 h-12 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})})}),u.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-4",children:"Unexpected Error Occurred"}),u.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"We apologize for the inconvenience. Please try refreshing the page or return to the homepage."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsx("button",{onClick:e,className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors duration-200",children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh Page"]})}),u.jsx("button",{onClick:n,className:"px-6 py-3 bg-gray-200 text-gray-900 font-medium rounded-lg hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 transition-colors duration-200",children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Go Home"]})})]}),u.jsx("p",{className:"text-sm text-gray-500 mt-8",children:"If the problem persists, please contact support."})]})})}function hce(){const t=YP([{path:"/login",element:u.jsx(yV,{})},{path:"/",element:u.jsx(ni,{children:u.jsx(Oq,{})}),errorElement:u.jsx(fce,{}),children:[{index:!0,element:u.jsx(ni,{children:u.jsx(Tle,{})})},{path:"/services",element:u.jsx(ni,{children:u.jsx(jle,{})})},{path:"/projects",element:u.jsx(ni,{children:u.jsx(Ale,{})})},{path:"/admins",element:u.jsx(ni,{children:u.jsx(Ole,{})})},{path:"/blogs",element:u.jsx(ni,{children:u.jsx(Mle,{})})},{path:"/jobs",element:u.jsx(ni,{children:u.jsx(_le,{})})},{path:"/jobs-applications",element:u.jsx(ni,{children:u.jsx(Ple,{})})},{path:"/testmonials",element:u.jsx(ni,{children:u.jsx(Ile,{})})},{path:"/about-us",element:u.jsx(ni,{children:u.jsx(Ble,{})})},{path:"/user-setting",element:u.jsx(ni,{children:u.jsx(cce,{})})},{path:"/disciplines",element:u.jsx(ni,{children:u.jsx(dce,{})})}]},{path:"*",element:u.jsx(pK,{})}]);let e=new VV({defaultOptions:{queries:{retry:!1}}});return u.jsx(u.Fragment,{children:u.jsx(xV,{children:u.jsxs(WV,{client:e,children:[u.jsx(s9,{router:t}),u.jsx(U$,{position:"bottom-right",reverseOrder:!1})]})})})}XL.createRoot(document.getElementById("root")).render(u.jsx(j.StrictMode,{children:u.jsx(hce,{})}))});export default pce();
