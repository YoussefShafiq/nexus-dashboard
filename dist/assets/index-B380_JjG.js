var V7=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var yce=V7((Vs,Hs)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Hp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ka(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zx={exports:{}},$d={};var iT;function H7(){if(iT)return $d;iT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,i){var a=null;if(i!==void 0&&(a=""+i),s.key!==void 0&&(a=""+s.key),"key"in s){i={};for(var l in s)l!=="key"&&(i[l]=s[l])}else i=s;return s=i.ref,{$$typeof:t,type:r,key:a,ref:s!==void 0?s:null,props:i}}return $d.Fragment=e,$d.jsx=n,$d.jsxs=n,$d}var aT;function q7(){return aT||(aT=1,Zx.exports=H7()),Zx.exports}var c=q7(),ev={exports:{}},on={};var oT;function K7(){if(oT)return on;oT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y($){return $===null||typeof $!="object"?null:($=m&&$[m]||$["@@iterator"],typeof $=="function"?$:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,S={};function C($,de,ie){this.props=$,this.context=de,this.refs=S,this.updater=ie||x}C.prototype.isReactComponent={},C.prototype.setState=function($,de){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,de,"setState")},C.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function N(){}N.prototype=C.prototype;function k($,de,ie){this.props=$,this.context=de,this.refs=S,this.updater=ie||x}var M=k.prototype=new N;M.constructor=k,b(M,C.prototype),M.isPureReactComponent=!0;var D=Array.isArray,E={H:null,A:null,T:null,S:null,V:null},A=Object.prototype.hasOwnProperty;function F($,de,ie,he,ke,ze){return ie=ze.ref,{$$typeof:t,type:$,key:de,ref:ie!==void 0?ie:null,props:ze}}function H($,de){return F($.type,de,void 0,void 0,void 0,$.props)}function Z($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function ve($){var de={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ie){return de[ie]})}var ue=/\/+/g;function oe($,de){return typeof $=="object"&&$!==null&&$.key!=null?ve(""+$.key):de.toString(36)}function te(){}function ne($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(te,te):($.status="pending",$.then(function(de){$.status==="pending"&&($.status="fulfilled",$.value=de)},function(de){$.status==="pending"&&($.status="rejected",$.reason=de)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function xe($,de,ie,he,ke){var ze=typeof $;(ze==="undefined"||ze==="boolean")&&($=null);var Me=!1;if($===null)Me=!0;else switch(ze){case"bigint":case"string":case"number":Me=!0;break;case"object":switch($.$$typeof){case t:case e:Me=!0;break;case p:return Me=$._init,xe(Me($._payload),de,ie,he,ke)}}if(Me)return ke=ke($),Me=he===""?"."+oe($,0):he,D(ke)?(ie="",Me!=null&&(ie=Me.replace(ue,"$&/")+"/"),xe(ke,de,ie,"",function(ut){return ut})):ke!=null&&(Z(ke)&&(ke=H(ke,ie+(ke.key==null||$&&$.key===ke.key?"":(""+ke.key).replace(ue,"$&/")+"/")+Me)),de.push(ke)),1;Me=0;var Ye=he===""?".":he+":";if(D($))for(var Re=0;Re<$.length;Re++)he=$[Re],ze=Ye+oe(he,Re),Me+=xe(he,de,ie,ze,ke);else if(Re=y($),typeof Re=="function")for($=Re.call($),Re=0;!(he=$.next()).done;)he=he.value,ze=Ye+oe(he,Re++),Me+=xe(he,de,ie,ze,ke);else if(ze==="object"){if(typeof $.then=="function")return xe(ne($),de,ie,he,ke);throw de=String($),Error("Objects are not valid as a React child (found: "+(de==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":de)+"). If you meant to render a collection of children, use an array instead.")}return Me}function W($,de,ie){if($==null)return $;var he=[],ke=0;return xe($,he,"","",function(ze){return de.call(ie,ze,ke++)}),he}function le($){if($._status===-1){var de=$._result;de=de(),de.then(function(ie){($._status===0||$._status===-1)&&($._status=1,$._result=ie)},function(ie){($._status===0||$._status===-1)&&($._status=2,$._result=ie)}),$._status===-1&&($._status=0,$._result=de)}if($._status===1)return $._result.default;throw $._result}var be=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var de=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(de))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)};function Fe(){}return on.Children={map:W,forEach:function($,de,ie){W($,function(){de.apply(this,arguments)},ie)},count:function($){var de=0;return W($,function(){de++}),de},toArray:function($){return W($,function(de){return de})||[]},only:function($){if(!Z($))throw Error("React.Children.only expected to receive a single React element child.");return $}},on.Component=C,on.Fragment=n,on.Profiler=s,on.PureComponent=k,on.StrictMode=r,on.Suspense=d,on.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,on.__COMPILER_RUNTIME={__proto__:null,c:function($){return E.H.useMemoCache($)}},on.cache=function($){return function(){return $.apply(null,arguments)}},on.cloneElement=function($,de,ie){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var he=b({},$.props),ke=$.key,ze=void 0;if(de!=null)for(Me in de.ref!==void 0&&(ze=void 0),de.key!==void 0&&(ke=""+de.key),de)!A.call(de,Me)||Me==="key"||Me==="__self"||Me==="__source"||Me==="ref"&&de.ref===void 0||(he[Me]=de[Me]);var Me=arguments.length-2;if(Me===1)he.children=ie;else if(1<Me){for(var Ye=Array(Me),Re=0;Re<Me;Re++)Ye[Re]=arguments[Re+2];he.children=Ye}return F($.type,ke,void 0,void 0,ze,he)},on.createContext=function($){return $={$$typeof:a,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:i,_context:$},$},on.createElement=function($,de,ie){var he,ke={},ze=null;if(de!=null)for(he in de.key!==void 0&&(ze=""+de.key),de)A.call(de,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(ke[he]=de[he]);var Me=arguments.length-2;if(Me===1)ke.children=ie;else if(1<Me){for(var Ye=Array(Me),Re=0;Re<Me;Re++)Ye[Re]=arguments[Re+2];ke.children=Ye}if($&&$.defaultProps)for(he in Me=$.defaultProps,Me)ke[he]===void 0&&(ke[he]=Me[he]);return F($,ze,void 0,void 0,null,ke)},on.createRef=function(){return{current:null}},on.forwardRef=function($){return{$$typeof:l,render:$}},on.isValidElement=Z,on.lazy=function($){return{$$typeof:p,_payload:{_status:-1,_result:$},_init:le}},on.memo=function($,de){return{$$typeof:f,type:$,compare:de===void 0?null:de}},on.startTransition=function($){var de=E.T,ie={};E.T=ie;try{var he=$(),ke=E.S;ke!==null&&ke(ie,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Fe,be)}catch(ze){be(ze)}finally{E.T=de}},on.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},on.use=function($){return E.H.use($)},on.useActionState=function($,de,ie){return E.H.useActionState($,de,ie)},on.useCallback=function($,de){return E.H.useCallback($,de)},on.useContext=function($){return E.H.useContext($)},on.useDebugValue=function(){},on.useDeferredValue=function($,de){return E.H.useDeferredValue($,de)},on.useEffect=function($,de,ie){var he=E.H;if(typeof ie=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return he.useEffect($,de)},on.useId=function(){return E.H.useId()},on.useImperativeHandle=function($,de,ie){return E.H.useImperativeHandle($,de,ie)},on.useInsertionEffect=function($,de){return E.H.useInsertionEffect($,de)},on.useLayoutEffect=function($,de){return E.H.useLayoutEffect($,de)},on.useMemo=function($,de){return E.H.useMemo($,de)},on.useOptimistic=function($,de){return E.H.useOptimistic($,de)},on.useReducer=function($,de,ie){return E.H.useReducer($,de,ie)},on.useRef=function($){return E.H.useRef($)},on.useState=function($){return E.H.useState($)},on.useSyncExternalStore=function($,de,ie){return E.H.useSyncExternalStore($,de,ie)},on.useTransition=function(){return E.H.useTransition()},on.version="19.1.0",on}var lT;function fy(){return lT||(lT=1,ev.exports=K7()),ev.exports}var j=fy();const Vt=Ka(j);var tv={exports:{}},Ud={},nv={exports:{}},rv={};var cT;function Y7(){return cT||(cT=1,function(t){function e(W,le){var be=W.length;W.push(le);e:for(;0<be;){var Fe=be-1>>>1,$=W[Fe];if(0<s($,le))W[Fe]=le,W[be]=$,be=Fe;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var le=W[0],be=W.pop();if(be!==le){W[0]=be;e:for(var Fe=0,$=W.length,de=$>>>1;Fe<de;){var ie=2*(Fe+1)-1,he=W[ie],ke=ie+1,ze=W[ke];if(0>s(he,be))ke<$&&0>s(ze,he)?(W[Fe]=ze,W[ke]=be,Fe=ke):(W[Fe]=he,W[ie]=be,Fe=ie);else if(ke<$&&0>s(ze,be))W[Fe]=ze,W[ke]=be,Fe=ke;else break e}}return le}function s(W,le){var be=W.sortIndex-le.sortIndex;return be!==0?be:W.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var d=[],f=[],p=1,m=null,y=3,x=!1,b=!1,S=!1,C=!1,N=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function D(W){for(var le=n(f);le!==null;){if(le.callback===null)r(f);else if(le.startTime<=W)r(f),le.sortIndex=le.expirationTime,e(d,le);else break;le=n(f)}}function E(W){if(S=!1,D(W),!b)if(n(d)!==null)b=!0,A||(A=!0,oe());else{var le=n(f);le!==null&&xe(E,le.startTime-W)}}var A=!1,F=-1,H=5,Z=-1;function ve(){return C?!0:!(t.unstable_now()-Z<H)}function ue(){if(C=!1,A){var W=t.unstable_now();Z=W;var le=!0;try{e:{b=!1,S&&(S=!1,k(F),F=-1),x=!0;var be=y;try{t:{for(D(W),m=n(d);m!==null&&!(m.expirationTime>W&&ve());){var Fe=m.callback;if(typeof Fe=="function"){m.callback=null,y=m.priorityLevel;var $=Fe(m.expirationTime<=W);if(W=t.unstable_now(),typeof $=="function"){m.callback=$,D(W),le=!0;break t}m===n(d)&&r(d),D(W)}else r(d);m=n(d)}if(m!==null)le=!0;else{var de=n(f);de!==null&&xe(E,de.startTime-W),le=!1}}break e}finally{m=null,y=be,x=!1}le=void 0}}finally{le?oe():A=!1}}}var oe;if(typeof M=="function")oe=function(){M(ue)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ne=te.port2;te.port1.onmessage=ue,oe=function(){ne.postMessage(null)}}else oe=function(){N(ue,0)};function xe(W,le){F=N(function(){W(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(W){switch(y){case 1:case 2:case 3:var le=3;break;default:le=y}var be=y;y=le;try{return W()}finally{y=be}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(W,le){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var be=y;y=W;try{return le()}finally{y=be}},t.unstable_scheduleCallback=function(W,le,be){var Fe=t.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?Fe+be:Fe):be=Fe,W){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=be+$,W={id:p++,callback:le,priorityLevel:W,startTime:be,expirationTime:$,sortIndex:-1},be>Fe?(W.sortIndex=be,e(f,W),n(d)===null&&W===n(f)&&(S?(k(F),F=-1):S=!0,xe(E,be-Fe))):(W.sortIndex=$,e(d,W),b||x||(b=!0,A||(A=!0,oe()))),W},t.unstable_shouldYield=ve,t.unstable_wrapCallback=function(W){var le=y;return function(){var be=y;y=le;try{return W.apply(this,arguments)}finally{y=be}}}}(rv)),rv}var uT;function W7(){return uT||(uT=1,nv.exports=Y7()),nv.exports}var sv={exports:{}},Xr={};var dT;function G7(){if(dT)return Xr;dT=1;var t=fy();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(d,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:d,containerInfo:f,implementation:p}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Xr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xr.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return i(d,f,null,p)},Xr.flushSync=function(d){var f=a.T,p=r.p;try{if(a.T=null,r.p=2,d)return d()}finally{a.T=f,r.p=p,r.d.f()}},Xr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},Xr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Xr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,m=l(p,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:x}):p==="script"&&r.d.X(d,{crossOrigin:m,integrity:y,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Xr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=l(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},Xr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=l(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Xr.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=l(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},Xr.requestFormReset=function(d){r.d.r(d)},Xr.unstable_batchedUpdates=function(d,f){return d(f)},Xr.useFormState=function(d,f,p){return a.H.useFormState(d,f,p)},Xr.useFormStatus=function(){return a.H.useHostTransitionStatus()},Xr.version="19.1.0",Xr}var fT;function s5(){if(fT)return sv.exports;fT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sv.exports=G7(),sv.exports}var hT;function X7(){if(hT)return Ud;hT=1;var t=W7(),e=fy(),n=s5();function r(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function i(o){var u=o,h=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(h=u.return),o=u.return;while(o)}return u.tag===3?h:null}function a(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function l(o){if(i(o)!==o)throw Error(r(188))}function d(o){var u=o.alternate;if(!u){if(u=i(o),u===null)throw Error(r(188));return u!==o?null:o}for(var h=o,g=u;;){var v=h.return;if(v===null)break;var w=v.alternate;if(w===null){if(g=v.return,g!==null){h=g;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===h)return l(v),o;if(w===g)return l(v),u;w=w.sibling}throw Error(r(188))}if(h.return!==g.return)h=v,g=w;else{for(var O=!1,P=v.child;P;){if(P===h){O=!0,h=v,g=w;break}if(P===g){O=!0,g=v,h=w;break}P=P.sibling}if(!O){for(P=w.child;P;){if(P===h){O=!0,h=w,g=v;break}if(P===g){O=!0,g=w,h=v;break}P=P.sibling}if(!O)throw Error(r(189))}}if(h.alternate!==g)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?o:u}function f(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=f(o),u!==null)return u;o=o.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),M=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),ve=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function oe(o){return o===null||typeof o!="object"?null:(o=ue&&o[ue]||o["@@iterator"],typeof o=="function"?o:null)}var te=Symbol.for("react.client.reference");function ne(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===te?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case b:return"Fragment";case C:return"Profiler";case S:return"StrictMode";case E:return"Suspense";case A:return"SuspenseList";case Z:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case x:return"Portal";case M:return(o.displayName||"Context")+".Provider";case k:return(o._context.displayName||"Context")+".Consumer";case D:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case F:return u=o.displayName||null,u!==null?u:ne(o.type)||"Memo";case H:u=o._payload,o=o._init;try{return ne(o(u))}catch{}}return null}var xe=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},Fe=[],$=-1;function de(o){return{current:o}}function ie(o){0>$||(o.current=Fe[$],Fe[$]=null,$--)}function he(o,u){$++,Fe[$]=o.current,o.current=u}var ke=de(null),ze=de(null),Me=de(null),Ye=de(null);function Re(o,u){switch(he(Me,u),he(ze,o),he(ke,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?Rj(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=Rj(u),o=_j(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ie(ke),he(ke,o)}function ut(){ie(ke),ie(ze),ie(Me)}function Ze(o){o.memoizedState!==null&&he(Ye,o);var u=ke.current,h=_j(u,o.type);u!==h&&(he(ze,o),he(ke,h))}function St(o){ze.current===o&&(ie(ke),ie(ze)),Ye.current===o&&(ie(Ye),Pd._currentValue=be)}var Nt=Object.prototype.hasOwnProperty,Ft=t.unstable_scheduleCallback,nt=t.unstable_cancelCallback,ee=t.unstable_shouldYield,Ve=t.unstable_requestPaint,qe=t.unstable_now,at=t.unstable_getCurrentPriorityLevel,bt=t.unstable_ImmediatePriority,B=t.unstable_UserBlockingPriority,se=t.unstable_NormalPriority,I=t.unstable_LowPriority,fe=t.unstable_IdlePriority,we=t.log,V=t.unstable_setDisableYieldValue,U=null,Ce=null;function et(o){if(typeof we=="function"&&V(o),Ce&&typeof Ce.setStrictMode=="function")try{Ce.setStrictMode(U,o)}catch{}}var ht=Math.clz32?Math.clz32:an,Jt=Math.log,Pt=Math.LN2;function an(o){return o>>>=0,o===0?32:31-(Jt(o)/Pt|0)|0}var Qt=256,Te=4194304;function ot(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function pt(o,u,h){var g=o.pendingLanes;if(g===0)return 0;var v=0,w=o.suspendedLanes,O=o.pingedLanes;o=o.warmLanes;var P=g&134217727;return P!==0?(g=P&~w,g!==0?v=ot(g):(O&=P,O!==0?v=ot(O):h||(h=P&~o,h!==0&&(v=ot(h))))):(P=g&~w,P!==0?v=ot(P):O!==0?v=ot(O):h||(h=g&~o,h!==0&&(v=ot(h)))),v===0?0:u!==0&&u!==v&&(u&w)===0&&(w=v&-v,h=u&-u,w>=h||w===32&&(h&4194048)!==0)?u:v}function me(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function mt(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lt(){var o=Qt;return Qt<<=1,(Qt&4194048)===0&&(Qt=256),o}function rt(){var o=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),o}function Ae(o){for(var u=[],h=0;31>h;h++)u.push(o);return u}function lt(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function jt(o,u,h,g,v,w){var O=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var P=o.entanglements,X=o.expirationTimes,Oe=o.hiddenUpdates;for(h=O&~h;0<h;){var Ue=31-ht(h),Ke=1<<Ue;P[Ue]=0,X[Ue]=-1;var De=Oe[Ue];if(De!==null)for(Oe[Ue]=null,Ue=0;Ue<De.length;Ue++){var Pe=De[Ue];Pe!==null&&(Pe.lane&=-536870913)}h&=~Ke}g!==0&&Et(o,g,0),w!==0&&v===0&&o.tag!==0&&(o.suspendedLanes|=w&~(O&~u))}function Et(o,u,h){o.pendingLanes|=u,o.suspendedLanes&=~u;var g=31-ht(u);o.entangledLanes|=u,o.entanglements[g]=o.entanglements[g]|1073741824|h&4194090}function kt(o,u){var h=o.entangledLanes|=u;for(o=o.entanglements;h;){var g=31-ht(h),v=1<<g;v&u|o[g]&u&&(o[g]|=u),h&=~v}}function tn(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Nn(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Q(){var o=le.p;return o!==0?o:(o=window.event,o===void 0?32:Zj(o.type))}function ge(o,u){var h=le.p;try{return le.p=o,u()}finally{le.p=h}}var Ee=Math.random().toString(36).slice(2),$e="__reactFiber$"+Ee,Xe="__reactProps$"+Ee,vt="__reactContainer$"+Ee,At="__reactEvents$"+Ee,ct="__reactListeners$"+Ee,Ct="__reactHandles$"+Ee,gt="__reactResources$"+Ee,Ot="__reactMarker$"+Ee;function G(o){delete o[$e],delete o[Xe],delete o[At],delete o[ct],delete o[Ct]}function _e(o){var u=o[$e];if(u)return u;for(var h=o.parentNode;h;){if(u=h[vt]||h[$e]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(o=Ij(o);o!==null;){if(h=o[$e])return h;o=Ij(o)}return u}o=h,h=o.parentNode}return null}function tt(o){if(o=o[$e]||o[vt]){var u=o.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return o}return null}function yt(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(r(33))}function Wt(o){var u=o[gt];return u||(u=o[gt]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Mt(o){o[Ot]=!0}var zt=new Set,Xn={};function On(o,u){bn(o,u),bn(o+"Capture",u)}function bn(o,u){for(Xn[o]=u,o=0;o<u.length;o++)zt.add(u[o])}var jn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gr={},Jn={};function Y(o){return Nt.call(Jn,o)?!0:Nt.call(gr,o)?!1:jn.test(o)?Jn[o]=!0:(gr[o]=!0,!1)}function Ne(o,u,h){if(Y(u))if(h===null)o.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var g=u.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+h)}}function _(o,u,h){if(h===null)o.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+h)}}function K(o,u,h,g){if(g===null)o.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(u,h,""+g)}}var R,q;function re(o){if(R===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);R=u&&u[1]||"",q=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+R+o+q}var Le=!1;function ft(o,u){if(!o||Le)return"";Le=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(u){var Ke=function(){throw Error()};if(Object.defineProperty(Ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ke,[])}catch(Pe){var De=Pe}Reflect.construct(o,[],Ke)}else{try{Ke.call()}catch(Pe){De=Pe}o.call(Ke.prototype)}}else{try{throw Error()}catch(Pe){De=Pe}(Ke=o())&&typeof Ke.catch=="function"&&Ke.catch(function(){})}}catch(Pe){if(Pe&&De&&typeof Pe.stack=="string")return[Pe.stack,De.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=g.DetermineComponentFrameRoot(),O=w[0],P=w[1];if(O&&P){var X=O.split(`
`),Oe=P.split(`
`);for(v=g=0;g<X.length&&!X[g].includes("DetermineComponentFrameRoot");)g++;for(;v<Oe.length&&!Oe[v].includes("DetermineComponentFrameRoot");)v++;if(g===X.length||v===Oe.length)for(g=X.length-1,v=Oe.length-1;1<=g&&0<=v&&X[g]!==Oe[v];)v--;for(;1<=g&&0<=v;g--,v--)if(X[g]!==Oe[v]){if(g!==1||v!==1)do if(g--,v--,0>v||X[g]!==Oe[v]){var Ue=`
`+X[g].replace(" at new "," at ");return o.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",o.displayName)),Ue}while(1<=g&&0<=v);break}}}finally{Le=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?re(h):""}function nn(o){switch(o.tag){case 26:case 27:case 5:return re(o.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 15:return ft(o.type,!1);case 11:return ft(o.type.render,!1);case 1:return ft(o.type,!0);case 31:return re("Activity");default:return""}}function T(o){try{var u="";do u+=nn(o),o=o.return;while(o);return u}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function L(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function z(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function J(o){var u=z(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),g=""+o[u];if(!o.hasOwnProperty(u)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,w=h.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return v.call(this)},set:function(O){g=""+O,w.call(this,O)}}),Object.defineProperty(o,u,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(O){g=""+O},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function pe(o){o._valueTracker||(o._valueTracker=J(o))}function ae(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var h=u.getValue(),g="";return o&&(g=z(o)?o.checked?"true":"false":o.value),o=g,o!==h?(u.setValue(o),!0):!1}function Ie(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Je=/[\n"\\]/g;function Qe(o){return o.replace(Je,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function st(o,u,h,g,v,w,O,P){o.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?o.type=O:o.removeAttribute("type"),u!=null?O==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+L(u)):o.value!==""+L(u)&&(o.value=""+L(u)):O!=="submit"&&O!=="reset"||o.removeAttribute("value"),u!=null?Dt(o,O,L(u)):h!=null?Dt(o,O,L(h)):g!=null&&o.removeAttribute("value"),v==null&&w!=null&&(o.defaultChecked=!!w),v!=null&&(o.checked=v&&typeof v!="function"&&typeof v!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?o.name=""+L(P):o.removeAttribute("name")}function dt(o,u,h,g,v,w,O,P){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(o.type=w),u!=null||h!=null){if(!(w!=="submit"&&w!=="reset"||u!=null))return;h=h!=null?""+L(h):"",u=u!=null?""+L(u):h,P||u===o.value||(o.value=u),o.defaultValue=u}g=g??v,g=typeof g!="function"&&typeof g!="symbol"&&!!g,o.checked=P?o.checked:!!g,o.defaultChecked=!!g,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(o.name=O)}function Dt(o,u,h){u==="number"&&Ie(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function Zt(o,u,h,g){if(o=o.options,u){u={};for(var v=0;v<h.length;v++)u["$"+h[v]]=!0;for(h=0;h<o.length;h++)v=u.hasOwnProperty("$"+o[h].value),o[h].selected!==v&&(o[h].selected=v),v&&g&&(o[h].defaultSelected=!0)}else{for(h=""+L(h),u=null,v=0;v<o.length;v++){if(o[v].value===h){o[v].selected=!0,g&&(o[v].defaultSelected=!0);return}u!==null||o[v].disabled||(u=o[v])}u!==null&&(u.selected=!0)}}function vn(o,u,h){if(u!=null&&(u=""+L(u),u!==o.value&&(o.value=u),h==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=h!=null?""+L(h):""}function wn(o,u,h,g){if(u==null){if(g!=null){if(h!=null)throw Error(r(92));if(xe(g)){if(1<g.length)throw Error(r(93));g=g[0]}h=g}h==null&&(h=""),u=h}h=L(u),o.defaultValue=h,g=o.textContent,g===h&&g!==""&&g!==null&&(o.value=g)}function _n(o,u){if(u){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=u;return}}o.textContent=u}var Qn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function is(o,u,h){var g=u.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":g?o.setProperty(u,h):typeof h!="number"||h===0||Qn.has(u)?u==="float"?o.cssFloat=h:o[u]=(""+h).trim():o[u]=h+"px"}function Wa(o,u,h){if(u!=null&&typeof u!="object")throw Error(r(62));if(o=o.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||u!=null&&u.hasOwnProperty(g)||(g.indexOf("--")===0?o.setProperty(g,""):g==="float"?o.cssFloat="":o[g]="");for(var v in u)g=u[v],u.hasOwnProperty(v)&&h[v]!==g&&is(o,v,g)}else for(var w in u)u.hasOwnProperty(w)&&is(o,w,u[w])}function sl(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var e0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ku(o){return qu.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Yu=null;function Wu(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var da=null,vc=null;function LS(o){var u=tt(o);if(u&&(o=u.stateNode)){var h=o[Xe]||null;e:switch(o=u.stateNode,u.type){case"input":if(st(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),u=h.name,h.type==="radio"&&u!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Qe(""+u)+'"][type="radio"]'),u=0;u<h.length;u++){var g=h[u];if(g!==o&&g.form===o.form){var v=g[Xe]||null;if(!v)throw Error(r(90));st(g,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(u=0;u<h.length;u++)g=h[u],g.form===o.form&&ae(g)}break e;case"textarea":vn(o,h.value,h.defaultValue);break e;case"select":u=h.value,u!=null&&Zt(o,!!h.multiple,u,!1)}}}var t0=!1;function PS(o,u,h){if(t0)return o(u,h);t0=!0;try{var g=o(u);return g}finally{if(t0=!1,(da!==null||vc!==null)&&(Cp(),da&&(u=da,o=vc,vc=da=null,LS(u),o)))for(u=0;u<o.length;u++)LS(o[u])}}function Gu(o,u){var h=o.stateNode;if(h===null)return null;var g=h[Xe]||null;if(g===null)return null;h=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(r(231,u,typeof h));return h}var fa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),n0=!1;if(fa)try{var Xu={};Object.defineProperty(Xu,"passive",{get:function(){n0=!0}}),window.addEventListener("test",Xu,Xu),window.removeEventListener("test",Xu,Xu)}catch{n0=!1}var Ga=null,r0=null,Bh=null;function zS(){if(Bh)return Bh;var o,u=r0,h=u.length,g,v="value"in Ga?Ga.value:Ga.textContent,w=v.length;for(o=0;o<h&&u[o]===v[o];o++);var O=h-o;for(g=1;g<=O&&u[h-g]===v[w-g];g++);return Bh=v.slice(o,1<g?1-g:void 0)}function Fh(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function $h(){return!0}function IS(){return!1}function ms(o){function u(h,g,v,w,O){this._reactName=h,this._targetInst=v,this.type=g,this.nativeEvent=w,this.target=O,this.currentTarget=null;for(var P in o)o.hasOwnProperty(P)&&(h=o[P],this[P]=h?h(w):w[P]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?$h:IS,this.isPropagationStopped=IS,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=$h)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=$h)},persist:function(){},isPersistent:$h}),u}var il={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uh=ms(il),Ju=p({},il,{view:0,detail:0}),V_=ms(Ju),s0,i0,Qu,Vh=p({},Ju,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:o0,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Qu&&(Qu&&o.type==="mousemove"?(s0=o.screenX-Qu.screenX,i0=o.screenY-Qu.screenY):i0=s0=0,Qu=o),s0)},movementY:function(o){return"movementY"in o?o.movementY:i0}}),BS=ms(Vh),H_=p({},Vh,{dataTransfer:0}),q_=ms(H_),K_=p({},Ju,{relatedTarget:0}),a0=ms(K_),Y_=p({},il,{animationName:0,elapsedTime:0,pseudoElement:0}),W_=ms(Y_),G_=p({},il,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),X_=ms(G_),J_=p({},il,{data:0}),FS=ms(J_),Q_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t8(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=e8[o])?!!u[o]:!1}function o0(){return t8}var n8=p({},Ju,{key:function(o){if(o.key){var u=Q_[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=Fh(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Z_[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:o0,charCode:function(o){return o.type==="keypress"?Fh(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Fh(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),r8=ms(n8),s8=p({},Vh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$S=ms(s8),i8=p({},Ju,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:o0}),a8=ms(i8),o8=p({},il,{propertyName:0,elapsedTime:0,pseudoElement:0}),l8=ms(o8),c8=p({},Vh,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),u8=ms(c8),d8=p({},il,{newState:0,oldState:0}),f8=ms(d8),h8=[9,13,27,32],l0=fa&&"CompositionEvent"in window,Zu=null;fa&&"documentMode"in document&&(Zu=document.documentMode);var p8=fa&&"TextEvent"in window&&!Zu,US=fa&&(!l0||Zu&&8<Zu&&11>=Zu),VS=" ",HS=!1;function qS(o,u){switch(o){case"keyup":return h8.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function KS(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var bc=!1;function m8(o,u){switch(o){case"compositionend":return KS(u);case"keypress":return u.which!==32?null:(HS=!0,VS);case"textInput":return o=u.data,o===VS&&HS?null:o;default:return null}}function g8(o,u){if(bc)return o==="compositionend"||!l0&&qS(o,u)?(o=zS(),Bh=r0=Ga=null,bc=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return US&&u.locale!=="ko"?null:u.data;default:return null}}var y8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function YS(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!y8[o.type]:u==="textarea"}function WS(o,u,h,g){da?vc?vc.push(g):vc=[g]:da=g,u=kp(u,"onChange"),0<u.length&&(h=new Uh("onChange","change",null,h,g),o.push({event:h,listeners:u}))}var ed=null,td=null;function x8(o){Aj(o,0)}function Hh(o){var u=yt(o);if(ae(u))return o}function GS(o,u){if(o==="change")return u}var XS=!1;if(fa){var c0;if(fa){var u0="oninput"in document;if(!u0){var JS=document.createElement("div");JS.setAttribute("oninput","return;"),u0=typeof JS.oninput=="function"}c0=u0}else c0=!1;XS=c0&&(!document.documentMode||9<document.documentMode)}function QS(){ed&&(ed.detachEvent("onpropertychange",ZS),td=ed=null)}function ZS(o){if(o.propertyName==="value"&&Hh(td)){var u=[];WS(u,td,o,Wu(o)),PS(x8,u)}}function v8(o,u,h){o==="focusin"?(QS(),ed=u,td=h,ed.attachEvent("onpropertychange",ZS)):o==="focusout"&&QS()}function b8(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Hh(td)}function w8(o,u){if(o==="click")return Hh(u)}function S8(o,u){if(o==="input"||o==="change")return Hh(u)}function C8(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var Ms=typeof Object.is=="function"?Object.is:C8;function nd(o,u){if(Ms(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var h=Object.keys(o),g=Object.keys(u);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var v=h[g];if(!Nt.call(u,v)||!Ms(o[v],u[v]))return!1}return!0}function eC(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function tC(o,u){var h=eC(o);o=0;for(var g;h;){if(h.nodeType===3){if(g=o+h.textContent.length,o<=u&&g>=u)return{node:h,offset:u-o};o=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=eC(h)}}function nC(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?nC(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function rC(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=Ie(o.document);u instanceof o.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)o=u.contentWindow;else break;u=Ie(o.document)}return u}function d0(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var N8=fa&&"documentMode"in document&&11>=document.documentMode,wc=null,f0=null,rd=null,h0=!1;function sC(o,u,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;h0||wc==null||wc!==Ie(g)||(g=wc,"selectionStart"in g&&d0(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),rd&&nd(rd,g)||(rd=g,g=kp(f0,"onSelect"),0<g.length&&(u=new Uh("onSelect","select",null,u,h),o.push({event:u,listeners:g}),u.target=wc)))}function al(o,u){var h={};return h[o.toLowerCase()]=u.toLowerCase(),h["Webkit"+o]="webkit"+u,h["Moz"+o]="moz"+u,h}var Sc={animationend:al("Animation","AnimationEnd"),animationiteration:al("Animation","AnimationIteration"),animationstart:al("Animation","AnimationStart"),transitionrun:al("Transition","TransitionRun"),transitionstart:al("Transition","TransitionStart"),transitioncancel:al("Transition","TransitionCancel"),transitionend:al("Transition","TransitionEnd")},p0={},iC={};fa&&(iC=document.createElement("div").style,"AnimationEvent"in window||(delete Sc.animationend.animation,delete Sc.animationiteration.animation,delete Sc.animationstart.animation),"TransitionEvent"in window||delete Sc.transitionend.transition);function ol(o){if(p0[o])return p0[o];if(!Sc[o])return o;var u=Sc[o],h;for(h in u)if(u.hasOwnProperty(h)&&h in iC)return p0[o]=u[h];return o}var aC=ol("animationend"),oC=ol("animationiteration"),lC=ol("animationstart"),j8=ol("transitionrun"),T8=ol("transitionstart"),E8=ol("transitioncancel"),cC=ol("transitionend"),uC=new Map,m0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");m0.push("scrollEnd");function xi(o,u){uC.set(o,u),On(u,[o])}var dC=new WeakMap;function Ws(o,u){if(typeof o=="object"&&o!==null){var h=dC.get(o);return h!==void 0?h:(u={value:o,source:u,stack:T(u)},dC.set(o,u),u)}return{value:o,source:u,stack:T(u)}}var Gs=[],Cc=0,g0=0;function qh(){for(var o=Cc,u=g0=Cc=0;u<o;){var h=Gs[u];Gs[u++]=null;var g=Gs[u];Gs[u++]=null;var v=Gs[u];Gs[u++]=null;var w=Gs[u];if(Gs[u++]=null,g!==null&&v!==null){var O=g.pending;O===null?v.next=v:(v.next=O.next,O.next=v),g.pending=v}w!==0&&fC(h,v,w)}}function Kh(o,u,h,g){Gs[Cc++]=o,Gs[Cc++]=u,Gs[Cc++]=h,Gs[Cc++]=g,g0|=g,o.lanes|=g,o=o.alternate,o!==null&&(o.lanes|=g)}function y0(o,u,h,g){return Kh(o,u,h,g),Yh(o)}function Nc(o,u){return Kh(o,null,null,u),Yh(o)}function fC(o,u,h){o.lanes|=h;var g=o.alternate;g!==null&&(g.lanes|=h);for(var v=!1,w=o.return;w!==null;)w.childLanes|=h,g=w.alternate,g!==null&&(g.childLanes|=h),w.tag===22&&(o=w.stateNode,o===null||o._visibility&1||(v=!0)),o=w,w=w.return;return o.tag===3?(w=o.stateNode,v&&u!==null&&(v=31-ht(h),o=w.hiddenUpdates,g=o[v],g===null?o[v]=[u]:g.push(u),u.lane=h|536870912),w):null}function Yh(o){if(50<Ad)throw Ad=0,Cx=null,Error(r(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var jc={};function A8(o,u,h,g){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ds(o,u,h,g){return new A8(o,u,h,g)}function x0(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ha(o,u){var h=o.alternate;return h===null?(h=Ds(o.tag,u,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=u,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,u=o.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function hC(o,u){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,u=h.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function Wh(o,u,h,g,v,w){var O=0;if(g=o,typeof o=="function")x0(o)&&(O=1);else if(typeof o=="string")O=O7(o,h,ke.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case Z:return o=Ds(31,h,u,v),o.elementType=Z,o.lanes=w,o;case b:return ll(h.children,v,w,u);case S:O=8,v|=24;break;case C:return o=Ds(12,h,u,v|2),o.elementType=C,o.lanes=w,o;case E:return o=Ds(13,h,u,v),o.elementType=E,o.lanes=w,o;case A:return o=Ds(19,h,u,v),o.elementType=A,o.lanes=w,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case N:case M:O=10;break e;case k:O=9;break e;case D:O=11;break e;case F:O=14;break e;case H:O=16,g=null;break e}O=29,h=Error(r(130,o===null?"null":typeof o,"")),g=null}return u=Ds(O,h,u,v),u.elementType=o,u.type=g,u.lanes=w,u}function ll(o,u,h,g){return o=Ds(7,o,g,u),o.lanes=h,o}function v0(o,u,h){return o=Ds(6,o,null,u),o.lanes=h,o}function b0(o,u,h){return u=Ds(4,o.children!==null?o.children:[],o.key,u),u.lanes=h,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var Tc=[],Ec=0,Gh=null,Xh=0,Xs=[],Js=0,cl=null,pa=1,ma="";function ul(o,u){Tc[Ec++]=Xh,Tc[Ec++]=Gh,Gh=o,Xh=u}function pC(o,u,h){Xs[Js++]=pa,Xs[Js++]=ma,Xs[Js++]=cl,cl=o;var g=pa;o=ma;var v=32-ht(g)-1;g&=~(1<<v),h+=1;var w=32-ht(u)+v;if(30<w){var O=v-v%5;w=(g&(1<<O)-1).toString(32),g>>=O,v-=O,pa=1<<32-ht(u)+v|h<<v|g,ma=w+o}else pa=1<<w|h<<v|g,ma=o}function w0(o){o.return!==null&&(ul(o,1),pC(o,1,0))}function S0(o){for(;o===Gh;)Gh=Tc[--Ec],Tc[Ec]=null,Xh=Tc[--Ec],Tc[Ec]=null;for(;o===cl;)cl=Xs[--Js],Xs[Js]=null,ma=Xs[--Js],Xs[Js]=null,pa=Xs[--Js],Xs[Js]=null}var as=null,nr=null,Tn=!1,dl=null,zi=!1,C0=Error(r(519));function fl(o){var u=Error(r(418,""));throw ad(Ws(u,o)),C0}function mC(o){var u=o.stateNode,h=o.type,g=o.memoizedProps;switch(u[$e]=o,u[Xe]=g,h){case"dialog":mn("cancel",u),mn("close",u);break;case"iframe":case"object":case"embed":mn("load",u);break;case"video":case"audio":for(h=0;h<Od.length;h++)mn(Od[h],u);break;case"source":mn("error",u);break;case"img":case"image":case"link":mn("error",u),mn("load",u);break;case"details":mn("toggle",u);break;case"input":mn("invalid",u),dt(u,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),pe(u);break;case"select":mn("invalid",u);break;case"textarea":mn("invalid",u),wn(u,g.value,g.defaultValue,g.children),pe(u)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||u.textContent===""+h||g.suppressHydrationWarning===!0||Dj(u.textContent,h)?(g.popover!=null&&(mn("beforetoggle",u),mn("toggle",u)),g.onScroll!=null&&mn("scroll",u),g.onScrollEnd!=null&&mn("scrollend",u),g.onClick!=null&&(u.onclick=Op),u=!0):u=!1,u||fl(o)}function gC(o){for(as=o.return;as;)switch(as.tag){case 5:case 13:zi=!1;return;case 27:case 3:zi=!0;return;default:as=as.return}}function sd(o){if(o!==as)return!1;if(!Tn)return gC(o),Tn=!0,!1;var u=o.tag,h;if((h=u!==3&&u!==27)&&((h=u===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||Bx(o.type,o.memoizedProps)),h=!h),h&&nr&&fl(o),gC(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8)if(h=o.data,h==="/$"){if(u===0){nr=bi(o.nextSibling);break e}u--}else h!=="$"&&h!=="$!"&&h!=="$?"||u++;o=o.nextSibling}nr=null}}else u===27?(u=nr,fo(o.type)?(o=Vx,Vx=null,nr=o):nr=u):nr=as?bi(o.stateNode.nextSibling):null;return!0}function id(){nr=as=null,Tn=!1}function yC(){var o=dl;return o!==null&&(xs===null?xs=o:xs.push.apply(xs,o),dl=null),o}function ad(o){dl===null?dl=[o]:dl.push(o)}var N0=de(null),hl=null,ga=null;function Xa(o,u,h){he(N0,u._currentValue),u._currentValue=h}function ya(o){o._currentValue=N0.current,ie(N0)}function j0(o,u,h){for(;o!==null;){var g=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),o===h)break;o=o.return}}function T0(o,u,h,g){var v=o.child;for(v!==null&&(v.return=o);v!==null;){var w=v.dependencies;if(w!==null){var O=v.child;w=w.firstContext;e:for(;w!==null;){var P=w;w=v;for(var X=0;X<u.length;X++)if(P.context===u[X]){w.lanes|=h,P=w.alternate,P!==null&&(P.lanes|=h),j0(w.return,h,o),g||(O=null);break e}w=P.next}}else if(v.tag===18){if(O=v.return,O===null)throw Error(r(341));O.lanes|=h,w=O.alternate,w!==null&&(w.lanes|=h),j0(O,h,o),O=null}else O=v.child;if(O!==null)O.return=v;else for(O=v;O!==null;){if(O===o){O=null;break}if(v=O.sibling,v!==null){v.return=O.return,O=v;break}O=O.return}v=O}}function od(o,u,h,g){o=null;for(var v=u,w=!1;v!==null;){if(!w){if((v.flags&524288)!==0)w=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var O=v.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var P=v.type;Ms(v.pendingProps.value,O.value)||(o!==null?o.push(P):o=[P])}}else if(v===Ye.current){if(O=v.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(o!==null?o.push(Pd):o=[Pd])}v=v.return}o!==null&&T0(u,o,h,g),u.flags|=262144}function Jh(o){for(o=o.firstContext;o!==null;){if(!Ms(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function pl(o){hl=o,ga=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Gr(o){return xC(hl,o)}function Qh(o,u){return hl===null&&pl(o),xC(o,u)}function xC(o,u){var h=u._currentValue;if(u={context:u,memoizedValue:h,next:null},ga===null){if(o===null)throw Error(r(308));ga=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else ga=ga.next=u;return h}var k8=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(h,g){o.push(g)}};this.abort=function(){u.aborted=!0,o.forEach(function(h){return h()})}},O8=t.unstable_scheduleCallback,M8=t.unstable_NormalPriority,jr={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function E0(){return{controller:new k8,data:new Map,refCount:0}}function ld(o){o.refCount--,o.refCount===0&&O8(M8,function(){o.controller.abort()})}var cd=null,A0=0,Ac=0,kc=null;function D8(o,u){if(cd===null){var h=cd=[];A0=0,Ac=Ox(),kc={status:"pending",value:void 0,then:function(g){h.push(g)}}}return A0++,u.then(vC,vC),u}function vC(){if(--A0===0&&cd!==null){kc!==null&&(kc.status="fulfilled");var o=cd;cd=null,Ac=0,kc=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function R8(o,u){var h=[],g={status:"pending",value:null,reason:null,then:function(v){h.push(v)}};return o.then(function(){g.status="fulfilled",g.value=u;for(var v=0;v<h.length;v++)(0,h[v])(u)},function(v){for(g.status="rejected",g.reason=v,v=0;v<h.length;v++)(0,h[v])(void 0)}),g}var bC=W.S;W.S=function(o,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&D8(o,u),bC!==null&&bC(o,u)};var ml=de(null);function k0(){var o=ml.current;return o!==null?o:zn.pooledCache}function Zh(o,u){u===null?he(ml,ml.current):he(ml,u.pool)}function wC(){var o=k0();return o===null?null:{parent:jr._currentValue,pool:o}}var ud=Error(r(460)),SC=Error(r(474)),ep=Error(r(542)),O0={then:function(){}};function CC(o){return o=o.status,o==="fulfilled"||o==="rejected"}function tp(){}function NC(o,u,h){switch(h=o[h],h===void 0?o.push(u):h!==u&&(u.then(tp,tp),u=h),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,TC(o),o;default:if(typeof u.status=="string")u.then(tp,tp);else{if(o=zn,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=u,o.status="pending",o.then(function(g){if(u.status==="pending"){var v=u;v.status="fulfilled",v.value=g}},function(g){if(u.status==="pending"){var v=u;v.status="rejected",v.reason=g}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,TC(o),o}throw dd=u,ud}}var dd=null;function jC(){if(dd===null)throw Error(r(459));var o=dd;return dd=null,o}function TC(o){if(o===ud||o===ep)throw Error(r(483))}var Ja=!1;function M0(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function D0(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Qa(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Za(o,u,h){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(An&2)!==0){var v=g.pending;return v===null?u.next=u:(u.next=v.next,v.next=u),g.pending=u,u=Yh(o),fC(o,null,h),u}return Kh(o,g,u,h),Yh(o)}function fd(o,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194048)!==0)){var g=u.lanes;g&=o.pendingLanes,h|=g,u.lanes=h,kt(o,h)}}function R0(o,u){var h=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var v=null,w=null;if(h=h.firstBaseUpdate,h!==null){do{var O={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};w===null?v=w=O:w=w.next=O,h=h.next}while(h!==null);w===null?v=w=u:w=w.next=u}else v=w=u;h={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:g.shared,callbacks:g.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=u}var _0=!1;function hd(){if(_0){var o=kc;if(o!==null)throw o}}function pd(o,u,h,g){_0=!1;var v=o.updateQueue;Ja=!1;var w=v.firstBaseUpdate,O=v.lastBaseUpdate,P=v.shared.pending;if(P!==null){v.shared.pending=null;var X=P,Oe=X.next;X.next=null,O===null?w=Oe:O.next=Oe,O=X;var Ue=o.alternate;Ue!==null&&(Ue=Ue.updateQueue,P=Ue.lastBaseUpdate,P!==O&&(P===null?Ue.firstBaseUpdate=Oe:P.next=Oe,Ue.lastBaseUpdate=X))}if(w!==null){var Ke=v.baseState;O=0,Ue=Oe=X=null,P=w;do{var De=P.lane&-536870913,Pe=De!==P.lane;if(Pe?(yn&De)===De:(g&De)===De){De!==0&&De===Ac&&(_0=!0),Ue!==null&&(Ue=Ue.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var Gt=o,qt=P;De=u;var Rn=h;switch(qt.tag){case 1:if(Gt=qt.payload,typeof Gt=="function"){Ke=Gt.call(Rn,Ke,De);break e}Ke=Gt;break e;case 3:Gt.flags=Gt.flags&-65537|128;case 0:if(Gt=qt.payload,De=typeof Gt=="function"?Gt.call(Rn,Ke,De):Gt,De==null)break e;Ke=p({},Ke,De);break e;case 2:Ja=!0}}De=P.callback,De!==null&&(o.flags|=64,Pe&&(o.flags|=8192),Pe=v.callbacks,Pe===null?v.callbacks=[De]:Pe.push(De))}else Pe={lane:De,tag:P.tag,payload:P.payload,callback:P.callback,next:null},Ue===null?(Oe=Ue=Pe,X=Ke):Ue=Ue.next=Pe,O|=De;if(P=P.next,P===null){if(P=v.shared.pending,P===null)break;Pe=P,P=Pe.next,Pe.next=null,v.lastBaseUpdate=Pe,v.shared.pending=null}}while(!0);Ue===null&&(X=Ke),v.baseState=X,v.firstBaseUpdate=Oe,v.lastBaseUpdate=Ue,w===null&&(v.shared.lanes=0),oo|=O,o.lanes=O,o.memoizedState=Ke}}function EC(o,u){if(typeof o!="function")throw Error(r(191,o));o.call(u)}function AC(o,u){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)EC(h[o],u)}var Oc=de(null),np=de(0);function kC(o,u){o=Na,he(np,o),he(Oc,u),Na=o|u.baseLanes}function L0(){he(np,Na),he(Oc,Oc.current)}function P0(){Na=np.current,ie(Oc),ie(np)}var eo=0,un=null,Mn=null,yr=null,rp=!1,Mc=!1,gl=!1,sp=0,md=0,Dc=null,_8=0;function ur(){throw Error(r(321))}function z0(o,u){if(u===null)return!1;for(var h=0;h<u.length&&h<o.length;h++)if(!Ms(o[h],u[h]))return!1;return!0}function I0(o,u,h,g,v,w){return eo=w,un=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,W.H=o===null||o.memoizedState===null?fN:hN,gl=!1,w=h(g,v),gl=!1,Mc&&(w=MC(u,h,g,v)),OC(o),w}function OC(o){W.H=up;var u=Mn!==null&&Mn.next!==null;if(eo=0,yr=Mn=un=null,rp=!1,md=0,Dc=null,u)throw Error(r(300));o===null||kr||(o=o.dependencies,o!==null&&Jh(o)&&(kr=!0))}function MC(o,u,h,g){un=o;var v=0;do{if(Mc&&(Dc=null),md=0,Mc=!1,25<=v)throw Error(r(301));if(v+=1,yr=Mn=null,o.updateQueue!=null){var w=o.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}W.H=$8,w=u(h,g)}while(Mc);return w}function L8(){var o=W.H,u=o.useState()[0];return u=typeof u.then=="function"?gd(u):u,o=o.useState()[0],(Mn!==null?Mn.memoizedState:null)!==o&&(un.flags|=1024),u}function B0(){var o=sp!==0;return sp=0,o}function F0(o,u,h){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~h}function $0(o){if(rp){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}rp=!1}eo=0,yr=Mn=un=null,Mc=!1,md=sp=0,Dc=null}function gs(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yr===null?un.memoizedState=yr=o:yr=yr.next=o,yr}function xr(){if(Mn===null){var o=un.alternate;o=o!==null?o.memoizedState:null}else o=Mn.next;var u=yr===null?un.memoizedState:yr.next;if(u!==null)yr=u,Mn=o;else{if(o===null)throw un.alternate===null?Error(r(467)):Error(r(310));Mn=o,o={memoizedState:Mn.memoizedState,baseState:Mn.baseState,baseQueue:Mn.baseQueue,queue:Mn.queue,next:null},yr===null?un.memoizedState=yr=o:yr=yr.next=o}return yr}function U0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gd(o){var u=md;return md+=1,Dc===null&&(Dc=[]),o=NC(Dc,o,u),u=un,(yr===null?u.memoizedState:yr.next)===null&&(u=u.alternate,W.H=u===null||u.memoizedState===null?fN:hN),o}function ip(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return gd(o);if(o.$$typeof===M)return Gr(o)}throw Error(r(438,String(o)))}function V0(o){var u=null,h=un.updateQueue;if(h!==null&&(u=h.memoCache),u==null){var g=un.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(u={data:g.data.map(function(v){return v.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),h===null&&(h=U0(),un.updateQueue=h),h.memoCache=u,h=u.data[u.index],h===void 0)for(h=u.data[u.index]=Array(o),g=0;g<o;g++)h[g]=ve;return u.index++,h}function xa(o,u){return typeof u=="function"?u(o):u}function ap(o){var u=xr();return H0(u,Mn,o)}function H0(o,u,h){var g=o.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=h;var v=o.baseQueue,w=g.pending;if(w!==null){if(v!==null){var O=v.next;v.next=w.next,w.next=O}u.baseQueue=v=w,g.pending=null}if(w=o.baseState,v===null)o.memoizedState=w;else{u=v.next;var P=O=null,X=null,Oe=u,Ue=!1;do{var Ke=Oe.lane&-536870913;if(Ke!==Oe.lane?(yn&Ke)===Ke:(eo&Ke)===Ke){var De=Oe.revertLane;if(De===0)X!==null&&(X=X.next={lane:0,revertLane:0,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),Ke===Ac&&(Ue=!0);else if((eo&De)===De){Oe=Oe.next,De===Ac&&(Ue=!0);continue}else Ke={lane:0,revertLane:Oe.revertLane,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},X===null?(P=X=Ke,O=w):X=X.next=Ke,un.lanes|=De,oo|=De;Ke=Oe.action,gl&&h(w,Ke),w=Oe.hasEagerState?Oe.eagerState:h(w,Ke)}else De={lane:Ke,revertLane:Oe.revertLane,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},X===null?(P=X=De,O=w):X=X.next=De,un.lanes|=Ke,oo|=Ke;Oe=Oe.next}while(Oe!==null&&Oe!==u);if(X===null?O=w:X.next=P,!Ms(w,o.memoizedState)&&(kr=!0,Ue&&(h=kc,h!==null)))throw h;o.memoizedState=w,o.baseState=O,o.baseQueue=X,g.lastRenderedState=w}return v===null&&(g.lanes=0),[o.memoizedState,g.dispatch]}function q0(o){var u=xr(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var g=h.dispatch,v=h.pending,w=u.memoizedState;if(v!==null){h.pending=null;var O=v=v.next;do w=o(w,O.action),O=O.next;while(O!==v);Ms(w,u.memoizedState)||(kr=!0),u.memoizedState=w,u.baseQueue===null&&(u.baseState=w),h.lastRenderedState=w}return[w,g]}function DC(o,u,h){var g=un,v=xr(),w=Tn;if(w){if(h===void 0)throw Error(r(407));h=h()}else h=u();var O=!Ms((Mn||v).memoizedState,h);O&&(v.memoizedState=h,kr=!0),v=v.queue;var P=LC.bind(null,g,v,o);if(yd(2048,8,P,[o]),v.getSnapshot!==u||O||yr!==null&&yr.memoizedState.tag&1){if(g.flags|=2048,Rc(9,op(),_C.bind(null,g,v,h,u),null),zn===null)throw Error(r(349));w||(eo&124)!==0||RC(g,u,h)}return h}function RC(o,u,h){o.flags|=16384,o={getSnapshot:u,value:h},u=un.updateQueue,u===null?(u=U0(),un.updateQueue=u,u.stores=[o]):(h=u.stores,h===null?u.stores=[o]:h.push(o))}function _C(o,u,h,g){u.value=h,u.getSnapshot=g,PC(u)&&zC(o)}function LC(o,u,h){return h(function(){PC(u)&&zC(o)})}function PC(o){var u=o.getSnapshot;o=o.value;try{var h=u();return!Ms(o,h)}catch{return!0}}function zC(o){var u=Nc(o,2);u!==null&&zs(u,o,2)}function K0(o){var u=gs();if(typeof o=="function"){var h=o;if(o=h(),gl){et(!0);try{h()}finally{et(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:o},u}function IC(o,u,h,g){return o.baseState=h,H0(o,Mn,typeof g=="function"?g:xa)}function P8(o,u,h,g,v){if(cp(o))throw Error(r(485));if(o=u.action,o!==null){var w={payload:v,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){w.listeners.push(O)}};W.T!==null?h(!0):w.isTransition=!1,g(w),h=u.pending,h===null?(w.next=u.pending=w,BC(u,w)):(w.next=h.next,u.pending=h.next=w)}}function BC(o,u){var h=u.action,g=u.payload,v=o.state;if(u.isTransition){var w=W.T,O={};W.T=O;try{var P=h(v,g),X=W.S;X!==null&&X(O,P),FC(o,u,P)}catch(Oe){Y0(o,u,Oe)}finally{W.T=w}}else try{w=h(v,g),FC(o,u,w)}catch(Oe){Y0(o,u,Oe)}}function FC(o,u,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){$C(o,u,g)},function(g){return Y0(o,u,g)}):$C(o,u,h)}function $C(o,u,h){u.status="fulfilled",u.value=h,UC(u),o.state=h,u=o.pending,u!==null&&(h=u.next,h===u?o.pending=null:(h=h.next,u.next=h,BC(o,h)))}function Y0(o,u,h){var g=o.pending;if(o.pending=null,g!==null){g=g.next;do u.status="rejected",u.reason=h,UC(u),u=u.next;while(u!==g)}o.action=null}function UC(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function VC(o,u){return u}function HC(o,u){if(Tn){var h=zn.formState;if(h!==null){e:{var g=un;if(Tn){if(nr){t:{for(var v=nr,w=zi;v.nodeType!==8;){if(!w){v=null;break t}if(v=bi(v.nextSibling),v===null){v=null;break t}}w=v.data,v=w==="F!"||w==="F"?v:null}if(v){nr=bi(v.nextSibling),g=v.data==="F!";break e}}fl(g)}g=!1}g&&(u=h[0])}}return h=gs(),h.memoizedState=h.baseState=u,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:VC,lastRenderedState:u},h.queue=g,h=cN.bind(null,un,g),g.dispatch=h,g=K0(!1),w=Q0.bind(null,un,!1,g.queue),g=gs(),v={state:u,dispatch:null,action:o,pending:null},g.queue=v,h=P8.bind(null,un,v,w,h),v.dispatch=h,g.memoizedState=o,[u,h,!1]}function qC(o){var u=xr();return KC(u,Mn,o)}function KC(o,u,h){if(u=H0(o,u,VC)[0],o=ap(xa)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var g=gd(u)}catch(O){throw O===ud?ep:O}else g=u;u=xr();var v=u.queue,w=v.dispatch;return h!==u.memoizedState&&(un.flags|=2048,Rc(9,op(),z8.bind(null,v,h),null)),[g,w,o]}function z8(o,u){o.action=u}function YC(o){var u=xr(),h=Mn;if(h!==null)return KC(u,h,o);xr(),u=u.memoizedState,h=xr();var g=h.queue.dispatch;return h.memoizedState=o,[u,g,!1]}function Rc(o,u,h,g){return o={tag:o,create:h,deps:g,inst:u,next:null},u=un.updateQueue,u===null&&(u=U0(),un.updateQueue=u),h=u.lastEffect,h===null?u.lastEffect=o.next=o:(g=h.next,h.next=o,o.next=g,u.lastEffect=o),o}function op(){return{destroy:void 0,resource:void 0}}function WC(){return xr().memoizedState}function lp(o,u,h,g){var v=gs();g=g===void 0?null:g,un.flags|=o,v.memoizedState=Rc(1|u,op(),h,g)}function yd(o,u,h,g){var v=xr();g=g===void 0?null:g;var w=v.memoizedState.inst;Mn!==null&&g!==null&&z0(g,Mn.memoizedState.deps)?v.memoizedState=Rc(u,w,h,g):(un.flags|=o,v.memoizedState=Rc(1|u,w,h,g))}function GC(o,u){lp(8390656,8,o,u)}function XC(o,u){yd(2048,8,o,u)}function JC(o,u){return yd(4,2,o,u)}function QC(o,u){return yd(4,4,o,u)}function ZC(o,u){if(typeof u=="function"){o=o();var h=u(o);return function(){typeof h=="function"?h():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function eN(o,u,h){h=h!=null?h.concat([o]):null,yd(4,4,ZC.bind(null,u,o),h)}function W0(){}function tN(o,u){var h=xr();u=u===void 0?null:u;var g=h.memoizedState;return u!==null&&z0(u,g[1])?g[0]:(h.memoizedState=[o,u],o)}function nN(o,u){var h=xr();u=u===void 0?null:u;var g=h.memoizedState;if(u!==null&&z0(u,g[1]))return g[0];if(g=o(),gl){et(!0);try{o()}finally{et(!1)}}return h.memoizedState=[g,u],g}function G0(o,u,h){return h===void 0||(eo&1073741824)!==0?o.memoizedState=u:(o.memoizedState=h,o=ij(),un.lanes|=o,oo|=o,h)}function rN(o,u,h,g){return Ms(h,u)?h:Oc.current!==null?(o=G0(o,h,g),Ms(o,u)||(kr=!0),o):(eo&42)===0?(kr=!0,o.memoizedState=h):(o=ij(),un.lanes|=o,oo|=o,u)}function sN(o,u,h,g,v){var w=le.p;le.p=w!==0&&8>w?w:8;var O=W.T,P={};W.T=P,Q0(o,!1,u,h);try{var X=v(),Oe=W.S;if(Oe!==null&&Oe(P,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var Ue=R8(X,g);xd(o,u,Ue,Ps(o))}else xd(o,u,g,Ps(o))}catch(Ke){xd(o,u,{then:function(){},status:"rejected",reason:Ke},Ps())}finally{le.p=w,W.T=O}}function I8(){}function X0(o,u,h,g){if(o.tag!==5)throw Error(r(476));var v=iN(o).queue;sN(o,v,u,be,h===null?I8:function(){return aN(o),h(g)})}function iN(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:be},next:null};var h={};return u.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:h},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function aN(o){var u=iN(o).next.queue;xd(o,u,{},Ps())}function J0(){return Gr(Pd)}function oN(){return xr().memoizedState}function lN(){return xr().memoizedState}function B8(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var h=Ps();o=Qa(h);var g=Za(u,o,h);g!==null&&(zs(g,u,h),fd(g,u,h)),u={cache:E0()},o.payload=u;return}u=u.return}}function F8(o,u,h){var g=Ps();h={lane:g,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},cp(o)?uN(u,h):(h=y0(o,u,h,g),h!==null&&(zs(h,o,g),dN(h,u,g)))}function cN(o,u,h){var g=Ps();xd(o,u,h,g)}function xd(o,u,h,g){var v={lane:g,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(cp(o))uN(u,v);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=u.lastRenderedReducer,w!==null))try{var O=u.lastRenderedState,P=w(O,h);if(v.hasEagerState=!0,v.eagerState=P,Ms(P,O))return Kh(o,u,v,0),zn===null&&qh(),!1}catch{}finally{}if(h=y0(o,u,v,g),h!==null)return zs(h,o,g),dN(h,u,g),!0}return!1}function Q0(o,u,h,g){if(g={lane:2,revertLane:Ox(),action:g,hasEagerState:!1,eagerState:null,next:null},cp(o)){if(u)throw Error(r(479))}else u=y0(o,h,g,2),u!==null&&zs(u,o,2)}function cp(o){var u=o.alternate;return o===un||u!==null&&u===un}function uN(o,u){Mc=rp=!0;var h=o.pending;h===null?u.next=u:(u.next=h.next,h.next=u),o.pending=u}function dN(o,u,h){if((h&4194048)!==0){var g=u.lanes;g&=o.pendingLanes,h|=g,u.lanes=h,kt(o,h)}}var up={readContext:Gr,use:ip,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useLayoutEffect:ur,useInsertionEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useSyncExternalStore:ur,useId:ur,useHostTransitionStatus:ur,useFormState:ur,useActionState:ur,useOptimistic:ur,useMemoCache:ur,useCacheRefresh:ur},fN={readContext:Gr,use:ip,useCallback:function(o,u){return gs().memoizedState=[o,u===void 0?null:u],o},useContext:Gr,useEffect:GC,useImperativeHandle:function(o,u,h){h=h!=null?h.concat([o]):null,lp(4194308,4,ZC.bind(null,u,o),h)},useLayoutEffect:function(o,u){return lp(4194308,4,o,u)},useInsertionEffect:function(o,u){lp(4,2,o,u)},useMemo:function(o,u){var h=gs();u=u===void 0?null:u;var g=o();if(gl){et(!0);try{o()}finally{et(!1)}}return h.memoizedState=[g,u],g},useReducer:function(o,u,h){var g=gs();if(h!==void 0){var v=h(u);if(gl){et(!0);try{h(u)}finally{et(!1)}}}else v=u;return g.memoizedState=g.baseState=v,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:v},g.queue=o,o=o.dispatch=F8.bind(null,un,o),[g.memoizedState,o]},useRef:function(o){var u=gs();return o={current:o},u.memoizedState=o},useState:function(o){o=K0(o);var u=o.queue,h=cN.bind(null,un,u);return u.dispatch=h,[o.memoizedState,h]},useDebugValue:W0,useDeferredValue:function(o,u){var h=gs();return G0(h,o,u)},useTransition:function(){var o=K0(!1);return o=sN.bind(null,un,o.queue,!0,!1),gs().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,h){var g=un,v=gs();if(Tn){if(h===void 0)throw Error(r(407));h=h()}else{if(h=u(),zn===null)throw Error(r(349));(yn&124)!==0||RC(g,u,h)}v.memoizedState=h;var w={value:h,getSnapshot:u};return v.queue=w,GC(LC.bind(null,g,w,o),[o]),g.flags|=2048,Rc(9,op(),_C.bind(null,g,w,h,u),null),h},useId:function(){var o=gs(),u=zn.identifierPrefix;if(Tn){var h=ma,g=pa;h=(g&~(1<<32-ht(g)-1)).toString(32)+h,u=""+u+"R"+h,h=sp++,0<h&&(u+="H"+h.toString(32)),u+=""}else h=_8++,u=""+u+"r"+h.toString(32)+"";return o.memoizedState=u},useHostTransitionStatus:J0,useFormState:HC,useActionState:HC,useOptimistic:function(o){var u=gs();u.memoizedState=u.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=h,u=Q0.bind(null,un,!0,h),h.dispatch=u,[o,u]},useMemoCache:V0,useCacheRefresh:function(){return gs().memoizedState=B8.bind(null,un)}},hN={readContext:Gr,use:ip,useCallback:tN,useContext:Gr,useEffect:XC,useImperativeHandle:eN,useInsertionEffect:JC,useLayoutEffect:QC,useMemo:nN,useReducer:ap,useRef:WC,useState:function(){return ap(xa)},useDebugValue:W0,useDeferredValue:function(o,u){var h=xr();return rN(h,Mn.memoizedState,o,u)},useTransition:function(){var o=ap(xa)[0],u=xr().memoizedState;return[typeof o=="boolean"?o:gd(o),u]},useSyncExternalStore:DC,useId:oN,useHostTransitionStatus:J0,useFormState:qC,useActionState:qC,useOptimistic:function(o,u){var h=xr();return IC(h,Mn,o,u)},useMemoCache:V0,useCacheRefresh:lN},$8={readContext:Gr,use:ip,useCallback:tN,useContext:Gr,useEffect:XC,useImperativeHandle:eN,useInsertionEffect:JC,useLayoutEffect:QC,useMemo:nN,useReducer:q0,useRef:WC,useState:function(){return q0(xa)},useDebugValue:W0,useDeferredValue:function(o,u){var h=xr();return Mn===null?G0(h,o,u):rN(h,Mn.memoizedState,o,u)},useTransition:function(){var o=q0(xa)[0],u=xr().memoizedState;return[typeof o=="boolean"?o:gd(o),u]},useSyncExternalStore:DC,useId:oN,useHostTransitionStatus:J0,useFormState:YC,useActionState:YC,useOptimistic:function(o,u){var h=xr();return Mn!==null?IC(h,Mn,o,u):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:V0,useCacheRefresh:lN},_c=null,vd=0;function dp(o){var u=vd;return vd+=1,_c===null&&(_c=[]),NC(_c,o,u)}function bd(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function fp(o,u){throw u.$$typeof===m?Error(r(525)):(o=Object.prototype.toString.call(u),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function pN(o){var u=o._init;return u(o._payload)}function mN(o){function u(Se,ce){if(o){var je=Se.deletions;je===null?(Se.deletions=[ce],Se.flags|=16):je.push(ce)}}function h(Se,ce){if(!o)return null;for(;ce!==null;)u(Se,ce),ce=ce.sibling;return null}function g(Se){for(var ce=new Map;Se!==null;)Se.key!==null?ce.set(Se.key,Se):ce.set(Se.index,Se),Se=Se.sibling;return ce}function v(Se,ce){return Se=ha(Se,ce),Se.index=0,Se.sibling=null,Se}function w(Se,ce,je){return Se.index=je,o?(je=Se.alternate,je!==null?(je=je.index,je<ce?(Se.flags|=67108866,ce):je):(Se.flags|=67108866,ce)):(Se.flags|=1048576,ce)}function O(Se){return o&&Se.alternate===null&&(Se.flags|=67108866),Se}function P(Se,ce,je,He){return ce===null||ce.tag!==6?(ce=v0(je,Se.mode,He),ce.return=Se,ce):(ce=v(ce,je),ce.return=Se,ce)}function X(Se,ce,je,He){var Rt=je.type;return Rt===b?Ue(Se,ce,je.props.children,He,je.key):ce!==null&&(ce.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===H&&pN(Rt)===ce.type)?(ce=v(ce,je.props),bd(ce,je),ce.return=Se,ce):(ce=Wh(je.type,je.key,je.props,null,Se.mode,He),bd(ce,je),ce.return=Se,ce)}function Oe(Se,ce,je,He){return ce===null||ce.tag!==4||ce.stateNode.containerInfo!==je.containerInfo||ce.stateNode.implementation!==je.implementation?(ce=b0(je,Se.mode,He),ce.return=Se,ce):(ce=v(ce,je.children||[]),ce.return=Se,ce)}function Ue(Se,ce,je,He,Rt){return ce===null||ce.tag!==7?(ce=ll(je,Se.mode,He,Rt),ce.return=Se,ce):(ce=v(ce,je),ce.return=Se,ce)}function Ke(Se,ce,je){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return ce=v0(""+ce,Se.mode,je),ce.return=Se,ce;if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case y:return je=Wh(ce.type,ce.key,ce.props,null,Se.mode,je),bd(je,ce),je.return=Se,je;case x:return ce=b0(ce,Se.mode,je),ce.return=Se,ce;case H:var He=ce._init;return ce=He(ce._payload),Ke(Se,ce,je)}if(xe(ce)||oe(ce))return ce=ll(ce,Se.mode,je,null),ce.return=Se,ce;if(typeof ce.then=="function")return Ke(Se,dp(ce),je);if(ce.$$typeof===M)return Ke(Se,Qh(Se,ce),je);fp(Se,ce)}return null}function De(Se,ce,je,He){var Rt=ce!==null?ce.key:null;if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return Rt!==null?null:P(Se,ce,""+je,He);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case y:return je.key===Rt?X(Se,ce,je,He):null;case x:return je.key===Rt?Oe(Se,ce,je,He):null;case H:return Rt=je._init,je=Rt(je._payload),De(Se,ce,je,He)}if(xe(je)||oe(je))return Rt!==null?null:Ue(Se,ce,je,He,null);if(typeof je.then=="function")return De(Se,ce,dp(je),He);if(je.$$typeof===M)return De(Se,ce,Qh(Se,je),He);fp(Se,je)}return null}function Pe(Se,ce,je,He,Rt){if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return Se=Se.get(je)||null,P(ce,Se,""+He,Rt);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case y:return Se=Se.get(He.key===null?je:He.key)||null,X(ce,Se,He,Rt);case x:return Se=Se.get(He.key===null?je:He.key)||null,Oe(ce,Se,He,Rt);case H:var fn=He._init;return He=fn(He._payload),Pe(Se,ce,je,He,Rt)}if(xe(He)||oe(He))return Se=Se.get(je)||null,Ue(ce,Se,He,Rt,null);if(typeof He.then=="function")return Pe(Se,ce,je,dp(He),Rt);if(He.$$typeof===M)return Pe(Se,ce,je,Qh(ce,He),Rt);fp(ce,He)}return null}function Gt(Se,ce,je,He){for(var Rt=null,fn=null,Bt=ce,Kt=ce=0,Mr=null;Bt!==null&&Kt<je.length;Kt++){Bt.index>Kt?(Mr=Bt,Bt=null):Mr=Bt.sibling;var Sn=De(Se,Bt,je[Kt],He);if(Sn===null){Bt===null&&(Bt=Mr);break}o&&Bt&&Sn.alternate===null&&u(Se,Bt),ce=w(Sn,ce,Kt),fn===null?Rt=Sn:fn.sibling=Sn,fn=Sn,Bt=Mr}if(Kt===je.length)return h(Se,Bt),Tn&&ul(Se,Kt),Rt;if(Bt===null){for(;Kt<je.length;Kt++)Bt=Ke(Se,je[Kt],He),Bt!==null&&(ce=w(Bt,ce,Kt),fn===null?Rt=Bt:fn.sibling=Bt,fn=Bt);return Tn&&ul(Se,Kt),Rt}for(Bt=g(Bt);Kt<je.length;Kt++)Mr=Pe(Bt,Se,Kt,je[Kt],He),Mr!==null&&(o&&Mr.alternate!==null&&Bt.delete(Mr.key===null?Kt:Mr.key),ce=w(Mr,ce,Kt),fn===null?Rt=Mr:fn.sibling=Mr,fn=Mr);return o&&Bt.forEach(function(yo){return u(Se,yo)}),Tn&&ul(Se,Kt),Rt}function qt(Se,ce,je,He){if(je==null)throw Error(r(151));for(var Rt=null,fn=null,Bt=ce,Kt=ce=0,Mr=null,Sn=je.next();Bt!==null&&!Sn.done;Kt++,Sn=je.next()){Bt.index>Kt?(Mr=Bt,Bt=null):Mr=Bt.sibling;var yo=De(Se,Bt,Sn.value,He);if(yo===null){Bt===null&&(Bt=Mr);break}o&&Bt&&yo.alternate===null&&u(Se,Bt),ce=w(yo,ce,Kt),fn===null?Rt=yo:fn.sibling=yo,fn=yo,Bt=Mr}if(Sn.done)return h(Se,Bt),Tn&&ul(Se,Kt),Rt;if(Bt===null){for(;!Sn.done;Kt++,Sn=je.next())Sn=Ke(Se,Sn.value,He),Sn!==null&&(ce=w(Sn,ce,Kt),fn===null?Rt=Sn:fn.sibling=Sn,fn=Sn);return Tn&&ul(Se,Kt),Rt}for(Bt=g(Bt);!Sn.done;Kt++,Sn=je.next())Sn=Pe(Bt,Se,Kt,Sn.value,He),Sn!==null&&(o&&Sn.alternate!==null&&Bt.delete(Sn.key===null?Kt:Sn.key),ce=w(Sn,ce,Kt),fn===null?Rt=Sn:fn.sibling=Sn,fn=Sn);return o&&Bt.forEach(function(U7){return u(Se,U7)}),Tn&&ul(Se,Kt),Rt}function Rn(Se,ce,je,He){if(typeof je=="object"&&je!==null&&je.type===b&&je.key===null&&(je=je.props.children),typeof je=="object"&&je!==null){switch(je.$$typeof){case y:e:{for(var Rt=je.key;ce!==null;){if(ce.key===Rt){if(Rt=je.type,Rt===b){if(ce.tag===7){h(Se,ce.sibling),He=v(ce,je.props.children),He.return=Se,Se=He;break e}}else if(ce.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===H&&pN(Rt)===ce.type){h(Se,ce.sibling),He=v(ce,je.props),bd(He,je),He.return=Se,Se=He;break e}h(Se,ce);break}else u(Se,ce);ce=ce.sibling}je.type===b?(He=ll(je.props.children,Se.mode,He,je.key),He.return=Se,Se=He):(He=Wh(je.type,je.key,je.props,null,Se.mode,He),bd(He,je),He.return=Se,Se=He)}return O(Se);case x:e:{for(Rt=je.key;ce!==null;){if(ce.key===Rt)if(ce.tag===4&&ce.stateNode.containerInfo===je.containerInfo&&ce.stateNode.implementation===je.implementation){h(Se,ce.sibling),He=v(ce,je.children||[]),He.return=Se,Se=He;break e}else{h(Se,ce);break}else u(Se,ce);ce=ce.sibling}He=b0(je,Se.mode,He),He.return=Se,Se=He}return O(Se);case H:return Rt=je._init,je=Rt(je._payload),Rn(Se,ce,je,He)}if(xe(je))return Gt(Se,ce,je,He);if(oe(je)){if(Rt=oe(je),typeof Rt!="function")throw Error(r(150));return je=Rt.call(je),qt(Se,ce,je,He)}if(typeof je.then=="function")return Rn(Se,ce,dp(je),He);if(je.$$typeof===M)return Rn(Se,ce,Qh(Se,je),He);fp(Se,je)}return typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint"?(je=""+je,ce!==null&&ce.tag===6?(h(Se,ce.sibling),He=v(ce,je),He.return=Se,Se=He):(h(Se,ce),He=v0(je,Se.mode,He),He.return=Se,Se=He),O(Se)):h(Se,ce)}return function(Se,ce,je,He){try{vd=0;var Rt=Rn(Se,ce,je,He);return _c=null,Rt}catch(Bt){if(Bt===ud||Bt===ep)throw Bt;var fn=Ds(29,Bt,null,Se.mode);return fn.lanes=He,fn.return=Se,fn}finally{}}}var Lc=mN(!0),gN=mN(!1),Qs=de(null),Ii=null;function to(o){var u=o.alternate;he(Tr,Tr.current&1),he(Qs,o),Ii===null&&(u===null||Oc.current!==null||u.memoizedState!==null)&&(Ii=o)}function yN(o){if(o.tag===22){if(he(Tr,Tr.current),he(Qs,o),Ii===null){var u=o.alternate;u!==null&&u.memoizedState!==null&&(Ii=o)}}else no()}function no(){he(Tr,Tr.current),he(Qs,Qs.current)}function va(o){ie(Qs),Ii===o&&(Ii=null),ie(Tr)}var Tr=de(0);function hp(o){for(var u=o;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||Ux(h)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function Z0(o,u,h,g){u=o.memoizedState,h=h(g,u),h=h==null?u:p({},u,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var ex={enqueueSetState:function(o,u,h){o=o._reactInternals;var g=Ps(),v=Qa(g);v.payload=u,h!=null&&(v.callback=h),u=Za(o,v,g),u!==null&&(zs(u,o,g),fd(u,o,g))},enqueueReplaceState:function(o,u,h){o=o._reactInternals;var g=Ps(),v=Qa(g);v.tag=1,v.payload=u,h!=null&&(v.callback=h),u=Za(o,v,g),u!==null&&(zs(u,o,g),fd(u,o,g))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var h=Ps(),g=Qa(h);g.tag=2,u!=null&&(g.callback=u),u=Za(o,g,h),u!==null&&(zs(u,o,h),fd(u,o,h))}};function xN(o,u,h,g,v,w,O){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,w,O):u.prototype&&u.prototype.isPureReactComponent?!nd(h,g)||!nd(v,w):!0}function vN(o,u,h,g){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,g),u.state!==o&&ex.enqueueReplaceState(u,u.state,null)}function yl(o,u){var h=u;if("ref"in u){h={};for(var g in u)g!=="ref"&&(h[g]=u[g])}if(o=o.defaultProps){h===u&&(h=p({},h));for(var v in o)h[v]===void 0&&(h[v]=o[v])}return h}var pp=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function bN(o){pp(o)}function wN(o){console.error(o)}function SN(o){pp(o)}function mp(o,u){try{var h=o.onUncaughtError;h(u.value,{componentStack:u.stack})}catch(g){setTimeout(function(){throw g})}}function CN(o,u,h){try{var g=o.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function tx(o,u,h){return h=Qa(h),h.tag=3,h.payload={element:null},h.callback=function(){mp(o,u)},h}function NN(o){return o=Qa(o),o.tag=3,o}function jN(o,u,h,g){var v=h.type.getDerivedStateFromError;if(typeof v=="function"){var w=g.value;o.payload=function(){return v(w)},o.callback=function(){CN(u,h,g)}}var O=h.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(o.callback=function(){CN(u,h,g),typeof v!="function"&&(lo===null?lo=new Set([this]):lo.add(this));var P=g.stack;this.componentDidCatch(g.value,{componentStack:P!==null?P:""})})}function U8(o,u,h,g,v){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(u=h.alternate,u!==null&&od(u,h,v,!0),h=Qs.current,h!==null){switch(h.tag){case 13:return Ii===null?jx():h.alternate===null&&rr===0&&(rr=3),h.flags&=-257,h.flags|=65536,h.lanes=v,g===O0?h.flags|=16384:(u=h.updateQueue,u===null?h.updateQueue=new Set([g]):u.add(g),Ex(o,g,v)),!1;case 22:return h.flags|=65536,g===O0?h.flags|=16384:(u=h.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=u):(h=u.retryQueue,h===null?u.retryQueue=new Set([g]):h.add(g)),Ex(o,g,v)),!1}throw Error(r(435,h.tag))}return Ex(o,g,v),jx(),!1}if(Tn)return u=Qs.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=v,g!==C0&&(o=Error(r(422),{cause:g}),ad(Ws(o,h)))):(g!==C0&&(u=Error(r(423),{cause:g}),ad(Ws(u,h))),o=o.current.alternate,o.flags|=65536,v&=-v,o.lanes|=v,g=Ws(g,h),v=tx(o.stateNode,g,v),R0(o,v),rr!==4&&(rr=2)),!1;var w=Error(r(520),{cause:g});if(w=Ws(w,h),Ed===null?Ed=[w]:Ed.push(w),rr!==4&&(rr=2),u===null)return!0;g=Ws(g,h),h=u;do{switch(h.tag){case 3:return h.flags|=65536,o=v&-v,h.lanes|=o,o=tx(h.stateNode,g,o),R0(h,o),!1;case 1:if(u=h.type,w=h.stateNode,(h.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(lo===null||!lo.has(w))))return h.flags|=65536,v&=-v,h.lanes|=v,v=NN(v),jN(v,o,h,g),R0(h,v),!1}h=h.return}while(h!==null);return!1}var TN=Error(r(461)),kr=!1;function Fr(o,u,h,g){u.child=o===null?gN(u,null,h,g):Lc(u,o.child,h,g)}function EN(o,u,h,g,v){h=h.render;var w=u.ref;if("ref"in g){var O={};for(var P in g)P!=="ref"&&(O[P]=g[P])}else O=g;return pl(u),g=I0(o,u,h,O,w,v),P=B0(),o!==null&&!kr?(F0(o,u,v),ba(o,u,v)):(Tn&&P&&w0(u),u.flags|=1,Fr(o,u,g,v),u.child)}function AN(o,u,h,g,v){if(o===null){var w=h.type;return typeof w=="function"&&!x0(w)&&w.defaultProps===void 0&&h.compare===null?(u.tag=15,u.type=w,kN(o,u,w,g,v)):(o=Wh(h.type,null,g,u,u.mode,v),o.ref=u.ref,o.return=u,u.child=o)}if(w=o.child,!cx(o,v)){var O=w.memoizedProps;if(h=h.compare,h=h!==null?h:nd,h(O,g)&&o.ref===u.ref)return ba(o,u,v)}return u.flags|=1,o=ha(w,g),o.ref=u.ref,o.return=u,u.child=o}function kN(o,u,h,g,v){if(o!==null){var w=o.memoizedProps;if(nd(w,g)&&o.ref===u.ref)if(kr=!1,u.pendingProps=g=w,cx(o,v))(o.flags&131072)!==0&&(kr=!0);else return u.lanes=o.lanes,ba(o,u,v)}return nx(o,u,h,g,v)}function ON(o,u,h){var g=u.pendingProps,v=g.children,w=o!==null?o.memoizedState:null;if(g.mode==="hidden"){if((u.flags&128)!==0){if(g=w!==null?w.baseLanes|h:h,o!==null){for(v=u.child=o.child,w=0;v!==null;)w=w|v.lanes|v.childLanes,v=v.sibling;u.childLanes=w&~g}else u.childLanes=0,u.child=null;return MN(o,u,g,h)}if((h&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&Zh(u,w!==null?w.cachePool:null),w!==null?kC(u,w):L0(),yN(u);else return u.lanes=u.childLanes=536870912,MN(o,u,w!==null?w.baseLanes|h:h,h)}else w!==null?(Zh(u,w.cachePool),kC(u,w),no(),u.memoizedState=null):(o!==null&&Zh(u,null),L0(),no());return Fr(o,u,v,h),u.child}function MN(o,u,h,g){var v=k0();return v=v===null?null:{parent:jr._currentValue,pool:v},u.memoizedState={baseLanes:h,cachePool:v},o!==null&&Zh(u,null),L0(),yN(u),o!==null&&od(o,u,g,!0),null}function gp(o,u){var h=u.ref;if(h===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(o===null||o.ref!==h)&&(u.flags|=4194816)}}function nx(o,u,h,g,v){return pl(u),h=I0(o,u,h,g,void 0,v),g=B0(),o!==null&&!kr?(F0(o,u,v),ba(o,u,v)):(Tn&&g&&w0(u),u.flags|=1,Fr(o,u,h,v),u.child)}function DN(o,u,h,g,v,w){return pl(u),u.updateQueue=null,h=MC(u,g,h,v),OC(o),g=B0(),o!==null&&!kr?(F0(o,u,w),ba(o,u,w)):(Tn&&g&&w0(u),u.flags|=1,Fr(o,u,h,w),u.child)}function RN(o,u,h,g,v){if(pl(u),u.stateNode===null){var w=jc,O=h.contextType;typeof O=="object"&&O!==null&&(w=Gr(O)),w=new h(g,w),u.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=ex,u.stateNode=w,w._reactInternals=u,w=u.stateNode,w.props=g,w.state=u.memoizedState,w.refs={},M0(u),O=h.contextType,w.context=typeof O=="object"&&O!==null?Gr(O):jc,w.state=u.memoizedState,O=h.getDerivedStateFromProps,typeof O=="function"&&(Z0(u,h,O,g),w.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(O=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),O!==w.state&&ex.enqueueReplaceState(w,w.state,null),pd(u,g,w,v),hd(),w.state=u.memoizedState),typeof w.componentDidMount=="function"&&(u.flags|=4194308),g=!0}else if(o===null){w=u.stateNode;var P=u.memoizedProps,X=yl(h,P);w.props=X;var Oe=w.context,Ue=h.contextType;O=jc,typeof Ue=="object"&&Ue!==null&&(O=Gr(Ue));var Ke=h.getDerivedStateFromProps;Ue=typeof Ke=="function"||typeof w.getSnapshotBeforeUpdate=="function",P=u.pendingProps!==P,Ue||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P||Oe!==O)&&vN(u,w,g,O),Ja=!1;var De=u.memoizedState;w.state=De,pd(u,g,w,v),hd(),Oe=u.memoizedState,P||De!==Oe||Ja?(typeof Ke=="function"&&(Z0(u,h,Ke,g),Oe=u.memoizedState),(X=Ja||xN(u,h,X,g,De,Oe,O))?(Ue||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(u.flags|=4194308)):(typeof w.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=Oe),w.props=g,w.state=Oe,w.context=O,g=X):(typeof w.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{w=u.stateNode,D0(o,u),O=u.memoizedProps,Ue=yl(h,O),w.props=Ue,Ke=u.pendingProps,De=w.context,Oe=h.contextType,X=jc,typeof Oe=="object"&&Oe!==null&&(X=Gr(Oe)),P=h.getDerivedStateFromProps,(Oe=typeof P=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(O!==Ke||De!==X)&&vN(u,w,g,X),Ja=!1,De=u.memoizedState,w.state=De,pd(u,g,w,v),hd();var Pe=u.memoizedState;O!==Ke||De!==Pe||Ja||o!==null&&o.dependencies!==null&&Jh(o.dependencies)?(typeof P=="function"&&(Z0(u,h,P,g),Pe=u.memoizedState),(Ue=Ja||xN(u,h,Ue,g,De,Pe,X)||o!==null&&o.dependencies!==null&&Jh(o.dependencies))?(Oe||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(g,Pe,X),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(g,Pe,X)),typeof w.componentDidUpdate=="function"&&(u.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof w.componentDidUpdate!="function"||O===o.memoizedProps&&De===o.memoizedState||(u.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===o.memoizedProps&&De===o.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=Pe),w.props=g,w.state=Pe,w.context=X,g=Ue):(typeof w.componentDidUpdate!="function"||O===o.memoizedProps&&De===o.memoizedState||(u.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===o.memoizedProps&&De===o.memoizedState||(u.flags|=1024),g=!1)}return w=g,gp(o,u),g=(u.flags&128)!==0,w||g?(w=u.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:w.render(),u.flags|=1,o!==null&&g?(u.child=Lc(u,o.child,null,v),u.child=Lc(u,null,h,v)):Fr(o,u,h,v),u.memoizedState=w.state,o=u.child):o=ba(o,u,v),o}function _N(o,u,h,g){return id(),u.flags|=256,Fr(o,u,h,g),u.child}var rx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sx(o){return{baseLanes:o,cachePool:wC()}}function ix(o,u,h){return o=o!==null?o.childLanes&~h:0,u&&(o|=Zs),o}function LN(o,u,h){var g=u.pendingProps,v=!1,w=(u.flags&128)!==0,O;if((O=w)||(O=o!==null&&o.memoizedState===null?!1:(Tr.current&2)!==0),O&&(v=!0,u.flags&=-129),O=(u.flags&32)!==0,u.flags&=-33,o===null){if(Tn){if(v?to(u):no(),Tn){var P=nr,X;if(X=P){e:{for(X=P,P=zi;X.nodeType!==8;){if(!P){P=null;break e}if(X=bi(X.nextSibling),X===null){P=null;break e}}P=X}P!==null?(u.memoizedState={dehydrated:P,treeContext:cl!==null?{id:pa,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},X=Ds(18,null,null,0),X.stateNode=P,X.return=u,u.child=X,as=u,nr=null,X=!0):X=!1}X||fl(u)}if(P=u.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return Ux(P)?u.lanes=32:u.lanes=536870912,null;va(u)}return P=g.children,g=g.fallback,v?(no(),v=u.mode,P=yp({mode:"hidden",children:P},v),g=ll(g,v,h,null),P.return=u,g.return=u,P.sibling=g,u.child=P,v=u.child,v.memoizedState=sx(h),v.childLanes=ix(o,O,h),u.memoizedState=rx,g):(to(u),ax(u,P))}if(X=o.memoizedState,X!==null&&(P=X.dehydrated,P!==null)){if(w)u.flags&256?(to(u),u.flags&=-257,u=ox(o,u,h)):u.memoizedState!==null?(no(),u.child=o.child,u.flags|=128,u=null):(no(),v=g.fallback,P=u.mode,g=yp({mode:"visible",children:g.children},P),v=ll(v,P,h,null),v.flags|=2,g.return=u,v.return=u,g.sibling=v,u.child=g,Lc(u,o.child,null,h),g=u.child,g.memoizedState=sx(h),g.childLanes=ix(o,O,h),u.memoizedState=rx,u=v);else if(to(u),Ux(P)){if(O=P.nextSibling&&P.nextSibling.dataset,O)var Oe=O.dgst;O=Oe,g=Error(r(419)),g.stack="",g.digest=O,ad({value:g,source:null,stack:null}),u=ox(o,u,h)}else if(kr||od(o,u,h,!1),O=(h&o.childLanes)!==0,kr||O){if(O=zn,O!==null&&(g=h&-h,g=(g&42)!==0?1:tn(g),g=(g&(O.suspendedLanes|h))!==0?0:g,g!==0&&g!==X.retryLane))throw X.retryLane=g,Nc(o,g),zs(O,o,g),TN;P.data==="$?"||jx(),u=ox(o,u,h)}else P.data==="$?"?(u.flags|=192,u.child=o.child,u=null):(o=X.treeContext,nr=bi(P.nextSibling),as=u,Tn=!0,dl=null,zi=!1,o!==null&&(Xs[Js++]=pa,Xs[Js++]=ma,Xs[Js++]=cl,pa=o.id,ma=o.overflow,cl=u),u=ax(u,g.children),u.flags|=4096);return u}return v?(no(),v=g.fallback,P=u.mode,X=o.child,Oe=X.sibling,g=ha(X,{mode:"hidden",children:g.children}),g.subtreeFlags=X.subtreeFlags&65011712,Oe!==null?v=ha(Oe,v):(v=ll(v,P,h,null),v.flags|=2),v.return=u,g.return=u,g.sibling=v,u.child=g,g=v,v=u.child,P=o.child.memoizedState,P===null?P=sx(h):(X=P.cachePool,X!==null?(Oe=jr._currentValue,X=X.parent!==Oe?{parent:Oe,pool:Oe}:X):X=wC(),P={baseLanes:P.baseLanes|h,cachePool:X}),v.memoizedState=P,v.childLanes=ix(o,O,h),u.memoizedState=rx,g):(to(u),h=o.child,o=h.sibling,h=ha(h,{mode:"visible",children:g.children}),h.return=u,h.sibling=null,o!==null&&(O=u.deletions,O===null?(u.deletions=[o],u.flags|=16):O.push(o)),u.child=h,u.memoizedState=null,h)}function ax(o,u){return u=yp({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function yp(o,u){return o=Ds(22,o,null,u),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function ox(o,u,h){return Lc(u,o.child,null,h),o=ax(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function PN(o,u,h){o.lanes|=u;var g=o.alternate;g!==null&&(g.lanes|=u),j0(o.return,u,h)}function lx(o,u,h,g,v){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:v}:(w.isBackwards=u,w.rendering=null,w.renderingStartTime=0,w.last=g,w.tail=h,w.tailMode=v)}function zN(o,u,h){var g=u.pendingProps,v=g.revealOrder,w=g.tail;if(Fr(o,u,g.children,h),g=Tr.current,(g&2)!==0)g=g&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&PN(o,h,u);else if(o.tag===19)PN(o,h,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}g&=1}switch(he(Tr,g),v){case"forwards":for(h=u.child,v=null;h!==null;)o=h.alternate,o!==null&&hp(o)===null&&(v=h),h=h.sibling;h=v,h===null?(v=u.child,u.child=null):(v=h.sibling,h.sibling=null),lx(u,!1,v,h,w);break;case"backwards":for(h=null,v=u.child,u.child=null;v!==null;){if(o=v.alternate,o!==null&&hp(o)===null){u.child=v;break}o=v.sibling,v.sibling=h,h=v,v=o}lx(u,!0,h,null,w);break;case"together":lx(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function ba(o,u,h){if(o!==null&&(u.dependencies=o.dependencies),oo|=u.lanes,(h&u.childLanes)===0)if(o!==null){if(od(o,u,h,!1),(h&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(r(153));if(u.child!==null){for(o=u.child,h=ha(o,o.pendingProps),u.child=h,h.return=u;o.sibling!==null;)o=o.sibling,h=h.sibling=ha(o,o.pendingProps),h.return=u;h.sibling=null}return u.child}function cx(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&Jh(o)))}function V8(o,u,h){switch(u.tag){case 3:Re(u,u.stateNode.containerInfo),Xa(u,jr,o.memoizedState.cache),id();break;case 27:case 5:Ze(u);break;case 4:Re(u,u.stateNode.containerInfo);break;case 10:Xa(u,u.type,u.memoizedProps.value);break;case 13:var g=u.memoizedState;if(g!==null)return g.dehydrated!==null?(to(u),u.flags|=128,null):(h&u.child.childLanes)!==0?LN(o,u,h):(to(u),o=ba(o,u,h),o!==null?o.sibling:null);to(u);break;case 19:var v=(o.flags&128)!==0;if(g=(h&u.childLanes)!==0,g||(od(o,u,h,!1),g=(h&u.childLanes)!==0),v){if(g)return zN(o,u,h);u.flags|=128}if(v=u.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),he(Tr,Tr.current),g)break;return null;case 22:case 23:return u.lanes=0,ON(o,u,h);case 24:Xa(u,jr,o.memoizedState.cache)}return ba(o,u,h)}function IN(o,u,h){if(o!==null)if(o.memoizedProps!==u.pendingProps)kr=!0;else{if(!cx(o,h)&&(u.flags&128)===0)return kr=!1,V8(o,u,h);kr=(o.flags&131072)!==0}else kr=!1,Tn&&(u.flags&1048576)!==0&&pC(u,Xh,u.index);switch(u.lanes=0,u.tag){case 16:e:{o=u.pendingProps;var g=u.elementType,v=g._init;if(g=v(g._payload),u.type=g,typeof g=="function")x0(g)?(o=yl(g,o),u.tag=1,u=RN(null,u,g,o,h)):(u.tag=0,u=nx(null,u,g,o,h));else{if(g!=null){if(v=g.$$typeof,v===D){u.tag=11,u=EN(null,u,g,o,h);break e}else if(v===F){u.tag=14,u=AN(null,u,g,o,h);break e}}throw u=ne(g)||g,Error(r(306,u,""))}}return u;case 0:return nx(o,u,u.type,u.pendingProps,h);case 1:return g=u.type,v=yl(g,u.pendingProps),RN(o,u,g,v,h);case 3:e:{if(Re(u,u.stateNode.containerInfo),o===null)throw Error(r(387));g=u.pendingProps;var w=u.memoizedState;v=w.element,D0(o,u),pd(u,g,null,h);var O=u.memoizedState;if(g=O.cache,Xa(u,jr,g),g!==w.cache&&T0(u,[jr],h,!0),hd(),g=O.element,w.isDehydrated)if(w={element:g,isDehydrated:!1,cache:O.cache},u.updateQueue.baseState=w,u.memoizedState=w,u.flags&256){u=_N(o,u,g,h);break e}else if(g!==v){v=Ws(Error(r(424)),u),ad(v),u=_N(o,u,g,h);break e}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(nr=bi(o.firstChild),as=u,Tn=!0,dl=null,zi=!0,h=gN(u,null,g,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(id(),g===v){u=ba(o,u,h);break e}Fr(o,u,g,h)}u=u.child}return u;case 26:return gp(o,u),o===null?(h=Uj(u.type,null,u.pendingProps,null))?u.memoizedState=h:Tn||(h=u.type,o=u.pendingProps,g=Mp(Me.current).createElement(h),g[$e]=u,g[Xe]=o,Ur(g,h,o),Mt(g),u.stateNode=g):u.memoizedState=Uj(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return Ze(u),o===null&&Tn&&(g=u.stateNode=Bj(u.type,u.pendingProps,Me.current),as=u,zi=!0,v=nr,fo(u.type)?(Vx=v,nr=bi(g.firstChild)):nr=v),Fr(o,u,u.pendingProps.children,h),gp(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&Tn&&((v=g=nr)&&(g=y7(g,u.type,u.pendingProps,zi),g!==null?(u.stateNode=g,as=u,nr=bi(g.firstChild),zi=!1,v=!0):v=!1),v||fl(u)),Ze(u),v=u.type,w=u.pendingProps,O=o!==null?o.memoizedProps:null,g=w.children,Bx(v,w)?g=null:O!==null&&Bx(v,O)&&(u.flags|=32),u.memoizedState!==null&&(v=I0(o,u,L8,null,null,h),Pd._currentValue=v),gp(o,u),Fr(o,u,g,h),u.child;case 6:return o===null&&Tn&&((o=h=nr)&&(h=x7(h,u.pendingProps,zi),h!==null?(u.stateNode=h,as=u,nr=null,o=!0):o=!1),o||fl(u)),null;case 13:return LN(o,u,h);case 4:return Re(u,u.stateNode.containerInfo),g=u.pendingProps,o===null?u.child=Lc(u,null,g,h):Fr(o,u,g,h),u.child;case 11:return EN(o,u,u.type,u.pendingProps,h);case 7:return Fr(o,u,u.pendingProps,h),u.child;case 8:return Fr(o,u,u.pendingProps.children,h),u.child;case 12:return Fr(o,u,u.pendingProps.children,h),u.child;case 10:return g=u.pendingProps,Xa(u,u.type,g.value),Fr(o,u,g.children,h),u.child;case 9:return v=u.type._context,g=u.pendingProps.children,pl(u),v=Gr(v),g=g(v),u.flags|=1,Fr(o,u,g,h),u.child;case 14:return AN(o,u,u.type,u.pendingProps,h);case 15:return kN(o,u,u.type,u.pendingProps,h);case 19:return zN(o,u,h);case 31:return g=u.pendingProps,h=u.mode,g={mode:g.mode,children:g.children},o===null?(h=yp(g,h),h.ref=u.ref,u.child=h,h.return=u,u=h):(h=ha(o.child,g),h.ref=u.ref,u.child=h,h.return=u,u=h),u;case 22:return ON(o,u,h);case 24:return pl(u),g=Gr(jr),o===null?(v=k0(),v===null&&(v=zn,w=E0(),v.pooledCache=w,w.refCount++,w!==null&&(v.pooledCacheLanes|=h),v=w),u.memoizedState={parent:g,cache:v},M0(u),Xa(u,jr,v)):((o.lanes&h)!==0&&(D0(o,u),pd(u,null,null,h),hd()),v=o.memoizedState,w=u.memoizedState,v.parent!==g?(v={parent:g,cache:g},u.memoizedState=v,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=v),Xa(u,jr,g)):(g=w.cache,Xa(u,jr,g),g!==v.cache&&T0(u,[jr],h,!0))),Fr(o,u,u.pendingProps.children,h),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function wa(o){o.flags|=4}function BN(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!Yj(u)){if(u=Qs.current,u!==null&&((yn&4194048)===yn?Ii!==null:(yn&62914560)!==yn&&(yn&536870912)===0||u!==Ii))throw dd=O0,SC;o.flags|=8192}}function xp(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?rt():536870912,o.lanes|=u,Bc|=u)}function wd(o,u){if(!Tn)switch(o.tailMode){case"hidden":u=o.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function Zn(o){var u=o.alternate!==null&&o.alternate.child===o.child,h=0,g=0;if(u)for(var v=o.child;v!==null;)h|=v.lanes|v.childLanes,g|=v.subtreeFlags&65011712,g|=v.flags&65011712,v.return=o,v=v.sibling;else for(v=o.child;v!==null;)h|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=o,v=v.sibling;return o.subtreeFlags|=g,o.childLanes=h,u}function H8(o,u,h){var g=u.pendingProps;switch(S0(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(u),null;case 1:return Zn(u),null;case 3:return h=u.stateNode,g=null,o!==null&&(g=o.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),ya(jr),ut(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(sd(u)?wa(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,yC())),Zn(u),null;case 26:return h=u.memoizedState,o===null?(wa(u),h!==null?(Zn(u),BN(u,h)):(Zn(u),u.flags&=-16777217)):h?h!==o.memoizedState?(wa(u),Zn(u),BN(u,h)):(Zn(u),u.flags&=-16777217):(o.memoizedProps!==g&&wa(u),Zn(u),u.flags&=-16777217),null;case 27:St(u),h=Me.current;var v=u.type;if(o!==null&&u.stateNode!=null)o.memoizedProps!==g&&wa(u);else{if(!g){if(u.stateNode===null)throw Error(r(166));return Zn(u),null}o=ke.current,sd(u)?mC(u):(o=Bj(v,g,h),u.stateNode=o,wa(u))}return Zn(u),null;case 5:if(St(u),h=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==g&&wa(u);else{if(!g){if(u.stateNode===null)throw Error(r(166));return Zn(u),null}if(o=ke.current,sd(u))mC(u);else{switch(v=Mp(Me.current),o){case 1:o=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:o=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":o=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":o=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":o=v.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof g.is=="string"?v.createElement("select",{is:g.is}):v.createElement("select"),g.multiple?o.multiple=!0:g.size&&(o.size=g.size);break;default:o=typeof g.is=="string"?v.createElement(h,{is:g.is}):v.createElement(h)}}o[$e]=u,o[Xe]=g;e:for(v=u.child;v!==null;){if(v.tag===5||v.tag===6)o.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===u)break e;for(;v.sibling===null;){if(v.return===null||v.return===u)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}u.stateNode=o;e:switch(Ur(o,h,g),h){case"button":case"input":case"select":case"textarea":o=!!g.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&wa(u)}}return Zn(u),u.flags&=-16777217,null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==g&&wa(u);else{if(typeof g!="string"&&u.stateNode===null)throw Error(r(166));if(o=Me.current,sd(u)){if(o=u.stateNode,h=u.memoizedProps,g=null,v=as,v!==null)switch(v.tag){case 27:case 5:g=v.memoizedProps}o[$e]=u,o=!!(o.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||Dj(o.nodeValue,h)),o||fl(u)}else o=Mp(o).createTextNode(g),o[$e]=u,u.stateNode=o}return Zn(u),null;case 13:if(g=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(v=sd(u),g!==null&&g.dehydrated!==null){if(o===null){if(!v)throw Error(r(318));if(v=u.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[$e]=u}else id(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Zn(u),v=!1}else v=yC(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=v),v=!0;if(!v)return u.flags&256?(va(u),u):(va(u),null)}if(va(u),(u.flags&128)!==0)return u.lanes=h,u;if(h=g!==null,o=o!==null&&o.memoizedState!==null,h){g=u.child,v=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(v=g.alternate.memoizedState.cachePool.pool);var w=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(w=g.memoizedState.cachePool.pool),w!==v&&(g.flags|=2048)}return h!==o&&h&&(u.child.flags|=8192),xp(u,u.updateQueue),Zn(u),null;case 4:return ut(),o===null&&_x(u.stateNode.containerInfo),Zn(u),null;case 10:return ya(u.type),Zn(u),null;case 19:if(ie(Tr),v=u.memoizedState,v===null)return Zn(u),null;if(g=(u.flags&128)!==0,w=v.rendering,w===null)if(g)wd(v,!1);else{if(rr!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(w=hp(o),w!==null){for(u.flags|=128,wd(v,!1),o=w.updateQueue,u.updateQueue=o,xp(u,o),u.subtreeFlags=0,o=h,h=u.child;h!==null;)hC(h,o),h=h.sibling;return he(Tr,Tr.current&1|2),u.child}o=o.sibling}v.tail!==null&&qe()>wp&&(u.flags|=128,g=!0,wd(v,!1),u.lanes=4194304)}else{if(!g)if(o=hp(w),o!==null){if(u.flags|=128,g=!0,o=o.updateQueue,u.updateQueue=o,xp(u,o),wd(v,!0),v.tail===null&&v.tailMode==="hidden"&&!w.alternate&&!Tn)return Zn(u),null}else 2*qe()-v.renderingStartTime>wp&&h!==536870912&&(u.flags|=128,g=!0,wd(v,!1),u.lanes=4194304);v.isBackwards?(w.sibling=u.child,u.child=w):(o=v.last,o!==null?o.sibling=w:u.child=w,v.last=w)}return v.tail!==null?(u=v.tail,v.rendering=u,v.tail=u.sibling,v.renderingStartTime=qe(),u.sibling=null,o=Tr.current,he(Tr,g?o&1|2:o&1),u):(Zn(u),null);case 22:case 23:return va(u),P0(),g=u.memoizedState!==null,o!==null?o.memoizedState!==null!==g&&(u.flags|=8192):g&&(u.flags|=8192),g?(h&536870912)!==0&&(u.flags&128)===0&&(Zn(u),u.subtreeFlags&6&&(u.flags|=8192)):Zn(u),h=u.updateQueue,h!==null&&xp(u,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==h&&(u.flags|=2048),o!==null&&ie(ml),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),u.memoizedState.cache!==h&&(u.flags|=2048),ya(jr),Zn(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function q8(o,u){switch(S0(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return ya(jr),ut(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return St(u),null;case 13:if(va(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(r(340));id()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return ie(Tr),null;case 4:return ut(),null;case 10:return ya(u.type),null;case 22:case 23:return va(u),P0(),o!==null&&ie(ml),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return ya(jr),null;case 25:return null;default:return null}}function FN(o,u){switch(S0(u),u.tag){case 3:ya(jr),ut();break;case 26:case 27:case 5:St(u);break;case 4:ut();break;case 13:va(u);break;case 19:ie(Tr);break;case 10:ya(u.type);break;case 22:case 23:va(u),P0(),o!==null&&ie(ml);break;case 24:ya(jr)}}function Sd(o,u){try{var h=u.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var v=g.next;h=v;do{if((h.tag&o)===o){g=void 0;var w=h.create,O=h.inst;g=w(),O.destroy=g}h=h.next}while(h!==v)}}catch(P){Ln(u,u.return,P)}}function ro(o,u,h){try{var g=u.updateQueue,v=g!==null?g.lastEffect:null;if(v!==null){var w=v.next;g=w;do{if((g.tag&o)===o){var O=g.inst,P=O.destroy;if(P!==void 0){O.destroy=void 0,v=u;var X=h,Oe=P;try{Oe()}catch(Ue){Ln(v,X,Ue)}}}g=g.next}while(g!==w)}}catch(Ue){Ln(u,u.return,Ue)}}function $N(o){var u=o.updateQueue;if(u!==null){var h=o.stateNode;try{AC(u,h)}catch(g){Ln(o,o.return,g)}}}function UN(o,u,h){h.props=yl(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(g){Ln(o,u,g)}}function Cd(o,u){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var g=o.stateNode;break;case 30:g=o.stateNode;break;default:g=o.stateNode}typeof h=="function"?o.refCleanup=h(g):h.current=g}}catch(v){Ln(o,u,v)}}function Bi(o,u){var h=o.ref,g=o.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(v){Ln(o,u,v)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(v){Ln(o,u,v)}else h.current=null}function VN(o){var u=o.type,h=o.memoizedProps,g=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(v){Ln(o,o.return,v)}}function ux(o,u,h){try{var g=o.stateNode;f7(g,o.type,h,u),g[Xe]=u}catch(v){Ln(o,o.return,v)}}function HN(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&fo(o.type)||o.tag===4}function dx(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||HN(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&fo(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function fx(o,u,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,u?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,u):(u=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,u.appendChild(o),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=Op));else if(g!==4&&(g===27&&fo(o.type)&&(h=o.stateNode,u=null),o=o.child,o!==null))for(fx(o,u,h),o=o.sibling;o!==null;)fx(o,u,h),o=o.sibling}function vp(o,u,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,u?h.insertBefore(o,u):h.appendChild(o);else if(g!==4&&(g===27&&fo(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(vp(o,u,h),o=o.sibling;o!==null;)vp(o,u,h),o=o.sibling}function qN(o){var u=o.stateNode,h=o.memoizedProps;try{for(var g=o.type,v=u.attributes;v.length;)u.removeAttributeNode(v[0]);Ur(u,g,h),u[$e]=o,u[Xe]=h}catch(w){Ln(o,o.return,w)}}var Sa=!1,dr=!1,hx=!1,KN=typeof WeakSet=="function"?WeakSet:Set,Or=null;function K8(o,u){if(o=o.containerInfo,zx=zp,o=rC(o),d0(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var v=g.anchorOffset,w=g.focusNode;g=g.focusOffset;try{h.nodeType,w.nodeType}catch{h=null;break e}var O=0,P=-1,X=-1,Oe=0,Ue=0,Ke=o,De=null;t:for(;;){for(var Pe;Ke!==h||v!==0&&Ke.nodeType!==3||(P=O+v),Ke!==w||g!==0&&Ke.nodeType!==3||(X=O+g),Ke.nodeType===3&&(O+=Ke.nodeValue.length),(Pe=Ke.firstChild)!==null;)De=Ke,Ke=Pe;for(;;){if(Ke===o)break t;if(De===h&&++Oe===v&&(P=O),De===w&&++Ue===g&&(X=O),(Pe=Ke.nextSibling)!==null)break;Ke=De,De=Ke.parentNode}Ke=Pe}h=P===-1||X===-1?null:{start:P,end:X}}else h=null}h=h||{start:0,end:0}}else h=null;for(Ix={focusedElem:o,selectionRange:h},zp=!1,Or=u;Or!==null;)if(u=Or,o=u.child,(u.subtreeFlags&1024)!==0&&o!==null)o.return=u,Or=o;else for(;Or!==null;){switch(u=Or,w=u.alternate,o=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&w!==null){o=void 0,h=u,v=w.memoizedProps,w=w.memoizedState,g=h.stateNode;try{var Gt=yl(h.type,v,h.elementType===h.type);o=g.getSnapshotBeforeUpdate(Gt,w),g.__reactInternalSnapshotBeforeUpdate=o}catch(qt){Ln(h,h.return,qt)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,h=o.nodeType,h===9)$x(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":$x(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=u.sibling,o!==null){o.return=u.return,Or=o;break}Or=u.return}}function YN(o,u,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:so(o,h),g&4&&Sd(5,h);break;case 1:if(so(o,h),g&4)if(o=h.stateNode,u===null)try{o.componentDidMount()}catch(O){Ln(h,h.return,O)}else{var v=yl(h.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(v,u,o.__reactInternalSnapshotBeforeUpdate)}catch(O){Ln(h,h.return,O)}}g&64&&$N(h),g&512&&Cd(h,h.return);break;case 3:if(so(o,h),g&64&&(o=h.updateQueue,o!==null)){if(u=null,h.child!==null)switch(h.child.tag){case 27:case 5:u=h.child.stateNode;break;case 1:u=h.child.stateNode}try{AC(o,u)}catch(O){Ln(h,h.return,O)}}break;case 27:u===null&&g&4&&qN(h);case 26:case 5:so(o,h),u===null&&g&4&&VN(h),g&512&&Cd(h,h.return);break;case 12:so(o,h);break;case 13:so(o,h),g&4&&XN(o,h),g&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=t7.bind(null,h),v7(o,h))));break;case 22:if(g=h.memoizedState!==null||Sa,!g){u=u!==null&&u.memoizedState!==null||dr,v=Sa;var w=dr;Sa=g,(dr=u)&&!w?io(o,h,(h.subtreeFlags&8772)!==0):so(o,h),Sa=v,dr=w}break;case 30:break;default:so(o,h)}}function WN(o){var u=o.alternate;u!==null&&(o.alternate=null,WN(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&G(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var qn=null,ys=!1;function Ca(o,u,h){for(h=h.child;h!==null;)GN(o,u,h),h=h.sibling}function GN(o,u,h){if(Ce&&typeof Ce.onCommitFiberUnmount=="function")try{Ce.onCommitFiberUnmount(U,h)}catch{}switch(h.tag){case 26:dr||Bi(h,u),Ca(o,u,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:dr||Bi(h,u);var g=qn,v=ys;fo(h.type)&&(qn=h.stateNode,ys=!1),Ca(o,u,h),Dd(h.stateNode),qn=g,ys=v;break;case 5:dr||Bi(h,u);case 6:if(g=qn,v=ys,qn=null,Ca(o,u,h),qn=g,ys=v,qn!==null)if(ys)try{(qn.nodeType===9?qn.body:qn.nodeName==="HTML"?qn.ownerDocument.body:qn).removeChild(h.stateNode)}catch(w){Ln(h,u,w)}else try{qn.removeChild(h.stateNode)}catch(w){Ln(h,u,w)}break;case 18:qn!==null&&(ys?(o=qn,zj(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),Fd(o)):zj(qn,h.stateNode));break;case 4:g=qn,v=ys,qn=h.stateNode.containerInfo,ys=!0,Ca(o,u,h),qn=g,ys=v;break;case 0:case 11:case 14:case 15:dr||ro(2,h,u),dr||ro(4,h,u),Ca(o,u,h);break;case 1:dr||(Bi(h,u),g=h.stateNode,typeof g.componentWillUnmount=="function"&&UN(h,u,g)),Ca(o,u,h);break;case 21:Ca(o,u,h);break;case 22:dr=(g=dr)||h.memoizedState!==null,Ca(o,u,h),dr=g;break;default:Ca(o,u,h)}}function XN(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Fd(o)}catch(h){Ln(u,u.return,h)}}function Y8(o){switch(o.tag){case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new KN),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new KN),u;default:throw Error(r(435,o.tag))}}function px(o,u){var h=Y8(o);u.forEach(function(g){var v=n7.bind(null,o,g);h.has(g)||(h.add(g),g.then(v,v))})}function Rs(o,u){var h=u.deletions;if(h!==null)for(var g=0;g<h.length;g++){var v=h[g],w=o,O=u,P=O;e:for(;P!==null;){switch(P.tag){case 27:if(fo(P.type)){qn=P.stateNode,ys=!1;break e}break;case 5:qn=P.stateNode,ys=!1;break e;case 3:case 4:qn=P.stateNode.containerInfo,ys=!0;break e}P=P.return}if(qn===null)throw Error(r(160));GN(w,O,v),qn=null,ys=!1,w=v.alternate,w!==null&&(w.return=null),v.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)JN(u,o),u=u.sibling}var vi=null;function JN(o,u){var h=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Rs(u,o),_s(o),g&4&&(ro(3,o,o.return),Sd(3,o),ro(5,o,o.return));break;case 1:Rs(u,o),_s(o),g&512&&(dr||h===null||Bi(h,h.return)),g&64&&Sa&&(o=o.updateQueue,o!==null&&(g=o.callbacks,g!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var v=vi;if(Rs(u,o),_s(o),g&512&&(dr||h===null||Bi(h,h.return)),g&4){var w=h!==null?h.memoizedState:null;if(g=o.memoizedState,h===null)if(g===null)if(o.stateNode===null){e:{g=o.type,h=o.memoizedProps,v=v.ownerDocument||v;t:switch(g){case"title":w=v.getElementsByTagName("title")[0],(!w||w[Ot]||w[$e]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=v.createElement(g),v.head.insertBefore(w,v.querySelector("head > title"))),Ur(w,g,h),w[$e]=o,Mt(w),g=w;break e;case"link":var O=qj("link","href",v).get(g+(h.href||""));if(O){for(var P=0;P<O.length;P++)if(w=O[P],w.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&w.getAttribute("rel")===(h.rel==null?null:h.rel)&&w.getAttribute("title")===(h.title==null?null:h.title)&&w.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){O.splice(P,1);break t}}w=v.createElement(g),Ur(w,g,h),v.head.appendChild(w);break;case"meta":if(O=qj("meta","content",v).get(g+(h.content||""))){for(P=0;P<O.length;P++)if(w=O[P],w.getAttribute("content")===(h.content==null?null:""+h.content)&&w.getAttribute("name")===(h.name==null?null:h.name)&&w.getAttribute("property")===(h.property==null?null:h.property)&&w.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&w.getAttribute("charset")===(h.charSet==null?null:h.charSet)){O.splice(P,1);break t}}w=v.createElement(g),Ur(w,g,h),v.head.appendChild(w);break;default:throw Error(r(468,g))}w[$e]=o,Mt(w),g=w}o.stateNode=g}else Kj(v,o.type,o.stateNode);else o.stateNode=Hj(v,g,o.memoizedProps);else w!==g?(w===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):w.count--,g===null?Kj(v,o.type,o.stateNode):Hj(v,g,o.memoizedProps)):g===null&&o.stateNode!==null&&ux(o,o.memoizedProps,h.memoizedProps)}break;case 27:Rs(u,o),_s(o),g&512&&(dr||h===null||Bi(h,h.return)),h!==null&&g&4&&ux(o,o.memoizedProps,h.memoizedProps);break;case 5:if(Rs(u,o),_s(o),g&512&&(dr||h===null||Bi(h,h.return)),o.flags&32){v=o.stateNode;try{_n(v,"")}catch(Pe){Ln(o,o.return,Pe)}}g&4&&o.stateNode!=null&&(v=o.memoizedProps,ux(o,v,h!==null?h.memoizedProps:v)),g&1024&&(hx=!0);break;case 6:if(Rs(u,o),_s(o),g&4){if(o.stateNode===null)throw Error(r(162));g=o.memoizedProps,h=o.stateNode;try{h.nodeValue=g}catch(Pe){Ln(o,o.return,Pe)}}break;case 3:if(_p=null,v=vi,vi=Dp(u.containerInfo),Rs(u,o),vi=v,_s(o),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Fd(u.containerInfo)}catch(Pe){Ln(o,o.return,Pe)}hx&&(hx=!1,QN(o));break;case 4:g=vi,vi=Dp(o.stateNode.containerInfo),Rs(u,o),_s(o),vi=g;break;case 12:Rs(u,o),_s(o);break;case 13:Rs(u,o),_s(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(bx=qe()),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,px(o,g)));break;case 22:v=o.memoizedState!==null;var X=h!==null&&h.memoizedState!==null,Oe=Sa,Ue=dr;if(Sa=Oe||v,dr=Ue||X,Rs(u,o),dr=Ue,Sa=Oe,_s(o),g&8192)e:for(u=o.stateNode,u._visibility=v?u._visibility&-2:u._visibility|1,v&&(h===null||X||Sa||dr||xl(o)),h=null,u=o;;){if(u.tag===5||u.tag===26){if(h===null){X=h=u;try{if(w=X.stateNode,v)O=w.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{P=X.stateNode;var Ke=X.memoizedProps.style,De=Ke!=null&&Ke.hasOwnProperty("display")?Ke.display:null;P.style.display=De==null||typeof De=="boolean"?"":(""+De).trim()}}catch(Pe){Ln(X,X.return,Pe)}}}else if(u.tag===6){if(h===null){X=u;try{X.stateNode.nodeValue=v?"":X.memoizedProps}catch(Pe){Ln(X,X.return,Pe)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}g&4&&(g=o.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,px(o,h))));break;case 19:Rs(u,o),_s(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,px(o,g)));break;case 30:break;case 21:break;default:Rs(u,o),_s(o)}}function _s(o){var u=o.flags;if(u&2){try{for(var h,g=o.return;g!==null;){if(HN(g)){h=g;break}g=g.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var v=h.stateNode,w=dx(o);vp(o,w,v);break;case 5:var O=h.stateNode;h.flags&32&&(_n(O,""),h.flags&=-33);var P=dx(o);vp(o,P,O);break;case 3:case 4:var X=h.stateNode.containerInfo,Oe=dx(o);fx(o,Oe,X);break;default:throw Error(r(161))}}catch(Ue){Ln(o,o.return,Ue)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function QN(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;QN(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function so(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)YN(o,u.alternate,u),u=u.sibling}function xl(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:ro(4,u,u.return),xl(u);break;case 1:Bi(u,u.return);var h=u.stateNode;typeof h.componentWillUnmount=="function"&&UN(u,u.return,h),xl(u);break;case 27:Dd(u.stateNode);case 26:case 5:Bi(u,u.return),xl(u);break;case 22:u.memoizedState===null&&xl(u);break;case 30:xl(u);break;default:xl(u)}o=o.sibling}}function io(o,u,h){for(h=h&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var g=u.alternate,v=o,w=u,O=w.flags;switch(w.tag){case 0:case 11:case 15:io(v,w,h),Sd(4,w);break;case 1:if(io(v,w,h),g=w,v=g.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Oe){Ln(g,g.return,Oe)}if(g=w,v=g.updateQueue,v!==null){var P=g.stateNode;try{var X=v.shared.hiddenCallbacks;if(X!==null)for(v.shared.hiddenCallbacks=null,v=0;v<X.length;v++)EC(X[v],P)}catch(Oe){Ln(g,g.return,Oe)}}h&&O&64&&$N(w),Cd(w,w.return);break;case 27:qN(w);case 26:case 5:io(v,w,h),h&&g===null&&O&4&&VN(w),Cd(w,w.return);break;case 12:io(v,w,h);break;case 13:io(v,w,h),h&&O&4&&XN(v,w);break;case 22:w.memoizedState===null&&io(v,w,h),Cd(w,w.return);break;case 30:break;default:io(v,w,h)}u=u.sibling}}function mx(o,u){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&ld(h))}function gx(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&ld(o))}function Fi(o,u,h,g){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)ZN(o,u,h,g),u=u.sibling}function ZN(o,u,h,g){var v=u.flags;switch(u.tag){case 0:case 11:case 15:Fi(o,u,h,g),v&2048&&Sd(9,u);break;case 1:Fi(o,u,h,g);break;case 3:Fi(o,u,h,g),v&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&ld(o)));break;case 12:if(v&2048){Fi(o,u,h,g),o=u.stateNode;try{var w=u.memoizedProps,O=w.id,P=w.onPostCommit;typeof P=="function"&&P(O,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(X){Ln(u,u.return,X)}}else Fi(o,u,h,g);break;case 13:Fi(o,u,h,g);break;case 23:break;case 22:w=u.stateNode,O=u.alternate,u.memoizedState!==null?w._visibility&2?Fi(o,u,h,g):Nd(o,u):w._visibility&2?Fi(o,u,h,g):(w._visibility|=2,Pc(o,u,h,g,(u.subtreeFlags&10256)!==0)),v&2048&&mx(O,u);break;case 24:Fi(o,u,h,g),v&2048&&gx(u.alternate,u);break;default:Fi(o,u,h,g)}}function Pc(o,u,h,g,v){for(v=v&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var w=o,O=u,P=h,X=g,Oe=O.flags;switch(O.tag){case 0:case 11:case 15:Pc(w,O,P,X,v),Sd(8,O);break;case 23:break;case 22:var Ue=O.stateNode;O.memoizedState!==null?Ue._visibility&2?Pc(w,O,P,X,v):Nd(w,O):(Ue._visibility|=2,Pc(w,O,P,X,v)),v&&Oe&2048&&mx(O.alternate,O);break;case 24:Pc(w,O,P,X,v),v&&Oe&2048&&gx(O.alternate,O);break;default:Pc(w,O,P,X,v)}u=u.sibling}}function Nd(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var h=o,g=u,v=g.flags;switch(g.tag){case 22:Nd(h,g),v&2048&&mx(g.alternate,g);break;case 24:Nd(h,g),v&2048&&gx(g.alternate,g);break;default:Nd(h,g)}u=u.sibling}}var jd=8192;function zc(o){if(o.subtreeFlags&jd)for(o=o.child;o!==null;)ej(o),o=o.sibling}function ej(o){switch(o.tag){case 26:zc(o),o.flags&jd&&o.memoizedState!==null&&D7(vi,o.memoizedState,o.memoizedProps);break;case 5:zc(o);break;case 3:case 4:var u=vi;vi=Dp(o.stateNode.containerInfo),zc(o),vi=u;break;case 22:o.memoizedState===null&&(u=o.alternate,u!==null&&u.memoizedState!==null?(u=jd,jd=16777216,zc(o),jd=u):zc(o));break;default:zc(o)}}function tj(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function Td(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var g=u[h];Or=g,rj(g,o)}tj(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)nj(o),o=o.sibling}function nj(o){switch(o.tag){case 0:case 11:case 15:Td(o),o.flags&2048&&ro(9,o,o.return);break;case 3:Td(o);break;case 12:Td(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,bp(o)):Td(o);break;default:Td(o)}}function bp(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var g=u[h];Or=g,rj(g,o)}tj(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:ro(8,u,u.return),bp(u);break;case 22:h=u.stateNode,h._visibility&2&&(h._visibility&=-3,bp(u));break;default:bp(u)}o=o.sibling}}function rj(o,u){for(;Or!==null;){var h=Or;switch(h.tag){case 0:case 11:case 15:ro(8,h,u);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:ld(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,Or=g;else e:for(h=o;Or!==null;){g=Or;var v=g.sibling,w=g.return;if(WN(g),g===h){Or=null;break e}if(v!==null){v.return=w,Or=v;break e}Or=w}}}var W8={getCacheForType:function(o){var u=Gr(jr),h=u.data.get(o);return h===void 0&&(h=o(),u.data.set(o,h)),h}},G8=typeof WeakMap=="function"?WeakMap:Map,An=0,zn=null,pn=null,yn=0,kn=0,Ls=null,ao=!1,Ic=!1,yx=!1,Na=0,rr=0,oo=0,vl=0,xx=0,Zs=0,Bc=0,Ed=null,xs=null,vx=!1,bx=0,wp=1/0,Sp=null,lo=null,$r=0,co=null,Fc=null,$c=0,wx=0,Sx=null,sj=null,Ad=0,Cx=null;function Ps(){if((An&2)!==0&&yn!==0)return yn&-yn;if(W.T!==null){var o=Ac;return o!==0?o:Ox()}return Q()}function ij(){Zs===0&&(Zs=(yn&536870912)===0||Tn?Lt():536870912);var o=Qs.current;return o!==null&&(o.flags|=32),Zs}function zs(o,u,h){(o===zn&&(kn===2||kn===9)||o.cancelPendingCommit!==null)&&(Uc(o,0),uo(o,yn,Zs,!1)),lt(o,h),((An&2)===0||o!==zn)&&(o===zn&&((An&2)===0&&(vl|=h),rr===4&&uo(o,yn,Zs,!1)),$i(o))}function aj(o,u,h){if((An&6)!==0)throw Error(r(327));var g=!h&&(u&124)===0&&(u&o.expiredLanes)===0||me(o,u),v=g?Q8(o,u):Tx(o,u,!0),w=g;do{if(v===0){Ic&&!g&&uo(o,u,0,!1);break}else{if(h=o.current.alternate,w&&!X8(h)){v=Tx(o,u,!1),w=!1;continue}if(v===2){if(w=u,o.errorRecoveryDisabledLanes&w)var O=0;else O=o.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){u=O;e:{var P=o;v=Ed;var X=P.current.memoizedState.isDehydrated;if(X&&(Uc(P,O).flags|=256),O=Tx(P,O,!1),O!==2){if(yx&&!X){P.errorRecoveryDisabledLanes|=w,vl|=w,v=4;break e}w=xs,xs=v,w!==null&&(xs===null?xs=w:xs.push.apply(xs,w))}v=O}if(w=!1,v!==2)continue}}if(v===1){Uc(o,0),uo(o,u,0,!0);break}e:{switch(g=o,w=v,w){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:uo(g,u,Zs,!ao);break e;case 2:xs=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(v=bx+300-qe(),10<v)){if(uo(g,u,Zs,!ao),pt(g,0,!0)!==0)break e;g.timeoutHandle=Lj(oj.bind(null,g,h,xs,Sp,vx,u,Zs,vl,Bc,ao,w,2,-0,0),v);break e}oj(g,h,xs,Sp,vx,u,Zs,vl,Bc,ao,w,0,-0,0)}}break}while(!0);$i(o)}function oj(o,u,h,g,v,w,O,P,X,Oe,Ue,Ke,De,Pe){if(o.timeoutHandle=-1,Ke=u.subtreeFlags,(Ke&8192||(Ke&16785408)===16785408)&&(Ld={stylesheets:null,count:0,unsuspend:M7},ej(u),Ke=R7(),Ke!==null)){o.cancelPendingCommit=Ke(pj.bind(null,o,u,w,h,g,v,O,P,X,Ue,1,De,Pe)),uo(o,w,O,!Oe);return}pj(o,u,w,h,g,v,O,P,X)}function X8(o){for(var u=o;;){var h=u.tag;if((h===0||h===11||h===15)&&u.flags&16384&&(h=u.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var v=h[g],w=v.getSnapshot;v=v.value;try{if(!Ms(w(),v))return!1}catch{return!1}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function uo(o,u,h,g){u&=~xx,u&=~vl,o.suspendedLanes|=u,o.pingedLanes&=~u,g&&(o.warmLanes|=u),g=o.expirationTimes;for(var v=u;0<v;){var w=31-ht(v),O=1<<w;g[w]=-1,v&=~O}h!==0&&Et(o,h,u)}function Cp(){return(An&6)===0?(kd(0),!1):!0}function Nx(){if(pn!==null){if(kn===0)var o=pn.return;else o=pn,ga=hl=null,$0(o),_c=null,vd=0,o=pn;for(;o!==null;)FN(o.alternate,o),o=o.return;pn=null}}function Uc(o,u){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,p7(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),Nx(),zn=o,pn=h=ha(o.current,null),yn=u,kn=0,Ls=null,ao=!1,Ic=me(o,u),yx=!1,Bc=Zs=xx=vl=oo=rr=0,xs=Ed=null,vx=!1,(u&8)!==0&&(u|=u&32);var g=o.entangledLanes;if(g!==0)for(o=o.entanglements,g&=u;0<g;){var v=31-ht(g),w=1<<v;u|=o[v],g&=~w}return Na=u,qh(),h}function lj(o,u){un=null,W.H=up,u===ud||u===ep?(u=jC(),kn=3):u===SC?(u=jC(),kn=4):kn=u===TN?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Ls=u,pn===null&&(rr=1,mp(o,Ws(u,o.current)))}function cj(){var o=W.H;return W.H=up,o===null?up:o}function uj(){var o=W.A;return W.A=W8,o}function jx(){rr=4,ao||(yn&4194048)!==yn&&Qs.current!==null||(Ic=!0),(oo&134217727)===0&&(vl&134217727)===0||zn===null||uo(zn,yn,Zs,!1)}function Tx(o,u,h){var g=An;An|=2;var v=cj(),w=uj();(zn!==o||yn!==u)&&(Sp=null,Uc(o,u)),u=!1;var O=rr;e:do try{if(kn!==0&&pn!==null){var P=pn,X=Ls;switch(kn){case 8:Nx(),O=6;break e;case 3:case 2:case 9:case 6:Qs.current===null&&(u=!0);var Oe=kn;if(kn=0,Ls=null,Vc(o,P,X,Oe),h&&Ic){O=0;break e}break;default:Oe=kn,kn=0,Ls=null,Vc(o,P,X,Oe)}}J8(),O=rr;break}catch(Ue){lj(o,Ue)}while(!0);return u&&o.shellSuspendCounter++,ga=hl=null,An=g,W.H=v,W.A=w,pn===null&&(zn=null,yn=0,qh()),O}function J8(){for(;pn!==null;)dj(pn)}function Q8(o,u){var h=An;An|=2;var g=cj(),v=uj();zn!==o||yn!==u?(Sp=null,wp=qe()+500,Uc(o,u)):Ic=me(o,u);e:do try{if(kn!==0&&pn!==null){u=pn;var w=Ls;t:switch(kn){case 1:kn=0,Ls=null,Vc(o,u,w,1);break;case 2:case 9:if(CC(w)){kn=0,Ls=null,fj(u);break}u=function(){kn!==2&&kn!==9||zn!==o||(kn=7),$i(o)},w.then(u,u);break e;case 3:kn=7;break e;case 4:kn=5;break e;case 7:CC(w)?(kn=0,Ls=null,fj(u)):(kn=0,Ls=null,Vc(o,u,w,7));break;case 5:var O=null;switch(pn.tag){case 26:O=pn.memoizedState;case 5:case 27:var P=pn;if(!O||Yj(O)){kn=0,Ls=null;var X=P.sibling;if(X!==null)pn=X;else{var Oe=P.return;Oe!==null?(pn=Oe,Np(Oe)):pn=null}break t}}kn=0,Ls=null,Vc(o,u,w,5);break;case 6:kn=0,Ls=null,Vc(o,u,w,6);break;case 8:Nx(),rr=6;break e;default:throw Error(r(462))}}Z8();break}catch(Ue){lj(o,Ue)}while(!0);return ga=hl=null,W.H=g,W.A=v,An=h,pn!==null?0:(zn=null,yn=0,qh(),rr)}function Z8(){for(;pn!==null&&!ee();)dj(pn)}function dj(o){var u=IN(o.alternate,o,Na);o.memoizedProps=o.pendingProps,u===null?Np(o):pn=u}function fj(o){var u=o,h=u.alternate;switch(u.tag){case 15:case 0:u=DN(h,u,u.pendingProps,u.type,void 0,yn);break;case 11:u=DN(h,u,u.pendingProps,u.type.render,u.ref,yn);break;case 5:$0(u);default:FN(h,u),u=pn=hC(u,Na),u=IN(h,u,Na)}o.memoizedProps=o.pendingProps,u===null?Np(o):pn=u}function Vc(o,u,h,g){ga=hl=null,$0(u),_c=null,vd=0;var v=u.return;try{if(U8(o,v,u,h,yn)){rr=1,mp(o,Ws(h,o.current)),pn=null;return}}catch(w){if(v!==null)throw pn=v,w;rr=1,mp(o,Ws(h,o.current)),pn=null;return}u.flags&32768?(Tn||g===1?o=!0:Ic||(yn&536870912)!==0?o=!1:(ao=o=!0,(g===2||g===9||g===3||g===6)&&(g=Qs.current,g!==null&&g.tag===13&&(g.flags|=16384))),hj(u,o)):Np(u)}function Np(o){var u=o;do{if((u.flags&32768)!==0){hj(u,ao);return}o=u.return;var h=H8(u.alternate,u,Na);if(h!==null){pn=h;return}if(u=u.sibling,u!==null){pn=u;return}pn=u=o}while(u!==null);rr===0&&(rr=5)}function hj(o,u){do{var h=q8(o.alternate,o);if(h!==null){h.flags&=32767,pn=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!u&&(o=o.sibling,o!==null)){pn=o;return}pn=o=h}while(o!==null);rr=6,pn=null}function pj(o,u,h,g,v,w,O,P,X){o.cancelPendingCommit=null;do jp();while($r!==0);if((An&6)!==0)throw Error(r(327));if(u!==null){if(u===o.current)throw Error(r(177));if(w=u.lanes|u.childLanes,w|=g0,jt(o,h,w,O,P,X),o===zn&&(pn=zn=null,yn=0),Fc=u,co=o,$c=h,wx=w,Sx=v,sj=g,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,r7(se,function(){return vj(),null})):(o.callbackNode=null,o.callbackPriority=0),g=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||g){g=W.T,W.T=null,v=le.p,le.p=2,O=An,An|=4;try{K8(o,u,h)}finally{An=O,le.p=v,W.T=g}}$r=1,mj(),gj(),yj()}}function mj(){if($r===1){$r=0;var o=co,u=Fc,h=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||h){h=W.T,W.T=null;var g=le.p;le.p=2;var v=An;An|=4;try{JN(u,o);var w=Ix,O=rC(o.containerInfo),P=w.focusedElem,X=w.selectionRange;if(O!==P&&P&&P.ownerDocument&&nC(P.ownerDocument.documentElement,P)){if(X!==null&&d0(P)){var Oe=X.start,Ue=X.end;if(Ue===void 0&&(Ue=Oe),"selectionStart"in P)P.selectionStart=Oe,P.selectionEnd=Math.min(Ue,P.value.length);else{var Ke=P.ownerDocument||document,De=Ke&&Ke.defaultView||window;if(De.getSelection){var Pe=De.getSelection(),Gt=P.textContent.length,qt=Math.min(X.start,Gt),Rn=X.end===void 0?qt:Math.min(X.end,Gt);!Pe.extend&&qt>Rn&&(O=Rn,Rn=qt,qt=O);var Se=tC(P,qt),ce=tC(P,Rn);if(Se&&ce&&(Pe.rangeCount!==1||Pe.anchorNode!==Se.node||Pe.anchorOffset!==Se.offset||Pe.focusNode!==ce.node||Pe.focusOffset!==ce.offset)){var je=Ke.createRange();je.setStart(Se.node,Se.offset),Pe.removeAllRanges(),qt>Rn?(Pe.addRange(je),Pe.extend(ce.node,ce.offset)):(je.setEnd(ce.node,ce.offset),Pe.addRange(je))}}}}for(Ke=[],Pe=P;Pe=Pe.parentNode;)Pe.nodeType===1&&Ke.push({element:Pe,left:Pe.scrollLeft,top:Pe.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<Ke.length;P++){var He=Ke[P];He.element.scrollLeft=He.left,He.element.scrollTop=He.top}}zp=!!zx,Ix=zx=null}finally{An=v,le.p=g,W.T=h}}o.current=u,$r=2}}function gj(){if($r===2){$r=0;var o=co,u=Fc,h=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||h){h=W.T,W.T=null;var g=le.p;le.p=2;var v=An;An|=4;try{YN(o,u.alternate,u)}finally{An=v,le.p=g,W.T=h}}$r=3}}function yj(){if($r===4||$r===3){$r=0,Ve();var o=co,u=Fc,h=$c,g=sj;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?$r=5:($r=0,Fc=co=null,xj(o,o.pendingLanes));var v=o.pendingLanes;if(v===0&&(lo=null),Nn(h),u=u.stateNode,Ce&&typeof Ce.onCommitFiberRoot=="function")try{Ce.onCommitFiberRoot(U,u,void 0,(u.current.flags&128)===128)}catch{}if(g!==null){u=W.T,v=le.p,le.p=2,W.T=null;try{for(var w=o.onRecoverableError,O=0;O<g.length;O++){var P=g[O];w(P.value,{componentStack:P.stack})}}finally{W.T=u,le.p=v}}($c&3)!==0&&jp(),$i(o),v=o.pendingLanes,(h&4194090)!==0&&(v&42)!==0?o===Cx?Ad++:(Ad=0,Cx=o):Ad=0,kd(0)}}function xj(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,ld(u)))}function jp(o){return mj(),gj(),yj(),vj()}function vj(){if($r!==5)return!1;var o=co,u=wx;wx=0;var h=Nn($c),g=W.T,v=le.p;try{le.p=32>h?32:h,W.T=null,h=Sx,Sx=null;var w=co,O=$c;if($r=0,Fc=co=null,$c=0,(An&6)!==0)throw Error(r(331));var P=An;if(An|=4,nj(w.current),ZN(w,w.current,O,h),An=P,kd(0,!1),Ce&&typeof Ce.onPostCommitFiberRoot=="function")try{Ce.onPostCommitFiberRoot(U,w)}catch{}return!0}finally{le.p=v,W.T=g,xj(o,u)}}function bj(o,u,h){u=Ws(h,u),u=tx(o.stateNode,u,2),o=Za(o,u,2),o!==null&&(lt(o,2),$i(o))}function Ln(o,u,h){if(o.tag===3)bj(o,o,h);else for(;u!==null;){if(u.tag===3){bj(u,o,h);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(lo===null||!lo.has(g))){o=Ws(h,o),h=NN(2),g=Za(u,h,2),g!==null&&(jN(h,g,u,o),lt(g,2),$i(g));break}}u=u.return}}function Ex(o,u,h){var g=o.pingCache;if(g===null){g=o.pingCache=new G8;var v=new Set;g.set(u,v)}else v=g.get(u),v===void 0&&(v=new Set,g.set(u,v));v.has(h)||(yx=!0,v.add(h),o=e7.bind(null,o,u,h),u.then(o,o))}function e7(o,u,h){var g=o.pingCache;g!==null&&g.delete(u),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,zn===o&&(yn&h)===h&&(rr===4||rr===3&&(yn&62914560)===yn&&300>qe()-bx?(An&2)===0&&Uc(o,0):xx|=h,Bc===yn&&(Bc=0)),$i(o)}function wj(o,u){u===0&&(u=rt()),o=Nc(o,u),o!==null&&(lt(o,u),$i(o))}function t7(o){var u=o.memoizedState,h=0;u!==null&&(h=u.retryLane),wj(o,h)}function n7(o,u){var h=0;switch(o.tag){case 13:var g=o.stateNode,v=o.memoizedState;v!==null&&(h=v.retryLane);break;case 19:g=o.stateNode;break;case 22:g=o.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(u),wj(o,h)}function r7(o,u){return Ft(o,u)}var Tp=null,Hc=null,Ax=!1,Ep=!1,kx=!1,bl=0;function $i(o){o!==Hc&&o.next===null&&(Hc===null?Tp=Hc=o:Hc=Hc.next=o),Ep=!0,Ax||(Ax=!0,i7())}function kd(o,u){if(!kx&&Ep){kx=!0;do for(var h=!1,g=Tp;g!==null;){if(o!==0){var v=g.pendingLanes;if(v===0)var w=0;else{var O=g.suspendedLanes,P=g.pingedLanes;w=(1<<31-ht(42|o)+1)-1,w&=v&~(O&~P),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(h=!0,jj(g,w))}else w=yn,w=pt(g,g===zn?w:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(w&3)===0||me(g,w)||(h=!0,jj(g,w));g=g.next}while(h);kx=!1}}function s7(){Sj()}function Sj(){Ep=Ax=!1;var o=0;bl!==0&&(h7()&&(o=bl),bl=0);for(var u=qe(),h=null,g=Tp;g!==null;){var v=g.next,w=Cj(g,u);w===0?(g.next=null,h===null?Tp=v:h.next=v,v===null&&(Hc=h)):(h=g,(o!==0||(w&3)!==0)&&(Ep=!0)),g=v}kd(o)}function Cj(o,u){for(var h=o.suspendedLanes,g=o.pingedLanes,v=o.expirationTimes,w=o.pendingLanes&-62914561;0<w;){var O=31-ht(w),P=1<<O,X=v[O];X===-1?((P&h)===0||(P&g)!==0)&&(v[O]=mt(P,u)):X<=u&&(o.expiredLanes|=P),w&=~P}if(u=zn,h=yn,h=pt(o,o===u?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g=o.callbackNode,h===0||o===u&&(kn===2||kn===9)||o.cancelPendingCommit!==null)return g!==null&&g!==null&&nt(g),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||me(o,h)){if(u=h&-h,u===o.callbackPriority)return u;switch(g!==null&&nt(g),Nn(h)){case 2:case 8:h=B;break;case 32:h=se;break;case 268435456:h=fe;break;default:h=se}return g=Nj.bind(null,o),h=Ft(h,g),o.callbackPriority=u,o.callbackNode=h,u}return g!==null&&g!==null&&nt(g),o.callbackPriority=2,o.callbackNode=null,2}function Nj(o,u){if($r!==0&&$r!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(jp()&&o.callbackNode!==h)return null;var g=yn;return g=pt(o,o===zn?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g===0?null:(aj(o,g,u),Cj(o,qe()),o.callbackNode!=null&&o.callbackNode===h?Nj.bind(null,o):null)}function jj(o,u){if(jp())return null;aj(o,u,!0)}function i7(){m7(function(){(An&6)!==0?Ft(bt,s7):Sj()})}function Ox(){return bl===0&&(bl=Lt()),bl}function Tj(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Ku(""+o)}function Ej(o,u){var h=u.ownerDocument.createElement("input");return h.name=u.name,h.value=u.value,o.id&&h.setAttribute("form",o.id),u.parentNode.insertBefore(h,u),o=new FormData(o),h.parentNode.removeChild(h),o}function a7(o,u,h,g,v){if(u==="submit"&&h&&h.stateNode===v){var w=Tj((v[Xe]||null).action),O=g.submitter;O&&(u=(u=O[Xe]||null)?Tj(u.formAction):O.getAttribute("formAction"),u!==null&&(w=u,O=null));var P=new Uh("action","action",null,g,v);o.push({event:P,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(bl!==0){var X=O?Ej(v,O):new FormData(v);X0(h,{pending:!0,data:X,method:v.method,action:w},null,X)}}else typeof w=="function"&&(P.preventDefault(),X=O?Ej(v,O):new FormData(v),X0(h,{pending:!0,data:X,method:v.method,action:w},w,X))},currentTarget:v}]})}}for(var Mx=0;Mx<m0.length;Mx++){var Dx=m0[Mx],o7=Dx.toLowerCase(),l7=Dx[0].toUpperCase()+Dx.slice(1);xi(o7,"on"+l7)}xi(aC,"onAnimationEnd"),xi(oC,"onAnimationIteration"),xi(lC,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(j8,"onTransitionRun"),xi(T8,"onTransitionStart"),xi(E8,"onTransitionCancel"),xi(cC,"onTransitionEnd"),bn("onMouseEnter",["mouseout","mouseover"]),bn("onMouseLeave",["mouseout","mouseover"]),bn("onPointerEnter",["pointerout","pointerover"]),bn("onPointerLeave",["pointerout","pointerover"]),On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),On("onBeforeInput",["compositionend","keypress","textInput","paste"]),On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Od="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Od));function Aj(o,u){u=(u&4)!==0;for(var h=0;h<o.length;h++){var g=o[h],v=g.event;g=g.listeners;e:{var w=void 0;if(u)for(var O=g.length-1;0<=O;O--){var P=g[O],X=P.instance,Oe=P.currentTarget;if(P=P.listener,X!==w&&v.isPropagationStopped())break e;w=P,v.currentTarget=Oe;try{w(v)}catch(Ue){pp(Ue)}v.currentTarget=null,w=X}else for(O=0;O<g.length;O++){if(P=g[O],X=P.instance,Oe=P.currentTarget,P=P.listener,X!==w&&v.isPropagationStopped())break e;w=P,v.currentTarget=Oe;try{w(v)}catch(Ue){pp(Ue)}v.currentTarget=null,w=X}}}}function mn(o,u){var h=u[At];h===void 0&&(h=u[At]=new Set);var g=o+"__bubble";h.has(g)||(kj(u,o,2,!1),h.add(g))}function Rx(o,u,h){var g=0;u&&(g|=4),kj(h,o,g,u)}var Ap="_reactListening"+Math.random().toString(36).slice(2);function _x(o){if(!o[Ap]){o[Ap]=!0,zt.forEach(function(h){h!=="selectionchange"&&(c7.has(h)||Rx(h,!1,o),Rx(h,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[Ap]||(u[Ap]=!0,Rx("selectionchange",!1,u))}}function kj(o,u,h,g){switch(Zj(u)){case 2:var v=P7;break;case 8:v=z7;break;default:v=Wx}h=v.bind(null,u,h,o),v=void 0,!n0||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(v=!0),g?v!==void 0?o.addEventListener(u,h,{capture:!0,passive:v}):o.addEventListener(u,h,!0):v!==void 0?o.addEventListener(u,h,{passive:v}):o.addEventListener(u,h,!1)}function Lx(o,u,h,g,v){var w=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var O=g.tag;if(O===3||O===4){var P=g.stateNode.containerInfo;if(P===v)break;if(O===4)for(O=g.return;O!==null;){var X=O.tag;if((X===3||X===4)&&O.stateNode.containerInfo===v)return;O=O.return}for(;P!==null;){if(O=_e(P),O===null)return;if(X=O.tag,X===5||X===6||X===26||X===27){g=w=O;continue e}P=P.parentNode}}g=g.return}PS(function(){var Oe=w,Ue=Wu(h),Ke=[];e:{var De=uC.get(o);if(De!==void 0){var Pe=Uh,Gt=o;switch(o){case"keypress":if(Fh(h)===0)break e;case"keydown":case"keyup":Pe=r8;break;case"focusin":Gt="focus",Pe=a0;break;case"focusout":Gt="blur",Pe=a0;break;case"beforeblur":case"afterblur":Pe=a0;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=BS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=q_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=a8;break;case aC:case oC:case lC:Pe=W_;break;case cC:Pe=l8;break;case"scroll":case"scrollend":Pe=V_;break;case"wheel":Pe=u8;break;case"copy":case"cut":case"paste":Pe=X_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=$S;break;case"toggle":case"beforetoggle":Pe=f8}var qt=(u&4)!==0,Rn=!qt&&(o==="scroll"||o==="scrollend"),Se=qt?De!==null?De+"Capture":null:De;qt=[];for(var ce=Oe,je;ce!==null;){var He=ce;if(je=He.stateNode,He=He.tag,He!==5&&He!==26&&He!==27||je===null||Se===null||(He=Gu(ce,Se),He!=null&&qt.push(Md(ce,He,je))),Rn)break;ce=ce.return}0<qt.length&&(De=new Pe(De,Gt,null,h,Ue),Ke.push({event:De,listeners:qt}))}}if((u&7)===0){e:{if(De=o==="mouseover"||o==="pointerover",Pe=o==="mouseout"||o==="pointerout",De&&h!==Yu&&(Gt=h.relatedTarget||h.fromElement)&&(_e(Gt)||Gt[vt]))break e;if((Pe||De)&&(De=Ue.window===Ue?Ue:(De=Ue.ownerDocument)?De.defaultView||De.parentWindow:window,Pe?(Gt=h.relatedTarget||h.toElement,Pe=Oe,Gt=Gt?_e(Gt):null,Gt!==null&&(Rn=i(Gt),qt=Gt.tag,Gt!==Rn||qt!==5&&qt!==27&&qt!==6)&&(Gt=null)):(Pe=null,Gt=Oe),Pe!==Gt)){if(qt=BS,He="onMouseLeave",Se="onMouseEnter",ce="mouse",(o==="pointerout"||o==="pointerover")&&(qt=$S,He="onPointerLeave",Se="onPointerEnter",ce="pointer"),Rn=Pe==null?De:yt(Pe),je=Gt==null?De:yt(Gt),De=new qt(He,ce+"leave",Pe,h,Ue),De.target=Rn,De.relatedTarget=je,He=null,_e(Ue)===Oe&&(qt=new qt(Se,ce+"enter",Gt,h,Ue),qt.target=je,qt.relatedTarget=Rn,He=qt),Rn=He,Pe&&Gt)t:{for(qt=Pe,Se=Gt,ce=0,je=qt;je;je=qc(je))ce++;for(je=0,He=Se;He;He=qc(He))je++;for(;0<ce-je;)qt=qc(qt),ce--;for(;0<je-ce;)Se=qc(Se),je--;for(;ce--;){if(qt===Se||Se!==null&&qt===Se.alternate)break t;qt=qc(qt),Se=qc(Se)}qt=null}else qt=null;Pe!==null&&Oj(Ke,De,Pe,qt,!1),Gt!==null&&Rn!==null&&Oj(Ke,Rn,Gt,qt,!0)}}e:{if(De=Oe?yt(Oe):window,Pe=De.nodeName&&De.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&De.type==="file")var Rt=GS;else if(YS(De))if(XS)Rt=S8;else{Rt=b8;var fn=v8}else Pe=De.nodeName,!Pe||Pe.toLowerCase()!=="input"||De.type!=="checkbox"&&De.type!=="radio"?Oe&&sl(Oe.elementType)&&(Rt=GS):Rt=w8;if(Rt&&(Rt=Rt(o,Oe))){WS(Ke,Rt,h,Ue);break e}fn&&fn(o,De,Oe),o==="focusout"&&Oe&&De.type==="number"&&Oe.memoizedProps.value!=null&&Dt(De,"number",De.value)}switch(fn=Oe?yt(Oe):window,o){case"focusin":(YS(fn)||fn.contentEditable==="true")&&(wc=fn,f0=Oe,rd=null);break;case"focusout":rd=f0=wc=null;break;case"mousedown":h0=!0;break;case"contextmenu":case"mouseup":case"dragend":h0=!1,sC(Ke,h,Ue);break;case"selectionchange":if(N8)break;case"keydown":case"keyup":sC(Ke,h,Ue)}var Bt;if(l0)e:{switch(o){case"compositionstart":var Kt="onCompositionStart";break e;case"compositionend":Kt="onCompositionEnd";break e;case"compositionupdate":Kt="onCompositionUpdate";break e}Kt=void 0}else bc?qS(o,h)&&(Kt="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(Kt="onCompositionStart");Kt&&(US&&h.locale!=="ko"&&(bc||Kt!=="onCompositionStart"?Kt==="onCompositionEnd"&&bc&&(Bt=zS()):(Ga=Ue,r0="value"in Ga?Ga.value:Ga.textContent,bc=!0)),fn=kp(Oe,Kt),0<fn.length&&(Kt=new FS(Kt,o,null,h,Ue),Ke.push({event:Kt,listeners:fn}),Bt?Kt.data=Bt:(Bt=KS(h),Bt!==null&&(Kt.data=Bt)))),(Bt=p8?m8(o,h):g8(o,h))&&(Kt=kp(Oe,"onBeforeInput"),0<Kt.length&&(fn=new FS("onBeforeInput","beforeinput",null,h,Ue),Ke.push({event:fn,listeners:Kt}),fn.data=Bt)),a7(Ke,o,Oe,h,Ue)}Aj(Ke,u)})}function Md(o,u,h){return{instance:o,listener:u,currentTarget:h}}function kp(o,u){for(var h=u+"Capture",g=[];o!==null;){var v=o,w=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||w===null||(v=Gu(o,h),v!=null&&g.unshift(Md(o,v,w)),v=Gu(o,u),v!=null&&g.push(Md(o,v,w))),o.tag===3)return g;o=o.return}return[]}function qc(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function Oj(o,u,h,g,v){for(var w=u._reactName,O=[];h!==null&&h!==g;){var P=h,X=P.alternate,Oe=P.stateNode;if(P=P.tag,X!==null&&X===g)break;P!==5&&P!==26&&P!==27||Oe===null||(X=Oe,v?(Oe=Gu(h,w),Oe!=null&&O.unshift(Md(h,Oe,X))):v||(Oe=Gu(h,w),Oe!=null&&O.push(Md(h,Oe,X)))),h=h.return}O.length!==0&&o.push({event:u,listeners:O})}var u7=/\r\n?/g,d7=/\u0000|\uFFFD/g;function Mj(o){return(typeof o=="string"?o:""+o).replace(u7,`
`).replace(d7,"")}function Dj(o,u){return u=Mj(u),Mj(o)===u}function Op(){}function Dn(o,u,h,g,v,w){switch(h){case"children":typeof g=="string"?u==="body"||u==="textarea"&&g===""||_n(o,g):(typeof g=="number"||typeof g=="bigint")&&u!=="body"&&_n(o,""+g);break;case"className":_(o,"class",g);break;case"tabIndex":_(o,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":_(o,h,g);break;case"style":Wa(o,g,w);break;case"data":if(u!=="object"){_(o,"data",g);break}case"src":case"href":if(g===""&&(u!=="a"||h!=="href")){o.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(h);break}g=Ku(""+g),o.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(h==="formAction"?(u!=="input"&&Dn(o,u,"name",v.name,v,null),Dn(o,u,"formEncType",v.formEncType,v,null),Dn(o,u,"formMethod",v.formMethod,v,null),Dn(o,u,"formTarget",v.formTarget,v,null)):(Dn(o,u,"encType",v.encType,v,null),Dn(o,u,"method",v.method,v,null),Dn(o,u,"target",v.target,v,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(h);break}g=Ku(""+g),o.setAttribute(h,g);break;case"onClick":g!=null&&(o.onclick=Op);break;case"onScroll":g!=null&&mn("scroll",o);break;case"onScrollEnd":g!=null&&mn("scrollend",o);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(v.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"multiple":o.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":o.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){o.removeAttribute("xlink:href");break}h=Ku(""+g),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,""+g):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":g===!0?o.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,g):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?o.setAttribute(h,g):o.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?o.removeAttribute(h):o.setAttribute(h,g);break;case"popover":mn("beforetoggle",o),mn("toggle",o),Ne(o,"popover",g);break;case"xlinkActuate":K(o,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":K(o,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":K(o,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":K(o,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":K(o,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":K(o,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":K(o,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":K(o,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":K(o,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Ne(o,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=e0.get(h)||h,Ne(o,h,g))}}function Px(o,u,h,g,v,w){switch(h){case"style":Wa(o,g,w);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(v.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"children":typeof g=="string"?_n(o,g):(typeof g=="number"||typeof g=="bigint")&&_n(o,""+g);break;case"onScroll":g!=null&&mn("scroll",o);break;case"onScrollEnd":g!=null&&mn("scrollend",o);break;case"onClick":g!=null&&(o.onclick=Op);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xn.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(v=h.endsWith("Capture"),u=h.slice(2,v?h.length-7:void 0),w=o[Xe]||null,w=w!=null?w[h]:null,typeof w=="function"&&o.removeEventListener(u,w,v),typeof g=="function")){typeof w!="function"&&w!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(u,g,v);break e}h in o?o[h]=g:g===!0?o.setAttribute(h,""):Ne(o,h,g)}}}function Ur(o,u,h){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mn("error",o),mn("load",o);var g=!1,v=!1,w;for(w in h)if(h.hasOwnProperty(w)){var O=h[w];if(O!=null)switch(w){case"src":g=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Dn(o,u,w,O,h,null)}}v&&Dn(o,u,"srcSet",h.srcSet,h,null),g&&Dn(o,u,"src",h.src,h,null);return;case"input":mn("invalid",o);var P=w=O=v=null,X=null,Oe=null;for(g in h)if(h.hasOwnProperty(g)){var Ue=h[g];if(Ue!=null)switch(g){case"name":v=Ue;break;case"type":O=Ue;break;case"checked":X=Ue;break;case"defaultChecked":Oe=Ue;break;case"value":w=Ue;break;case"defaultValue":P=Ue;break;case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(r(137,u));break;default:Dn(o,u,g,Ue,h,null)}}dt(o,w,P,X,Oe,O,v,!1),pe(o);return;case"select":mn("invalid",o),g=O=w=null;for(v in h)if(h.hasOwnProperty(v)&&(P=h[v],P!=null))switch(v){case"value":w=P;break;case"defaultValue":O=P;break;case"multiple":g=P;default:Dn(o,u,v,P,h,null)}u=w,h=O,o.multiple=!!g,u!=null?Zt(o,!!g,u,!1):h!=null&&Zt(o,!!g,h,!0);return;case"textarea":mn("invalid",o),w=v=g=null;for(O in h)if(h.hasOwnProperty(O)&&(P=h[O],P!=null))switch(O){case"value":g=P;break;case"defaultValue":v=P;break;case"children":w=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(91));break;default:Dn(o,u,O,P,h,null)}wn(o,g,v,w),pe(o);return;case"option":for(X in h)if(h.hasOwnProperty(X)&&(g=h[X],g!=null))switch(X){case"selected":o.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Dn(o,u,X,g,h,null)}return;case"dialog":mn("beforetoggle",o),mn("toggle",o),mn("cancel",o),mn("close",o);break;case"iframe":case"object":mn("load",o);break;case"video":case"audio":for(g=0;g<Od.length;g++)mn(Od[g],o);break;case"image":mn("error",o),mn("load",o);break;case"details":mn("toggle",o);break;case"embed":case"source":case"link":mn("error",o),mn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Oe in h)if(h.hasOwnProperty(Oe)&&(g=h[Oe],g!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Dn(o,u,Oe,g,h,null)}return;default:if(sl(u)){for(Ue in h)h.hasOwnProperty(Ue)&&(g=h[Ue],g!==void 0&&Px(o,u,Ue,g,h,void 0));return}}for(P in h)h.hasOwnProperty(P)&&(g=h[P],g!=null&&Dn(o,u,P,g,h,null))}function f7(o,u,h,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,w=null,O=null,P=null,X=null,Oe=null,Ue=null;for(Pe in h){var Ke=h[Pe];if(h.hasOwnProperty(Pe)&&Ke!=null)switch(Pe){case"checked":break;case"value":break;case"defaultValue":X=Ke;default:g.hasOwnProperty(Pe)||Dn(o,u,Pe,null,g,Ke)}}for(var De in g){var Pe=g[De];if(Ke=h[De],g.hasOwnProperty(De)&&(Pe!=null||Ke!=null))switch(De){case"type":w=Pe;break;case"name":v=Pe;break;case"checked":Oe=Pe;break;case"defaultChecked":Ue=Pe;break;case"value":O=Pe;break;case"defaultValue":P=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(r(137,u));break;default:Pe!==Ke&&Dn(o,u,De,Pe,g,Ke)}}st(o,O,P,X,Oe,Ue,w,v);return;case"select":Pe=O=P=De=null;for(w in h)if(X=h[w],h.hasOwnProperty(w)&&X!=null)switch(w){case"value":break;case"multiple":Pe=X;default:g.hasOwnProperty(w)||Dn(o,u,w,null,g,X)}for(v in g)if(w=g[v],X=h[v],g.hasOwnProperty(v)&&(w!=null||X!=null))switch(v){case"value":De=w;break;case"defaultValue":P=w;break;case"multiple":O=w;default:w!==X&&Dn(o,u,v,w,g,X)}u=P,h=O,g=Pe,De!=null?Zt(o,!!h,De,!1):!!g!=!!h&&(u!=null?Zt(o,!!h,u,!0):Zt(o,!!h,h?[]:"",!1));return;case"textarea":Pe=De=null;for(P in h)if(v=h[P],h.hasOwnProperty(P)&&v!=null&&!g.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:Dn(o,u,P,null,g,v)}for(O in g)if(v=g[O],w=h[O],g.hasOwnProperty(O)&&(v!=null||w!=null))switch(O){case"value":De=v;break;case"defaultValue":Pe=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==w&&Dn(o,u,O,v,g,w)}vn(o,De,Pe);return;case"option":for(var Gt in h)if(De=h[Gt],h.hasOwnProperty(Gt)&&De!=null&&!g.hasOwnProperty(Gt))switch(Gt){case"selected":o.selected=!1;break;default:Dn(o,u,Gt,null,g,De)}for(X in g)if(De=g[X],Pe=h[X],g.hasOwnProperty(X)&&De!==Pe&&(De!=null||Pe!=null))switch(X){case"selected":o.selected=De&&typeof De!="function"&&typeof De!="symbol";break;default:Dn(o,u,X,De,g,Pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qt in h)De=h[qt],h.hasOwnProperty(qt)&&De!=null&&!g.hasOwnProperty(qt)&&Dn(o,u,qt,null,g,De);for(Oe in g)if(De=g[Oe],Pe=h[Oe],g.hasOwnProperty(Oe)&&De!==Pe&&(De!=null||Pe!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(r(137,u));break;default:Dn(o,u,Oe,De,g,Pe)}return;default:if(sl(u)){for(var Rn in h)De=h[Rn],h.hasOwnProperty(Rn)&&De!==void 0&&!g.hasOwnProperty(Rn)&&Px(o,u,Rn,void 0,g,De);for(Ue in g)De=g[Ue],Pe=h[Ue],!g.hasOwnProperty(Ue)||De===Pe||De===void 0&&Pe===void 0||Px(o,u,Ue,De,g,Pe);return}}for(var Se in h)De=h[Se],h.hasOwnProperty(Se)&&De!=null&&!g.hasOwnProperty(Se)&&Dn(o,u,Se,null,g,De);for(Ke in g)De=g[Ke],Pe=h[Ke],!g.hasOwnProperty(Ke)||De===Pe||De==null&&Pe==null||Dn(o,u,Ke,De,g,Pe)}var zx=null,Ix=null;function Mp(o){return o.nodeType===9?o:o.ownerDocument}function Rj(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _j(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function Bx(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Fx=null;function h7(){var o=window.event;return o&&o.type==="popstate"?o===Fx?!1:(Fx=o,!0):(Fx=null,!1)}var Lj=typeof setTimeout=="function"?setTimeout:void 0,p7=typeof clearTimeout=="function"?clearTimeout:void 0,Pj=typeof Promise=="function"?Promise:void 0,m7=typeof queueMicrotask=="function"?queueMicrotask:typeof Pj<"u"?function(o){return Pj.resolve(null).then(o).catch(g7)}:Lj;function g7(o){setTimeout(function(){throw o})}function fo(o){return o==="head"}function zj(o,u){var h=u,g=0,v=0;do{var w=h.nextSibling;if(o.removeChild(h),w&&w.nodeType===8)if(h=w.data,h==="/$"){if(0<g&&8>g){h=g;var O=o.ownerDocument;if(h&1&&Dd(O.documentElement),h&2&&Dd(O.body),h&4)for(h=O.head,Dd(h),O=h.firstChild;O;){var P=O.nextSibling,X=O.nodeName;O[Ot]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&O.rel.toLowerCase()==="stylesheet"||h.removeChild(O),O=P}}if(v===0){o.removeChild(w),Fd(u);return}v--}else h==="$"||h==="$?"||h==="$!"?v++:g=h.charCodeAt(0)-48;else g=0;h=w}while(h);Fd(u)}function $x(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var h=u;switch(u=u.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":$x(h),G(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function y7(o,u,h,g){for(;o.nodeType===1;){var v=h;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!g&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(g){if(!o[Ot])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(w=o.getAttribute("rel"),w==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(w!==v.rel||o.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||o.getAttribute("title")!==(v.title==null?null:v.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(w=o.getAttribute("src"),(w!==(v.src==null?null:v.src)||o.getAttribute("type")!==(v.type==null?null:v.type)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&w&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var w=v.name==null?null:""+v.name;if(v.type==="hidden"&&o.getAttribute("name")===w)return o}else return o;if(o=bi(o.nextSibling),o===null)break}return null}function x7(o,u,h){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=bi(o.nextSibling),o===null))return null;return o}function Ux(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function v7(o,u){var h=o.ownerDocument;if(o.data!=="$?"||h.readyState==="complete")u();else{var g=function(){u(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),o._reactRetry=g}}function bi(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return o}var Vx=null;function Ij(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(u===0)return o;u--}else h==="/$"&&u++}o=o.previousSibling}return null}function Bj(o,u,h){switch(u=Mp(h),o){case"html":if(o=u.documentElement,!o)throw Error(r(452));return o;case"head":if(o=u.head,!o)throw Error(r(453));return o;case"body":if(o=u.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Dd(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);G(o)}var ei=new Map,Fj=new Set;function Dp(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var ja=le.d;le.d={f:b7,r:w7,D:S7,C:C7,L:N7,m:j7,X:E7,S:T7,M:A7};function b7(){var o=ja.f(),u=Cp();return o||u}function w7(o){var u=tt(o);u!==null&&u.tag===5&&u.type==="form"?aN(u):ja.r(o)}var Kc=typeof document>"u"?null:document;function $j(o,u,h){var g=Kc;if(g&&typeof u=="string"&&u){var v=Qe(u);v='link[rel="'+o+'"][href="'+v+'"]',typeof h=="string"&&(v+='[crossorigin="'+h+'"]'),Fj.has(v)||(Fj.add(v),o={rel:o,crossOrigin:h,href:u},g.querySelector(v)===null&&(u=g.createElement("link"),Ur(u,"link",o),Mt(u),g.head.appendChild(u)))}}function S7(o){ja.D(o),$j("dns-prefetch",o,null)}function C7(o,u){ja.C(o,u),$j("preconnect",o,u)}function N7(o,u,h){ja.L(o,u,h);var g=Kc;if(g&&o&&u){var v='link[rel="preload"][as="'+Qe(u)+'"]';u==="image"&&h&&h.imageSrcSet?(v+='[imagesrcset="'+Qe(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(v+='[imagesizes="'+Qe(h.imageSizes)+'"]')):v+='[href="'+Qe(o)+'"]';var w=v;switch(u){case"style":w=Yc(o);break;case"script":w=Wc(o)}ei.has(w)||(o=p({rel:"preload",href:u==="image"&&h&&h.imageSrcSet?void 0:o,as:u},h),ei.set(w,o),g.querySelector(v)!==null||u==="style"&&g.querySelector(Rd(w))||u==="script"&&g.querySelector(_d(w))||(u=g.createElement("link"),Ur(u,"link",o),Mt(u),g.head.appendChild(u)))}}function j7(o,u){ja.m(o,u);var h=Kc;if(h&&o){var g=u&&typeof u.as=="string"?u.as:"script",v='link[rel="modulepreload"][as="'+Qe(g)+'"][href="'+Qe(o)+'"]',w=v;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Wc(o)}if(!ei.has(w)&&(o=p({rel:"modulepreload",href:o},u),ei.set(w,o),h.querySelector(v)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(_d(w)))return}g=h.createElement("link"),Ur(g,"link",o),Mt(g),h.head.appendChild(g)}}}function T7(o,u,h){ja.S(o,u,h);var g=Kc;if(g&&o){var v=Wt(g).hoistableStyles,w=Yc(o);u=u||"default";var O=v.get(w);if(!O){var P={loading:0,preload:null};if(O=g.querySelector(Rd(w)))P.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":u},h),(h=ei.get(w))&&Hx(o,h);var X=O=g.createElement("link");Mt(X),Ur(X,"link",o),X._p=new Promise(function(Oe,Ue){X.onload=Oe,X.onerror=Ue}),X.addEventListener("load",function(){P.loading|=1}),X.addEventListener("error",function(){P.loading|=2}),P.loading|=4,Rp(O,u,g)}O={type:"stylesheet",instance:O,count:1,state:P},v.set(w,O)}}}function E7(o,u){ja.X(o,u);var h=Kc;if(h&&o){var g=Wt(h).hoistableScripts,v=Wc(o),w=g.get(v);w||(w=h.querySelector(_d(v)),w||(o=p({src:o,async:!0},u),(u=ei.get(v))&&qx(o,u),w=h.createElement("script"),Mt(w),Ur(w,"link",o),h.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},g.set(v,w))}}function A7(o,u){ja.M(o,u);var h=Kc;if(h&&o){var g=Wt(h).hoistableScripts,v=Wc(o),w=g.get(v);w||(w=h.querySelector(_d(v)),w||(o=p({src:o,async:!0,type:"module"},u),(u=ei.get(v))&&qx(o,u),w=h.createElement("script"),Mt(w),Ur(w,"link",o),h.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},g.set(v,w))}}function Uj(o,u,h,g){var v=(v=Me.current)?Dp(v):null;if(!v)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(u=Yc(h.href),h=Wt(v).hoistableStyles,g=h.get(u),g||(g={type:"style",instance:null,count:0,state:null},h.set(u,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=Yc(h.href);var w=Wt(v).hoistableStyles,O=w.get(o);if(O||(v=v.ownerDocument||v,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(o,O),(w=v.querySelector(Rd(o)))&&!w._p&&(O.instance=w,O.state.loading=5),ei.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},ei.set(o,h),w||k7(v,o,h,O.state))),u&&g===null)throw Error(r(528,""));return O}if(u&&g!==null)throw Error(r(529,""));return null;case"script":return u=h.async,h=h.src,typeof h=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Wc(h),h=Wt(v).hoistableScripts,g=h.get(u),g||(g={type:"script",instance:null,count:0,state:null},h.set(u,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Yc(o){return'href="'+Qe(o)+'"'}function Rd(o){return'link[rel="stylesheet"]['+o+"]"}function Vj(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function k7(o,u,h,g){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?g.loading=1:(u=o.createElement("link"),g.preload=u,u.addEventListener("load",function(){return g.loading|=1}),u.addEventListener("error",function(){return g.loading|=2}),Ur(u,"link",h),Mt(u),o.head.appendChild(u))}function Wc(o){return'[src="'+Qe(o)+'"]'}function _d(o){return"script[async]"+o}function Hj(o,u,h){if(u.count++,u.instance===null)switch(u.type){case"style":var g=o.querySelector('style[data-href~="'+Qe(h.href)+'"]');if(g)return u.instance=g,Mt(g),g;var v=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(o.ownerDocument||o).createElement("style"),Mt(g),Ur(g,"style",v),Rp(g,h.precedence,o),u.instance=g;case"stylesheet":v=Yc(h.href);var w=o.querySelector(Rd(v));if(w)return u.state.loading|=4,u.instance=w,Mt(w),w;g=Vj(h),(v=ei.get(v))&&Hx(g,v),w=(o.ownerDocument||o).createElement("link"),Mt(w);var O=w;return O._p=new Promise(function(P,X){O.onload=P,O.onerror=X}),Ur(w,"link",g),u.state.loading|=4,Rp(w,h.precedence,o),u.instance=w;case"script":return w=Wc(h.src),(v=o.querySelector(_d(w)))?(u.instance=v,Mt(v),v):(g=h,(v=ei.get(w))&&(g=p({},h),qx(g,v)),o=o.ownerDocument||o,v=o.createElement("script"),Mt(v),Ur(v,"link",g),o.head.appendChild(v),u.instance=v);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(g=u.instance,u.state.loading|=4,Rp(g,h.precedence,o));return u.instance}function Rp(o,u,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=g.length?g[g.length-1]:null,w=v,O=0;O<g.length;O++){var P=g[O];if(P.dataset.precedence===u)w=P;else if(w!==v)break}w?w.parentNode.insertBefore(o,w.nextSibling):(u=h.nodeType===9?h.head:h,u.insertBefore(o,u.firstChild))}function Hx(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function qx(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var _p=null;function qj(o,u,h){if(_p===null){var g=new Map,v=_p=new Map;v.set(h,g)}else v=_p,g=v.get(h),g||(g=new Map,v.set(h,g));if(g.has(o))return g;for(g.set(o,null),h=h.getElementsByTagName(o),v=0;v<h.length;v++){var w=h[v];if(!(w[Ot]||w[$e]||o==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var O=w.getAttribute(u)||"";O=o+O;var P=g.get(O);P?P.push(w):g.set(O,[w])}}return g}function Kj(o,u,h){o=o.ownerDocument||o,o.head.insertBefore(h,u==="title"?o.querySelector("head > title"):null)}function O7(o,u,h){if(h===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function Yj(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Ld=null;function M7(){}function D7(o,u,h){if(Ld===null)throw Error(r(475));var g=Ld;if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=Yc(h.href),w=o.querySelector(Rd(v));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(g.count++,g=Lp.bind(g),o.then(g,g)),u.state.loading|=4,u.instance=w,Mt(w);return}w=o.ownerDocument||o,h=Vj(h),(v=ei.get(v))&&Hx(h,v),w=w.createElement("link"),Mt(w);var O=w;O._p=new Promise(function(P,X){O.onload=P,O.onerror=X}),Ur(w,"link",h),u.instance=w}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(g.count++,u=Lp.bind(g),o.addEventListener("load",u),o.addEventListener("error",u))}}function R7(){if(Ld===null)throw Error(r(475));var o=Ld;return o.stylesheets&&o.count===0&&Kx(o,o.stylesheets),0<o.count?function(u){var h=setTimeout(function(){if(o.stylesheets&&Kx(o,o.stylesheets),o.unsuspend){var g=o.unsuspend;o.unsuspend=null,g()}},6e4);return o.unsuspend=u,function(){o.unsuspend=null,clearTimeout(h)}}:null}function Lp(){if(this.count--,this.count===0){if(this.stylesheets)Kx(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Pp=null;function Kx(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Pp=new Map,u.forEach(_7,o),Pp=null,Lp.call(o))}function _7(o,u){if(!(u.state.loading&4)){var h=Pp.get(o);if(h)var g=h.get(null);else{h=new Map,Pp.set(o,h);for(var v=o.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<v.length;w++){var O=v[w];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(h.set(O.dataset.precedence,O),g=O)}g&&h.set(null,g)}v=u.instance,O=v.getAttribute("data-precedence"),w=h.get(O)||g,w===g&&h.set(null,v),h.set(O,v),this.count++,g=Lp.bind(this),v.addEventListener("load",g),v.addEventListener("error",g),w?w.parentNode.insertBefore(v,w.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(v,o.firstChild)),u.state.loading|=4}}var Pd={$$typeof:M,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function L7(o,u,h,g,v,w,O,P){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=g,this.onUncaughtError=v,this.onCaughtError=w,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Wj(o,u,h,g,v,w,O,P,X,Oe,Ue,Ke){return o=new L7(o,u,h,O,P,X,Oe,Ke),u=1,w===!0&&(u|=24),w=Ds(3,null,null,u),o.current=w,w.stateNode=o,u=E0(),u.refCount++,o.pooledCache=u,u.refCount++,w.memoizedState={element:g,isDehydrated:h,cache:u},M0(w),o}function Gj(o){return o?(o=jc,o):jc}function Xj(o,u,h,g,v,w){v=Gj(v),g.context===null?g.context=v:g.pendingContext=v,g=Qa(u),g.payload={element:h},w=w===void 0?null:w,w!==null&&(g.callback=w),h=Za(o,g,u),h!==null&&(zs(h,o,u),fd(h,o,u))}function Jj(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<u?h:u}}function Yx(o,u){Jj(o,u),(o=o.alternate)&&Jj(o,u)}function Qj(o){if(o.tag===13){var u=Nc(o,67108864);u!==null&&zs(u,o,67108864),Yx(o,67108864)}}var zp=!0;function P7(o,u,h,g){var v=W.T;W.T=null;var w=le.p;try{le.p=2,Wx(o,u,h,g)}finally{le.p=w,W.T=v}}function z7(o,u,h,g){var v=W.T;W.T=null;var w=le.p;try{le.p=8,Wx(o,u,h,g)}finally{le.p=w,W.T=v}}function Wx(o,u,h,g){if(zp){var v=Gx(g);if(v===null)Lx(o,u,g,Ip,h),eT(o,g);else if(B7(v,o,u,h,g))g.stopPropagation();else if(eT(o,g),u&4&&-1<I7.indexOf(o)){for(;v!==null;){var w=tt(v);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var O=ot(w.pendingLanes);if(O!==0){var P=w;for(P.pendingLanes|=2,P.entangledLanes|=2;O;){var X=1<<31-ht(O);P.entanglements[1]|=X,O&=~X}$i(w),(An&6)===0&&(wp=qe()+500,kd(0))}}break;case 13:P=Nc(w,2),P!==null&&zs(P,w,2),Cp(),Yx(w,2)}if(w=Gx(g),w===null&&Lx(o,u,g,Ip,h),w===v)break;v=w}v!==null&&g.stopPropagation()}else Lx(o,u,g,null,h)}}function Gx(o){return o=Wu(o),Xx(o)}var Ip=null;function Xx(o){if(Ip=null,o=_e(o),o!==null){var u=i(o);if(u===null)o=null;else{var h=u.tag;if(h===13){if(o=a(u),o!==null)return o;o=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return Ip=o,null}function Zj(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(at()){case bt:return 2;case B:return 8;case se:case I:return 32;case fe:return 268435456;default:return 32}default:return 32}}var Jx=!1,ho=null,po=null,mo=null,zd=new Map,Id=new Map,go=[],I7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eT(o,u){switch(o){case"focusin":case"focusout":ho=null;break;case"dragenter":case"dragleave":po=null;break;case"mouseover":case"mouseout":mo=null;break;case"pointerover":case"pointerout":zd.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Id.delete(u.pointerId)}}function Bd(o,u,h,g,v,w){return o===null||o.nativeEvent!==w?(o={blockedOn:u,domEventName:h,eventSystemFlags:g,nativeEvent:w,targetContainers:[v]},u!==null&&(u=tt(u),u!==null&&Qj(u)),o):(o.eventSystemFlags|=g,u=o.targetContainers,v!==null&&u.indexOf(v)===-1&&u.push(v),o)}function B7(o,u,h,g,v){switch(u){case"focusin":return ho=Bd(ho,o,u,h,g,v),!0;case"dragenter":return po=Bd(po,o,u,h,g,v),!0;case"mouseover":return mo=Bd(mo,o,u,h,g,v),!0;case"pointerover":var w=v.pointerId;return zd.set(w,Bd(zd.get(w)||null,o,u,h,g,v)),!0;case"gotpointercapture":return w=v.pointerId,Id.set(w,Bd(Id.get(w)||null,o,u,h,g,v)),!0}return!1}function tT(o){var u=_e(o.target);if(u!==null){var h=i(u);if(h!==null){if(u=h.tag,u===13){if(u=a(h),u!==null){o.blockedOn=u,ge(o.priority,function(){if(h.tag===13){var g=Ps();g=tn(g);var v=Nc(h,g);v!==null&&zs(v,h,g),Yx(h,g)}});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Bp(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var h=Gx(o.nativeEvent);if(h===null){h=o.nativeEvent;var g=new h.constructor(h.type,h);Yu=g,h.target.dispatchEvent(g),Yu=null}else return u=tt(h),u!==null&&Qj(u),o.blockedOn=h,!1;u.shift()}return!0}function nT(o,u,h){Bp(o)&&h.delete(u)}function F7(){Jx=!1,ho!==null&&Bp(ho)&&(ho=null),po!==null&&Bp(po)&&(po=null),mo!==null&&Bp(mo)&&(mo=null),zd.forEach(nT),Id.forEach(nT)}function Fp(o,u){o.blockedOn===u&&(o.blockedOn=null,Jx||(Jx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,F7)))}var $p=null;function rT(o){$p!==o&&($p=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){$p===o&&($p=null);for(var u=0;u<o.length;u+=3){var h=o[u],g=o[u+1],v=o[u+2];if(typeof g!="function"){if(Xx(g||h)===null)continue;break}var w=tt(h);w!==null&&(o.splice(u,3),u-=3,X0(w,{pending:!0,data:v,method:h.method,action:g},g,v))}}))}function Fd(o){function u(X){return Fp(X,o)}ho!==null&&Fp(ho,o),po!==null&&Fp(po,o),mo!==null&&Fp(mo,o),zd.forEach(u),Id.forEach(u);for(var h=0;h<go.length;h++){var g=go[h];g.blockedOn===o&&(g.blockedOn=null)}for(;0<go.length&&(h=go[0],h.blockedOn===null);)tT(h),h.blockedOn===null&&go.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var v=h[g],w=h[g+1],O=v[Xe]||null;if(typeof w=="function")O||rT(h);else if(O){var P=null;if(w&&w.hasAttribute("formAction")){if(v=w,O=w[Xe]||null)P=O.formAction;else if(Xx(v)!==null)continue}else P=O.action;typeof P=="function"?h[g+1]=P:(h.splice(g,3),g-=3),rT(h)}}}function Qx(o){this._internalRoot=o}Up.prototype.render=Qx.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(r(409));var h=u.current,g=Ps();Xj(h,g,o,u,null,null)},Up.prototype.unmount=Qx.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;Xj(o.current,2,null,o,null,null),Cp(),u[vt]=null}};function Up(o){this._internalRoot=o}Up.prototype.unstable_scheduleHydration=function(o){if(o){var u=Q();o={blockedOn:null,target:o,priority:u};for(var h=0;h<go.length&&u!==0&&u<go[h].priority;h++);go.splice(h,0,o),h===0&&tT(o)}};var sT=e.version;if(sT!=="19.1.0")throw Error(r(527,sT,"19.1.0"));le.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(u),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var $7={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vp.isDisabled&&Vp.supportsFiber)try{U=Vp.inject($7),Ce=Vp}catch{}}return Ud.createRoot=function(o,u){if(!s(o))throw Error(r(299));var h=!1,g="",v=bN,w=wN,O=SN,P=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(w=u.onCaughtError),u.onRecoverableError!==void 0&&(O=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(P=u.unstable_transitionCallbacks)),u=Wj(o,1,!1,null,null,h,g,v,w,O,P,null),o[vt]=u.current,_x(o),new Qx(u)},Ud.hydrateRoot=function(o,u,h){if(!s(o))throw Error(r(299));var g=!1,v="",w=bN,O=wN,P=SN,X=null,Oe=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(v=h.identifierPrefix),h.onUncaughtError!==void 0&&(w=h.onUncaughtError),h.onCaughtError!==void 0&&(O=h.onCaughtError),h.onRecoverableError!==void 0&&(P=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(X=h.unstable_transitionCallbacks),h.formState!==void 0&&(Oe=h.formState)),u=Wj(o,1,!0,u,h??null,g,v,w,O,P,X,Oe),u.context=Gj(null),h=u.current,g=Ps(),g=tn(g),v=Qa(g),v.callback=null,Za(h,v,g),h=g,u.current.lanes=h,lt(u,h),$i(u),o[vt]=u.current,_x(o),new Up(u)},Ud.version="19.1.0",Ud}var pT;function J7(){if(pT)return tv.exports;pT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tv.exports=X7(),tv.exports}var Q7=J7(),Vd={},mT;function Z7(){if(mT)return Vd;mT=1,Object.defineProperty(Vd,"__esModule",{value:!0}),Vd.parse=a,Vd.serialize=f;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,i=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function a(y,x){const b=new i,S=y.length;if(S<2)return b;const C=x?.decode||p;let N=0;do{const k=y.indexOf("=",N);if(k===-1)break;const M=y.indexOf(";",N),D=M===-1?S:M;if(k>D){N=y.lastIndexOf(";",k-1)+1;continue}const E=l(y,N,k),A=d(y,k,E),F=y.slice(E,A);if(b[F]===void 0){let H=l(y,k+1,D),Z=d(y,D,H);const ve=C(y.slice(H,Z));b[F]=ve}N=D+1}while(N<S);return b}function l(y,x,b){do{const S=y.charCodeAt(x);if(S!==32&&S!==9)return x}while(++x<b);return b}function d(y,x,b){for(;x>b;){const S=y.charCodeAt(--x);if(S!==32&&S!==9)return x+1}return b}function f(y,x,b){const S=b?.encode||encodeURIComponent;if(!t.test(y))throw new TypeError(`argument name is invalid: ${y}`);const C=S(x);if(!e.test(C))throw new TypeError(`argument val is invalid: ${x}`);let N=y+"="+C;if(!b)return N;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);N+="; Max-Age="+b.maxAge}if(b.domain){if(!n.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);N+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);N+="; Path="+b.path}if(b.expires){if(!m(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);N+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(N+="; HttpOnly"),b.secure&&(N+="; Secure"),b.partitioned&&(N+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return N}function p(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function m(y){return s.call(y)==="[object Date]"}return Vd}Z7();var i5=t=>{throw TypeError(t)},eL=(t,e,n)=>e.has(t)||i5("Cannot "+n),iv=(t,e,n)=>(eL(t,e,"read from private field"),n?n.call(t):e.get(t)),tL=(t,e,n)=>e.has(t)?i5("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),gT="popstate";function nL(t={}){function e(r,s){let{pathname:i,search:a,hash:l}=r.location;return zf("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:$o(s)}return sL(e,n,null,t)}function hn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rL(){return Math.random().toString(36).substring(2,10)}function yT(t,e){return{usr:t.state,key:t.key,idx:e}}function zf(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Yo(e):e,state:n,key:e&&e.key||r||rL()}}function $o({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Yo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function sL(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l="POP",d=null,f=p();f==null&&(f=0,a.replaceState({...a.state,idx:f},""));function p(){return(a.state||{idx:null}).idx}function m(){l="POP";let C=p(),N=C==null?null:C-f;f=C,d&&d({action:l,location:S.location,delta:N})}function y(C,N){l="PUSH";let k=zf(S.location,C,N);f=p()+1;let M=yT(k,f),D=S.createHref(k);try{a.pushState(M,"",D)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(D)}i&&d&&d({action:l,location:S.location,delta:1})}function x(C,N){l="REPLACE";let k=zf(S.location,C,N);f=p();let M=yT(k,f),D=S.createHref(k);a.replaceState(M,"",D),i&&d&&d({action:l,location:S.location,delta:0})}function b(C){return a5(C)}let S={get action(){return l},get location(){return t(s,a)},listen(C){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(gT,m),d=C,()=>{s.removeEventListener(gT,m),d=null}},createHref(C){return e(s,C)},createURL:b,encodeLocation(C){let N=b(C);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:x,go(C){return a.go(C)}};return S}function a5(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),hn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:$o(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var rf,xT=class{constructor(t){if(tL(this,rf,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(iv(this,rf).has(t))return iv(this,rf).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){iv(this,rf).set(t,e)}};rf=new WeakMap;var iL=new Set(["lazy","caseSensitive","path","id","index","children"]);function aL(t){return iL.has(t)}var oL=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function lL(t){return oL.has(t)}function cL(t){return t.index===!0}function Xm(t,e,n=[],r={}){return t.map((s,i)=>{let a=[...n,String(i)],l=typeof s.id=="string"?s.id:a.join("-");if(hn(s.index!==!0||!s.children,"Cannot specify children on an index route"),hn(!r[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),cL(s)){let d={...s,...e(s),id:l};return r[l]=d,d}else{let d={...s,...e(s),id:l,children:void 0};return r[l]=d,s.children&&(d.children=Xm(s.children,e,a,r)),d}})}function To(t,e,n="/"){return Tm(t,e,n,!1)}function Tm(t,e,n,r){let s=typeof e=="string"?Yo(e):e,i=mi(s.pathname||"/",n);if(i==null)return null;let a=o5(t);dL(a);let l=null;for(let d=0;l==null&&d<a.length;++d){let f=SL(i);l=bL(a[d],f,r)}return l}function uL(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function o5(t,e=[],n=[],r=""){let s=(i,a,l)=>{let d={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};d.relativePath.startsWith("/")&&(hn(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let f=Ji([r,d.relativePath]),p=n.concat(d);i.children&&i.children.length>0&&(hn(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),o5(i.children,e,p,f)),!(i.path==null&&!i.index)&&e.push({path:f,score:xL(f,i.index),routesMeta:p})};return t.forEach((i,a)=>{if(i.path===""||!i.path?.includes("?"))s(i,a);else for(let l of l5(i.path))s(i,a,l)}),e}function l5(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=l5(r.join("/")),l=[];return l.push(...a.map(d=>d===""?i:[i,d].join("/"))),s&&l.push(...a),l.map(d=>t.startsWith("/")&&d===""?"/":d)}function dL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:vL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var fL=/^:[\w-]+$/,hL=3,pL=2,mL=1,gL=10,yL=-2,vT=t=>t==="*";function xL(t,e){let n=t.split("/"),r=n.length;return n.some(vT)&&(r+=yL),e&&(r+=pL),n.filter(s=>!vT(s)).reduce((s,i)=>s+(fL.test(i)?hL:i===""?mL:gL),r)}function vL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function bL(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",a=[];for(let l=0;l<r.length;++l){let d=r[l],f=l===r.length-1,p=i==="/"?e:e.slice(i.length)||"/",m=Jm({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),y=d.route;if(!m&&f&&n&&!r[r.length-1].route.index&&(m=Jm({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(s,m.params),a.push({params:s,pathname:Ji([i,m.pathname]),pathnameBase:jL(Ji([i,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(i=Ji([i,m.pathnameBase]))}return a}function Jm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wL(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:m},y)=>{if(p==="*"){let b=l[y]||"";a=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const x=l[y];return m&&!x?f[p]=void 0:f[p]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:a,pattern:t}}function wL(t,e=!1,n=!0){pr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,d)=>(r.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function SL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function mi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function CL(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Yo(t):t;return{pathname:n?n.startsWith("/")?n:NL(n,e):e,search:TL(r),hash:EL(s)}}function NL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function av(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function c5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hy(t){let e=c5(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function py(t,e,n,r=!1){let s;typeof t=="string"?s=Yo(t):(s={...t},hn(!s.pathname||!s.pathname.includes("?"),av("?","pathname","search",s)),hn(!s.pathname||!s.pathname.includes("#"),av("#","pathname","hash",s)),hn(!s.search||!s.search.includes("#"),av("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let m=e.length-1;if(!r&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),m-=1;s.pathname=y.join("/")}l=m>=0?e[m]:"/"}let d=CL(s,l),f=a&&a!=="/"&&a.endsWith("/"),p=(i||a===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var Ji=t=>t.join("/").replace(/\/\/+/g,"/"),jL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),TL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,EL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Qm=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function If(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var u5=["POST","PUT","PATCH","DELETE"],AL=new Set(u5),kL=["GET",...u5],OL=new Set(kL),ML=new Set([301,302,303,307,308]),DL=new Set([307,308]),ov={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},RL={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Hd={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},bw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_L=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),d5="remix-router-transitions",f5=Symbol("ResetLoaderData");function LL(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";hn(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],s=t.mapRouteProperties||_L,i={},a=Xm(t.routes,s,void 0,i),l,d=t.basename||"/",f=t.dataStrategy||FL,p={unstable_middleware:!1,...t.future},m=null,y=new Set,x=null,b=null,S=null,C=t.hydrationData!=null,N=To(a,t.history.location,d),k=!1,M=null,D;if(N==null&&!t.patchRoutesOnNavigation){let Q=oi(404,{pathname:t.history.location.pathname}),{matches:ge,route:Ee}=MT(a);D=!0,N=ge,M={[Ee.id]:Q}}else if(N&&!t.hydrationData&&Et(N,a,t.history.location.pathname).active&&(N=null),N)if(N.some(Q=>Q.route.lazy))D=!1;else if(!N.some(Q=>Q.route.loader))D=!0;else{let Q=t.hydrationData?t.hydrationData.loaderData:null,ge=t.hydrationData?t.hydrationData.errors:null;if(ge){let Ee=N.findIndex($e=>ge[$e.route.id]!==void 0);D=N.slice(0,Ee+1).every($e=>!Ab($e.route,Q,ge))}else D=N.every(Ee=>!Ab(Ee.route,Q,ge))}else{D=!1,N=[];let Q=Et(null,a,t.history.location.pathname);Q.active&&Q.matches&&(k=!0,N=Q.matches)}let E,A={historyAction:t.history.action,location:t.history.location,matches:N,initialized:D,navigation:ov,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||M,fetchers:new Map,blockers:new Map},F="POP",H=!1,Z,ve=!1,ue=new Map,oe=null,te=!1,ne=!1,xe=new Set,W=new Map,le=0,be=-1,Fe=new Map,$=new Set,de=new Map,ie=new Map,he=new Set,ke=new Map,ze,Me=null;function Ye(){if(m=t.history.listen(({action:Q,location:ge,delta:Ee})=>{if(ze){ze(),ze=void 0;return}pr(ke.size===0||Ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let $e=mt({currentLocation:A.location,nextLocation:ge,historyAction:Q});if($e&&Ee!=null){let Xe=new Promise(vt=>{ze=vt});t.history.go(Ee*-1),me($e,{state:"blocked",location:ge,proceed(){me($e,{state:"proceeding",proceed:void 0,reset:void 0,location:ge}),Xe.then(()=>t.history.go(Ee))},reset(){let vt=new Map(A.blockers);vt.set($e,Hd),Ze({blockers:vt})}});return}return nt(Q,ge)}),n){JL(e,ue);let Q=()=>QL(e,ue);e.addEventListener("pagehide",Q),oe=()=>e.removeEventListener("pagehide",Q)}return A.initialized||nt("POP",A.location,{initialHydration:!0}),E}function Re(){m&&m(),oe&&oe(),y.clear(),Z&&Z.abort(),A.fetchers.forEach((Q,ge)=>ht(ge)),A.blockers.forEach((Q,ge)=>pt(ge))}function ut(Q){return y.add(Q),()=>y.delete(Q)}function Ze(Q,ge={}){A={...A,...Q};let Ee=[],$e=[];A.fetchers.forEach((Xe,vt)=>{Xe.state==="idle"&&(he.has(vt)?Ee.push(vt):$e.push(vt))}),he.forEach(Xe=>{!A.fetchers.has(Xe)&&!W.has(Xe)&&Ee.push(Xe)}),[...y].forEach(Xe=>Xe(A,{deletedFetchers:Ee,viewTransitionOpts:ge.viewTransitionOpts,flushSync:ge.flushSync===!0})),Ee.forEach(Xe=>ht(Xe)),$e.forEach(Xe=>A.fetchers.delete(Xe))}function St(Q,ge,{flushSync:Ee}={}){let $e=A.actionData!=null&&A.navigation.formMethod!=null&&Fs(A.navigation.formMethod)&&A.navigation.state==="loading"&&Q.state?._isRedirect!==!0,Xe;ge.actionData?Object.keys(ge.actionData).length>0?Xe=ge.actionData:Xe=null:$e?Xe=A.actionData:Xe=null;let vt=ge.loaderData?kT(A.loaderData,ge.loaderData,ge.matches||[],ge.errors):A.loaderData,At=A.blockers;At.size>0&&(At=new Map(At),At.forEach((gt,Ot)=>At.set(Ot,Hd)));let ct=H===!0||A.navigation.formMethod!=null&&Fs(A.navigation.formMethod)&&Q.state?._isRedirect!==!0;l&&(a=l,l=void 0),te||F==="POP"||(F==="PUSH"?t.history.push(Q,Q.state):F==="REPLACE"&&t.history.replace(Q,Q.state));let Ct;if(F==="POP"){let gt=ue.get(A.location.pathname);gt&&gt.has(Q.pathname)?Ct={currentLocation:A.location,nextLocation:Q}:ue.has(Q.pathname)&&(Ct={currentLocation:Q,nextLocation:A.location})}else if(ve){let gt=ue.get(A.location.pathname);gt?gt.add(Q.pathname):(gt=new Set([Q.pathname]),ue.set(A.location.pathname,gt)),Ct={currentLocation:A.location,nextLocation:Q}}Ze({...ge,actionData:Xe,loaderData:vt,historyAction:F,location:Q,initialized:!0,navigation:ov,revalidation:"idle",restoreScrollPosition:jt(Q,ge.matches||A.matches),preventScrollReset:ct,blockers:At},{viewTransitionOpts:Ct,flushSync:Ee===!0}),F="POP",H=!1,ve=!1,te=!1,ne=!1,Me?.resolve(),Me=null}async function Nt(Q,ge){if(typeof Q=="number"){t.history.go(Q);return}let Ee=Eb(A.location,A.matches,d,Q,ge?.fromRouteId,ge?.relative),{path:$e,submission:Xe,error:vt}=bT(!1,Ee,ge),At=A.location,ct=zf(A.location,$e,ge&&ge.state);ct={...ct,...t.history.encodeLocation(ct)};let Ct=ge&&ge.replace!=null?ge.replace:void 0,gt="PUSH";Ct===!0?gt="REPLACE":Ct===!1||Xe!=null&&Fs(Xe.formMethod)&&Xe.formAction===A.location.pathname+A.location.search&&(gt="REPLACE");let Ot=ge&&"preventScrollReset"in ge?ge.preventScrollReset===!0:void 0,G=(ge&&ge.flushSync)===!0,_e=mt({currentLocation:At,nextLocation:ct,historyAction:gt});if(_e){me(_e,{state:"blocked",location:ct,proceed(){me(_e,{state:"proceeding",proceed:void 0,reset:void 0,location:ct}),Nt(Q,ge)},reset(){let tt=new Map(A.blockers);tt.set(_e,Hd),Ze({blockers:tt})}});return}await nt(gt,ct,{submission:Xe,pendingError:vt,preventScrollReset:Ot,replace:ge&&ge.replace,enableViewTransition:ge&&ge.viewTransition,flushSync:G})}function Ft(){Me||(Me=ZL()),V(),Ze({revalidation:"loading"});let Q=Me.promise;return A.navigation.state==="submitting"?Q:A.navigation.state==="idle"?(nt(A.historyAction,A.location,{startUninterruptedRevalidation:!0}),Q):(nt(F||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation,enableViewTransition:ve===!0}),Q)}async function nt(Q,ge,Ee){Z&&Z.abort(),Z=null,F=Q,te=(Ee&&Ee.startUninterruptedRevalidation)===!0,lt(A.location,A.matches),H=(Ee&&Ee.preventScrollReset)===!0,ve=(Ee&&Ee.enableViewTransition)===!0;let $e=l||a,Xe=Ee&&Ee.overrideNavigation,vt=Ee?.initialHydration&&A.matches&&A.matches.length>0&&!k?A.matches:To($e,ge,d),At=(Ee&&Ee.flushSync)===!0;if(vt&&A.initialized&&!ne&&KL(A.location,ge)&&!(Ee&&Ee.submission&&Fs(Ee.submission.formMethod))){St(ge,{matches:vt},{flushSync:At});return}let ct=Et(vt,$e,ge.pathname);if(ct.active&&ct.matches&&(vt=ct.matches),!vt){let{error:Wt,notFoundMatches:Mt,route:zt}=Lt(ge.pathname);St(ge,{matches:Mt,loaderData:{},errors:{[zt.id]:Wt}},{flushSync:At});return}Z=new AbortController;let Ct=tu(t.history,ge,Z.signal,Ee&&Ee.submission),gt=new xT(t.unstable_getContext?await t.unstable_getContext():void 0),Ot;if(Ee&&Ee.pendingError)Ot=[Al(vt).route.id,{type:"error",error:Ee.pendingError}];else if(Ee&&Ee.submission&&Fs(Ee.submission.formMethod)){let Wt=await ee(Ct,ge,Ee.submission,vt,gt,ct.active,Ee&&Ee.initialHydration===!0,{replace:Ee.replace,flushSync:At});if(Wt.shortCircuited)return;if(Wt.pendingActionResult){let[Mt,zt]=Wt.pendingActionResult;if(Bs(zt)&&If(zt.error)&&zt.error.status===404){Z=null,St(ge,{matches:Wt.matches,loaderData:{},errors:{[Mt]:zt.error}});return}}vt=Wt.matches||vt,Ot=Wt.pendingActionResult,Xe=lv(ge,Ee.submission),At=!1,ct.active=!1,Ct=tu(t.history,Ct.url,Ct.signal)}let{shortCircuited:G,matches:_e,loaderData:tt,errors:yt}=await Ve(Ct,ge,vt,gt,ct.active,Xe,Ee&&Ee.submission,Ee&&Ee.fetcherSubmission,Ee&&Ee.replace,Ee&&Ee.initialHydration===!0,At,Ot);G||(Z=null,St(ge,{matches:_e||vt,...OT(Ot),loaderData:tt,errors:yt}))}async function ee(Q,ge,Ee,$e,Xe,vt,At,ct={}){V();let Ct=GL(ge,Ee);if(Ze({navigation:Ct},{flushSync:ct.flushSync===!0}),vt){let G=await kt($e,ge.pathname,Q.signal);if(G.type==="aborted")return{shortCircuited:!0};if(G.type==="error"){let _e=Al(G.partialMatches).route.id;return{matches:G.partialMatches,pendingActionResult:[_e,{type:"error",error:G.error}]}}else if(G.matches)$e=G.matches;else{let{notFoundMatches:_e,error:tt,route:yt}=Lt(ge.pathname);return{matches:_e,pendingActionResult:[yt.id,{type:"error",error:tt}]}}}let gt,Ot=sf($e,ge);if(!Ot.route.action&&!Ot.route.lazy)gt={type:"error",error:oi(405,{method:Q.method,pathname:ge.pathname,routeId:Ot.route.id})};else{let G=mu(s,i,Q,$e,Ot,At?[]:r,Xe),_e=await fe(Q,G,Xe,null);if(gt=_e[Ot.route.id],!gt){for(let tt of $e)if(_e[tt.route.id]){gt=_e[tt.route.id];break}}if(Q.signal.aborted)return{shortCircuited:!0}}if(Ml(gt)){let G;return ct&&ct.replace!=null?G=ct.replace:G=TT(gt.response.headers.get("Location"),new URL(Q.url),d)===A.location.pathname+A.location.search,await I(Q,gt,!0,{submission:Ee,replace:G}),{shortCircuited:!0}}if(Bs(gt)){let G=Al($e,Ot.route.id);return(ct&&ct.replace)!==!0&&(F="PUSH"),{matches:$e,pendingActionResult:[G.route.id,gt,Ot.route.id]}}return{matches:$e,pendingActionResult:[Ot.route.id,gt]}}async function Ve(Q,ge,Ee,$e,Xe,vt,At,ct,Ct,gt,Ot,G){let _e=vt||lv(ge,At),tt=At||ct||RT(_e),yt=!te&&!gt;if(Xe){if(yt){let R=qe(G);Ze({navigation:_e,...R!==void 0?{actionData:R}:{}},{flushSync:Ot})}let K=await kt(Ee,ge.pathname,Q.signal);if(K.type==="aborted")return{shortCircuited:!0};if(K.type==="error"){let R=Al(K.partialMatches).route.id;return{matches:K.partialMatches,loaderData:{},errors:{[R]:K.error}}}else if(K.matches)Ee=K.matches;else{let{error:R,notFoundMatches:q,route:re}=Lt(ge.pathname);return{matches:q,loaderData:{},errors:{[re.id]:R}}}}let Wt=l||a,{dsMatches:Mt,revalidatingFetchers:zt}=wT(Q,$e,s,i,t.history,A,Ee,tt,ge,gt?[]:r,gt===!0,ne,xe,he,de,$,Wt,d,t.patchRoutesOnNavigation!=null,G);if(be=++le,!t.dataStrategy&&!Mt.some(K=>K.shouldLoad)&&zt.length===0){let K=Qt();return St(ge,{matches:Ee,loaderData:{},errors:G&&Bs(G[1])?{[G[0]]:G[1].error}:null,...OT(G),...K?{fetchers:new Map(A.fetchers)}:{}},{flushSync:Ot}),{shortCircuited:!0}}if(yt){let K={};if(!Xe){K.navigation=_e;let R=qe(G);R!==void 0&&(K.actionData=R)}zt.length>0&&(K.fetchers=at(zt)),Ze(K,{flushSync:Ot})}zt.forEach(K=>{Pt(K.key),K.controller&&W.set(K.key,K.controller)});let Xn=()=>zt.forEach(K=>Pt(K.key));Z&&Z.signal.addEventListener("abort",Xn);let{loaderResults:On,fetcherResults:bn}=await we(Mt,zt,Q,$e);if(Q.signal.aborted)return{shortCircuited:!0};Z&&Z.signal.removeEventListener("abort",Xn),zt.forEach(K=>W.delete(K.key));let jn=qp(On);if(jn)return await I(Q,jn.result,!0,{replace:Ct}),{shortCircuited:!0};if(jn=qp(bn),jn)return $.add(jn.key),await I(Q,jn.result,!0,{replace:Ct}),{shortCircuited:!0};let{loaderData:gr,errors:Jn}=AT(A,Ee,On,G,zt,bn);gt&&A.errors&&(Jn={...A.errors,...Jn});let Y=Qt(),Ne=Te(be),_=Y||Ne||zt.length>0;return{matches:Ee,loaderData:gr,errors:Jn,..._?{fetchers:new Map(A.fetchers)}:{}}}function qe(Q){if(Q&&!Bs(Q[1]))return{[Q[0]]:Q[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function at(Q){return Q.forEach(ge=>{let Ee=A.fetchers.get(ge.key),$e=qd(void 0,Ee?Ee.data:void 0);A.fetchers.set(ge.key,$e)}),new Map(A.fetchers)}async function bt(Q,ge,Ee,$e){Pt(Q);let Xe=($e&&$e.flushSync)===!0,vt=l||a,At=Eb(A.location,A.matches,d,Ee,ge,$e?.relative),ct=To(vt,At,d),Ct=Et(ct,vt,At);if(Ct.active&&Ct.matches&&(ct=Ct.matches),!ct){Ce(Q,ge,oi(404,{pathname:At}),{flushSync:Xe});return}let{path:gt,submission:Ot,error:G}=bT(!0,At,$e);if(G){Ce(Q,ge,G,{flushSync:Xe});return}let _e=sf(ct,gt),tt=new xT(t.unstable_getContext?await t.unstable_getContext():void 0),yt=($e&&$e.preventScrollReset)===!0;if(Ot&&Fs(Ot.formMethod)){await B(Q,ge,gt,_e,ct,tt,Ct.active,Xe,yt,Ot);return}de.set(Q,{routeId:ge,path:gt}),await se(Q,ge,gt,_e,ct,tt,Ct.active,Xe,yt,Ot)}async function B(Q,ge,Ee,$e,Xe,vt,At,ct,Ct,gt){V(),de.delete(Q);function Ot(ft){if(!ft.route.action&&!ft.route.lazy){let nn=oi(405,{method:gt.formMethod,pathname:Ee,routeId:ge});return Ce(Q,ge,nn,{flushSync:ct}),!0}return!1}if(!At&&Ot($e))return;let G=A.fetchers.get(Q);U(Q,XL(gt,G),{flushSync:ct});let _e=new AbortController,tt=tu(t.history,Ee,_e.signal,gt);if(At){let ft=await kt(Xe,Ee,tt.signal,Q);if(ft.type==="aborted")return;if(ft.type==="error"){Ce(Q,ge,ft.error,{flushSync:ct});return}else if(ft.matches){if(Xe=ft.matches,$e=sf(Xe,Ee),Ot($e))return}else{Ce(Q,ge,oi(404,{pathname:Ee}),{flushSync:ct});return}}W.set(Q,_e);let yt=le,Wt=mu(s,i,tt,Xe,$e,r,vt),zt=(await fe(tt,Wt,vt,Q))[$e.route.id];if(tt.signal.aborted){W.get(Q)===_e&&W.delete(Q);return}if(he.has(Q)){if(Ml(zt)||Bs(zt)){U(Q,vo(void 0));return}}else{if(Ml(zt))if(W.delete(Q),be>yt){U(Q,vo(void 0));return}else return $.add(Q),U(Q,qd(gt)),I(tt,zt,!1,{fetcherSubmission:gt,preventScrollReset:Ct});if(Bs(zt)){Ce(Q,ge,zt.error);return}}let Xn=A.navigation.location||A.location,On=tu(t.history,Xn,_e.signal),bn=l||a,jn=A.navigation.state!=="idle"?To(bn,A.navigation.location,d):A.matches;hn(jn,"Didn't find any matches after fetcher action");let gr=++le;Fe.set(Q,gr);let Jn=qd(gt,zt.data);A.fetchers.set(Q,Jn);let{dsMatches:Y,revalidatingFetchers:Ne}=wT(On,vt,s,i,t.history,A,jn,gt,Xn,r,!1,ne,xe,he,de,$,bn,d,t.patchRoutesOnNavigation!=null,[$e.route.id,zt]);Ne.filter(ft=>ft.key!==Q).forEach(ft=>{let nn=ft.key,T=A.fetchers.get(nn),L=qd(void 0,T?T.data:void 0);A.fetchers.set(nn,L),Pt(nn),ft.controller&&W.set(nn,ft.controller)}),Ze({fetchers:new Map(A.fetchers)});let _=()=>Ne.forEach(ft=>Pt(ft.key));_e.signal.addEventListener("abort",_);let{loaderResults:K,fetcherResults:R}=await we(Y,Ne,On,vt);if(_e.signal.aborted)return;if(_e.signal.removeEventListener("abort",_),Fe.delete(Q),W.delete(Q),Ne.forEach(ft=>W.delete(ft.key)),A.fetchers.has(Q)){let ft=vo(zt.data);A.fetchers.set(Q,ft)}let q=qp(K);if(q)return I(On,q.result,!1,{preventScrollReset:Ct});if(q=qp(R),q)return $.add(q.key),I(On,q.result,!1,{preventScrollReset:Ct});let{loaderData:re,errors:Le}=AT(A,jn,K,void 0,Ne,R);Te(gr),A.navigation.state==="loading"&&gr>be?(hn(F,"Expected pending action"),Z&&Z.abort(),St(A.navigation.location,{matches:jn,loaderData:re,errors:Le,fetchers:new Map(A.fetchers)})):(Ze({errors:Le,loaderData:kT(A.loaderData,re,jn,Le),fetchers:new Map(A.fetchers)}),ne=!1)}async function se(Q,ge,Ee,$e,Xe,vt,At,ct,Ct,gt){let Ot=A.fetchers.get(Q);U(Q,qd(gt,Ot?Ot.data:void 0),{flushSync:ct});let G=new AbortController,_e=tu(t.history,Ee,G.signal);if(At){let zt=await kt(Xe,Ee,_e.signal,Q);if(zt.type==="aborted")return;if(zt.type==="error"){Ce(Q,ge,zt.error,{flushSync:ct});return}else if(zt.matches)Xe=zt.matches,$e=sf(Xe,Ee);else{Ce(Q,ge,oi(404,{pathname:Ee}),{flushSync:ct});return}}W.set(Q,G);let tt=le,yt=mu(s,i,_e,Xe,$e,r,vt),Mt=(await fe(_e,yt,vt,Q))[$e.route.id];if(W.get(Q)===G&&W.delete(Q),!_e.signal.aborted){if(he.has(Q)){U(Q,vo(void 0));return}if(Ml(Mt))if(be>tt){U(Q,vo(void 0));return}else{$.add(Q),await I(_e,Mt,!1,{preventScrollReset:Ct});return}if(Bs(Mt)){Ce(Q,ge,Mt.error);return}U(Q,vo(Mt.data))}}async function I(Q,ge,Ee,{submission:$e,fetcherSubmission:Xe,preventScrollReset:vt,replace:At}={}){ge.response.headers.has("X-Remix-Revalidate")&&(ne=!0);let ct=ge.response.headers.get("Location");hn(ct,"Expected a Location header on the redirect Response"),ct=TT(ct,new URL(Q.url),d);let Ct=zf(A.location,ct,{_isRedirect:!0});if(n){let yt=!1;if(ge.response.headers.has("X-Remix-Reload-Document"))yt=!0;else if(bw.test(ct)){const Wt=a5(ct,!0);yt=Wt.origin!==e.location.origin||mi(Wt.pathname,d)==null}if(yt){At?e.location.replace(ct):e.location.assign(ct);return}}Z=null;let gt=At===!0||ge.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ot,formAction:G,formEncType:_e}=A.navigation;!$e&&!Xe&&Ot&&G&&_e&&($e=RT(A.navigation));let tt=$e||Xe;if(DL.has(ge.response.status)&&tt&&Fs(tt.formMethod))await nt(gt,Ct,{submission:{...tt,formAction:ct},preventScrollReset:vt||H,enableViewTransition:Ee?ve:void 0});else{let yt=lv(Ct,$e);await nt(gt,Ct,{overrideNavigation:yt,fetcherSubmission:Xe,preventScrollReset:vt||H,enableViewTransition:Ee?ve:void 0})}}async function fe(Q,ge,Ee,$e){let Xe,vt={};try{Xe=await $L(f,Q,ge,$e,Ee,!1)}catch(At){return ge.filter(ct=>ct.shouldLoad).forEach(ct=>{vt[ct.route.id]={type:"error",error:At}}),vt}if(Q.signal.aborted)return vt;for(let[At,ct]of Object.entries(Xe))if(YL(ct)){let Ct=ct.result;vt[At]={type:"redirect",response:HL(Ct,Q,At,ge,d)}}else vt[At]=await VL(ct);return vt}async function we(Q,ge,Ee,$e){let Xe=fe(Ee,Q,$e,null),vt=Promise.all(ge.map(async Ct=>{if(Ct.matches&&Ct.match&&Ct.request&&Ct.controller){let Ot=(await fe(Ct.request,Ct.matches,$e,Ct.key))[Ct.match.route.id];return{[Ct.key]:Ot}}else return Promise.resolve({[Ct.key]:{type:"error",error:oi(404,{pathname:Ct.path})}})})),At=await Xe,ct=(await vt).reduce((Ct,gt)=>Object.assign(Ct,gt),{});return{loaderResults:At,fetcherResults:ct}}function V(){ne=!0,de.forEach((Q,ge)=>{W.has(ge)&&xe.add(ge),Pt(ge)})}function U(Q,ge,Ee={}){A.fetchers.set(Q,ge),Ze({fetchers:new Map(A.fetchers)},{flushSync:(Ee&&Ee.flushSync)===!0})}function Ce(Q,ge,Ee,$e={}){let Xe=Al(A.matches,ge);ht(Q),Ze({errors:{[Xe.route.id]:Ee},fetchers:new Map(A.fetchers)},{flushSync:($e&&$e.flushSync)===!0})}function et(Q){return ie.set(Q,(ie.get(Q)||0)+1),he.has(Q)&&he.delete(Q),A.fetchers.get(Q)||RL}function ht(Q){let ge=A.fetchers.get(Q);W.has(Q)&&!(ge&&ge.state==="loading"&&Fe.has(Q))&&Pt(Q),de.delete(Q),Fe.delete(Q),$.delete(Q),he.delete(Q),xe.delete(Q),A.fetchers.delete(Q)}function Jt(Q){let ge=(ie.get(Q)||0)-1;ge<=0?(ie.delete(Q),he.add(Q)):ie.set(Q,ge),Ze({fetchers:new Map(A.fetchers)})}function Pt(Q){let ge=W.get(Q);ge&&(ge.abort(),W.delete(Q))}function an(Q){for(let ge of Q){let Ee=et(ge),$e=vo(Ee.data);A.fetchers.set(ge,$e)}}function Qt(){let Q=[],ge=!1;for(let Ee of $){let $e=A.fetchers.get(Ee);hn($e,`Expected fetcher: ${Ee}`),$e.state==="loading"&&($.delete(Ee),Q.push(Ee),ge=!0)}return an(Q),ge}function Te(Q){let ge=[];for(let[Ee,$e]of Fe)if($e<Q){let Xe=A.fetchers.get(Ee);hn(Xe,`Expected fetcher: ${Ee}`),Xe.state==="loading"&&(Pt(Ee),Fe.delete(Ee),ge.push(Ee))}return an(ge),ge.length>0}function ot(Q,ge){let Ee=A.blockers.get(Q)||Hd;return ke.get(Q)!==ge&&ke.set(Q,ge),Ee}function pt(Q){A.blockers.delete(Q),ke.delete(Q)}function me(Q,ge){let Ee=A.blockers.get(Q)||Hd;hn(Ee.state==="unblocked"&&ge.state==="blocked"||Ee.state==="blocked"&&ge.state==="blocked"||Ee.state==="blocked"&&ge.state==="proceeding"||Ee.state==="blocked"&&ge.state==="unblocked"||Ee.state==="proceeding"&&ge.state==="unblocked",`Invalid blocker state transition: ${Ee.state} -> ${ge.state}`);let $e=new Map(A.blockers);$e.set(Q,ge),Ze({blockers:$e})}function mt({currentLocation:Q,nextLocation:ge,historyAction:Ee}){if(ke.size===0)return;ke.size>1&&pr(!1,"A router only supports one blocker at a time");let $e=Array.from(ke.entries()),[Xe,vt]=$e[$e.length-1],At=A.blockers.get(Xe);if(!(At&&At.state==="proceeding")&&vt({currentLocation:Q,nextLocation:ge,historyAction:Ee}))return Xe}function Lt(Q){let ge=oi(404,{pathname:Q}),Ee=l||a,{matches:$e,route:Xe}=MT(Ee);return{notFoundMatches:$e,route:Xe,error:ge}}function rt(Q,ge,Ee){if(x=Q,S=ge,b=Ee||null,!C&&A.navigation===ov){C=!0;let $e=jt(A.location,A.matches);$e!=null&&Ze({restoreScrollPosition:$e})}return()=>{x=null,S=null,b=null}}function Ae(Q,ge){return b&&b(Q,ge.map($e=>uL($e,A.loaderData)))||Q.key}function lt(Q,ge){if(x&&S){let Ee=Ae(Q,ge);x[Ee]=S()}}function jt(Q,ge){if(x){let Ee=Ae(Q,ge),$e=x[Ee];if(typeof $e=="number")return $e}return null}function Et(Q,ge,Ee){if(t.patchRoutesOnNavigation)if(Q){if(Object.keys(Q[0].params).length>0)return{active:!0,matches:Tm(ge,Ee,d,!0)}}else return{active:!0,matches:Tm(ge,Ee,d,!0)||[]};return{active:!1,matches:null}}async function kt(Q,ge,Ee,$e){if(!t.patchRoutesOnNavigation)return{type:"success",matches:Q};let Xe=Q;for(;;){let vt=l==null,At=l||a,ct=i;try{await t.patchRoutesOnNavigation({signal:Ee,path:ge,matches:Xe,fetcherKey:$e,patch:(Ot,G)=>{Ee.aborted||ST(Ot,G,At,ct,s)}})}catch(Ot){return{type:"error",error:Ot,partialMatches:Xe}}finally{vt&&!Ee.aborted&&(a=[...a])}if(Ee.aborted)return{type:"aborted"};let Ct=To(At,ge,d);if(Ct)return{type:"success",matches:Ct};let gt=Tm(At,ge,d,!0);if(!gt||Xe.length===gt.length&&Xe.every((Ot,G)=>Ot.route.id===gt[G].route.id))return{type:"success",matches:null};Xe=gt}}function tn(Q){i={},l=Xm(Q,s,void 0,i)}function Nn(Q,ge){let Ee=l==null;ST(Q,ge,l||a,i,s),Ee&&(a=[...a],Ze({}))}return E={get basename(){return d},get future(){return p},get state(){return A},get routes(){return a},get window(){return e},initialize:Ye,subscribe:ut,enableScrollRestoration:rt,navigate:Nt,fetch:bt,revalidate:Ft,createHref:Q=>t.history.createHref(Q),encodeLocation:Q=>t.history.encodeLocation(Q),getFetcher:et,deleteFetcher:Jt,dispose:Re,getBlocker:ot,deleteBlocker:pt,patchRoutes:Nn,_internalFetchControllers:W,_internalSetRoutes:tn},E}function PL(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Eb(t,e,n,r,s,i){let a,l;if(s){a=[];for(let f of e)if(a.push(f),f.route.id===s){l=f;break}}else a=e,l=e[e.length-1];let d=py(r||".",hy(a),mi(t.pathname,n)||t.pathname,i==="path");if(r==null&&(d.search=t.search,d.hash=t.hash),(r==null||r===""||r===".")&&l){let f=ww(d.search);if(l.route.index&&!f)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&f){let p=new URLSearchParams(d.search),m=p.getAll("index");p.delete("index"),m.filter(x=>x).forEach(x=>p.append("index",x));let y=p.toString();d.search=y?`?${y}`:""}}return n!=="/"&&(d.pathname=d.pathname==="/"?n:Ji([n,d.pathname])),$o(d)}function bT(t,e,n){if(!n||!PL(n))return{path:e};if(n.formMethod&&!WL(n.formMethod))return{path:e,error:oi(405,{method:n.formMethod})};let r=()=>({path:e,error:oi(400,{type:"invalid-body"})}),i=(n.formMethod||"get").toUpperCase(),a=x5(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Fs(i))return r();let m=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((y,[x,b])=>`${y}${x}=${b}
`,""):String(n.body);return{path:e,submission:{formMethod:i,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:m}}}else if(n.formEncType==="application/json"){if(!Fs(i))return r();try{let m=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:i,formAction:a,formEncType:n.formEncType,formData:void 0,json:m,text:void 0}}}catch{return r()}}}hn(typeof FormData=="function","FormData is not available in this environment");let l,d;if(n.formData)l=Ob(n.formData),d=n.formData;else if(n.body instanceof FormData)l=Ob(n.body),d=n.body;else if(n.body instanceof URLSearchParams)l=n.body,d=ET(l);else if(n.body==null)l=new URLSearchParams,d=new FormData;else try{l=new URLSearchParams(n.body),d=ET(l)}catch{return r()}let f={formMethod:i,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(Fs(f.formMethod))return{path:e,submission:f};let p=Yo(e);return t&&p.search&&ww(p.search)&&l.append("index",""),p.search=`?${l}`,{path:$o(p),submission:f}}function wT(t,e,n,r,s,i,a,l,d,f,p,m,y,x,b,S,C,N,k,M){let D=M?Bs(M[1])?M[1].error:M[1].data:void 0,E=s.createURL(i.location),A=s.createURL(d),F;if(p&&i.errors){let te=Object.keys(i.errors)[0];F=a.findIndex(ne=>ne.route.id===te)}else if(M&&Bs(M[1])){let te=M[0];F=a.findIndex(ne=>ne.route.id===te)-1}let H=M?M[1].statusCode:void 0,Z=H&&H>=400,ve={currentUrl:E,currentParams:i.matches[0]?.params||{},nextUrl:A,nextParams:a[0].params,...l,actionResult:D,actionStatus:H},ue=a.map((te,ne)=>{let{route:xe}=te,W=null;if(F!=null&&ne>F?W=!1:xe.lazy?W=!0:xe.loader==null?W=!1:p?W=Ab(xe,i.loaderData,i.errors):zL(i.loaderData,i.matches[ne],te)&&(W=!0),W!==null)return kb(n,r,t,te,f,e,W);let le=Z?!1:m||E.pathname+E.search===A.pathname+A.search||E.search!==A.search||IL(i.matches[ne],te),be={...ve,defaultShouldRevalidate:le},Fe=Zm(te,be);return kb(n,r,t,te,f,e,Fe,be)}),oe=[];return b.forEach((te,ne)=>{if(p||!a.some(ie=>ie.route.id===te.routeId)||x.has(ne))return;let xe=i.fetchers.get(ne),W=xe&&xe.state!=="idle"&&xe.data===void 0,le=To(C,te.path,N);if(!le){if(k&&W)return;oe.push({key:ne,routeId:te.routeId,path:te.path,matches:null,match:null,request:null,controller:null});return}if(S.has(ne))return;let be=sf(le,te.path),Fe=new AbortController,$=tu(s,te.path,Fe.signal),de=null;if(y.has(ne))y.delete(ne),de=mu(n,r,$,le,be,f,e);else if(W)m&&(de=mu(n,r,$,le,be,f,e));else{let ie={...ve,defaultShouldRevalidate:Z?!1:m};Zm(be,ie)&&(de=mu(n,r,$,le,be,f,e,ie))}de&&oe.push({key:ne,routeId:te.routeId,path:te.path,matches:de,match:be,request:$,controller:Fe})}),{dsMatches:ue,revalidatingFetchers:oe}}function Ab(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,s=n!=null&&n[t.id]!==void 0;return!r&&s?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!s}function zL(t,e,n){let r=!e||n.route.id!==e.route.id,s=!t.hasOwnProperty(n.route.id);return r||s}function IL(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Zm(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function ST(t,e,n,r,s){let i;if(t){let d=r[t];hn(d,`No route found to patch children into: routeId = ${t}`),d.children||(d.children=[]),i=d.children}else i=n;let a=e.filter(d=>!i.some(f=>h5(d,f))),l=Xm(a,s,[t||"_","patch",String(i?.length||"0")],r);i.push(...l)}function h5(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>e.children?.some(s=>h5(n,s))):!1}var CT=new WeakMap,p5=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let s=n[e.id];if(hn(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let i=s.lazy[t];if(!i)return;let a=CT.get(s);a||(a={},CT.set(s,a));let l=a[t];if(l)return l;let d=(async()=>{let f=aL(t),m=s[t]!==void 0&&t!=="hasErrorBoundary";if(f)pr(!f,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),a[t]=Promise.resolve();else if(m)pr(!1,`Route "${s.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let y=await i();y!=null&&(Object.assign(s,{[t]:y}),Object.assign(s,r(s)))}typeof s.lazy=="object"&&(s.lazy[t]=void 0,Object.values(s.lazy).every(y=>y===void 0)&&(s.lazy=void 0))})();return a[t]=d,d},NT=new WeakMap;function BL(t,e,n,r,s){let i=n[t.id];if(hn(i,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let p=NT.get(i);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let m=(async()=>{hn(typeof t.lazy=="function","No lazy route function found");let y=await t.lazy(),x={};for(let b in y){let S=y[b];if(S===void 0)continue;let C=lL(b),k=i[b]!==void 0&&b!=="hasErrorBoundary";C?pr(!C,"Route property "+b+" is not a supported property to be returned from a lazy route function. This property will be ignored."):k?pr(!k,`Route "${i.id}" has a static property "${b}" defined but its lazy function is also returning a value for this property. The lazy route property "${b}" will be ignored.`):x[b]=S}Object.assign(i,x),Object.assign(i,{...r(i),lazy:void 0})})();return NT.set(i,m),m.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:m}}let a=Object.keys(t.lazy),l=[],d;for(let p of a){if(s&&s.includes(p))continue;let m=p5({key:p,route:t,manifest:n,mapRouteProperties:r});m&&(l.push(m),p===e&&(d=m))}let f=l.length>0?Promise.all(l).then(()=>{}):void 0;return f?.catch(()=>{}),d?.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:d}}async function jT(t){let e=t.matches.filter(s=>s.shouldLoad),n={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,i)=>{n[e[i].route.id]=s}),n}async function FL(t){return t.matches.some(e=>e.route.unstable_middleware)?m5(t,!1,()=>jT(t),(e,n)=>({[n]:{type:"error",result:e}})):jT(t)}async function m5(t,e,n,r){let{matches:s,request:i,params:a,context:l}=t,d={handlerResult:void 0};try{let f=s.flatMap(m=>m.route.unstable_middleware?m.route.unstable_middleware.map(y=>[m.route.id,y]):[]),p=await g5({request:i,params:a,context:l},f,e,d,n);return e?p:d.handlerResult}catch(f){if(!d.middlewareError)throw f;let p=await r(d.middlewareError.error,d.middlewareError.routeId);return d.handlerResult?Object.assign(d.handlerResult,p):p}}async function g5(t,e,n,r,s,i=0){let{request:a}=t;if(a.signal.aborted)throw a.signal.reason?a.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${a.method} ${a.url}`);let l=e[i];if(!l)return r.handlerResult=await s(),r.handlerResult;let[d,f]=l,p=!1,m,y=async()=>{if(p)throw new Error("You may only call `next()` once per middleware");p=!0,await g5(t,e,n,r,s,i+1)};try{let x=await f({request:t.request,params:t.params,context:t.context},y);return p?x===void 0?m:x:y()}catch(x){throw r.middlewareError?r.middlewareError.error!==x&&(r.middlewareError={routeId:d,error:x}):r.middlewareError={routeId:d,error:x},x}}function y5(t,e,n,r,s){let i=p5({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),a=BL(r.route,Fs(n.method)?"action":"loader",e,t,s);return{middleware:i,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function kb(t,e,n,r,s,i,a,l=null){let d=!1,f=y5(t,e,n,r,s);return{...r,_lazyPromises:f,shouldLoad:a,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler(p){return d=!0,l?typeof p=="boolean"?Zm(r,{...l,defaultShouldRevalidate:p}):Zm(r,l):a},resolve(p){return d||a||p&&n.method==="GET"&&(r.route.lazy||r.route.loader)?UL({request:n,match:r,lazyHandlerPromise:f?.handler,lazyRoutePromise:f?.route,handlerOverride:p,scopedContext:i}):Promise.resolve({type:"data",result:void 0})}}}function mu(t,e,n,r,s,i,a,l=null){return r.map(d=>d.route.id!==s.route.id?{...d,shouldLoad:!1,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler:()=>!1,_lazyPromises:y5(t,e,n,d,i),resolve:()=>Promise.resolve({type:"data",result:void 0})}:kb(t,e,n,d,i,a,!0,l))}async function $L(t,e,n,r,s,i){n.some(f=>f._lazyPromises?.middleware)&&await Promise.all(n.map(f=>f._lazyPromises?.middleware));let a={request:e,params:n[0].params,context:s,matches:n},d=await t({...a,fetcherKey:r,unstable_runClientMiddleware:f=>{let p=a;return m5(p,!1,()=>f({...p,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(m,y)=>({[y]:{type:"error",result:m}}))}});try{await Promise.all(n.flatMap(f=>[f._lazyPromises?.handler,f._lazyPromises?.route]))}catch{}return d}async function UL({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:s,scopedContext:i}){let a,l,d=Fs(t.method),f=d?"action":"loader",p=m=>{let y,x=new Promise((C,N)=>y=N);l=()=>y(),t.signal.addEventListener("abort",l);let b=C=>typeof m!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${f}" [routeId: ${e.route.id}]`)):m({request:t,params:e.params,context:i},...C!==void 0?[C]:[]),S=(async()=>{try{return{type:"data",result:await(s?s(N=>b(N)):b())}}catch(C){return{type:"error",result:C}}})();return Promise.race([S,x])};try{let m=d?e.route.action:e.route.loader;if(n||r)if(m){let y,[x]=await Promise.all([p(m).catch(b=>{y=b}),n,r]);if(y!==void 0)throw y;a=x}else{await n;let y=d?e.route.action:e.route.loader;if(y)[a]=await Promise.all([p(y),r]);else if(f==="action"){let x=new URL(t.url),b=x.pathname+x.search;throw oi(405,{method:t.method,pathname:b,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(m)a=await p(m);else{let y=new URL(t.url),x=y.pathname+y.search;throw oi(404,{pathname:x})}}catch(m){return{type:"error",result:m}}finally{l&&t.signal.removeEventListener("abort",l)}return a}async function VL(t){let{result:e,type:n}=t;if(v5(e)){let r;try{let s=e.headers.get("Content-Type");s&&/\bapplication\/json\b/.test(s)?e.body==null?r=null:r=await e.json():r=await e.text()}catch(s){return{type:"error",error:s}}return n==="error"?{type:"error",error:new Qm(e.status,e.statusText,r),statusCode:e.status,headers:e.headers}:{type:"data",data:r,statusCode:e.status,headers:e.headers}}return n==="error"?DT(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Qm(e.init?.status||500,void 0,e.data),statusCode:If(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:If(e)?e.status:void 0}:DT(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function HL(t,e,n,r,s){let i=t.headers.get("Location");if(hn(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!bw.test(i)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);i=Eb(new URL(e.url),a,s,i),t.headers.set("Location",i)}return t}function TT(t,e,n){if(bw.test(t)){let r=t,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),i=mi(s.pathname,n)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function tu(t,e,n,r){let s=t.createURL(x5(e)).toString(),i={signal:n};if(r&&Fs(r.formMethod)){let{formMethod:a,formEncType:l}=r;i.method=a.toUpperCase(),l==="application/json"?(i.headers=new Headers({"Content-Type":l}),i.body=JSON.stringify(r.json)):l==="text/plain"?i.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?i.body=Ob(r.formData):i.body=r.formData}return new Request(s,i)}function Ob(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function ET(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function qL(t,e,n,r=!1,s=!1){let i={},a=null,l,d=!1,f={},p=n&&Bs(n[1])?n[1].error:void 0;return t.forEach(m=>{if(!(m.route.id in e))return;let y=m.route.id,x=e[y];if(hn(!Ml(x),"Cannot handle redirect results in processLoaderData"),Bs(x)){let b=x.error;if(p!==void 0&&(b=p,p=void 0),a=a||{},s)a[y]=b;else{let S=Al(t,y);a[S.route.id]==null&&(a[S.route.id]=b)}r||(i[y]=f5),d||(d=!0,l=If(x.error)?x.error.status:500),x.headers&&(f[y]=x.headers)}else i[y]=x.data,x.statusCode&&x.statusCode!==200&&!d&&(l=x.statusCode),x.headers&&(f[y]=x.headers)}),p!==void 0&&n&&(a={[n[0]]:p},n[2]&&(i[n[2]]=void 0)),{loaderData:i,errors:a,statusCode:l||200,loaderHeaders:f}}function AT(t,e,n,r,s,i){let{loaderData:a,errors:l}=qL(e,n,r);return s.filter(d=>!d.matches||d.matches.some(f=>f.shouldLoad)).forEach(d=>{let{key:f,match:p,controller:m}=d,y=i[f];if(hn(y,"Did not find corresponding fetcher result"),!(m&&m.signal.aborted))if(Bs(y)){let x=Al(t.matches,p?.route.id);l&&l[x.route.id]||(l={...l,[x.route.id]:y.error}),t.fetchers.delete(f)}else if(Ml(y))hn(!1,"Unhandled fetcher revalidation redirect");else{let x=vo(y.data);t.fetchers.set(f,x)}}),{loaderData:a,errors:l}}function kT(t,e,n,r){let s=Object.entries(e).filter(([,i])=>i!==f5).reduce((i,[a,l])=>(i[a]=l,i),{});for(let i of n){let a=i.route.id;if(!e.hasOwnProperty(a)&&t.hasOwnProperty(a)&&i.route.loader&&(s[a]=t[a]),r&&r.hasOwnProperty(a))break}return s}function OT(t){return t?Bs(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Al(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function MT(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function oi(t,{pathname:e,routeId:n,method:r,type:s,message:i}={}){let a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",r&&e&&n?l=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l=`Route "${n}" does not match URL "${e}"`):t===404?(a="Not Found",l=`No route matches URL "${e}"`):t===405&&(a="Method Not Allowed",r&&e&&n?l=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(l=`Invalid request method "${r.toUpperCase()}"`)),new Qm(t||500,a,new Error(l),!0)}function qp(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(Ml(s))return{key:r,result:s}}}function x5(t){let e=typeof t=="string"?Yo(t):t;return $o({...e,hash:""})}function KL(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function YL(t){return v5(t.result)&&ML.has(t.result.status)}function Bs(t){return t.type==="error"}function Ml(t){return(t&&t.type)==="redirect"}function DT(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function v5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function WL(t){return OL.has(t.toUpperCase())}function Fs(t){return AL.has(t.toUpperCase())}function ww(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function sf(t,e){let n=typeof e=="string"?Yo(e).search:e.search;if(t[t.length-1].route.index&&ww(n||""))return t[t.length-1];let r=c5(t);return r[r.length-1]}function RT(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:i,json:a}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function lv(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function GL(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function qd(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function XL(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function vo(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function JL(t,e){try{let n=t.sessionStorage.getItem(d5);if(n){let r=JSON.parse(n);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function QL(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(d5,JSON.stringify(n))}catch(r){pr(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function ZL(){let t,e,n=new Promise((r,s)=>{t=async i=>{r(i);try{await n}catch{}},e=async i=>{s(i);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var dc=j.createContext(null);dc.displayName="DataRouter";var gh=j.createContext(null);gh.displayName="DataRouterState";var Sw=j.createContext({isTransitioning:!1});Sw.displayName="ViewTransition";var b5=j.createContext(new Map);b5.displayName="Fetchers";var eP=j.createContext(null);eP.displayName="Await";var Di=j.createContext(null);Di.displayName="Navigation";var my=j.createContext(null);my.displayName="Location";var Ri=j.createContext({outlet:null,matches:[],isDataRoute:!1});Ri.displayName="Route";var Cw=j.createContext(null);Cw.displayName="RouteError";function tP(t,{relative:e}={}){hn(Ru(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=j.useContext(Di),{hash:s,pathname:i,search:a}=yh(t,{relative:e}),l=i;return n!=="/"&&(l=i==="/"?n:Ji([n,i])),r.createHref({pathname:l,search:a,hash:s})}function Ru(){return j.useContext(my)!=null}function Wo(){return hn(Ru(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(my).location}var w5="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function S5(t){j.useContext(Di).static||j.useLayoutEffect(t)}function Hn(){let{isDataRoute:t}=j.useContext(Ri);return t?gP():nP()}function nP(){hn(Ru(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(dc),{basename:e,navigator:n}=j.useContext(Di),{matches:r}=j.useContext(Ri),{pathname:s}=Wo(),i=JSON.stringify(hy(r)),a=j.useRef(!1);return S5(()=>{a.current=!0}),j.useCallback((d,f={})=>{if(pr(a.current,w5),!a.current)return;if(typeof d=="number"){n.go(d);return}let p=py(d,JSON.parse(i),s,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ji([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,i,s,t])}var rP=j.createContext(null);function sP(t){let e=j.useContext(Ri).outlet;return e&&j.createElement(rP.Provider,{value:t},e)}function yh(t,{relative:e}={}){let{matches:n}=j.useContext(Ri),{pathname:r}=Wo(),s=JSON.stringify(hy(n));return j.useMemo(()=>py(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function iP(t,e,n,r){hn(Ru(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=j.useContext(Di),{matches:i}=j.useContext(Ri),a=i[i.length-1],l=a?a.params:{},d=a?a.pathname:"/",f=a?a.pathnameBase:"/",p=a&&a.route;{let N=p&&p.path||"";C5(d,!p||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let m=Wo(),y;y=m;let x=y.pathname||"/",b=x;if(f!=="/"){let N=f.replace(/^\//,"").split("/");b="/"+x.replace(/^\//,"").split("/").slice(N.length).join("/")}let S=To(t,{pathname:b});return pr(p||S!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),pr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),uP(S&&S.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:Ji([f,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?f:Ji([f,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),i,n,r)}function aP(){let t=mP(),e=If(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:i},"ErrorBoundary")," or"," ",j.createElement("code",{style:i},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:s},n):null,a)}var oP=j.createElement(aP,null),lP=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?j.createElement(Ri.Provider,{value:this.props.routeContext},j.createElement(Cw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cP({routeContext:t,match:e,children:n}){let r=j.useContext(dc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Ri.Provider,{value:t},n)}function uP(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,i=n?.errors;if(i!=null){let d=s.findIndex(f=>f.route.id&&i?.[f.route.id]!==void 0);hn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let a=!1,l=-1;if(n)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=d),f.route.id){let{loaderData:p,errors:m}=n,y=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((d,f,p)=>{let m,y=!1,x=null,b=null;n&&(m=i&&f.route.id?i[f.route.id]:void 0,x=f.route.errorElement||oP,a&&(l<0&&p===0?(C5("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,b=null):l===p&&(y=!0,b=f.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,p+1)),C=()=>{let N;return m?N=x:y?N=b:f.route.Component?N=j.createElement(f.route.Component,null):f.route.element?N=f.route.element:N=d,j.createElement(cP,{match:f,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:N})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?j.createElement(lP,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):C()},null)}function Nw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dP(t){let e=j.useContext(dc);return hn(e,Nw(t)),e}function fP(t){let e=j.useContext(gh);return hn(e,Nw(t)),e}function hP(t){let e=j.useContext(Ri);return hn(e,Nw(t)),e}function jw(t){let e=hP(t),n=e.matches[e.matches.length-1];return hn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function pP(){return jw("useRouteId")}function mP(){let t=j.useContext(Cw),e=fP("useRouteError"),n=jw("useRouteError");return t!==void 0?t:e.errors?.[n]}function gP(){let{router:t}=dP("useNavigate"),e=jw("useNavigate"),n=j.useRef(!1);return S5(()=>{n.current=!0}),j.useCallback(async(s,i={})=>{pr(n.current,w5),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var _T={};function C5(t,e,n){!e&&!_T[t]&&(_T[t]=!0,pr(!1,n))}var LT={};function PT(t,e){!t&&!LT[e]&&(LT[e]=!0,console.warn(e))}function yP(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&pr(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:j.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&pr(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:j.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&pr(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:j.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var xP=["HydrateFallback","hydrateFallbackElement"],vP=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function bP({router:t,flushSync:e}){let[n,r]=j.useState(t.state),[s,i]=j.useState(),[a,l]=j.useState({isTransitioning:!1}),[d,f]=j.useState(),[p,m]=j.useState(),[y,x]=j.useState(),b=j.useRef(new Map),S=j.useCallback((M,{deletedFetchers:D,flushSync:E,viewTransitionOpts:A})=>{M.fetchers.forEach((H,Z)=>{H.data!==void 0&&b.current.set(Z,H.data)}),D.forEach(H=>b.current.delete(H)),PT(E===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let F=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(PT(A==null||F,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!A||!F){e&&E?e(()=>r(M)):j.startTransition(()=>r(M));return}if(e&&E){e(()=>{p&&(d&&d.resolve(),p.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:A.currentLocation,nextLocation:A.nextLocation})});let H=t.window.document.startViewTransition(()=>{e(()=>r(M))});H.finished.finally(()=>{e(()=>{f(void 0),m(void 0),i(void 0),l({isTransitioning:!1})})}),e(()=>m(H));return}p?(d&&d.resolve(),p.skipTransition(),x({state:M,currentLocation:A.currentLocation,nextLocation:A.nextLocation})):(i(M),l({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}))},[t.window,e,p,d]);j.useLayoutEffect(()=>t.subscribe(S),[t,S]),j.useEffect(()=>{a.isTransitioning&&!a.flushSync&&f(new vP)},[a]),j.useEffect(()=>{if(d&&s&&t.window){let M=s,D=d.promise,E=t.window.document.startViewTransition(async()=>{j.startTransition(()=>r(M)),await D});E.finished.finally(()=>{f(void 0),m(void 0),i(void 0),l({isTransitioning:!1})}),m(E)}},[s,d,t.window]),j.useEffect(()=>{d&&s&&n.location.key===s.location.key&&d.resolve()},[d,p,n.location,s]),j.useEffect(()=>{!a.isTransitioning&&y&&(i(y.state),l({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),x(void 0))},[a.isTransitioning,y]);let C=j.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:M=>t.navigate(M),push:(M,D,E)=>t.navigate(M,{state:D,preventScrollReset:E?.preventScrollReset}),replace:(M,D,E)=>t.navigate(M,{replace:!0,state:D,preventScrollReset:E?.preventScrollReset})}),[t]),N=t.basename||"/",k=j.useMemo(()=>({router:t,navigator:C,static:!1,basename:N}),[t,C,N]);return j.createElement(j.Fragment,null,j.createElement(dc.Provider,{value:k},j.createElement(gh.Provider,{value:n},j.createElement(b5.Provider,{value:b.current},j.createElement(Sw.Provider,{value:a},j.createElement(jP,{basename:N,location:n.location,navigationType:n.historyAction,navigator:C},j.createElement(wP,{routes:t.routes,future:t.future,state:n})))))),null)}var wP=j.memo(SP);function SP({routes:t,future:e,state:n}){return iP(t,void 0,n,e)}function CP({to:t,replace:e,state:n,relative:r}){hn(Ru(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=j.useContext(Di);pr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=j.useContext(Ri),{pathname:a}=Wo(),l=Hn(),d=py(t,hy(i),a,r==="path"),f=JSON.stringify(d);return j.useEffect(()=>{l(JSON.parse(f),{replace:e,state:n,relative:r})},[l,f,r,e,n]),null}function NP(t){return sP(t.context)}function jP({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){hn(!Ru(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=j.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof n=="string"&&(n=Yo(n));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:y="default"}=n,x=j.useMemo(()=>{let b=mi(d,a);return b==null?null:{location:{pathname:b,search:f,hash:p,state:m,key:y},navigationType:r}},[a,d,f,p,m,y,r]);return pr(x!=null,`<Router basename="${a}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:j.createElement(Di.Provider,{value:l},j.createElement(my.Provider,{children:e,value:x}))}var Em="get",Am="application/x-www-form-urlencoded";function gy(t){return t!=null&&typeof t.tagName=="string"}function TP(t){return gy(t)&&t.tagName.toLowerCase()==="button"}function EP(t){return gy(t)&&t.tagName.toLowerCase()==="form"}function AP(t){return gy(t)&&t.tagName.toLowerCase()==="input"}function kP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function OP(t,e){return t.button===0&&(!e||e==="_self")&&!kP(t)}var Kp=null;function MP(){if(Kp===null)try{new FormData(document.createElement("form"),0),Kp=!1}catch{Kp=!0}return Kp}var DP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cv(t){return t!=null&&!DP.has(t)?(pr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Am}"`),null):t}function RP(t,e){let n,r,s,i,a;if(EP(t)){let l=t.getAttribute("action");r=l?mi(l,e):null,n=t.getAttribute("method")||Em,s=cv(t.getAttribute("enctype"))||Am,i=new FormData(t)}else if(TP(t)||AP(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||l.getAttribute("action");if(r=d?mi(d,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Em,s=cv(t.getAttribute("formenctype"))||cv(l.getAttribute("enctype"))||Am,i=new FormData(l,t),!MP()){let{name:f,type:p,value:m}=t;if(p==="image"){let y=f?`${f}.`:"";i.append(`${y}x`,"0"),i.append(`${y}y`,"0")}else f&&i.append(f,m)}}else{if(gy(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Em,r=null,s=Am,a=t}return i&&s==="text/plain"&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:a}}function Tw(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function _P(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function PP(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let a=await _P(i,n);return a.links?a.links():[]}return[]}));return FP(r.flat(1).filter(LP).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function zT(t,e,n,r,s,i){let a=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,l=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return i==="assets"?e.filter((d,f)=>a(d,f)||l(d,f)):i==="data"?e.filter((d,f)=>{let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(a(d,f)||l(d,f))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function zP(t,e,{includeHydrateFallback:n}={}){return IP(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function IP(t){return[...new Set(t)]}function BP(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function FP(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(BP(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $P=new Set([100,101,204,205]);function UP(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&mi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function N5(){let t=j.useContext(dc);return Tw(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function VP(){let t=j.useContext(gh);return Tw(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ew=j.createContext(void 0);Ew.displayName="FrameworkContext";function j5(){let t=j.useContext(Ew);return Tw(t,"You must render this element inside a <HydratedRouter> element"),t}function HP(t,e){let n=j.useContext(Ew),[r,s]=j.useState(!1),[i,a]=j.useState(!1),{onFocus:l,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=e,y=j.useRef(null);j.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let S=N=>{N.forEach(k=>{a(k.isIntersecting)})},C=new IntersectionObserver(S,{threshold:.5});return y.current&&C.observe(y.current),()=>{C.disconnect()}}},[t]),j.useEffect(()=>{if(r){let S=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(S)}}},[r]);let x=()=>{s(!0)},b=()=>{s(!1),a(!1)};return n?t!=="intent"?[i,y,{}]:[i,y,{onFocus:Kd(l,x),onBlur:Kd(d,b),onMouseEnter:Kd(f,x),onMouseLeave:Kd(p,b),onTouchStart:Kd(m,x)}]:[!1,y,{}]}function Kd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function qP({page:t,...e}){let{router:n}=N5(),r=j.useMemo(()=>To(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?j.createElement(YP,{page:t,matches:r,...e}):null}function KP(t){let{manifest:e,routeModules:n}=j5(),[r,s]=j.useState([]);return j.useEffect(()=>{let i=!1;return PP(t,e,n).then(a=>{i||s(a)}),()=>{i=!0}},[t,e,n]),r}function YP({page:t,matches:e,...n}){let r=Wo(),{manifest:s,routeModules:i}=j5(),{basename:a}=N5(),{loaderData:l,matches:d}=VP(),f=j.useMemo(()=>zT(t,e,d,s,r,"data"),[t,e,d,s,r]),p=j.useMemo(()=>zT(t,e,d,s,r,"assets"),[t,e,d,s,r]),m=j.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let b=new Set,S=!1;if(e.forEach(N=>{let k=s.routes[N.route.id];!k||!k.hasLoader||(!f.some(M=>M.route.id===N.route.id)&&N.route.id in l&&i[N.route.id]?.shouldRevalidate||k.hasClientLoader?S=!0:b.add(N.route.id))}),b.size===0)return[];let C=UP(t,a);return S&&b.size>0&&C.searchParams.set("_routes",e.filter(N=>b.has(N.route.id)).map(N=>N.route.id).join(",")),[C.pathname+C.search]},[a,l,r,s,f,e,t,i]),y=j.useMemo(()=>zP(p,s),[p,s]),x=KP(p);return j.createElement(j.Fragment,null,m.map(b=>j.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),y.map(b=>j.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),x.map(({key:b,link:S})=>j.createElement("link",{key:b,...S})))}function WP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var T5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{T5&&(window.__reactRouterVersion="7.6.2")}catch{}function GP(t,e){return LL({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:nL({window:e?.window}),hydrationData:XP(),routes:t,mapRouteProperties:yP,hydrationRouteProperties:xP,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function XP(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:JP(t.errors)}),t}function JP(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new Qm(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let a=new i(s.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let i=new Error(s.message);i.stack="",n[r]=i}}else n[r]=s;return n}var E5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,A5=j.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:a,state:l,target:d,to:f,preventScrollReset:p,viewTransition:m,...y},x){let{basename:b}=j.useContext(Di),S=typeof f=="string"&&E5.test(f),C,N=!1;if(typeof f=="string"&&S&&(C=f,T5))try{let Z=new URL(window.location.href),ve=f.startsWith("//")?new URL(Z.protocol+f):new URL(f),ue=mi(ve.pathname,b);ve.origin===Z.origin&&ue!=null?f=ue+ve.search+ve.hash:N=!0}catch{pr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=tP(f,{relative:s}),[M,D,E]=HP(r,y),A=e9(f,{replace:a,state:l,target:d,preventScrollReset:p,relative:s,viewTransition:m});function F(Z){e&&e(Z),Z.defaultPrevented||A(Z)}let H=j.createElement("a",{...y,...E,href:C||k,onClick:N||i?e:F,ref:WP(x,D),target:d,"data-discover":!S&&n==="render"?"true":void 0});return M&&!S?j.createElement(j.Fragment,null,H,j.createElement(qP,{page:k})):H});A5.displayName="Link";var k5=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:a,viewTransition:l,children:d,...f},p){let m=yh(a,{relative:f.relative}),y=Wo(),x=j.useContext(gh),{navigator:b,basename:S}=j.useContext(Di),C=x!=null&&i9(m)&&l===!0,N=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,k=y.pathname,M=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(k=k.toLowerCase(),M=M?M.toLowerCase():null,N=N.toLowerCase()),M&&S&&(M=mi(M,S)||M);const D=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let E=k===N||!s&&k.startsWith(N)&&k.charAt(D)==="/",A=M!=null&&(M===N||!s&&M.startsWith(N)&&M.charAt(N.length)==="/"),F={isActive:E,isPending:A,isTransitioning:C},H=E?e:void 0,Z;typeof r=="function"?Z=r(F):Z=[r,E?"active":null,A?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let ve=typeof i=="function"?i(F):i;return j.createElement(A5,{...f,"aria-current":H,className:Z,ref:p,style:ve,to:a,viewTransition:l},typeof d=="function"?d(F):d)});k5.displayName="NavLink";var QP=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:a=Em,action:l,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:m,...y},x)=>{let b=r9(),S=s9(l,{relative:f}),C=a.toLowerCase()==="get"?"get":"post",N=typeof l=="string"&&E5.test(l),k=M=>{if(d&&d(M),M.defaultPrevented)return;M.preventDefault();let D=M.nativeEvent.submitter,E=D?.getAttribute("formmethod")||a;b(D||M.currentTarget,{fetcherKey:e,method:E,navigate:n,replace:s,state:i,relative:f,preventScrollReset:p,viewTransition:m})};return j.createElement("form",{ref:x,method:C,action:S,onSubmit:r?d:k,...y,"data-discover":!N&&t==="render"?"true":void 0})});QP.displayName="Form";function ZP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function O5(t){let e=j.useContext(dc);return hn(e,ZP(t)),e}function e9(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:a}={}){let l=Hn(),d=Wo(),f=yh(t,{relative:i});return j.useCallback(p=>{if(OP(p,e)){p.preventDefault();let m=n!==void 0?n:$o(d)===$o(f);l(t,{replace:m,state:r,preventScrollReset:s,relative:i,viewTransition:a})}},[d,l,f,n,r,e,t,s,i,a])}var t9=0,n9=()=>`__${String(++t9)}__`;function r9(){let{router:t}=O5("useSubmit"),{basename:e}=j.useContext(Di),n=pP();return j.useCallback(async(r,s={})=>{let{action:i,method:a,encType:l,formData:d,body:f}=RP(r,e);if(s.navigate===!1){let p=s.fetcherKey||n9();await t.fetch(p,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||a,formEncType:s.encType||l,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||a,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function s9(t,{relative:e}={}){let{basename:n}=j.useContext(Di),r=j.useContext(Ri);hn(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...yh(t||".",{relative:e})},a=Wo();if(t==null){i.search=a.search;let l=new URLSearchParams(i.search),d=l.getAll("index");if(d.some(p=>p==="")){l.delete("index"),d.filter(m=>m).forEach(m=>l.append("index",m));let p=l.toString();i.search=p?`?${p}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Ji([n,i.pathname])),$o(i)}function i9(t,e={}){let n=j.useContext(Sw);hn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=O5("useViewTransitionState"),s=yh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=mi(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=mi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Jm(s.pathname,a)!=null||Jm(s.pathname,i)!=null}[...$P];var Aw=s5();const M5=Ka(Aw);function a9(t){return j.createElement(bP,{flushSync:Aw.flushSync,...t})}const D5="/assets/Logo-DEFM2MOm.png";var uv,IT;function o9(){if(IT)return uv;IT=1;function t(N){this._maxSize=N,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(N){return this._values[N]},t.prototype.set=function(N,k){return this._size>=this._maxSize&&this.clear(),N in this._values||this._size++,this._values[N]=k};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,r=/^\d/,s=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,i=/^\s*(['"]?)(.*?)(\1)\s*$/,a=512,l=new t(a),d=new t(a),f=new t(a);uv={Cache:t,split:m,normalizePath:p,setter:function(N){var k=p(N);return d.get(N)||d.set(N,function(D,E){for(var A=0,F=k.length,H=D;A<F-1;){var Z=k[A];if(Z==="__proto__"||Z==="constructor"||Z==="prototype")return D;H=H[k[A++]]}H[k[A]]=E})},getter:function(N,k){var M=p(N);return f.get(N)||f.set(N,function(E){for(var A=0,F=M.length;A<F;)if(E!=null||!k)E=E[M[A++]];else return;return E})},join:function(N){return N.reduce(function(k,M){return k+(x(M)||n.test(M)?"["+M+"]":(k?".":"")+M)},"")},forEach:function(N,k,M){y(Array.isArray(N)?N:m(N),k,M)}};function p(N){return l.get(N)||l.set(N,m(N).map(function(k){return k.replace(i,"$2")}))}function m(N){return N.match(e)||[""]}function y(N,k,M){var D=N.length,E,A,F,H;for(A=0;A<D;A++)E=N[A],E&&(C(E)&&(E='"'+E+'"'),H=x(E),F=!H&&/^\d+$/.test(E),k.call(M,E,H,F,A,N))}function x(N){return typeof N=="string"&&N&&["'",'"'].indexOf(N.charAt(0))!==-1}function b(N){return N.match(r)&&!N.match(n)}function S(N){return s.test(N)}function C(N){return!x(N)&&(b(N)||S(N))}return uv}var $l=o9(),dv,BT;function l9(){if(BT)return dv;BT=1;const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=p=>p.match(t)||[],n=p=>p[0].toUpperCase()+p.slice(1),r=(p,m)=>e(p).join(m).toLowerCase(),s=p=>e(p).reduce((m,y)=>`${m}${m?y[0].toUpperCase()+y.slice(1).toLowerCase():y.toLowerCase()}`,"");return dv={words:e,upperFirst:n,camelCase:s,pascalCase:p=>n(s(p)),snakeCase:p=>r(p,"_"),kebabCase:p=>r(p,"-"),sentenceCase:p=>n(r(p," ")),titleCase:p=>e(p).map(n).join(" ")},dv}var fv=l9(),Yp={exports:{}},FT;function c9(){if(FT)return Yp.exports;FT=1,Yp.exports=function(s){return t(e(s),s)},Yp.exports.array=t;function t(s,i){var a=s.length,l=new Array(a),d={},f=a,p=n(i),m=r(s);for(i.forEach(function(x){if(!m.has(x[0])||!m.has(x[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});f--;)d[f]||y(s[f],f,new Set);return l;function y(x,b,S){if(S.has(x)){var C;try{C=", node was:"+JSON.stringify(x)}catch{C=""}throw new Error("Cyclic dependency"+C)}if(!m.has(x))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(x));if(!d[b]){d[b]=!0;var N=p.get(x)||new Set;if(N=Array.from(N),b=N.length){S.add(x);do{var k=N[--b];y(k,m.get(k),S)}while(b);S.delete(x)}l[--a]=x}}}function e(s){for(var i=new Set,a=0,l=s.length;a<l;a++){var d=s[a];i.add(d[0]),i.add(d[1])}return Array.from(i)}function n(s){for(var i=new Map,a=0,l=s.length;a<l;a++){var d=s[a];i.has(d[0])||i.set(d[0],new Set),i.has(d[1])||i.set(d[1],new Set),i.get(d[0]).add(d[1])}return i}function r(s){for(var i=new Map,a=0,l=s.length;a<l;a++)i.set(s[a],a);return i}return Yp.exports}var u9=c9();const d9=Ka(u9),f9=Object.prototype.toString,h9=Error.prototype.toString,p9=RegExp.prototype.toString,m9=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",g9=/^Symbol\((.*)\)(.*)$/;function y9(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function $T(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return y9(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return m9.call(t).replace(g9,"Symbol($1)");const r=f9.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+h9.call(t)+"]":r==="RegExp"?p9.call(t):null}function Lo(t,e){let n=$T(t,e);return n!==null?n:JSON.stringify(t,function(r,s){let i=$T(this[r],e);return i!==null?i:s},2)}function R5(t){return t==null?[]:[].concat(t)}let _5,L5,P5,x9=/\$\{\s*(\w+)\s*\}/g;_5=Symbol.toStringTag;class UT{constructor(e,n,r,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[_5]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=s,this.errors=[],this.inner=[],R5(e).forEach(i=>{if(Ss.isError(i)){this.errors.push(...i.errors);const a=i.inner.length?i.inner:[i];this.inner.push(...a)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}L5=Symbol.hasInstance;P5=Symbol.toStringTag;class Ss extends Error{static formatError(e,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof e=="string"?e.replace(x9,(s,i)=>Lo(n[i])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,s,i){const a=new UT(e,n,r,s);if(i)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[P5]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Ss)}static[L5](e){return UT[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Ki={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const s=r!=null&&r!==n?` (cast from the value \`${Lo(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Lo(n,!0)}\``+s:`${t} must match the configured type. The validated value was: \`${Lo(n,!0)}\``+s}},vs={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},v9={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Mb={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},b9={isValue:"${path} field must be ${value}"},km={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},w9={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},S9={notType:t=>{const{path:e,value:n,spec:r}=t,s=r.types.length;if(Array.isArray(n)){if(n.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${n.length} for value: \`${Lo(n,!0)}\``;if(n.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${n.length} for value: \`${Lo(n,!0)}\``}return Ss.formatError(Ki.notType,t)}};Object.assign(Object.create(null),{mixed:Ki,string:vs,number:v9,date:Mb,object:km,array:w9,boolean:b9,tuple:S9});const kw=t=>t&&t.__isYupSchema__;class eg{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:s,otherwise:i}=n,a=typeof r=="function"?r:(...l)=>l.every(d=>d===r);return new eg(e,(l,d)=>{var f;let p=a(...l)?s:i;return(f=p?.(d))!=null?f:d})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(i=>i.getValue(n?.value,n?.parent,n?.context)),s=this.fn(r,e,n);if(s===void 0||s===e)return e;if(!kw(s))throw new TypeError("conditions must return a schema object");return s.resolve(n)}}const Wp={context:"$",value:"."};class fc{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Wp.context,this.isValue=this.key[0]===Wp.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?Wp.context:this.isValue?Wp.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&$l.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let s=this.isContext?r:this.isValue?e:n;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,n){return this.getValue(e,n?.parent,n?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}fc.prototype.__isYupRef=!0;const Dl=t=>t==null;function Gc(t){function e({value:n,path:r="",options:s,originalValue:i,schema:a},l,d){const{name:f,test:p,params:m,message:y,skipAbsent:x}=t;let{parent:b,context:S,abortEarly:C=a.spec.abortEarly,disableStackTrace:N=a.spec.disableStackTrace}=s;function k(ue){return fc.isRef(ue)?ue.getValue(n,b,S):ue}function M(ue={}){const oe=Object.assign({value:n,originalValue:i,label:a.spec.label,path:ue.path||r,spec:a.spec,disableStackTrace:ue.disableStackTrace||N},m,ue.params);for(const ne of Object.keys(oe))oe[ne]=k(oe[ne]);const te=new Ss(Ss.formatError(ue.message||y,oe),n,oe.path,ue.type||f,oe.disableStackTrace);return te.params=oe,te}const D=C?l:d;let E={path:r,parent:b,type:f,from:s.from,createError:M,resolve:k,options:s,originalValue:i,schema:a};const A=ue=>{Ss.isError(ue)?D(ue):ue?d(null):D(M())},F=ue=>{Ss.isError(ue)?D(ue):l(ue)};if(x&&Dl(n))return A(!0);let Z;try{var ve;if(Z=p.call(E,n,E),typeof((ve=Z)==null?void 0:ve.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${E.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(Z).then(A,F)}}catch(ue){F(ue);return}A(Z)}return e.OPTIONS=t,e}function C9(t,e,n,r=n){let s,i,a;return e?($l.forEach(e,(l,d,f)=>{let p=d?l.slice(1,l.length-1):l;t=t.resolve({context:r,parent:s,value:n});let m=t.type==="tuple",y=f?parseInt(p,10):0;if(t.innerType||m){if(m&&!f)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(n&&y>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);s=n,n=n&&n[y],t=m?t.spec.types[y]:t.innerType}if(!f){if(!t.fields||!t.fields[p])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${a} which is a type: "${t.type}")`);s=n,n=n&&n[p],t=t.fields[p]}i=p,a=d?"["+l+"]":"."+l}),{schema:t,parent:s,parentPath:i}):{parent:s,parentPath:e,schema:t}}class tg extends Set{describe(){const e=[];for(const n of this.values())e.push(fc.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new tg(this.values())}merge(e,n){const r=this.clone();return e.forEach(s=>r.add(s)),n.forEach(s=>r.delete(s)),r}}function ou(t,e=new Map){if(kw(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=ou(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,s]of t.entries())n.set(r,ou(s,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(ou(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,s]of Object.entries(t))n[r]=ou(s,e)}else throw Error(`Unable to clone ${t}`);return n}let ra=class{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new tg,this._blacklist=new tg,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Ki.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e?.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=ou(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const s=Object.assign({},n.spec,r.spec);return r.spec=s,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(i=>{e.tests.forEach(a=>{i.test(a.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((s,i)=>i.resolve(s,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,s,i;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive,disableStackTrace:(i=e.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),s=n.assert==="ignore-optionality",i=r._cast(e,n);if(n.assert!==!1&&!r.isType(i)){if(s&&Dl(i))return i;let a=Lo(e),l=Lo(i);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${a} 
`+(l!==a?`result of cast: ${l}`:""))}return i}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((s,i)=>i.call(this,s,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,s){let{path:i,originalValue:a=e,strict:l=this.spec.strict}=n,d=e;l||(d=this._cast(d,Object.assign({assert:!1},n)));let f=[];for(let p of Object.values(this.internalTests))p&&f.push(p);this.runTests({path:i,value:d,originalValue:a,options:n,tests:f},r,p=>{if(p.length)return s(p,d);this.runTests({path:i,value:d,originalValue:a,options:n,tests:this.tests},r,s)})}runTests(e,n,r){let s=!1,{tests:i,value:a,originalValue:l,path:d,options:f}=e,p=S=>{s||(s=!0,n(S,a))},m=S=>{s||(s=!0,r(S,a))},y=i.length,x=[];if(!y)return m([]);let b={value:a,originalValue:l,path:d,options:f,schema:this};for(let S=0;S<i.length;S++){const C=i[S];C(b,p,function(k){k&&(Array.isArray(k)?x.push(...k):x.push(k)),--y<=0&&m(x)})}}asNestedTest({key:e,index:n,parent:r,parentPath:s,originalParent:i,options:a}){const l=e??n;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const d=typeof l=="number";let f=r[l];const p=Object.assign({},a,{strict:!0,parent:r,value:f,originalValue:i[l],key:void 0,[d?"index":"key"]:l,path:d||l.includes(".")?`${s||""}[${d?l:`"${l}"`}]`:(s?`${s}.`:"")+e});return(m,y,x)=>this.resolve(p)._validate(f,p,y,x)}validate(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),i=(r=n?.disableStackTrace)!=null?r:s.spec.disableStackTrace;return new Promise((a,l)=>s._validate(e,n,(d,f)=>{Ss.isError(d)&&(d.value=f),l(d)},(d,f)=>{d.length?l(new Ss(d,f,void 0,void 0,i)):a(f)}))}validateSync(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),i,a=(r=n?.disableStackTrace)!=null?r:s.spec.disableStackTrace;return s._validate(e,Object.assign({},n,{sync:!0}),(l,d)=>{throw Ss.isError(l)&&(l.value=d),l},(l,d)=>{if(l.length)throw new Ss(l,e,void 0,void 0,a);i=d}),i}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(Ss.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(Ss.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):ou(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=Gc({message:n,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=Gc({message:n,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=Ki.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Ki.notNull){return this.nullability(!1,e)}required(e=Ki.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Ki.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),s=Gc(n),i=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(a=>!(a.OPTIONS.name===n.name&&(i||a.OPTIONS.test===s.OPTIONS.test))),r.tests.push(s),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),s=R5(e).map(i=>new fc(i));return s.forEach(i=>{i.isSibling&&r.deps.push(i.key)}),r.conditions.push(typeof n=="function"?new eg(s,n):eg.fromOptions(s,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=Gc({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=Ki.oneOf){let r=this.clone();return e.forEach(s=>{r._whitelist.add(s),r._blacklist.delete(s)}),r.internalTests.whiteList=Gc({message:n,name:"oneOf",skipAbsent:!0,test(s){let i=this.schema._whitelist,a=i.resolveAll(this.resolve);return a.includes(s)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:a}})}}),r}notOneOf(e,n=Ki.notOneOf){let r=this.clone();return e.forEach(s=>{r._blacklist.add(s),r._whitelist.delete(s)}),r.internalTests.blacklist=Gc({message:n,name:"notOneOf",test(s){let i=this.schema._blacklist,a=i.resolveAll(this.resolve);return a.includes(s)?this.createError({params:{values:Array.from(i).join(", "),resolved:a}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:s,optional:i,nullable:a}=n.spec;return{meta:s,label:r,optional:i,nullable:a,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(d=>({name:d.OPTIONS.name,params:d.OPTIONS.params})).filter((d,f,p)=>p.findIndex(m=>m.name===d.name)===f)}}};ra.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])ra.prototype[`${t}At`]=function(e,n,r={}){const{parent:s,parentPath:i,schema:a}=C9(this,e,n,r.context);return a[t](s&&s[i],Object.assign({},r,{parent:s,path:e}))};for(const t of["equals","is"])ra.prototype[t]=ra.prototype.oneOf;for(const t of["not","nope"])ra.prototype[t]=ra.prototype.notOneOf;const N9=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function j9(t){const e=Db(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function Db(t){var e,n;const r=N9.exec(t);return r?{year:Ta(r[1]),month:Ta(r[2],1)-1,day:Ta(r[3],1),hour:Ta(r[4]),minute:Ta(r[5]),second:Ta(r[6]),millisecond:r[7]?Ta(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Ta(r[10]),minuteOffset:Ta(r[11])}:null}function Ta(t,e=0){return Number(t)||e}let T9=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,E9=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,A9=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,k9="^\\d{4}-\\d{2}-\\d{2}",O9="\\d{2}:\\d{2}:\\d{2}",M9="(([+-]\\d{2}(:?\\d{2})?)|Z)",D9=new RegExp(`${k9}T${O9}(\\.\\d+)?${M9}$`),R9=t=>Dl(t)||t===t.trim(),_9={}.toString();function Rb(){return new z5}class z5 extends ra{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const s=e!=null&&e.toString?e.toString():e;return s===_9?e:s})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||Ki.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=vs.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=vs.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=vs.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,s,i;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:s,name:i}=n:s=n),this.test({name:i||"matches",message:s||vs.matches,params:{regex:e},skipAbsent:!0,test:a=>a===""&&r||a.search(e)!==-1})}email(e=vs.email){return this.matches(T9,{name:"email",message:e,excludeEmptyString:!0})}url(e=vs.url){return this.matches(E9,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=vs.uuid){return this.matches(A9,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,s;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:s=void 0}=e:n=e),this.matches(D9,{name:"datetime",message:n||vs.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||vs.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:i=>{if(!i||r)return!0;const a=Db(i);return a?!!a.z:!1}}).test({name:"datetime_precision",message:n||vs.datetime_precision,params:{precision:s},skipAbsent:!0,test:i=>{if(!i||s==null)return!0;const a=Db(i);return a?a.precision===s:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=vs.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:R9})}lowercase(e=vs.lowercase){return this.transform(n=>Dl(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Dl(n)||n===n.toLowerCase()})}uppercase(e=vs.uppercase){return this.transform(n=>Dl(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Dl(n)||n===n.toUpperCase()})}}Rb.prototype=z5.prototype;let L9=new Date(""),P9=t=>Object.prototype.toString.call(t)==="[object Date]";class Ow extends ra{constructor(){super({type:"date",check(e){return P9(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=j9(e),isNaN(e)?Ow.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(fc.isRef(e))r=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=s}return r}min(e,n=Mb.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(r)}})}max(e,n=Mb.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(r)}})}}Ow.INVALID_DATE=L9;function z9(t,e=[]){let n=[],r=new Set,s=new Set(e.map(([a,l])=>`${a}-${l}`));function i(a,l){let d=$l.split(a)[0];r.add(d),s.has(`${l}-${d}`)||n.push([l,d])}for(const a of Object.keys(t)){let l=t[a];r.add(a),fc.isRef(l)&&l.isSibling?i(l.path,a):kw(l)&&"deps"in l&&l.deps.forEach(d=>i(d,a))}return d9.array(Array.from(r),n).reverse()}function VT(t,e){let n=1/0;return t.some((r,s)=>{var i;if((i=e.path)!=null&&i.includes(r))return n=s,!0}),n}function I5(t){return(e,n)=>VT(t,e)-VT(t,n)}const I9=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function Om(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=Om(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Om(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Om)}):"optional"in t?t.optional():t}const B9=(t,e)=>{const n=[...$l.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),s=$l.getter($l.join(n),!0)(t);return!!(s&&r in s)};let HT=t=>Object.prototype.toString.call(t)==="[object Object]";function qT(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const F9=I5([]);function B5(t){return new F5(t)}class F5 extends ra{constructor(e){super({type:"object",check(n){return HT(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=F9,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let s=super._cast(e,n);if(s===void 0)return this.getDefault(n);if(!this._typeCheck(s))return s;let i=this.fields,a=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(s).filter(m=>!this._nodes.includes(m))),d={},f=Object.assign({},n,{parent:d,__validating:n.__validating||!1}),p=!1;for(const m of l){let y=i[m],x=m in s;if(y){let b,S=s[m];f.path=(n.path?`${n.path}.`:"")+m,y=y.resolve({value:S,context:n.context,parent:d});let C=y instanceof ra?y.spec:void 0,N=C?.strict;if(C!=null&&C.strip){p=p||m in s;continue}b=!n.__validating||!N?y.cast(s[m],f):s[m],b!==void 0&&(d[m]=b)}else x&&!a&&(d[m]=s[m]);(x!==m in d||d[m]!==s[m])&&(p=!0)}return p?d:s}_validate(e,n={},r,s){let{from:i=[],originalValue:a=e,recursive:l=this.spec.recursive}=n;n.from=[{schema:this,value:a},...i],n.__validating=!0,n.originalValue=a,super._validate(e,n,r,(d,f)=>{if(!l||!HT(f)){s(d,f);return}a=a||f;let p=[];for(let m of this._nodes){let y=this.fields[m];!y||fc.isRef(y)||p.push(y.asNestedTest({options:n,key:m,parent:f,parentPath:n.path,originalParent:a}))}this.runTests({tests:p,value:f,originalValue:a,options:n},r,m=>{s(m.sort(this._sortErrors).concat(d),f)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[s,i]of Object.entries(this.fields)){const a=r[s];r[s]=a===void 0?i:a}return n.withMutation(s=>s.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var s;const i=this.fields[r];let a=e;(s=a)!=null&&s.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[r]})),n[r]=i&&"getDefault"in i?i.getDefault(a):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=z9(e,n),r._sortErrors=I5(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let s=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),s=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),s)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return Om(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,s])=>e.includes(r)&&e.includes(s)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let s=$l.getter(e,!0);return this.transform(i=>{if(!i)return i;let a=i;return B9(i,e)&&(a=Object.assign({},i),r||delete a[e],a[n]=s(i)),a})}json(){return this.transform(I9)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||km.exact,test(n){if(n==null)return!0;const r=qT(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=km.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(s){if(s==null)return!0;const i=qT(this.schema,s);return!e||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=km.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const s of Object.keys(n))r[e(s)]=n[s];return r})}camelCase(){return this.transformKeys(fv.camelCase)}snakeCase(){return this.transformKeys(fv.snakeCase)}constantCase(){return this.transformKeys(e=>fv.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[i,a]of Object.entries(n.fields)){var s;let l=e;(s=l)!=null&&s.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[i]})),r.fields[i]=a.describe(l)}return r}}B5.prototype=F5.prototype;var $9=function(e){return U9(e)&&!V9(e)};function U9(t){return!!t&&typeof t=="object"}function V9(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||K9(t)}var H9=typeof Symbol=="function"&&Symbol.for,q9=H9?Symbol.for("react.element"):60103;function K9(t){return t.$$typeof===q9}function Y9(t){return Array.isArray(t)?[]:{}}function ng(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Bf(Y9(t),t,e):t}function W9(t,e,n){return t.concat(e).map(function(r){return ng(r,n)})}function G9(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(s){r[s]=ng(t[s],n)}),Object.keys(e).forEach(function(s){!n.isMergeableObject(e[s])||!t[s]?r[s]=ng(e[s],n):r[s]=Bf(t[s],e[s],n)}),r}function Bf(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||W9,n.isMergeableObject=n.isMergeableObject||$9;var r=Array.isArray(e),s=Array.isArray(t),i=r===s;return i?r?n.arrayMerge(t,e,n):G9(t,e,n):ng(e,n)}Bf.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,s){return Bf(r,s,n)},{})};var _b=Bf,$5=typeof global=="object"&&global&&global.Object===Object&&global,X9=typeof self=="object"&&self&&self.Object===Object&&self,ca=$5||X9||Function("return this")(),Uo=ca.Symbol,U5=Object.prototype,J9=U5.hasOwnProperty,Q9=U5.toString,Yd=Uo?Uo.toStringTag:void 0;function Z9(t){var e=J9.call(t,Yd),n=t[Yd];try{t[Yd]=void 0;var r=!0}catch{}var s=Q9.call(t);return r&&(e?t[Yd]=n:delete t[Yd]),s}var ez=Object.prototype,tz=ez.toString;function nz(t){return tz.call(t)}var rz="[object Null]",sz="[object Undefined]",KT=Uo?Uo.toStringTag:void 0;function hc(t){return t==null?t===void 0?sz:rz:KT&&KT in Object(t)?Z9(t):nz(t)}function V5(t,e){return function(n){return t(e(n))}}var Mw=V5(Object.getPrototypeOf,Object);function pc(t){return t!=null&&typeof t=="object"}var iz="[object Object]",az=Function.prototype,oz=Object.prototype,H5=az.toString,lz=oz.hasOwnProperty,cz=H5.call(Object);function YT(t){if(!pc(t)||hc(t)!=iz)return!1;var e=Mw(t);if(e===null)return!0;var n=lz.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&H5.call(n)==cz}function uz(){this.__data__=[],this.size=0}function q5(t,e){return t===e||t!==t&&e!==e}function yy(t,e){for(var n=t.length;n--;)if(q5(t[n][0],e))return n;return-1}var dz=Array.prototype,fz=dz.splice;function hz(t){var e=this.__data__,n=yy(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():fz.call(e,n,1),--this.size,!0}function pz(t){var e=this.__data__,n=yy(e,t);return n<0?void 0:e[n][1]}function mz(t){return yy(this.__data__,t)>-1}function gz(t,e){var n=this.__data__,r=yy(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Ya(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ya.prototype.clear=uz;Ya.prototype.delete=hz;Ya.prototype.get=pz;Ya.prototype.has=mz;Ya.prototype.set=gz;function yz(){this.__data__=new Ya,this.size=0}function xz(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function vz(t){return this.__data__.get(t)}function bz(t){return this.__data__.has(t)}function xh(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var wz="[object AsyncFunction]",Sz="[object Function]",Cz="[object GeneratorFunction]",Nz="[object Proxy]";function K5(t){if(!xh(t))return!1;var e=hc(t);return e==Sz||e==Cz||e==wz||e==Nz}var hv=ca["__core-js_shared__"],WT=function(){var t=/[^.]+$/.exec(hv&&hv.keys&&hv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function jz(t){return!!WT&&WT in t}var Tz=Function.prototype,Ez=Tz.toString;function mc(t){if(t!=null){try{return Ez.call(t)}catch{}try{return t+""}catch{}}return""}var Az=/[\\^$.*+?()[\]{}|]/g,kz=/^\[object .+?Constructor\]$/,Oz=Function.prototype,Mz=Object.prototype,Dz=Oz.toString,Rz=Mz.hasOwnProperty,_z=RegExp("^"+Dz.call(Rz).replace(Az,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Lz(t){if(!xh(t)||jz(t))return!1;var e=K5(t)?_z:kz;return e.test(mc(t))}function Pz(t,e){return t?.[e]}function gc(t,e){var n=Pz(t,e);return Lz(n)?n:void 0}var Ff=gc(ca,"Map"),$f=gc(Object,"create");function zz(){this.__data__=$f?$f(null):{},this.size=0}function Iz(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Bz="__lodash_hash_undefined__",Fz=Object.prototype,$z=Fz.hasOwnProperty;function Uz(t){var e=this.__data__;if($f){var n=e[t];return n===Bz?void 0:n}return $z.call(e,t)?e[t]:void 0}var Vz=Object.prototype,Hz=Vz.hasOwnProperty;function qz(t){var e=this.__data__;return $f?e[t]!==void 0:Hz.call(e,t)}var Kz="__lodash_hash_undefined__";function Yz(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=$f&&e===void 0?Kz:e,this}function Zl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Zl.prototype.clear=zz;Zl.prototype.delete=Iz;Zl.prototype.get=Uz;Zl.prototype.has=qz;Zl.prototype.set=Yz;function Wz(){this.size=0,this.__data__={hash:new Zl,map:new(Ff||Ya),string:new Zl}}function Gz(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function xy(t,e){var n=t.__data__;return Gz(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Xz(t){var e=xy(this,t).delete(t);return this.size-=e?1:0,e}function Jz(t){return xy(this,t).get(t)}function Qz(t){return xy(this,t).has(t)}function Zz(t,e){var n=xy(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Go(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Go.prototype.clear=Wz;Go.prototype.delete=Xz;Go.prototype.get=Jz;Go.prototype.has=Qz;Go.prototype.set=Zz;var eI=200;function tI(t,e){var n=this.__data__;if(n instanceof Ya){var r=n.__data__;if(!Ff||r.length<eI-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Go(r)}return n.set(t,e),this.size=n.size,this}function _u(t){var e=this.__data__=new Ya(t);this.size=e.size}_u.prototype.clear=yz;_u.prototype.delete=xz;_u.prototype.get=vz;_u.prototype.has=bz;_u.prototype.set=tI;function nI(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var GT=function(){try{var t=gc(Object,"defineProperty");return t({},"",{}),t}catch{}}();function Y5(t,e,n){e=="__proto__"&&GT?GT(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var rI=Object.prototype,sI=rI.hasOwnProperty;function W5(t,e,n){var r=t[e];(!(sI.call(t,e)&&q5(r,n))||n===void 0&&!(e in t))&&Y5(t,e,n)}function vy(t,e,n,r){var s=!n;n||(n={});for(var i=-1,a=e.length;++i<a;){var l=e[i],d=void 0;d===void 0&&(d=t[l]),s?Y5(n,l,d):W5(n,l,d)}return n}function iI(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var aI="[object Arguments]";function XT(t){return pc(t)&&hc(t)==aI}var G5=Object.prototype,oI=G5.hasOwnProperty,lI=G5.propertyIsEnumerable,cI=XT(function(){return arguments}())?XT:function(t){return pc(t)&&oI.call(t,"callee")&&!lI.call(t,"callee")},vh=Array.isArray;function uI(){return!1}var X5=typeof Vs=="object"&&Vs&&!Vs.nodeType&&Vs,JT=X5&&typeof Hs=="object"&&Hs&&!Hs.nodeType&&Hs,dI=JT&&JT.exports===X5,QT=dI?ca.Buffer:void 0,fI=QT?QT.isBuffer:void 0,J5=fI||uI,hI=9007199254740991,pI=/^(?:0|[1-9]\d*)$/;function mI(t,e){var n=typeof t;return e=e??hI,!!e&&(n=="number"||n!="symbol"&&pI.test(t))&&t>-1&&t%1==0&&t<e}var gI=9007199254740991;function Q5(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=gI}var yI="[object Arguments]",xI="[object Array]",vI="[object Boolean]",bI="[object Date]",wI="[object Error]",SI="[object Function]",CI="[object Map]",NI="[object Number]",jI="[object Object]",TI="[object RegExp]",EI="[object Set]",AI="[object String]",kI="[object WeakMap]",OI="[object ArrayBuffer]",MI="[object DataView]",DI="[object Float32Array]",RI="[object Float64Array]",_I="[object Int8Array]",LI="[object Int16Array]",PI="[object Int32Array]",zI="[object Uint8Array]",II="[object Uint8ClampedArray]",BI="[object Uint16Array]",FI="[object Uint32Array]",$n={};$n[DI]=$n[RI]=$n[_I]=$n[LI]=$n[PI]=$n[zI]=$n[II]=$n[BI]=$n[FI]=!0;$n[yI]=$n[xI]=$n[OI]=$n[vI]=$n[MI]=$n[bI]=$n[wI]=$n[SI]=$n[CI]=$n[NI]=$n[jI]=$n[TI]=$n[EI]=$n[AI]=$n[kI]=!1;function $I(t){return pc(t)&&Q5(t.length)&&!!$n[hc(t)]}function Dw(t){return function(e){return t(e)}}var Z5=typeof Vs=="object"&&Vs&&!Vs.nodeType&&Vs,ff=Z5&&typeof Hs=="object"&&Hs&&!Hs.nodeType&&Hs,UI=ff&&ff.exports===Z5,pv=UI&&$5.process,vu=function(){try{var t=ff&&ff.require&&ff.require("util").types;return t||pv&&pv.binding&&pv.binding("util")}catch{}}(),ZT=vu&&vu.isTypedArray,VI=ZT?Dw(ZT):$I,HI=Object.prototype,qI=HI.hasOwnProperty;function eO(t,e){var n=vh(t),r=!n&&cI(t),s=!n&&!r&&J5(t),i=!n&&!r&&!s&&VI(t),a=n||r||s||i,l=a?iI(t.length,String):[],d=l.length;for(var f in t)(e||qI.call(t,f))&&!(a&&(f=="length"||s&&(f=="offset"||f=="parent")||i&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||mI(f,d)))&&l.push(f);return l}var KI=Object.prototype;function Rw(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||KI;return t===n}var YI=V5(Object.keys,Object),WI=Object.prototype,GI=WI.hasOwnProperty;function XI(t){if(!Rw(t))return YI(t);var e=[];for(var n in Object(t))GI.call(t,n)&&n!="constructor"&&e.push(n);return e}function tO(t){return t!=null&&Q5(t.length)&&!K5(t)}function _w(t){return tO(t)?eO(t):XI(t)}function JI(t,e){return t&&vy(e,_w(e),t)}function QI(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var ZI=Object.prototype,eB=ZI.hasOwnProperty;function tB(t){if(!xh(t))return QI(t);var e=Rw(t),n=[];for(var r in t)r=="constructor"&&(e||!eB.call(t,r))||n.push(r);return n}function Lw(t){return tO(t)?eO(t,!0):tB(t)}function nB(t,e){return t&&vy(e,Lw(e),t)}var nO=typeof Vs=="object"&&Vs&&!Vs.nodeType&&Vs,eE=nO&&typeof Hs=="object"&&Hs&&!Hs.nodeType&&Hs,rB=eE&&eE.exports===nO,tE=rB?ca.Buffer:void 0,nE=tE?tE.allocUnsafe:void 0;function sB(t,e){if(e)return t.slice();var n=t.length,r=nE?nE(n):new t.constructor(n);return t.copy(r),r}function rO(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function iB(t,e){for(var n=-1,r=t==null?0:t.length,s=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[s++]=a)}return i}function sO(){return[]}var aB=Object.prototype,oB=aB.propertyIsEnumerable,rE=Object.getOwnPropertySymbols,Pw=rE?function(t){return t==null?[]:(t=Object(t),iB(rE(t),function(e){return oB.call(t,e)}))}:sO;function lB(t,e){return vy(t,Pw(t),e)}function iO(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t}var cB=Object.getOwnPropertySymbols,aO=cB?function(t){for(var e=[];t;)iO(e,Pw(t)),t=Mw(t);return e}:sO;function uB(t,e){return vy(t,aO(t),e)}function oO(t,e,n){var r=e(t);return vh(t)?r:iO(r,n(t))}function dB(t){return oO(t,_w,Pw)}function fB(t){return oO(t,Lw,aO)}var Lb=gc(ca,"DataView"),Pb=gc(ca,"Promise"),zb=gc(ca,"Set"),Ib=gc(ca,"WeakMap"),sE="[object Map]",hB="[object Object]",iE="[object Promise]",aE="[object Set]",oE="[object WeakMap]",lE="[object DataView]",pB=mc(Lb),mB=mc(Ff),gB=mc(Pb),yB=mc(zb),xB=mc(Ib),Pa=hc;(Lb&&Pa(new Lb(new ArrayBuffer(1)))!=lE||Ff&&Pa(new Ff)!=sE||Pb&&Pa(Pb.resolve())!=iE||zb&&Pa(new zb)!=aE||Ib&&Pa(new Ib)!=oE)&&(Pa=function(t){var e=hc(t),n=e==hB?t.constructor:void 0,r=n?mc(n):"";if(r)switch(r){case pB:return lE;case mB:return sE;case gB:return iE;case yB:return aE;case xB:return oE}return e});var vB=Object.prototype,bB=vB.hasOwnProperty;function wB(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&bB.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var cE=ca.Uint8Array;function zw(t){var e=new t.constructor(t.byteLength);return new cE(e).set(new cE(t)),e}function SB(t,e){var n=e?zw(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var CB=/\w*$/;function NB(t){var e=new t.constructor(t.source,CB.exec(t));return e.lastIndex=t.lastIndex,e}var uE=Uo?Uo.prototype:void 0,dE=uE?uE.valueOf:void 0;function jB(t){return dE?Object(dE.call(t)):{}}function TB(t,e){var n=e?zw(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var EB="[object Boolean]",AB="[object Date]",kB="[object Map]",OB="[object Number]",MB="[object RegExp]",DB="[object Set]",RB="[object String]",_B="[object Symbol]",LB="[object ArrayBuffer]",PB="[object DataView]",zB="[object Float32Array]",IB="[object Float64Array]",BB="[object Int8Array]",FB="[object Int16Array]",$B="[object Int32Array]",UB="[object Uint8Array]",VB="[object Uint8ClampedArray]",HB="[object Uint16Array]",qB="[object Uint32Array]";function KB(t,e,n){var r=t.constructor;switch(e){case LB:return zw(t);case EB:case AB:return new r(+t);case PB:return SB(t,n);case zB:case IB:case BB:case FB:case $B:case UB:case VB:case HB:case qB:return TB(t,n);case kB:return new r;case OB:case RB:return new r(t);case MB:return NB(t);case DB:return new r;case _B:return jB(t)}}var fE=Object.create,YB=function(){function t(){}return function(e){if(!xh(e))return{};if(fE)return fE(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function WB(t){return typeof t.constructor=="function"&&!Rw(t)?YB(Mw(t)):{}}var GB="[object Map]";function XB(t){return pc(t)&&Pa(t)==GB}var hE=vu&&vu.isMap,JB=hE?Dw(hE):XB,QB="[object Set]";function ZB(t){return pc(t)&&Pa(t)==QB}var pE=vu&&vu.isSet,eF=pE?Dw(pE):ZB,tF=1,nF=2,rF=4,lO="[object Arguments]",sF="[object Array]",iF="[object Boolean]",aF="[object Date]",oF="[object Error]",cO="[object Function]",lF="[object GeneratorFunction]",cF="[object Map]",uF="[object Number]",uO="[object Object]",dF="[object RegExp]",fF="[object Set]",hF="[object String]",pF="[object Symbol]",mF="[object WeakMap]",gF="[object ArrayBuffer]",yF="[object DataView]",xF="[object Float32Array]",vF="[object Float64Array]",bF="[object Int8Array]",wF="[object Int16Array]",SF="[object Int32Array]",CF="[object Uint8Array]",NF="[object Uint8ClampedArray]",jF="[object Uint16Array]",TF="[object Uint32Array]",In={};In[lO]=In[sF]=In[gF]=In[yF]=In[iF]=In[aF]=In[xF]=In[vF]=In[bF]=In[wF]=In[SF]=In[cF]=In[uF]=In[uO]=In[dF]=In[fF]=In[hF]=In[pF]=In[CF]=In[NF]=In[jF]=In[TF]=!0;In[oF]=In[cO]=In[mF]=!1;function hf(t,e,n,r,s,i){var a,l=e&tF,d=e&nF,f=e&rF;if(a!==void 0)return a;if(!xh(t))return t;var p=vh(t);if(p){if(a=wB(t),!l)return rO(t,a)}else{var m=Pa(t),y=m==cO||m==lF;if(J5(t))return sB(t,l);if(m==uO||m==lO||y&&!s){if(a=d||y?{}:WB(t),!l)return d?uB(t,nB(a,t)):lB(t,JI(a,t))}else{if(!In[m])return s?t:{};a=KB(t,m,l)}}i||(i=new _u);var x=i.get(t);if(x)return x;i.set(t,a),eF(t)?t.forEach(function(C){a.add(hf(C,e,n,C,t,i))}):JB(t)&&t.forEach(function(C,N){a.set(N,hf(C,e,n,N,t,i))});var b=f?d?fB:dB:d?Lw:_w,S=p?void 0:b(t);return nI(S||t,function(C,N){S&&(N=C,C=t[N]),W5(a,N,hf(C,e,n,N,t,i))}),a}var EF=1,AF=4;function Gp(t){return hf(t,EF|AF)}var mv,mE;function kF(){if(mE)return mv;mE=1;var t=Array.isArray,e=Object.keys,n=Object.prototype.hasOwnProperty,r=typeof Element<"u";function s(i,a){if(i===a)return!0;if(i&&a&&typeof i=="object"&&typeof a=="object"){var l=t(i),d=t(a),f,p,m;if(l&&d){if(p=i.length,p!=a.length)return!1;for(f=p;f--!==0;)if(!s(i[f],a[f]))return!1;return!0}if(l!=d)return!1;var y=i instanceof Date,x=a instanceof Date;if(y!=x)return!1;if(y&&x)return i.getTime()==a.getTime();var b=i instanceof RegExp,S=a instanceof RegExp;if(b!=S)return!1;if(b&&S)return i.toString()==a.toString();var C=e(i);if(p=C.length,p!==e(a).length)return!1;for(f=p;f--!==0;)if(!n.call(a,C[f]))return!1;if(r&&i instanceof Element&&a instanceof Element)return i===a;for(f=p;f--!==0;)if(m=C[f],!(m==="_owner"&&i.$$typeof)&&!s(i[m],a[m]))return!1;return!0}return i!==i&&a!==a}return mv=function(a,l){try{return s(a,l)}catch(d){if(d.message&&d.message.match(/stack|recursion/i)||d.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",d.name,d.message),!1;throw d}},mv}var OF=kF();const jl=Ka(OF);var MF=4;function gE(t){return hf(t,MF)}function dO(t,e){for(var n=-1,r=t==null?0:t.length,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s}var DF="[object Symbol]";function Iw(t){return typeof t=="symbol"||pc(t)&&hc(t)==DF}var RF="Expected a function";function Bw(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(RF);var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var a=t.apply(this,r);return n.cache=i.set(s,a)||i,a};return n.cache=new(Bw.Cache||Go),n}Bw.Cache=Go;var _F=500;function LF(t){var e=Bw(t,function(r){return n.size===_F&&n.clear(),r}),n=e.cache;return e}var PF=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zF=/\\(\\)?/g,IF=LF(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(PF,function(n,r,s,i){e.push(s?i.replace(zF,"$1"):r||n)}),e});function BF(t){if(typeof t=="string"||Iw(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var yE=Uo?Uo.prototype:void 0,xE=yE?yE.toString:void 0;function fO(t){if(typeof t=="string")return t;if(vh(t))return dO(t,fO)+"";if(Iw(t))return xE?xE.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function FF(t){return t==null?"":fO(t)}function hO(t){return vh(t)?dO(t,BF):Iw(t)?[t]:rO(IF(FF(t)))}var gv={exports:{}},En={};var vE;function $F(){if(vE)return En;vE=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,s=t?Symbol.for("react.strict_mode"):60108,i=t?Symbol.for("react.profiler"):60114,a=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,d=t?Symbol.for("react.async_mode"):60111,f=t?Symbol.for("react.concurrent_mode"):60111,p=t?Symbol.for("react.forward_ref"):60112,m=t?Symbol.for("react.suspense"):60113,y=t?Symbol.for("react.suspense_list"):60120,x=t?Symbol.for("react.memo"):60115,b=t?Symbol.for("react.lazy"):60116,S=t?Symbol.for("react.block"):60121,C=t?Symbol.for("react.fundamental"):60117,N=t?Symbol.for("react.responder"):60118,k=t?Symbol.for("react.scope"):60119;function M(E){if(typeof E=="object"&&E!==null){var A=E.$$typeof;switch(A){case e:switch(E=E.type,E){case d:case f:case r:case i:case s:case m:return E;default:switch(E=E&&E.$$typeof,E){case l:case p:case b:case x:case a:return E;default:return A}}case n:return A}}}function D(E){return M(E)===f}return En.AsyncMode=d,En.ConcurrentMode=f,En.ContextConsumer=l,En.ContextProvider=a,En.Element=e,En.ForwardRef=p,En.Fragment=r,En.Lazy=b,En.Memo=x,En.Portal=n,En.Profiler=i,En.StrictMode=s,En.Suspense=m,En.isAsyncMode=function(E){return D(E)||M(E)===d},En.isConcurrentMode=D,En.isContextConsumer=function(E){return M(E)===l},En.isContextProvider=function(E){return M(E)===a},En.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===e},En.isForwardRef=function(E){return M(E)===p},En.isFragment=function(E){return M(E)===r},En.isLazy=function(E){return M(E)===b},En.isMemo=function(E){return M(E)===x},En.isPortal=function(E){return M(E)===n},En.isProfiler=function(E){return M(E)===i},En.isStrictMode=function(E){return M(E)===s},En.isSuspense=function(E){return M(E)===m},En.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===r||E===f||E===i||E===s||E===m||E===y||typeof E=="object"&&E!==null&&(E.$$typeof===b||E.$$typeof===x||E.$$typeof===a||E.$$typeof===l||E.$$typeof===p||E.$$typeof===C||E.$$typeof===N||E.$$typeof===k||E.$$typeof===S)},En.typeOf=M,En}var bE;function UF(){return bE||(bE=1,gv.exports=$F()),gv.exports}var yv,wE;function VF(){if(wE)return yv;wE=1;var t=UF(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[t.ForwardRef]=r,i[t.Memo]=s;function a(b){return t.isMemo(b)?s:i[b.$$typeof]||e}var l=Object.defineProperty,d=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,y=Object.prototype;function x(b,S,C){if(typeof S!="string"){if(y){var N=m(S);N&&N!==y&&x(b,N,C)}var k=d(S);f&&(k=k.concat(f(S)));for(var M=a(b),D=a(S),E=0;E<k.length;++E){var A=k[E];if(!n[A]&&!(C&&C[A])&&!(D&&D[A])&&!(M&&M[A])){var F=p(S,A);try{l(b,A,F)}catch{}}}}return b}return yv=x,yv}VF();function _r(){return _r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_r.apply(this,arguments)}function pO(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var by=j.createContext(void 0);by.displayName="FormikContext";by.Provider;by.Consumer;function HF(){var t=j.useContext(by);return t}var wi=function(e){return typeof e=="function"},wy=function(e){return e!==null&&typeof e=="object"},qF=function(e){return String(Math.floor(Number(e)))===e},xv=function(e){return Object.prototype.toString.call(e)==="[object String]"},vv=function(e){return wy(e)&&wi(e.then)};function Is(t,e,n,r){r===void 0&&(r=0);for(var s=hO(e);t&&r<s.length;)t=t[s[r++]];return r!==s.length&&!t||t===void 0?n:t}function Ul(t,e,n){for(var r=gE(t),s=r,i=0,a=hO(e);i<a.length-1;i++){var l=a[i],d=Is(t,a.slice(0,i+1));if(d&&(wy(d)||Array.isArray(d)))s=s[l]=gE(d);else{var f=a[i+1];s=s[l]=qF(f)&&Number(f)>=0?[]:{}}}return(i===0?t:s)[a[i]]===n?t:(n===void 0?delete s[a[i]]:s[a[i]]=n,i===0&&n===void 0&&delete r[a[i]],r)}function mO(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var s=0,i=Object.keys(t);s<i.length;s++){var a=i[s],l=t[a];wy(l)?n.get(l)||(n.set(l,!0),r[a]=Array.isArray(l)?[]:{},mO(l,e,n,r[a])):r[a]=e}return r}function KF(t,e){switch(e.type){case"SET_VALUES":return _r({},t,{values:e.payload});case"SET_TOUCHED":return _r({},t,{touched:e.payload});case"SET_ERRORS":return jl(t.errors,e.payload)?t:_r({},t,{errors:e.payload});case"SET_STATUS":return _r({},t,{status:e.payload});case"SET_ISSUBMITTING":return _r({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return _r({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return _r({},t,{values:Ul(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return _r({},t,{touched:Ul(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return _r({},t,{errors:Ul(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return _r({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return _r({},t,{touched:mO(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return _r({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return _r({},t,{isSubmitting:!1});default:return t}}var wl={},Xp={};function YF(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,s=r===void 0?!0:r,i=t.validateOnMount,a=i===void 0?!1:i,l=t.isInitialValid,d=t.enableReinitialize,f=d===void 0?!1:d,p=t.onSubmit,m=pO(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),y=_r({validateOnChange:n,validateOnBlur:s,validateOnMount:a,onSubmit:p},m),x=j.useRef(y.initialValues),b=j.useRef(y.initialErrors||wl),S=j.useRef(y.initialTouched||Xp),C=j.useRef(y.initialStatus),N=j.useRef(!1),k=j.useRef({});j.useEffect(function(){return N.current=!0,function(){N.current=!1}},[]);var M=j.useState(0),D=M[1],E=j.useRef({values:Gp(y.initialValues),errors:Gp(y.initialErrors)||wl,touched:Gp(y.initialTouched)||Xp,status:Gp(y.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),A=E.current,F=j.useCallback(function(I){var fe=E.current;E.current=KF(fe,I),fe!==E.current&&D(function(we){return we+1})},[]),H=j.useCallback(function(I,fe){return new Promise(function(we,V){var U=y.validate(I,fe);U==null?we(wl):vv(U)?U.then(function(Ce){we(Ce||wl)},function(Ce){V(Ce)}):we(U)})},[y.validate]),Z=j.useCallback(function(I,fe){var we=y.validationSchema,V=wi(we)?we(fe):we,U=fe&&V.validateAt?V.validateAt(fe,I):GF(I,V);return new Promise(function(Ce,et){U.then(function(){Ce(wl)},function(ht){ht.name==="ValidationError"?Ce(WF(ht)):et(ht)})})},[y.validationSchema]),ve=j.useCallback(function(I,fe){return new Promise(function(we){return we(k.current[I].validate(fe))})},[]),ue=j.useCallback(function(I){var fe=Object.keys(k.current).filter(function(V){return wi(k.current[V].validate)}),we=fe.length>0?fe.map(function(V){return ve(V,Is(I,V))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(we).then(function(V){return V.reduce(function(U,Ce,et){return Ce==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||Ce&&(U=Ul(U,fe[et],Ce)),U},{})})},[ve]),oe=j.useCallback(function(I){return Promise.all([ue(I),y.validationSchema?Z(I):{},y.validate?H(I):{}]).then(function(fe){var we=fe[0],V=fe[1],U=fe[2],Ce=_b.all([we,V,U],{arrayMerge:XF});return Ce})},[y.validate,y.validationSchema,ue,H,Z]),te=ti(function(I){return I===void 0&&(I=A.values),F({type:"SET_ISVALIDATING",payload:!0}),oe(I).then(function(fe){return N.current&&(F({type:"SET_ISVALIDATING",payload:!1}),F({type:"SET_ERRORS",payload:fe})),fe})});j.useEffect(function(){a&&N.current===!0&&jl(x.current,y.initialValues)&&te(x.current)},[a,te]);var ne=j.useCallback(function(I){var fe=I&&I.values?I.values:x.current,we=I&&I.errors?I.errors:b.current?b.current:y.initialErrors||{},V=I&&I.touched?I.touched:S.current?S.current:y.initialTouched||{},U=I&&I.status?I.status:C.current?C.current:y.initialStatus;x.current=fe,b.current=we,S.current=V,C.current=U;var Ce=function(){F({type:"RESET_FORM",payload:{isSubmitting:!!I&&!!I.isSubmitting,errors:we,touched:V,status:U,values:fe,isValidating:!!I&&!!I.isValidating,submitCount:I&&I.submitCount&&typeof I.submitCount=="number"?I.submitCount:0}})};if(y.onReset){var et=y.onReset(A.values,Ft);vv(et)?et.then(Ce):Ce()}else Ce()},[y.initialErrors,y.initialStatus,y.initialTouched,y.onReset]);j.useEffect(function(){N.current===!0&&!jl(x.current,y.initialValues)&&f&&(x.current=y.initialValues,ne(),a&&te(x.current))},[f,y.initialValues,ne,a,te]),j.useEffect(function(){f&&N.current===!0&&!jl(b.current,y.initialErrors)&&(b.current=y.initialErrors||wl,F({type:"SET_ERRORS",payload:y.initialErrors||wl}))},[f,y.initialErrors]),j.useEffect(function(){f&&N.current===!0&&!jl(S.current,y.initialTouched)&&(S.current=y.initialTouched||Xp,F({type:"SET_TOUCHED",payload:y.initialTouched||Xp}))},[f,y.initialTouched]),j.useEffect(function(){f&&N.current===!0&&!jl(C.current,y.initialStatus)&&(C.current=y.initialStatus,F({type:"SET_STATUS",payload:y.initialStatus}))},[f,y.initialStatus,y.initialTouched]);var xe=ti(function(I){if(k.current[I]&&wi(k.current[I].validate)){var fe=Is(A.values,I),we=k.current[I].validate(fe);return vv(we)?(F({type:"SET_ISVALIDATING",payload:!0}),we.then(function(V){return V}).then(function(V){F({type:"SET_FIELD_ERROR",payload:{field:I,value:V}}),F({type:"SET_ISVALIDATING",payload:!1})})):(F({type:"SET_FIELD_ERROR",payload:{field:I,value:we}}),Promise.resolve(we))}else if(y.validationSchema)return F({type:"SET_ISVALIDATING",payload:!0}),Z(A.values,I).then(function(V){return V}).then(function(V){F({type:"SET_FIELD_ERROR",payload:{field:I,value:Is(V,I)}}),F({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),W=j.useCallback(function(I,fe){var we=fe.validate;k.current[I]={validate:we}},[]),le=j.useCallback(function(I){delete k.current[I]},[]),be=ti(function(I,fe){F({type:"SET_TOUCHED",payload:I});var we=fe===void 0?s:fe;return we?te(A.values):Promise.resolve()}),Fe=j.useCallback(function(I){F({type:"SET_ERRORS",payload:I})},[]),$=ti(function(I,fe){var we=wi(I)?I(A.values):I;F({type:"SET_VALUES",payload:we});var V=fe===void 0?n:fe;return V?te(we):Promise.resolve()}),de=j.useCallback(function(I,fe){F({type:"SET_FIELD_ERROR",payload:{field:I,value:fe}})},[]),ie=ti(function(I,fe,we){F({type:"SET_FIELD_VALUE",payload:{field:I,value:fe}});var V=we===void 0?n:we;return V?te(Ul(A.values,I,fe)):Promise.resolve()}),he=j.useCallback(function(I,fe){var we=fe,V=I,U;if(!xv(I)){I.persist&&I.persist();var Ce=I.target?I.target:I.currentTarget,et=Ce.type,ht=Ce.name,Jt=Ce.id,Pt=Ce.value,an=Ce.checked;Ce.outerHTML;var Qt=Ce.options,Te=Ce.multiple;we=fe||ht||Jt,V=/number|range/.test(et)?(U=parseFloat(Pt),isNaN(U)?"":U):/checkbox/.test(et)?QF(Is(A.values,we),an,Pt):Qt&&Te?JF(Qt):Pt}we&&ie(we,V)},[ie,A.values]),ke=ti(function(I){if(xv(I))return function(fe){return he(fe,I)};he(I)}),ze=ti(function(I,fe,we){fe===void 0&&(fe=!0),F({type:"SET_FIELD_TOUCHED",payload:{field:I,value:fe}});var V=we===void 0?s:we;return V?te(A.values):Promise.resolve()}),Me=j.useCallback(function(I,fe){I.persist&&I.persist();var we=I.target,V=we.name,U=we.id;we.outerHTML;var Ce=fe||V||U;ze(Ce,!0)},[ze]),Ye=ti(function(I){if(xv(I))return function(fe){return Me(fe,I)};Me(I)}),Re=j.useCallback(function(I){wi(I)?F({type:"SET_FORMIK_STATE",payload:I}):F({type:"SET_FORMIK_STATE",payload:function(){return I}})},[]),ut=j.useCallback(function(I){F({type:"SET_STATUS",payload:I})},[]),Ze=j.useCallback(function(I){F({type:"SET_ISSUBMITTING",payload:I})},[]),St=ti(function(){return F({type:"SUBMIT_ATTEMPT"}),te().then(function(I){var fe=I instanceof Error,we=!fe&&Object.keys(I).length===0;if(we){var V;try{if(V=nt(),V===void 0)return}catch(U){throw U}return Promise.resolve(V).then(function(U){return N.current&&F({type:"SUBMIT_SUCCESS"}),U}).catch(function(U){if(N.current)throw F({type:"SUBMIT_FAILURE"}),U})}else if(N.current&&(F({type:"SUBMIT_FAILURE"}),fe))throw I})}),Nt=ti(function(I){I&&I.preventDefault&&wi(I.preventDefault)&&I.preventDefault(),I&&I.stopPropagation&&wi(I.stopPropagation)&&I.stopPropagation(),St().catch(function(fe){console.warn("Warning: An unhandled error was caught from submitForm()",fe)})}),Ft={resetForm:ne,validateForm:te,validateField:xe,setErrors:Fe,setFieldError:de,setFieldTouched:ze,setFieldValue:ie,setStatus:ut,setSubmitting:Ze,setTouched:be,setValues:$,setFormikState:Re,submitForm:St},nt=ti(function(){return p(A.values,Ft)}),ee=ti(function(I){I&&I.preventDefault&&wi(I.preventDefault)&&I.preventDefault(),I&&I.stopPropagation&&wi(I.stopPropagation)&&I.stopPropagation(),ne()}),Ve=j.useCallback(function(I){return{value:Is(A.values,I),error:Is(A.errors,I),touched:!!Is(A.touched,I),initialValue:Is(x.current,I),initialTouched:!!Is(S.current,I),initialError:Is(b.current,I)}},[A.errors,A.touched,A.values]),qe=j.useCallback(function(I){return{setValue:function(we,V){return ie(I,we,V)},setTouched:function(we,V){return ze(I,we,V)},setError:function(we){return de(I,we)}}},[ie,ze,de]),at=j.useCallback(function(I){var fe=wy(I),we=fe?I.name:I,V=Is(A.values,we),U={name:we,value:V,onChange:ke,onBlur:Ye};if(fe){var Ce=I.type,et=I.value,ht=I.as,Jt=I.multiple;Ce==="checkbox"?et===void 0?U.checked=!!V:(U.checked=!!(Array.isArray(V)&&~V.indexOf(et)),U.value=et):Ce==="radio"?(U.checked=V===et,U.value=et):ht==="select"&&Jt&&(U.value=U.value||[],U.multiple=!0)}return U},[Ye,ke,A.values]),bt=j.useMemo(function(){return!jl(x.current,A.values)},[x.current,A.values]),B=j.useMemo(function(){return typeof l<"u"?bt?A.errors&&Object.keys(A.errors).length===0:l!==!1&&wi(l)?l(y):l:A.errors&&Object.keys(A.errors).length===0},[l,bt,A.errors,y]),se=_r({},A,{initialValues:x.current,initialErrors:b.current,initialTouched:S.current,initialStatus:C.current,handleBlur:Ye,handleChange:ke,handleReset:ee,handleSubmit:Nt,resetForm:ne,setErrors:Fe,setFormikState:Re,setFieldTouched:ze,setFieldValue:ie,setFieldError:de,setStatus:ut,setSubmitting:Ze,setTouched:be,setValues:$,submitForm:St,validateForm:te,validateField:xe,isValid:B,dirty:bt,unregisterField:le,registerField:W,getFieldProps:at,getFieldMeta:Ve,getFieldHelpers:qe,validateOnBlur:s,validateOnChange:n,validateOnMount:a});return se}function WF(t){var e={};if(t.inner){if(t.inner.length===0)return Ul(e,t.path,t.message);for(var s=t.inner,n=Array.isArray(s),r=0,s=n?s:s[Symbol.iterator]();;){var i;if(n){if(r>=s.length)break;i=s[r++]}else{if(r=s.next(),r.done)break;i=r.value}var a=i;Is(e,a.path)||(e=Ul(e,a.path,a.message))}}return e}function GF(t,e,n,r){n===void 0&&(n=!1);var s=Bb(t);return e[n?"validateSync":"validate"](s,{abortEarly:!1,context:s})}function Bb(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(s){return Array.isArray(s)===!0||YT(s)?Bb(s):s!==""?s:void 0}):YT(t[r])?e[r]=Bb(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function XF(t,e,n){var r=t.slice();return e.forEach(function(i,a){if(typeof r[a]>"u"){var l=n.clone!==!1,d=l&&n.isMergeableObject(i);r[a]=d?_b(Array.isArray(i)?[]:{},i,n):i}else n.isMergeableObject(i)?r[a]=_b(t[a],i,n):t.indexOf(i)===-1&&r.push(i)}),r}function JF(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function QF(t,e,n){if(typeof t=="boolean")return!!e;var r=[],s=!1,i=-1;if(Array.isArray(t))r=t,i=t.indexOf(n),s=i>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!s?r.concat(n):s?r.slice(0,i).concat(r.slice(i+1)):r}var ZF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?j.useLayoutEffect:j.useEffect;function ti(t){var e=j.useRef(t);return ZF(function(){e.current=t}),j.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current.apply(void 0,r)},[])}var e$=j.forwardRef(function(t,e){var n=t.action,r=pO(t,["action"]),s=n??"#",i=HF(),a=i.handleReset,l=i.handleSubmit;return j.createElement("form",_r({onSubmit:l,ref:e,onReset:a,action:s},r))});e$.displayName="Form";let t$={data:""},n$=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||t$,r$=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,s$=/\/\*[^]*?\*\/|  +/g,SE=/\n+/g,Eo=(t,e)=>{let n="",r="",s="";for(let i in t){let a=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+a+";":r+=i[1]=="f"?Eo(a,i):i+"{"+Eo(a,i[1]=="k"?"":e)+"}":typeof a=="object"?r+=Eo(a,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,l):l?l+" "+d:d)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Eo.p?Eo.p(i,a):i+":"+a+";")}return n+(e&&s?e+"{"+s+"}":s)+r},Ea={},gO=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+gO(t[n]);return e}return t},i$=(t,e,n,r,s)=>{let i=gO(t),a=Ea[i]||(Ea[i]=(d=>{let f=0,p=11;for(;f<d.length;)p=101*p+d.charCodeAt(f++)>>>0;return"go"+p})(i));if(!Ea[a]){let d=i!==t?t:(f=>{let p,m,y=[{}];for(;p=r$.exec(f.replace(s$,""));)p[4]?y.shift():p[3]?(m=p[3].replace(SE," ").trim(),y.unshift(y[0][m]=y[0][m]||{})):y[0][p[1]]=p[2].replace(SE," ").trim();return y[0]})(t);Ea[a]=Eo(s?{["@keyframes "+a]:d}:d,n?"":"."+a)}let l=n&&Ea.g?Ea.g:null;return n&&(Ea.g=Ea[a]),((d,f,p,m)=>{m?f.data=f.data.replace(m,d):f.data.indexOf(d)===-1&&(f.data=p?d+f.data:f.data+d)})(Ea[a],e,r,l),a},a$=(t,e,n)=>t.reduce((r,s,i)=>{let a=e[i];if(a&&a.call){let l=a(n),d=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=d?"."+d:l&&typeof l=="object"?l.props?"":Eo(l,""):l===!1?"":l}return r+s+(a??"")},"");function Sy(t){let e=this||{},n=t.call?t(e.p):t;return i$(n.unshift?n.raw?a$(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,n$(e.target),e.g,e.o,e.k)}let yO,Fb,$b;Sy.bind({g:1});let Ua=Sy.bind({k:1});function o$(t,e,n,r){Eo.p=e,yO=t,Fb=n,$b=r}function Xo(t,e){let n=this||{};return function(){let r=arguments;function s(i,a){let l=Object.assign({},i),d=l.className||s.className;n.p=Object.assign({theme:Fb&&Fb()},l),n.o=/ *go\d+/.test(d),l.className=Sy.apply(n,r)+(d?" "+d:"");let f=t;return t[0]&&(f=l.as||t,delete l.as),$b&&f[0]&&$b(l),yO(f,l)}return s}}var l$=t=>typeof t=="function",rg=(t,e)=>l$(t)?t(e):t,c$=(()=>{let t=0;return()=>(++t).toString()})(),xO=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),u$=20,vO=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,u$)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return vO(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},Mm=[],Rl={toasts:[],pausedAt:void 0},yc=t=>{Rl=vO(Rl,t),Mm.forEach(e=>{e(Rl)})},d$={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},f$=(t={})=>{let[e,n]=j.useState(Rl),r=j.useRef(Rl);j.useEffect(()=>(r.current!==Rl&&n(Rl),Mm.push(n),()=>{let i=Mm.indexOf(n);i>-1&&Mm.splice(i,1)}),[]);let s=e.toasts.map(i=>{var a,l,d;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((a=t[i.type])==null?void 0:a.removeDelay)||t?.removeDelay,duration:i.duration||((l=t[i.type])==null?void 0:l.duration)||t?.duration||d$[i.type],style:{...t.style,...(d=t[i.type])==null?void 0:d.style,...i.style}}});return{...e,toasts:s}},h$=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||c$()}),bh=t=>(e,n)=>{let r=h$(e,t,n);return yc({type:2,toast:r}),r.id},Sr=(t,e)=>bh("blank")(t,e);Sr.error=bh("error");Sr.success=bh("success");Sr.loading=bh("loading");Sr.custom=bh("custom");Sr.dismiss=t=>{yc({type:3,toastId:t})};Sr.remove=t=>yc({type:4,toastId:t});Sr.promise=(t,e,n)=>{let r=Sr.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?rg(e.success,s):void 0;return i?Sr.success(i,{id:r,...n,...n?.success}):Sr.dismiss(r),s}).catch(s=>{let i=e.error?rg(e.error,s):void 0;i?Sr.error(i,{id:r,...n,...n?.error}):Sr.dismiss(r)}),t};var p$=(t,e)=>{yc({type:1,toast:{id:t,height:e}})},m$=()=>{yc({type:5,time:Date.now()})},pf=new Map,g$=1e3,y$=(t,e=g$)=>{if(pf.has(t))return;let n=setTimeout(()=>{pf.delete(t),yc({type:4,toastId:t})},e);pf.set(t,n)},x$=t=>{let{toasts:e,pausedAt:n}=f$(t);j.useEffect(()=>{if(n)return;let i=Date.now(),a=e.map(l=>{if(l.duration===1/0)return;let d=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(d<0){l.visible&&Sr.dismiss(l.id);return}return setTimeout(()=>Sr.dismiss(l.id),d)});return()=>{a.forEach(l=>l&&clearTimeout(l))}},[e,n]);let r=j.useCallback(()=>{n&&yc({type:6,time:Date.now()})},[n]),s=j.useCallback((i,a)=>{let{reverseOrder:l=!1,gutter:d=8,defaultPosition:f}=a||{},p=e.filter(x=>(x.position||f)===(i.position||f)&&x.height),m=p.findIndex(x=>x.id===i.id),y=p.filter((x,b)=>b<m&&x.visible).length;return p.filter(x=>x.visible).slice(...l?[y+1]:[0,y]).reduce((x,b)=>x+(b.height||0)+d,0)},[e]);return j.useEffect(()=>{e.forEach(i=>{if(i.dismissed)y$(i.id,i.removeDelay);else{let a=pf.get(i.id);a&&(clearTimeout(a),pf.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:p$,startPause:m$,endPause:r,calculateOffset:s}}},v$=Ua`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,b$=Ua`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,w$=Ua`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,S$=Xo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${v$} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${b$} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${w$} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,C$=Ua`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,N$=Xo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${C$} 1s linear infinite;
`,j$=Ua`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,T$=Ua`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,E$=Xo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${j$} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${T$} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,A$=Xo("div")`
  position: absolute;
`,k$=Xo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,O$=Ua`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,M$=Xo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${O$} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,D$=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?j.createElement(M$,null,e):e:n==="blank"?null:j.createElement(k$,null,j.createElement(N$,{...r}),n!=="loading"&&j.createElement(A$,null,n==="error"?j.createElement(S$,{...r}):j.createElement(E$,{...r})))},R$=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,_$=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,L$="0%{opacity:0;} 100%{opacity:1;}",P$="0%{opacity:1;} 100%{opacity:0;}",z$=Xo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,I$=Xo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,B$=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=xO()?[L$,P$]:[R$(n),_$(n)];return{animation:e?`${Ua(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ua(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},F$=j.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?B$(t.position||e||"top-center",t.visible):{opacity:0},i=j.createElement(D$,{toast:t}),a=j.createElement(I$,{...t.ariaProps},rg(t.message,t));return j.createElement(z$,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:a}):j.createElement(j.Fragment,null,i,a))});o$(j.createElement);var $$=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=j.useCallback(a=>{if(a){let l=()=>{let d=a.getBoundingClientRect().height;r(t,d)};l(),new MutationObserver(l).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return j.createElement("div",{ref:i,className:e,style:n},s)},U$=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:xO()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},V$=Sy`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Jp=16,H$=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:a})=>{let{toasts:l,handlers:d}=x$(n);return j.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Jp,left:Jp,right:Jp,bottom:Jp,pointerEvents:"none",...i},className:a,onMouseEnter:d.startPause,onMouseLeave:d.endPause},l.map(f=>{let p=f.position||e,m=d.calculateOffset(f,{reverseOrder:t,gutter:r,defaultPosition:e}),y=U$(p,m);return j.createElement($$,{id:f.id,key:f.id,onHeightUpdate:d.updateHeight,className:f.visible?V$:"",style:y},f.type==="custom"?rg(f.message,f):s?s(f):j.createElement(F$,{toast:f,position:p}))}))},ye=Sr;function bO(t,e){return function(){return t.apply(e,arguments)}}const{toString:q$}=Object.prototype,{getPrototypeOf:Fw}=Object,{iterator:Cy,toStringTag:wO}=Symbol,Ny=(t=>e=>{const n=q$.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),_i=t=>(t=t.toLowerCase(),e=>Ny(e)===t),jy=t=>e=>typeof e===t,{isArray:Lu}=Array,bu=jy("undefined");function wh(t){return t!==null&&!bu(t)&&t.constructor!==null&&!bu(t.constructor)&&js(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const SO=_i("ArrayBuffer");function K$(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&SO(t.buffer),e}const Y$=jy("string"),js=jy("function"),CO=jy("number"),Sh=t=>t!==null&&typeof t=="object",W$=t=>t===!0||t===!1,Dm=t=>{if(Ny(t)!=="object")return!1;const e=Fw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(wO in t)&&!(Cy in t)},G$=t=>{if(!Sh(t)||wh(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},X$=_i("Date"),J$=_i("File"),Q$=_i("Blob"),Z$=_i("FileList"),eU=t=>Sh(t)&&js(t.pipe),tU=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||js(t.append)&&((e=Ny(t))==="formdata"||e==="object"&&js(t.toString)&&t.toString()==="[object FormData]"))},nU=_i("URLSearchParams"),[rU,sU,iU,aU]=["ReadableStream","Request","Response","Headers"].map(_i),oU=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ch(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Lu(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{if(wh(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),a=i.length;let l;for(r=0;r<a;r++)l=i[r],e.call(null,t[l],l,t)}}function NO(t,e){if(wh(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const _l=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,jO=t=>!bu(t)&&t!==_l;function Ub(){const{caseless:t,skipUndefined:e}=jO(this)&&this||{},n={},r=(s,i)=>{const a=t&&NO(n,i)||i;Dm(n[a])&&Dm(s)?n[a]=Ub(n[a],s):Dm(s)?n[a]=Ub({},s):Lu(s)?n[a]=s.slice():(!e||!bu(s))&&(n[a]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Ch(arguments[s],r);return n}const lU=(t,e,n,{allOwnKeys:r}={})=>(Ch(e,(s,i)=>{n&&js(s)?t[i]=bO(s,n):t[i]=s},{allOwnKeys:r}),t),cU=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),uU=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},dU=(t,e,n,r)=>{let s,i,a;const l={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)a=s[i],(!r||r(a,t,e))&&!l[a]&&(e[a]=t[a],l[a]=!0);t=n!==!1&&Fw(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},fU=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},hU=t=>{if(!t)return null;if(Lu(t))return t;let e=t.length;if(!CO(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},pU=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Fw(Uint8Array)),mU=(t,e)=>{const r=(t&&t[Cy]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},gU=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},yU=_i("HTMLFormElement"),xU=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),CE=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),vU=_i("RegExp"),TO=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ch(n,(s,i)=>{let a;(a=e(s,i,t))!==!1&&(r[i]=a||s)}),Object.defineProperties(t,r)},bU=t=>{TO(t,(e,n)=>{if(js(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(js(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},wU=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Lu(t)?r(t):r(String(t).split(e)),n},SU=()=>{},CU=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function NU(t){return!!(t&&js(t.append)&&t[wO]==="FormData"&&t[Cy])}const jU=t=>{const e=new Array(10),n=(r,s)=>{if(Sh(r)){if(e.indexOf(r)>=0)return;if(wh(r))return r;if(!("toJSON"in r)){e[s]=r;const i=Lu(r)?[]:{};return Ch(r,(a,l)=>{const d=n(a,s+1);!bu(d)&&(i[l]=d)}),e[s]=void 0,i}}return r};return n(t,0)},TU=_i("AsyncFunction"),EU=t=>t&&(Sh(t)||js(t))&&js(t.then)&&js(t.catch),EO=((t,e)=>t?setImmediate:e?((n,r)=>(_l.addEventListener("message",({source:s,data:i})=>{s===_l&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),_l.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",js(_l.postMessage)),AU=typeof queueMicrotask<"u"?queueMicrotask.bind(_l):typeof process<"u"&&process.nextTick||EO,kU=t=>t!=null&&js(t[Cy]),Be={isArray:Lu,isArrayBuffer:SO,isBuffer:wh,isFormData:tU,isArrayBufferView:K$,isString:Y$,isNumber:CO,isBoolean:W$,isObject:Sh,isPlainObject:Dm,isEmptyObject:G$,isReadableStream:rU,isRequest:sU,isResponse:iU,isHeaders:aU,isUndefined:bu,isDate:X$,isFile:J$,isBlob:Q$,isRegExp:vU,isFunction:js,isStream:eU,isURLSearchParams:nU,isTypedArray:pU,isFileList:Z$,forEach:Ch,merge:Ub,extend:lU,trim:oU,stripBOM:cU,inherits:uU,toFlatObject:dU,kindOf:Ny,kindOfTest:_i,endsWith:fU,toArray:hU,forEachEntry:mU,matchAll:gU,isHTMLForm:yU,hasOwnProperty:CE,hasOwnProp:CE,reduceDescriptors:TO,freezeMethods:bU,toObjectSet:wU,toCamelCase:xU,noop:SU,toFiniteNumber:CU,findKey:NO,global:_l,isContextDefined:jO,isSpecCompliantForm:NU,toJSONObject:jU,isAsyncFn:TU,isThenable:EU,setImmediate:EO,asap:AU,isIterable:kU};function sn(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}Be.inherits(sn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Be.toJSONObject(this.config),code:this.code,status:this.status}}});const AO=sn.prototype,kO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{kO[t]={value:t}});Object.defineProperties(sn,kO);Object.defineProperty(AO,"isAxiosError",{value:!0});sn.from=(t,e,n,r,s,i)=>{const a=Object.create(AO);Be.toFlatObject(t,a,function(p){return p!==Error.prototype},f=>f!=="isAxiosError");const l=t&&t.message?t.message:"Error",d=e==null&&t?t.code:e;return sn.call(a,l,d,n,r,s),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",i&&Object.assign(a,i),a};const OU=null;function Vb(t){return Be.isPlainObject(t)||Be.isArray(t)}function OO(t){return Be.endsWith(t,"[]")?t.slice(0,-2):t}function NE(t,e,n){return t?t.concat(e).map(function(s,i){return s=OO(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function MU(t){return Be.isArray(t)&&!t.some(Vb)}const DU=Be.toFlatObject(Be,{},null,function(e){return/^is[A-Z]/.test(e)});function Ty(t,e,n){if(!Be.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Be.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,C){return!Be.isUndefined(C[S])});const r=n.metaTokens,s=n.visitor||p,i=n.dots,a=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&Be.isSpecCompliantForm(e);if(!Be.isFunction(s))throw new TypeError("visitor must be a function");function f(b){if(b===null)return"";if(Be.isDate(b))return b.toISOString();if(Be.isBoolean(b))return b.toString();if(!d&&Be.isBlob(b))throw new sn("Blob is not supported. Use a Buffer instead.");return Be.isArrayBuffer(b)||Be.isTypedArray(b)?d&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function p(b,S,C){let N=b;if(b&&!C&&typeof b=="object"){if(Be.endsWith(S,"{}"))S=r?S:S.slice(0,-2),b=JSON.stringify(b);else if(Be.isArray(b)&&MU(b)||(Be.isFileList(b)||Be.endsWith(S,"[]"))&&(N=Be.toArray(b)))return S=OO(S),N.forEach(function(M,D){!(Be.isUndefined(M)||M===null)&&e.append(a===!0?NE([S],D,i):a===null?S:S+"[]",f(M))}),!1}return Vb(b)?!0:(e.append(NE(C,S,i),f(b)),!1)}const m=[],y=Object.assign(DU,{defaultVisitor:p,convertValue:f,isVisitable:Vb});function x(b,S){if(!Be.isUndefined(b)){if(m.indexOf(b)!==-1)throw Error("Circular reference detected in "+S.join("."));m.push(b),Be.forEach(b,function(N,k){(!(Be.isUndefined(N)||N===null)&&s.call(e,N,Be.isString(k)?k.trim():k,S,y))===!0&&x(N,S?S.concat(k):[k])}),m.pop()}}if(!Be.isObject(t))throw new TypeError("data must be an object");return x(t),e}function jE(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function $w(t,e){this._pairs=[],t&&Ty(t,this,e)}const MO=$w.prototype;MO.append=function(e,n){this._pairs.push([e,n])};MO.toString=function(e){const n=e?function(r){return e.call(this,r,jE)}:jE;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function RU(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function DO(t,e,n){if(!e)return t;const r=n&&n.encode||RU;Be.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=Be.isURLSearchParams(e)?e.toString():new $w(e,n).toString(r),i){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class TE{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Be.forEach(this.handlers,function(r){r!==null&&e(r)})}}const RO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_U=typeof URLSearchParams<"u"?URLSearchParams:$w,LU=typeof FormData<"u"?FormData:null,PU=typeof Blob<"u"?Blob:null,zU={isBrowser:!0,classes:{URLSearchParams:_U,FormData:LU,Blob:PU},protocols:["http","https","file","blob","url","data"]},Uw=typeof window<"u"&&typeof document<"u",Hb=typeof navigator=="object"&&navigator||void 0,IU=Uw&&(!Hb||["ReactNative","NativeScript","NS"].indexOf(Hb.product)<0),BU=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",FU=Uw&&window.location.href||"http://localhost",$U=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Uw,hasStandardBrowserEnv:IU,hasStandardBrowserWebWorkerEnv:BU,navigator:Hb,origin:FU},Symbol.toStringTag,{value:"Module"})),Zr={...$U,...zU};function UU(t,e){return Ty(t,new Zr.classes.URLSearchParams,{visitor:function(n,r,s,i){return Zr.isNode&&Be.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function VU(t){return Be.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function HU(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function _O(t){function e(n,r,s,i){let a=n[i++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),d=i>=n.length;return a=!a&&Be.isArray(s)?s.length:a,d?(Be.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!l):((!s[a]||!Be.isObject(s[a]))&&(s[a]=[]),e(n,r,s[a],i)&&Be.isArray(s[a])&&(s[a]=HU(s[a])),!l)}if(Be.isFormData(t)&&Be.isFunction(t.entries)){const n={};return Be.forEachEntry(t,(r,s)=>{e(VU(r),s,n,0)}),n}return null}function qU(t,e,n){if(Be.isString(t))try{return(e||JSON.parse)(t),Be.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Nh={transitional:RO,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=Be.isObject(e);if(i&&Be.isHTMLForm(e)&&(e=new FormData(e)),Be.isFormData(e))return s?JSON.stringify(_O(e)):e;if(Be.isArrayBuffer(e)||Be.isBuffer(e)||Be.isStream(e)||Be.isFile(e)||Be.isBlob(e)||Be.isReadableStream(e))return e;if(Be.isArrayBufferView(e))return e.buffer;if(Be.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return UU(e,this.formSerializer).toString();if((l=Be.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Ty(l?{"files[]":e}:e,d&&new d,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),qU(e)):e}],transformResponse:[function(e){const n=this.transitional||Nh.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(Be.isResponse(e)||Be.isReadableStream(e))return e;if(e&&Be.isString(e)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?sn.from(l,sn.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zr.classes.FormData,Blob:Zr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Be.forEach(["delete","get","head","post","put","patch"],t=>{Nh.headers[t]={}});const KU=Be.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),YU=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||e[n]&&KU[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},EE=Symbol("internals");function Wd(t){return t&&String(t).trim().toLowerCase()}function Rm(t){return t===!1||t==null?t:Be.isArray(t)?t.map(Rm):String(t)}function WU(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const GU=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function bv(t,e,n,r,s){if(Be.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!Be.isString(e)){if(Be.isString(r))return e.indexOf(r)!==-1;if(Be.isRegExp(r))return r.test(e)}}function XU(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function JU(t,e){const n=Be.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,a){return this[r].call(this,e,s,i,a)},configurable:!0})})}let Ts=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(l,d,f){const p=Wd(d);if(!p)throw new Error("header name must be a non-empty string");const m=Be.findKey(s,p);(!m||s[m]===void 0||f===!0||f===void 0&&s[m]!==!1)&&(s[m||d]=Rm(l))}const a=(l,d)=>Be.forEach(l,(f,p)=>i(f,p,d));if(Be.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(Be.isString(e)&&(e=e.trim())&&!GU(e))a(YU(e),n);else if(Be.isObject(e)&&Be.isIterable(e)){let l={},d,f;for(const p of e){if(!Be.isArray(p))throw TypeError("Object iterator must return a key-value pair");l[f=p[0]]=(d=l[f])?Be.isArray(d)?[...d,p[1]]:[d,p[1]]:p[1]}a(l,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=Wd(e),e){const r=Be.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return WU(s);if(Be.isFunction(n))return n.call(this,s,r);if(Be.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Wd(e),e){const r=Be.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||bv(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(a){if(a=Wd(a),a){const l=Be.findKey(r,a);l&&(!n||bv(r,r[l],l,n))&&(delete r[l],s=!0)}}return Be.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||bv(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return Be.forEach(this,(s,i)=>{const a=Be.findKey(r,i);if(a){n[a]=Rm(s),delete n[i];return}const l=e?XU(i):String(i).trim();l!==i&&delete n[i],n[l]=Rm(s),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Be.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&Be.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[EE]=this[EE]={accessors:{}}).accessors,s=this.prototype;function i(a){const l=Wd(a);r[l]||(JU(s,a),r[l]=!0)}return Be.isArray(e)?e.forEach(i):i(e),this}};Ts.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Be.reduceDescriptors(Ts.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Be.freezeMethods(Ts);function wv(t,e){const n=this||Nh,r=e||n,s=Ts.from(r.headers);let i=r.data;return Be.forEach(t,function(l){i=l.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function LO(t){return!!(t&&t.__CANCEL__)}function Pu(t,e,n){sn.call(this,t??"canceled",sn.ERR_CANCELED,e,n),this.name="CanceledError"}Be.inherits(Pu,sn,{__CANCEL__:!0});function PO(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new sn("Request failed with status code "+n.status,[sn.ERR_BAD_REQUEST,sn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function QU(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function ZU(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,a;return e=e!==void 0?e:1e3,function(d){const f=Date.now(),p=r[i];a||(a=f),n[s]=d,r[s]=f;let m=i,y=0;for(;m!==s;)y+=n[m++],m=m%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),f-a<e)return;const x=p&&f-p;return x?Math.round(y*1e3/x):void 0}}function eV(t,e){let n=0,r=1e3/e,s,i;const a=(f,p=Date.now())=>{n=p,s=null,i&&(clearTimeout(i),i=null),t(...f)};return[(...f)=>{const p=Date.now(),m=p-n;m>=r?a(f,p):(s=f,i||(i=setTimeout(()=>{i=null,a(s)},r-m)))},()=>s&&a(s)]}const sg=(t,e,n=3)=>{let r=0;const s=ZU(50,250);return eV(i=>{const a=i.loaded,l=i.lengthComputable?i.total:void 0,d=a-r,f=s(d),p=a<=l;r=a;const m={loaded:a,total:l,progress:l?a/l:void 0,bytes:d,rate:f||void 0,estimated:f&&l&&p?(l-a)/f:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(m)},n)},AE=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},kE=t=>(...e)=>Be.asap(()=>t(...e)),tV=Zr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Zr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Zr.origin),Zr.navigator&&/(msie|trident)/i.test(Zr.navigator.userAgent)):()=>!0,nV=Zr.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const a=[t+"="+encodeURIComponent(e)];Be.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),Be.isString(r)&&a.push("path="+r),Be.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function rV(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function sV(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function zO(t,e,n){let r=!rV(e);return t&&(r||n==!1)?sV(t,e):e}const OE=t=>t instanceof Ts?{...t}:t;function ec(t,e){e=e||{};const n={};function r(f,p,m,y){return Be.isPlainObject(f)&&Be.isPlainObject(p)?Be.merge.call({caseless:y},f,p):Be.isPlainObject(p)?Be.merge({},p):Be.isArray(p)?p.slice():p}function s(f,p,m,y){if(Be.isUndefined(p)){if(!Be.isUndefined(f))return r(void 0,f,m,y)}else return r(f,p,m,y)}function i(f,p){if(!Be.isUndefined(p))return r(void 0,p)}function a(f,p){if(Be.isUndefined(p)){if(!Be.isUndefined(f))return r(void 0,f)}else return r(void 0,p)}function l(f,p,m){if(m in e)return r(f,p);if(m in t)return r(void 0,f)}const d={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(f,p,m)=>s(OE(f),OE(p),m,!0)};return Be.forEach(Object.keys({...t,...e}),function(p){const m=d[p]||s,y=m(t[p],e[p],p);Be.isUndefined(y)&&m!==l||(n[p]=y)}),n}const IO=t=>{const e=ec({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:l}=e;if(e.headers=a=Ts.from(a),e.url=DO(zO(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Be.isFormData(n)){if(Zr.hasStandardBrowserEnv||Zr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(Be.isFunction(n.getHeaders)){const d=n.getHeaders(),f=["content-type","content-length"];Object.entries(d).forEach(([p,m])=>{f.includes(p.toLowerCase())&&a.set(p,m)})}}if(Zr.hasStandardBrowserEnv&&(r&&Be.isFunction(r)&&(r=r(e)),r||r!==!1&&tV(e.url))){const d=s&&i&&nV.read(i);d&&a.set(s,d)}return e},iV=typeof XMLHttpRequest<"u",aV=iV&&function(t){return new Promise(function(n,r){const s=IO(t);let i=s.data;const a=Ts.from(s.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:f}=s,p,m,y,x,b;function S(){x&&x(),b&&b(),s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let C=new XMLHttpRequest;C.open(s.method.toUpperCase(),s.url,!0),C.timeout=s.timeout;function N(){if(!C)return;const M=Ts.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:M,config:t,request:C};PO(function(F){n(F),S()},function(F){r(F),S()},E),C=null}"onloadend"in C?C.onloadend=N:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(N)},C.onabort=function(){C&&(r(new sn("Request aborted",sn.ECONNABORTED,t,C)),C=null)},C.onerror=function(D){const E=D&&D.message?D.message:"Network Error",A=new sn(E,sn.ERR_NETWORK,t,C);A.event=D||null,r(A),C=null},C.ontimeout=function(){let D=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const E=s.transitional||RO;s.timeoutErrorMessage&&(D=s.timeoutErrorMessage),r(new sn(D,E.clarifyTimeoutError?sn.ETIMEDOUT:sn.ECONNABORTED,t,C)),C=null},i===void 0&&a.setContentType(null),"setRequestHeader"in C&&Be.forEach(a.toJSON(),function(D,E){C.setRequestHeader(E,D)}),Be.isUndefined(s.withCredentials)||(C.withCredentials=!!s.withCredentials),l&&l!=="json"&&(C.responseType=s.responseType),f&&([y,b]=sg(f,!0),C.addEventListener("progress",y)),d&&C.upload&&([m,x]=sg(d),C.upload.addEventListener("progress",m),C.upload.addEventListener("loadend",x)),(s.cancelToken||s.signal)&&(p=M=>{C&&(r(!M||M.type?new Pu(null,t,C):M),C.abort(),C=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const k=QU(s.url);if(k&&Zr.protocols.indexOf(k)===-1){r(new sn("Unsupported protocol "+k+":",sn.ERR_BAD_REQUEST,t));return}C.send(i||null)})},oV=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(f){if(!s){s=!0,l();const p=f instanceof Error?f:this.reason;r.abort(p instanceof sn?p:new Pu(p instanceof Error?p.message:p))}};let a=e&&setTimeout(()=>{a=null,i(new sn(`timeout ${e} of ms exceeded`,sn.ETIMEDOUT))},e);const l=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(i):f.removeEventListener("abort",i)}),t=null)};t.forEach(f=>f.addEventListener("abort",i));const{signal:d}=r;return d.unsubscribe=()=>Be.asap(l),d}},lV=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},cV=async function*(t,e){for await(const n of uV(t))yield*lV(n,e)},uV=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},ME=(t,e,n,r)=>{const s=cV(t,e);let i=0,a,l=d=>{a||(a=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:f,value:p}=await s.next();if(f){l(),d.close();return}let m=p.byteLength;if(n){let y=i+=m;n(y)}d.enqueue(new Uint8Array(p))}catch(f){throw l(f),f}},cancel(d){return l(d),s.return()}},{highWaterMark:2})},DE=64*1024,{isFunction:Qp}=Be,dV=(({Request:t,Response:e})=>({Request:t,Response:e}))(Be.global),{ReadableStream:RE,TextEncoder:_E}=Be.global,LE=(t,...e)=>{try{return!!t(...e)}catch{return!1}},fV=t=>{t=Be.merge.call({skipUndefined:!0},dV,t);const{fetch:e,Request:n,Response:r}=t,s=e?Qp(e):typeof fetch=="function",i=Qp(n),a=Qp(r);if(!s)return!1;const l=s&&Qp(RE),d=s&&(typeof _E=="function"?(b=>S=>b.encode(S))(new _E):async b=>new Uint8Array(await new n(b).arrayBuffer())),f=i&&l&&LE(()=>{let b=!1;const S=new n(Zr.origin,{body:new RE,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!S}),p=a&&l&&LE(()=>Be.isReadableStream(new r("").body)),m={stream:p&&(b=>b.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!m[b]&&(m[b]=(S,C)=>{let N=S&&S[b];if(N)return N.call(S);throw new sn(`Response type '${b}' is not supported`,sn.ERR_NOT_SUPPORT,C)})});const y=async b=>{if(b==null)return 0;if(Be.isBlob(b))return b.size;if(Be.isSpecCompliantForm(b))return(await new n(Zr.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(Be.isArrayBufferView(b)||Be.isArrayBuffer(b))return b.byteLength;if(Be.isURLSearchParams(b)&&(b=b+""),Be.isString(b))return(await d(b)).byteLength},x=async(b,S)=>{const C=Be.toFiniteNumber(b.getContentLength());return C??y(S)};return async b=>{let{url:S,method:C,data:N,signal:k,cancelToken:M,timeout:D,onDownloadProgress:E,onUploadProgress:A,responseType:F,headers:H,withCredentials:Z="same-origin",fetchOptions:ve}=IO(b),ue=e||fetch;F=F?(F+"").toLowerCase():"text";let oe=oV([k,M&&M.toAbortSignal()],D),te=null;const ne=oe&&oe.unsubscribe&&(()=>{oe.unsubscribe()});let xe;try{if(A&&f&&C!=="get"&&C!=="head"&&(xe=await x(H,N))!==0){let de=new n(S,{method:"POST",body:N,duplex:"half"}),ie;if(Be.isFormData(N)&&(ie=de.headers.get("content-type"))&&H.setContentType(ie),de.body){const[he,ke]=AE(xe,sg(kE(A)));N=ME(de.body,DE,he,ke)}}Be.isString(Z)||(Z=Z?"include":"omit");const W=i&&"credentials"in n.prototype,le={...ve,signal:oe,method:C.toUpperCase(),headers:H.normalize().toJSON(),body:N,duplex:"half",credentials:W?Z:void 0};te=i&&new n(S,le);let be=await(i?ue(te,ve):ue(S,le));const Fe=p&&(F==="stream"||F==="response");if(p&&(E||Fe&&ne)){const de={};["status","statusText","headers"].forEach(ze=>{de[ze]=be[ze]});const ie=Be.toFiniteNumber(be.headers.get("content-length")),[he,ke]=E&&AE(ie,sg(kE(E),!0))||[];be=new r(ME(be.body,DE,he,()=>{ke&&ke(),ne&&ne()}),de)}F=F||"text";let $=await m[Be.findKey(m,F)||"text"](be,b);return!Fe&&ne&&ne(),await new Promise((de,ie)=>{PO(de,ie,{data:$,headers:Ts.from(be.headers),status:be.status,statusText:be.statusText,config:b,request:te})})}catch(W){throw ne&&ne(),W&&W.name==="TypeError"&&/Load failed|fetch/i.test(W.message)?Object.assign(new sn("Network Error",sn.ERR_NETWORK,b,te),{cause:W.cause||W}):sn.from(W,W&&W.code,b,te)}}},hV=new Map,BO=t=>{let e=t?t.env:{};const{fetch:n,Request:r,Response:s}=e,i=[r,s,n];let a=i.length,l=a,d,f,p=hV;for(;l--;)d=i[l],f=p.get(d),f===void 0&&p.set(d,f=l?new Map:fV(e)),p=f;return f};BO();const qb={http:OU,xhr:aV,fetch:{get:BO}};Be.forEach(qb,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const PE=t=>`- ${t}`,pV=t=>Be.isFunction(t)||t===null||t===!1,FO={getAdapter:(t,e)=>{t=Be.isArray(t)?t:[t];const{length:n}=t;let r,s;const i={};for(let a=0;a<n;a++){r=t[a];let l;if(s=r,!pV(r)&&(s=qb[(l=String(r)).toLowerCase()],s===void 0))throw new sn(`Unknown adapter '${l}'`);if(s&&(Be.isFunction(s)||(s=s.get(e))))break;i[l||"#"+a]=s}if(!s){const a=Object.entries(i).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let l=n?a.length>1?`since :
`+a.map(PE).join(`
`):" "+PE(a[0]):"as no adapter specified";throw new sn("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:qb};function Sv(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Pu(null,t)}function zE(t){return Sv(t),t.headers=Ts.from(t.headers),t.data=wv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),FO.getAdapter(t.adapter||Nh.adapter,t)(t).then(function(r){return Sv(t),r.data=wv.call(t,t.transformResponse,r),r.headers=Ts.from(r.headers),r},function(r){return LO(r)||(Sv(t),r&&r.response&&(r.response.data=wv.call(t,t.transformResponse,r.response),r.response.headers=Ts.from(r.response.headers))),Promise.reject(r)})}const $O="1.12.2",Ey={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ey[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const IE={};Ey.transitional=function(e,n,r){function s(i,a){return"[Axios v"+$O+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,l)=>{if(e===!1)throw new sn(s(a," has been removed"+(n?" in "+n:"")),sn.ERR_DEPRECATED);return n&&!IE[a]&&(IE[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,a,l):!0}};Ey.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function mV(t,e,n){if(typeof t!="object")throw new sn("options must be an object",sn.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],a=e[i];if(a){const l=t[i],d=l===void 0||a(l,i,t);if(d!==!0)throw new sn("option "+i+" must be "+d,sn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new sn("Unknown option "+i,sn.ERR_BAD_OPTION)}}const _m={assertOptions:mV,validators:Ey},Ui=_m.validators;let Vl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new TE,response:new TE}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ec(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&_m.assertOptions(r,{silentJSONParsing:Ui.transitional(Ui.boolean),forcedJSONParsing:Ui.transitional(Ui.boolean),clarifyTimeoutError:Ui.transitional(Ui.boolean)},!1),s!=null&&(Be.isFunction(s)?n.paramsSerializer={serialize:s}:_m.assertOptions(s,{encode:Ui.function,serialize:Ui.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),_m.assertOptions(n,{baseUrl:Ui.spelling("baseURL"),withXsrfToken:Ui.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&Be.merge(i.common,i[n.method]);i&&Be.forEach(["delete","get","head","post","put","patch","common"],b=>{delete i[b]}),n.headers=Ts.concat(a,i);const l=[];let d=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(d=d&&S.synchronous,l.unshift(S.fulfilled,S.rejected))});const f=[];this.interceptors.response.forEach(function(S){f.push(S.fulfilled,S.rejected)});let p,m=0,y;if(!d){const b=[zE.bind(this),void 0];for(b.unshift(...l),b.push(...f),y=b.length,p=Promise.resolve(n);m<y;)p=p.then(b[m++],b[m++]);return p}y=l.length;let x=n;for(;m<y;){const b=l[m++],S=l[m++];try{x=b(x)}catch(C){S.call(this,C);break}}try{p=zE.call(this,x)}catch(b){return Promise.reject(b)}for(m=0,y=f.length;m<y;)p=p.then(f[m++],f[m++]);return p}getUri(e){e=ec(this.defaults,e);const n=zO(e.baseURL,e.url,e.allowAbsoluteUrls);return DO(n,e.params,e.paramsSerializer)}};Be.forEach(["delete","get","head","options"],function(e){Vl.prototype[e]=function(n,r){return this.request(ec(r||{},{method:e,url:n,data:(r||{}).data}))}});Be.forEach(["post","put","patch"],function(e){function n(r){return function(i,a,l){return this.request(ec(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}Vl.prototype[e]=n(),Vl.prototype[e+"Form"]=n(!0)});let gV=class UO{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(l=>{r.subscribe(l),i=l}).then(s);return a.cancel=function(){r.unsubscribe(i)},a},e(function(i,a,l){r.reason||(r.reason=new Pu(i,a,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new UO(function(s){e=s}),cancel:e}}};function yV(t){return function(n){return t.apply(null,n)}}function xV(t){return Be.isObject(t)&&t.isAxiosError===!0}const Kb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Kb).forEach(([t,e])=>{Kb[e]=t});function VO(t){const e=new Vl(t),n=bO(Vl.prototype.request,e);return Be.extend(n,Vl.prototype,e,{allOwnKeys:!0}),Be.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return VO(ec(t,s))},n}const Ge=VO(Nh);Ge.Axios=Vl;Ge.CanceledError=Pu;Ge.CancelToken=gV;Ge.isCancel=LO;Ge.VERSION=$O;Ge.toFormData=Ty;Ge.AxiosError=sn;Ge.Cancel=Ge.CanceledError;Ge.all=function(e){return Promise.all(e)};Ge.spread=yV;Ge.isAxiosError=xV;Ge.mergeConfig=ec;Ge.AxiosHeaders=Ts;Ge.formToJSON=t=>_O(Be.isHTMLForm(t)?new FormData(t):t);Ge.getAdapter=FO.getAdapter;Ge.HttpStatusCode=Kb;Ge.default=Ge;const{Axios:Sce,AxiosError:Cce,CanceledError:Nce,isCancel:jce,CancelToken:Tce,VERSION:Ece,all:Ace,Cancel:kce,isAxiosError:Oce,spread:Mce,toFormData:Dce,AxiosHeaders:Rce,HttpStatusCode:_ce,formToJSON:Lce,getAdapter:Pce,mergeConfig:zce}=Ge;function vV(){const t=Hn(),[e,n]=j.useState(!1);async function r(a){n(!0);try{let{data:l}=await Ge.post("https://nexus-consults.com/api/public/api/admin/auth/login",a);n(!1),ye.success("logged in successfully",{duration:2e3}),localStorage.setItem("userToken",l.data.token),t("/")}catch(l){ye.error(l?.response?.data?.message,{duration:5e3}),n(!1)}}let s=B5({email:Rb().email("invalid mail").required("email is required"),password:Rb().min(9,"password must be at least 9 length").required("password is required")}),i=YF({initialValues:{email:"",password:""},validationSchema:s,onSubmit:r});return c.jsx(c.Fragment,{children:c.jsx("div",{className:"h-screen w-screen bg-gradient-to-tl from-primary/70 to-white flex flex-col justify-center items-center",children:c.jsxs("div",{className:`lg:w-1/3 w-full bg-primary text-white rounded-xl shadow-xl p-8 space-y-5\r
            `,children:[c.jsx("img",{className:"lg:w-1/3 w-1/2 m-auto",src:D5,alt:"logo"}),c.jsx("h1",{className:"text-3xl font-bold text-center",children:"Login"}),c.jsxs("form",{className:"flex flex-col gap-5",onSubmit:i.handleSubmit,children:[c.jsxs("div",{className:"relative z-0 w-full group mb-4",children:[c.jsx("input",{type:"email",name:"email",id:"email",onBlur:i.handleBlur,onChange:i.handleChange,className:"block py-2.5 px-0 w-full text-sm text-white bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-darkTeal peer",placeholder:" "}),c.jsx("label",{htmlFor:"email",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-darkTeal peer-focus:dark:text-darkTeal peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Email"}),i.errors.email&&i.touched.email&&c.jsx("div",{className:" text-sm text-red-800 rounded-lg bg-transparent dark:text-red-600 ",role:"alert",children:i.errors.email})]}),c.jsxs("div",{className:"relative z-0 w-full group",children:[c.jsx("input",{type:"password",name:"password",id:"password",onBlur:i.handleBlur,onChange:i.handleChange,className:"block py-2.5 px-0 w-full text-sm text-white bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-darkTeal peer",placeholder:" "}),c.jsx("label",{htmlFor:"password",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-darkTeal peer-focus:dark:text-darkTeal peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Password"}),i.errors.password&&i.touched.password&&c.jsx("div",{className:" text-sm text-red-800 rounded-lg bg-transparent dark:text-red-600",role:"alert",children:i.errors.password})]}),c.jsx("button",{type:"submit",disabled:e,className:"w-full h-12 rounded-xl bg-gradient-to-r from-white  to-primary/5 text-primary text-xl font-bold hover:shadow-md",style:{transition:"background-position 0.4s ease",backgroundSize:"110%"},onMouseEnter:a=>a.target.style.backgroundPosition="right",onMouseLeave:a=>a.target.style.backgroundPosition="left",children:e?c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-gray-100 m-auto"}):"login"})]})]})})})}function ni({children:t}){return localStorage.getItem("userToken")?t:c.jsx(CP,{to:"/login"})}let Vw=j.createContext(!0);function bV(t){const[e,n]=j.useState(!0);return c.jsx(Vw.Provider,{value:{sidebarOpen:e,setSidebarOpen:n},children:t.children})}var HO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},BE=Vt.createContext&&Vt.createContext(HO),wV=["attr","size","title"];function SV(t,e){if(t==null)return{};var n=CV(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CV(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ig(){return ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ig.apply(this,arguments)}function FE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ag(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FE(Object(n),!0).forEach(function(r){NV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NV(t,e,n){return e=jV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jV(t){var e=TV(t,"string");return typeof e=="symbol"?e:e+""}function TV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qO(t){return t&&t.map((e,n)=>Vt.createElement(e.tag,ag({key:n},e.attr),qO(e.child)))}function en(t){return e=>Vt.createElement(EV,ig({attr:ag({},t.attr)},e),qO(t.child))}function EV(t){var e=n=>{var{attr:r,size:s,title:i}=t,a=SV(t,wV),l=s||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),Vt.createElement("svg",ig({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:d,style:ag(ag({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&Vt.createElement("title",null,i),t.children)};return BE!==void 0?Vt.createElement(BE.Consumer,null,n=>e(n)):e(HO)}function AV(t){return en({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.28 9.53 8.81 12l2.47 2.47a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215l-3-3a.75.75 0 0 1 0-1.06l3-3a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734Z"},child:[]},{tag:"path",attr:{d:"M3.75 2h16.5c.966 0 1.75.784 1.75 1.75v16.5A1.75 1.75 0 0 1 20.25 22H3.75A1.75 1.75 0 0 1 2 20.25V3.75C2 2.784 2.784 2 3.75 2ZM3.5 3.75v16.5c0 .138.112.25.25.25H15v-17H3.75a.25.25 0 0 0-.25.25Zm13 16.75h3.75a.25.25 0 0 0 .25-.25V3.75a.25.25 0 0 0-.25-.25H16.5Z"},child:[]}]})(t)}function kV(t){return en({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Logout"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M20.968,18.448a2.577,2.577,0,0,1-2.73,2.5c-2.153.012-4.306,0-6.459,0a.5.5,0,0,1,0-1c2.2,0,4.4.032,6.6,0,1.107-.016,1.589-.848,1.589-1.838V5.647A1.546,1.546,0,0,0,19,4.175a3.023,3.023,0,0,0-1.061-.095H11.779a.5.5,0,0,1,0-1c2.224,0,4.465-.085,6.687,0a2.567,2.567,0,0,1,2.5,2.67Z"},child:[]},{tag:"path",attr:{d:"M3.176,11.663a.455.455,0,0,0-.138.311c0,.015,0,.028-.006.043s0,.027.006.041a.457.457,0,0,0,.138.312l3.669,3.669a.5.5,0,0,0,.707-.707L4.737,12.516H15.479a.5.5,0,0,0,0-1H4.737L7.552,8.7a.5.5,0,0,0-.707-.707Z"},child:[]}]}]}]})(t)}var zu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},tc=typeof window>"u"||"Deno"in globalThis;function ls(){}function OV(t,e){return typeof t=="function"?t(e):t}function Yb(t){return typeof t=="number"&&t>=0&&t!==1/0}function KO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Po(t,e){return typeof t=="function"?t(e):t}function Ci(t,e){return typeof t=="function"?t(e):t}function $E(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==Hw(a,e.options))return!1}else if(!Uf(e.queryKey,a))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function UE(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(nc(e.options.mutationKey)!==nc(i))return!1}else if(!Uf(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Hw(t,e){return(e?.queryKeyHashFn||nc)(t)}function nc(t){return JSON.stringify(t,(e,n)=>Wb(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Uf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Uf(t[n],e[n])):!1}function YO(t,e){if(t===e)return t;const n=VE(t)&&VE(e);if(n||Wb(t)&&Wb(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),a=i.length,l=n?[]:{},d=new Set(r);let f=0;for(let p=0;p<a;p++){const m=n?p:i[p];(!n&&d.has(m)||n)&&t[m]===void 0&&e[m]===void 0?(l[m]=void 0,f++):(l[m]=YO(t[m],e[m]),l[m]===t[m]&&t[m]!==void 0&&f++)}return s===a&&f===s?t:l}return e}function og(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function VE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Wb(t){if(!HE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!HE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function HE(t){return Object.prototype.toString.call(t)==="[object Object]"}function MV(t){return new Promise(e=>{setTimeout(e,t)})}function Gb(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?YO(t,e):e}function DV(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function RV(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var qw=Symbol();function WO(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===qw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function GO(t,e){return typeof t=="function"?t(...e):!!t}var _V=class extends zu{#t;#e;#n;constructor(){super(),this.#n=t=>{if(!tc&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#n=t,this.#e?.(),this.#e=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},Kw=new _V,LV=class extends zu{#t=!0;#e;#n;constructor(){super(),this.#n=t=>{if(!tc&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#n=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#t}},lg=new LV;function Xb(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function PV(t){return Math.min(1e3*2**t,3e4)}function XO(t){return(t??"online")==="online"?lg.isOnline():!0}var JO=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Cv(t){return t instanceof JO}function QO(t){let e=!1,n=0,r=!1,s;const i=Xb(),a=S=>{r||(y(new JO(S)),t.abort?.())},l=()=>{e=!0},d=()=>{e=!1},f=()=>Kw.isFocused()&&(t.networkMode==="always"||lg.isOnline())&&t.canRun(),p=()=>XO(t.networkMode)&&t.canRun(),m=S=>{r||(r=!0,t.onSuccess?.(S),s?.(),i.resolve(S))},y=S=>{r||(r=!0,t.onError?.(S),s?.(),i.reject(S))},x=()=>new Promise(S=>{s=C=>{(r||f())&&S(C)},t.onPause?.()}).then(()=>{s=void 0,r||t.onContinue?.()}),b=()=>{if(r)return;let S;const C=n===0?t.initialPromise:void 0;try{S=C??t.fn()}catch(N){S=Promise.reject(N)}Promise.resolve(S).then(m).catch(N=>{if(r)return;const k=t.retry??(tc?0:3),M=t.retryDelay??PV,D=typeof M=="function"?M(n,N):M,E=k===!0||typeof k=="number"&&n<k||typeof k=="function"&&k(n,N);if(e||!E){y(N);return}n++,t.onFail?.(n,N),MV(D).then(()=>f()?void 0:x()).then(()=>{e?y(N):b()})})};return{promise:i,cancel:a,continue:()=>(s?.(),i),cancelRetry:l,continueRetry:d,canStart:p,start:()=>(p()?b():x().then(b),i)}}var zV=t=>setTimeout(t,0);function IV(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=zV;const i=l=>{e?t.push(l):s(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(d=>{n(d)})})})};return{batch:l=>{let d;e++;try{d=l()}finally{e--,e||a()}return d},batchCalls:l=>(...d)=>{i(()=>{l(...d)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Er=IV(),ZO=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Yb(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(tc?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},BV=class extends ZO{#t;#e;#n;#r;#s;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=FV(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(t){this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=Gb(this.state.data,t,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#s?.promise;return this.#s?.cancel(t),e?e.then(ls).catch(ls):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>Ci(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Po(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!KO(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const n=new AbortController,r=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},s=()=>{const d=WO(this.options,e),p=(()=>{const m={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(m),m})();return this.#o=!1,this.options.persister?this.options.persister(d,p,this):d(p)},a=(()=>{const d={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:s};return r(d),d})();this.options.behavior?.onFetch(a,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#i({type:"fetch",meta:a.fetchOptions?.meta});const l=d=>{Cv(d)&&d.silent||this.#i({type:"error",error:d}),Cv(d)||(this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this)),this.scheduleGc()};return this.#s=QO({initialPromise:e?.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:d=>{if(d===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(f){l(f);return}this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),this.scheduleGc()},onError:l,onFail:(d,f)=>{this.#i({type:"failed",failureCount:d,error:f})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#s.start()}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...eM(n.data,this.options),fetchMeta:t.meta??null};case"success":return this.#e=void 0,{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return Cv(r)&&r.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Er.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function eM(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:XO(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function FV(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var $V=class extends zu{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,n){const r=e.queryKey,s=e.queryHash??Hw(r,e);let i=this.get(s);return i||(i=new BV({client:t,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(i)),i}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Er.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>$E(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>$E(t,n)):e}notify(t){Er.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Er.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Er.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},UV=class extends ZO{#t;#e;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#e=t.mutationCache,this.#t=[],this.state=t.state||tM(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})};this.#n=QO({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(s,i)=>{this.#r({type:"failed",failureCount:s,error:i})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const n=this.state.status==="pending",r=!this.#n.canStart();try{if(n)e();else{this.#r({type:"pending",variables:t,isPaused:r}),await this.#e.config.onMutate?.(t,this);const i=await this.options.onMutate?.(t);i!==this.state.context&&this.#r({type:"pending",context:i,variables:t,isPaused:r})}const s=await this.#n.start();return await this.#e.config.onSuccess?.(s,t,this.state.context,this),await this.options.onSuccess?.(s,t,this.state.context),await this.#e.config.onSettled?.(s,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(s,null,t,this.state.context),this.#r({type:"success",data:s}),s}catch(s){try{throw await this.#e.config.onError?.(s,t,this.state.context,this),await this.options.onError?.(s,t,this.state.context),await this.#e.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,s,t,this.state.context),s}finally{this.#r({type:"error",error:s})}}finally{this.#e.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Er.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#e.notify({mutation:this,type:"updated",action:t})})}};function tM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var VV=class extends zu{constructor(t={}){super(),this.config=t,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(t,e,n){const r=new UV({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#t.add(t);const e=Zp(t);if(typeof e=="string"){const n=this.#e.get(e);n?n.push(t):this.#e.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#t.delete(t)){const e=Zp(t);if(typeof e=="string"){const n=this.#e.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#e.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Zp(t);if(typeof e=="string"){const r=this.#e.get(e)?.find(s=>s.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=Zp(t);return typeof e=="string"?this.#e.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Er.batch(()=>{this.#t.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>UE(e,n))}findAll(t={}){return this.getAll().filter(e=>UE(t,e))}notify(t){Er.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Er.batch(()=>Promise.all(t.map(e=>e.continue().catch(ls))))}};function Zp(t){return t.options.scope?.id}function qE(t){return{onFetch:(e,n)=>{const r=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},d=0;const f=async()=>{let p=!1;const m=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},y=WO(e.options,e.fetchOptions),x=async(b,S,C)=>{if(p)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const k=(()=>{const A={client:e.client,queryKey:e.queryKey,pageParam:S,direction:C?"backward":"forward",meta:e.options.meta};return m(A),A})(),M=await y(k),{maxPages:D}=e.options,E=C?RV:DV;return{pages:E(b.pages,M,D),pageParams:E(b.pageParams,S,D)}};if(s&&i.length){const b=s==="backward",S=b?HV:KE,C={pages:i,pageParams:a},N=S(r,C);l=await x(C,N,b)}else{const b=t??i.length;do{const S=d===0?a[0]??r.initialPageParam:KE(r,l);if(d>0&&S==null)break;l=await x(l,S),d++}while(d<b)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=f}}}function KE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function HV(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var qV=class{#t;#e;#n;#r;#s;#a;#o;#i;constructor(t={}){this.#t=t.queryCache||new $V,this.#e=t.mutationCache||new VV,this.#n=t.defaultOptions||{},this.#r=new Map,this.#s=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=Kw.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#i=lg.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#t.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#e.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#t.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Po(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#t.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=this.#t.get(r.queryHash)?.state.data,a=OV(e,i);if(a!==void 0)return this.#t.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Er.batch(()=>this.#t.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state}removeQueries(t){const e=this.#t;Er.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#t;return Er.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Er.batch(()=>this.#t.findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(ls).catch(ls)}invalidateQueries(t,e={}){return Er.batch(()=>(this.#t.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Er.batch(()=>this.#t.findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(ls)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(ls)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#t.build(this,e);return n.isStaleByTime(Po(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ls).catch(ls)}fetchInfiniteQuery(t){return t.behavior=qE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ls).catch(ls)}ensureInfiniteQueryData(t){return t.behavior=qE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return lg.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(nc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{Uf(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#s.set(nc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(r=>{Uf(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Hw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===qw&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},KV=class extends zu{constructor(t,e){super(),this.options=e,this.#t=t,this.#i=null,this.#o=Xb(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#n=void 0;#r=void 0;#s;#a;#o;#i;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),YE(this.#e,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Jb(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Jb(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(t){const e=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ci(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#e.setOptions(this.options),e._defaulted&&!og(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&WE(this.#e,n,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#e!==n||Ci(this.options.enabled,this.#e)!==Ci(e.enabled,this.#e)||Po(this.options.staleTime,this.#e)!==Po(e.staleTime,this.#e))&&this.#g();const s=this.#y();r&&(this.#e!==n||Ci(this.options.enabled,this.#e)!==Ci(e.enabled,this.#e)||s!==this.#l)&&this.#x(s)}getOptimisticResult(t){const e=this.#t.getQueryCache().build(this.#t,t),n=this.createResult(e,t);return WV(this,n)&&(this.#r=n,this.#a=this.options,this.#s=this.#e.state),n}getCurrentResult(){return this.#r}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),Reflect.get(n,r))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#t.defaultQueryOptions(t),n=this.#t.getQueryCache().build(this.#t,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(t){this.#S();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(ls)),e}#g(){this.#b();const t=Po(this.options.staleTime,this.#e);if(tc||this.#r.isStale||!Yb(t))return;const n=KO(this.#r.dataUpdatedAt,t)+1;this.#c=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#x(t){this.#w(),this.#l=t,!(tc||Ci(this.options.enabled,this.#e)===!1||!Yb(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||Kw.isFocused())&&this.#d()},this.#l))}#v(){this.#g(),this.#x(this.#y())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#e,r=this.options,s=this.#r,i=this.#s,a=this.#a,d=t!==n?t.state:this.#n,{state:f}=t;let p={...f},m=!1,y;if(e._optimisticResults){const H=this.hasListeners(),Z=!H&&YE(t,e),ve=H&&WE(t,n,e,r);(Z||ve)&&(p={...p,...eM(f.data,t.options)}),e._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:x,errorUpdatedAt:b,status:S}=p;y=p.data;let C=!1;if(e.placeholderData!==void 0&&y===void 0&&S==="pending"){let H;s?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(H=s.data,C=!0):H=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,H!==void 0&&(S="success",y=Gb(s?.data,H,e),m=!0)}if(e.select&&y!==void 0&&!C)if(s&&y===i?.data&&e.select===this.#m)y=this.#f;else try{this.#m=e.select,y=e.select(y),y=Gb(s?.data,y,e),this.#f=y,this.#i=null}catch(H){this.#i=H}this.#i&&(x=this.#i,y=this.#f,b=Date.now(),S="error");const N=p.fetchStatus==="fetching",k=S==="pending",M=S==="error",D=k&&N,E=y!==void 0,F={status:S,fetchStatus:p.fetchStatus,isPending:k,isSuccess:S==="success",isError:M,isInitialLoading:D,isLoading:D,data:y,dataUpdatedAt:p.dataUpdatedAt,error:x,errorUpdatedAt:b,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>d.dataUpdateCount||p.errorUpdateCount>d.errorUpdateCount,isFetching:N,isRefetching:N&&!k,isLoadingError:M&&!E,isPaused:p.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:M&&E,isStale:Yw(t,e),refetch:this.refetch,promise:this.#o};if(this.options.experimental_prefetchInRender){const H=ue=>{F.status==="error"?ue.reject(F.error):F.data!==void 0&&ue.resolve(F.data)},Z=()=>{const ue=this.#o=F.promise=Xb();H(ue)},ve=this.#o;switch(ve.status){case"pending":t.queryHash===n.queryHash&&H(ve);break;case"fulfilled":(F.status==="error"||F.data!==ve.value)&&Z();break;case"rejected":(F.status!=="error"||F.error!==ve.reason)&&Z();break}}return F}updateResult(){const t=this.#r,e=this.createResult(this.#e,this.options);if(this.#s=this.#e.state,this.#a=this.options,this.#s.data!==void 0&&(this.#h=this.#e),og(e,t))return;this.#r=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!this.#p.size)return!0;const i=new Set(s??this.#p);return this.options.throwOnError&&i.add("error"),Object.keys(this.#r).some(a=>{const l=a;return this.#r[l]!==t[l]&&i.has(l)})};this.#C({listeners:n()})}#S(){const t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;const e=this.#e;this.#e=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#C(t){Er.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function YV(t,e){return Ci(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function YE(t,e){return YV(t,e)||t.state.data!==void 0&&Jb(t,e,e.refetchOnMount)}function Jb(t,e,n){if(Ci(e.enabled,t)!==!1&&Po(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Yw(t,e)}return!1}function WE(t,e,n,r){return(t!==e||Ci(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Yw(t,n)}function Yw(t,e){return Ci(e.enabled,t)!==!1&&t.isStaleByTime(Po(e.staleTime,t))}function WV(t,e){return!og(t.getCurrentResult(),e)}var GV=class extends zu{#t;#e=void 0;#n;#r;constructor(e,n){super(),this.#t=e,this.setOptions(n),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#t.defaultMutationOptions(e),og(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&nc(n.mutationKey)!==nc(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#s(),this.#a(e)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#s(),this.#a()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(e)}#s(){const e=this.#n?.state??tM();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){Er.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#e.variables,r=this.#e.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,n,r),this.#r.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#r.onError?.(e.error,n,r),this.#r.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#e)})})}},nM=j.createContext(void 0),Li=t=>{const e=j.useContext(nM);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},XV=({client:t,children:e})=>(j.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(nM.Provider,{value:t,children:e})),rM=j.createContext(!1),JV=()=>j.useContext(rM);rM.Provider;function QV(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var ZV=j.createContext(QV()),eH=()=>j.useContext(ZV),tH=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},nH=t=>{j.useEffect(()=>{t.clearReset()},[t])},rH=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||GO(n,[t.error,r])),sH=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},iH=(t,e)=>t.isLoading&&t.isFetching&&!e,aH=(t,e)=>t?.suspense&&e.isPending,GE=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function oH(t,e,n){const r=JV(),s=eH(),i=Li(),a=i.defaultQueryOptions(t);i.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=r?"isRestoring":"optimistic",sH(a),tH(a,s),nH(s);const l=!i.getQueryCache().get(a.queryHash),[d]=j.useState(()=>new e(i,a)),f=d.getOptimisticResult(a),p=!r&&t.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(m=>{const y=p?d.subscribe(Er.batchCalls(m)):ls;return d.updateResult(),y},[d,p]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),j.useEffect(()=>{d.setOptions(a)},[a,d]),aH(a,f))throw GE(a,d,s);if(rH({result:f,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw f.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(a,f),a.experimental_prefetchInRender&&!tc&&iH(f,r)&&(l?GE(a,d,s):i.getQueryCache().get(a.queryHash)?.promise)?.catch(ls).finally(()=>{d.updateResult()}),a.notifyOnChangeProps?f:d.trackResult(f)}function Cn(t,e){return oH(t,KV)}function di(t,e){const n=Li(),[r]=j.useState(()=>new GV(n,t));j.useEffect(()=>{r.setOptions(t)},[r,t]);const s=j.useSyncExternalStore(j.useCallback(a=>r.subscribe(Er.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=j.useCallback((a,l)=>{r.mutate(a,l).catch(ls)},[r]);if(s.error&&GO(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function lH(t){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M436.67 184.11a27.17 27.17 0 0 1-38.3 0l-22.48-22.49a27.15 27.15 0 0 1 0-38.29l50.89-50.89a.85.85 0 0 0-.26-1.38C393.68 57 351.09 64.15 324.05 91c-25.88 25.69-27.35 64.27-17.87 98a27 27 0 0 1-7.67 27.14l-173 160.76a40.76 40.76 0 1 0 57.57 57.54l162.15-173.3a27 27 0 0 1 26.77-7.7c33.46 8.94 71.49 7.26 97.07-17.94 27.49-27.08 33.42-74.94 20.1-102.33a.85.85 0 0 0-1.36-.22z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M224 284c-17.48-17-25.49-24.91-31-30.29a18.24 18.24 0 0 1-3.33-21.35 20.76 20.76 0 0 1 3.5-4.62l15.68-15.29a18.66 18.66 0 0 1 5.63-3.87 18.11 18.11 0 0 1 20 3.62c5.45 5.29 15.43 15 33.41 32.52m49.18 46.58c40.95 38.1 90.62 83.27 110 99.41a13.46 13.46 0 0 1 .94 19.92L394.63 444a14 14 0 0 1-20.29-.76c-16.53-19.18-61.09-67.11-99.27-107"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m17.34 193.5 29.41-28.74a4.71 4.71 0 0 1 3.41-1.35 4.85 4.85 0 0 1 3.41 1.35h0a9.86 9.86 0 0 0 8.19 2.77c3.83-.42 7.92-1.6 10.57-4.12 6-5.8-.94-17.23 4.34-24.54a207 207 0 0 1 19.78-22.6c6-5.88 29.84-28.32 69.9-44.45A107.31 107.31 0 0 1 206.67 64c22.59 0 40 10 46.26 15.67a89.54 89.54 0 0 1 10.28 11.64 78.92 78.92 0 0 0-9.21-2.77 68.82 68.82 0 0 0-20-1.26c-13.33 1.09-29.41 7.26-38 14-13.9 11-19.87 25.72-20.81 44.71-.68 14.12 2.72 22.1 36.1 55.49a6.6 6.6 0 0 1-.34 9.16l-18.22 18a6.88 6.88 0 0 1-9.54.09c-21.94-21.94-36.65-33.09-45-38.16s-15.07-6.5-18.3-6.85a30.85 30.85 0 0 0-18.27 3.87 11.39 11.39 0 0 0-2.64 2 14.14 14.14 0 0 0 .42 20.08l1.71 1.6a4.63 4.63 0 0 1 0 6.64L71.73 246.6a4.71 4.71 0 0 1-3.41 1.4 4.86 4.86 0 0 1-3.41-1.35l-47.57-46.43a4.88 4.88 0 0 1 0-6.72z"},child:[]}]})(t)}function cH(t){return en({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 14V16C8.68629 16 6 18.6863 6 22H4C4 17.5817 7.58172 14 12 14ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13ZM12 11C14.21 11 16 9.21 16 7C16 4.79 14.21 3 12 3C9.79 3 8 4.79 8 7C8 9.21 9.79 11 12 11ZM21 17H22V22H14V17H15V16C15 14.3431 16.3431 13 18 13C19.6569 13 21 14.3431 21 16V17ZM19 17V16C19 15.4477 18.5523 15 18 15C17.4477 15 17 15.4477 17 16V17H19Z"},child:[]}]})(t)}function uH(t){return en({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14.763.075A.5.5 0 0 1 15 .5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V14h-1v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V10a.5.5 0 0 1 .342-.474L6 7.64V4.5a.5.5 0 0 1 .276-.447l8-4a.5.5 0 0 1 .487.022M6 8.694 1 10.36V15h5zM7 15h2v-1.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5V15h2V1.309l-7 3.5z"},child:[]},{tag:"path",attr:{d:"M2 11h1v1H2zm2 0h1v1H4zm-2 2h1v1H2zm2 0h1v1H4zm4-4h1v1H8zm2 0h1v1h-1zm-2 2h1v1H8zm2 0h1v1h-1zm2-2h1v1h-1zm0 2h1v1h-1zM8 7h1v1H8zm2 0h1v1h-1zm2 0h1v1h-1zM8 5h1v1H8zm2 0h1v1h-1zm2 0h1v1h-1zm0-2h1v1h-1z"},child:[]}]})(t)}function dH(t){return en({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2 2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zM1 4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1zm7.5.5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0zM2 5.5a.5.5 0 0 1 .5-.5H6a.5.5 0 0 1 0 1H2.5a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5H6a.5.5 0 0 1 0 1H2.5a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5H6a.5.5 0 0 1 0 1H2.5a.5.5 0 0 1-.5-.5M10.5 5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5zM13 8h-2V6h2z"},child:[]}]})(t)}function fH(t){return en({attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M17 7C17 5.34315 15.6569 4 14 4H10C8.34315 4 7 5.34315 7 7H6C4.34315 7 3 8.34315 3 10V18C3 19.6569 4.34315 21 6 21H18C19.6569 21 21 19.6569 21 18V10C21 8.34315 19.6569 7 18 7H17ZM14 6H10C9.44772 6 9 6.44772 9 7H15C15 6.44772 14.5523 6 14 6ZM6 9H18C18.5523 9 19 9.44772 19 10V18C19 18.5523 18.5523 19 18 19H6C5.44772 19 5 18.5523 5 18V10C5 9.44772 5.44772 9 6 9Z",fill:"currentColor"},child:[]}]})(t)}function hH(t){return en({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M3,6 L21,6 L3,6 Z M10,2 L10,4 M14,2 L14,4 M16,12 C18.3736719,13.1826446 20,15.6506255 20,19 L20,23 L4,23 L4,19 C4,15.6457258 5.6310898,13.1754259 8,12 M12,16.5 L12,23 M12,13 C15.3137085,13 18,10.3137085 18,7 C18,3.6862915 15.3137085,1 12,1 C8.6862915,1 6,3.6862915 6,7 C6,10.3137085 8.6862915,13 12,13 Z M8,12 C8,14.209139 9.790861,16 12,16 L12,16 C14.209139,16 16,14.209139 16,12"},child:[]}]})(t)}function pH(t){return en({attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4.5 1L4 1.5V3.02746C4.16417 3.00932 4.331 3 4.5 3C4.669 3 4.83583 3.00932 5 3.02746V2H14V7H12.2929L11 8.29289V7H8.97254C8.99068 7.16417 9 7.331 9 7.5C9 7.669 8.99068 7.83583 8.97254 8H10V9.5L10.8536 9.85355L12.7071 8H14.5L15 7.5V1.5L14.5 1H4.5Z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M6.41705 10.4288C7.37039 9.80348 8 8.72527 8 7.5C8 5.567 6.433 4 4.5 4C2.567 4 1 5.567 1 7.5C1 8.72527 1.62961 9.80348 2.58295 10.4288C2.11364 10.6498 1.68557 10.9505 1.31802 11.318C0.900156 11.7359 0.568688 12.232 0.342542 12.7779C0.180451 13.1692 0.0747425 13.5807 0.0278638 14C0.00933826 14.1657 0 14.3326 0 14.5V15H1L0.999398 14.5C0.999398 14.4784 0.999599 14.4567 1 14.4351C1.00811 13.9975 1.09823 13.5651 1.26587 13.1604C1.44179 12.7357 1.69964 12.3498 2.0247 12.0247C2.34976 11.6996 2.73566 11.4418 3.16038 11.2659C3.57088 11.0958 4.00986 11.0056 4.45387 10.9997C4.46922 10.9999 4.4846 11 4.5 11C4.5154 11 4.53078 10.9999 4.54613 10.9997C4.99014 11.0056 5.42912 11.0958 5.83962 11.2659C6.26433 11.4418 6.65024 11.6996 6.9753 12.0247C7.30036 12.3498 7.55821 12.7357 7.73413 13.1604C7.90177 13.5651 7.99189 13.9975 8 14.4351C8.0004 14.4567 8.0006 14.4784 8.0006 14.5L8 15H9V14.5C9 14.3326 8.99066 14.1657 8.97214 14C8.92526 13.5807 8.81955 13.1692 8.65746 12.7779C8.43131 12.232 8.09984 11.7359 7.68198 11.318C7.31443 10.9505 6.88636 10.6498 6.41705 10.4288ZM4.5 10C3.11929 10 2 8.88071 2 7.5C2 6.11929 3.11929 5 4.5 5C5.88071 5 7 6.11929 7 7.5C7 8.88071 5.88071 10 4.5 10Z"},child:[]}]})(t)}function mH(t){return en({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13.5 0h-12c-0.825 0-1.5 0.675-1.5 1.5v13c0 0.825 0.675 1.5 1.5 1.5h12c0.825 0 1.5-0.675 1.5-1.5v-13c0-0.825-0.675-1.5-1.5-1.5zM13 14h-11v-12h11v12zM4 9h7v1h-7zM4 11h7v1h-7zM5 4.5c0-0.828 0.672-1.5 1.5-1.5s1.5 0.672 1.5 1.5c0 0.828-0.672 1.5-1.5 1.5s-1.5-0.672-1.5-1.5zM7.5 6h-2c-0.825 0-1.5 0.45-1.5 1v1h5v-1c0-0.55-0.675-1-1.5-1z"},child:[]}]})(t)}function gH(t){return en({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 3H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zM9 9H5V5h4v4zm11 4h-6a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1zm-1 6h-4v-4h4v4zM17 3c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4-1.794-4-4-4zm0 6c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2zM7 13c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4-1.794-4-4-4zm0 6c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2z"},child:[]}]})(t)}function yH(){const{sidebarOpen:t,setSidebarOpen:e}=j.useContext(Vw),[n,r]=j.useState(!1),s=Hn();async function i(){r(!0);try{let y=await Ge.post("https://nexus-consults.com/api/public/api/admin/auth/logout",{},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}});localStorage.removeItem("userToken"),s("/login"),ye.success("logged Out Successfully",{duration:2e3}),r(!1)}catch(y){y.status==401&&(localStorage.removeItem("userToken"),s("/login")),r(!1),ye.error(y.response?.data?.message||"something went wrong",{duration:3e3}),localStorage.removeItem("userToken"),s("/login")}}const a=()=>e(!t),{data:l,isLoading:d,error:f,isError:p}=Cn({queryKey:["currentUser"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}),m=[{title:"Admins",path:"/admins",icon:c.jsx(cH,{}),permission:"view_admins"},{title:"Services",path:"/services",icon:c.jsx(lH,{}),permission:"view_services"},{title:"Projects",path:"/projects",icon:c.jsx(uH,{}),permission:"view_projects"},{title:"Blogs",path:"/blogs",icon:c.jsx(dH,{}),permission:"view_blogs"},{title:"Jobs",path:"/jobs",icon:c.jsx(fH,{}),permission:"view_jobs"},{title:"Jobs Applications",path:"/jobs-applications",icon:c.jsx(hH,{}),permission:"view_job_applications"},{title:"Testmonials",path:"/testmonials",icon:c.jsx(pH,{}),permission:"view_feedbacks"},{title:"About Us",path:"/about-us",icon:c.jsx(mH,{}),permission:"view_feedbacks"},{title:"Disciplines",path:"/disciplines",icon:c.jsx(gH,{}),permission:"view_disciplines"}];return c.jsx(c.Fragment,{children:c.jsxs("div",{className:`h-full bg-tramsparent p-5 fixed w-56 left-0 ${t?"translate-x-0":"-translate-x-full"} transition-all duration-500 z-50`,children:[c.jsx("div",{className:`absolute z-50 ${t?"top-5 right-5 -translate-x-1/2 translate-y-1/2 text-gray-400":"top-2 -right-2 translate-x-full p-1.5 flex justify-center items-center bg-white text-gray-700 bg-opacity-90 aspect-square rounded-full cursor-pointer"} transition-all duration-500`,children:c.jsx("button",{onClick:a,children:c.jsx(AV,{className:"text-2xl"})})}),c.jsxs("div",{className:"h-full bg-primary rounded-2xl p-5 pt-10 flex flex-col justify-between overflow-y-auto shadow-xl",children:[c.jsxs("div",{className:"",children:[c.jsx("div",{className:"flex justify-center items-center overflow-hidden mb-2",children:c.jsx("img",{src:D5,alt:"Logo",className:"w-4/5"})}),c.jsx("div",{className:"flex flex-col gap-1 text-gray-400 text-base",children:m.map((y,x)=>c.jsx(c.Fragment,{children:(l?.data?.data?.admin?.permissions.includes(y.permission)||y.permission=="")&&c.jsxs(k5,{className:"px-4 py-2 rounded-xl flex items-center gap-2",to:y.path,children:[c.jsxs("div",{className:"",children:[y.icon," "]}),y.title]},y.name)}))})]}),c.jsx("div",{className:"flex flex-col",children:c.jsxs("button",{onClick:i,disabled:n,className:"bg-gray-400 flex justify-center items-center text-white p-2 rounded-xl mb-2 gap-2 disabled:cursor-not-allowed disabled:opacity-50 capitalize",children:["Logout ",c.jsx(kV,{className:"text-2xl font-extrabold"})]})})]})]})})}const xH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vH=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),XE=t=>{const e=vH(t);return e.charAt(0).toUpperCase()+e.slice(1)},sM=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),bH=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var wH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const SH=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},d)=>j.createElement("svg",{ref:d,...wH,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:sM("lucide",s),...!i&&!bH(l)&&{"aria-hidden":"true"},...l},[...a.map(([f,p])=>j.createElement(f,p)),...Array.isArray(i)?i:[i]]));const gn=(t,e)=>{const n=j.forwardRef(({className:r,...s},i)=>j.createElement(SH,{ref:i,iconNode:e,className:sM(`lucide-${xH(XE(t))}`,`lucide-${t}`,r),...s}));return n.displayName=XE(t),n};const CH=[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],JE=gn("align-center",CH);const NH=[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]],jH=gn("align-justify",NH);const TH=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],QE=gn("align-left",TH);const EH=[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],ZE=gn("align-right",EH);const AH=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],kH=gn("bold",AH);const OH=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],MH=gn("calendar",OH);const DH=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],e4=gn("check",DH);const RH=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_H=gn("circle-user-round",RH);const LH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ns=gn("circle-x",LH);const PH=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],zH=gn("code-xml",PH);const IH=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],BH=gn("heading-1",IH);const FH=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],$H=gn("heading-2",FH);const UH=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],VH=gn("heading-3",UH);const HH=[["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 10v3a1 1 0 0 0 1 1h3",key:"tj5zdr"}],["path",{d:"M21 10v8",key:"1kdml4"}],["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}]],qH=gn("heading-4",HH);const KH=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 13v-3h4",key:"1nvgqp"}],["path",{d:"M17 17.7c.4.2.8.3 1.3.3 1.5 0 2.7-1.1 2.7-2.5S19.8 13 18.3 13H17",key:"2nebdn"}]],YH=gn("heading-5",KH);const WH=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["circle",{cx:"19",cy:"16",r:"2",key:"15mx69"}],["path",{d:"M20 10c-2 2-3 3.5-3 6",key:"f35dl0"}]],GH=gn("heading-6",WH);const XH=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],iM=gn("image",XH);const JH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],QH=gn("info",JH);const ZH=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],eq=gn("italic",ZH);const tq=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],aM=gn("link",tq);const nq=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],rq=gn("list-ordered",nq);const sq=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],iq=gn("list",sq);const aq=[["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M12 2v10.3a4 4 0 0 1-1.172 2.872L4 22",key:"1hyw0i"}],["path",{d:"m20 22-5-5",key:"1m27yz"}]],oq=gn("merge",aq);const lq=[["path",{d:"M5 12h14",key:"1ays0h"}]],cq=gn("minus",lq);const uq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],t4=gn("plus",uq);const dq=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],fq=gn("quote",dq);const hq=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],pq=gn("redo",hq);const mq=[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]],gq=gn("split",mq);const yq=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],xq=gn("strikethrough",yq);const vq=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],bq=gn("table",vq);const wq=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Nv=gn("trash-2",wq);const Sq=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],Cq=gn("underline",Sq);const Nq=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],jq=gn("undo",Nq);const Tq=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],oM=gn("unlink",Tq);const Eq=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],lM=gn("video",Eq);const Aq=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],n4=gn("x",Aq);const kq=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],Oq=gn("youtube",kq);function Mq(){const t=Hn(),{data:e,isLoading:n}=Cn({queryKey:["currentUser"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})});return c.jsx(c.Fragment,{children:c.jsx("div",{onClick:()=>t("/user-setting"),className:"fixed top-5 right-5 h-11 w-11 flex justify-center items-center rounded-full bg-white cursor-pointer shadow-lg",children:e?.data?.data?.user?.profile_image?c.jsx("img",{src:e?.data?.data?.user?.profile_image,alt:"Profile",className:"w-10 h-10 rounded-full object-cover border-gray-200"}):c.jsx(_H,{className:"hover:scale-[1.04] transition-all"})})})}function Dq(){const{sidebarOpen:t,setSidebarOpen:e}=j.useContext(Vw);return c.jsxs(c.Fragment,{children:[c.jsx(Mq,{}),c.jsxs("div",{className:"flex min-h-screen",children:[c.jsx("div",{className:`${t?"md:w-56":"w-0"} transition-all duration-500`,children:c.jsx(yH,{})}),c.jsx("div",{className:`${t?"w-full md:w-[calc(100%-224px)] ps-0":"w-full"} md:p-5  text-black transition-all duration-500 bg-background`,children:c.jsx(NP,{})})]})]})}var jv={exports:{}},Tv,r4;function Rq(){if(r4)return Tv;r4=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Tv=t,Tv}var Ev,s4;function _q(){if(s4)return Ev;s4=1;var t=Rq();function e(){}function n(){}return n.resetWarningCache=e,Ev=function(){function r(a,l,d,f,p,m){if(m!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function s(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return i.PropTypes=i,i},Ev}var i4;function Lq(){return i4||(i4=1,jv.exports=_q()()),jv.exports}var Pq=Lq();const Kn=Ka(Pq);var Av,a4;function zq(){if(a4)return Av;a4=1;function t(l){return l&&typeof l=="object"&&"default"in l?l.default:l}var e=fy(),n=t(e);function r(l,d,f){return d in l?Object.defineProperty(l,d,{value:f,enumerable:!0,configurable:!0,writable:!0}):l[d]=f,l}function s(l,d){l.prototype=Object.create(d.prototype),l.prototype.constructor=l,l.__proto__=d}var i=!!(typeof window<"u"&&window.document&&window.document.createElement);function a(l,d,f){if(typeof l!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof d!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof f<"u"&&typeof f!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function p(m){return m.displayName||m.name||"Component"}return function(y){if(typeof y!="function")throw new Error("Expected WrappedComponent to be a React component.");var x=[],b;function S(){b=l(x.map(function(N){return N.props})),C.canUseDOM?d(b):f&&(b=f(b))}var C=function(N){s(k,N);function k(){return N.apply(this,arguments)||this}k.peek=function(){return b},k.rewind=function(){if(k.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var E=b;return b=void 0,x=[],E};var M=k.prototype;return M.UNSAFE_componentWillMount=function(){x.push(this),S()},M.componentDidUpdate=function(){S()},M.componentWillUnmount=function(){var E=x.indexOf(this);x.splice(E,1),S()},M.render=function(){return n.createElement(y,this.props)},k}(e.PureComponent);return r(C,"displayName","SideEffect("+p(y)+")"),r(C,"canUseDOM",i),C}}return Av=a,Av}var Iq=zq();const Bq=Ka(Iq);var kv,o4;function Fq(){if(o4)return kv;o4=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(i,a){if(i===a)return!0;if(i&&a&&typeof i=="object"&&typeof a=="object"){if(i.constructor!==a.constructor)return!1;var l,d,f;if(Array.isArray(i)){if(l=i.length,l!=a.length)return!1;for(d=l;d--!==0;)if(!s(i[d],a[d]))return!1;return!0}var p;if(e&&i instanceof Map&&a instanceof Map){if(i.size!==a.size)return!1;for(p=i.entries();!(d=p.next()).done;)if(!a.has(d.value[0]))return!1;for(p=i.entries();!(d=p.next()).done;)if(!s(d.value[1],a.get(d.value[0])))return!1;return!0}if(n&&i instanceof Set&&a instanceof Set){if(i.size!==a.size)return!1;for(p=i.entries();!(d=p.next()).done;)if(!a.has(d.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(a)){if(l=i.length,l!=a.length)return!1;for(d=l;d--!==0;)if(i[d]!==a[d])return!1;return!0}if(i.constructor===RegExp)return i.source===a.source&&i.flags===a.flags;if(i.valueOf!==Object.prototype.valueOf&&typeof i.valueOf=="function"&&typeof a.valueOf=="function")return i.valueOf()===a.valueOf();if(i.toString!==Object.prototype.toString&&typeof i.toString=="function"&&typeof a.toString=="function")return i.toString()===a.toString();if(f=Object.keys(i),l=f.length,l!==Object.keys(a).length)return!1;for(d=l;d--!==0;)if(!Object.prototype.hasOwnProperty.call(a,f[d]))return!1;if(t&&i instanceof Element)return!1;for(d=l;d--!==0;)if(!((f[d]==="_owner"||f[d]==="__v"||f[d]==="__o")&&i.$$typeof)&&!s(i[f[d]],a[f[d]]))return!1;return!0}return i!==i&&a!==a}return kv=function(a,l){try{return s(a,l)}catch(d){if((d.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw d}},kv}var $q=Fq();const Uq=Ka($q);var Ov,l4;function Vq(){if(l4)return Ov;l4=1;var t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(i){if(i==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}function s(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de",Object.getOwnPropertyNames(i)[0]==="5")return!1;for(var a={},l=0;l<10;l++)a["_"+String.fromCharCode(l)]=l;var d=Object.getOwnPropertyNames(a).map(function(p){return a[p]});if(d.join("")!=="0123456789")return!1;var f={};return"abcdefghijklmnopqrst".split("").forEach(function(p){f[p]=p}),Object.keys(Object.assign({},f)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return Ov=s()?Object.assign:function(i,a){for(var l,d=r(i),f,p=1;p<arguments.length;p++){l=Object(arguments[p]);for(var m in l)e.call(l,m)&&(d[m]=l[m]);if(t){f=t(l);for(var y=0;y<f.length;y++)n.call(l,f[y])&&(d[f[y]]=l[f[y]])}}return d},Ov}var Hq=Vq();const qq=Ka(Hq);var Hl={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},rn={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(rn).map(function(t){return rn[t]});var Wn={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},cg={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Vf={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},Kq=Object.keys(cg).reduce(function(t,e){return t[cg[e]]=e,t},{}),Yq=[rn.NOSCRIPT,rn.SCRIPT,rn.STYLE],Ei="data-react-helmet",Wq=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gq=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Xq=function(){function t(e,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),bs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jq=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},c4=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},Qq=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},Qb=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Zq=function(e){var n=gu(e,rn.TITLE),r=gu(e,Vf.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var s=gu(e,Vf.DEFAULT_TITLE);return n||s||void 0},eK=function(e){return gu(e,Vf.ON_CHANGE_CLIENT_STATE)||function(){}},Mv=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,s){return bs({},r,s)},{})},tK=function(e,n){return n.filter(function(r){return typeof r[rn.BASE]<"u"}).map(function(r){return r[rn.BASE]}).reverse().reduce(function(r,s){if(!r.length)for(var i=Object.keys(s),a=0;a<i.length;a++){var l=i[a],d=l.toLowerCase();if(e.indexOf(d)!==-1&&s[d])return r.concat(s)}return r},[])},Gd=function(e,n,r){var s={};return r.filter(function(i){return Array.isArray(i[e])?!0:(typeof i[e]<"u"&&iK("Helmet: "+e+' should be of type "Array". Instead found type "'+Wq(i[e])+'"'),!1)}).map(function(i){return i[e]}).reverse().reduce(function(i,a){var l={};a.filter(function(y){for(var x=void 0,b=Object.keys(y),S=0;S<b.length;S++){var C=b[S],N=C.toLowerCase();n.indexOf(N)!==-1&&!(x===Wn.REL&&y[x].toLowerCase()==="canonical")&&!(N===Wn.REL&&y[N].toLowerCase()==="stylesheet")&&(x=N),n.indexOf(C)!==-1&&(C===Wn.INNER_HTML||C===Wn.CSS_TEXT||C===Wn.ITEM_PROP)&&(x=C)}if(!x||!y[x])return!1;var k=y[x].toLowerCase();return s[x]||(s[x]={}),l[x]||(l[x]={}),s[x][k]?!1:(l[x][k]=!0,!0)}).reverse().forEach(function(y){return i.push(y)});for(var d=Object.keys(l),f=0;f<d.length;f++){var p=d[f],m=qq({},s[p],l[p]);s[p]=m}return i},[]).reverse()},gu=function(e,n){for(var r=e.length-1;r>=0;r--){var s=e[r];if(s.hasOwnProperty(n))return s[n]}return null},nK=function(e){return{baseTag:tK([Wn.HREF,Wn.TARGET],e),bodyAttributes:Mv(Hl.BODY,e),defer:gu(e,Vf.DEFER),encode:gu(e,Vf.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Mv(Hl.HTML,e),linkTags:Gd(rn.LINK,[Wn.REL,Wn.HREF],e),metaTags:Gd(rn.META,[Wn.NAME,Wn.CHARSET,Wn.HTTPEQUIV,Wn.PROPERTY,Wn.ITEM_PROP],e),noscriptTags:Gd(rn.NOSCRIPT,[Wn.INNER_HTML],e),onChangeClientState:eK(e),scriptTags:Gd(rn.SCRIPT,[Wn.SRC,Wn.INNER_HTML],e),styleTags:Gd(rn.STYLE,[Wn.CSS_TEXT],e),title:Zq(e),titleAttributes:Mv(Hl.TITLE,e)}},Zb=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){Zb(e)},0)}}(),u4=function(e){return clearTimeout(e)},rK=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Zb:global.requestAnimationFrame||Zb,sK=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||u4:global.cancelAnimationFrame||u4,iK=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Xd=null,aK=function(e){Xd&&sK(Xd),e.defer?Xd=rK(function(){d4(e,function(){Xd=null})}):(d4(e),Xd=null)},d4=function(e,n){var r=e.baseTag,s=e.bodyAttributes,i=e.htmlAttributes,a=e.linkTags,l=e.metaTags,d=e.noscriptTags,f=e.onChangeClientState,p=e.scriptTags,m=e.styleTags,y=e.title,x=e.titleAttributes;e1(rn.BODY,s),e1(rn.HTML,i),oK(y,x);var b={baseTag:Xc(rn.BASE,r),linkTags:Xc(rn.LINK,a),metaTags:Xc(rn.META,l),noscriptTags:Xc(rn.NOSCRIPT,d),scriptTags:Xc(rn.SCRIPT,p),styleTags:Xc(rn.STYLE,m)},S={},C={};Object.keys(b).forEach(function(N){var k=b[N],M=k.newTags,D=k.oldTags;M.length&&(S[N]=M),D.length&&(C[N]=b[N].oldTags)}),n&&n(),f(e,S,C)},cM=function(e){return Array.isArray(e)?e.join(""):e},oK=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=cM(e)),e1(rn.TITLE,n)},e1=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var s=r.getAttribute(Ei),i=s?s.split(","):[],a=[].concat(i),l=Object.keys(n),d=0;d<l.length;d++){var f=l[d],p=n[f]||"";r.getAttribute(f)!==p&&r.setAttribute(f,p),i.indexOf(f)===-1&&i.push(f);var m=a.indexOf(f);m!==-1&&a.splice(m,1)}for(var y=a.length-1;y>=0;y--)r.removeAttribute(a[y]);i.length===a.length?r.removeAttribute(Ei):r.getAttribute(Ei)!==l.join(",")&&r.setAttribute(Ei,l.join(","))}},Xc=function(e,n){var r=document.head||document.querySelector(rn.HEAD),s=r.querySelectorAll(e+"["+Ei+"]"),i=Array.prototype.slice.call(s),a=[],l=void 0;return n&&n.length&&n.forEach(function(d){var f=document.createElement(e);for(var p in d)if(d.hasOwnProperty(p))if(p===Wn.INNER_HTML)f.innerHTML=d.innerHTML;else if(p===Wn.CSS_TEXT)f.styleSheet?f.styleSheet.cssText=d.cssText:f.appendChild(document.createTextNode(d.cssText));else{var m=typeof d[p]>"u"?"":d[p];f.setAttribute(p,m)}f.setAttribute(Ei,"true"),i.some(function(y,x){return l=x,f.isEqualNode(y)})?i.splice(l,1):a.push(f)}),i.forEach(function(d){return d.parentNode.removeChild(d)}),a.forEach(function(d){return r.appendChild(d)}),{oldTags:i,newTags:a}},uM=function(e){return Object.keys(e).reduce(function(n,r){var s=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+s:s},"")},lK=function(e,n,r,s){var i=uM(r),a=cM(n);return i?"<"+e+" "+Ei+'="true" '+i+">"+Qb(a,s)+"</"+e+">":"<"+e+" "+Ei+'="true">'+Qb(a,s)+"</"+e+">"},cK=function(e,n,r){return n.reduce(function(s,i){var a=Object.keys(i).filter(function(f){return!(f===Wn.INNER_HTML||f===Wn.CSS_TEXT)}).reduce(function(f,p){var m=typeof i[p]>"u"?p:p+'="'+Qb(i[p],r)+'"';return f?f+" "+m:m},""),l=i.innerHTML||i.cssText||"",d=Yq.indexOf(e)===-1;return s+"<"+e+" "+Ei+'="true" '+a+(d?"/>":">"+l+"</"+e+">")},"")},dM=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[cg[s]||s]=e[s],r},n)},uK=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[Kq[s]||s]=e[s],r},n)},dK=function(e,n,r){var s,i=(s={key:n},s[Ei]=!0,s),a=dM(r,i);return[Vt.createElement(rn.TITLE,a,n)]},fK=function(e,n){return n.map(function(r,s){var i,a=(i={key:s},i[Ei]=!0,i);return Object.keys(r).forEach(function(l){var d=cg[l]||l;if(d===Wn.INNER_HTML||d===Wn.CSS_TEXT){var f=r.innerHTML||r.cssText;a.dangerouslySetInnerHTML={__html:f}}else a[d]=r[l]}),Vt.createElement(e,a)})},Aa=function(e,n,r){switch(e){case rn.TITLE:return{toComponent:function(){return dK(e,n.title,n.titleAttributes)},toString:function(){return lK(e,n.title,n.titleAttributes,r)}};case Hl.BODY:case Hl.HTML:return{toComponent:function(){return dM(n)},toString:function(){return uM(n)}};default:return{toComponent:function(){return fK(e,n)},toString:function(){return cK(e,n,r)}}}},fM=function(e){var n=e.baseTag,r=e.bodyAttributes,s=e.encode,i=e.htmlAttributes,a=e.linkTags,l=e.metaTags,d=e.noscriptTags,f=e.scriptTags,p=e.styleTags,m=e.title,y=m===void 0?"":m,x=e.titleAttributes;return{base:Aa(rn.BASE,n,s),bodyAttributes:Aa(Hl.BODY,r,s),htmlAttributes:Aa(Hl.HTML,i,s),link:Aa(rn.LINK,a,s),meta:Aa(rn.META,l,s),noscript:Aa(rn.NOSCRIPT,d,s),script:Aa(rn.SCRIPT,f,s),style:Aa(rn.STYLE,p,s),title:Aa(rn.TITLE,{title:y,titleAttributes:x},s)}},hK=function(e){var n,r;return r=n=function(s){Jq(i,s);function i(){return Gq(this,i),Qq(this,s.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(l){return!Uq(this.props,l)},i.prototype.mapNestedChildrenToProps=function(l,d){if(!d)return null;switch(l.type){case rn.SCRIPT:case rn.NOSCRIPT:return{innerHTML:d};case rn.STYLE:return{cssText:d}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(l){var d,f=l.child,p=l.arrayTypeChildren,m=l.newChildProps,y=l.nestedChildren;return bs({},p,(d={},d[f.type]=[].concat(p[f.type]||[],[bs({},m,this.mapNestedChildrenToProps(f,y))]),d))},i.prototype.mapObjectTypeChildren=function(l){var d,f,p=l.child,m=l.newProps,y=l.newChildProps,x=l.nestedChildren;switch(p.type){case rn.TITLE:return bs({},m,(d={},d[p.type]=x,d.titleAttributes=bs({},y),d));case rn.BODY:return bs({},m,{bodyAttributes:bs({},y)});case rn.HTML:return bs({},m,{htmlAttributes:bs({},y)})}return bs({},m,(f={},f[p.type]=bs({},y),f))},i.prototype.mapArrayTypeChildrenToProps=function(l,d){var f=bs({},d);return Object.keys(l).forEach(function(p){var m;f=bs({},f,(m={},m[p]=l[p],m))}),f},i.prototype.warnOnInvalidChildren=function(l,d){return!0},i.prototype.mapChildrenToProps=function(l,d){var f=this,p={};return Vt.Children.forEach(l,function(m){if(!(!m||!m.props)){var y=m.props,x=y.children,b=c4(y,["children"]),S=uK(b);switch(f.warnOnInvalidChildren(m,x),m.type){case rn.LINK:case rn.META:case rn.NOSCRIPT:case rn.SCRIPT:case rn.STYLE:p=f.flattenArrayTypeChildren({child:m,arrayTypeChildren:p,newChildProps:S,nestedChildren:x});break;default:d=f.mapObjectTypeChildren({child:m,newProps:d,newChildProps:S,nestedChildren:x});break}}}),d=this.mapArrayTypeChildrenToProps(p,d),d},i.prototype.render=function(){var l=this.props,d=l.children,f=c4(l,["children"]),p=bs({},f);return d&&(p=this.mapChildrenToProps(d,p)),Vt.createElement(e,p)},Xq(i,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),i}(Vt.Component),n.propTypes={base:Kn.object,bodyAttributes:Kn.object,children:Kn.oneOfType([Kn.arrayOf(Kn.node),Kn.node]),defaultTitle:Kn.string,defer:Kn.bool,encodeSpecialCharacters:Kn.bool,htmlAttributes:Kn.object,link:Kn.arrayOf(Kn.object),meta:Kn.arrayOf(Kn.object),noscript:Kn.arrayOf(Kn.object),onChangeClientState:Kn.func,script:Kn.arrayOf(Kn.object),style:Kn.arrayOf(Kn.object),title:Kn.string,titleAttributes:Kn.object,titleTemplate:Kn.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var s=e.rewind();return s||(s=fM({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},r},pK=function(){return null},mK=Bq(nK,aK,fM)(pK),f4=hK(mK);f4.renderStatic=f4.rewind;function gK(){const t=Hn();return j.useEffect(()=>{t("/")},[]),c.jsx(c.Fragment,{})}const Ww=j.createContext({});function Gw(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const Xw=typeof window<"u",hM=Xw?j.useLayoutEffect:j.useEffect,Ay=j.createContext(null);function Jw(t,e){t.indexOf(e)===-1&&t.push(e)}function Qw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Va=(t,e,n)=>n>e?e:n<t?t:n;let Zw=()=>{};const Ha={},pM=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function mM(t){return typeof t=="object"&&t!==null}const gM=t=>/^0[^.\s]+$/u.test(t);function e2(t){let e;return()=>(e===void 0&&(e=t()),e)}const fi=t=>t,yK=(t,e)=>n=>e(t(n)),jh=(...t)=>t.reduce(yK),Hf=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class t2{constructor(){this.subscriptions=[]}add(e){return Jw(this.subscriptions,e),()=>Qw(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Qi=t=>t*1e3,Zi=t=>t/1e3;function yM(t,e){return e?t*(1e3/e):0}const xM=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,xK=1e-7,vK=12;function bK(t,e,n,r,s){let i,a,l=0;do a=e+(n-e)/2,i=xM(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>xK&&++l<vK);return a}function Th(t,e,n,r){if(t===e&&n===r)return fi;const s=i=>bK(i,0,1,t,n);return i=>i===0||i===1?i:xM(s(i),e,r)}const vM=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,bM=t=>e=>1-t(1-e),wM=Th(.33,1.53,.69,.99),n2=bM(wM),SM=vM(n2),CM=t=>(t*=2)<1?.5*n2(t):.5*(2-Math.pow(2,-10*(t-1))),r2=t=>1-Math.sin(Math.acos(t)),NM=bM(r2),jM=vM(r2),wK=Th(.42,0,1,1),SK=Th(0,0,.58,1),TM=Th(.42,0,.58,1),CK=t=>Array.isArray(t)&&typeof t[0]!="number",EM=t=>Array.isArray(t)&&typeof t[0]=="number",NK={linear:fi,easeIn:wK,easeInOut:TM,easeOut:SK,circIn:r2,circInOut:jM,circOut:NM,backIn:n2,backInOut:SM,backOut:wM,anticipate:CM},jK=t=>typeof t=="string",h4=t=>{if(EM(t)){Zw(t.length===4);const[e,n,r,s]=t;return Th(e,n,r,s)}else if(jK(t))return NK[t];return t},em=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],p4={value:null};function TK(t,e){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},d=0;function f(m){a.has(m)&&(p.schedule(m),t()),d++,m(l)}const p={schedule:(m,y=!1,x=!1)=>{const S=x&&s?n:r;return y&&a.add(m),S.has(m)||S.add(m),m},cancel:m=>{r.delete(m),a.delete(m)},process:m=>{if(l=m,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(f),e&&p4.value&&p4.value.frameloop[e].push(d),d=0,n.clear(),s=!1,i&&(i=!1,p.process(m))}};return p}const EK=40;function AM(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=em.reduce((M,D)=>(M[D]=TK(i,e?D:void 0),M),{}),{setup:l,read:d,resolveKeyframes:f,preUpdate:p,update:m,preRender:y,render:x,postRender:b}=a,S=()=>{const M=Ha.useManualTiming?s.timestamp:performance.now();n=!1,Ha.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(M-s.timestamp,EK),1)),s.timestamp=M,s.isProcessing=!0,l.process(s),d.process(s),f.process(s),p.process(s),m.process(s),y.process(s),x.process(s),b.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(S))},C=()=>{n=!0,r=!0,s.isProcessing||t(S)};return{schedule:em.reduce((M,D)=>{const E=a[D];return M[D]=(A,F=!1,H=!1)=>(n||C(),E.schedule(A,F,H)),M},{}),cancel:M=>{for(let D=0;D<em.length;D++)a[em[D]].cancel(M)},state:s,steps:a}}const{schedule:tr,cancel:Vo,state:Hr,steps:Dv}=AM(typeof requestAnimationFrame<"u"?requestAnimationFrame:fi,!0);let Lm;function AK(){Lm=void 0}const Ns={now:()=>(Lm===void 0&&Ns.set(Hr.isProcessing||Ha.useManualTiming?Hr.timestamp:performance.now()),Lm),set:t=>{Lm=t,queueMicrotask(AK)}},kM=t=>e=>typeof e=="string"&&e.startsWith(t),s2=kM("--"),kK=kM("var(--"),i2=t=>kK(t)?OK.test(t.split("/*")[0].trim()):!1,OK=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Iu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},qf={...Iu,transform:t=>Va(0,1,t)},tm={...Iu,default:1},mf=t=>Math.round(t*1e5)/1e5,a2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function MK(t){return t==null}const DK=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,o2=(t,e)=>n=>!!(typeof n=="string"&&DK.test(n)&&n.startsWith(t)||e&&!MK(n)&&Object.prototype.hasOwnProperty.call(n,e)),OM=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,l]=r.match(a2);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},RK=t=>Va(0,255,t),Rv={...Iu,transform:t=>Math.round(RK(t))},Ll={test:o2("rgb","red"),parse:OM("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Rv.transform(t)+", "+Rv.transform(e)+", "+Rv.transform(n)+", "+mf(qf.transform(r))+")"};function _K(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const t1={test:o2("#"),parse:_K,transform:Ll.transform},Eh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),bo=Eh("deg"),ea=Eh("%"),Xt=Eh("px"),LK=Eh("vh"),PK=Eh("vw"),m4={...ea,parse:t=>ea.parse(t)/100,transform:t=>ea.transform(t*100)},lu={test:o2("hsl","hue"),parse:OM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ea.transform(mf(e))+", "+ea.transform(mf(n))+", "+mf(qf.transform(r))+")"},br={test:t=>Ll.test(t)||t1.test(t)||lu.test(t),parse:t=>Ll.test(t)?Ll.parse(t):lu.test(t)?lu.parse(t):t1.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ll.transform(t):lu.transform(t),getAnimatableNone:t=>{const e=br.parse(t);return e.alpha=0,br.transform(e)}},zK=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function IK(t){return isNaN(t)&&typeof t=="string"&&(t.match(a2)?.length||0)+(t.match(zK)?.length||0)>0}const MM="number",DM="color",BK="var",FK="var(",g4="${}",$K=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Kf(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=e.replace($K,d=>(br.test(d)?(r.color.push(i),s.push(DM),n.push(br.parse(d))):d.startsWith(FK)?(r.var.push(i),s.push(BK),n.push(d)):(r.number.push(i),s.push(MM),n.push(parseFloat(d))),++i,g4)).split(g4);return{values:n,split:l,indexes:r,types:s}}function RM(t){return Kf(t).values}function _M(t){const{split:e,types:n}=Kf(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const l=n[a];l===MM?i+=mf(s[a]):l===DM?i+=br.transform(s[a]):i+=s[a]}return i}}const UK=t=>typeof t=="number"?0:br.test(t)?br.getAnimatableNone(t):t;function VK(t){const e=RM(t);return _M(t)(e.map(UK))}const Ho={test:IK,parse:RM,createTransformer:_M,getAnimatableNone:VK};function _v(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function HK({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,d=2*n-l;s=_v(d,l,t+1/3),i=_v(d,l,t),a=_v(d,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function ug(t,e){return n=>n>0?e:t}const er=(t,e,n)=>t+(e-t)*n,Lv=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},qK=[t1,Ll,lu],KK=t=>qK.find(e=>e.test(t));function y4(t){const e=KK(t);if(!e)return!1;let n=e.parse(t);return e===lu&&(n=HK(n)),n}const x4=(t,e)=>{const n=y4(t),r=y4(e);if(!n||!r)return ug(t,e);const s={...n};return i=>(s.red=Lv(n.red,r.red,i),s.green=Lv(n.green,r.green,i),s.blue=Lv(n.blue,r.blue,i),s.alpha=er(n.alpha,r.alpha,i),Ll.transform(s))},n1=new Set(["none","hidden"]);function YK(t,e){return n1.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function WK(t,e){return n=>er(t,e,n)}function l2(t){return typeof t=="number"?WK:typeof t=="string"?i2(t)?ug:br.test(t)?x4:JK:Array.isArray(t)?LM:typeof t=="object"?br.test(t)?x4:GK:ug}function LM(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>l2(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function GK(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=l2(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function XK(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],a=t.indexes[i][r[i]],l=t.values[a]??0;n[s]=l,r[i]++}return n}const JK=(t,e)=>{const n=Ho.createTransformer(e),r=Kf(t),s=Kf(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?n1.has(t)&&!s.values.length||n1.has(e)&&!r.values.length?YK(t,e):jh(LM(XK(r,s),s.values),n):ug(t,e)};function PM(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?er(t,e,n):l2(t)(t,e)}const QK=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>tr.update(e,n),stop:()=>Vo(e),now:()=>Hr.isProcessing?Hr.timestamp:Ns.now()}},zM=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},dg=2e4;function c2(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<dg;)e+=n,r=t.next(e);return e>=dg?1/0:e}function ZK(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(c2(r),dg);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Zi(s)}}const eY=5;function IM(t,e,n){const r=Math.max(e-eY,0);return yM(n-t(r),e-r)}const ir={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Pv=.001;function tY({duration:t=ir.duration,bounce:e=ir.bounce,velocity:n=ir.velocity,mass:r=ir.mass}){let s,i,a=1-e;a=Va(ir.minDamping,ir.maxDamping,a),t=Va(ir.minDuration,ir.maxDuration,Zi(t)),a<1?(s=f=>{const p=f*a,m=p*t,y=p-n,x=r1(f,a),b=Math.exp(-m);return Pv-y/x*b},i=f=>{const m=f*a*t,y=m*n+n,x=Math.pow(a,2)*Math.pow(f,2)*t,b=Math.exp(-m),S=r1(Math.pow(f,2),a);return(-s(f)+Pv>0?-1:1)*((y-x)*b)/S}):(s=f=>{const p=Math.exp(-f*t),m=(f-n)*t+1;return-Pv+p*m},i=f=>{const p=Math.exp(-f*t),m=(n-f)*(t*t);return p*m});const l=5/t,d=rY(s,i,l);if(t=Qi(t),isNaN(d))return{stiffness:ir.stiffness,damping:ir.damping,duration:t};{const f=Math.pow(d,2)*r;return{stiffness:f,damping:a*2*Math.sqrt(r*f),duration:t}}}const nY=12;function rY(t,e,n){let r=n;for(let s=1;s<nY;s++)r=r-t(r)/e(r);return r}function r1(t,e){return t*Math.sqrt(1-e*e)}const sY=["duration","bounce"],iY=["stiffness","damping","mass"];function v4(t,e){return e.some(n=>t[n]!==void 0)}function aY(t){let e={velocity:ir.velocity,stiffness:ir.stiffness,damping:ir.damping,mass:ir.mass,isResolvedFromDuration:!1,...t};if(!v4(t,iY)&&v4(t,sY))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Va(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:ir.mass,stiffness:s,damping:i}}else{const n=tY(t);e={...e,...n,mass:ir.mass},e.isResolvedFromDuration=!0}return e}function fg(t=ir.visualDuration,e=ir.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:d,damping:f,mass:p,duration:m,velocity:y,isResolvedFromDuration:x}=aY({...n,velocity:-Zi(n.velocity||0)}),b=y||0,S=f/(2*Math.sqrt(d*p)),C=a-i,N=Zi(Math.sqrt(d/p)),k=Math.abs(C)<5;r||(r=k?ir.restSpeed.granular:ir.restSpeed.default),s||(s=k?ir.restDelta.granular:ir.restDelta.default);let M;if(S<1){const E=r1(N,S);M=A=>{const F=Math.exp(-S*N*A);return a-F*((b+S*N*C)/E*Math.sin(E*A)+C*Math.cos(E*A))}}else if(S===1)M=E=>a-Math.exp(-N*E)*(C+(b+N*C)*E);else{const E=N*Math.sqrt(S*S-1);M=A=>{const F=Math.exp(-S*N*A),H=Math.min(E*A,300);return a-F*((b+S*N*C)*Math.sinh(H)+E*C*Math.cosh(H))/E}}const D={calculatedDuration:x&&m||null,next:E=>{const A=M(E);if(x)l.done=E>=m;else{let F=E===0?b:0;S<1&&(F=E===0?Qi(b):IM(M,E,A));const H=Math.abs(F)<=r,Z=Math.abs(a-A)<=s;l.done=H&&Z}return l.value=l.done?a:A,l},toString:()=>{const E=Math.min(c2(D),dg),A=zM(F=>D.next(E*F).value,E,30);return E+"ms "+A},toTransition:()=>{}};return D}fg.applyToOptions=t=>{const e=ZK(t,100,fg);return t.ease=e.ease,t.duration=Qi(e.duration),t.type="keyframes",t};function s1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:d,restDelta:f=.5,restSpeed:p}){const m=t[0],y={done:!1,value:m},x=H=>l!==void 0&&H<l||d!==void 0&&H>d,b=H=>l===void 0?d:d===void 0||Math.abs(l-H)<Math.abs(d-H)?l:d;let S=n*e;const C=m+S,N=a===void 0?C:a(C);N!==C&&(S=N-m);const k=H=>-S*Math.exp(-H/r),M=H=>N+k(H),D=H=>{const Z=k(H),ve=M(H);y.done=Math.abs(Z)<=f,y.value=y.done?N:ve};let E,A;const F=H=>{x(y.value)&&(E=H,A=fg({keyframes:[y.value,b(y.value)],velocity:IM(M,H,y.value),damping:s,stiffness:i,restDelta:f,restSpeed:p}))};return F(0),{calculatedDuration:null,next:H=>{let Z=!1;return!A&&E===void 0&&(Z=!0,D(H),F(H)),E!==void 0&&H>=E?A.next(H-E):(!Z&&D(H),y)}}}function oY(t,e,n){const r=[],s=n||Ha.mix||PM,i=t.length-1;for(let a=0;a<i;a++){let l=s(t[a],t[a+1]);if(e){const d=Array.isArray(e)?e[a]||fi:e;l=jh(d,l)}r.push(l)}return r}function lY(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Zw(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=oY(e,r,s),d=l.length,f=p=>{if(a&&p<t[0])return e[0];let m=0;if(d>1)for(;m<t.length-2&&!(p<t[m+1]);m++);const y=Hf(t[m],t[m+1],p);return l[m](y)};return n?p=>f(Va(t[0],t[i-1],p)):f}function cY(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Hf(0,e,r);t.push(er(n,1,s))}}function uY(t){const e=[0];return cY(e,t.length-1),e}function dY(t,e){return t.map(n=>n*e)}function fY(t,e){return t.map(()=>e||TM).splice(0,t.length-1)}function gf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=CK(r)?r.map(h4):h4(r),i={done:!1,value:e[0]},a=dY(n&&n.length===e.length?n:uY(e),t),l=lY(a,e,{ease:Array.isArray(s)?s:fY(e,s)});return{calculatedDuration:t,next:d=>(i.value=l(d),i.done=d>=t,i)}}const hY=t=>t!==null;function u2(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(hY),l=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const pY={decay:s1,inertia:s1,tween:gf,keyframes:gf,spring:fg};function BM(t){typeof t.type=="string"&&(t.type=pY[t.type])}class d2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const mY=t=>t/100;class f2 extends d2{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Ns.now()&&this.tick(Ns.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;BM(e);const{type:n=gf,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=e;let{keyframes:l}=e;const d=n||gf;d!==gf&&typeof l[0]!="number"&&(this.mixKeyframes=jh(mY,PM(l[0],l[1])),l=[0,100]);const f=d({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...l].reverse(),velocity:-a})),f.calculatedDuration===null&&(f.calculatedDuration=c2(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:p,repeat:m,repeatType:y,repeatDelay:x,type:b,onUpdate:S,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const N=this.currentTime-f*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?N<0:N>s;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let M=this.currentTime,D=r;if(m){const H=Math.min(this.currentTime,s)/l;let Z=Math.floor(H),ve=H%1;!ve&&H>=1&&(ve=1),ve===1&&Z--,Z=Math.min(Z,m+1),!!(Z%2)&&(y==="reverse"?(ve=1-ve,x&&(ve-=x/l)):y==="mirror"&&(D=a)),M=Va(0,1,ve)*l}const E=k?{done:!1,value:p[0]}:D.next(M);i&&(E.value=i(E.value));let{done:A}=E;!k&&d!==null&&(A=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return F&&b!==s1&&(E.value=u2(p,this.options,C,this.speed)),S&&S(E.value),F&&this.finish(),E}then(e,n){return this.finished.then(e,n)}get duration(){return Zi(this.calculatedDuration)}get time(){return Zi(this.currentTime)}set time(e){e=Qi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ns.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Zi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=QK,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ns.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function gY(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Pl=t=>t*180/Math.PI,i1=t=>{const e=Pl(Math.atan2(t[1],t[0]));return a1(e)},yY={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:i1,rotateZ:i1,skewX:t=>Pl(Math.atan(t[1])),skewY:t=>Pl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},a1=t=>(t=t%360,t<0&&(t+=360),t),b4=i1,w4=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),S4=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),xY={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:w4,scaleY:S4,scale:t=>(w4(t)+S4(t))/2,rotateX:t=>a1(Pl(Math.atan2(t[6],t[5]))),rotateY:t=>a1(Pl(Math.atan2(-t[2],t[0]))),rotateZ:b4,rotate:b4,skewX:t=>Pl(Math.atan(t[4])),skewY:t=>Pl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function o1(t){return t.includes("scale")?1:0}function l1(t,e){if(!t||t==="none")return o1(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=xY,s=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=yY,s=l}if(!s)return o1(e);const i=r[e],a=s[1].split(",").map(bY);return typeof i=="function"?i(a):a[i]}const vY=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return l1(n,e)};function bY(t){return parseFloat(t.trim())}const Bu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Fu=new Set(Bu),C4=t=>t===Iu||t===Xt,wY=new Set(["x","y","z"]),SY=Bu.filter(t=>!wY.has(t));function CY(t){const e=[];return SY.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ql={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>l1(e,"x"),y:(t,{transform:e})=>l1(e,"y")};ql.translateX=ql.x;ql.translateY=ql.y;const Kl=new Set;let c1=!1,u1=!1,d1=!1;function FM(){if(u1){const t=Array.from(Kl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=CY(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{r.getValue(i)?.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}u1=!1,c1=!1,Kl.forEach(t=>t.complete(d1)),Kl.clear()}function $M(){Kl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(u1=!0)})}function NY(){d1=!0,$M(),FM(),d1=!1}class h2{constructor(e,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Kl.add(this),c1||(c1=!0,tr.read($M),tr.resolveKeyframes(FM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s?.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}gY(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Kl.delete(this)}cancel(){this.state==="scheduled"&&(Kl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const jY=t=>t.startsWith("--");function TY(t,e,n){jY(e)?t.style.setProperty(e,n):t.style[e]=n}const EY=e2(()=>window.ScrollTimeline!==void 0),AY={};function kY(t,e){const n=e2(t);return()=>AY[e]??n()}const UM=kY(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),af=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,N4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:af([0,.65,.55,1]),circOut:af([.55,0,1,.45]),backIn:af([.31,.01,.66,-.59]),backOut:af([.33,1.53,.69,.99])};function VM(t,e){if(t)return typeof t=="function"?UM()?zM(t,e):"ease-out":EM(t)?af(t):Array.isArray(t)?t.map(n=>VM(n,e)||N4.easeOut):N4[t]}function OY(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:l="easeOut",times:d}={},f=void 0){const p={[e]:n};d&&(p.offset=d);const m=VM(l,s);Array.isArray(m)&&(p.easing=m);const y={delay:r,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return f&&(y.pseudoElement=f),t.animate(p,y)}function HM(t){return typeof t=="function"&&"applyToOptions"in t}function MY({type:t,...e}){return HM(t)&&UM()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class DY extends d2{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:l,onComplete:d}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,Zw(typeof e.type!="string");const f=MY(e);this.animation=OY(n,r,s,f,i),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const p=u2(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(p):TY(n,r,p),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Zi(Number(e))}get time(){return Zi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Qi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&EY()?(this.animation.timeline=e,fi):n(this)}}const qM={anticipate:CM,backInOut:SM,circInOut:jM};function RY(t){return t in qM}function _Y(t){typeof t.ease=="string"&&RY(t.ease)&&(t.ease=qM[t.ease])}const j4=10;class LY extends DY{constructor(e){_Y(e),BM(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new f2({...a,autoplay:!1}),d=Qi(this.finishedTime??this.time);n.setWithVelocity(l.sample(d-j4).value,l.sample(d).value,j4),l.stop()}}const T4=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ho.test(t)||t==="0")&&!t.startsWith("url("));function PY(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function zY(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=T4(s,e),l=T4(i,e);return!a||!l?!1:PY(t)||(n==="spring"||HM(n))&&r}function p2(t){return mM(t)&&"offsetHeight"in t}const IY=new Set(["opacity","clipPath","filter","transform"]),BY=e2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function FY(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=t;if(!p2(e?.owner?.current))return!1;const{onUpdate:l,transformTemplate:d}=e.owner.getProps();return BY()&&n&&IY.has(n)&&(n!=="transform"||!d)&&!l&&!r&&s!=="mirror"&&i!==0&&a!=="inertia"}const $Y=40;class UY extends d2{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:l,name:d,motionValue:f,element:p,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ns.now();const y={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:d,motionValue:f,element:p,...m},x=p?.KeyframeResolver||h2;this.keyframeResolver=new x(l,(b,S,C)=>this.onKeyframesResolved(b,S,y,!C),d,f,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:l,delay:d,isHandoff:f,onUpdate:p}=r;this.resolvedAt=Ns.now(),zY(e,i,a,l)||((Ha.instantAnimations||!d)&&p?.(u2(e,r,n)),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const y={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>$Y?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},x=!f&&FY(y)?new LY({...y,element:y.motionValue.owner.current}):new f2(y);x.finished.then(()=>this.notifyFinished()).catch(fi),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),NY()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const VY=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function HY(t){const e=VY.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function KM(t,e,n=1){const[r,s]=HY(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return pM(a)?parseFloat(a):a}return i2(s)?KM(s,e,n+1):s}function m2(t,e){return t?.[e]??t?.default??t}const YM=new Set(["width","height","top","left","right","bottom",...Bu]),qY={test:t=>t==="auto",parse:t=>t},WM=t=>e=>e.test(t),GM=[Iu,Xt,ea,bo,PK,LK,qY],E4=t=>GM.find(WM(t));function KY(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||gM(t):!0}const YY=new Set(["brightness","contrast","saturate","opacity"]);function WY(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(a2)||[];if(!r)return t;const s=n.replace(r,"");let i=YY.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const GY=/\b([a-z-]*)\(.*?\)/gu,f1={...Ho,getAnimatableNone:t=>{const e=t.match(GY);return e?e.map(WY).join(" "):t}},A4={...Iu,transform:Math.round},XY={rotate:bo,rotateX:bo,rotateY:bo,rotateZ:bo,scale:tm,scaleX:tm,scaleY:tm,scaleZ:tm,skew:bo,skewX:bo,skewY:bo,distance:Xt,translateX:Xt,translateY:Xt,translateZ:Xt,x:Xt,y:Xt,z:Xt,perspective:Xt,transformPerspective:Xt,opacity:qf,originX:m4,originY:m4,originZ:Xt},g2={borderWidth:Xt,borderTopWidth:Xt,borderRightWidth:Xt,borderBottomWidth:Xt,borderLeftWidth:Xt,borderRadius:Xt,radius:Xt,borderTopLeftRadius:Xt,borderTopRightRadius:Xt,borderBottomRightRadius:Xt,borderBottomLeftRadius:Xt,width:Xt,maxWidth:Xt,height:Xt,maxHeight:Xt,top:Xt,right:Xt,bottom:Xt,left:Xt,padding:Xt,paddingTop:Xt,paddingRight:Xt,paddingBottom:Xt,paddingLeft:Xt,margin:Xt,marginTop:Xt,marginRight:Xt,marginBottom:Xt,marginLeft:Xt,backgroundPositionX:Xt,backgroundPositionY:Xt,...XY,zIndex:A4,fillOpacity:qf,strokeOpacity:qf,numOctaves:A4},JY={...g2,color:br,backgroundColor:br,outlineColor:br,fill:br,stroke:br,borderColor:br,borderTopColor:br,borderRightColor:br,borderBottomColor:br,borderLeftColor:br,filter:f1,WebkitFilter:f1},XM=t=>JY[t];function JM(t,e){let n=XM(t);return n!==f1&&(n=Ho),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const QY=new Set(["auto","none","0"]);function ZY(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!QY.has(i)&&Kf(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=JM(n,s)}class eW extends h2{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let f=e[d];if(typeof f=="string"&&(f=f.trim(),i2(f))){const p=KM(f,n.current);p!==void 0&&(e[d]=p),d===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!YM.has(r)||e.length!==2)return;const[s,i]=e,a=E4(s),l=E4(i);if(a!==l)if(C4(a)&&C4(l))for(let d=0;d<e.length;d++){const f=e[d];typeof f=="string"&&(e[d]=parseFloat(f))}else ql[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||KY(e[s]))&&r.push(s);r.length&&ZY(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ql[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=ql[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,d])=>{e.getValue(l).set(d)}),this.resolveNoneKeyframes()}}function tW(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=n?.[t]??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const QM=(t,e)=>e&&typeof t=="number"?e.transform(t):t,k4=30,nW=t=>!isNaN(parseFloat(t));class rW{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Ns.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty();s&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ns.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=nW(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new t2);const r=this.events[e].add(n);return e==="change"?()=>{r(),tr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ns.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>k4)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,k4);return yM(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wu(t,e){return new rW(t,e)}const{schedule:y2}=AM(queueMicrotask,!1),Si={x:!1,y:!1};function ZM(){return Si.x||Si.y}function sW(t){return t==="x"||t==="y"?Si[t]?null:(Si[t]=!0,()=>{Si[t]=!1}):Si.x||Si.y?null:(Si.x=Si.y=!0,()=>{Si.x=Si.y=!1})}function eD(t,e){const n=tW(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function O4(t){return!(t.pointerType==="touch"||ZM())}function iW(t,e,n={}){const[r,s,i]=eD(t,n),a=l=>{if(!O4(l))return;const{target:d}=l,f=e(d,l);if(typeof f!="function"||!d)return;const p=m=>{O4(m)&&(f(m),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,s)};return r.forEach(l=>{l.addEventListener("pointerenter",a,s)}),i}const tD=(t,e)=>e?t===e?!0:tD(t,e.parentElement):!1,x2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,aW=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function oW(t){return aW.has(t.tagName)||t.tabIndex!==-1}const Pm=new WeakSet;function M4(t){return e=>{e.key==="Enter"&&t(e)}}function zv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const lW=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=M4(()=>{if(Pm.has(n))return;zv(n,"down");const s=M4(()=>{zv(n,"up")}),i=()=>zv(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function D4(t){return x2(t)&&!ZM()}function cW(t,e,n={}){const[r,s,i]=eD(t,n),a=l=>{const d=l.currentTarget;if(!D4(l))return;Pm.add(d);const f=e(d,l),p=(x,b)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",y),Pm.has(d)&&Pm.delete(d),D4(x)&&typeof f=="function"&&f(x,{success:b})},m=x=>{p(x,d===window||d===document||n.useGlobalTarget||tD(d,x.target))},y=x=>{p(x,!1)};window.addEventListener("pointerup",m,s),window.addEventListener("pointercancel",y,s)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,s),p2(l)&&(l.addEventListener("focus",f=>lW(f,s)),!oW(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function nD(t){return mM(t)&&"ownerSVGElement"in t}function uW(t){return nD(t)&&t.tagName==="svg"}const es=t=>!!(t&&t.getVelocity),dW=[...GM,br,Ho],fW=t=>dW.find(WM(t)),v2=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class hW extends j.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=p2(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function pW({children:t,isPresent:e,anchorX:n}){const r=j.useId(),s=j.useRef(null),i=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=j.useContext(v2);return j.useInsertionEffect(()=>{const{width:l,height:d,top:f,left:p,right:m}=i.current;if(e||!s.current||!l||!d)return;const y=n==="left"?`left: ${p}`:`right: ${m}`;s.current.dataset.motionPopId=r;const x=document.createElement("style");return a&&(x.nonce=a),document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${d}px !important;
            ${y}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.contains(x)&&document.head.removeChild(x)}},[e]),c.jsx(hW,{isPresent:e,childRef:s,sizeRef:i,children:j.cloneElement(t,{ref:s})})}const mW=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a,anchorX:l})=>{const d=Gw(gW),f=j.useId();let p=!0,m=j.useMemo(()=>(p=!1,{id:f,initial:e,isPresent:n,custom:s,onExitComplete:y=>{d.set(y,!0);for(const x of d.values())if(!x)return;r&&r()},register:y=>(d.set(y,!1),()=>d.delete(y))}),[n,d,r]);return i&&p&&(m={...m}),j.useMemo(()=>{d.forEach((y,x)=>d.set(x,!1))},[n]),j.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),a==="popLayout"&&(t=c.jsx(pW,{isPresent:n,anchorX:l,children:t})),c.jsx(Ay.Provider,{value:m,children:t})};function gW(){return new Map}function rD(t=!0){const e=j.useContext(Ay);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=j.useId();j.useEffect(()=>{if(t)return s(i)},[t]);const a=j.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const nm=t=>t.key||"";function R4(t){const e=[];return j.Children.forEach(t,n=>{j.isValidElement(n)&&e.push(n)}),e}const yW=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:l="left"})=>{const[d,f]=rD(a),p=j.useMemo(()=>R4(t),[t]),m=a&&!d?[]:p.map(nm),y=j.useRef(!0),x=j.useRef(p),b=Gw(()=>new Map),[S,C]=j.useState(p),[N,k]=j.useState(p);hM(()=>{y.current=!1,x.current=p;for(let E=0;E<N.length;E++){const A=nm(N[E]);m.includes(A)?b.delete(A):b.get(A)!==!0&&b.set(A,!1)}},[N,m.length,m.join("-")]);const M=[];if(p!==S){let E=[...p];for(let A=0;A<N.length;A++){const F=N[A],H=nm(F);m.includes(H)||(E.splice(A,0,F),M.push(F))}return i==="wait"&&M.length&&(E=M),k(R4(E)),C(p),null}const{forceRender:D}=j.useContext(Ww);return c.jsx(c.Fragment,{children:N.map(E=>{const A=nm(E),F=a&&!d?!1:p===N||m.includes(A),H=()=>{if(b.has(A))b.set(A,!0);else return;let Z=!0;b.forEach(ve=>{ve||(Z=!1)}),Z&&(D?.(),k(x.current),a&&f?.(),r&&r())};return c.jsx(mW,{isPresent:F,initial:!y.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,onExitComplete:F?void 0:H,anchorX:l,children:E},A)})})},sD=j.createContext({strict:!1}),_4={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Su={};for(const t in _4)Su[t]={isEnabled:e=>_4[t].some(n=>!!e[n])};function xW(t){for(const e in t)Su[e]={...Su[e],...t[e]}}const vW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function hg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||vW.has(t)}let iD=t=>!hg(t);function bW(t){typeof t=="function"&&(iD=e=>e.startsWith("on")?!hg(e):t(e))}try{bW(require("@emotion/is-prop-valid").default)}catch{}function wW(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(iD(s)||n===!0&&hg(s)||!e&&!hg(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function SW(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const ky=j.createContext({});function Oy(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Yf(t){return typeof t=="string"||Array.isArray(t)}const b2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],w2=["initial",...b2];function My(t){return Oy(t.animate)||w2.some(e=>Yf(t[e]))}function aD(t){return!!(My(t)||t.variants)}function CW(t,e){if(My(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Yf(n)?n:void 0,animate:Yf(r)?r:void 0}}return t.inherit!==!1?e:{}}function NW(t){const{initial:e,animate:n}=CW(t,j.useContext(ky));return j.useMemo(()=>({initial:e,animate:n}),[L4(e),L4(n)])}function L4(t){return Array.isArray(t)?t.join(" "):t}const jW=Symbol.for("motionComponentSymbol");function cu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function TW(t,e,n){return j.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):cu(n)&&(n.current=r))},[e])}const S2=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),EW="framerAppearId",oD="data-"+S2(EW),lD=j.createContext({});function AW(t,e,n,r,s){const{visualElement:i}=j.useContext(ky),a=j.useContext(sD),l=j.useContext(Ay),d=j.useContext(v2).reducedMotion,f=j.useRef(null);r=r||a.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:d}));const p=f.current,m=j.useContext(lD);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&kW(f.current,n,s,m);const y=j.useRef(!1);j.useInsertionEffect(()=>{p&&y.current&&p.update(n,l)});const x=n[oD],b=j.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return hM(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),y2.render(p.render),b.current&&p.animationState&&p.animationState.animateChanges())}),j.useEffect(()=>{p&&(!b.current&&p.animationState&&p.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),b.current=!1))}),p}function kW(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:l,layoutScroll:d,layoutRoot:f,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:cD(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||l&&cu(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:d,layoutRoot:f})}function cD(t){if(t)return t.options.allowProjection!==!1?t.projection:cD(t.parent)}function OW({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&xW(t);function i(l,d){let f;const p={...j.useContext(v2),...l,layoutId:MW(l)},{isStatic:m}=p,y=NW(l),x=r(l,m);if(!m&&Xw){DW();const b=RW(p);f=b.MeasureLayout,y.visualElement=AW(s,x,p,e,b.ProjectionNode)}return c.jsxs(ky.Provider,{value:y,children:[f&&y.visualElement?c.jsx(f,{visualElement:y.visualElement,...p}):null,n(s,l,TW(x,y.visualElement,d),x,m,y.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const a=j.forwardRef(i);return a[jW]=s,a}function MW({layoutId:t}){const e=j.useContext(Ww).id;return e&&t!==void 0?e+"-"+t:t}function DW(t,e){j.useContext(sD).strict}function RW(t){const{drag:e,layout:n}=Su;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Wf={};function _W(t){for(const e in t)Wf[e]=t[e],s2(e)&&(Wf[e].isCSSVariable=!0)}function uD(t,{layout:e,layoutId:n}){return Fu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Wf[t]||t==="opacity")}const LW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},PW=Bu.length;function zW(t,e,n){let r="",s=!0;for(let i=0;i<PW;i++){const a=Bu[i],l=t[a];if(l===void 0)continue;let d=!0;if(typeof l=="number"?d=l===(a.startsWith("scale")?1:0):d=parseFloat(l)===0,!d||n){const f=QM(l,g2[a]);if(!d){s=!1;const p=LW[a]||a;r+=`${p}(${f}) `}n&&(e[a]=f)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function C2(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,l=!1;for(const d in e){const f=e[d];if(Fu.has(d)){a=!0;continue}else if(s2(d)){s[d]=f;continue}else{const p=QM(f,g2[d]);d.startsWith("origin")?(l=!0,i[d]=p):r[d]=p}}if(e.transform||(a||n?r.transform=zW(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:d="50%",originY:f="50%",originZ:p=0}=i;r.transformOrigin=`${d} ${f} ${p}`}}const N2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function dD(t,e,n){for(const r in e)!es(e[r])&&!uD(r,n)&&(t[r]=e[r])}function IW({transformTemplate:t},e){return j.useMemo(()=>{const n=N2();return C2(n,e,t),Object.assign({},n.vars,n.style)},[e])}function BW(t,e){const n=t.style||{},r={};return dD(r,n,t),Object.assign(r,IW(t,e)),r}function FW(t,e){const n={},r=BW(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const $W={offset:"stroke-dashoffset",array:"stroke-dasharray"},UW={offset:"strokeDashoffset",array:"strokeDasharray"};function VW(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?$W:UW;t[i.offset]=Xt.transform(-r);const a=Xt.transform(e),l=Xt.transform(n);t[i.array]=`${a} ${l}`}function fD(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...l},d,f,p){if(C2(t,l,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:y}=t;m.transform&&(y.transform=m.transform,delete m.transform),(y.transform||m.transformOrigin)&&(y.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),y.transform&&(y.transformBox=p?.transformBox??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&VW(m,s,i,a,!1)}const hD=()=>({...N2(),attrs:{}}),pD=t=>typeof t=="string"&&t.toLowerCase()==="svg";function HW(t,e,n,r){const s=j.useMemo(()=>{const i=hD();return fD(i,e,pD(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};dD(i,t.style,t),s.style={...i,...s.style}}return s}const qW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function j2(t){return typeof t!="string"||t.includes("-")?!1:!!(qW.indexOf(t)>-1||/[A-Z]/u.test(t))}function KW(t=!1){return(n,r,s,{latestValues:i},a)=>{const d=(j2(n)?HW:FW)(r,i,a,n),f=wW(r,typeof n=="string",t),p=n!==j.Fragment?{...f,...d,ref:s}:{},{children:m}=r,y=j.useMemo(()=>es(m)?m.get():m,[m]);return j.createElement(n,{...p,children:y})}}function P4(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function T2(t,e,n,r){if(typeof e=="function"){const[s,i]=P4(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=P4(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function zm(t){return es(t)?t.get():t}function YW({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:WW(n,r,s,t),renderState:e()}}const mD=t=>(e,n)=>{const r=j.useContext(ky),s=j.useContext(Ay),i=()=>YW(t,e,r,s);return n?i():Gw(i)};function WW(t,e,n,r){const s={},i=r(t,{});for(const y in i)s[y]=zm(i[y]);let{initial:a,animate:l}=t;const d=My(t),f=aD(t);e&&f&&!d&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let p=n?n.initial===!1:!1;p=p||a===!1;const m=p?l:a;if(m&&typeof m!="boolean"&&!Oy(m)){const y=Array.isArray(m)?m:[m];for(let x=0;x<y.length;x++){const b=T2(t,y[x]);if(b){const{transitionEnd:S,transition:C,...N}=b;for(const k in N){let M=N[k];if(Array.isArray(M)){const D=p?M.length-1:0;M=M[D]}M!==null&&(s[k]=M)}for(const k in S)s[k]=S[k]}}}return s}function E2(t,e,n){const{style:r}=t,s={};for(const i in r)(es(r[i])||e.style&&es(e.style[i])||uD(i,t)||n?.getValue(i)?.liveStyle!==void 0)&&(s[i]=r[i]);return s}const GW={useVisualState:mD({scrapeMotionValuesFromProps:E2,createRenderState:N2})};function gD(t,e,n){const r=E2(t,e,n);for(const s in t)if(es(t[s])||es(e[s])){const i=Bu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const XW={useVisualState:mD({scrapeMotionValuesFromProps:gD,createRenderState:hD})};function JW(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...j2(r)?XW:GW,preloadedFeatures:t,useRender:KW(s),createVisualElement:e,Component:r};return OW(a)}}function Gf(t,e,n){const r=t.getProps();return T2(r,e,n!==void 0?n:r.custom,t)}const h1=t=>Array.isArray(t);function QW(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,wu(n))}function ZW(t){return h1(t)?t[t.length-1]||0:t}function eG(t,e){const n=Gf(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const l=ZW(i[a]);QW(t,a,l)}}function tG(t){return!!(es(t)&&t.add)}function p1(t,e){const n=t.getValue("willChange");if(tG(n))return n.add(e);if(!n&&Ha.WillChange){const r=new Ha.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function yD(t){return t.props[oD]}const nG=t=>t!==null;function rG(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(nG),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const sG={type:"spring",stiffness:500,damping:25,restSpeed:10},iG=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),aG={type:"keyframes",duration:.8},oG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},lG=(t,{keyframes:e})=>e.length>2?aG:Fu.has(t)?t.startsWith("scale")?iG(e[1]):sG:oG;function cG({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:d,elapsed:f,...p}){return!!Object.keys(p).length}const A2=(t,e,n,r={},s,i)=>a=>{const l=m2(r,t)||{},d=l.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Qi(d);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-f,onUpdate:y=>{e.set(y),l.onUpdate&&l.onUpdate(y)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:s};cG(l)||Object.assign(p,lG(t,p)),p.duration&&(p.duration=Qi(p.duration)),p.repeatDelay&&(p.repeatDelay=Qi(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let m=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(m=!0)),(Ha.instantAnimations||Ha.skipAnimations)&&(m=!0,p.duration=0,p.delay=0),p.allowFlatten=!l.type&&!l.ease,m&&!i&&e.get()!==void 0){const y=rG(p.keyframes,l);if(y!==void 0){tr.update(()=>{p.onUpdate(y),p.onComplete()});return}}return l.isSync?new f2(p):new UY(p)};function uG({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function xD(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(i=r);const d=[],f=s&&t.animationState&&t.animationState.getState()[s];for(const p in l){const m=t.getValue(p,t.latestValues[p]??null),y=l[p];if(y===void 0||f&&uG(f,p))continue;const x={delay:n,...m2(i||{},p)},b=m.get();if(b!==void 0&&!m.isAnimating&&!Array.isArray(y)&&y===b&&!x.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const N=yD(t);if(N){const k=window.MotionHandoffAnimation(N,p,tr);k!==null&&(x.startTime=k,S=!0)}}p1(t,p),m.start(A2(p,m,y,t.shouldReduceMotion&&YM.has(p)?{type:!1}:x,t,S));const C=m.animation;C&&d.push(C)}return a&&Promise.all(d).then(()=>{tr.update(()=>{a&&eG(t,a)})}),d}function m1(t,e,n={}){const r=Gf(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(xD(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:m}=s;return dG(t,e,f+d,p,m,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[d,f]=l==="beforeChildren"?[i,a]:[a,i];return d().then(()=>f())}else return Promise.all([i(),a(n.delay)])}function dG(t,e,n=0,r=0,s=1,i){const a=[],l=(t.variantChildren.size-1)*r,d=s===1?(f=0)=>f*r:(f=0)=>l-f*r;return Array.from(t.variantChildren).sort(fG).forEach((f,p)=>{f.notify("AnimationStart",e),a.push(m1(f,e,{...i,delay:n+d(p)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(a)}function fG(t,e){return t.sortNodePosition(e)}function hG(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>m1(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=m1(t,e,n);else{const s=typeof e=="function"?Gf(t,e,n.custom):e;r=Promise.all(xD(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function vD(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const pG=w2.length;function bD(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?bD(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<pG;n++){const r=w2[n],s=t.props[r];(Yf(s)||s===!1)&&(e[r]=s)}return e}const mG=[...b2].reverse(),gG=b2.length;function yG(t){return e=>Promise.all(e.map(({animation:n,options:r})=>hG(t,n,r)))}function xG(t){let e=yG(t),n=z4(),r=!0;const s=d=>(f,p)=>{const m=Gf(t,p,d==="exit"?t.presenceContext?.custom:void 0);if(m){const{transition:y,transitionEnd:x,...b}=m;f={...f,...b,...x}}return f};function i(d){e=d(t)}function a(d){const{props:f}=t,p=bD(t.parent)||{},m=[],y=new Set;let x={},b=1/0;for(let C=0;C<gG;C++){const N=mG[C],k=n[N],M=f[N]!==void 0?f[N]:p[N],D=Yf(M),E=N===d?k.isActive:null;E===!1&&(b=C);let A=M===p[N]&&M!==f[N]&&D;if(A&&r&&t.manuallyAnimateOnMount&&(A=!1),k.protectedKeys={...x},!k.isActive&&E===null||!M&&!k.prevProp||Oy(M)||typeof M=="boolean")continue;const F=vG(k.prevProp,M);let H=F||N===d&&k.isActive&&!A&&D||C>b&&D,Z=!1;const ve=Array.isArray(M)?M:[M];let ue=ve.reduce(s(N),{});E===!1&&(ue={});const{prevResolvedValues:oe={}}=k,te={...oe,...ue},ne=le=>{H=!0,y.has(le)&&(Z=!0,y.delete(le)),k.needsAnimating[le]=!0;const be=t.getValue(le);be&&(be.liveStyle=!1)};for(const le in te){const be=ue[le],Fe=oe[le];if(x.hasOwnProperty(le))continue;let $=!1;h1(be)&&h1(Fe)?$=!vD(be,Fe):$=be!==Fe,$?be!=null?ne(le):y.add(le):be!==void 0&&y.has(le)?ne(le):k.protectedKeys[le]=!0}k.prevProp=M,k.prevResolvedValues=ue,k.isActive&&(x={...x,...ue}),r&&t.blockInitialAnimation&&(H=!1),H&&(!(A&&F)||Z)&&m.push(...ve.map(le=>({animation:le,options:{type:N}})))}if(y.size){const C={};if(typeof f.initial!="boolean"){const N=Gf(t,Array.isArray(f.initial)?f.initial[0]:f.initial);N&&N.transition&&(C.transition=N.transition)}y.forEach(N=>{const k=t.getBaseTarget(N),M=t.getValue(N);M&&(M.liveStyle=!0),C[N]=k??null}),m.push({animation:C})}let S=!!m.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(m):Promise.resolve()}function l(d,f){if(n[d].isActive===f)return Promise.resolve();t.variantChildren?.forEach(m=>m.animationState?.setActive(d,f)),n[d].isActive=f;const p=a(d);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=z4(),r=!0}}}function vG(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!vD(e,t):!1}function Sl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function z4(){return{animate:Sl(!0),whileInView:Sl(),whileHover:Sl(),whileTap:Sl(),whileDrag:Sl(),whileFocus:Sl(),exit:Sl()}}class Jo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class bG extends Jo{constructor(e){super(e),e.animationState||(e.animationState=xG(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Oy(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let wG=0;class SG extends Jo{constructor(){super(...arguments),this.id=wG++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const CG={animation:{Feature:bG},exit:{Feature:SG}};function Xf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ah(t){return{point:{x:t.pageX,y:t.pageY}}}const NG=t=>e=>x2(e)&&t(e,Ah(e));function yf(t,e,n,r){return Xf(t,e,NG(n),r)}function wD({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function jG({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function TG(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const SD=1e-4,EG=1-SD,AG=1+SD,CD=.01,kG=0-CD,OG=0+CD;function us(t){return t.max-t.min}function MG(t,e,n){return Math.abs(t-e)<=n}function I4(t,e,n,r=.5){t.origin=r,t.originPoint=er(e.min,e.max,t.origin),t.scale=us(n)/us(e),t.translate=er(n.min,n.max,t.origin)-t.originPoint,(t.scale>=EG&&t.scale<=AG||isNaN(t.scale))&&(t.scale=1),(t.translate>=kG&&t.translate<=OG||isNaN(t.translate))&&(t.translate=0)}function xf(t,e,n,r){I4(t.x,e.x,n.x,r?r.originX:void 0),I4(t.y,e.y,n.y,r?r.originY:void 0)}function B4(t,e,n){t.min=n.min+e.min,t.max=t.min+us(e)}function DG(t,e,n){B4(t.x,e.x,n.x),B4(t.y,e.y,n.y)}function F4(t,e,n){t.min=e.min-n.min,t.max=t.min+us(e)}function vf(t,e,n){F4(t.x,e.x,n.x),F4(t.y,e.y,n.y)}const $4=()=>({translate:0,scale:1,origin:0,originPoint:0}),uu=()=>({x:$4(),y:$4()}),U4=()=>({min:0,max:0}),fr=()=>({x:U4(),y:U4()});function ii(t){return[t("x"),t("y")]}function Iv(t){return t===void 0||t===1}function g1({scale:t,scaleX:e,scaleY:n}){return!Iv(t)||!Iv(e)||!Iv(n)}function Tl(t){return g1(t)||ND(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ND(t){return V4(t.x)||V4(t.y)}function V4(t){return t&&t!=="0%"}function pg(t,e,n){const r=t-n,s=e*r;return n+s}function H4(t,e,n,r,s){return s!==void 0&&(t=pg(t,s,r)),pg(t,n,r)+e}function y1(t,e=0,n=1,r,s){t.min=H4(t.min,e,n,r,s),t.max=H4(t.max,e,n,r,s)}function jD(t,{x:e,y:n}){y1(t.x,e.translate,e.scale,e.originPoint),y1(t.y,n.translate,n.scale,n.originPoint)}const q4=.999999999999,K4=1.0000000000001;function RG(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let l=0;l<s;l++){i=n[l],a=i.projectionDelta;const{visualElement:d}=i.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&fu(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,jD(t,a)),r&&Tl(i.latestValues)&&fu(t,i.latestValues))}e.x<K4&&e.x>q4&&(e.x=1),e.y<K4&&e.y>q4&&(e.y=1)}function du(t,e){t.min=t.min+e,t.max=t.max+e}function Y4(t,e,n,r,s=.5){const i=er(t.min,t.max,s);y1(t,e,n,i,r)}function fu(t,e){Y4(t.x,e.x,e.scaleX,e.scale,e.originX),Y4(t.y,e.y,e.scaleY,e.scale,e.originY)}function TD(t,e){return wD(TG(t.getBoundingClientRect(),e))}function _G(t,e,n){const r=TD(t,n),{scroll:s}=e;return s&&(du(r.x,s.offset.x),du(r.y,s.offset.y)),r}const ED=({current:t})=>t?t.ownerDocument.defaultView:null,W4=(t,e)=>Math.abs(t-e);function LG(t,e){const n=W4(t.x,e.x),r=W4(t.y,e.y);return Math.sqrt(n**2+r**2)}class AD{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Fv(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,x=LG(m.offset,{x:0,y:0})>=3;if(!y&&!x)return;const{point:b}=m,{timestamp:S}=Hr;this.history.push({...b,timestamp:S});const{onStart:C,onMove:N}=this.handlers;y||(C&&C(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,m)},this.handlePointerMove=(m,y)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Bv(y,this.transformPagePoint),tr.update(this.updatePoint,!0)},this.handlePointerUp=(m,y)=>{this.end();const{onEnd:x,onSessionEnd:b,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Fv(m.type==="pointercancel"?this.lastMoveEventInfo:Bv(y,this.transformPagePoint),this.history);this.startEvent&&x&&x(m,C),b&&b(m,C)},!x2(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=Ah(e),l=Bv(a,this.transformPagePoint),{point:d}=l,{timestamp:f}=Hr;this.history=[{...d,timestamp:f}];const{onSessionStart:p}=n;p&&p(e,Fv(l,this.history)),this.removeListeners=jh(yf(this.contextWindow,"pointermove",this.handlePointerMove),yf(this.contextWindow,"pointerup",this.handlePointerUp),yf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Vo(this.updatePoint)}}function Bv(t,e){return e?{point:e(t.point)}:t}function G4(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Fv({point:t},e){return{point:t,delta:G4(t,kD(e)),offset:G4(t,PG(e)),velocity:zG(e,.1)}}function PG(t){return t[0]}function kD(t){return t[t.length-1]}function zG(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=kD(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Qi(e)));)n--;if(!r)return{x:0,y:0};const i=Zi(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function IG(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?er(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?er(n,t,r.max):Math.min(t,n)),t}function X4(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function BG(t,{top:e,left:n,bottom:r,right:s}){return{x:X4(t.x,n,s),y:X4(t.y,e,r)}}function J4(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function FG(t,e){return{x:J4(t.x,e.x),y:J4(t.y,e.y)}}function $G(t,e){let n=.5;const r=us(t),s=us(e);return s>r?n=Hf(e.min,e.max-r,t.min):r>s&&(n=Hf(t.min,t.max-s,e.min)),Va(0,1,n)}function UG(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const x1=.35;function VG(t=x1){return t===!1?t=0:t===!0&&(t=x1),{x:Q4(t,"left","right"),y:Q4(t,"top","bottom")}}function Q4(t,e,n){return{min:Z4(t,e),max:Z4(t,n)}}function Z4(t,e){return typeof t=="number"?t:t[e]||0}const HG=new WeakMap;class qG{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=fr(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ah(p).point)},i=(p,m)=>{const{drag:y,dragPropagation:x,onDragStart:b}=this.getProps();if(y&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=sW(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ii(C=>{let N=this.getAxisMotionValue(C).get()||0;if(ea.test(N)){const{projection:k}=this.visualElement;if(k&&k.layout){const M=k.layout.layoutBox[C];M&&(N=us(M)*(parseFloat(N)/100))}}this.originPoint[C]=N}),b&&tr.postRender(()=>b(p,m)),p1(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},a=(p,m)=>{const{dragPropagation:y,dragDirectionLock:x,onDirectionLock:b,onDrag:S}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:C}=m;if(x&&this.currentDirection===null){this.currentDirection=KG(C),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",m.point,C),this.updateAxis("y",m.point,C),this.visualElement.render(),S&&S(p,m)},l=(p,m)=>this.stop(p,m),d=()=>ii(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new AD(e,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:l,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:ED(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&tr.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!rm(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=IG(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&cu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=BG(r.layoutBox,e):this.constraints=!1,this.elastic=VG(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ii(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=UG(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!cu(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=_G(r,s.root,this.visualElement.getTransformPagePoint());let a=FG(s.layout.layoutBox,i);if(n){const l=n(jG(a));this.hasMutatedConstraints=!!l,l&&(a=wD(l))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),d=this.constraints||{},f=ii(p=>{if(!rm(p,n,this.currentDirection))return;let m=d&&d[p]||{};a&&(m={min:0,max:0});const y=s?200:1e6,x=s?40:1e7,b={type:"inertia",velocity:r?e[p]:0,bounceStiffness:y,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(p,b)});return Promise.all(f).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return p1(this.visualElement,e),r.start(A2(e,r,0,n,this.visualElement,!1))}stopAnimation(){ii(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ii(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ii(n=>{const{drag:r}=this.getProps();if(!rm(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];i.set(e[n]-er(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!cu(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ii(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const d=l.get();s[a]=$G({min:d,max:d},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ii(a=>{if(!rm(a,e,null))return;const l=this.getAxisMotionValue(a),{min:d,max:f}=this.constraints[a];l.set(er(d,f,s[a]))})}addListeners(){if(!this.visualElement.current)return;HG.set(this.visualElement,this);const e=this.visualElement.current,n=yf(e,"pointerdown",d=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();cu(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),tr.read(r);const a=Xf(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(ii(p=>{const m=this.getAxisMotionValue(p);m&&(this.originPoint[p]+=d[p].translate,m.set(m.get()+d[p].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=x1,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function rm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function KG(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class YG extends Jo{constructor(e){super(e),this.removeGroupControls=fi,this.removeListeners=fi,this.controls=new qG(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fi}unmount(){this.removeGroupControls(),this.removeListeners()}}const eA=t=>(e,n)=>{t&&tr.postRender(()=>t(e,n))};class WG extends Jo{constructor(){super(...arguments),this.removePointerDownListener=fi}onPointerDown(e){this.session=new AD(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ED(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:eA(e),onStart:eA(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&tr.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=yf(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Im={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tA(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Jd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Xt.test(t))t=parseFloat(t);else return t;const n=tA(t,e.target.x),r=tA(t,e.target.y);return`${n}% ${r}%`}},GG={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Ho.parse(t);if(s.length>5)return r;const i=Ho.createTransformer(t),a=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,d=n.y.scale*e.y;s[0+a]/=l,s[1+a]/=d;const f=er(l,d,.5);return typeof s[2+a]=="number"&&(s[2+a]/=f),typeof s[3+a]=="number"&&(s[3+a]/=f),i(s)}};class XG extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;_W(JG),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Im.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||tr.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),y2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function OD(t){const[e,n]=rD(),r=j.useContext(Ww);return c.jsx(XG,{...t,layoutGroup:r,switchLayoutGroup:j.useContext(lD),isPresent:e,safeToRemove:n})}const JG={borderRadius:{...Jd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jd,borderTopRightRadius:Jd,borderBottomLeftRadius:Jd,borderBottomRightRadius:Jd,boxShadow:GG};function QG(t,e,n){const r=es(t)?t:wu(t);return r.start(A2("",r,e,n)),r.animation}const ZG=(t,e)=>t.depth-e.depth;class eX{constructor(){this.children=[],this.isDirty=!1}add(e){Jw(this.children,e),this.isDirty=!0}remove(e){Qw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ZG),this.isDirty=!1,this.children.forEach(e)}}function tX(t,e){const n=Ns.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Vo(r),t(i-e))};return tr.setup(r,!0),()=>Vo(r)}const MD=["TopLeft","TopRight","BottomLeft","BottomRight"],nX=MD.length,nA=t=>typeof t=="string"?parseFloat(t):t,rA=t=>typeof t=="number"||Xt.test(t);function rX(t,e,n,r,s,i){s?(t.opacity=er(0,n.opacity??1,sX(r)),t.opacityExit=er(e.opacity??1,0,iX(r))):i&&(t.opacity=er(e.opacity??1,n.opacity??1,r));for(let a=0;a<nX;a++){const l=`border${MD[a]}Radius`;let d=sA(e,l),f=sA(n,l);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||rA(d)===rA(f)?(t[l]=Math.max(er(nA(d),nA(f),r),0),(ea.test(f)||ea.test(d))&&(t[l]+="%")):t[l]=f}(e.rotate||n.rotate)&&(t.rotate=er(e.rotate||0,n.rotate||0,r))}function sA(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const sX=DD(0,.5,NM),iX=DD(.5,.95,fi);function DD(t,e,n){return r=>r<t?0:r>e?1:n(Hf(t,e,r))}function iA(t,e){t.min=e.min,t.max=e.max}function ri(t,e){iA(t.x,e.x),iA(t.y,e.y)}function aA(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function oA(t,e,n,r,s){return t-=e,t=pg(t,1/n,r),s!==void 0&&(t=pg(t,1/s,r)),t}function aX(t,e=0,n=1,r=.5,s,i=t,a=t){if(ea.test(e)&&(e=parseFloat(e),e=er(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=er(i.min,i.max,r);t===i&&(l-=e),t.min=oA(t.min,e,n,l,s),t.max=oA(t.max,e,n,l,s)}function lA(t,e,[n,r,s],i,a){aX(t,e[n],e[r],e[s],e.scale,i,a)}const oX=["x","scaleX","originX"],lX=["y","scaleY","originY"];function cA(t,e,n,r){lA(t.x,e,oX,n?n.x:void 0,r?r.x:void 0),lA(t.y,e,lX,n?n.y:void 0,r?r.y:void 0)}function uA(t){return t.translate===0&&t.scale===1}function RD(t){return uA(t.x)&&uA(t.y)}function dA(t,e){return t.min===e.min&&t.max===e.max}function cX(t,e){return dA(t.x,e.x)&&dA(t.y,e.y)}function fA(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function _D(t,e){return fA(t.x,e.x)&&fA(t.y,e.y)}function hA(t){return us(t.x)/us(t.y)}function pA(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class uX{constructor(){this.members=[]}add(e){Jw(this.members,e),e.scheduleRender()}remove(e){if(Qw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dX(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=n?.z||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:p,rotateX:m,rotateY:y,skewX:x,skewY:b}=n;f&&(r=`perspective(${f}px) ${r}`),p&&(r+=`rotate(${p}deg) `),m&&(r+=`rotateX(${m}deg) `),y&&(r+=`rotateY(${y}deg) `),x&&(r+=`skewX(${x}deg) `),b&&(r+=`skewY(${b}deg) `)}const l=t.x.scale*e.x,d=t.y.scale*e.y;return(l!==1||d!==1)&&(r+=`scale(${l}, ${d})`),r||"none"}const $v=["","X","Y","Z"],fX={visibility:"hidden"},hX=1e3;let pX=0;function Uv(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function LD(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=yD(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",tr,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&LD(r)}function PD({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=e?.()){this.id=pX++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(yX),this.nodes.forEach(SX),this.nodes.forEach(CX),this.nodes.forEach(xX)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new eX)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new t2),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const d=this.eventHandlers.get(a);d&&d.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=nD(a)&&!uW(a),this.instance=a;const{layoutId:l,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||l)&&(this.isLayoutDirty=!0),t){let p;const m=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=tX(m,250),Im.hasAnimatedSinceResize&&(Im.hasAnimatedSinceResize=!1,this.nodes.forEach(gA))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeLayoutChanged:y,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||AX,{onLayoutAnimationStart:S,onLayoutAnimationComplete:C}=f.getProps(),N=!this.targetLayout||!_D(this.targetLayout,x),k=!m&&y;if(this.options.layoutRoot||this.resumeFrom||k||m&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const M={...m2(b,"layout"),onPlay:S,onComplete:C};(f.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M),this.setAnimationOrigin(p,k)}else m||gA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Vo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(NX),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&LD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const m=this.path[p];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:d}=this.options;if(l===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(mA);return}this.isUpdating||this.nodes.forEach(bX),this.isUpdating=!1,this.nodes.forEach(wX),this.nodes.forEach(mX),this.nodes.forEach(gX),this.clearAllSnapshots();const l=Ns.now();Hr.delta=Va(0,1e3/60,l-Hr.timestamp),Hr.timestamp=l,Hr.isProcessing=!0,Dv.update.process(Hr),Dv.preRender.process(Hr),Dv.render.process(Hr),Hr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,y2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(vX),this.sharedNodes.forEach(jX)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!us(this.snapshot.measuredBox.x)&&!us(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=fr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!RD(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;a&&this.instance&&(l||Tl(this.latestValues)||p)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let d=this.removeElementScroll(l);return a&&(d=this.removeTransform(d)),kX(d),{animationId:this.root.animationId,measuredBox:l,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return fr();const l=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(OX))){const{scroll:f}=this.root;f&&(du(l.x,f.offset.x),du(l.y,f.offset.y))}return l}removeElementScroll(a){const l=fr();if(ri(l,a),this.scroll?.wasRoot)return l;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:m}=f;f!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&ri(l,a),du(l.x,p.offset.x),du(l.y,p.offset.y))}return l}applyTransform(a,l=!1){const d=fr();ri(d,a);for(let f=0;f<this.path.length;f++){const p=this.path[f];!l&&p.options.layoutScroll&&p.scroll&&p!==p.root&&fu(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Tl(p.latestValues)&&fu(d,p.latestValues)}return Tl(this.latestValues)&&fu(d,this.latestValues),d}removeTransform(a){const l=fr();ri(l,a);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!Tl(f.latestValues))continue;g1(f.latestValues)&&f.updateSnapshot();const p=fr(),m=f.measurePageBox();ri(p,m),cA(l,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return Tl(this.latestValues)&&cA(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Hr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==l;if(!(a||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!(!this.layout||!(p||m))){if(this.resolvedRelativeTargetAt=Hr.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fr(),this.relativeTargetOrigin=fr(),vf(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),ri(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=fr(),this.targetWithTransforms=fr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),DG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ri(this.target,this.layout.layoutBox),jD(this.target,this.targetDelta)):ri(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fr(),this.relativeTargetOrigin=fr(),vf(this.relativeTargetOrigin,this.target,y.target),ri(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||g1(this.parent.latestValues)||ND(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const a=this.getLead(),l=!!this.resumingFrom||this!==a;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Hr.timestamp&&(d=!1),d)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;ri(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,y=this.treeScale.y;RG(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=fr());const{target:x}=a;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(aA(this.prevProjectionDelta.x,this.projectionDelta.x),aA(this.prevProjectionDelta.y,this.projectionDelta.y)),xf(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==y||!pA(this.projectionDelta.x,this.prevProjectionDelta.x)||!pA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=uu(),this.projectionDelta=uu(),this.projectionDeltaWithTransform=uu()}setAnimationOrigin(a,l=!1){const d=this.snapshot,f=d?d.latestValues:{},p={...this.latestValues},m=uu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const y=fr(),x=d?d.source:void 0,b=this.layout?this.layout.source:void 0,S=x!==b,C=this.getStack(),N=!C||C.members.length<=1,k=!!(S&&!N&&this.options.crossfade===!0&&!this.path.some(EX));this.animationProgress=0;let M;this.mixTargetDelta=D=>{const E=D/1e3;yA(m.x,a.x,E),yA(m.y,a.y,E),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vf(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),TX(this.relativeTarget,this.relativeTargetOrigin,y,E),M&&cX(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=fr()),ri(M,this.relativeTarget)),S&&(this.animationValues=p,rX(p,f,this.latestValues,E,k,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Vo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tr.update(()=>{Im.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=wu(0)),this.currentAnimation=QG(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hX),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:d,layout:f,latestValues:p}=a;if(!(!l||!d||!f)){if(this!==a&&this.layout&&f&&zD(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||fr();const m=us(this.layout.layoutBox.x);d.x.min=a.target.x.min,d.x.max=d.x.min+m;const y=us(this.layout.layoutBox.y);d.y.min=a.target.y.min,d.y.max=d.y.min+y}ri(l,d),fu(l,p),xf(this.projectionDeltaWithTransform,this.layoutCorrected,l,p)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new uX),this.sharedNodes.get(a).add(l);const f=l.options.initialPromotionConfig;l.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:d}=a;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(l=!0),!l)return;const f={};d.z&&Uv("z",a,f,this.animationValues);for(let p=0;p<$v.length;p++)Uv(`rotate${$v[p]}`,a,f,this.animationValues),Uv(`skew${$v[p]}`,a,f,this.animationValues);a.render();for(const p in f)a.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);a.scheduleRender()}getProjectionStyles(a){if(!this.instance||this.isSVG)return;if(!this.isVisible)return fX;const l={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=zm(a?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none",l;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=zm(a?.pointerEvents)||""),this.hasProjected&&!Tl(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),l.transform=dX(this.projectionDeltaWithTransform,this.treeScale,p),d&&(l.transform=d(p,l.transform));const{x:m,y}=this.projectionDelta;l.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,f.animationValues?l.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const x in Wf){if(p[x]===void 0)continue;const{correct:b,applyTo:S,isCSSVariable:C}=Wf[x],N=l.transform==="none"?p[x]:b(p[x],f);if(S){const k=S.length;for(let M=0;M<k;M++)l[S[M]]=N}else C?this.options.visualElement.renderState.vars[x]=N:l[x]=N}return this.options.layoutId&&(l.pointerEvents=f===this?zm(a?.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(mA),this.root.sharedNodes.clear()}}}function mX(t){t.updateLayout()}function gX(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,i=e.source!==t.layout.source;s==="size"?ii(p=>{const m=i?e.measuredBox[p]:e.layoutBox[p],y=us(m);m.min=n[p].min,m.max=m.min+y}):zD(s,e.layoutBox,n)&&ii(p=>{const m=i?e.measuredBox[p]:e.layoutBox[p],y=us(n[p]);m.max=m.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+y)});const a=uu();xf(a,n,e.layoutBox);const l=uu();i?xf(l,t.applyTransform(r,!0),e.measuredBox):xf(l,n,e.layoutBox);const d=!RD(a);let f=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:y}=p;if(m&&y){const x=fr();vf(x,e.layoutBox,m.layoutBox);const b=fr();vf(b,n,y.layoutBox),_D(x,b)||(f=!0),p.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=x,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function yX(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function xX(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function vX(t){t.clearSnapshot()}function mA(t){t.clearMeasurements()}function bX(t){t.isLayoutDirty=!1}function wX(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function gA(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function SX(t){t.resolveTargetDelta()}function CX(t){t.calcProjection()}function NX(t){t.resetSkewAndRotation()}function jX(t){t.removeLeadSnapshot()}function yA(t,e,n){t.translate=er(e.translate,0,n),t.scale=er(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function xA(t,e,n,r){t.min=er(e.min,n.min,r),t.max=er(e.max,n.max,r)}function TX(t,e,n,r){xA(t.x,e.x,n.x,r),xA(t.y,e.y,n.y,r)}function EX(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const AX={duration:.45,ease:[.4,0,.1,1]},vA=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),bA=vA("applewebkit/")&&!vA("chrome/")?Math.round:fi;function wA(t){t.min=bA(t.min),t.max=bA(t.max)}function kX(t){wA(t.x),wA(t.y)}function zD(t,e,n){return t==="position"||t==="preserve-aspect"&&!MG(hA(e),hA(n),.2)}function OX(t){return t!==t.root&&t.scroll?.wasRoot}const MX=PD({attachResizeListener:(t,e)=>Xf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Vv={current:void 0},ID=PD({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Vv.current){const t=new MX({});t.mount(window),t.setOptions({layoutScroll:!0}),Vv.current=t}return Vv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),DX={pan:{Feature:WG},drag:{Feature:YG,ProjectionNode:ID,MeasureLayout:OD}};function SA(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&tr.postRender(()=>i(e,Ah(e)))}class RX extends Jo{mount(){const{current:e}=this.node;e&&(this.unmount=iW(e,(n,r)=>(SA(this.node,r,"Start"),s=>SA(this.node,s,"End"))))}unmount(){}}class _X extends Jo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=jh(Xf(this.node.current,"focus",()=>this.onFocus()),Xf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function CA(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&tr.postRender(()=>i(e,Ah(e)))}class LX extends Jo{mount(){const{current:e}=this.node;e&&(this.unmount=cW(e,(n,r)=>(CA(this.node,r,"Start"),(s,{success:i})=>CA(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const v1=new WeakMap,Hv=new WeakMap,PX=t=>{const e=v1.get(t.target);e&&e(t)},zX=t=>{t.forEach(PX)};function IX({root:t,...e}){const n=t||document;Hv.has(n)||Hv.set(n,{});const r=Hv.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(zX,{root:t,...e})),r[s]}function BX(t,e,n){const r=IX(e);return v1.set(t,n),r.observe(t),()=>{v1.delete(t),r.unobserve(t)}}const FX={some:0,all:1};class $X extends Jo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:FX[s]},l=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,i&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:m}=this.node.getProps(),y=f?p:m;y&&y(d)};return BX(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(UX(e,n))&&this.startObserver()}unmount(){}}function UX({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const VX={inView:{Feature:$X},tap:{Feature:LX},focus:{Feature:_X},hover:{Feature:RX}},HX={layout:{ProjectionNode:ID,MeasureLayout:OD}},b1={current:null},BD={current:!1};function qX(){if(BD.current=!0,!!Xw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>b1.current=t.matches;t.addListener(e),e()}else b1.current=!1}const KX=new WeakMap;function YX(t,e,n){for(const r in e){const s=e[r],i=n[r];if(es(s))t.addValue(r,s);else if(es(i))t.addValue(r,wu(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,wu(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const NA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class WX{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=h2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Ns.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,tr.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=a;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=My(n),this.isVariantNode=aD(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in m){const x=m[y];d[y]!==void 0&&es(x)&&x.set(d[y],!1)}}mount(e){this.current=e,KX.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),BD.current||qX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:b1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Vo(this.notifyUpdate),Vo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Fu.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&tr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Su){const n=Su[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):fr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<NA.length;r++){const s=NA[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=YX(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=wu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(pM(r)||gM(r))?r=parseFloat(r):!fW(r)&&Ho.test(n)&&(r=JM(e,n)),this.setBaseTarget(e,es(r)?r.get():r)),es(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const i=T2(this.props,n,this.presenceContext?.custom);i&&(r=i[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!es(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new t2),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class FD extends WX{constructor(){super(...arguments),this.KeyframeResolver=eW}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;es(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function $D(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}function GX(t){return window.getComputedStyle(t)}class XX extends FD{constructor(){super(...arguments),this.type="html",this.renderInstance=$D}readValueFromInstance(e,n){if(Fu.has(n))return this.projection?.isProjecting?o1(n):vY(e,n);{const r=GX(e),s=(s2(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return TD(e,n)}build(e,n,r){C2(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return E2(e,n,r)}}const UD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function JX(t,e,n,r){$D(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(UD.has(s)?s:S2(s),e.attrs[s])}class QX extends FD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=fr}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Fu.has(n)){const r=XM(n);return r&&r.default||0}return n=UD.has(n)?n:S2(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return gD(e,n,r)}build(e,n,r){fD(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){JX(e,n,r,s)}mount(e){this.isSVGTag=pD(e.tagName),super.mount(e)}}const ZX=(t,e)=>j2(t)?new QX(e):new XX(e,{allowProjection:t!==j.Fragment}),eJ=JW({...CG,...VX,...DX,...HX},ZX),Tt=SW(eJ);function VD(t){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320 336c0 8.84-7.16 16-16 16h-96c-8.84 0-16-7.16-16-16v-48H0v144c0 25.6 22.4 48 48 48h416c25.6 0 48-22.4 48-48V288H320v48zm144-208h-80V80c0-25.6-22.4-48-48-48H176c-25.6 0-48 22.4-48 48v48H48c-25.6 0-48 22.4-48 48v80h512v-80c0-25.6-22.4-48-48-48zm-144 0H192V96h128v32z"},child:[]}]})(t)}function tJ(t){return en({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(t)}function nJ(t){return en({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function Pr(t){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function Qo(t){return en({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function Zo(t){return en({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function HD(t){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function ki(t){return en({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function qD(t){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function Cu(t){return en({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function rJ(t){return en({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zM128.4 336c-17.9 0-32.4 12.1-32.4 27 0 15 14.6 27 32.5 27s32.4-12.1 32.4-27-14.6-27-32.5-27zM224 136V0h-63.6v32h-32V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM95.9 32h32v32h-32zm32.3 384c-33.2 0-58-30.4-51.4-62.9L96.4 256v-32h32v-32h-32v-32h32v-32h-32V96h32V64h32v32h-32v32h32v32h-32v32h32v32h-32v32h22.1c5.7 0 10.7 4.1 11.8 9.7l17.3 87.7c6.4 32.4-18.4 62.6-51.4 62.6z"},child:[]}]})(t)}function sJ(t){return en({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function nu(t){return en({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(t)}function iJ(t){return en({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm57.1 120H305c7.7 0 13.4 7.1 11.7 14.7l-38 168c-1.2 5.5-6.1 9.3-11.7 9.3h-38c-5.5 0-10.3-3.8-11.6-9.1-25.8-103.5-20.8-81.2-25.6-110.5h-.5c-1.1 14.3-2.4 17.4-25.6 110.5-1.3 5.3-6.1 9.1-11.6 9.1H117c-5.6 0-10.5-3.9-11.7-9.4l-37.8-168c-1.7-7.5 4-14.6 11.7-14.6h24.5c5.7 0 10.7 4 11.8 9.7 15.6 78 20.1 109.5 21 122.2 1.6-10.2 7.3-32.7 29.4-122.7 1.3-5.4 6.1-9.1 11.7-9.1h29.1c5.6 0 10.4 3.8 11.7 9.2 24 100.4 28.8 124 29.6 129.4-.2-11.2-2.6-17.8 21.6-129.2 1-5.6 5.9-9.5 11.5-9.5zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function kh(t){return en({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"},child:[]}]})(t)}function sa(t){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(t)}function jA(t){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(t)}function TA(t){return en({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function aJ(t){return en({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function oJ(t){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function Ar(t){return en({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function lJ(t){return en({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M384 320H256c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h128c17.67 0 32-14.33 32-32V352c0-17.67-14.33-32-32-32zM192 32c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v128c0 17.67 14.33 32 32 32h95.72l73.16 128.04C211.98 300.98 232.4 288 256 288h.28L192 175.51V128h224V64H192V32zM608 0H480c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h128c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function cJ(t){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(t)}function $u(t){return en({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function k2(t){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function w1(t){return en({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M330.17 258.91a79 79 0 0 0-55 54.17c-14.27 51.05 21.19 97.77 68.83 102.53a84.07 84.07 0 0 1-20.85 12.91c-7.57 3.4-10.8 12.47-8.18 20.34l9.9 20c2.87 8.63 12.53 13.49 20.9 9.91 58-24.76 86.25-61.61 86.25-132V336c-.02-51.21-48.4-91.34-101.85-77.09zM352 356a20 20 0 1 1 20-20 20 20 0 0 1-20 20zM304 96h16v64h-16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h96a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-16V48a16 16 0 0 0-16-16h-48a16 16 0 0 0-14.29 8.83l-16 32A16 16 0 0 0 304 96zM107.31 36.69a16 16 0 0 0-22.62 0l-80 96C-5.35 142.74 1.78 160 16 160h48v304a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16V160h48c14.21 0 21.38-17.24 11.31-27.31z"},child:[]}]})(t)}function wt(t){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function uJ(t){return en({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M312 320h136V56c0-13.3-10.7-24-24-24H24C10.7 32 0 42.7 0 56v400c0 13.3 10.7 24 24 24h264V344c0-13.2 10.8-24 24-24zm129 55l-98 98c-4.5 4.5-10.6 7-17 7h-6V352h128v6.1c0 6.3-2.5 12.4-7 16.9z"},child:[]}]})(t)}function dJ(t){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(t)}function $t(t){return en({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Vn(t){return en({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(t)}function rc(t){return en({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function fJ(t){return en({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M610.5 373.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 400.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm201.2 226.5c-2.3-1.2-4.6-2.6-6.8-3.9l-7.9 4.6c-6 3.4-12.8 5.3-19.6 5.3-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-5.5-17.7 1.9-36.4 17.9-45.7l7.9-4.6c-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-16-9.2-23.4-28-17.9-45.7.9-2.9 2.2-5.8 3.2-8.7-3.8-.3-7.5-1.2-11.4-1.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c10.1 0 19.5-3.2 27.2-8.5-1.2-3.8-2-7.7-2-11.8v-9.2z"},child:[]}]})(t)}function hJ(t){return en({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function Vr(t){this.content=t}Vr.prototype={constructor:Vr,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,s=r.find(t),i=r.content.slice();return s==-1?i.push(n||t,e):(i[s+1]=e,n&&(i[s]=n)),new Vr(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Vr(n)},addToStart:function(t,e){return new Vr([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Vr(n)},addBefore:function(t,e,n){var r=this.remove(e),s=r.content.slice(),i=r.find(t);return s.splice(i==-1?s.length:i,0,e,n),new Vr(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Vr.from(t),t.size?new Vr(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Vr.from(t),t.size?new Vr(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Vr.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Vr.from=function(t){if(t instanceof Vr)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Vr(e)};function KD(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(r),i=e.child(r);if(s==i){n+=s.nodeSize;continue}if(!s.sameMarkup(i))return n;if(s.isText&&s.text!=i.text){for(let a=0;s.text[a]==i.text[a];a++)n++;return n}if(s.content.size||i.content.size){let a=KD(s.content,i.content,n+1);if(a!=null)return a}n+=s.nodeSize}}function YD(t,e,n,r){for(let s=t.childCount,i=e.childCount;;){if(s==0||i==0)return s==i?null:{a:n,b:r};let a=t.child(--s),l=e.child(--i),d=a.nodeSize;if(a==l){n-=d,r-=d;continue}if(!a.sameMarkup(l))return{a:n,b:r};if(a.isText&&a.text!=l.text){let f=0,p=Math.min(a.text.length,l.text.length);for(;f<p&&a.text[a.text.length-f-1]==l.text[l.text.length-f-1];)f++,n--,r--;return{a:n,b:r}}if(a.content.size||l.content.size){let f=YD(a.content,l.content,n-1,r-1);if(f)return f}n-=d,r-=d}}class We{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,s=0,i){for(let a=0,l=0;l<n;a++){let d=this.content[a],f=l+d.nodeSize;if(f>e&&r(d,s+l,i||null,a)!==!1&&d.content.size){let p=l+1;d.nodesBetween(Math.max(0,e-p),Math.min(d.content.size,n-p),r,s+p)}l=f}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,s){let i="",a=!0;return this.nodesBetween(e,n,(l,d)=>{let f=l.isText?l.text.slice(Math.max(e,d)-d,n-d):l.isLeaf?s?typeof s=="function"?s(l):s:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&f||l.isTextblock)&&r&&(a?a=!1:i+=r),i+=f},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,s=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),i=1);i<e.content.length;i++)s.push(e.content[i]);return new We(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],s=0;if(n>e)for(let i=0,a=0;a<n;i++){let l=this.content[i],d=a+l.nodeSize;d>e&&((a<e||d>n)&&(l.isText?l=l.cut(Math.max(0,e-a),Math.min(l.text.length,n-a)):l=l.cut(Math.max(0,e-a-1),Math.min(l.content.size,n-a-1))),r.push(l),s+=l.nodeSize),a=d}return new We(r,s)}cutByIndex(e,n){return e==n?We.empty:e==0&&n==this.content.length?this:new We(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let s=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return s[e]=n,new We(s,i)}addToStart(e){return new We([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new We(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];e(s,r,n),r+=s.nodeSize}}findDiffStart(e,n=0){return KD(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return YD(this,e,n,r)}findIndex(e,n=-1){if(e==0)return sm(0,e);if(e==this.size)return sm(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,s=0;;r++){let i=this.child(r),a=s+i.nodeSize;if(a>=e)return a==e||n>0?sm(r+1,a):sm(r,s);s=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return We.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new We(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return We.empty;let n,r=0;for(let s=0;s<e.length;s++){let i=e[s];r+=i.nodeSize,s&&i.isText&&e[s-1].sameMarkup(i)?(n||(n=e.slice(0,s)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new We(n||e,r)}static from(e){if(!e)return We.empty;if(e instanceof We)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new We([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}We.empty=new We([],0);const qv={index:0,offset:0};function sm(t,e){return qv.index=t,qv.offset=e,qv}function mg(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!mg(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!mg(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Pn=class S1{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let s=0;s<e.length;s++){let i=e[s];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,s));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&mg(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=r.create(n.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return S1.none;if(e instanceof S1)return[e];let n=e.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}};Pn.none=[];class gg extends Error{}class xt{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=GD(this.content,e+this.openStart,n);return r&&new xt(r,this.openStart,this.openEnd)}removeBetween(e,n){return new xt(WD(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return xt.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new xt(We.fromJSON(e,n.content),r,s)}static maxOpen(e,n=!0){let r=0,s=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)s++;return new xt(e,r,s)}}xt.empty=new xt(We.empty,0,0);function WD(t,e,n){let{index:r,offset:s}=t.findIndex(e),i=t.maybeChild(r),{index:a,offset:l}=t.findIndex(n);if(s==e||i.isText){if(l!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,i.copy(WD(i.content,e-s-1,n-s-1)))}function GD(t,e,n,r){let{index:s,offset:i}=t.findIndex(e),a=t.maybeChild(s);if(i==e||a.isText)return t.cut(0,e).append(n).append(t.cut(e));let l=GD(a.content,e-i-1,n);return l&&t.replaceChild(s,a.copy(l))}function pJ(t,e,n){if(n.openStart>t.depth)throw new gg("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new gg("Inconsistent open depths");return XD(t,e,n,0)}function XD(t,e,n,r){let s=t.index(r),i=t.node(r);if(s==e.index(r)&&r<t.depth-n.openStart){let a=XD(t,e,n,r+1);return i.copy(i.content.replaceChild(s,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let a=t.parent,l=a.content;return Wl(a,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:a,end:l}=mJ(n,t);return Wl(i,QD(t,a,l,e,r))}else return Wl(i,yg(t,e,r))}function JD(t,e){if(!e.type.compatibleContent(t.type))throw new gg("Cannot join "+e.type.name+" onto "+t.type.name)}function C1(t,e,n){let r=t.node(n);return JD(r,e.node(n)),r}function Yl(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function bf(t,e,n,r){let s=(e||t).node(n),i=0,a=e?e.index(n):s.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(Yl(t.nodeAfter,r),i++));for(let l=i;l<a;l++)Yl(s.child(l),r);e&&e.depth==n&&e.textOffset&&Yl(e.nodeBefore,r)}function Wl(t,e){return t.type.checkContent(e),t.copy(e)}function QD(t,e,n,r,s){let i=t.depth>s&&C1(t,e,s+1),a=r.depth>s&&C1(n,r,s+1),l=[];return bf(null,t,s,l),i&&a&&e.index(s)==n.index(s)?(JD(i,a),Yl(Wl(i,QD(t,e,n,r,s+1)),l)):(i&&Yl(Wl(i,yg(t,e,s+1)),l),bf(e,n,s,l),a&&Yl(Wl(a,yg(n,r,s+1)),l)),bf(r,null,s,l),new We(l)}function yg(t,e,n){let r=[];if(bf(null,t,n,r),t.depth>n){let s=C1(t,e,n+1);Yl(Wl(s,yg(t,e,n+1)),r)}return bf(e,null,n,r),new We(r)}function mJ(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let i=n-1;i>=0;i--)s=e.node(i).copy(We.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}class Jf{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(n);return r?e.child(n).cut(r):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)s+=r.child(i).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Pn.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),s=e.maybeChild(n);if(!r){let l=r;r=s,s=l}let i=r.marks;for(var a=0;a<i.length;a++)i[a].type.spec.inclusive===!1&&(!s||!i[a].isInSet(s.marks))&&(i=i[a--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=e.parent.maybeChild(e.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!s||!r[i].isInSet(s.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new xg(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,i=n;for(let a=e;;){let{index:l,offset:d}=a.content.findIndex(i),f=i-d;if(r.push(a,l,s+d),!f||(a=a.child(l),a.isText))break;i=f-1,s+=d+1}return new Jf(n,r,i)}static resolveCached(e,n){let r=EA.get(e);if(r)for(let i=0;i<r.elts.length;i++){let a=r.elts[i];if(a.pos==n)return a}else EA.set(e,r=new gJ);let s=r.elts[r.i]=Jf.resolve(e,n);return r.i=(r.i+1)%yJ,s}}class gJ{constructor(){this.elts=[],this.i=0}}const yJ=12,EA=new WeakMap;class xg{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const xJ=Object.create(null);let zo=class N1{constructor(e,n,r,s=Pn.none){this.type=e,this.attrs=n,this.marks=s,this.content=r||We.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,s=0){this.content.nodesBetween(e,n,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,s){return this.content.textBetween(e,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&mg(this.attrs,n||e.defaultAttrs||xJ)&&Pn.sameSet(this.marks,r||Pn.none)}copy(e=null){return e==this.content?this:new N1(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new N1(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return xt.empty;let s=this.resolve(e),i=this.resolve(n),a=r?0:s.sharedDepth(n),l=s.start(a),f=s.node(a).content.cut(s.pos-l,i.pos-l);return new xt(f,s.depth-a,i.depth-a)}replace(e,n,r){return pJ(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(e){return Jf.resolveCached(this,e)}resolveNoCache(e){return Jf.resolve(this,e)}rangeHasMark(e,n,r){let s=!1;return n>e&&this.nodesBetween(e,n,i=>(r.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),ZD(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=We.empty,s=0,i=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,s,i),l=a&&a.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let d=s;d<i;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(e,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(e).matchType(r),a=i&&i.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Pn.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Pn.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let s=We.fromJSON(e,n.content),i=e.nodeType(n.type).create(n.attrs,s,r);return i.type.checkAttrs(i.attrs),i}};zo.prototype.text=void 0;class vg extends zo{constructor(e,n,r,s){if(super(e,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):ZD(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new vg(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new vg(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function ZD(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class sc{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new vJ(e,n);if(r.next==null)return sc.empty;let s=e6(r);r.next&&r.err("Unexpected trailing text");let i=TJ(jJ(s));return EJ(i,r),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let s=this;for(let i=n;s&&i<r;i++)s=s.matchType(e.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let s=[this];function i(a,l){let d=a.matchFragment(e,r);if(d&&(!n||d.validEnd))return We.from(l.map(f=>f.createAndFill()));for(let f=0;f<a.next.length;f++){let{type:p,next:m}=a.next[f];if(!(p.isText||p.hasRequiredAttrs())&&s.indexOf(m)==-1){s.push(m);let y=i(m,l.concat(p));if(y)return y}}return null}return i(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),i=s.match;if(i.matchType(e)){let a=[];for(let l=s;l.type;l=l.via)a.push(l.type);return a.reverse()}for(let a=0;a<i.next.length;a++){let{type:l,next:d}=i.next[a];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!s.type||d.validEnd)&&(r.push({match:l.contentMatch,type:l,via:s}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),e.map((r,s)=>{let i=s+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)i+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return i}).join(`
`)}}sc.empty=new sc(!0);class vJ{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function e6(t){let e=[];do e.push(bJ(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function bJ(t){let e=[];do e.push(wJ(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function wJ(t){let e=NJ(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=SJ(t,e);else break;return e}function AA(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function SJ(t,e){let n=AA(t),r=n;return t.eat(",")&&(t.next!="}"?r=AA(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function CJ(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let s=[];for(let i in n){let a=n[i];a.isInGroup(e)&&s.push(a)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function NJ(t){if(t.eat("(")){let e=e6(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=CJ(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function jJ(t){let e=[[]];return s(i(t,0),n()),e;function n(){return e.push([])-1}function r(a,l,d){let f={term:d,to:l};return e[a].push(f),f}function s(a,l){a.forEach(d=>d.to=l)}function i(a,l){if(a.type=="choice")return a.exprs.reduce((d,f)=>d.concat(i(f,l)),[]);if(a.type=="seq")for(let d=0;;d++){let f=i(a.exprs[d],l);if(d==a.exprs.length-1)return f;s(f,l=n())}else if(a.type=="star"){let d=n();return r(l,d),s(i(a.expr,d),d),[r(d)]}else if(a.type=="plus"){let d=n();return s(i(a.expr,l),d),s(i(a.expr,d),d),[r(d)]}else{if(a.type=="opt")return[r(l)].concat(i(a.expr,l));if(a.type=="range"){let d=l;for(let f=0;f<a.min;f++){let p=n();s(i(a.expr,d),p),d=p}if(a.max==-1)s(i(a.expr,d),d);else for(let f=a.min;f<a.max;f++){let p=n();r(d,p),s(i(a.expr,d),p),d=p}return[r(d)]}else{if(a.type=="name")return[r(l,void 0,a.value)];throw new Error("Unknown expr type")}}}}function t6(t,e){return e-t}function kA(t,e){let n=[];return r(e),n.sort(t6);function r(s){let i=t[s];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(s);for(let a=0;a<i.length;a++){let{term:l,to:d}=i[a];!l&&n.indexOf(d)==-1&&r(d)}}}function TJ(t){let e=Object.create(null);return n(kA(t,0));function n(r){let s=[];r.forEach(a=>{t[a].forEach(({term:l,to:d})=>{if(!l)return;let f;for(let p=0;p<s.length;p++)s[p][0]==l&&(f=s[p][1]);kA(t,d).forEach(p=>{f||s.push([l,f=[]]),f.indexOf(p)==-1&&f.push(p)})})});let i=e[r.join(",")]=new sc(r.indexOf(t.length-1)>-1);for(let a=0;a<s.length;a++){let l=s[a][1].sort(t6);i.next.push({type:s[a][0],next:e[l.join(",")]||n(l)})}return i}}function EJ(t,e){for(let n=0,r=[t];n<r.length;n++){let s=r[n],i=!s.validEnd,a=[];for(let l=0;l<s.next.length;l++){let{type:d,next:f}=s.next[l];a.push(d.name),i&&!(d.isText||d.hasRequiredAttrs())&&(i=!1),r.indexOf(f)==-1&&r.push(f)}i&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function n6(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function r6(t,e){let n=Object.create(null);for(let r in t){let s=e&&e[r];if(s===void 0){let i=t[r];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function s6(t,e,n,r){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in t){let i=t[s];i.validate&&i.validate(e[s])}}function i6(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new kJ(t,r,e[r]);return n}let OA=class a6{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=i6(e,r.attrs),this.defaultAttrs=n6(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==sc.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:r6(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new zo(this,this.computeAttrs(e),We.from(n),Pn.setFrom(r))}createChecked(e=null,n,r){return n=We.from(n),this.checkContent(n),new zo(this,this.computeAttrs(e),n,Pn.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=We.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let s=this.contentMatch.matchFragment(n),i=s&&s.fillBefore(We.empty,!0);return i?new zo(this,e,n.append(i),Pn.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){s6(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Pn.none:e}static compile(e,n){let r=Object.create(null);e.forEach((i,a)=>r[i]=new a6(i,n,a));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function AJ(t,e,n){let r=n.split("|");return s=>{let i=s===null?"null":typeof s;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${i}`)}}class kJ{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?AJ(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Dy{constructor(e,n,r,s){this.name=e,this.rank=n,this.schema=r,this.spec=s,this.attrs=i6(e,s.attrs),this.excluded=null;let i=n6(this.attrs);this.instance=i?new Pn(this,i):null}create(e=null){return!e&&this.instance?this.instance:new Pn(this,r6(this.attrs,e))}static compile(e,n){let r=Object.create(null),s=0;return e.forEach((i,a)=>r[i]=new Dy(i,s++,n,a)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){s6(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class o6{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=Vr.from(e.nodes),n.marks=Vr.from(e.marks||{}),this.nodes=OA.compile(this.spec.nodes,this),this.marks=Dy.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],a=i.spec.content||"",l=i.spec.marks;if(i.contentMatch=r[a]||(r[a]=sc.parse(a,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=l=="_"?null:l?MA(this,l.split(" ")):l==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],a=i.spec.excludes;i.excluded=a==null?[i]:a==""?[]:MA(this,a.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof OA){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,s)}text(e,n){let r=this.nodes.text;return new vg(r,r.defaultAttrs,e,Pn.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return zo.fromJSON(this,e)}markFromJSON(e){return Pn.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function MA(t,e){let n=[];for(let r=0;r<e.length;r++){let s=e[r],i=t.marks[s],a=i;if(i)n.push(i);else for(let l in t.marks){let d=t.marks[l];(s=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(s)>-1)&&n.push(a=d)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function OJ(t){return t.tag!=null}function MJ(t){return t.style!=null}let wf=class j1{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(s=>{if(OJ(s))this.tags.push(s);else if(MJ(s)){let i=/[^=]*/.exec(s.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let i=e.nodes[s.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new RA(this,n,!1);return r.addAll(e,Pn.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new RA(this,n,!0);return r.addAll(e,Pn.none,n.from,n.to),xt.maxOpen(r.finish())}matchTag(e,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(_J(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let a=i.getAttrs(e);if(a===!1)continue;i.attrs=a||void 0}return i}}}matchStyle(e,n,r,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let a=this.styles[i],l=a.style;if(!(l.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(a.getAttrs){let d=a.getAttrs(n);if(d===!1)continue;a.attrs=d||void 0}return a}}}static schemaRules(e){let n=[];function r(s){let i=s.priority==null?50:s.priority,a=0;for(;a<n.length;a++){let l=n[a];if((l.priority==null?50:l.priority)<i)break}n.splice(a,0,s)}for(let s in e.marks){let i=e.marks[s].spec.parseDOM;i&&i.forEach(a=>{r(a=_A(a)),a.mark||a.ignore||a.clearMark||(a.mark=s)})}for(let s in e.nodes){let i=e.nodes[s].spec.parseDOM;i&&i.forEach(a=>{r(a=_A(a)),a.node||a.ignore||a.mark||(a.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new j1(e,j1.schemaRules(e)))}};const l6={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},DJ={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},c6={ol:!0,ul:!0},Qf=1,T1=2,Sf=4;function DA(t,e,n){return e!=null?(e?Qf:0)|(e==="full"?T1:0):t&&t.whitespace=="pre"?Qf|T1:n&~Sf}class im{constructor(e,n,r,s,i,a){this.type=e,this.attrs=n,this.marks=r,this.solid=s,this.options=a,this.content=[],this.activeMarks=Pn.none,this.match=i||(a&Sf?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(We.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Qf)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let n=We.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(We.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!l6.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class RA{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=n.topNode,i,a=DA(null,n.preserveWhitespace,0)|(r?Sf:0);s?i=new im(s.type,s.attrs,Pn.none,!0,n.topMatch||s.type.contentMatch,a):r?i=new im(null,null,Pn.none,!0,null,a):i=new im(e.schema.topNodeType,null,Pn.none,!0,null,a),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,s=this.top,i=s.options&T1?"full":this.localPreserveWS||(s.options&Qf)>0;if(i==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i)i!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=s.content[s.content.length-1],l=e.previousSibling;(!a||l&&l.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let s=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),l;c6.hasOwnProperty(a)&&this.parser.normalizeLists&&RJ(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,r));e:if(d?d.ignore:DJ.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,n);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let f,p=this.needsBlock;if(l6.hasOwnProperty(a))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),f=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let m=d&&d.skip?n:this.readStyles(e,n);m&&this.addAll(e,m),f&&this.sync(i),this.needsBlock=p}else{let f=this.readStyles(e,n);f&&this.addElementByRule(e,d,f,d.consuming===!1?l:void 0)}this.localPreserveWS=s}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let i=this.parser.matchedStyles[s],a=r.getPropertyValue(i);if(a)for(let l=void 0;;){let d=this.parser.matchStyle(i,a,this,l);if(!d)break;if(d.ignore)return null;if(d.clearMark?n=n.filter(f=>!d.clearMark(f)):n=n.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)l=d;else break}}return n}addElementByRule(e,n,r,s){let i,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let d=this.enter(a,n.attrs||null,r,n.preserveWhitespace);d&&(i=!0,r=d)}else{let d=this.parser.schema.marks[n.mark];r=r.concat(d.create(n.attrs))}let l=this.top;if(a&&a.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,r,!1));else{let d=e;typeof n.contentElement=="string"?d=e.querySelector(n.contentElement):typeof n.contentElement=="function"?d=n.contentElement(e):n.contentElement&&(d=n.contentElement),this.findAround(e,d,!0),this.addAll(d,r),this.findAround(e,d,!1)}i&&this.sync(l)&&this.open--}addAll(e,n,r,s){let i=r||0;for(let a=r?e.childNodes[r]:e.firstChild,l=s==null?null:e.childNodes[s];a!=l;a=a.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(a,n);this.findAtPoint(e,i)}findPlace(e,n,r){let s,i;for(let a=this.open,l=0;a>=0;a--){let d=this.nodes[a],f=d.findWrapping(e);if(f&&(!s||s.length>f.length+l)&&(s=f,i=d,!f.length))break;if(d.solid){if(r)break;l+=2}}if(!s)return null;this.sync(i);for(let a=0;a<s.length;a++)n=this.enterInner(s[a],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let s=this.findPlace(e,n,r);if(s){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let a=Pn.none;for(let l of s.concat(e.marks))(i.type?i.type.allowsMarkType(l.type):LA(l.type,e.type))&&(a=l.addToSet(a));return i.content.push(e.mark(a)),!0}return!1}enter(e,n,r,s){let i=this.findPlace(e.create(n),r,!1);return i&&(i=this.enterInner(e,n,r,!0,s)),i}enterInner(e,n,r,s=!1,i){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let l=DA(e,i,a.options);a.options&Sf&&a.content.length==0&&(l|=Sf);let d=Pn.none;return r=r.filter(f=>(a.type?a.type.allowsMarkType(f.type):LA(f.type,e))?(d=f.addToSet(d),!1):!0),this.nodes.push(new im(e,n,d,s,null,l)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Qf)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(s?0:1),a=(l,d)=>{for(;l>=0;l--){let f=n[l];if(f==""){if(l==n.length-1||l==0)continue;for(;d>=i;d--)if(a(l-1,d))return!0;return!1}else{let p=d>0||d==0&&s?this.nodes[d].type:r&&d>=i?r.node(d-i).type:null;if(!p||p.name!=f&&!p.isInGroup(f))return!1;d--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function RJ(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&c6.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function _J(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function _A(t){let e={};for(let n in t)e[n]=t[n];return e}function LA(t,e){let n=e.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(t))continue;let i=[],a=l=>{i.push(l);for(let d=0;d<l.edgeCount;d++){let{type:f,next:p}=l.edge(d);if(f==e||i.indexOf(p)<0&&a(p))return!0}};if(a(s.contentMatch))return!0}}class xc{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Kv(n).createDocumentFragment());let s=r,i=[];return e.forEach(a=>{if(i.length||a.marks.length){let l=0,d=0;for(;l<i.length&&d<a.marks.length;){let f=a.marks[d];if(!this.marks[f.type.name]){d++;continue}if(!f.eq(i[l][0])||f.type.spec.spanning===!1)break;l++,d++}for(;l<i.length;)s=i.pop()[1];for(;d<a.marks.length;){let f=a.marks[d++],p=this.serializeMark(f,a.isInline,n);p&&(i.push([f,s]),s.appendChild(p.dom),s=p.contentDOM||p.dom)}}s.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:s}=Bm(Kv(n),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let i=this.serializeMark(e.marks[s],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(e,n,r={}){let s=this.marks[e.type.name];return s&&Bm(Kv(r),s(e,n),null,e.attrs)}static renderSpec(e,n,r=null,s){return Bm(e,n,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new xc(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=PA(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return PA(e.marks)}}function PA(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Kv(t){return t.document||window.document}const zA=new WeakMap;function LJ(t){let e=zA.get(t);return e===void 0&&zA.set(t,e=PJ(t)),e}function PJ(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)n(r[s]);else for(let s in r)n(r[s])}return n(t),e}function Bm(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],i;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=LJ(r))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=s.indexOf(" ");a>0&&(n=s.slice(0,a),s=s.slice(a+1));let l,d=n?t.createElementNS(n,s):t.createElement(s),f=e[1],p=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){p=2;for(let m in f)if(f[m]!=null){let y=m.indexOf(" ");y>0?d.setAttributeNS(m.slice(0,y),m.slice(y+1),f[m]):d.setAttribute(m,f[m])}}for(let m=p;m<e.length;m++){let y=e[m];if(y===0){if(m<e.length-1||m>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:x,contentDOM:b}=Bm(t,y,n,r);if(d.appendChild(x),b){if(l)throw new RangeError("Multiple content holes");l=b}}}return{dom:d,contentDOM:l}}const u6=65535,d6=Math.pow(2,16);function zJ(t,e){return t+e*d6}function IA(t){return t&u6}function IJ(t){return(t-(t&u6))/d6}const f6=1,h6=2,Fm=4,p6=8;class E1{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&p6)>0}get deletedBefore(){return(this.delInfo&(f6|Fm))>0}get deletedAfter(){return(this.delInfo&(h6|Fm))>0}get deletedAcross(){return(this.delInfo&Fm)>0}}class $s{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&$s.empty)return $s.empty}recover(e){let n=0,r=IA(e);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+IJ(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let s=0,i=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let d=this.ranges[l]-(this.inverted?s:0);if(d>e)break;let f=this.ranges[l+i],p=this.ranges[l+a],m=d+f;if(e<=m){let y=f?e==d?-1:e==m?1:n:n,x=d+s+(y<0?0:p);if(r)return x;let b=e==(n<0?d:m)?null:zJ(l/3,e-d),S=e==d?h6:e==m?f6:Fm;return(n<0?e!=d:e!=m)&&(S|=p6),new E1(x,S,b)}s+=p-f}return r?e+s:new E1(e+s,0,null)}touches(e,n){let r=0,s=IA(n),i=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let d=this.ranges[l]-(this.inverted?r:0);if(d>e)break;let f=this.ranges[l+i],p=d+f;if(e<=p&&l==s*3)return!0;r+=this.ranges[l+a]-f}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let a=this.ranges[s],l=a-(this.inverted?i:0),d=a+(this.inverted?0:i),f=this.ranges[s+n],p=this.ranges[s+r];e(l,l+f,d,d+p),i+=p-f}}invert(){return new $s(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?$s.empty:new $s(e<0?[0,-e,0]:[0,0,e])}}$s.empty=new $s([]);class Zf{constructor(e,n,r=0,s=e?e.length:0){this.mirror=n,this.from=r,this.to=s,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Zf(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let s=e.getMirror(n);this.appendMap(e._maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e._maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let e=new Zf;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let s=0;for(let i=this.from;i<this.to;i++){let a=this._maps[i],l=a.mapResult(e,n);if(l.recover!=null){let d=this.getMirror(i);if(d!=null&&d>i&&d<this.to){i=d,e=this._maps[d].recover(l.recover);continue}}s|=l.delInfo,e=l.pos}return r?e:new E1(e,s,null)}}const Yv=Object.create(null);class ss{getMap(){return $s.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Yv[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Yv)throw new RangeError("Duplicate use of step JSON ID "+e);return Yv[e]=n,n.prototype.jsonID=e,n}}class Cr{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Cr(e,null)}static fail(e){return new Cr(null,e)}static fromReplace(e,n,r,s){try{return Cr.ok(e.replace(n,r,s))}catch(i){if(i instanceof gg)return Cr.fail(i.message);throw i}}}function O2(t,e,n){let r=[];for(let s=0;s<t.childCount;s++){let i=t.child(s);i.content.size&&(i=i.copy(O2(i.content,e,i))),i.isInline&&(i=e(i,n,s)),r.push(i)}return We.fromArray(r)}class Do extends ss{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),i=new xt(O2(n.content,(a,l)=>!a.isAtom||!l.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),s),n.openStart,n.openEnd);return Cr.fromReplace(e,this.from,this.to,i)}invert(){return new Gi(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Do(n.pos,r.pos,this.mark)}merge(e){return e instanceof Do&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Do(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Do(n.from,n.to,e.markFromJSON(n.mark))}}ss.jsonID("addMark",Do);class Gi extends ss{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new xt(O2(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return Cr.fromReplace(e,this.from,this.to,r)}invert(){return new Do(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Gi(n.pos,r.pos,this.mark)}merge(e){return e instanceof Gi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Gi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Gi(n.from,n.to,e.markFromJSON(n.mark))}}ss.jsonID("removeMark",Gi);class Ro extends ss{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Cr.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Cr.fromReplace(e,this.pos,this.pos+1,new xt(We.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new Ro(this.pos,n.marks[s]);return new Ro(this.pos,this.mark)}}return new ic(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ro(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ro(n.pos,e.markFromJSON(n.mark))}}ss.jsonID("addNodeMark",Ro);class ic extends ss{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Cr.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Cr.fromReplace(e,this.pos,this.pos+1,new xt(We.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Ro(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ic(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ic(n.pos,e.markFromJSON(n.mark))}}ss.jsonID("removeNodeMark",ic);class Lr extends ss{constructor(e,n,r,s=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=s}apply(e){return this.structure&&A1(e,this.from,this.to)?Cr.fail("Structure replace would overwrite content"):Cr.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new $s([this.from,this.to-this.from,this.slice.size])}invert(e){return new Lr(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Lr(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Lr)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?xt.empty:new xt(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Lr(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?xt.empty:new xt(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Lr(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Lr(n.from,n.to,xt.fromJSON(e,n.slice),!!n.structure)}}ss.jsonID("replace",Lr);class zr extends ss{constructor(e,n,r,s,i,a,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=i,this.insert=a,this.structure=l}apply(e){if(this.structure&&(A1(e,this.from,this.gapFrom)||A1(e,this.gapTo,this.to)))return Cr.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Cr.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Cr.fromReplace(e,this.from,this.to,r):Cr.fail("Content does not fit in gap")}getMap(){return new $s([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new zr(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||i>r.pos?null:new zr(n.pos,r.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new zr(n.from,n.to,n.gapFrom,n.gapTo,xt.fromJSON(e,n.slice),n.insert,!!n.structure)}}ss.jsonID("replaceAround",zr);function A1(t,e,n){let r=t.resolve(e),s=n-e,i=r.depth;for(;s>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,s--;if(s>0){let a=r.node(i).maybeChild(r.indexAfter(i));for(;s>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,s--}}return!1}function BJ(t,e,n,r){let s=[],i=[],a,l;t.doc.nodesBetween(e,n,(d,f,p)=>{if(!d.isInline)return;let m=d.marks;if(!r.isInSet(m)&&p.type.allowsMarkType(r.type)){let y=Math.max(f,e),x=Math.min(f+d.nodeSize,n),b=r.addToSet(m);for(let S=0;S<m.length;S++)m[S].isInSet(b)||(a&&a.to==y&&a.mark.eq(m[S])?a.to=x:s.push(a=new Gi(y,x,m[S])));l&&l.to==y?l.to=x:i.push(l=new Do(y,x,r))}}),s.forEach(d=>t.step(d)),i.forEach(d=>t.step(d))}function FJ(t,e,n,r){let s=[],i=0;t.doc.nodesBetween(e,n,(a,l)=>{if(!a.isInline)return;i++;let d=null;if(r instanceof Dy){let f=a.marks,p;for(;p=r.isInSet(f);)(d||(d=[])).push(p),f=p.removeFromSet(f)}else r?r.isInSet(a.marks)&&(d=[r]):d=a.marks;if(d&&d.length){let f=Math.min(l+a.nodeSize,n);for(let p=0;p<d.length;p++){let m=d[p],y;for(let x=0;x<s.length;x++){let b=s[x];b.step==i-1&&m.eq(s[x].style)&&(y=b)}y?(y.to=f,y.step=i):s.push({style:m,from:Math.max(l,e),to:f,step:i})}}}),s.forEach(a=>t.step(new Gi(a.from,a.to,a.style)))}function M2(t,e,n,r=n.contentMatch,s=!0){let i=t.doc.nodeAt(e),a=[],l=e+1;for(let d=0;d<i.childCount;d++){let f=i.child(d),p=l+f.nodeSize,m=r.matchType(f.type);if(!m)a.push(new Lr(l,p,xt.empty));else{r=m;for(let y=0;y<f.marks.length;y++)n.allowsMarkType(f.marks[y].type)||t.step(new Gi(l,p,f.marks[y]));if(s&&f.isText&&n.whitespace!="pre"){let y,x=/\r?\n|\r/g,b;for(;y=x.exec(f.text);)b||(b=new xt(We.from(n.schema.text(" ",n.allowedMarks(f.marks))),0,0)),a.push(new Lr(l+y.index,l+y.index+y[0].length,b))}}l=p}if(!r.validEnd){let d=r.fillBefore(We.empty,!0);t.replace(l,l,new xt(d,0,0))}for(let d=a.length-1;d>=0;d--)t.step(a[d])}function $J(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Uu(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let s=t.$from.node(r),i=t.$from.index(r),a=t.$to.indexAfter(r);if(r<t.depth&&s.canReplace(i,a,n))return r;if(r==0||s.type.spec.isolating||!$J(s,i,a))break}return null}function UJ(t,e,n){let{$from:r,$to:s,depth:i}=e,a=r.before(i+1),l=s.after(i+1),d=a,f=l,p=We.empty,m=0;for(let b=i,S=!1;b>n;b--)S||r.index(b)>0?(S=!0,p=We.from(r.node(b).copy(p)),m++):d--;let y=We.empty,x=0;for(let b=i,S=!1;b>n;b--)S||s.after(b+1)<s.end(b)?(S=!0,y=We.from(s.node(b).copy(y)),x++):f++;t.step(new zr(d,f,a,l,new xt(p.append(y),m,x),p.size-m,!0))}function D2(t,e,n=null,r=t){let s=VJ(t,e),i=s&&HJ(r,e);return i?s.map(BA).concat({type:e,attrs:n}).concat(i.map(BA)):null}function BA(t){return{type:t,attrs:null}}function VJ(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;let a=i.length?i[0]:e;return n.canReplaceWith(r,s,a)?i:null}function HJ(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.child(r),a=e.contentMatch.findWrapping(i.type);if(!a)return null;let d=(a.length?a[a.length-1]:e).contentMatch;for(let f=r;d&&f<s;f++)d=d.matchType(n.child(f).type);return!d||!d.validEnd?null:a}function qJ(t,e,n){let r=We.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let l=n[a].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=We.from(n[a].type.create(n[a].attrs,r))}let s=e.start,i=e.end;t.step(new zr(s,i,s,i,new xt(r,0,0),n.length,!0))}function KJ(t,e,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(a,l)=>{let d=typeof s=="function"?s(a):s;if(a.isTextblock&&!a.hasMarkup(r,d)&&YJ(t.doc,t.mapping.slice(i).map(l),r)){let f=null;if(r.schema.linebreakReplacement){let x=r.whitespace=="pre",b=!!r.contentMatch.matchType(r.schema.linebreakReplacement);x&&!b?f=!1:!x&&b&&(f=!0)}f===!1&&g6(t,a,l,i),M2(t,t.mapping.slice(i).map(l,1),r,void 0,f===null);let p=t.mapping.slice(i),m=p.map(l,1),y=p.map(l+a.nodeSize,1);return t.step(new zr(m,y,m+1,y-1,new xt(We.from(r.create(d,null,a.marks)),0,0),1,!0)),f===!0&&m6(t,a,l,i),!1}})}function m6(t,e,n,r){e.forEach((s,i)=>{if(s.isText){let a,l=/\r?\n|\r/g;for(;a=l.exec(s.text);){let d=t.mapping.slice(r).map(n+1+i+a.index);t.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function g6(t,e,n,r){e.forEach((s,i)=>{if(s.type==s.type.schema.linebreakReplacement){let a=t.mapping.slice(r).map(n+1+i);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function YJ(t,e,n){let r=t.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function WJ(t,e,n,r,s){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let a=n.create(r,null,s||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,a);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new zr(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new xt(We.from(a),0,0),1,!0))}function Fa(t,e,n=1,r){let s=t.resolve(e),i=s.depth-n,a=r&&r[r.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!a.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let f=s.depth-1,p=n-2;f>i;f--,p--){let m=s.node(f),y=s.index(f);if(m.type.spec.isolating)return!1;let x=m.content.cutByIndex(y,m.childCount),b=r&&r[p+1];b&&(x=x.replaceChild(0,b.type.create(b.attrs)));let S=r&&r[p]||m;if(!m.canReplace(y+1,m.childCount)||!S.type.validContent(x))return!1}let l=s.indexAfter(i),d=r&&r[0];return s.node(i).canReplaceWith(l,l,d?d.type:s.node(i+1).type)}function GJ(t,e,n=1,r){let s=t.doc.resolve(e),i=We.empty,a=We.empty;for(let l=s.depth,d=s.depth-n,f=n-1;l>d;l--,f--){i=We.from(s.node(l).copy(i));let p=r&&r[f];a=We.from(p?p.type.create(p.attrs,a):s.node(l).copy(a))}t.step(new Lr(e,e,new xt(i.append(a),n,n),!0))}function el(t,e){let n=t.resolve(e),r=n.index();return y6(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function XJ(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let s=0;s<e.childCount;s++){let i=e.child(s),a=i.type==r?t.type.schema.nodes.text:i.type;if(n=n.matchType(a),!n||!t.type.allowsMarks(i.marks))return!1}return n.validEnd}function y6(t,e){return!!(t&&e&&!t.isLeaf&&XJ(t,e))}function Ry(t,e,n=-1){let r=t.resolve(e);for(let s=r.depth;;s--){let i,a,l=r.index(s);if(s==r.depth?(i=r.nodeBefore,a=r.nodeAfter):n>0?(i=r.node(s+1),l++,a=r.node(s).maybeChild(l)):(i=r.node(s).maybeChild(l-1),a=r.node(s+1)),i&&!i.isTextblock&&y6(i,a)&&r.node(s).canReplace(l,l+1))return e;if(s==0)break;e=n<0?r.before(s):r.after(s)}}function JJ(t,e,n){let r=null,{linebreakReplacement:s}=t.doc.type.schema,i=t.doc.resolve(e-n),a=i.node().type;if(s&&a.inlineContent){let p=a.whitespace=="pre",m=!!a.contentMatch.matchType(s);p&&!m?r=!1:!p&&m&&(r=!0)}let l=t.steps.length;if(r===!1){let p=t.doc.resolve(e+n);g6(t,p.node(),p.before(),l)}a.inlineContent&&M2(t,e+n-1,a,i.node().contentMatchAt(i.index()),r==null);let d=t.mapping.slice(l),f=d.map(e-n);if(t.step(new Lr(f,d.map(e+n,-1),xt.empty,!0)),r===!0){let p=t.doc.resolve(f);m6(t,p.node(),p.before(),t.steps.length)}return t}function QJ(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let i=r.index(s);if(r.node(s).canReplaceWith(i,i,n))return r.before(s+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let i=r.indexAfter(s);if(r.node(s).canReplaceWith(i,i,n))return r.after(s+1);if(i<r.node(s).childCount)return null}return null}function x6(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let i=0;i<n.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let a=r.depth;a>=0;a--){let l=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,d=r.index(a)+(l>0?1:0),f=r.node(a),p=!1;if(i==1)p=f.canReplace(d,d,s);else{let m=f.contentMatchAt(d).findWrapping(s.firstChild.type);p=m&&f.canReplaceWith(d,d,m[0])}if(p)return l==0?r.pos:l<0?r.before(a+1):r.after(a+1)}return null}function _y(t,e,n=e,r=xt.empty){if(e==n&&!r.size)return null;let s=t.resolve(e),i=t.resolve(n);return v6(s,i,r)?new Lr(e,n,r):new ZJ(s,i,r).fit()}function v6(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class ZJ{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=We.empty;for(let s=0;s<=e.depth;s++){let i=e.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=We.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let i=this.placed,a=r.depth,l=s.depth;for(;a&&l&&i.childCount==1;)i=i.firstChild.content,a--,l--;let d=new xt(i,a,l);return e>-1?new zr(r.pos,e,this.$to.pos,this.$to.end(),d,n):d.size||r.pos!=this.$to.pos?new Lr(r.pos,s.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let i=n.firstChild;if(n.childCount>1&&(s=0),i.type.spec.isolating&&s<=r){e=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let s,i=null;r?(i=Wv(this.unplaced.content,r-1).firstChild,s=i.content):s=this.unplaced.content;let a=s.firstChild;for(let l=this.depth;l>=0;l--){let{type:d,match:f}=this.frontier[l],p,m=null;if(n==1&&(a?f.matchType(a.type)||(m=f.fillBefore(We.from(a),!1)):i&&d.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:l,parent:i,inject:m};if(n==2&&a&&(p=f.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:l,parent:i,wrap:p};if(i&&f.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=Wv(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new xt(e,n+1,Math.max(r,s.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=Wv(e,n);if(s.childCount<=1&&n>0){let i=e.size-n<=n+s.size;this.unplaced=new xt(of(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new xt(of(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:s,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let S=0;S<i.length;S++)this.openFrontierNode(i[S]);let a=this.unplaced,l=r?r.content:a.content,d=a.openStart-e,f=0,p=[],{match:m,type:y}=this.frontier[n];if(s){for(let S=0;S<s.childCount;S++)p.push(s.child(S));m=m.matchFragment(s)}let x=l.size+e-(a.content.size-a.openEnd);for(;f<l.childCount;){let S=l.child(f),C=m.matchType(S.type);if(!C)break;f++,(f>1||d==0||S.content.size)&&(m=C,p.push(b6(S.mark(y.allowedMarks(S.marks)),f==1?d:0,f==l.childCount?x:-1)))}let b=f==l.childCount;b||(x=-1),this.placed=lf(this.placed,n,We.from(p)),this.frontier[n].match=m,b&&x<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let S=0,C=l;S<x;S++){let N=C.lastChild;this.frontier.push({type:N.type,match:N.contentMatchAt(N.childCount)}),C=N.content}this.unplaced=b?e==0?xt.empty:new xt(of(a.content,e-1,1),e-1,x<0?a.openEnd:e-1):new xt(of(a.content,e,f),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Gv(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=Gv(e,n,s,r,i);if(a){for(let l=n-1;l>=0;l--){let{match:d,type:f}=this.frontier[l],p=Gv(e,l,f,d,!0);if(!p||p.childCount)continue e}return{depth:n,fit:a,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=lf(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let s=e.node(r),i=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,i)}return e}openFrontierNode(e,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=lf(this.placed,this.depth,We.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(We.empty,!0);n.childCount&&(this.placed=lf(this.placed,this.frontier.length,n))}}function of(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(of(t.firstChild.content,e-1,n)))}function lf(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(lf(t.lastChild.content,e-1,n)))}function Wv(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function b6(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,b6(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(We.empty,!0)))),t.copy(r)}function Gv(t,e,n,r,s){let i=t.node(e),a=s?t.indexAfter(e):t.index(e);if(a==i.childCount&&!n.compatibleContent(i.type))return null;let l=r.fillBefore(i.content,!0,a);return l&&!eQ(n,i.content,a)?l:null}function eQ(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function tQ(t){return t.spec.defining||t.spec.definingForContent}function nQ(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),i=t.doc.resolve(n);if(v6(s,i,r))return t.step(new Lr(e,n,r));let a=S6(s,t.doc.resolve(n));a[a.length-1]==0&&a.pop();let l=-(s.depth+1);a.unshift(l);for(let y=s.depth,x=s.pos-1;y>0;y--,x--){let b=s.node(y).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;a.indexOf(y)>-1?l=y:s.before(y)==x&&a.splice(1,0,-y)}let d=a.indexOf(l),f=[],p=r.openStart;for(let y=r.content,x=0;;x++){let b=y.firstChild;if(f.push(b),x==r.openStart)break;y=b.content}for(let y=p-1;y>=0;y--){let x=f[y],b=tQ(x.type);if(b&&!x.sameMarkup(s.node(Math.abs(l)-1)))p=y;else if(b||!x.type.isTextblock)break}for(let y=r.openStart;y>=0;y--){let x=(y+p+1)%(r.openStart+1),b=f[x];if(b)for(let S=0;S<a.length;S++){let C=a[(S+d)%a.length],N=!0;C<0&&(N=!1,C=-C);let k=s.node(C-1),M=s.index(C-1);if(k.canReplaceWith(M,M,b.type,b.marks))return t.replace(s.before(C),N?i.after(C):n,new xt(w6(r.content,0,r.openStart,x),x,r.openEnd))}}let m=t.steps.length;for(let y=a.length-1;y>=0&&(t.replace(e,n,r),!(t.steps.length>m));y--){let x=a[y];x<0||(e=s.before(x),n=i.after(x))}}function w6(t,e,n,r,s){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(w6(i.content,e+1,n,r,i)))}if(e>r){let i=s.contentMatchAt(0),a=i.fillBefore(t).append(t);t=a.append(i.matchFragment(a).fillBefore(We.empty,!0))}return t}function rQ(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=QJ(t.doc,e,r.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new xt(We.from(r),0,0))}function sQ(t,e,n){let r=t.doc.resolve(e),s=t.doc.resolve(n),i=S6(r,s);for(let a=0;a<i.length;a++){let l=i[a],d=a==i.length-1;if(d&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),s.end(l));if(l>0&&(d||r.node(l-1).canReplace(r.index(l-1),s.indexAfter(l-1))))return t.delete(r.before(l),s.after(l))}for(let a=1;a<=r.depth&&a<=s.depth;a++)if(e-r.start(a)==r.depth-a&&n>r.end(a)&&s.end(a)-n!=s.depth-a&&r.start(a-1)==s.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),s.index(a-1)))return t.delete(r.before(a),n);t.delete(e,n)}function S6(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let s=r;s>=0;s--){let i=t.start(s);if(i<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(i==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==i-1)&&n.push(s)}return n}class yu extends ss{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Cr.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return Cr.fromReplace(e,this.pos,this.pos+1,new xt(We.from(s),0,n.isLeaf?0:1))}getMap(){return $s.empty}invert(e){return new yu(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new yu(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new yu(n.pos,n.attr,n.value)}}ss.jsonID("attr",yu);class eh extends ss{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Cr.ok(r)}getMap(){return $s.empty}invert(e){return new eh(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new eh(n.attr,n.value)}}ss.jsonID("docAttr",eh);let Nu=class extends Error{};Nu=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Nu.prototype=Object.create(Error.prototype);Nu.prototype.constructor=Nu;Nu.prototype.name="TransformError";class R2{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Zf}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Nu(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=xt.empty){let s=_y(this.doc,e,n,r);return s&&this.step(s),this}replaceWith(e,n,r){return this.replace(e,n,new xt(We.from(r),0,0))}delete(e,n){return this.replace(e,n,xt.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return nQ(this,e,n,r),this}replaceRangeWith(e,n,r){return rQ(this,e,n,r),this}deleteRange(e,n){return sQ(this,e,n),this}lift(e,n){return UJ(this,e,n),this}join(e,n=1){return JJ(this,e,n),this}wrap(e,n){return qJ(this,e,n),this}setBlockType(e,n=e,r,s=null){return KJ(this,e,n,r,s),this}setNodeMarkup(e,n,r=null,s){return WJ(this,e,n,r,s),this}setNodeAttribute(e,n,r){return this.step(new yu(e,n,r)),this}setDocAttribute(e,n){return this.step(new eh(e,n)),this}addNodeMark(e,n){return this.step(new Ro(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof Pn)n.isInSet(r.marks)&&this.step(new ic(e,n));else{let s=r.marks,i,a=[];for(;i=n.isInSet(s);)a.push(new ic(e,i)),s=i.removeFromSet(s);for(let l=a.length-1;l>=0;l--)this.step(a[l])}return this}split(e,n=1,r){return GJ(this,e,n,r),this}addMark(e,n,r){return BJ(this,e,n,r),this}removeMark(e,n,r){return FJ(this,e,n,r),this}clearIncompatible(e,n,r){return M2(this,e,n,r),this}}const Xv=Object.create(null);class Yt{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new C6(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=xt.empty){let r=n.content.lastChild,s=null;for(let l=0;l<n.openEnd;l++)s=r,r=r.lastChild;let i=e.steps.length,a=this.ranges;for(let l=0;l<a.length;l++){let{$from:d,$to:f}=a[l],p=e.mapping.slice(i);e.replaceRange(p.map(d.pos),p.map(f.pos),l?xt.empty:n),l==0&&UA(e,i,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:a,$to:l}=s[i],d=e.mapping.slice(r),f=d.map(a.pos),p=d.map(l.pos);i?e.deleteRange(f,p):(e.replaceRangeWith(f,p,n),UA(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let s=e.parent.inlineContent?new Ht(e):ru(e.node(0),e.parent,e.pos,e.index(),n,r);if(s)return s;for(let i=e.depth-1;i>=0;i--){let a=n<0?ru(e.node(0),e.node(i),e.before(i+1),e.index(i),n,r):ru(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,r);if(a)return a}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new qs(e.node(0))}static atStart(e){return ru(e,e,0,0,1)||new qs(e)}static atEnd(e){return ru(e,e,e.content.size,e.childCount,-1)||new qs(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Xv[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Xv)throw new RangeError("Duplicate use of selection JSON ID "+e);return Xv[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Ht.between(this.$anchor,this.$head).getBookmark()}}Yt.prototype.visible=!0;class C6{constructor(e,n){this.$from=e,this.$to=n}}let FA=!1;function $A(t){!FA&&!t.parent.inlineContent&&(FA=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Ht extends Yt{constructor(e,n=e){$A(e),$A(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Yt.near(r);let s=e.resolve(n.map(this.anchor));return new Ht(s.parent.inlineContent?s:r,r)}replace(e,n=xt.empty){if(super.replace(e,n),n==xt.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Ht&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Ly(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ht(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let s=e.resolve(n);return new this(s,r==n?s:e.resolve(r))}static between(e,n,r){let s=e.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let i=Yt.findFrom(n,r,!0)||Yt.findFrom(n,-r,!0);if(i)n=i.$head;else return Yt.near(n,r)}return e.parent.inlineContent||(s==0?e=n:(e=(Yt.findFrom(e,-r,!0)||Yt.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new Ht(e,n)}}Yt.jsonID("text",Ht);class Ly{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Ly(e.map(this.anchor),e.map(this.head))}resolve(e){return Ht.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ut extends Yt{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),i=e.resolve(s);return r?Yt.near(i):new Ut(i)}content(){return new xt(We.from(this.node),0,0)}eq(e){return e instanceof Ut&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new _2(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ut(e.resolve(n.anchor))}static create(e,n){return new Ut(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ut.prototype.visible=!1;Yt.jsonID("node",Ut);class _2{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Ly(r,r):new _2(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Ut.isSelectable(r)?new Ut(n):Yt.near(n)}}class qs extends Yt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=xt.empty){if(n==xt.empty){e.delete(0,e.doc.content.size);let r=Yt.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new qs(e)}map(e){return new qs(e)}eq(e){return e instanceof qs}getBookmark(){return iQ}}Yt.jsonID("all",qs);const iQ={map(){return this},resolve(t){return new qs(t)}};function ru(t,e,n,r,s,i=!1){if(e.inlineContent)return Ht.create(t,n);for(let a=r-(s>0?0:1);s>0?a<e.childCount:a>=0;a+=s){let l=e.child(a);if(l.isAtom){if(!i&&Ut.isSelectable(l))return Ut.create(t,n-(s<0?l.nodeSize:0))}else{let d=ru(t,l,n+s,s<0?l.childCount:0,s,i);if(d)return d}n+=l.nodeSize*s}return null}function UA(t,e,n){let r=t.steps.length-1;if(r<e)return;let s=t.steps[r];if(!(s instanceof Lr||s instanceof zr))return;let i=t.mapping.maps[r],a;i.forEach((l,d,f,p)=>{a==null&&(a=p)}),t.setSelection(Yt.near(t.doc.resolve(a),n))}const VA=1,am=2,HA=4;class aQ extends R2{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|VA)&~am,this.storedMarks=null,this}get selectionSet(){return(this.updated&VA)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=am,this}ensureMarks(e){return Pn.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&am)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~am,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Pn.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let a=this.doc.resolve(n);i=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(e,i)),this.selection.empty||this.setSelection(Yt.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=HA,this}get scrolledIntoView(){return(this.updated&HA)>0}}function qA(t,e){return!e||!t?t:t.bind(e)}class cf{constructor(e,n,r){this.name=e,this.init=qA(n.init,r),this.apply=qA(n.apply,r)}}const oQ=[new cf("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new cf("selection",{init(t,e){return t.selection||Yt.atStart(e.doc)},apply(t){return t.selection}}),new cf("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new cf("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Jv{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=oQ.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new cf(r.key,r.spec.state,r))})}}class hu{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),s=null;for(;;){let i=!1;for(let a=0;a<this.config.plugins.length;a++){let l=this.config.plugins[a];if(l.spec.appendTransaction){let d=s?s[a].n:0,f=s?s[a].state:this,p=d<n.length&&l.spec.appendTransaction.call(l,d?n.slice(d):n,f,r);if(p&&r.filterTransaction(p,a)){if(p.setMeta("appendedTransaction",e),!s){s=[];for(let m=0;m<this.config.plugins.length;m++)s.push(m<a?{state:r,n:n.length}:{state:this,n:0})}n.push(p),r=r.applyInner(p),i=!0}s&&(s[a]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new hu(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let i=r[s];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new aQ(this)}static create(e){let n=new Jv(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new hu(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(e,r);return r}reconfigure(e){let n=new Jv(this.schema,e.plugins),r=n.fields,s=new hu(n);for(let i=0;i<r.length;i++){let a=r[i].name;s[a]=this.hasOwnProperty(a)?this[a]:r[i].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],i=s.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new Jv(e.schema,e.plugins),i=new hu(s);return s.fields.forEach(a=>{if(a.name=="doc")i.doc=zo.fromJSON(e.schema,n.doc);else if(a.name=="selection")i.selection=Yt.fromJSON(i.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let d=r[l],f=d.spec.state;if(d.key==a.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){i[a.name]=f.fromJSON.call(d,e,n[l],i);return}}i[a.name]=a.init(e,i)}}),i}}function N6(t,e,n){for(let r in t){let s=t[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=N6(s,e,{})),n[r]=s}return n}class Nr{constructor(e){this.spec=e,this.props={},e.props&&N6(e.props,this,this.props),this.key=e.key?e.key.key:j6("plugin")}getState(e){return e[this.key]}}const Qv=Object.create(null);function j6(t){return t in Qv?t+"$"+ ++Qv[t]:(Qv[t]=0,t+"$")}class Wr{constructor(e="key"){this.key=j6(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const qr=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},ju=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let k1=null;const La=function(t,e,n){let r=k1||(k1=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},lQ=function(){k1=null},ac=function(t,e,n,r){return n&&(KA(t,e,n,r,-1)||KA(t,e,n,r,1))},cQ=/^(img|br|input|textarea|hr)$/i;function KA(t,e,n,r,s){for(var i;;){if(t==n&&e==r)return!0;if(e==(s<0?0:ci(t))){let a=t.parentNode;if(!a||a.nodeType!=1||Oh(t)||cQ.test(t.nodeName)||t.contentEditable=="false")return!1;e=qr(t)+(s<0?0:1),t=a}else if(t.nodeType==1){let a=t.childNodes[e+(s<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((i=a.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)e+=s;else return!1;else t=a,e=s<0?ci(t):0}else return!1}}function ci(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function uQ(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=ci(t)}else if(t.parentNode&&!Oh(t))e=qr(t),t=t.parentNode;else return null}}function dQ(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Oh(t))e=qr(t)+1,t=t.parentNode;else return null}}function fQ(t,e,n){for(let r=e==0,s=e==ci(t);r||s;){if(t==n)return!0;let i=qr(t);if(t=t.parentNode,!t)return!1;r=r&&i==0,s=s&&i==ci(t)}}function Oh(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Py=function(t){return t.focusNode&&ac(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function kl(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function hQ(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function pQ(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(ci(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(ci(r.startContainer),r.startOffset)}}}const ia=typeof navigator<"u"?navigator:null,YA=typeof document<"u"?document:null,tl=ia&&ia.userAgent||"",O1=/Edge\/(\d+)/.exec(tl),T6=/MSIE \d/.exec(tl),M1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(tl),Es=!!(T6||M1||O1),Io=T6?document.documentMode:M1?+M1[1]:O1?+O1[1]:0,Oi=!Es&&/gecko\/(\d+)/i.test(tl);Oi&&+(/Firefox\/(\d+)/.exec(tl)||[0,0])[1];const D1=!Es&&/Chrome\/(\d+)/.exec(tl),ts=!!D1,E6=D1?+D1[1]:0,fs=!Es&&!!ia&&/Apple Computer/.test(ia.vendor),Tu=fs&&(/Mobile\/\w+/.test(tl)||!!ia&&ia.maxTouchPoints>2),li=Tu||(ia?/Mac/.test(ia.platform):!1),mQ=ia?/Win/.test(ia.platform):!1,za=/Android \d/.test(tl),Mh=!!YA&&"webkitFontSmoothing"in YA.documentElement.style,gQ=Mh?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function yQ(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function ka(t,e){return typeof t=="number"?t:t[e]}function xQ(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function WA(t,e,n){let r=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let a=n||t.dom;a;){if(a.nodeType!=1){a=ju(a);continue}let l=a,d=l==i.body,f=d?yQ(i):xQ(l),p=0,m=0;if(e.top<f.top+ka(r,"top")?m=-(f.top-e.top+ka(s,"top")):e.bottom>f.bottom-ka(r,"bottom")&&(m=e.bottom-e.top>f.bottom-f.top?e.top+ka(s,"top")-f.top:e.bottom-f.bottom+ka(s,"bottom")),e.left<f.left+ka(r,"left")?p=-(f.left-e.left+ka(s,"left")):e.right>f.right-ka(r,"right")&&(p=e.right-f.right+ka(s,"right")),p||m)if(d)i.defaultView.scrollBy(p,m);else{let x=l.scrollLeft,b=l.scrollTop;m&&(l.scrollTop+=m),p&&(l.scrollLeft+=p);let S=l.scrollLeft-x,C=l.scrollTop-b;e={left:e.left-S,top:e.top-C,right:e.right-S,bottom:e.bottom-C}}let y=d?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(y))break;a=y=="absolute"?a.offsetParent:ju(a)}}function vQ(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,s;for(let i=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let l=t.root.elementFromPoint(i,a);if(!l||l==t.dom||!t.dom.contains(l))continue;let d=l.getBoundingClientRect();if(d.top>=n-20){r=l,s=d.top;break}}return{refDOM:r,refTop:s,stack:A6(t.dom)}}function A6(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=ju(r));return e}function bQ({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;k6(n,r==0?0:r-e)}function k6(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:s,left:i}=t[n];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=i&&(r.scrollLeft=i)}}let Jc=null;function wQ(t){if(t.setActive)return t.setActive();if(Jc)return t.focus(Jc);let e=A6(t);t.focus(Jc==null?{get preventScroll(){return Jc={preventScroll:!0},!0}}:void 0),Jc||(Jc=!1,k6(e,0))}function O6(t,e){let n,r=2e8,s,i=0,a=e.top,l=e.top,d,f;for(let p=t.firstChild,m=0;p;p=p.nextSibling,m++){let y;if(p.nodeType==1)y=p.getClientRects();else if(p.nodeType==3)y=La(p).getClientRects();else continue;for(let x=0;x<y.length;x++){let b=y[x];if(b.top<=a&&b.bottom>=l){a=Math.max(b.bottom,a),l=Math.min(b.top,l);let S=b.left>e.left?b.left-e.left:b.right<e.left?e.left-b.right:0;if(S<r){n=p,r=S,s=S&&n.nodeType==3?{left:b.right<e.left?b.right:b.left,top:e.top}:e,p.nodeType==1&&S&&(i=m+(e.left>=(b.left+b.right)/2?1:0));continue}}else b.top>e.top&&!d&&b.left<=e.left&&b.right>=e.left&&(d=p,f={left:Math.max(b.left,Math.min(b.right,e.left)),top:b.top});!n&&(e.left>=b.right&&e.top>=b.top||e.left>=b.left&&e.top>=b.bottom)&&(i=m+1)}}return!n&&d&&(n=d,s=f,r=0),n&&n.nodeType==3?SQ(n,s):!n||r&&n.nodeType==1?{node:t,offset:i}:O6(n,s)}function SQ(t,e){let n=t.nodeValue.length,r=document.createRange();for(let s=0;s<n;s++){r.setEnd(t,s+1),r.setStart(t,s);let i=wo(r,1);if(i.top!=i.bottom&&L2(e,i))return{node:t,offset:s+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function L2(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function CQ(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function NQ(t,e,n){let{node:r,offset:s}=O6(e,n),i=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();i=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(r,s,i)}function jQ(t,e,n,r){let s=-1;for(let i=e,a=!1;i!=t.dom;){let l=t.docView.nearestDesc(i,!0),d;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((d=l.dom.getBoundingClientRect()).width||d.height)&&(l.node.isBlock&&l.parent&&(!a&&d.left>r.left||d.top>r.top?s=l.posBefore:(!a&&d.right<r.left||d.bottom<r.top)&&(s=l.posAfter),a=!0),!l.contentDOM&&s<0&&!l.node.isText))return(l.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?l.posBefore:l.posAfter;i=l.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function M6(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),i=s;;){let a=t.childNodes[i];if(a.nodeType==1){let l=a.getClientRects();for(let d=0;d<l.length;d++){let f=l[d];if(L2(e,f))return M6(a,e,f)}}if((i=(i+1)%r)==s)break}return t}function TQ(t,e){let n=t.dom.ownerDocument,r,s=0,i=pQ(n,e.left,e.top);i&&({node:r,offset:s}=i);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let f=t.dom.getBoundingClientRect();if(!L2(e,f)||(a=M6(t.dom,e,f),!a))return null}if(fs)for(let f=a;r&&f;f=ju(f))f.draggable&&(r=void 0);if(a=CQ(a,e),r){if(Oi&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let p=r.childNodes[s],m;p.nodeName=="IMG"&&(m=p.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&s++}let f;Mh&&s&&r.nodeType==1&&(f=r.childNodes[s-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=e.top&&s--,r==t.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(l=jQ(t,r,s,e))}l==null&&(l=NQ(t,a,e));let d=t.docView.nearestDesc(a,!0);return{pos:l,inside:d?d.posAtStart-d.border:-1}}function GA(t){return t.top<t.bottom||t.left<t.right}function wo(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(GA(r))return r}return Array.prototype.find.call(n,GA)||t.getBoundingClientRect()}const EQ=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function D6(t,e,n){let{node:r,offset:s,atom:i}=t.docView.domFromPos(e,n<0?-1:1),a=Mh||Oi;if(r.nodeType==3)if(a&&(EQ.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let d=wo(La(r,s,s),n);if(Oi&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let f=wo(La(r,s-1,s-1),-1);if(f.top==d.top){let p=wo(La(r,s,s+1),-1);if(p.top!=d.top)return Qd(p,p.left<f.left)}}return d}else{let d=s,f=s,p=n<0?1:-1;return n<0&&!s?(f++,p=-1):n>=0&&s==r.nodeValue.length?(d--,p=1):n<0?d--:f++,Qd(wo(La(r,d,f),p),p<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&s&&(n<0||s==ci(r))){let d=r.childNodes[s-1];if(d.nodeType==1)return Zv(d.getBoundingClientRect(),!1)}if(i==null&&s<ci(r)){let d=r.childNodes[s];if(d.nodeType==1)return Zv(d.getBoundingClientRect(),!0)}return Zv(r.getBoundingClientRect(),n>=0)}if(i==null&&s&&(n<0||s==ci(r))){let d=r.childNodes[s-1],f=d.nodeType==3?La(d,ci(d)-(a?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(f)return Qd(wo(f,1),!1)}if(i==null&&s<ci(r)){let d=r.childNodes[s];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let f=d?d.nodeType==3?La(d,0,a?0:1):d.nodeType==1?d:null:null;if(f)return Qd(wo(f,-1),!0)}return Qd(wo(r.nodeType==3?La(r):r,-n),n>=0)}function Qd(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Zv(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function R6(t,e,n){let r=t.state,s=t.root.activeElement;r!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),s!=t.dom&&s&&s.focus()}}function AQ(t,e,n){let r=e.selection,s=n=="up"?r.$from:r.$to;return R6(t,e,()=>{let{node:i}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(i,!0);if(!l)break;if(l.node.isBlock){i=l.contentDOM||l.dom;break}i=l.dom.parentNode}let a=D6(t,s.pos,1);for(let l=i.firstChild;l;l=l.nextSibling){let d;if(l.nodeType==1)d=l.getClientRects();else if(l.nodeType==3)d=La(l,0,l.nodeValue.length).getClientRects();else continue;for(let f=0;f<d.length;f++){let p=d[f];if(p.bottom>p.top+1&&(n=="up"?a.top-p.top>(p.bottom-a.top)*2:p.bottom-a.bottom>(a.bottom-p.top)*2))return!1}}return!0})}const kQ=/[\u0590-\u08ac]/;function OQ(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,i=!s,a=s==r.parent.content.size,l=t.domSelection();return l?!kQ.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?i:a:R6(t,e,()=>{let{focusNode:d,focusOffset:f,anchorNode:p,anchorOffset:m}=t.domSelectionRange(),y=l.caretBidiLevel;l.modify("move",n,"character");let x=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:b,focusOffset:S}=t.domSelectionRange(),C=b&&!x.contains(b.nodeType==1?b:b.parentNode)||d==b&&f==S;try{l.collapse(p,m),d&&(d!=p||f!=m)&&l.extend&&l.extend(d,f)}catch{}return y!=null&&(l.caretBidiLevel=y),C}):r.pos==r.start()||r.pos==r.end()}let XA=null,JA=null,QA=!1;function MQ(t,e,n){return XA==e&&JA==n?QA:(XA=e,JA=n,QA=n=="up"||n=="down"?AQ(t,e,n):OQ(t,e,n))}const hi=0,ZA=1,zl=2,aa=3;class Dh{constructor(e,n,r,s){this.parent=e,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=hi,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let i,a;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((a=i.pmViewDesc)&&a.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(a)+a.size:this.posAtStart}else{let i,a;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((a=i.pmViewDesc)&&a.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(a):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>qr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,s=e;s;s=s.parentNode){let i=this.getDesc(s),a;if(i&&(!n||i.node))if(r&&(a=i.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let s=e;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],i=r+s.size;if(r==e&&i!=r){for(;!s.border&&s.children.length;)for(let a=0;a<s.children.length;a++){let l=s.children[a];if(l.size){s=l;break}}return s}if(e<i)return s.descAt(e-r-s.border);r=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let i=0;r<this.children.length;r++){let a=this.children[r],l=i+a.size;if(l>e||a instanceof L6){s=e-i;break}i=l}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof _6&&i.side>=0;r--);if(n<=0){let i,a=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,a=!1);return i&&n&&a&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?qr(i.dom)+1:0}}else{let i,a=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,a=!1);return i&&a&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?qr(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let a=r,l=0;;l++){let d=this.children[l],f=a+d.size;if(s==-1&&e<=f){let p=a+d.border;if(e>=p&&n<=f-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,n,p);e=a;for(let m=l;m>0;m--){let y=this.children[m-1];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(1)){s=qr(y.dom)+1;break}e-=y.size}s==-1&&(s=0)}if(s>-1&&(f>n||l==this.children.length-1)){n=f;for(let p=l+1;p<this.children.length;p++){let m=this.children[p];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){i=qr(m.dom);break}n+=m.size}i==-1&&(i=this.contentDOM.childNodes.length);break}a=f}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,s=!1){let i=Math.min(e,n),a=Math.max(e,n);for(let x=0,b=0;x<this.children.length;x++){let S=this.children[x],C=b+S.size;if(i>b&&a<C)return S.setSelection(e-b-S.border,n-b-S.border,r,s);b=C}let l=this.domFromPos(e,e?-1:1),d=n==e?l:this.domFromPos(n,n?-1:1),f=r.root.getSelection(),p=r.domSelectionRange(),m=!1;if((Oi||fs)&&e==n){let{node:x,offset:b}=l;if(x.nodeType==3){if(m=!!(b&&x.nodeValue[b-1]==`
`),m&&b==x.nodeValue.length)for(let S=x,C;S;S=S.parentNode){if(C=S.nextSibling){C.nodeName=="BR"&&(l=d={node:C.parentNode,offset:qr(C)+1});break}let N=S.pmViewDesc;if(N&&N.node&&N.node.isBlock)break}}else{let S=x.childNodes[b-1];m=S&&(S.nodeName=="BR"||S.contentEditable=="false")}}if(Oi&&p.focusNode&&p.focusNode!=d.node&&p.focusNode.nodeType==1){let x=p.focusNode.childNodes[p.focusOffset];x&&x.contentEditable=="false"&&(s=!0)}if(!(s||m&&fs)&&ac(l.node,l.offset,p.anchorNode,p.anchorOffset)&&ac(d.node,d.offset,p.focusNode,p.focusOffset))return;let y=!1;if((f.extend||e==n)&&!m){f.collapse(l.node,l.offset);try{e!=n&&f.extend(d.node,d.offset),y=!0}catch{}}if(!y){if(e>n){let b=l;l=d,d=b}let x=document.createRange();x.setEnd(d.node,d.offset),x.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(x)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,s=0;s<this.children.length;s++){let i=this.children[s],a=r+i.size;if(r==a?e<=a&&n>=r:e<a&&n>r){let l=r+i.border,d=a-i.border;if(e>=l&&n<=d){this.dirty=e==r||n==a?zl:ZA,e==l&&n==d&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=aa:i.markDirty(e-l,n-l);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?zl:aa}r=a}this.dirty=zl}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?zl:ZA;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class _6 extends Dh{constructor(e,n,r,s){let i,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(a.nodeType!=1){let l=document.createElement("span");l.appendChild(a),a=l}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==hi&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class DQ extends Dh{constructor(e,n,r,s){super(e,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class oc extends Dh{constructor(e,n,r,s,i){super(e,[],r,s),this.mark=n,this.spec=i}static create(e,n,r,s){let i=s.nodeViews[n.type.name],a=i&&i(n,s,r);return(!a||!a.dom)&&(a=xc.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new oc(e,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&aa||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=aa&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=hi){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=hi}}slice(e,n,r){let s=oc.create(this.parent,this.mark,!0,r),i=this.children,a=this.size;n<a&&(i=_1(i,n,a,r)),e>0&&(i=_1(i,0,e,r));for(let l=0;l<i.length;l++)i[l].parent=s;return s.children=i,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Bo extends Dh{constructor(e,n,r,s,i,a,l,d,f){super(e,[],i,a),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=l}static create(e,n,r,s,i,a){let l=i.nodeViews[n.type.name],d,f=l&&l(n,i,()=>{if(!d)return a;if(d.parent)return d.parent.posBeforeChild(d)},r,s),p=f&&f.dom,m=f&&f.contentDOM;if(n.isText){if(!p)p=document.createTextNode(n.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:m}=xc.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!m&&!n.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),n.type.spec.draggable&&(p.draggable=!0));let y=p;return p=I6(p,r,n),f?d=new RQ(e,n,r,s,p,m||null,y,f,i,a+1):n.isText?new zy(e,n,r,s,p,y,i):new Bo(e,n,r,s,p,m||null,y,i,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>We.empty)}return e}matchesNode(e,n,r){return this.dirty==hi&&e.eq(this.node)&&bg(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,s=n,i=e.composing?this.localCompositionInfo(e,n):null,a=i&&i.pos>-1?i:null,l=i&&i.pos<0,d=new LQ(this,a&&a.node,e);IQ(this.node,this.innerDeco,(f,p,m)=>{f.spec.marks?d.syncToMarks(f.spec.marks,r,e):f.type.side>=0&&!m&&d.syncToMarks(p==this.node.childCount?Pn.none:this.node.child(p).marks,r,e),d.placeWidget(f,e,s)},(f,p,m,y)=>{d.syncToMarks(f.marks,r,e);let x;d.findNodeMatch(f,p,m,y)||l&&e.state.selection.from>s&&e.state.selection.to<s+f.nodeSize&&(x=d.findIndexWithChild(i.node))>-1&&d.updateNodeAt(f,p,m,x,e)||d.updateNextNode(f,p,m,e,y,s)||d.addNode(f,p,m,e,s),s+=f.nodeSize}),d.syncToMarks([],r,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==zl)&&(a&&this.protectLocalComposition(e,a),P6(this.contentDOM,this.children,e),Tu&&BQ(this.dom))}localCompositionInfo(e,n){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof Ht)||r<n||s>n+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let a=i.nodeValue,l=FQ(this.node.content,a,r-n,s-n);return l<0?null:{node:i,pos:l,text:a}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let a=new DQ(this,i,n,s);e.input.compositionNodes.push(a),this.children=_1(this.children,r,r+s.length,e,a)}update(e,n,r,s){return this.dirty==aa||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,s),!0)}updateInner(e,n,r,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=hi}updateOuterDeco(e){if(bg(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=z6(this.dom,this.nodeDOM,R1(this.outerDeco,this.node,n),R1(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function ek(t,e,n,r,s){I6(r,e,t);let i=new Bo(void 0,t,e,n,r,r,r,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class zy extends Bo{constructor(e,n,r,s,i,a,l){super(e,n,r,s,i,null,a,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,s){return this.dirty==aa||this.dirty!=hi&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=hi||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=hi,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let s=this.node.cut(e,n),i=document.createTextNode(s.text);return new zy(this.parent,s,this.outerDeco,this.innerDeco,i,i,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=aa)}get domAtom(){return!1}isText(e){return this.node.text==e}}class L6 extends Dh{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==hi&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class RQ extends Bo{constructor(e,n,r,s,i,a,l,d,f,p){super(e,n,r,s,i,a,l,f,p),this.spec=d}update(e,n,r,s){if(this.dirty==aa)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,n,r);return i&&this.updateInner(e,n,r,s),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,s){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function P6(t,e,n){let r=t.firstChild,s=!1;for(let i=0;i<e.length;i++){let a=e[i],l=a.dom;if(l.parentNode==t){for(;l!=r;)r=tk(r),s=!0;r=r.nextSibling}else s=!0,t.insertBefore(l,r);if(a instanceof oc){let d=r?r.previousSibling:t.lastChild;P6(a.contentDOM,a.children,n),r=d?d.nextSibling:t.firstChild}}for(;r;)r=tk(r),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const Cf=function(t){t&&(this.nodeName=t)};Cf.prototype=Object.create(null);const Il=[new Cf];function R1(t,e,n){if(t.length==0)return Il;let r=n?Il[0]:new Cf,s=[r];for(let i=0;i<t.length;i++){let a=t[i].type.attrs;if(a){a.nodeName&&s.push(r=new Cf(a.nodeName));for(let l in a){let d=a[l];d!=null&&(n&&s.length==1&&s.push(r=new Cf(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+d:l=="style"?r.style=(r.style?r.style+";":"")+d:l!="nodeName"&&(r[l]=d))}}}return s}function z6(t,e,n,r){if(n==Il&&r==Il)return e;let s=e;for(let i=0;i<r.length;i++){let a=r[i],l=n[i];if(i){let d;l&&l.nodeName==a.nodeName&&s!=t&&(d=s.parentNode)&&d.nodeName.toLowerCase()==a.nodeName||(d=document.createElement(a.nodeName),d.pmIsDeco=!0,d.appendChild(s),l=Il[0]),s=d}_Q(s,l||Il[0],a)}return s}function _Q(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)s.indexOf(r[i])==-1&&t.classList.remove(r[i]);for(let i=0;i<s.length;i++)r.indexOf(s[i])==-1&&t.classList.add(s[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function I6(t,e,n){return z6(t,t,Il,R1(e,n,t.nodeType!=1))}function bg(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function tk(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class LQ{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=PQ(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let s=0,i=this.stack.length>>1,a=Math.min(i,e.length);for(;s<a&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=hi,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let f=this.top.children[d];if(f.matchesMark(e[i])&&!this.isLocked(f.dom)){l=d;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let d=oc.create(this.top,e[i],n,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,r,s){let i=-1,a;if(s>=this.preMatch.index&&(a=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,r))i=this.top.children.indexOf(a,this.index);else for(let l=this.index,d=Math.min(this.top.children.length,l+5);l<d;l++){let f=this.top.children[l];if(f.matchesNode(e,n,r)&&!this.preMatch.matched.has(f)){i=l;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,r,s,i){let a=this.top.children[s];return a.dirty==aa&&a.dom==a.contentDOM&&(a.dirty=zl),a.update(e,n,r,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=n}}updateNextNode(e,n,r,s,i,a){for(let l=this.index;l<this.top.children.length;l++){let d=this.top.children[l];if(d instanceof Bo){let f=this.preMatch.matched.get(d);if(f!=null&&f!=i)return!1;let p=d.dom,m,y=this.isLocked(p)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=aa&&bg(n,d.outerDeco));if(!y&&d.update(e,n,r,s))return this.destroyBetween(this.index,l),d.dom!=p&&(this.changed=!0),this.index++,!0;if(!y&&(m=this.recreateWrapper(d,e,n,r,s,a)))return this.destroyBetween(this.index,l),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=zl,m.updateChildren(s,a+1),m.dirty=hi),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,s,i,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!bg(r,e.outerDeco)||!s.eq(e.innerDeco))return null;let l=Bo.create(this.top,n,r,s,i,a);if(l.contentDOM){l.children=e.children,e.children=[];for(let d of l.children)d.parent=l}return e.destroy(),l}addNode(e,n,r,s,i){let a=Bo.create(this.top,e,n,r,s,i);a.contentDOM&&a.updateChildren(s,i+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new _6(this.top,e,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof oc;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof zy)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((fs||ts)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new L6(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function PQ(t,e){let n=e,r=n.children.length,s=t.childCount,i=new Map,a=[];e:for(;s>0;){let l;for(;;)if(r){let f=n.children[r-1];if(f instanceof oc)n=f,r=f.children.length;else{l=f,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let d=l.node;if(d){if(d!=t.child(s-1))break;--s,i.set(l,s),a.push(l)}}return{index:s,matched:i,matches:a.reverse()}}function zQ(t,e){return t.type.side-e.type.side}function IQ(t,e,n,r){let s=e.locals(t),i=0;if(s.length==0){for(let f=0;f<t.childCount;f++){let p=t.child(f);r(p,s,e.forChild(i,p),f),i+=p.nodeSize}return}let a=0,l=[],d=null;for(let f=0;;){let p,m;for(;a<s.length&&s[a].to==i;){let C=s[a++];C.widget&&(p?(m||(m=[p])).push(C):p=C)}if(p)if(m){m.sort(zQ);for(let C=0;C<m.length;C++)n(m[C],f,!!d)}else n(p,f,!!d);let y,x;if(d)x=-1,y=d,d=null;else if(f<t.childCount)x=f,y=t.child(f++);else break;for(let C=0;C<l.length;C++)l[C].to<=i&&l.splice(C--,1);for(;a<s.length&&s[a].from<=i&&s[a].to>i;)l.push(s[a++]);let b=i+y.nodeSize;if(y.isText){let C=b;a<s.length&&s[a].from<C&&(C=s[a].from);for(let N=0;N<l.length;N++)l[N].to<C&&(C=l[N].to);C<b&&(d=y.cut(C-i),y=y.cut(0,C-i),b=C,x=-1)}else for(;a<s.length&&s[a].to<b;)a++;let S=y.isInline&&!y.isLeaf?l.filter(C=>!C.inline):l.slice();r(y,S,e.forChild(i,y),x),i=b}}function BQ(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function FQ(t,e,n,r){for(let s=0,i=0;s<t.childCount&&i<=r;){let a=t.child(s++),l=i;if(i+=a.nodeSize,!a.isText)continue;let d=a.text;for(;s<t.childCount;){let f=t.child(s++);if(i+=f.nodeSize,!f.isText)break;d+=f.text}if(i>=n){if(i>=r&&d.slice(r-e.length-l,r-l)==e)return r-e.length;let f=l<r?d.lastIndexOf(e,r-l-1):-1;if(f>=0&&f+e.length+l>=n)return l+f;if(n==r&&d.length>=r+e.length-l&&d.slice(r-l,r-l+e.length)==e)return r}}return-1}function _1(t,e,n,r,s){let i=[];for(let a=0,l=0;a<t.length;a++){let d=t[a],f=l,p=l+=d.size;f>=n||p<=e?i.push(d):(f<e&&i.push(d.slice(0,e-f,r)),s&&(i.push(s),s=void 0),p>n&&i.push(d.slice(n-f,d.size,r)))}return i}function P2(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),i=s&&s.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let l=r.resolve(a),d,f;if(Py(n)){for(d=a;s&&!s.node;)s=s.parent;let m=s.node;if(s&&m.isAtom&&Ut.isSelectable(m)&&s.parent&&!(m.isInline&&fQ(n.focusNode,n.focusOffset,s.dom))){let y=s.posBefore;f=new Ut(a==y?l:r.resolve(y))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let m=a,y=a;for(let x=0;x<n.rangeCount;x++){let b=n.getRangeAt(x);m=Math.min(m,t.docView.posFromDOM(b.startContainer,b.startOffset,1)),y=Math.max(y,t.docView.posFromDOM(b.endContainer,b.endOffset,-1))}if(m<0)return null;[d,a]=y==t.state.selection.anchor?[y,m]:[m,y],l=r.resolve(a)}else d=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null}let p=r.resolve(d);if(!f){let m=e=="pointer"||t.state.selection.head<l.pos&&!i?1:-1;f=z2(t,p,l,m)}return f}function B6(t){return t.editable?t.hasFocus():$6(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function $a(t,e=!1){let n=t.state.selection;if(F6(t,n),!!B6(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&ts){let r=t.domSelectionRange(),s=t.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&ac(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)UQ(t);else{let{anchor:r,head:s}=n,i,a;nk&&!(n instanceof Ht)&&(n.$from.parent.inlineContent||(i=rk(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=rk(t,n.to))),t.docView.setSelection(r,s,t,e),nk&&(i&&sk(i),a&&sk(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&$Q(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const nk=fs||ts&&E6<63;function rk(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),s=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(fs&&s&&s.contentEditable=="false")return eb(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return eb(s);if(i)return eb(i)}}function eb(t){return t.contentEditable="true",fs&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function sk(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function $Q(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!B6(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function UQ(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,s=r.nodeName=="IMG";s?n.setStart(r.parentNode,qr(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!s&&!t.state.selection.visible&&Es&&Io<=11&&(r.disabled=!0,r.disabled=!1)}function F6(t,e){if(e instanceof Ut){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(ik(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else ik(t)}function ik(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function z2(t,e,n,r){return t.someProp("createSelectionBetween",s=>s(t,e,n))||Ht.between(e,n,r)}function ak(t){return t.editable&&!t.hasFocus()?!1:$6(t)}function $6(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function VQ(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return ac(e.node,e.offset,n.anchorNode,n.anchorOffset)}function L1(t,e){let{$anchor:n,$head:r}=t.selection,s=e>0?n.max(r):n.min(r),i=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return i&&Yt.findFrom(i,e)}function So(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function ok(t,e,n){let r=t.state.selection;if(r instanceof Ht)if(n.indexOf("s")>-1){let{$head:s}=r,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let a=t.state.doc.resolve(s.pos+i.nodeSize*(e<0?-1:1));return So(t,new Ht(r.$anchor,a))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=L1(t.state,e);return s&&s instanceof Ut?So(t,s):!1}else if(!(li&&n.indexOf("m")>-1)){let s=r.$head,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,a;if(!i||i.isText)return!1;let l=e<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(a=t.docView.descAt(l))&&!a.contentDOM?Ut.isSelectable(i)?So(t,new Ut(e<0?t.state.doc.resolve(s.pos-i.nodeSize):s)):Mh?So(t,new Ht(t.state.doc.resolve(e<0?l:l+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Ut&&r.node.isInline)return So(t,new Ht(e>0?r.$to:r.$from));{let s=L1(t.state,e);return s?So(t,s):!1}}}function wg(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Nf(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Qc(t,e){return e<0?HQ(t):qQ(t)}function HQ(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s,i,a=!1;for(Oi&&n.nodeType==1&&r<wg(n)&&Nf(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(Nf(l,-1))s=n,i=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(U6(n))break;{let l=n.previousSibling;for(;l&&Nf(l,-1);)s=n.parentNode,i=qr(l),l=l.previousSibling;if(l)n=l,r=wg(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?P1(t,n,r):s&&P1(t,s,i)}function qQ(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s=wg(n),i,a;for(;;)if(r<s){if(n.nodeType!=1)break;let l=n.childNodes[r];if(Nf(l,1))i=n,a=++r;else break}else{if(U6(n))break;{let l=n.nextSibling;for(;l&&Nf(l,1);)i=l.parentNode,a=qr(l)+1,l=l.nextSibling;if(l)n=l,r=0,s=wg(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}}i&&P1(t,i,a)}function U6(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function KQ(t,e){for(;t&&e==t.childNodes.length&&!Oh(t);)e=qr(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function YQ(t,e){for(;t&&!e&&!Oh(t);)e=qr(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function P1(t,e,n){if(e.nodeType!=3){let i,a;(a=KQ(e,n))?(e=a,n=0):(i=YQ(e,n))&&(e=i,n=i.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Py(r)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&$a(t)},50)}function lk(t,e){let n=t.state.doc.resolve(e);if(!(ts||mQ)&&n.parent.inlineContent){let s=t.coordsAtPos(e);if(e>n.start()){let i=t.coordsAtPos(e-1),a=(i.top+i.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(i.left-s.left)>1)return i.left<s.left?"ltr":"rtl"}if(e<n.end()){let i=t.coordsAtPos(e+1),a=(i.top+i.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(i.left-s.left)>1)return i.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function ck(t,e,n){let r=t.state.selection;if(r instanceof Ht&&!r.empty||n.indexOf("s")>-1||li&&n.indexOf("m")>-1)return!1;let{$from:s,$to:i}=r;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=L1(t.state,e);if(a&&a instanceof Ut)return So(t,a)}if(!s.parent.inlineContent){let a=e<0?s:i,l=r instanceof qs?Yt.near(a,e):Yt.findFrom(a,e);return l?So(t,l):!1}return!1}function uk(t,e){if(!(t.state.selection instanceof Ht))return!0;let{$head:n,$anchor:r,empty:s}=t.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let a=t.state.tr;return e<0?a.delete(n.pos-i.nodeSize,n.pos):a.delete(n.pos,n.pos+i.nodeSize),t.dispatch(a),!0}return!1}function dk(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function WQ(t){if(!fs||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;dk(t,r,"true"),setTimeout(()=>dk(t,r,"false"),20)}return!1}function GQ(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function XQ(t,e){let n=e.keyCode,r=GQ(e);if(n==8||li&&n==72&&r=="c")return uk(t,-1)||Qc(t,-1);if(n==46&&!e.shiftKey||li&&n==68&&r=="c")return uk(t,1)||Qc(t,1);if(n==13||n==27)return!0;if(n==37||li&&n==66&&r=="c"){let s=n==37?lk(t,t.state.selection.from)=="ltr"?-1:1:-1;return ok(t,s,r)||Qc(t,s)}else if(n==39||li&&n==70&&r=="c"){let s=n==39?lk(t,t.state.selection.from)=="ltr"?1:-1:1;return ok(t,s,r)||Qc(t,s)}else{if(n==38||li&&n==80&&r=="c")return ck(t,-1,r)||Qc(t,-1);if(n==40||li&&n==78&&r=="c")return WQ(t)||ck(t,1,r)||Qc(t,1);if(r==(li?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function I2(t,e){t.someProp("transformCopied",x=>{e=x(e,t)});let n=[],{content:r,openStart:s,openEnd:i}=e;for(;s>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,i--;let x=r.firstChild;n.push(x.type.name,x.attrs!=x.type.defaultAttrs?x.attrs:null),r=x.content}let a=t.someProp("clipboardSerializer")||xc.fromSchema(t.state.schema),l=W6(),d=l.createElement("div");d.appendChild(a.serializeFragment(r,{document:l}));let f=d.firstChild,p,m=0;for(;f&&f.nodeType==1&&(p=Y6[f.nodeName.toLowerCase()]);){for(let x=p.length-1;x>=0;x--){let b=l.createElement(p[x]);for(;d.firstChild;)b.appendChild(d.firstChild);d.appendChild(b),m++}f=d.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${s} ${i}${m?` -${m}`:""} ${JSON.stringify(n)}`);let y=t.someProp("clipboardTextSerializer",x=>x(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:y,slice:e}}function V6(t,e,n,r,s){let i=s.parent.type.spec.code,a,l;if(!n&&!e)return null;let d=e&&(r||i||!n);if(d){if(t.someProp("transformPastedText",y=>{e=y(e,i||r,t)}),i)return e?new xt(We.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):xt.empty;let m=t.someProp("clipboardTextParser",y=>y(e,s,r,t));if(m)l=m;else{let y=s.marks(),{schema:x}=t.state,b=xc.fromSchema(x);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(S=>{let C=a.appendChild(document.createElement("p"));S&&C.appendChild(b.serializeNode(x.text(S,y)))})}}else t.someProp("transformPastedHTML",m=>{n=m(n,t)}),a=eZ(n),Mh&&tZ(a);let f=a&&a.querySelector("[data-pm-slice]"),p=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let m=+p[3];m>0;m--){let y=a.firstChild;for(;y&&y.nodeType!=1;)y=y.nextSibling;if(!y)break;a=y}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||wf.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(d||p),context:s,ruleFromNode(y){return y.nodeName=="BR"&&!y.nextSibling&&y.parentNode&&!JQ.test(y.parentNode.nodeName)?{ignore:!0}:null}})),p)l=nZ(fk(l,+p[1],+p[2]),p[4]);else if(l=xt.maxOpen(QQ(l.content,s),!0),l.openStart||l.openEnd){let m=0,y=0;for(let x=l.content.firstChild;m<l.openStart&&!x.type.spec.isolating;m++,x=x.firstChild);for(let x=l.content.lastChild;y<l.openEnd&&!x.type.spec.isolating;y++,x=x.lastChild);l=fk(l,m,y)}return t.someProp("transformPasted",m=>{l=m(l,t)}),l}const JQ=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function QQ(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),i,a=[];if(t.forEach(l=>{if(!a)return;let d=s.findWrapping(l.type),f;if(!d)return a=null;if(f=a.length&&i.length&&q6(d,i,l,a[a.length-1],0))a[a.length-1]=f;else{a.length&&(a[a.length-1]=K6(a[a.length-1],i.length));let p=H6(l,d);a.push(p),s=s.matchType(p.type),i=d}}),a)return We.from(a)}return t}function H6(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,We.from(t));return t}function q6(t,e,n,r,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let i=q6(t,e,n,r.lastChild,s+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(s==t.length-1?n.type:t[s+1]))return r.copy(r.content.append(We.from(H6(n,t,s+1))))}}function K6(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,K6(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(We.empty,!0);return t.copy(n.append(r))}function z1(t,e,n,r,s,i){let a=e<0?t.firstChild:t.lastChild,l=a.content;return t.childCount>1&&(i=0),s<r-1&&(l=z1(l,e,n,r,s+1,i)),s>=n&&(l=e<0?a.contentMatchAt(0).fillBefore(l,i<=s).append(l):l.append(a.contentMatchAt(a.childCount).fillBefore(We.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(l))}function fk(t,e,n){return e<t.openStart&&(t=new xt(z1(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new xt(z1(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const Y6={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let hk=null;function W6(){return hk||(hk=document.implementation.createHTMLDocument("title"))}let tb=null;function ZQ(t){let e=window.trustedTypes;return e?(tb||(tb=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),tb.createHTML(t)):t}function eZ(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=W6().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),s;if((s=r&&Y6[r[1].toLowerCase()])&&(t=s.map(i=>"<"+i+">").join("")+t+s.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=ZQ(t),s)for(let i=0;i<s.length;i++)n=n.querySelector(s[i])||n;return n}function tZ(t){let e=t.querySelectorAll(ts?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function nZ(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:s,openStart:i,openEnd:a}=t;for(let l=r.length-2;l>=0;l-=2){let d=n.nodes[r[l]];if(!d||d.hasRequiredAttrs())break;s=We.from(d.create(r[l+1],s)),i++,a++}return new xt(s,i,a)}const hs={},ps={},rZ={touchstart:!0,touchmove:!0};class sZ{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function iZ(t){for(let e in hs){let n=hs[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{oZ(t,r)&&!B2(t,r)&&(t.editable||!(r.type in ps))&&n(t,r)},rZ[e]?{passive:!0}:void 0)}fs&&t.dom.addEventListener("input",()=>null),I1(t)}function _o(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function aZ(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function I1(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>B2(t,r))})}function B2(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function oZ(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function lZ(t,e){!B2(t,e)&&hs[e.type]&&(t.editable||!(e.type in ps))&&hs[e.type](t,e)}ps.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!X6(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(za&&ts&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Tu&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",s=>s(t,kl(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||XQ(t,n)?n.preventDefault():_o(t,"key")};ps.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};ps.keypress=(t,e)=>{let n=e;if(X6(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||li&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Ht)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode),i=()=>t.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",a=>a(t,r.$from.pos,r.$to.pos,s,i))&&t.dispatch(i()),n.preventDefault()}};function Iy(t){return{left:t.clientX,top:t.clientY}}function cZ(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function F2(t,e,n,r,s){if(r==-1)return!1;let i=t.state.doc.resolve(r);for(let a=i.depth+1;a>0;a--)if(t.someProp(e,l=>a>i.depth?l(t,n,i.nodeAfter,i.before(a),s,!0):l(t,n,i.node(a),i.before(a),s,!1)))return!0;return!1}function xu(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function uZ(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Ut.isSelectable(r)?(xu(t,new Ut(n)),!0):!1}function dZ(t,e){if(e==-1)return!1;let n=t.state.selection,r,s;n instanceof Ut&&(r=n.node);let i=t.state.doc.resolve(e);for(let a=i.depth+1;a>0;a--){let l=a>i.depth?i.nodeAfter:i.node(a);if(Ut.isSelectable(l)){r&&n.$from.depth>0&&a>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?s=i.before(n.$from.depth):s=i.before(a);break}}return s!=null?(xu(t,Ut.create(t.state.doc,s)),!0):!1}function fZ(t,e,n,r,s){return F2(t,"handleClickOn",e,n,r)||t.someProp("handleClick",i=>i(t,e,r))||(s?dZ(t,n):uZ(t,n))}function hZ(t,e,n,r){return F2(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",s=>s(t,e,r))}function pZ(t,e,n,r){return F2(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",s=>s(t,e,r))||mZ(t,n,r)}function mZ(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(xu(t,Ht.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let i=s.depth+1;i>0;i--){let a=i>s.depth?s.nodeAfter:s.node(i),l=s.before(i);if(a.inlineContent)xu(t,Ht.create(r,l+1,l+1+a.content.size));else if(Ut.isSelectable(a))xu(t,Ut.create(r,l));else continue;return!0}}function $2(t){return Sg(t)}const G6=li?"metaKey":"ctrlKey";hs.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=$2(t),s=Date.now(),i="singleClick";s-t.input.lastClick.time<500&&cZ(n,t.input.lastClick)&&!n[G6]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:i,button:n.button};let a=t.posAtCoords(Iy(n));a&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new gZ(t,a,n,!!r)):(i=="doubleClick"?hZ:pZ)(t,a.pos,a.inside,n)?n.preventDefault():_o(t,"pointer"))};class gZ{constructor(e,n,r,s){this.view=e,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[G6],this.allowDefault=r.shiftKey;let i,a;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),a=n.inside;else{let p=e.state.doc.resolve(n.pos);i=p.parent,a=p.depth?p.before():0}const l=s?null:r.target,d=l?e.docView.nearestDesc(l,!0):null;this.target=d&&d.dom.nodeType==1?d.dom:null;let{selection:f}=e.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||f instanceof Ut&&f.from<=a&&f.to>a)&&(this.mightDrag={node:i,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Oi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),_o(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>$a(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Iy(e))),this.updateAllowDefault(e),this.allowDefault||!n?_o(this.view,"pointer"):fZ(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||fs&&this.mightDrag&&!this.mightDrag.node.isAtom||ts&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(xu(this.view,Yt.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):_o(this.view,"pointer")}move(e){this.updateAllowDefault(e),_o(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}hs.touchstart=t=>{t.input.lastTouch=Date.now(),$2(t),_o(t,"pointer")};hs.touchmove=t=>{t.input.lastTouch=Date.now(),_o(t,"pointer")};hs.contextmenu=t=>$2(t);function X6(t,e){return t.composing?!0:fs&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const yZ=za?5e3:-1;ps.compositionstart=ps.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Ht&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Sg(t,!0),t.markCursor=null;else if(Sg(t,!e.selection.empty),Oi&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let s=r.focusNode,i=r.focusOffset;s&&s.nodeType==1&&i!=0;){let a=i<0?s.lastChild:s.childNodes[i-1];if(!a)break;if(a.nodeType==3){let l=t.domSelection();l&&l.collapse(a,a.nodeValue.length);break}else s=a,i=-1}}t.input.composing=!0}J6(t,yZ)};ps.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,J6(t,20))};function J6(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Sg(t),e))}function Q6(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=vZ());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function xZ(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=uQ(e.focusNode,e.focusOffset),r=dQ(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let s=r.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!s||!s.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function vZ(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Sg(t,e=!1){if(!(za&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),Q6(t),e||t.docView&&t.docView.dirty){let n=P2(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function bZ(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const th=Es&&Io<15||Tu&&gQ<604;hs.copy=ps.cut=(t,e)=>{let n=e,r=t.state.selection,s=n.type=="cut";if(r.empty)return;let i=th?null:n.clipboardData,a=r.content(),{dom:l,text:d}=I2(t,a);i?(n.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",d)):bZ(t,l),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function wZ(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function SZ(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?nh(t,r.value,null,s,e):nh(t,r.textContent,r.innerHTML,s,e)},50)}function nh(t,e,n,r,s){let i=V6(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",d=>d(t,s,i||xt.empty)))return!0;if(!i)return!1;let a=wZ(i),l=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(i);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Z6(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}ps.paste=(t,e)=>{let n=e;if(t.composing&&!za)return;let r=th?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&nh(t,Z6(r),r.getData("text/html"),s,n)?n.preventDefault():SZ(t,n)};class eR{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const CZ=li?"altKey":"ctrlKey";function tR(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[CZ]}hs.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=t.state.selection,i=s.empty?null:t.posAtCoords(Iy(n)),a;if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof Ut?s.to-1:s.to))){if(r&&r.mightDrag)a=Ut.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let m=t.docView.nearestDesc(n.target,!0);m&&m.node.type.spec.draggable&&m!=t.docView&&(a=Ut.create(t.state.doc,m.posBefore))}}let l=(a||t.state.selection).content(),{dom:d,text:f,slice:p}=I2(t,l);(!n.dataTransfer.files.length||!ts||E6>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(th?"Text":"text/html",d.innerHTML),n.dataTransfer.effectAllowed="copyMove",th||n.dataTransfer.setData("text/plain",f),t.dragging=new eR(p,tR(t,n),a)};hs.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};ps.dragover=ps.dragenter=(t,e)=>e.preventDefault();ps.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let s=t.posAtCoords(Iy(n));if(!s)return;let i=t.state.doc.resolve(s.pos),a=r&&r.slice;a?t.someProp("transformPasted",b=>{a=b(a,t)}):a=V6(t,Z6(n.dataTransfer),th?null:n.dataTransfer.getData("text/html"),!1,i);let l=!!(r&&tR(t,n));if(t.someProp("handleDrop",b=>b(t,n,a||xt.empty,l))){n.preventDefault();return}if(!a)return;n.preventDefault();let d=a?x6(t.state.doc,i.pos,a):i.pos;d==null&&(d=i.pos);let f=t.state.tr;if(l){let{node:b}=r;b?b.replace(f):f.deleteSelection()}let p=f.mapping.map(d),m=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,y=f.doc;if(m?f.replaceRangeWith(p,p,a.content.firstChild):f.replaceRange(p,p,a),f.doc.eq(y))return;let x=f.doc.resolve(p);if(m&&Ut.isSelectable(a.content.firstChild)&&x.nodeAfter&&x.nodeAfter.sameMarkup(a.content.firstChild))f.setSelection(new Ut(x));else{let b=f.mapping.map(d);f.mapping.maps[f.mapping.maps.length-1].forEach((S,C,N,k)=>b=k),f.setSelection(z2(t,x,f.doc.resolve(b)))}t.focus(),t.dispatch(f.setMeta("uiEvent","drop"))};hs.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&$a(t)},20))};hs.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};hs.beforeinput=(t,e)=>{if(ts&&za&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,kl(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in ps)hs[t]=ps[t];function rh(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Cg{constructor(e,n){this.toDOM=e,this.spec=n||Gl,this.side=this.spec.side||0}map(e,n,r,s){let{pos:i,deleted:a}=e.mapResult(n.from+s,this.side<0?-1:1);return a?null:new ds(i-r,i-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Cg&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&rh(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Fo{constructor(e,n){this.attrs=e,this.spec=n||Gl}map(e,n,r,s){let i=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,a=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return i>=a?null:new ds(i,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Fo&&rh(this.attrs,e.attrs)&&rh(this.spec,e.spec)}static is(e){return e.type instanceof Fo}destroy(){}}class U2{constructor(e,n){this.attrs=e,this.spec=n||Gl}map(e,n,r,s){let i=e.mapResult(n.from+s,1);if(i.deleted)return null;let a=e.mapResult(n.to+s,-1);return a.deleted||a.pos<=i.pos?null:new ds(i.pos-r,a.pos-r,this)}valid(e,n){let{index:r,offset:s}=e.content.findIndex(n.from),i;return s==n.from&&!(i=e.child(r)).isText&&s+i.nodeSize==n.to}eq(e){return this==e||e instanceof U2&&rh(this.attrs,e.attrs)&&rh(this.spec,e.spec)}destroy(){}}class ds{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new ds(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new ds(e,e,new Cg(n,r))}static inline(e,n,r,s){return new ds(e,n,new Fo(r,s))}static node(e,n,r,s){return new ds(e,n,new U2(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof Fo}get widget(){return this.type instanceof Cg}}const su=[],Gl={};class ar{constructor(e,n){this.local=e.length?e:su,this.children=n.length?n:su}static create(e,n){return n.length?Ng(n,e,0,Gl):Qr}find(e,n,r){let s=[];return this.findInner(e??0,n??1e9,s,0,r),s}findInner(e,n,r,s,i){for(let a=0;a<this.local.length;a++){let l=this.local[a];l.from<=n&&l.to>=e&&(!i||i(l.spec))&&r.push(l.copy(l.from+s,l.to+s))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let l=this.children[a]+1;this.children[a+2].findInner(e-l,n-l,r,s+l,i)}}map(e,n,r){return this==Qr||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Gl)}mapInner(e,n,r,s,i){let a;for(let l=0;l<this.local.length;l++){let d=this.local[l].map(e,r,s);d&&d.type.valid(n,d)?(a||(a=[])).push(d):i.onRemove&&i.onRemove(this.local[l].spec)}return this.children.length?NZ(this.children,a||[],e,n,r,s,i):a?new ar(a.sort(Xl),su):Qr}add(e,n){return n.length?this==Qr?ar.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let s,i=0;e.forEach((l,d)=>{let f=d+r,p;if(p=rR(n,l,f)){for(s||(s=this.children.slice());i<s.length&&s[i]<d;)i+=3;s[i]==d?s[i+2]=s[i+2].addInner(l,p,f+1):s.splice(i,0,d,d+l.nodeSize,Ng(p,l,f+1,Gl)),i+=3}});let a=nR(i?sR(n):n,-r);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||a.splice(l--,1);return new ar(a.length?this.local.concat(a).sort(Xl):this.local,s||this.children)}remove(e){return e.length==0||this==Qr?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,s=this.local;for(let i=0;i<r.length;i+=3){let a,l=r[i]+n,d=r[i+1]+n;for(let p=0,m;p<e.length;p++)(m=e[p])&&m.from>l&&m.to<d&&(e[p]=null,(a||(a=[])).push(m));if(!a)continue;r==this.children&&(r=this.children.slice());let f=r[i+2].removeInner(a,l+1);f!=Qr?r[i+2]=f:(r.splice(i,3),i-=3)}if(s.length){for(let i=0,a;i<e.length;i++)if(a=e[i])for(let l=0;l<s.length;l++)s[l].eq(a,n)&&(s==this.local&&(s=this.local.slice()),s.splice(l--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new ar(s,r):Qr}forChild(e,n){if(this==Qr)return this;if(n.isLeaf)return ar.empty;let r,s;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let i=e+1,a=i+n.content.size;for(let l=0;l<this.local.length;l++){let d=this.local[l];if(d.from<a&&d.to>i&&d.type instanceof Fo){let f=Math.max(i,d.from)-i,p=Math.min(a,d.to)-i;f<p&&(s||(s=[])).push(d.copy(f,p))}}if(s){let l=new ar(s.sort(Xl),su);return r?new Ao([l,r]):l}return r||Qr}eq(e){if(this==e)return!0;if(!(e instanceof ar)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return V2(this.localsInner(e))}localsInner(e){if(this==Qr)return su;if(e.inlineContent||!this.local.some(Fo.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Fo||n.push(this.local[r]);return n}forEachSet(e){e(this)}}ar.empty=new ar([],[]);ar.removeOverlap=V2;const Qr=ar.empty;class Ao{constructor(e){this.members=e}map(e,n){const r=this.members.map(s=>s.map(e,n,Gl));return Ao.from(r)}forChild(e,n){if(n.isLeaf)return ar.empty;let r=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(e,n);i!=Qr&&(i instanceof Ao?r=r.concat(i.members):r.push(i))}return Ao.from(r)}eq(e){if(!(e instanceof Ao)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(e);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let a=0;a<i.length;a++)n.push(i[a])}}return n?V2(r?n:n.sort(Xl)):su}static from(e){switch(e.length){case 0:return Qr;case 1:return e[0];default:return new Ao(e.every(n=>n instanceof ar)?e:e.reduce((n,r)=>n.concat(r instanceof ar?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function NZ(t,e,n,r,s,i,a){let l=t.slice();for(let f=0,p=i;f<n.maps.length;f++){let m=0;n.maps[f].forEach((y,x,b,S)=>{let C=S-b-(x-y);for(let N=0;N<l.length;N+=3){let k=l[N+1];if(k<0||y>k+p-m)continue;let M=l[N]+p-m;x>=M?l[N+1]=y<=M?-2:-1:y>=p&&C&&(l[N]+=C,l[N+1]+=C)}m+=C}),p=n.maps[f].map(p,-1)}let d=!1;for(let f=0;f<l.length;f+=3)if(l[f+1]<0){if(l[f+1]==-2){d=!0,l[f+1]=-1;continue}let p=n.map(t[f]+i),m=p-s;if(m<0||m>=r.content.size){d=!0;continue}let y=n.map(t[f+1]+i,-1),x=y-s,{index:b,offset:S}=r.content.findIndex(m),C=r.maybeChild(b);if(C&&S==m&&S+C.nodeSize==x){let N=l[f+2].mapInner(n,C,p+1,t[f]+i+1,a);N!=Qr?(l[f]=m,l[f+1]=x,l[f+2]=N):(l[f+1]=-2,d=!0)}else d=!0}if(d){let f=jZ(l,t,e,n,s,i,a),p=Ng(f,r,0,a);e=p.local;for(let m=0;m<l.length;m+=3)l[m+1]<0&&(l.splice(m,3),m-=3);for(let m=0,y=0;m<p.children.length;m+=3){let x=p.children[m];for(;y<l.length&&l[y]<x;)y+=3;l.splice(y,0,p.children[m],p.children[m+1],p.children[m+2])}}return new ar(e.sort(Xl),l)}function nR(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let s=t[r];n.push(new ds(s.from+e,s.to+e,s.type))}return n}function jZ(t,e,n,r,s,i,a){function l(d,f){for(let p=0;p<d.local.length;p++){let m=d.local[p].map(r,s,f);m?n.push(m):a.onRemove&&a.onRemove(d.local[p].spec)}for(let p=0;p<d.children.length;p+=3)l(d.children[p+2],d.children[p]+f+1)}for(let d=0;d<t.length;d+=3)t[d+1]==-1&&l(t[d+2],e[d]+i+1);return n}function rR(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,s=null;for(let i=0,a;i<t.length;i++)(a=t[i])&&a.from>n&&a.to<r&&((s||(s=[])).push(a),t[i]=null);return s}function sR(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Ng(t,e,n,r){let s=[],i=!1;e.forEach((l,d)=>{let f=rR(t,l,d+n);if(f){i=!0;let p=Ng(f,l,n+d+1,r);p!=Qr&&s.push(d,d+l.nodeSize,p)}});let a=nR(i?sR(t):t,-n).sort(Xl);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||(r.onRemove&&r.onRemove(a[l].spec),a.splice(l--,1));return a.length||s.length?new ar(a,s):Qr}function Xl(t,e){return t.from-e.from||t.to-e.to}function V2(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let s=n+1;s<e.length;s++){let i=e[s];if(i.from==r.from){i.to!=r.to&&(e==t&&(e=t.slice()),e[s]=i.copy(i.from,r.to),pk(e,s+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),pk(e,s,r.copy(i.from,r.to)));break}}}return e}function pk(t,e,n){for(;e<t.length&&Xl(n,t[e])>0;)e++;t.splice(e,0,n)}function nb(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Qr&&e.push(r)}),t.cursorWrapper&&e.push(ar.create(t.state.doc,[t.cursorWrapper.deco])),Ao.from(e)}const TZ={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},EZ=Es&&Io<=11;class AZ{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class kZ{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new AZ,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);Es&&Io<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),EZ&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,TZ)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(ak(this.view)){if(this.suppressingSelectionUpdates)return $a(this.view);if(Es&&Io<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ac(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let i=e.focusNode;i;i=ju(i))n.add(i);for(let i=e.anchorNode;i;i=ju(i))if(n.has(i)){r=i;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&ak(e)&&!this.ignoreSelectionChange(r),i=-1,a=-1,l=!1,d=[];if(e.editable)for(let p=0;p<n.length;p++){let m=this.registerMutation(n[p],d);m&&(i=i<0?m.from:Math.min(m.from,i),a=a<0?m.to:Math.max(m.to,a),m.typeOver&&(l=!0))}if(Oi&&d.length){let p=d.filter(m=>m.nodeName=="BR");if(p.length==2){let[m,y]=p;m.parentNode&&m.parentNode.parentNode==y.parentNode?y.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let y of p){let x=y.parentNode;x&&x.nodeName=="LI"&&(!m||DZ(e,m)!=x)&&y.remove()}}}let f=null;i<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Py(r)&&(f=P2(e))&&f.eq(Yt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,$a(e),this.currentSelection.set(r),e.scrollToSelection()):(i>-1||s)&&(i>-1&&(e.docView.markDirty(i,a),OZ(e)),this.handleDOMChange(i,a,l,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||$a(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let m=e.addedNodes[p];n.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,i=e.nextSibling;if(Es&&Io<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:m,nextSibling:y}=e.addedNodes[p];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(s=m),(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(i=y)}let a=s&&s.parentNode==e.target?qr(s)+1:0,l=r.localPosFromDOM(e.target,a,-1),d=i&&i.parentNode==e.target?qr(i):e.target.childNodes.length,f=r.localPosFromDOM(e.target,d,1);return{from:l,to:f}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let mk=new WeakMap,gk=!1;function OZ(t){if(!mk.has(t)&&(mk.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Oi,gk)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),gk=!0}}function yk(t,e){let n=e.startContainer,r=e.startOffset,s=e.endContainer,i=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return ac(a.node,a.offset,s,i)&&([n,r,s,i]=[s,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:i}}function MZ(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return yk(t,s)}let n;function r(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?yk(t,n):null}function DZ(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function RZ(t,e,n){let{node:r,fromOffset:s,toOffset:i,from:a,to:l}=t.docView.parseRange(e,n),d=t.domSelectionRange(),f,p=d.anchorNode;if(p&&t.dom.contains(p.nodeType==1?p:p.parentNode)&&(f=[{node:p,offset:d.anchorOffset}],Py(d)||f.push({node:d.focusNode,offset:d.focusOffset})),ts&&t.input.lastKeyCode===8)for(let C=i;C>s;C--){let N=r.childNodes[C-1],k=N.pmViewDesc;if(N.nodeName=="BR"&&!k){i=C;break}if(!k||k.size)break}let m=t.state.doc,y=t.someProp("domParser")||wf.fromSchema(t.state.schema),x=m.resolve(a),b=null,S=y.parse(r,{topNode:x.parent,topMatch:x.parent.contentMatchAt(x.index()),topOpen:!0,from:s,to:i,preserveWhitespace:x.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:_Z,context:x});if(f&&f[0].pos!=null){let C=f[0].pos,N=f[1]&&f[1].pos;N==null&&(N=C),b={anchor:C+a,head:N+a}}return{doc:S,sel:b,from:a,to:l}}function _Z(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(fs&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||fs&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const LZ=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function PZ(t,e,n,r,s){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let H=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,Z=P2(t,H);if(Z&&!t.state.selection.eq(Z)){if(ts&&za&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",ue=>ue(t,kl(13,"Enter"))))return;let ve=t.state.tr.setSelection(Z);H=="pointer"?ve.setMeta("pointer",!0):H=="key"&&ve.scrollIntoView(),i&&ve.setMeta("composition",i),t.dispatch(ve)}return}let a=t.state.doc.resolve(e),l=a.sharedDepth(n);e=a.before(l+1),n=t.state.doc.resolve(n).after(l+1);let d=t.state.selection,f=RZ(t,e,n),p=t.state.doc,m=p.slice(f.from,f.to),y,x;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(y=t.state.selection.to,x="end"):(y=t.state.selection.from,x="start"),t.input.lastKeyCode=null;let b=BZ(m.content,f.doc.content,f.from,y,x);if(b&&t.input.domChangeCount++,(Tu&&t.input.lastIOSEnter>Date.now()-225||za)&&s.some(H=>H.nodeType==1&&!LZ.test(H.nodeName))&&(!b||b.endA>=b.endB)&&t.someProp("handleKeyDown",H=>H(t,kl(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!b)if(r&&d instanceof Ht&&!d.empty&&d.$head.sameParent(d.$anchor)&&!t.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))b={start:d.from,endA:d.to,endB:d.to};else{if(f.sel){let H=xk(t,t.state.doc,f.sel);if(H&&!H.eq(t.state.selection)){let Z=t.state.tr.setSelection(H);i&&Z.setMeta("composition",i),t.dispatch(Z)}}return}t.state.selection.from<t.state.selection.to&&b.start==b.endB&&t.state.selection instanceof Ht&&(b.start>t.state.selection.from&&b.start<=t.state.selection.from+2&&t.state.selection.from>=f.from?b.start=t.state.selection.from:b.endA<t.state.selection.to&&b.endA>=t.state.selection.to-2&&t.state.selection.to<=f.to&&(b.endB+=t.state.selection.to-b.endA,b.endA=t.state.selection.to)),Es&&Io<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>f.from&&f.doc.textBetween(b.start-f.from-1,b.start-f.from+1)==" "&&(b.start--,b.endA--,b.endB--);let S=f.doc.resolveNoCache(b.start-f.from),C=f.doc.resolveNoCache(b.endB-f.from),N=p.resolve(b.start),k=S.sameParent(C)&&S.parent.inlineContent&&N.end()>=b.endA,M;if((Tu&&t.input.lastIOSEnter>Date.now()-225&&(!k||s.some(H=>H.nodeName=="DIV"||H.nodeName=="P"))||!k&&S.pos<f.doc.content.size&&(!S.sameParent(C)||!S.parent.inlineContent)&&!/\S/.test(f.doc.textBetween(S.pos,C.pos,"",""))&&(M=Yt.findFrom(f.doc.resolve(S.pos+1),1,!0))&&M.head>S.pos)&&t.someProp("handleKeyDown",H=>H(t,kl(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>b.start&&IZ(p,b.start,b.endA,S,C)&&t.someProp("handleKeyDown",H=>H(t,kl(8,"Backspace")))){za&&ts&&t.domObserver.suppressSelectionUpdates();return}ts&&b.endB==b.start&&(t.input.lastChromeDelete=Date.now()),za&&!k&&S.start()!=C.start()&&C.parentOffset==0&&S.depth==C.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==b.endA&&(b.endB-=2,C=f.doc.resolveNoCache(b.endB-f.from),setTimeout(()=>{t.someProp("handleKeyDown",function(H){return H(t,kl(13,"Enter"))})},20));let D=b.start,E=b.endA,A=H=>{let Z=H||t.state.tr.replace(D,E,f.doc.slice(b.start-f.from,b.endB-f.from));if(f.sel){let ve=xk(t,Z.doc,f.sel);ve&&!(ts&&t.composing&&ve.empty&&(b.start!=b.endB||t.input.lastChromeDelete<Date.now()-100)&&(ve.head==D||ve.head==Z.mapping.map(E)-1)||Es&&ve.empty&&ve.head==D)&&Z.setSelection(ve)}return i&&Z.setMeta("composition",i),Z.scrollIntoView()},F;if(k){if(S.pos==C.pos){Es&&Io<=11&&S.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>$a(t),20));let H=A(t.state.tr.delete(D,E)),Z=p.resolve(b.start).marksAcross(p.resolve(b.endA));Z&&H.ensureMarks(Z),t.dispatch(H)}else if(b.endA==b.endB&&(F=zZ(S.parent.content.cut(S.parentOffset,C.parentOffset),N.parent.content.cut(N.parentOffset,b.endA-N.start())))){let H=A(t.state.tr);F.type=="add"?H.addMark(D,E,F.mark):H.removeMark(D,E,F.mark),t.dispatch(H)}else if(S.parent.child(S.index()).isText&&S.index()==C.index()-(C.textOffset?0:1)){let H=S.parent.textBetween(S.parentOffset,C.parentOffset),Z=()=>A(t.state.tr.insertText(H,D,E));t.someProp("handleTextInput",ve=>ve(t,D,E,H,Z))||t.dispatch(Z())}}else t.dispatch(A())}function xk(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:z2(t,e.resolve(n.anchor),e.resolve(n.head))}function zZ(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,s=n,i=r,a,l,d;for(let p=0;p<r.length;p++)s=r[p].removeFromSet(s);for(let p=0;p<n.length;p++)i=n[p].removeFromSet(i);if(s.length==1&&i.length==0)l=s[0],a="add",d=p=>p.mark(l.addToSet(p.marks));else if(s.length==0&&i.length==1)l=i[0],a="remove",d=p=>p.mark(l.removeFromSet(p.marks));else return null;let f=[];for(let p=0;p<e.childCount;p++)f.push(d(e.child(p)));if(We.from(f).eq(t))return{mark:l,type:a}}function IZ(t,e,n,r,s){if(n-e<=s.pos-r.pos||rb(r,!0,!1)<s.pos)return!1;let i=t.resolve(e);if(!r.parent.isTextblock){let l=i.nodeAfter;return l!=null&&n==e+l.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let a=t.resolve(rb(i,!0,!0));return!a.parent.isTextblock||a.pos>n||rb(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function rb(t,e,n){let r=t.depth,s=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,s++,e=!1;if(n){let i=t.node(r).maybeChild(t.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function BZ(t,e,n,r,s){let i=t.findDiffStart(e,n);if(i==null)return null;let{a,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let d=Math.max(0,i-Math.min(a,l));r-=a+d-i}if(a<i&&t.size<e.size){let d=r<=i&&r>=a?i-r:0;i-=d,i&&i<e.size&&vk(e.textBetween(i-1,i+1))&&(i+=d?1:-1),l=i+(l-a),a=i}else if(l<i){let d=r<=i&&r>=l?i-r:0;i-=d,i&&i<t.size&&vk(t.textBetween(i-1,i+1))&&(i+=d?1:-1),a=i+(a-l),l=i}return{start:i,endA:a,endB:l}}function vk(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class iR{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new sZ,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Nk),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Sk(this),wk(this),this.nodeViews=Ck(this),this.docView=ek(this.state.doc,bk(this),nb(this),this.dom,this),this.domObserver=new kZ(this,(r,s,i,a)=>PZ(this,r,s,i,a)),this.domObserver.start(),iZ(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&I1(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Nk),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let s=this.state,i=!1,a=!1;e.storedMarks&&this.composing&&(Q6(this),a=!0),this.state=e;let l=s.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let x=Ck(this);$Z(x,this.nodeViews)&&(this.nodeViews=x,i=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&I1(this),this.editable=Sk(this),wk(this);let d=nb(this),f=bk(this),p=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",m=i||!this.docView.matchesNode(e.doc,f,d);(m||!e.selection.eq(s.selection))&&(a=!0);let y=p=="preserve"&&a&&this.dom.style.overflowAnchor==null&&vQ(this);if(a){this.domObserver.stop();let x=m&&(Es||ts)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&FZ(s.selection,e.selection);if(m){let b=ts?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=xZ(this)),(i||!this.docView.update(e.doc,f,d,this))&&(this.docView.updateOuterDeco(f),this.docView.destroy(),this.docView=ek(e.doc,f,d,this.dom,this)),b&&!this.trackWrites&&(x=!0)}x||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&VQ(this))?$a(this,x):(F6(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():y&&bQ(y)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Ut){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&WA(this,n.getBoundingClientRect(),e)}else WA(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(s=i)}this.dragging=new eR(e.slice,e.move,s<0?void 0:Ut.create(this.state.doc,s))}someProp(e,n){let r=this._props&&this._props[e],s;if(r!=null&&(s=n?n(r):r))return s;for(let a=0;a<this.directPlugins.length;a++){let l=this.directPlugins[a].props[e];if(l!=null&&(s=n?n(l):l))return s}let i=this.state.plugins;if(i)for(let a=0;a<i.length;a++){let l=i[a].props[e];if(l!=null&&(s=n?n(l):l))return s}}hasFocus(){if(Es){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&wQ(this.dom),$a(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return TQ(this,e)}coordsAtPos(e,n=1){return D6(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let s=this.docView.posFromDOM(e,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return MQ(this,n||this.state,e)}pasteHTML(e,n){return nh(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return nh(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return I2(this,e)}destroy(){this.docView&&(aZ(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],nb(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,lQ())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return lZ(this,e)}domSelectionRange(){let e=this.domSelection();return e?fs&&this.root.nodeType===11&&hQ(this.dom.ownerDocument)==this.dom&&MZ(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}iR.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function bk(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[ds.node(0,t.state.doc.content.size,e)]}function wk(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:ds.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Sk(t){return!t.someProp("editable",e=>e(t.state)===!1)}function FZ(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function Ck(t){let e=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function $Z(t,e){let n=0,r=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)r++;return n!=r}function Nk(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var qo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},jg={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},UZ=typeof navigator<"u"&&/Mac/.test(navigator.platform),VZ=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Kr=0;Kr<10;Kr++)qo[48+Kr]=qo[96+Kr]=String(Kr);for(var Kr=1;Kr<=24;Kr++)qo[Kr+111]="F"+Kr;for(var Kr=65;Kr<=90;Kr++)qo[Kr]=String.fromCharCode(Kr+32),jg[Kr]=String.fromCharCode(Kr);for(var sb in qo)jg.hasOwnProperty(sb)||(jg[sb]=qo[sb]);function HZ(t){var e=UZ&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||VZ&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?jg:qo)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const qZ=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),KZ=typeof navigator<"u"&&/Win/.test(navigator.platform);function YZ(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,s,i,a;for(let l=0;l<e.length-1;l++){let d=e[l];if(/^(cmd|meta|m)$/i.test(d))a=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))i=!0;else if(/^mod$/i.test(d))qZ?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),a&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function WZ(t){let e=Object.create(null);for(let n in t)e[YZ(n)]=t[n];return e}function ib(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function GZ(t){return new Nr({props:{handleKeyDown:H2(t)}})}function H2(t){let e=WZ(t);return function(n,r){let s=HZ(r),i,a=e[ib(s,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let l=e[ib(s,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(KZ&&r.ctrlKey&&r.altKey)&&(i=qo[r.keyCode])&&i!=s){let l=e[ib(i,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const q2=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function aR(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const oR=(t,e,n)=>{let r=aR(t,n);if(!r)return!1;let s=K2(r);if(!s){let a=r.blockRange(),l=a&&Uu(a);return l==null?!1:(e&&e(t.tr.lift(a,l).scrollIntoView()),!0)}let i=s.nodeBefore;if(gR(t,s,e,-1))return!0;if(r.parent.content.size==0&&(Eu(i,"end")||Ut.isSelectable(i)))for(let a=r.depth;;a--){let l=_y(t.doc,r.before(a),r.after(a),xt.empty);if(l&&l.slice.size<l.to-l.from){if(e){let d=t.tr.step(l);d.setSelection(Eu(i,"end")?Yt.findFrom(d.doc.resolve(d.mapping.map(s.pos,-1)),-1):Ut.create(d.doc,s.pos-i.nodeSize)),e(d.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1},XZ=(t,e,n)=>{let r=aR(t,n);if(!r)return!1;let s=K2(r);return s?lR(t,s,e):!1},JZ=(t,e,n)=>{let r=uR(t,n);if(!r)return!1;let s=Y2(r);return s?lR(t,s,e):!1};function lR(t,e,n){let r=e.nodeBefore,s=r,i=e.pos-1;for(;!s.isTextblock;i--){if(s.type.spec.isolating)return!1;let p=s.lastChild;if(!p)return!1;s=p}let a=e.nodeAfter,l=a,d=e.pos+1;for(;!l.isTextblock;d++){if(l.type.spec.isolating)return!1;let p=l.firstChild;if(!p)return!1;l=p}let f=_y(t.doc,i,d,xt.empty);if(!f||f.from!=i||f instanceof Lr&&f.slice.size>=d-i)return!1;if(n){let p=t.tr.step(f);p.setSelection(Ht.create(p.doc,i)),n(p.scrollIntoView())}return!0}function Eu(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const cR=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;i=K2(r)}let a=i&&i.nodeBefore;return!a||!Ut.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Ut.create(t.doc,i.pos-a.nodeSize)).scrollIntoView()),!0)};function K2(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function uR(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const dR=(t,e,n)=>{let r=uR(t,n);if(!r)return!1;let s=Y2(r);if(!s)return!1;let i=s.nodeAfter;if(gR(t,s,e,1))return!0;if(r.parent.content.size==0&&(Eu(i,"start")||Ut.isSelectable(i))){let a=_y(t.doc,r.before(),r.after(),xt.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(Eu(i,"start")?Yt.findFrom(l.doc.resolve(l.mapping.map(s.pos)),1):Ut.create(l.doc,l.mapping.map(s.pos))),e(l.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},fR=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;i=Y2(r)}let a=i&&i.nodeAfter;return!a||!Ut.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Ut.create(t.doc,i.pos)).scrollIntoView()),!0)};function Y2(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const QZ=(t,e)=>{let n=t.selection,r=n instanceof Ut,s;if(r){if(n.node.isTextblock||!el(t.doc,n.from))return!1;s=n.from}else if(s=Ry(t.doc,n.from,-1),s==null)return!1;if(e){let i=t.tr.join(s);r&&i.setSelection(Ut.create(i.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},ZZ=(t,e)=>{let n=t.selection,r;if(n instanceof Ut){if(n.node.isTextblock||!el(t.doc,n.to))return!1;r=n.to}else if(r=Ry(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},eee=(t,e)=>{let{$from:n,$to:r}=t.selection,s=n.blockRange(r),i=s&&Uu(s);return i==null?!1:(e&&e(t.tr.lift(s,i).scrollIntoView()),!0)},hR=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function W2(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const tee=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),i=n.indexAfter(-1),a=W2(s.contentMatchAt(i));if(!a||!s.canReplaceWith(i,i,a))return!1;if(e){let l=n.after(),d=t.tr.replaceWith(l,l,a.createAndFill());d.setSelection(Yt.near(d.doc.resolve(l),1)),e(d.scrollIntoView())}return!0},pR=(t,e)=>{let n=t.selection,{$from:r,$to:s}=n;if(n instanceof qs||r.parent.inlineContent||s.parent.inlineContent)return!1;let i=W2(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let a=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,l=t.tr.insert(a,i.createAndFill());l.setSelection(Ht.create(l.doc,a+1)),e(l.scrollIntoView())}return!0},mR=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(Fa(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),s=r&&Uu(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)};function nee(t){return(e,n)=>{let{$from:r,$to:s}=e.selection;if(e.selection instanceof Ut&&e.selection.node.isBlock)return!r.parentOffset||!Fa(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let i=[],a,l,d=!1,f=!1;for(let x=r.depth;;x--)if(r.node(x).isBlock){d=r.end(x)==r.pos+(r.depth-x),f=r.start(x)==r.pos-(r.depth-x),l=W2(r.node(x-1).contentMatchAt(r.indexAfter(x-1))),i.unshift(d&&l?{type:l}:null),a=x;break}else{if(x==1)return!1;i.unshift(null)}let p=e.tr;(e.selection instanceof Ht||e.selection instanceof qs)&&p.deleteSelection();let m=p.mapping.map(r.pos),y=Fa(p.doc,m,i.length,i);if(y||(i[0]=l?{type:l}:null,y=Fa(p.doc,m,i.length,i)),!y)return!1;if(p.split(m,i.length,i),!d&&f&&r.node(a).type!=l){let x=p.mapping.map(r.before(a)),b=p.doc.resolve(x);l&&r.node(a-1).canReplaceWith(b.index(),b.index()+1,l)&&p.setNodeMarkup(p.mapping.map(r.before(a)),l)}return n&&n(p.scrollIntoView()),!0}}const ree=nee(),see=(t,e)=>{let{$from:n,to:r}=t.selection,s,i=n.sharedDepth(r);return i==0?!1:(s=n.before(i),e&&e(t.tr.setSelection(Ut.create(t.doc,s))),!0)};function iee(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,i=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(s.isTextblock||el(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function gR(t,e,n,r){let s=e.nodeBefore,i=e.nodeAfter,a,l,d=s.type.spec.isolating||i.type.spec.isolating;if(!d&&iee(t,e,n))return!0;let f=!d&&e.parent.canReplace(e.index(),e.index()+1);if(f&&(a=(l=s.contentMatchAt(s.childCount)).findWrapping(i.type))&&l.matchType(a[0]||i.type).validEnd){if(n){let x=e.pos+i.nodeSize,b=We.empty;for(let N=a.length-1;N>=0;N--)b=We.from(a[N].create(null,b));b=We.from(s.copy(b));let S=t.tr.step(new zr(e.pos-1,x,e.pos,x,new xt(b,1,0),a.length,!0)),C=S.doc.resolve(x+2*a.length);C.nodeAfter&&C.nodeAfter.type==s.type&&el(S.doc,C.pos)&&S.join(C.pos),n(S.scrollIntoView())}return!0}let p=i.type.spec.isolating||r>0&&d?null:Yt.findFrom(e,1),m=p&&p.$from.blockRange(p.$to),y=m&&Uu(m);if(y!=null&&y>=e.depth)return n&&n(t.tr.lift(m,y).scrollIntoView()),!0;if(f&&Eu(i,"start",!0)&&Eu(s,"end")){let x=s,b=[];for(;b.push(x),!x.isTextblock;)x=x.lastChild;let S=i,C=1;for(;!S.isTextblock;S=S.firstChild)C++;if(x.canReplace(x.childCount,x.childCount,S.content)){if(n){let N=We.empty;for(let M=b.length-1;M>=0;M--)N=We.from(b[M].copy(N));let k=t.tr.step(new zr(e.pos-b.length,e.pos+i.nodeSize,e.pos+C,e.pos+i.nodeSize-C,new xt(N,b.length,0),0,!0));n(k.scrollIntoView())}return!0}}return!1}function yR(t){return function(e,n){let r=e.selection,s=t<0?r.$from:r.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(n&&n(e.tr.setSelection(Ht.create(e.doc,t<0?s.start(i):s.end(i)))),!0):!1}}const aee=yR(-1),oee=yR(1);function lee(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,a=s.blockRange(i),l=a&&D2(a,t,e);return l?(r&&r(n.tr.wrap(a,l).scrollIntoView()),!0):!1}}function jk(t,e=null){return function(n,r){let s=!1;for(let i=0;i<n.selection.ranges.length&&!s;i++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[i];n.doc.nodesBetween(a,l,(d,f)=>{if(s)return!1;if(!(!d.isTextblock||d.hasMarkup(t,e)))if(d.type==t)s=!0;else{let p=n.doc.resolve(f),m=p.index();s=p.parent.canReplaceWith(m,m+1,t)}})}if(!s)return!1;if(r){let i=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:l},$to:{pos:d}}=n.selection.ranges[a];i.setBlockType(l,d,t,e)}r(i.scrollIntoView())}return!0}}function G2(...t){return function(e,n,r){for(let s=0;s<t.length;s++)if(t[s](e,n,r))return!0;return!1}}G2(q2,oR,cR);G2(q2,dR,fR);G2(hR,pR,mR,ree);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function cee(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,a=s.blockRange(i);if(!a)return!1;let l=r?n.tr:null;return uee(l,a,t,e)?(r&&r(l.scrollIntoView()),!0):!1}}function uee(t,e,n,r=null){let s=!1,i=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=a.resolve(e.start-2);i=new xg(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new xg(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let l=D2(i,n,r,e);return l?(t&&dee(t,e,l,s,n),!0):!1}function dee(t,e,n,r,s){let i=We.empty;for(let p=n.length-1;p>=0;p--)i=We.from(n[p].type.create(n[p].attrs,i));t.step(new zr(e.start-(r?2:0),e.end,e.start,e.end,new xt(i,0,0),n.length,!0));let a=0;for(let p=0;p<n.length;p++)n[p].type==s&&(a=p+1);let l=n.length-a,d=e.start+n.length-(r?2:0),f=e.parent;for(let p=e.startIndex,m=e.endIndex,y=!0;p<m;p++,y=!1)!y&&Fa(t.doc,d,l)&&(t.split(d,l),d+=2*l),d+=f.child(p).nodeSize;return t}function fee(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,a=>a.childCount>0&&a.firstChild.type==t);return i?n?r.node(i.depth-1).type==t?hee(e,n,t,i):pee(e,n,i):!0:!1}}function hee(t,e,n,r){let s=t.tr,i=r.end,a=r.$to.end(r.depth);i<a&&(s.step(new zr(i-1,a,i,a,new xt(We.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new xg(s.doc.resolve(r.$from.pos),s.doc.resolve(a),r.depth));const l=Uu(r);if(l==null)return!1;s.lift(r,l);let d=s.doc.resolve(s.mapping.map(i,-1)-1);return el(s.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&s.join(d.pos),e(s.scrollIntoView()),!0}function pee(t,e,n){let r=t.tr,s=n.parent;for(let x=n.end,b=n.endIndex-1,S=n.startIndex;b>S;b--)x-=s.child(b).nodeSize,r.delete(x-1,x+1);let i=r.doc.resolve(n.start),a=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,d=n.endIndex==s.childCount,f=i.node(-1),p=i.index(-1);if(!f.canReplace(p+(l?0:1),p+1,a.content.append(d?We.empty:We.from(s))))return!1;let m=i.pos,y=m+a.nodeSize;return r.step(new zr(m-(l?1:0),y+(d?1:0),m+1,y-1,new xt((l?We.empty:We.from(s.copy(We.empty))).append(d?We.empty:We.from(s.copy(We.empty))),l?0:1,d?0:1),l?0:1)),e(r.scrollIntoView()),!0}function mee(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,f=>f.childCount>0&&f.firstChild.type==t);if(!i)return!1;let a=i.startIndex;if(a==0)return!1;let l=i.parent,d=l.child(a-1);if(d.type!=t)return!1;if(n){let f=d.lastChild&&d.lastChild.type==l.type,p=We.from(f?t.create():null),m=new xt(We.from(t.create(null,We.from(l.type.create(null,p)))),f?3:1,0),y=i.start,x=i.end;n(e.tr.step(new zr(y-(f?3:1),x,y,x,m,1,!0)).scrollIntoView())}return!0}}function By(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:s}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,i=n.storedMarks,n}}}class Fy{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:s}=n,{tr:i}=r,a=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([l,d])=>[l,(...p)=>{const m=d(...p)(a);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(i),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:s,state:i}=this,{view:a}=s,l=[],d=!!e,f=e||i.tr,p=()=>(!d&&n&&!f.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(f),l.every(y=>y===!0)),m={...Object.fromEntries(Object.entries(r).map(([y,x])=>[y,(...S)=>{const C=this.buildProps(f,n),N=x(...S)(C);return l.push(N),m}])),run:p};return m}createCan(e){const{rawCommands:n,state:r}=this,s=!1,i=e||r.tr,a=this.buildProps(i,s);return{...Object.fromEntries(Object.entries(n).map(([d,f])=>[d,(...p)=>f(...p)({...a,dispatch:void 0})])),chain:()=>this.createChain(i,s)}}buildProps(e,n=!0){const{rawCommands:r,editor:s,state:i}=this,{view:a}=s,l={tr:e,editor:s,view:a,state:By({state:i,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([d,f])=>[d,(...p)=>f(...p)(l)]))}};return l}}class gee{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(s=>s.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(s=>s!==n):delete this.callbacks[e]),this}once(e,n){const r=(...s)=>{this.off(e,r),n.apply(this,s)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function _t(t,e,n){return t.config[e]===void 0&&t.parent?_t(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?_t(t.parent,e,n):null}):t.config[e]}function $y(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),r=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function xR(t){const e=[],{nodeExtensions:n,markExtensions:r}=$y(t),s=[...n,...r],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage,extensions:s},d=_t(a,"addGlobalAttributes",l);if(!d)return;d().forEach(p=>{p.types.forEach(m=>{Object.entries(p.attributes).forEach(([y,x])=>{e.push({type:m,name:y,attribute:{...i,...x}})})})})}),s.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage},d=_t(a,"addAttributes",l);if(!d)return;const f=d();Object.entries(f).forEach(([p,m])=>{const y={...i,...m};typeof y?.default=="function"&&(y.default=y.default()),y?.isRequired&&y?.default===void 0&&delete y.default,e.push({type:a.name,name:p,attribute:y})})}),e}function Br(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Gn(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([s,i])=>{if(!r[s]){r[s]=i;return}if(s==="class"){const l=i?String(i).split(" "):[],d=r[s]?r[s].split(" "):[],f=l.filter(p=>!d.includes(p));r[s]=[...d,...f].join(" ")}else if(s==="style"){const l=i?i.split(";").map(p=>p.trim()).filter(Boolean):[],d=r[s]?r[s].split(";").map(p=>p.trim()).filter(Boolean):[],f=new Map;d.forEach(p=>{const[m,y]=p.split(":").map(x=>x.trim());f.set(m,y)}),l.forEach(p=>{const[m,y]=p.split(":").map(x=>x.trim());f.set(m,y)}),r[s]=Array.from(f.entries()).map(([p,m])=>`${p}: ${m}`).join("; ")}else r[s]=i}),r},{})}function B1(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Gn(n,r),{})}function vR(t){return typeof t=="function"}function cn(t,e=void 0,...n){return vR(t)?e?t.bind(e)(...n):t(...n):t}function yee(t={}){return Object.keys(t).length===0&&t.constructor===Object}function xee(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Tk(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const s=e.reduce((i,a)=>{const l=a.attribute.parseHTML?a.attribute.parseHTML(n):xee(n.getAttribute(a.name));return l==null?i:{...i,[a.name]:l}},{});return{...r,...s}}}}function Ek(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&yee(n)?!1:n!=null))}function vee(t,e){var n;const r=xR(t),{nodeExtensions:s,markExtensions:i}=$y(t),a=(n=s.find(f=>_t(f,"topNode")))===null||n===void 0?void 0:n.name,l=Object.fromEntries(s.map(f=>{const p=r.filter(N=>N.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},y=t.reduce((N,k)=>{const M=_t(k,"extendNodeSchema",m);return{...N,...M?M(f):{}}},{}),x=Ek({...y,content:cn(_t(f,"content",m)),marks:cn(_t(f,"marks",m)),group:cn(_t(f,"group",m)),inline:cn(_t(f,"inline",m)),atom:cn(_t(f,"atom",m)),selectable:cn(_t(f,"selectable",m)),draggable:cn(_t(f,"draggable",m)),code:cn(_t(f,"code",m)),whitespace:cn(_t(f,"whitespace",m)),linebreakReplacement:cn(_t(f,"linebreakReplacement",m)),defining:cn(_t(f,"defining",m)),isolating:cn(_t(f,"isolating",m)),attrs:Object.fromEntries(p.map(N=>{var k;return[N.name,{default:(k=N?.attribute)===null||k===void 0?void 0:k.default}]}))}),b=cn(_t(f,"parseHTML",m));b&&(x.parseDOM=b.map(N=>Tk(N,p)));const S=_t(f,"renderHTML",m);S&&(x.toDOM=N=>S({node:N,HTMLAttributes:B1(N,p)}));const C=_t(f,"renderText",m);return C&&(x.toText=C),[f.name,x]})),d=Object.fromEntries(i.map(f=>{const p=r.filter(C=>C.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},y=t.reduce((C,N)=>{const k=_t(N,"extendMarkSchema",m);return{...C,...k?k(f):{}}},{}),x=Ek({...y,inclusive:cn(_t(f,"inclusive",m)),excludes:cn(_t(f,"excludes",m)),group:cn(_t(f,"group",m)),spanning:cn(_t(f,"spanning",m)),code:cn(_t(f,"code",m)),attrs:Object.fromEntries(p.map(C=>{var N;return[C.name,{default:(N=C?.attribute)===null||N===void 0?void 0:N.default}]}))}),b=cn(_t(f,"parseHTML",m));b&&(x.parseDOM=b.map(C=>Tk(C,p)));const S=_t(f,"renderHTML",m);return S&&(x.toDOM=C=>S({mark:C,HTMLAttributes:B1(C,p)})),[f.name,x]}));return new o6({topNode:a,nodes:l,marks:d})}function ab(t,e){return e.nodes[t]||e.marks[t]||null}function Ak(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function X2(t,e){const n=xc.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}const bee=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(s,i,a,l)=>{var d,f;const p=((f=(d=s.type.spec).toText)===null||f===void 0?void 0:f.call(d,{node:s,pos:i,parent:a,index:l}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?p:p.slice(0,Math.max(0,r-i))}),n};function J2(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class Uy{constructor(e){this.find=e.find,this.handler=e.handler}}const wee=(t,e)=>{if(J2(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function om(t){var e;const{editor:n,from:r,to:s,text:i,rules:a,plugin:l}=t,{view:d}=n;if(d.composing)return!1;const f=d.state.doc.resolve(r);if(f.parent.type.spec.code||!((e=f.nodeBefore||f.nodeAfter)===null||e===void 0)&&e.marks.find(y=>y.type.spec.code))return!1;let p=!1;const m=bee(f)+i;return a.forEach(y=>{if(p)return;const x=wee(m,y.find);if(!x)return;const b=d.state.tr,S=By({state:d.state,transaction:b}),C={from:r-(x[0].length-i.length),to:s},{commands:N,chain:k,can:M}=new Fy({editor:n,state:S});y.handler({state:S,range:C,match:x,commands:N,chain:k,can:M})===null||!b.steps.length||(b.setMeta(l,{transform:b,from:r,to:s,text:i}),d.dispatch(b),p=!0)}),p}function See(t){const{editor:e,rules:n}=t,r=new Nr({state:{init(){return null},apply(s,i,a){const l=s.getMeta(r);if(l)return l;const d=s.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:p}=d;typeof p=="string"?p=p:p=X2(We.from(p),a.schema);const{from:m}=d,y=m+p.length;om({editor:e,from:m,to:y,text:p,rules:n,plugin:r})}),s.selectionSet||s.docChanged?null:i}},props:{handleTextInput(s,i,a,l){return om({editor:e,from:i,to:a,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:i}=s.state.selection;i&&om({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(s,i){if(i.key!=="Enter")return!1;const{$cursor:a}=s.state.selection;return a?om({editor:e,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function Cee(t){return Object.prototype.toString.call(t).slice(8,-1)}function lm(t){return Cee(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Vy(t,e){const n={...t};return lm(t)&&lm(e)&&Object.keys(e).forEach(r=>{lm(e[r])&&lm(t[r])?n[r]=Vy(t[r],e[r]):n[r]=e[r]}),n}class Mi{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=cn(_t(this,"addOptions",{name:this.name}))),this.storage=cn(_t(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Mi(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Vy(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Mi(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=cn(_t(n,"addOptions",{name:n.name})),n.storage=cn(_t(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const a=s.marks();if(!!!a.find(f=>f?.type.name===n.name))return!1;const d=a.find(f=>f?.type.name===n.name);return d&&r.removeStoredMark(d),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}}function Nee(t){return typeof t=="number"}class jee{constructor(e){this.find=e.find,this.handler=e.handler}}const Tee=(t,e,n)=>{if(J2(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(s=>{const i=[s.text];return i.index=s.index,i.input=t,i.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(s.replaceWith)),i}):[]};function Eee(t){const{editor:e,state:n,from:r,to:s,rule:i,pasteEvent:a,dropEvent:l}=t,{commands:d,chain:f,can:p}=new Fy({editor:e,state:n}),m=[];return n.doc.nodesBetween(r,s,(x,b)=>{if(!x.isTextblock||x.type.spec.code)return;const S=Math.max(r,b),C=Math.min(s,b+x.content.size),N=x.textBetween(S-b,C-b,void 0,"");Tee(N,i.find,a).forEach(M=>{if(M.index===void 0)return;const D=S+M.index+1,E=D+M[0].length,A={from:n.tr.mapping.map(D),to:n.tr.mapping.map(E)},F=i.handler({state:n,range:A,match:M,commands:d,chain:f,can:p,pasteEvent:a,dropEvent:l});m.push(F)})}),m.every(x=>x!==null)}let cm=null;const Aee=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function kee(t){const{editor:e,rules:n}=t;let r=null,s=!1,i=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const d=({state:p,from:m,to:y,rule:x,pasteEvt:b})=>{const S=p.tr,C=By({state:p,transaction:S});if(!(!Eee({editor:e,state:C,from:Math.max(m-1,0),to:y.b-1,rule:x,pasteEvent:b,dropEvent:l})||!S.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,S}};return n.map(p=>new Nr({view(m){const y=b=>{var S;r=!((S=m.dom.parentElement)===null||S===void 0)&&S.contains(b.target)?m.dom.parentElement:null,r&&(cm=e)},x=()=>{cm&&(cm=null)};return window.addEventListener("dragstart",y),window.addEventListener("dragend",x),{destroy(){window.removeEventListener("dragstart",y),window.removeEventListener("dragend",x)}}},props:{handleDOMEvents:{drop:(m,y)=>{if(i=r===m.dom.parentElement,l=y,!i){const x=cm;x?.isEditable&&setTimeout(()=>{const b=x.state.selection;b&&x.commands.deleteRange({from:b.from,to:b.to})},10)}return!1},paste:(m,y)=>{var x;const b=(x=y.clipboardData)===null||x===void 0?void 0:x.getData("text/html");return a=y,s=!!b?.includes("data-pm-slice"),!1}}},appendTransaction:(m,y,x)=>{const b=m[0],S=b.getMeta("uiEvent")==="paste"&&!s,C=b.getMeta("uiEvent")==="drop"&&!i,N=b.getMeta("applyPasteRules"),k=!!N;if(!S&&!C&&!k)return;if(k){let{text:E}=N;typeof E=="string"?E=E:E=X2(We.from(E),x.schema);const{from:A}=N,F=A+E.length,H=Aee(E);return d({rule:p,state:x,from:A,to:{b:F},pasteEvt:H})}const M=y.doc.content.findDiffStart(x.doc.content),D=y.doc.content.findDiffEnd(x.doc.content);if(!(!Nee(M)||!D||M===D.b))return d({rule:p,state:x,from:M,to:D,pasteEvt:a})}}))}function Oee(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}class pu{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=pu.resolve(e),this.schema=vee(this.extensions,n),this.setupExtensions()}static resolve(e){const n=pu.sort(pu.flatten(e)),r=Oee(n.map(s=>s.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},s=_t(n,"addExtensions",r);return s?[n,...this.flatten(s())]:n}).flat(10)}static sort(e){return e.sort((r,s)=>{const i=_t(r,"priority")||100,a=_t(s,"priority")||100;return i>a?-1:i<a?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:ab(n.name,this.schema)},s=_t(n,"addCommands",r);return s?{...e,...s()}:e},{})}get plugins(){const{editor:e}=this,n=pu.sort([...this.extensions].reverse()),r=[],s=[],i=n.map(a=>{const l={name:a.name,options:a.options,storage:a.storage,editor:e,type:ab(a.name,this.schema)},d=[],f=_t(a,"addKeyboardShortcuts",l);let p={};if(a.type==="mark"&&_t(a,"exitable",l)&&(p.ArrowRight=()=>Mi.handleExit({editor:e,mark:a})),f){const S=Object.fromEntries(Object.entries(f()).map(([C,N])=>[C,()=>N({editor:e})]));p={...p,...S}}const m=GZ(p);d.push(m);const y=_t(a,"addInputRules",l);Ak(a,e.options.enableInputRules)&&y&&r.push(...y());const x=_t(a,"addPasteRules",l);Ak(a,e.options.enablePasteRules)&&x&&s.push(...x());const b=_t(a,"addProseMirrorPlugins",l);if(b){const S=b();d.push(...S)}return d}).flat();return[See({editor:e,rules:r}),...kee({editor:e,rules:s}),...i]}get attributes(){return xR(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=$y(this.extensions);return Object.fromEntries(n.filter(r=>!!_t(r,"addNodeView")).map(r=>{const s=this.attributes.filter(d=>d.type===r.name),i={name:r.name,options:r.options,storage:r.storage,editor:e,type:Br(r.name,this.schema)},a=_t(r,"addNodeView",i);if(!a)return[];const l=(d,f,p,m,y)=>{const x=B1(d,s);return a()({node:d,view:f,getPos:p,decorations:m,innerDecorations:y,editor:e,extension:r,HTMLAttributes:x})};return[r.name,l]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:ab(e.name,this.schema)};e.type==="mark"&&(!((n=cn(_t(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const s=_t(e,"onBeforeCreate",r),i=_t(e,"onCreate",r),a=_t(e,"onUpdate",r),l=_t(e,"onSelectionUpdate",r),d=_t(e,"onTransaction",r),f=_t(e,"onFocus",r),p=_t(e,"onBlur",r),m=_t(e,"onDestroy",r);s&&this.editor.on("beforeCreate",s),i&&this.editor.on("create",i),a&&this.editor.on("update",a),l&&this.editor.on("selectionUpdate",l),d&&this.editor.on("transaction",d),f&&this.editor.on("focus",f),p&&this.editor.on("blur",p),m&&this.editor.on("destroy",m)})}}class Yr{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=cn(_t(this,"addOptions",{name:this.name}))),this.storage=cn(_t(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Yr(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Vy(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Yr({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=cn(_t(n,"addOptions",{name:n.name})),n.storage=cn(_t(n,"addStorage",{name:n.name,options:n.options})),n}}function bR(t,e,n){const{from:r,to:s}=e,{blockSeparator:i=`

`,textSerializers:a={}}=n||{};let l="";return t.nodesBetween(r,s,(d,f,p,m)=>{var y;d.isBlock&&f>r&&(l+=i);const x=a?.[d.type.name];if(x)return p&&(l+=x({node:d,pos:f,parent:p,index:m,range:e})),!1;d.isText&&(l+=(y=d?.text)===null||y===void 0?void 0:y.slice(Math.max(r,f)-f,s-f))}),l}function wR(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const Mee=Yr.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Nr({key:new Wr("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:s}=e,{ranges:i}=s,a=Math.min(...i.map(p=>p.$from.pos)),l=Math.max(...i.map(p=>p.$to.pos)),d=wR(n);return bR(r,{from:a,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),Dee=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),Ree=(t=!1)=>({commands:e})=>e.setContent("",t),_ee=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:s}=r;return n&&s.forEach(({$from:i,$to:a})=>{t.doc.nodesBetween(i.pos,a.pos,(l,d)=>{if(l.type.isText)return;const{doc:f,mapping:p}=e,m=f.resolve(p.map(d)),y=f.resolve(p.map(d+l.nodeSize)),x=m.blockRange(y);if(!x)return;const b=Uu(x);if(l.type.isTextblock){const{defaultType:S}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(x.start,S)}(b||b===0)&&e.lift(x,b)})}),!0},Lee=t=>e=>t(e),Pee=()=>({state:t,dispatch:e})=>pR(t,e),zee=(t,e)=>({editor:n,tr:r})=>{const{state:s}=n,i=s.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const a=r.mapping.map(e);return r.insert(a,i.content),r.setSelection(new Ht(r.doc.resolve(Math.max(a-1,0)))),!0},Iee=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const s=t.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===r.type){if(e){const l=s.before(i),d=s.after(i);t.delete(l,d).scrollIntoView()}return!0}return!1},Bee=t=>({tr:e,state:n,dispatch:r})=>{const s=Br(t,n.schema),i=e.selection.$anchor;for(let a=i.depth;a>0;a-=1)if(i.node(a).type===s){if(r){const d=i.before(a),f=i.after(a);e.delete(d,f).scrollIntoView()}return!0}return!1},Fee=t=>({tr:e,dispatch:n})=>{const{from:r,to:s}=t;return n&&e.delete(r,s),!0},$ee=()=>({state:t,dispatch:e})=>q2(t,e),Uee=()=>({commands:t})=>t.keyboardShortcut("Enter"),Vee=()=>({state:t,dispatch:e})=>tee(t,e);function Tg(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>n.strict?e[s]===t[s]:J2(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function SR(t,e,n={}){return t.find(r=>r.type===e&&Tg(Object.fromEntries(Object.keys(n).map(s=>[s,r.attrs[s]])),n))}function kk(t,e,n={}){return!!SR(t,e,n)}function Q2(t,e,n){var r;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(p=>p.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(p=>p.type===e)||(n=n||((r=s.node.marks[0])===null||r===void 0?void 0:r.attrs),!SR([...s.node.marks],e,n)))return;let a=s.index,l=t.start()+s.offset,d=a+1,f=l+s.node.nodeSize;for(;a>0&&kk([...t.parent.child(a-1).marks],e,n);)a-=1,l-=t.parent.child(a).nodeSize;for(;d<t.parent.childCount&&kk([...t.parent.child(d).marks],e,n);)f+=t.parent.child(d).nodeSize,d+=1;return{from:l,to:f}}function nl(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const Hee=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const i=nl(t,r.schema),{doc:a,selection:l}=n,{$from:d,from:f,to:p}=l;if(s){const m=Q2(d,i,e);if(m&&m.from<=f&&m.to>=p){const y=Ht.create(a,m.from,m.to);n.setSelection(y)}}return!0},qee=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function Z2(t){return t instanceof Ht}function Ia(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function CR(t,e=null){if(!e)return null;const n=Yt.atStart(t),r=Yt.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const s=n.from,i=r.to;return e==="all"?Ht.create(t,Ia(0,s,i),Ia(t.content.size,s,i)):Ht.create(t,Ia(e,s,i),Ia(e,s,i))}function Kee(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function eS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const Yee=(t=null,e={})=>({editor:n,view:r,tr:s,dispatch:i})=>{e={scrollIntoView:!0,...e};const a=()=>{(eS()||Kee())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!Z2(n.state.selection))return a(),!0;const l=CR(s.doc,t)||n.state.selection,d=n.state.selection.eq(l);return i&&(d||s.setSelection(l),d&&s.storedMarks&&s.setStoredMarks(s.storedMarks),a()),!0},Wee=(t,e)=>n=>t.every((r,s)=>e(r,{...n,index:s})),Gee=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),NR=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&NR(r)}return t};function um(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return NR(n)}function sh(t,e,n){if(t instanceof zo||t instanceof We)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,s=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return We.fromArray(t.map(l=>e.nodeFromJSON(l)));const a=e.nodeFromJSON(t);return n.errorOnInvalidContent&&a.check(),a}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),sh("",e,n)}if(s){if(n.errorOnInvalidContent){let a=!1,l="";const d=new o6({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:f=>(a=!0,l=typeof f=="string"?f:f.outerHTML,null)}]}})});if(n.slice?wf.fromSchema(d).parseSlice(um(t),n.parseOptions):wf.fromSchema(d).parse(um(t),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const i=wf.fromSchema(e);return n.slice?i.parseSlice(um(t),n.parseOptions).content:i.parse(um(t),n.parseOptions)}return sh("",e,n)}function Xee(t,e,n){const r=t.steps.length-1;if(r<e)return;const s=t.steps[r];if(!(s instanceof Lr||s instanceof zr))return;const i=t.mapping.maps[r];let a=0;i.forEach((l,d,f,p)=>{a===0&&(a=p)}),t.setSelection(Yt.near(t.doc.resolve(a),n))}const Jee=t=>!("type"in t),Qee=(t,e,n)=>({tr:r,dispatch:s,editor:i})=>{var a;if(s){n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;const d=C=>{i.emit("contentError",{editor:i,error:C,disableCollaboration:()=>{i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},f={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{sh(e,i.schema,{parseOptions:f,errorOnInvalidContent:!0})}catch(C){d(C)}try{l=sh(e,i.schema,{parseOptions:f,errorOnInvalidContent:(a=n.errorOnInvalidContent)!==null&&a!==void 0?a:i.options.enableContentCheck})}catch(C){return d(C),!1}let{from:p,to:m}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},y=!0,x=!0;if((Jee(l)?l:[l]).forEach(C=>{C.check(),y=y?C.isText&&C.marks.length===0:!1,x=x?C.isBlock:!1}),p===m&&x){const{parent:C}=r.doc.resolve(p);C.isTextblock&&!C.type.spec.code&&!C.childCount&&(p-=1,m+=1)}let S;if(y){if(Array.isArray(e))S=e.map(C=>C.text||"").join("");else if(e instanceof We){let C="";e.forEach(N=>{N.text&&(C+=N.text)}),S=C}else typeof e=="object"&&e&&e.text?S=e.text:S=e;r.insertText(S,p,m)}else S=l,r.replaceWith(p,m,S);n.updateSelection&&Xee(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:p,text:S}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:p,text:S})}return!0},Zee=()=>({state:t,dispatch:e})=>QZ(t,e),ete=()=>({state:t,dispatch:e})=>ZZ(t,e),tte=()=>({state:t,dispatch:e})=>oR(t,e),nte=()=>({state:t,dispatch:e})=>dR(t,e),rte=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Ry(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},ste=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Ry(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},ite=()=>({state:t,dispatch:e})=>XZ(t,e),ate=()=>({state:t,dispatch:e})=>JZ(t,e);function jR(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function ote(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,s,i,a;for(let l=0;l<e.length-1;l+=1){const d=e[l];if(/^(cmd|meta|m)$/i.test(d))a=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))i=!0;else if(/^mod$/i.test(d))eS()||jR()?a=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}const lte=t=>({editor:e,view:n,tr:r,dispatch:s})=>{const i=ote(t).split(/-(?!$)/),a=i.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),l=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{n.someProp("handleKeyDown",f=>f(n,l))});return d?.steps.forEach(f=>{const p=f.map(r.mapping);p&&s&&r.maybeStep(p)}),!0};function ih(t,e,n={}){const{from:r,to:s,empty:i}=t.selection,a=e?Br(e,t.schema):null,l=[];t.doc.nodesBetween(r,s,(m,y)=>{if(m.isText)return;const x=Math.max(r,y),b=Math.min(s,y+m.nodeSize);l.push({node:m,from:x,to:b})});const d=s-r,f=l.filter(m=>a?a.name===m.node.type.name:!0).filter(m=>Tg(m.node.attrs,n,{strict:!1}));return i?!!f.length:f.reduce((m,y)=>m+y.to-y.from,0)>=d}const cte=(t,e={})=>({state:n,dispatch:r})=>{const s=Br(t,n.schema);return ih(n,s,e)?eee(n,r):!1},ute=()=>({state:t,dispatch:e})=>mR(t,e),dte=t=>({state:e,dispatch:n})=>{const r=Br(t,e.schema);return fee(r)(e,n)},fte=()=>({state:t,dispatch:e})=>hR(t,e);function Hy(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Ok(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,s)=>(n.includes(s)||(r[s]=t[s]),r),{})}const hte=(t,e)=>({tr:n,state:r,dispatch:s})=>{let i=null,a=null;const l=Hy(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(i=Br(t,r.schema)),l==="mark"&&(a=nl(t,r.schema)),s&&n.selection.ranges.forEach(d=>{r.doc.nodesBetween(d.$from.pos,d.$to.pos,(f,p)=>{i&&i===f.type&&n.setNodeMarkup(p,void 0,Ok(f.attrs,e)),a&&f.marks.length&&f.marks.forEach(m=>{a===m.type&&n.addMark(p,p+f.nodeSize,a.create(Ok(m.attrs,e)))})})}),!0):!1},pte=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),mte=()=>({tr:t,dispatch:e})=>{if(e){const n=new qs(t.doc);t.setSelection(n)}return!0},gte=()=>({state:t,dispatch:e})=>cR(t,e),yte=()=>({state:t,dispatch:e})=>fR(t,e),xte=()=>({state:t,dispatch:e})=>see(t,e),vte=()=>({state:t,dispatch:e})=>oee(t,e),bte=()=>({state:t,dispatch:e})=>aee(t,e);function F1(t,e,n={},r={}){return sh(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const wte=(t,e=!1,n={},r={})=>({editor:s,tr:i,dispatch:a,commands:l})=>{var d,f;const{doc:p}=i;if(n.preserveWhitespace!=="full"){const m=F1(t,s.schema,n,{errorOnInvalidContent:(d=r.errorOnInvalidContent)!==null&&d!==void 0?d:s.options.enableContentCheck});return a&&i.replaceWith(0,p.content.size,m).setMeta("preventUpdate",!e),!0}return a&&i.setMeta("preventUpdate",!e),l.insertContentAt({from:0,to:p.content.size},t,{parseOptions:n,errorOnInvalidContent:(f=r.errorOnInvalidContent)!==null&&f!==void 0?f:s.options.enableContentCheck})};function TR(t,e){const n=nl(e,t.schema),{from:r,to:s,empty:i}=t.selection,a=[];i?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,s,d=>{a.push(...d.marks)});const l=a.find(d=>d.type.name===n.name);return l?{...l.attrs}:{}}function Ste(t,e){const n=new R2(t);return e.forEach(r=>{r.steps.forEach(s=>{n.step(s)})}),n}function Cte(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Nte(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(s,i)=>{n(s)&&r.push({node:s,pos:i})}),r}function ER(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function tS(t){return e=>ER(e.$from,t)}function jte(t,e){const n={from:0,to:t.content.size};return bR(t,n,e)}function Tte(t,e){const n=Br(e,t.schema),{from:r,to:s}=t.selection,i=[];t.doc.nodesBetween(r,s,l=>{i.push(l)});const a=i.reverse().find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function AR(t,e){const n=Hy(typeof e=="string"?e:e.name,t.schema);return n==="node"?Tte(t,e):n==="mark"?TR(t,e):{}}function Ete(t,e=JSON.stringify){const n={};return t.filter(r=>{const s=e(r);return Object.prototype.hasOwnProperty.call(n,s)?!1:n[s]=!0})}function Ate(t){const e=Ete(t);return e.length===1?e:e.filter((n,r)=>!e.filter((i,a)=>a!==r).some(i=>n.oldRange.from>=i.oldRange.from&&n.oldRange.to<=i.oldRange.to&&n.newRange.from>=i.newRange.from&&n.newRange.to<=i.newRange.to))}function kte(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((s,i)=>{const a=[];if(s.ranges.length)s.forEach((l,d)=>{a.push({from:l,to:d})});else{const{from:l,to:d}=n[i];if(l===void 0||d===void 0)return;a.push({from:l,to:d})}a.forEach(({from:l,to:d})=>{const f=e.slice(i).map(l,-1),p=e.slice(i).map(d),m=e.invert().map(f,-1),y=e.invert().map(p);r.push({oldRange:{from:m,to:y},newRange:{from:f,to:p}})})}),Ate(r)}function nS(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(s=>{const i=n.resolve(t),a=Q2(i,s.type);a&&r.push({mark:s,...a})}):n.nodesBetween(t,e,(s,i)=>{!s||s?.nodeSize===void 0||r.push(...s.marks.map(a=>({from:i,to:i+s.nodeSize,mark:a})))}),r}function $m(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=t.find(i=>i.type===e&&i.name===r);return s?s.attribute.keepOnSplit:!1}))}function $1(t,e,n={}){const{empty:r,ranges:s}=t.selection,i=e?nl(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(m=>i?i.name===m.type.name:!0).find(m=>Tg(m.attrs,n,{strict:!1}));let a=0;const l=[];if(s.forEach(({$from:m,$to:y})=>{const x=m.pos,b=y.pos;t.doc.nodesBetween(x,b,(S,C)=>{if(!S.isText&&!S.marks.length)return;const N=Math.max(x,C),k=Math.min(b,C+S.nodeSize),M=k-N;a+=M,l.push(...S.marks.map(D=>({mark:D,from:N,to:k})))})}),a===0)return!1;const d=l.filter(m=>i?i.name===m.mark.type.name:!0).filter(m=>Tg(m.mark.attrs,n,{strict:!1})).reduce((m,y)=>m+y.to-y.from,0),f=l.filter(m=>i?m.mark.type!==i&&m.mark.type.excludes(i):!0).reduce((m,y)=>m+y.to-y.from,0);return(d>0?d+f:d)>=a}function Ote(t,e,n={}){if(!e)return ih(t,null,n)||$1(t,null,n);const r=Hy(e,t.schema);return r==="node"?ih(t,e,n):r==="mark"?$1(t,e,n):!1}function Mk(t,e){const{nodeExtensions:n}=$y(e),r=n.find(a=>a.name===t);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},i=cn(_t(r,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function rS(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!==null&&r!==void 0?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(i=>{s!==!1&&(rS(i,{ignoreWhitespace:n,checkChildren:e})||(s=!1))}),s}return!1}function kR(t){return t instanceof Ut}function Mte(t,e,n){const s=t.state.doc.content.size,i=Ia(e,0,s),a=Ia(n,0,s),l=t.coordsAtPos(i),d=t.coordsAtPos(a,-1),f=Math.min(l.top,d.top),p=Math.max(l.bottom,d.bottom),m=Math.min(l.left,d.left),y=Math.max(l.right,d.right),x=y-m,b=p-f,N={top:f,bottom:p,left:m,right:y,width:x,height:b,x:m,y:f};return{...N,toJSON:()=>N}}function Dte(t,e,n){var r;const{selection:s}=e;let i=null;if(Z2(s)&&(i=s.$cursor),i){const l=(r=t.storedMarks)!==null&&r!==void 0?r:i.marks();return!!n.isInSet(l)||!l.some(d=>d.type.excludes(n))}const{ranges:a}=s;return a.some(({$from:l,$to:d})=>{let f=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,d.pos,(p,m,y)=>{if(f)return!1;if(p.isInline){const x=!y||y.type.allowsMarkType(n),b=!!n.isInSet(p.marks)||!p.marks.some(S=>S.type.excludes(n));f=x&&b}return!f}),f})}const Rte=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=n,{empty:a,ranges:l}=i,d=nl(t,r.schema);if(s)if(a){const f=TR(r,d);n.addStoredMark(d.create({...f,...e}))}else l.forEach(f=>{const p=f.$from.pos,m=f.$to.pos;r.doc.nodesBetween(p,m,(y,x)=>{const b=Math.max(x,p),S=Math.min(x+y.nodeSize,m);y.marks.find(N=>N.type===d)?y.marks.forEach(N=>{d===N.type&&n.addMark(b,S,d.create({...N.attrs,...e}))}):n.addMark(b,S,d.create(e))})});return Dte(r,n,d)},_te=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),Lte=(t,e={})=>({state:n,dispatch:r,chain:s})=>{const i=Br(t,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),i.isTextblock?s().command(({commands:l})=>jk(i,{...a,...e})(n)?!0:l.clearNodes()).command(({state:l})=>jk(i,{...a,...e})(l,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Pte=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,s=Ia(t,0,r.content.size),i=Ut.create(r,s);e.setSelection(i)}return!0},zte=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:s,to:i}=typeof t=="number"?{from:t,to:t}:t,a=Ht.atStart(r).from,l=Ht.atEnd(r).to,d=Ia(s,a,l),f=Ia(i,a,l),p=Ht.create(r,d,f);e.setSelection(p)}return!0},Ite=t=>({state:e,dispatch:n})=>{const r=Br(t,e.schema);return mee(r)(e,n)};function Dk(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(s=>e?.includes(s.type.name));t.tr.ensureMarks(r)}}const Bte=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:s})=>{const{selection:i,doc:a}=e,{$from:l,$to:d}=i,f=s.extensionManager.attributes,p=$m(f,l.node().type.name,l.node().attrs);if(i instanceof Ut&&i.node.isBlock)return!l.parentOffset||!Fa(a,l.pos)?!1:(r&&(t&&Dk(n,s.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const m=d.parentOffset===d.parent.content.size,y=l.depth===0?void 0:Cte(l.node(-1).contentMatchAt(l.indexAfter(-1)));let x=m&&y?[{type:y,attrs:p}]:void 0,b=Fa(e.doc,e.mapping.map(l.pos),1,x);if(!x&&!b&&Fa(e.doc,e.mapping.map(l.pos),1,y?[{type:y}]:void 0)&&(b=!0,x=y?[{type:y,attrs:p}]:void 0),r){if(b&&(i instanceof Ht&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,x),y&&!m&&!l.parentOffset&&l.parent.type!==y)){const S=e.mapping.map(l.before()),C=e.doc.resolve(S);l.node(-1).canReplaceWith(C.index(),C.index()+1,y)&&e.setNodeMarkup(e.mapping.map(l.before()),y)}t&&Dk(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return b},Fte=(t,e={})=>({tr:n,state:r,dispatch:s,editor:i})=>{var a;const l=Br(t,r.schema),{$from:d,$to:f}=r.selection,p=r.selection.node;if(p&&p.isBlock||d.depth<2||!d.sameParent(f))return!1;const m=d.node(-1);if(m.type!==l)return!1;const y=i.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==l||d.index(-2)!==d.node(-2).childCount-1)return!1;if(s){let N=We.empty;const k=d.index(-1)?1:d.index(-2)?2:3;for(let H=d.depth-k;H>=d.depth-3;H-=1)N=We.from(d.node(H).copy(N));const M=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,D={...$m(y,d.node().type.name,d.node().attrs),...e},E=((a=l.contentMatch.defaultType)===null||a===void 0?void 0:a.createAndFill(D))||void 0;N=N.append(We.from(l.createAndFill(null,E)||void 0));const A=d.before(d.depth-(k-1));n.replace(A,d.after(-M),new xt(N,4-k,0));let F=-1;n.doc.nodesBetween(A,n.doc.content.size,(H,Z)=>{if(F>-1)return!1;H.isTextblock&&H.content.size===0&&(F=Z+1)}),F>-1&&n.setSelection(Ht.near(n.doc.resolve(F))),n.scrollIntoView()}return!0}const x=f.pos===d.end()?m.contentMatchAt(0).defaultType:null,b={...$m(y,m.type.name,m.attrs),...e},S={...$m(y,d.node().type.name,d.node().attrs),...e};n.delete(d.pos,f.pos);const C=x?[{type:l,attrs:b},{type:x,attrs:S}]:[{type:l,attrs:b}];if(!Fa(n.doc,d.pos,2))return!1;if(s){const{selection:N,storedMarks:k}=r,{splittableMarks:M}=i.extensionManager,D=k||N.$to.parentOffset&&N.$from.marks();if(n.split(d.pos,2,C).scrollIntoView(),!D||!s)return!0;const E=D.filter(A=>M.includes(A.type.name));n.ensureMarks(E)}return!0},ob=(t,e)=>{const n=tS(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===s?.type&&el(t.doc,n.pos)&&t.join(n.pos),!0},lb=(t,e)=>{const n=tS(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===s?.type&&el(t.doc,r)&&t.join(r),!0},$te=(t,e,n,r={})=>({editor:s,tr:i,state:a,dispatch:l,chain:d,commands:f,can:p})=>{const{extensions:m,splittableMarks:y}=s.extensionManager,x=Br(t,a.schema),b=Br(e,a.schema),{selection:S,storedMarks:C}=a,{$from:N,$to:k}=S,M=N.blockRange(k),D=C||S.$to.parentOffset&&S.$from.marks();if(!M)return!1;const E=tS(A=>Mk(A.type.name,m))(S);if(M.depth>=1&&E&&M.depth-E.depth<=1){if(E.node.type===x)return f.liftListItem(b);if(Mk(E.node.type.name,m)&&x.validContent(E.node.content)&&l)return d().command(()=>(i.setNodeMarkup(E.pos,x),!0)).command(()=>ob(i,x)).command(()=>lb(i,x)).run()}return!n||!D||!l?d().command(()=>p().wrapInList(x,r)?!0:f.clearNodes()).wrapInList(x,r).command(()=>ob(i,x)).command(()=>lb(i,x)).run():d().command(()=>{const A=p().wrapInList(x,r),F=D.filter(H=>y.includes(H.type.name));return i.ensureMarks(F),A?!0:f.clearNodes()}).wrapInList(x,r).command(()=>ob(i,x)).command(()=>lb(i,x)).run()},Ute=(t,e={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:i=!1}=n,a=nl(t,r.schema);return $1(r,a,e)?s.unsetMark(a,{extendEmptyMarkRange:i}):s.setMark(a,e)},Vte=(t,e,n={})=>({state:r,commands:s})=>{const i=Br(t,r.schema),a=Br(e,r.schema),l=ih(r,i,n);let d;return r.selection.$anchor.sameParent(r.selection.$head)&&(d=r.selection.$anchor.parent.attrs),l?s.setNode(a,d):s.setNode(i,{...d,...n})},Hte=(t,e={})=>({state:n,commands:r})=>{const s=Br(t,n.schema);return ih(n,s,e)?r.lift(s):r.wrapIn(s,e)},qte=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let i;if(s.spec.isInputRules&&(i=s.getState(t))){if(e){const a=t.tr,l=i.transform;for(let d=l.steps.length-1;d>=0;d-=1)a.step(l.steps[d].invert(l.docs[d]));if(i.text){const d=a.doc.resolve(i.from).marks();a.replaceWith(i.from,i.to,t.schema.text(i.text,d))}else a.delete(i.from,i.to)}return!0}}return!1},Kte=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:s}=n;return r||e&&s.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},Yte=(t,e={})=>({tr:n,state:r,dispatch:s})=>{var i;const{extendEmptyMarkRange:a=!1}=e,{selection:l}=n,d=nl(t,r.schema),{$from:f,empty:p,ranges:m}=l;if(!s)return!0;if(p&&a){let{from:y,to:x}=l;const b=(i=f.marks().find(C=>C.type===d))===null||i===void 0?void 0:i.attrs,S=Q2(f,d,b);S&&(y=S.from,x=S.to),n.removeMark(y,x,d)}else m.forEach(y=>{n.removeMark(y.$from.pos,y.$to.pos,d)});return n.removeStoredMark(d),!0},Wte=(t,e={})=>({tr:n,state:r,dispatch:s})=>{let i=null,a=null;const l=Hy(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(i=Br(t,r.schema)),l==="mark"&&(a=nl(t,r.schema)),s&&n.selection.ranges.forEach(d=>{const f=d.$from.pos,p=d.$to.pos;let m,y,x,b;n.selection.empty?r.doc.nodesBetween(f,p,(S,C)=>{i&&i===S.type&&(x=Math.max(C,f),b=Math.min(C+S.nodeSize,p),m=C,y=S)}):r.doc.nodesBetween(f,p,(S,C)=>{C<f&&i&&i===S.type&&(x=Math.max(C,f),b=Math.min(C+S.nodeSize,p),m=C,y=S),C>=f&&C<=p&&(i&&i===S.type&&n.setNodeMarkup(C,void 0,{...S.attrs,...e}),a&&S.marks.length&&S.marks.forEach(N=>{if(a===N.type){const k=Math.max(C,f),M=Math.min(C+S.nodeSize,p);n.addMark(k,M,a.create({...N.attrs,...e}))}}))}),y&&(m!==void 0&&n.setNodeMarkup(m,void 0,{...y.attrs,...e}),a&&y.marks.length&&y.marks.forEach(S=>{a===S.type&&n.addMark(x,b,a.create({...S.attrs,...e}))}))}),!0):!1},Gte=(t,e={})=>({state:n,dispatch:r})=>{const s=Br(t,n.schema);return lee(s,e)(n,r)},Xte=(t,e={})=>({state:n,dispatch:r})=>{const s=Br(t,n.schema);return cee(s,e)(n,r)};var Jte=Object.freeze({__proto__:null,blur:Dee,clearContent:Ree,clearNodes:_ee,command:Lee,createParagraphNear:Pee,cut:zee,deleteCurrentNode:Iee,deleteNode:Bee,deleteRange:Fee,deleteSelection:$ee,enter:Uee,exitCode:Vee,extendMarkRange:Hee,first:qee,focus:Yee,forEach:Wee,insertContent:Gee,insertContentAt:Qee,joinBackward:tte,joinDown:ete,joinForward:nte,joinItemBackward:rte,joinItemForward:ste,joinTextblockBackward:ite,joinTextblockForward:ate,joinUp:Zee,keyboardShortcut:lte,lift:cte,liftEmptyBlock:ute,liftListItem:dte,newlineInCode:fte,resetAttributes:hte,scrollIntoView:pte,selectAll:mte,selectNodeBackward:gte,selectNodeForward:yte,selectParentNode:xte,selectTextblockEnd:vte,selectTextblockStart:bte,setContent:wte,setMark:Rte,setMeta:_te,setNode:Lte,setNodeSelection:Pte,setTextSelection:zte,sinkListItem:Ite,splitBlock:Bte,splitListItem:Fte,toggleList:$te,toggleMark:Ute,toggleNode:Vte,toggleWrap:Hte,undoInputRule:qte,unsetAllMarks:Kte,unsetMark:Yte,updateAttributes:Wte,wrapIn:Gte,wrapInList:Xte});const Qte=Yr.create({name:"commands",addCommands(){return{...Jte}}}),Zte=Yr.create({name:"drop",addProseMirrorPlugins(){return[new Nr({key:new Wr("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),ene=Yr.create({name:"editable",addProseMirrorPlugins(){return[new Nr({key:new Wr("editable"),props:{editable:()=>this.editor.options.editable}})]}}),tne=new Wr("focusEvents"),nne=Yr.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Nr({key:tne,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),rne=Yr.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:l})=>{const{selection:d,doc:f}=l,{empty:p,$anchor:m}=d,{pos:y,parent:x}=m,b=m.parent.isTextblock&&y>0?l.doc.resolve(y-1):m,S=b.parent.type.spec.isolating,C=m.pos-m.parentOffset,N=S&&b.parent.childCount===1?C===m.pos:Yt.atStart(f).from===y;return!p||!x.type.isTextblock||x.textContent.length||!N||N&&m.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},i={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return eS()||jR()?i:s},addProseMirrorPlugins(){return[new Nr({key:new Wr("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(S=>S.getMeta("composition")))return;const r=t.some(S=>S.docChanged)&&!e.doc.eq(n.doc),s=t.some(S=>S.getMeta("preventClearDocument"));if(!r||s)return;const{empty:i,from:a,to:l}=e.selection,d=Yt.atStart(e.doc).from,f=Yt.atEnd(e.doc).to;if(i||!(a===d&&l===f)||!rS(n.doc))return;const y=n.tr,x=By({state:n,transaction:y}),{commands:b}=new Fy({editor:this.editor,state:x});if(b.clearNodes(),!!y.steps.length)return y}})]}}),sne=Yr.create({name:"paste",addProseMirrorPlugins(){return[new Nr({key:new Wr("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),ine=Yr.create({name:"tabindex",addProseMirrorPlugins(){return[new Nr({key:new Wr("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Ol{get name(){return this.node.type.name}constructor(e,n,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=s}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Ol(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Ol(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Ol(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const s=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,a=this.pos+r+(i?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(a);if(!s&&l.depth<=this.depth)return;const d=new Ol(l,this.editor,s,s?n:null);s&&(d.actualDepth=this.depth+1),e.push(new Ol(l,this.editor,s,s?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===e)if(Object.keys(n).length>0){const i=s.node.attrs,a=Object.keys(n);for(let l=0;l<a.length;l+=1){const d=a[l];if(i[d]!==n[d])break}}else r=s;s=s.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const i=Object.keys(n);return this.children.forEach(a=>{r&&s.length>0||(a.node.type.name===e&&i.every(d=>n[d]===a.node.attrs[d])&&s.push(a),!(r&&s.length>0)&&(s=s.concat(a.querySelectorAll(e,n,r))))}),s}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const ane=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function one(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}class lne extends gee{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:r,moved:s})=>this.options.onDrop(n,r,s)),this.on("paste",({event:n,slice:r})=>this.options.onPaste(n,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=one(ane,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=vR(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],s=this.state.reconfigure({plugins:r});return this.view.updateState(s),s}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(e).forEach(i=>{const a=typeof i=="string"?`${i}$`:i.key;r=r.filter(l=>!l.key.startsWith(a))}),n.length===r.length)return;const s=this.state.reconfigure({plugins:r});return this.view.updateState(s),s}createExtensionManager(){var e,n;const s=[...this.options.enableCoreExtensions?[ene,Mee.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),Qte,nne,rne,ine,Zte,sne].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i?.type));this.extensionManager=new pu(s,this)}createCommandManager(){this.commandManager=new Fy({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let n;try{n=F1(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(a){if(!(a instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(a.message))throw a;this.emit("contentError",{editor:this,error:a,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(l=>l.name!=="collaboration"),this.createExtensionManager()}}),n=F1(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=CR(n,this.options.autofocus);this.view=new iR(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:hu.create({doc:n,selection:r||void 0})});const s=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(s),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(a=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(a)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const s=e.getMeta("focus"),i=e.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:e}),i&&this.emit("blur",{editor:this,event:i.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return AR(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,s=typeof e=="string"?n:e;return Ote(this.state,r,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return X2(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return jte(this.state.doc,{blockSeparator:n,textSerializers:{...wR(this.schema),...r}})}get isEmpty(){return rS(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new Ol(n,this)}get $doc(){return this.$pos(0)}}function Au(t){return new Uy({find:t.find,handler:({state:e,range:n,match:r})=>{const s=cn(t.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:i}=e,a=r[r.length-1],l=r[0];if(a){const d=l.search(/\S/),f=n.from+l.indexOf(a),p=f+a.length;if(nS(n.from,n.to,e.doc).filter(x=>x.mark.type.excluded.find(S=>S===t.type&&S!==x.mark.type)).filter(x=>x.to>f).length)return null;p<n.to&&i.delete(p,n.to),f>n.from&&i.delete(n.from+d,f);const y=n.from+d+a.length;i.addMark(n.from+d,y,t.type.create(s||{})),i.removeStoredMark(t.type)}}})}function OR(t){return new Uy({find:t.find,handler:({state:e,range:n,match:r})=>{const s=cn(t.getAttributes,void 0,r)||{},{tr:i}=e,a=n.from;let l=n.to;const d=t.type.create(s);if(r[1]){const f=r[0].lastIndexOf(r[1]);let p=a+f;p>l?p=l:l=p+r[1].length;const m=r[0][r[0].length-1];i.insertText(m,a+r[0].length-1),i.replaceWith(p,l,d)}else if(r[0]){const f=t.type.isInline?a:a-1;i.insert(f,t.type.create(s)).delete(i.mapping.map(a),i.mapping.map(l))}i.scrollIntoView()}})}function U1(t){return new Uy({find:t.find,handler:({state:e,range:n,match:r})=>{const s=e.doc.resolve(n.from),i=cn(t.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,i)}})}function ah(t){return new Uy({find:t.find,handler:({state:e,range:n,match:r,chain:s})=>{const i=cn(t.getAttributes,void 0,r)||{},a=e.tr.delete(n.from,n.to),d=a.doc.resolve(n.from).blockRange(),f=d&&D2(d,t.type,i);if(!f)return null;if(a.wrap(d,f),t.keepMarks&&t.editor){const{selection:m,storedMarks:y}=e,{splittableMarks:x}=t.editor.extensionManager,b=y||m.$to.parentOffset&&m.$from.marks();if(b){const S=b.filter(C=>x.includes(C.type.name));a.ensureMarks(S)}}if(t.keepAttributes){const m=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(m,i).run()}const p=a.doc.resolve(n.from-1).nodeBefore;p&&p.type===t.type&&el(a.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,p))&&a.join(n.from-1)}})}class cr{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=cn(_t(this,"addOptions",{name:this.name}))),this.storage=cn(_t(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new cr(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Vy(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new cr(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=cn(_t(n,"addOptions",{name:n.name})),n.storage=cn(_t(n,"addStorage",{name:n.name,options:n.options})),n}}function lc(t){return new jee({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:s})=>{const i=cn(t.getAttributes,void 0,r,s);if(i===!1||i===null)return null;const{tr:a}=e,l=r[r.length-1],d=r[0];let f=n.to;if(l){const p=d.search(/\S/),m=n.from+d.indexOf(l),y=m+l.length;if(nS(n.from,n.to,e.doc).filter(b=>b.mark.type.excluded.find(C=>C===t.type&&C!==b.mark.type)).filter(b=>b.to>m).length)return null;y<n.to&&a.delete(y,n.to),m>n.from&&a.delete(n.from+p,m),f=n.from+p+l.length,a.addMark(n.from+p,f,t.type.create(i||{})),a.removeStoredMark(t.type)}}})}function cne(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof Ut){const i=r.index();return r.parent.canReplaceWith(i,i+1,e)}let s=r.depth;for(;s>=0;){const i=r.index(s);if(r.node(s).contentMatchAt(i).matchType(e))return!0;s-=1}return!1}var As="top",gi="bottom",yi="right",ks="left",sS="auto",Rh=[As,gi,yi,ks],ku="start",oh="end",une="clippingParents",MR="viewport",Zd="popper",dne="reference",Rk=Rh.reduce(function(t,e){return t.concat([e+"-"+ku,e+"-"+oh])},[]),DR=[].concat(Rh,[sS]).reduce(function(t,e){return t.concat([e,e+"-"+ku,e+"-"+oh])},[]),fne="beforeRead",hne="read",pne="afterRead",mne="beforeMain",gne="main",yne="afterMain",xne="beforeWrite",vne="write",bne="afterWrite",wne=[fne,hne,pne,mne,gne,yne,xne,vne,bne];function oa(t){return t?(t.nodeName||"").toLowerCase():null}function Ks(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function cc(t){var e=Ks(t).Element;return t instanceof e||t instanceof Element}function pi(t){var e=Ks(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function iS(t){if(typeof ShadowRoot>"u")return!1;var e=Ks(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Sne(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},s=e.attributes[n]||{},i=e.elements[n];!pi(i)||!oa(i)||(Object.assign(i.style,r),Object.keys(s).forEach(function(a){var l=s[a];l===!1?i.removeAttribute(a):i.setAttribute(a,l===!0?"":l)}))})}function Cne(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],i=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),l=a.reduce(function(d,f){return d[f]="",d},{});!pi(s)||!oa(s)||(Object.assign(s.style,l),Object.keys(i).forEach(function(d){s.removeAttribute(d)}))})}}const RR={name:"applyStyles",enabled:!0,phase:"write",fn:Sne,effect:Cne,requires:["computeStyles"]};function ta(t){return t.split("-")[0]}var Jl=Math.max,Eg=Math.min,Ou=Math.round;function V1(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function _R(){return!/^((?!chrome|android).)*safari/i.test(V1())}function Mu(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),s=1,i=1;e&&pi(t)&&(s=t.offsetWidth>0&&Ou(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&Ou(r.height)/t.offsetHeight||1);var a=cc(t)?Ks(t):window,l=a.visualViewport,d=!_R()&&n,f=(r.left+(d&&l?l.offsetLeft:0))/s,p=(r.top+(d&&l?l.offsetTop:0))/i,m=r.width/s,y=r.height/i;return{width:m,height:y,top:p,right:f+m,bottom:p+y,left:f,x:f,y:p}}function aS(t){var e=Mu(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function LR(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&iS(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function qa(t){return Ks(t).getComputedStyle(t)}function Nne(t){return["table","td","th"].indexOf(oa(t))>=0}function rl(t){return((cc(t)?t.ownerDocument:t.document)||window.document).documentElement}function qy(t){return oa(t)==="html"?t:t.assignedSlot||t.parentNode||(iS(t)?t.host:null)||rl(t)}function _k(t){return!pi(t)||qa(t).position==="fixed"?null:t.offsetParent}function jne(t){var e=/firefox/i.test(V1()),n=/Trident/i.test(V1());if(n&&pi(t)){var r=qa(t);if(r.position==="fixed")return null}var s=qy(t);for(iS(s)&&(s=s.host);pi(s)&&["html","body"].indexOf(oa(s))<0;){var i=qa(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function _h(t){for(var e=Ks(t),n=_k(t);n&&Nne(n)&&qa(n).position==="static";)n=_k(n);return n&&(oa(n)==="html"||oa(n)==="body"&&qa(n).position==="static")?e:n||jne(t)||e}function oS(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function jf(t,e,n){return Jl(t,Eg(e,n))}function Tne(t,e,n){var r=jf(t,e,n);return r>n?n:r}function PR(){return{top:0,right:0,bottom:0,left:0}}function zR(t){return Object.assign({},PR(),t)}function IR(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var Ene=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,zR(typeof e!="number"?e:IR(e,Rh))};function Ane(t){var e,n=t.state,r=t.name,s=t.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,l=ta(n.placement),d=oS(l),f=[ks,yi].indexOf(l)>=0,p=f?"height":"width";if(!(!i||!a)){var m=Ene(s.padding,n),y=aS(i),x=d==="y"?As:ks,b=d==="y"?gi:yi,S=n.rects.reference[p]+n.rects.reference[d]-a[d]-n.rects.popper[p],C=a[d]-n.rects.reference[d],N=_h(i),k=N?d==="y"?N.clientHeight||0:N.clientWidth||0:0,M=S/2-C/2,D=m[x],E=k-y[p]-m[b],A=k/2-y[p]/2+M,F=jf(D,A,E),H=d;n.modifiersData[r]=(e={},e[H]=F,e.centerOffset=F-A,e)}}function kne(t){var e=t.state,n=t.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||LR(e.elements.popper,s)&&(e.elements.arrow=s))}const One={name:"arrow",enabled:!0,phase:"main",fn:Ane,effect:kne,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Du(t){return t.split("-")[1]}var Mne={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Dne(t,e){var n=t.x,r=t.y,s=e.devicePixelRatio||1;return{x:Ou(n*s)/s||0,y:Ou(r*s)/s||0}}function Lk(t){var e,n=t.popper,r=t.popperRect,s=t.placement,i=t.variation,a=t.offsets,l=t.position,d=t.gpuAcceleration,f=t.adaptive,p=t.roundOffsets,m=t.isFixed,y=a.x,x=y===void 0?0:y,b=a.y,S=b===void 0?0:b,C=typeof p=="function"?p({x,y:S}):{x,y:S};x=C.x,S=C.y;var N=a.hasOwnProperty("x"),k=a.hasOwnProperty("y"),M=ks,D=As,E=window;if(f){var A=_h(n),F="clientHeight",H="clientWidth";if(A===Ks(n)&&(A=rl(n),qa(A).position!=="static"&&l==="absolute"&&(F="scrollHeight",H="scrollWidth")),A=A,s===As||(s===ks||s===yi)&&i===oh){D=gi;var Z=m&&A===E&&E.visualViewport?E.visualViewport.height:A[F];S-=Z-r.height,S*=d?1:-1}if(s===ks||(s===As||s===gi)&&i===oh){M=yi;var ve=m&&A===E&&E.visualViewport?E.visualViewport.width:A[H];x-=ve-r.width,x*=d?1:-1}}var ue=Object.assign({position:l},f&&Mne),oe=p===!0?Dne({x,y:S},Ks(n)):{x,y:S};if(x=oe.x,S=oe.y,d){var te;return Object.assign({},ue,(te={},te[D]=k?"0":"",te[M]=N?"0":"",te.transform=(E.devicePixelRatio||1)<=1?"translate("+x+"px, "+S+"px)":"translate3d("+x+"px, "+S+"px, 0)",te))}return Object.assign({},ue,(e={},e[D]=k?S+"px":"",e[M]=N?x+"px":"",e.transform="",e))}function Rne(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,a=i===void 0?!0:i,l=n.roundOffsets,d=l===void 0?!0:l,f={placement:ta(e.placement),variation:Du(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Lk(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:d})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Lk(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const _ne={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Rne,data:{}};var dm={passive:!0};function Lne(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,i=s===void 0?!0:s,a=r.resize,l=a===void 0?!0:a,d=Ks(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&f.forEach(function(p){p.addEventListener("scroll",n.update,dm)}),l&&d.addEventListener("resize",n.update,dm),function(){i&&f.forEach(function(p){p.removeEventListener("scroll",n.update,dm)}),l&&d.removeEventListener("resize",n.update,dm)}}const Pne={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Lne,data:{}};var zne={left:"right",right:"left",bottom:"top",top:"bottom"};function Um(t){return t.replace(/left|right|bottom|top/g,function(e){return zne[e]})}var Ine={start:"end",end:"start"};function Pk(t){return t.replace(/start|end/g,function(e){return Ine[e]})}function lS(t){var e=Ks(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function cS(t){return Mu(rl(t)).left+lS(t).scrollLeft}function Bne(t,e){var n=Ks(t),r=rl(t),s=n.visualViewport,i=r.clientWidth,a=r.clientHeight,l=0,d=0;if(s){i=s.width,a=s.height;var f=_R();(f||!f&&e==="fixed")&&(l=s.offsetLeft,d=s.offsetTop)}return{width:i,height:a,x:l+cS(t),y:d}}function Fne(t){var e,n=rl(t),r=lS(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=Jl(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),a=Jl(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),l=-r.scrollLeft+cS(t),d=-r.scrollTop;return qa(s||n).direction==="rtl"&&(l+=Jl(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:a,x:l,y:d}}function uS(t){var e=qa(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function BR(t){return["html","body","#document"].indexOf(oa(t))>=0?t.ownerDocument.body:pi(t)&&uS(t)?t:BR(qy(t))}function Tf(t,e){var n;e===void 0&&(e=[]);var r=BR(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=Ks(r),a=s?[i].concat(i.visualViewport||[],uS(r)?r:[]):r,l=e.concat(a);return s?l:l.concat(Tf(qy(a)))}function H1(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function $ne(t,e){var n=Mu(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function zk(t,e,n){return e===MR?H1(Bne(t,n)):cc(e)?$ne(e,n):H1(Fne(rl(t)))}function Une(t){var e=Tf(qy(t)),n=["absolute","fixed"].indexOf(qa(t).position)>=0,r=n&&pi(t)?_h(t):t;return cc(r)?e.filter(function(s){return cc(s)&&LR(s,r)&&oa(s)!=="body"}):[]}function Vne(t,e,n,r){var s=e==="clippingParents"?Une(t):[].concat(e),i=[].concat(s,[n]),a=i[0],l=i.reduce(function(d,f){var p=zk(t,f,r);return d.top=Jl(p.top,d.top),d.right=Eg(p.right,d.right),d.bottom=Eg(p.bottom,d.bottom),d.left=Jl(p.left,d.left),d},zk(t,a,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function FR(t){var e=t.reference,n=t.element,r=t.placement,s=r?ta(r):null,i=r?Du(r):null,a=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,d;switch(s){case As:d={x:a,y:e.y-n.height};break;case gi:d={x:a,y:e.y+e.height};break;case yi:d={x:e.x+e.width,y:l};break;case ks:d={x:e.x-n.width,y:l};break;default:d={x:e.x,y:e.y}}var f=s?oS(s):null;if(f!=null){var p=f==="y"?"height":"width";switch(i){case ku:d[f]=d[f]-(e[p]/2-n[p]/2);break;case oh:d[f]=d[f]+(e[p]/2-n[p]/2);break}}return d}function lh(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?t.placement:r,i=n.strategy,a=i===void 0?t.strategy:i,l=n.boundary,d=l===void 0?une:l,f=n.rootBoundary,p=f===void 0?MR:f,m=n.elementContext,y=m===void 0?Zd:m,x=n.altBoundary,b=x===void 0?!1:x,S=n.padding,C=S===void 0?0:S,N=zR(typeof C!="number"?C:IR(C,Rh)),k=y===Zd?dne:Zd,M=t.rects.popper,D=t.elements[b?k:y],E=Vne(cc(D)?D:D.contextElement||rl(t.elements.popper),d,p,a),A=Mu(t.elements.reference),F=FR({reference:A,element:M,placement:s}),H=H1(Object.assign({},M,F)),Z=y===Zd?H:A,ve={top:E.top-Z.top+N.top,bottom:Z.bottom-E.bottom+N.bottom,left:E.left-Z.left+N.left,right:Z.right-E.right+N.right},ue=t.modifiersData.offset;if(y===Zd&&ue){var oe=ue[s];Object.keys(ve).forEach(function(te){var ne=[yi,gi].indexOf(te)>=0?1:-1,xe=[As,gi].indexOf(te)>=0?"y":"x";ve[te]+=oe[xe]*ne})}return ve}function Hne(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,i=n.rootBoundary,a=n.padding,l=n.flipVariations,d=n.allowedAutoPlacements,f=d===void 0?DR:d,p=Du(r),m=p?l?Rk:Rk.filter(function(b){return Du(b)===p}):Rh,y=m.filter(function(b){return f.indexOf(b)>=0});y.length===0&&(y=m);var x=y.reduce(function(b,S){return b[S]=lh(t,{placement:S,boundary:s,rootBoundary:i,padding:a})[ta(S)],b},{});return Object.keys(x).sort(function(b,S){return x[b]-x[S]})}function qne(t){if(ta(t)===sS)return[];var e=Um(t);return[Pk(t),e,Pk(e)]}function Kne(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,a=n.altAxis,l=a===void 0?!0:a,d=n.fallbackPlacements,f=n.padding,p=n.boundary,m=n.rootBoundary,y=n.altBoundary,x=n.flipVariations,b=x===void 0?!0:x,S=n.allowedAutoPlacements,C=e.options.placement,N=ta(C),k=N===C,M=d||(k||!b?[Um(C)]:qne(C)),D=[C].concat(M).reduce(function(ke,ze){return ke.concat(ta(ze)===sS?Hne(e,{placement:ze,boundary:p,rootBoundary:m,padding:f,flipVariations:b,allowedAutoPlacements:S}):ze)},[]),E=e.rects.reference,A=e.rects.popper,F=new Map,H=!0,Z=D[0],ve=0;ve<D.length;ve++){var ue=D[ve],oe=ta(ue),te=Du(ue)===ku,ne=[As,gi].indexOf(oe)>=0,xe=ne?"width":"height",W=lh(e,{placement:ue,boundary:p,rootBoundary:m,altBoundary:y,padding:f}),le=ne?te?yi:ks:te?gi:As;E[xe]>A[xe]&&(le=Um(le));var be=Um(le),Fe=[];if(i&&Fe.push(W[oe]<=0),l&&Fe.push(W[le]<=0,W[be]<=0),Fe.every(function(ke){return ke})){Z=ue,H=!1;break}F.set(ue,Fe)}if(H)for(var $=b?3:1,de=function(ze){var Me=D.find(function(Ye){var Re=F.get(Ye);if(Re)return Re.slice(0,ze).every(function(ut){return ut})});if(Me)return Z=Me,"break"},ie=$;ie>0;ie--){var he=de(ie);if(he==="break")break}e.placement!==Z&&(e.modifiersData[r]._skip=!0,e.placement=Z,e.reset=!0)}}const Yne={name:"flip",enabled:!0,phase:"main",fn:Kne,requiresIfExists:["offset"],data:{_skip:!1}};function Ik(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Bk(t){return[As,yi,gi,ks].some(function(e){return t[e]>=0})}function Wne(t){var e=t.state,n=t.name,r=e.rects.reference,s=e.rects.popper,i=e.modifiersData.preventOverflow,a=lh(e,{elementContext:"reference"}),l=lh(e,{altBoundary:!0}),d=Ik(a,r),f=Ik(l,s,i),p=Bk(d),m=Bk(f);e.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:f,isReferenceHidden:p,hasPopperEscaped:m},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":m})}const Gne={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Wne};function Xne(t,e,n){var r=ta(t),s=[ks,As].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=i[0],l=i[1];return a=a||0,l=(l||0)*s,[ks,yi].indexOf(r)>=0?{x:l,y:a}:{x:a,y:l}}function Jne(t){var e=t.state,n=t.options,r=t.name,s=n.offset,i=s===void 0?[0,0]:s,a=DR.reduce(function(p,m){return p[m]=Xne(m,e.rects,i),p},{}),l=a[e.placement],d=l.x,f=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=f),e.modifiersData[r]=a}const Qne={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Jne};function Zne(t){var e=t.state,n=t.name;e.modifiersData[n]=FR({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const ere={name:"popperOffsets",enabled:!0,phase:"read",fn:Zne,data:{}};function tre(t){return t==="x"?"y":"x"}function nre(t){var e=t.state,n=t.options,r=t.name,s=n.mainAxis,i=s===void 0?!0:s,a=n.altAxis,l=a===void 0?!1:a,d=n.boundary,f=n.rootBoundary,p=n.altBoundary,m=n.padding,y=n.tether,x=y===void 0?!0:y,b=n.tetherOffset,S=b===void 0?0:b,C=lh(e,{boundary:d,rootBoundary:f,padding:m,altBoundary:p}),N=ta(e.placement),k=Du(e.placement),M=!k,D=oS(N),E=tre(D),A=e.modifiersData.popperOffsets,F=e.rects.reference,H=e.rects.popper,Z=typeof S=="function"?S(Object.assign({},e.rects,{placement:e.placement})):S,ve=typeof Z=="number"?{mainAxis:Z,altAxis:Z}:Object.assign({mainAxis:0,altAxis:0},Z),ue=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,oe={x:0,y:0};if(A){if(i){var te,ne=D==="y"?As:ks,xe=D==="y"?gi:yi,W=D==="y"?"height":"width",le=A[D],be=le+C[ne],Fe=le-C[xe],$=x?-H[W]/2:0,de=k===ku?F[W]:H[W],ie=k===ku?-H[W]:-F[W],he=e.elements.arrow,ke=x&&he?aS(he):{width:0,height:0},ze=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:PR(),Me=ze[ne],Ye=ze[xe],Re=jf(0,F[W],ke[W]),ut=M?F[W]/2-$-Re-Me-ve.mainAxis:de-Re-Me-ve.mainAxis,Ze=M?-F[W]/2+$+Re+Ye+ve.mainAxis:ie+Re+Ye+ve.mainAxis,St=e.elements.arrow&&_h(e.elements.arrow),Nt=St?D==="y"?St.clientTop||0:St.clientLeft||0:0,Ft=(te=ue?.[D])!=null?te:0,nt=le+ut-Ft-Nt,ee=le+Ze-Ft,Ve=jf(x?Eg(be,nt):be,le,x?Jl(Fe,ee):Fe);A[D]=Ve,oe[D]=Ve-le}if(l){var qe,at=D==="x"?As:ks,bt=D==="x"?gi:yi,B=A[E],se=E==="y"?"height":"width",I=B+C[at],fe=B-C[bt],we=[As,ks].indexOf(N)!==-1,V=(qe=ue?.[E])!=null?qe:0,U=we?I:B-F[se]-H[se]-V+ve.altAxis,Ce=we?B+F[se]+H[se]-V-ve.altAxis:fe,et=x&&we?Tne(U,B,Ce):jf(x?U:I,B,x?Ce:fe);A[E]=et,oe[E]=et-B}e.modifiersData[r]=oe}}const rre={name:"preventOverflow",enabled:!0,phase:"main",fn:nre,requiresIfExists:["offset"]};function sre(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function ire(t){return t===Ks(t)||!pi(t)?lS(t):sre(t)}function are(t){var e=t.getBoundingClientRect(),n=Ou(e.width)/t.offsetWidth||1,r=Ou(e.height)/t.offsetHeight||1;return n!==1||r!==1}function ore(t,e,n){n===void 0&&(n=!1);var r=pi(e),s=pi(e)&&are(e),i=rl(e),a=Mu(t,s,n),l={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!n)&&((oa(e)!=="body"||uS(i))&&(l=ire(e)),pi(e)?(d=Mu(e,!0),d.x+=e.clientLeft,d.y+=e.clientTop):i&&(d.x=cS(i))),{x:a.left+l.scrollLeft-d.x,y:a.top+l.scrollTop-d.y,width:a.width,height:a.height}}function lre(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function s(i){n.add(i.name);var a=[].concat(i.requires||[],i.requiresIfExists||[]);a.forEach(function(l){if(!n.has(l)){var d=e.get(l);d&&s(d)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||s(i)}),r}function cre(t){var e=lre(t);return wne.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function ure(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function dre(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Fk={placement:"bottom",modifiers:[],strategy:"absolute"};function $k(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function fre(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,i=s===void 0?Fk:s;return function(l,d,f){f===void 0&&(f=i);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},Fk,i),modifiersData:{},elements:{reference:l,popper:d},attributes:{},styles:{}},m=[],y=!1,x={state:p,setOptions:function(N){var k=typeof N=="function"?N(p.options):N;S(),p.options=Object.assign({},i,p.options,k),p.scrollParents={reference:cc(l)?Tf(l):l.contextElement?Tf(l.contextElement):[],popper:Tf(d)};var M=cre(dre([].concat(r,p.options.modifiers)));return p.orderedModifiers=M.filter(function(D){return D.enabled}),b(),x.update()},forceUpdate:function(){if(!y){var N=p.elements,k=N.reference,M=N.popper;if($k(k,M)){p.rects={reference:ore(k,_h(M),p.options.strategy==="fixed"),popper:aS(M)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(ve){return p.modifiersData[ve.name]=Object.assign({},ve.data)});for(var D=0;D<p.orderedModifiers.length;D++){if(p.reset===!0){p.reset=!1,D=-1;continue}var E=p.orderedModifiers[D],A=E.fn,F=E.options,H=F===void 0?{}:F,Z=E.name;typeof A=="function"&&(p=A({state:p,options:H,name:Z,instance:x})||p)}}}},update:ure(function(){return new Promise(function(C){x.forceUpdate(),C(p)})}),destroy:function(){S(),y=!0}};if(!$k(l,d))return x;x.setOptions(f).then(function(C){!y&&f.onFirstUpdate&&f.onFirstUpdate(C)});function b(){p.orderedModifiers.forEach(function(C){var N=C.name,k=C.options,M=k===void 0?{}:k,D=C.effect;if(typeof D=="function"){var E=D({state:p,name:N,instance:x,options:M}),A=function(){};m.push(E||A)}})}function S(){m.forEach(function(C){return C()}),m=[]}return x}}var hre=[Pne,ere,_ne,RR,Qne,Yne,rre,One,Gne],pre=fre({defaultModifiers:hre}),mre="tippy-box",$R="tippy-content",gre="tippy-backdrop",UR="tippy-arrow",VR="tippy-svg-arrow",El={passive:!0,capture:!0},HR=function(){return document.body};function cb(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function dS(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function qR(t,e){return typeof t=="function"?t.apply(void 0,e):t}function Uk(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function yre(t){return t.split(/\s+/).filter(Boolean)}function iu(t){return[].concat(t)}function Vk(t,e){t.indexOf(e)===-1&&t.push(e)}function xre(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function vre(t){return t.split("-")[0]}function Ag(t){return[].slice.call(t)}function Hk(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Ef(){return document.createElement("div")}function Ky(t){return["Element","Fragment"].some(function(e){return dS(t,e)})}function bre(t){return dS(t,"NodeList")}function wre(t){return dS(t,"MouseEvent")}function Sre(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function Cre(t){return Ky(t)?[t]:bre(t)?Ag(t):Array.isArray(t)?t:Ag(document.querySelectorAll(t))}function ub(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function qk(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function Nre(t){var e,n=iu(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function jre(t,e){var n=e.clientX,r=e.clientY;return t.every(function(s){var i=s.popperRect,a=s.popperState,l=s.props,d=l.interactiveBorder,f=vre(a.placement),p=a.modifiersData.offset;if(!p)return!0;var m=f==="bottom"?p.top.y:0,y=f==="top"?p.bottom.y:0,x=f==="right"?p.left.x:0,b=f==="left"?p.right.x:0,S=i.top-r+m>d,C=r-i.bottom-y>d,N=i.left-n+x>d,k=n-i.right-b>d;return S||C||N||k})}function db(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(s){t[r](s,n)})}function Kk(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Wi={isTouch:!1},Yk=0;function Tre(){Wi.isTouch||(Wi.isTouch=!0,window.performance&&document.addEventListener("mousemove",KR))}function KR(){var t=performance.now();t-Yk<20&&(Wi.isTouch=!1,document.removeEventListener("mousemove",KR)),Yk=t}function Ere(){var t=document.activeElement;if(Sre(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function Are(){document.addEventListener("touchstart",Tre,El),window.addEventListener("blur",Ere)}var kre=typeof window<"u"&&typeof document<"u",Ore=kre?!!window.msCrypto:!1,Mre={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Dre={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Ai=Object.assign({appendTo:HR,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Mre,Dre),Rre=Object.keys(Ai),_re=function(e){var n=Object.keys(e);n.forEach(function(r){Ai[r]=e[r]})};function YR(t){var e=t.plugins||[],n=e.reduce(function(r,s){var i=s.name,a=s.defaultValue;if(i){var l;r[i]=t[i]!==void 0?t[i]:(l=Ai[i])!=null?l:a}return r},{});return Object.assign({},t,n)}function Lre(t,e){var n=e?Object.keys(YR(Object.assign({},Ai,{plugins:e}))):Rre,r=n.reduce(function(s,i){var a=(t.getAttribute("data-tippy-"+i)||"").trim();if(!a)return s;if(i==="content")s[i]=a;else try{s[i]=JSON.parse(a)}catch{s[i]=a}return s},{});return r}function Wk(t,e){var n=Object.assign({},e,{content:qR(e.content,[t])},e.ignoreAttributes?{}:Lre(t,e.plugins));return n.aria=Object.assign({},Ai.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var Pre=function(){return"innerHTML"};function q1(t,e){t[Pre()]=e}function Gk(t){var e=Ef();return t===!0?e.className=UR:(e.className=VR,Ky(t)?e.appendChild(t):q1(e,t)),e}function Xk(t,e){Ky(e.content)?(q1(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?q1(t,e.content):t.textContent=e.content)}function K1(t){var e=t.firstElementChild,n=Ag(e.children);return{box:e,content:n.find(function(r){return r.classList.contains($R)}),arrow:n.find(function(r){return r.classList.contains(UR)||r.classList.contains(VR)}),backdrop:n.find(function(r){return r.classList.contains(gre)})}}function WR(t){var e=Ef(),n=Ef();n.className=mre,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Ef();r.className=$R,r.setAttribute("data-state","hidden"),Xk(r,t.props),e.appendChild(n),n.appendChild(r),s(t.props,t.props);function s(i,a){var l=K1(e),d=l.box,f=l.content,p=l.arrow;a.theme?d.setAttribute("data-theme",a.theme):d.removeAttribute("data-theme"),typeof a.animation=="string"?d.setAttribute("data-animation",a.animation):d.removeAttribute("data-animation"),a.inertia?d.setAttribute("data-inertia",""):d.removeAttribute("data-inertia"),d.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?d.setAttribute("role",a.role):d.removeAttribute("role"),(i.content!==a.content||i.allowHTML!==a.allowHTML)&&Xk(f,t.props),a.arrow?p?i.arrow!==a.arrow&&(d.removeChild(p),d.appendChild(Gk(a.arrow))):d.appendChild(Gk(a.arrow)):p&&d.removeChild(p)}return{popper:e,onUpdate:s}}WR.$$tippy=!0;var zre=1,fm=[],fb=[];function Ire(t,e){var n=Wk(t,Object.assign({},Ai,YR(Hk(e)))),r,s,i,a=!1,l=!1,d=!1,f=!1,p,m,y,x=[],b=Uk(nt,n.interactiveDebounce),S,C=zre++,N=null,k=xre(n.plugins),M={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},D={id:C,reference:t,popper:Ef(),popperInstance:N,props:n,state:M,plugins:k,clearDelayTimeouts:U,setProps:Ce,setContent:et,show:ht,hide:Jt,hideWithInteractivity:Pt,enable:we,disable:V,unmount:an,destroy:Qt};if(!n.render)return D;var E=n.render(D),A=E.popper,F=E.onUpdate;A.setAttribute("data-tippy-root",""),A.id="tippy-"+D.id,D.popper=A,t._tippy=D,A._tippy=D;var H=k.map(function(Te){return Te.fn(D)}),Z=t.hasAttribute("aria-expanded");return St(),$(),le(),be("onCreate",[D]),n.showOnCreate&&I(),A.addEventListener("mouseenter",function(){D.props.interactive&&D.state.isVisible&&D.clearDelayTimeouts()}),A.addEventListener("mouseleave",function(){D.props.interactive&&D.props.trigger.indexOf("mouseenter")>=0&&ne().addEventListener("mousemove",b)}),D;function ve(){var Te=D.props.touch;return Array.isArray(Te)?Te:[Te,0]}function ue(){return ve()[0]==="hold"}function oe(){var Te;return!!((Te=D.props.render)!=null&&Te.$$tippy)}function te(){return S||t}function ne(){var Te=te().parentNode;return Te?Nre(Te):document}function xe(){return K1(A)}function W(Te){return D.state.isMounted&&!D.state.isVisible||Wi.isTouch||p&&p.type==="focus"?0:cb(D.props.delay,Te?0:1,Ai.delay)}function le(Te){Te===void 0&&(Te=!1),A.style.pointerEvents=D.props.interactive&&!Te?"":"none",A.style.zIndex=""+D.props.zIndex}function be(Te,ot,pt){if(pt===void 0&&(pt=!0),H.forEach(function(mt){mt[Te]&&mt[Te].apply(mt,ot)}),pt){var me;(me=D.props)[Te].apply(me,ot)}}function Fe(){var Te=D.props.aria;if(Te.content){var ot="aria-"+Te.content,pt=A.id,me=iu(D.props.triggerTarget||t);me.forEach(function(mt){var Lt=mt.getAttribute(ot);if(D.state.isVisible)mt.setAttribute(ot,Lt?Lt+" "+pt:pt);else{var rt=Lt&&Lt.replace(pt,"").trim();rt?mt.setAttribute(ot,rt):mt.removeAttribute(ot)}})}}function $(){if(!(Z||!D.props.aria.expanded)){var Te=iu(D.props.triggerTarget||t);Te.forEach(function(ot){D.props.interactive?ot.setAttribute("aria-expanded",D.state.isVisible&&ot===te()?"true":"false"):ot.removeAttribute("aria-expanded")})}}function de(){ne().removeEventListener("mousemove",b),fm=fm.filter(function(Te){return Te!==b})}function ie(Te){if(!(Wi.isTouch&&(d||Te.type==="mousedown"))){var ot=Te.composedPath&&Te.composedPath()[0]||Te.target;if(!(D.props.interactive&&Kk(A,ot))){if(iu(D.props.triggerTarget||t).some(function(pt){return Kk(pt,ot)})){if(Wi.isTouch||D.state.isVisible&&D.props.trigger.indexOf("click")>=0)return}else be("onClickOutside",[D,Te]);D.props.hideOnClick===!0&&(D.clearDelayTimeouts(),D.hide(),l=!0,setTimeout(function(){l=!1}),D.state.isMounted||Me())}}}function he(){d=!0}function ke(){d=!1}function ze(){var Te=ne();Te.addEventListener("mousedown",ie,!0),Te.addEventListener("touchend",ie,El),Te.addEventListener("touchstart",ke,El),Te.addEventListener("touchmove",he,El)}function Me(){var Te=ne();Te.removeEventListener("mousedown",ie,!0),Te.removeEventListener("touchend",ie,El),Te.removeEventListener("touchstart",ke,El),Te.removeEventListener("touchmove",he,El)}function Ye(Te,ot){ut(Te,function(){!D.state.isVisible&&A.parentNode&&A.parentNode.contains(A)&&ot()})}function Re(Te,ot){ut(Te,ot)}function ut(Te,ot){var pt=xe().box;function me(mt){mt.target===pt&&(db(pt,"remove",me),ot())}if(Te===0)return ot();db(pt,"remove",m),db(pt,"add",me),m=me}function Ze(Te,ot,pt){pt===void 0&&(pt=!1);var me=iu(D.props.triggerTarget||t);me.forEach(function(mt){mt.addEventListener(Te,ot,pt),x.push({node:mt,eventType:Te,handler:ot,options:pt})})}function St(){ue()&&(Ze("touchstart",Ft,{passive:!0}),Ze("touchend",ee,{passive:!0})),yre(D.props.trigger).forEach(function(Te){if(Te!=="manual")switch(Ze(Te,Ft),Te){case"mouseenter":Ze("mouseleave",ee);break;case"focus":Ze(Ore?"focusout":"blur",Ve);break;case"focusin":Ze("focusout",Ve);break}})}function Nt(){x.forEach(function(Te){var ot=Te.node,pt=Te.eventType,me=Te.handler,mt=Te.options;ot.removeEventListener(pt,me,mt)}),x=[]}function Ft(Te){var ot,pt=!1;if(!(!D.state.isEnabled||qe(Te)||l)){var me=((ot=p)==null?void 0:ot.type)==="focus";p=Te,S=Te.currentTarget,$(),!D.state.isVisible&&wre(Te)&&fm.forEach(function(mt){return mt(Te)}),Te.type==="click"&&(D.props.trigger.indexOf("mouseenter")<0||a)&&D.props.hideOnClick!==!1&&D.state.isVisible?pt=!0:I(Te),Te.type==="click"&&(a=!pt),pt&&!me&&fe(Te)}}function nt(Te){var ot=Te.target,pt=te().contains(ot)||A.contains(ot);if(!(Te.type==="mousemove"&&pt)){var me=se().concat(A).map(function(mt){var Lt,rt=mt._tippy,Ae=(Lt=rt.popperInstance)==null?void 0:Lt.state;return Ae?{popperRect:mt.getBoundingClientRect(),popperState:Ae,props:n}:null}).filter(Boolean);jre(me,Te)&&(de(),fe(Te))}}function ee(Te){var ot=qe(Te)||D.props.trigger.indexOf("click")>=0&&a;if(!ot){if(D.props.interactive){D.hideWithInteractivity(Te);return}fe(Te)}}function Ve(Te){D.props.trigger.indexOf("focusin")<0&&Te.target!==te()||D.props.interactive&&Te.relatedTarget&&A.contains(Te.relatedTarget)||fe(Te)}function qe(Te){return Wi.isTouch?ue()!==Te.type.indexOf("touch")>=0:!1}function at(){bt();var Te=D.props,ot=Te.popperOptions,pt=Te.placement,me=Te.offset,mt=Te.getReferenceClientRect,Lt=Te.moveTransition,rt=oe()?K1(A).arrow:null,Ae=mt?{getBoundingClientRect:mt,contextElement:mt.contextElement||te()}:t,lt={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(kt){var tn=kt.state;if(oe()){var Nn=xe(),Q=Nn.box;["placement","reference-hidden","escaped"].forEach(function(ge){ge==="placement"?Q.setAttribute("data-placement",tn.placement):tn.attributes.popper["data-popper-"+ge]?Q.setAttribute("data-"+ge,""):Q.removeAttribute("data-"+ge)}),tn.attributes.popper={}}}},jt=[{name:"offset",options:{offset:me}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Lt}},lt];oe()&&rt&&jt.push({name:"arrow",options:{element:rt,padding:3}}),jt.push.apply(jt,ot?.modifiers||[]),D.popperInstance=pre(Ae,A,Object.assign({},ot,{placement:pt,onFirstUpdate:y,modifiers:jt}))}function bt(){D.popperInstance&&(D.popperInstance.destroy(),D.popperInstance=null)}function B(){var Te=D.props.appendTo,ot,pt=te();D.props.interactive&&Te===HR||Te==="parent"?ot=pt.parentNode:ot=qR(Te,[pt]),ot.contains(A)||ot.appendChild(A),D.state.isMounted=!0,at()}function se(){return Ag(A.querySelectorAll("[data-tippy-root]"))}function I(Te){D.clearDelayTimeouts(),Te&&be("onTrigger",[D,Te]),ze();var ot=W(!0),pt=ve(),me=pt[0],mt=pt[1];Wi.isTouch&&me==="hold"&&mt&&(ot=mt),ot?r=setTimeout(function(){D.show()},ot):D.show()}function fe(Te){if(D.clearDelayTimeouts(),be("onUntrigger",[D,Te]),!D.state.isVisible){Me();return}if(!(D.props.trigger.indexOf("mouseenter")>=0&&D.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(Te.type)>=0&&a)){var ot=W(!1);ot?s=setTimeout(function(){D.state.isVisible&&D.hide()},ot):i=requestAnimationFrame(function(){D.hide()})}}function we(){D.state.isEnabled=!0}function V(){D.hide(),D.state.isEnabled=!1}function U(){clearTimeout(r),clearTimeout(s),cancelAnimationFrame(i)}function Ce(Te){if(!D.state.isDestroyed){be("onBeforeUpdate",[D,Te]),Nt();var ot=D.props,pt=Wk(t,Object.assign({},ot,Hk(Te),{ignoreAttributes:!0}));D.props=pt,St(),ot.interactiveDebounce!==pt.interactiveDebounce&&(de(),b=Uk(nt,pt.interactiveDebounce)),ot.triggerTarget&&!pt.triggerTarget?iu(ot.triggerTarget).forEach(function(me){me.removeAttribute("aria-expanded")}):pt.triggerTarget&&t.removeAttribute("aria-expanded"),$(),le(),F&&F(ot,pt),D.popperInstance&&(at(),se().forEach(function(me){requestAnimationFrame(me._tippy.popperInstance.forceUpdate)})),be("onAfterUpdate",[D,Te])}}function et(Te){D.setProps({content:Te})}function ht(){var Te=D.state.isVisible,ot=D.state.isDestroyed,pt=!D.state.isEnabled,me=Wi.isTouch&&!D.props.touch,mt=cb(D.props.duration,0,Ai.duration);if(!(Te||ot||pt||me)&&!te().hasAttribute("disabled")&&(be("onShow",[D],!1),D.props.onShow(D)!==!1)){if(D.state.isVisible=!0,oe()&&(A.style.visibility="visible"),le(),ze(),D.state.isMounted||(A.style.transition="none"),oe()){var Lt=xe(),rt=Lt.box,Ae=Lt.content;ub([rt,Ae],0)}y=function(){var jt;if(!(!D.state.isVisible||f)){if(f=!0,A.offsetHeight,A.style.transition=D.props.moveTransition,oe()&&D.props.animation){var Et=xe(),kt=Et.box,tn=Et.content;ub([kt,tn],mt),qk([kt,tn],"visible")}Fe(),$(),Vk(fb,D),(jt=D.popperInstance)==null||jt.forceUpdate(),be("onMount",[D]),D.props.animation&&oe()&&Re(mt,function(){D.state.isShown=!0,be("onShown",[D])})}},B()}}function Jt(){var Te=!D.state.isVisible,ot=D.state.isDestroyed,pt=!D.state.isEnabled,me=cb(D.props.duration,1,Ai.duration);if(!(Te||ot||pt)&&(be("onHide",[D],!1),D.props.onHide(D)!==!1)){if(D.state.isVisible=!1,D.state.isShown=!1,f=!1,a=!1,oe()&&(A.style.visibility="hidden"),de(),Me(),le(!0),oe()){var mt=xe(),Lt=mt.box,rt=mt.content;D.props.animation&&(ub([Lt,rt],me),qk([Lt,rt],"hidden"))}Fe(),$(),D.props.animation?oe()&&Ye(me,D.unmount):D.unmount()}}function Pt(Te){ne().addEventListener("mousemove",b),Vk(fm,b),b(Te)}function an(){D.state.isVisible&&D.hide(),D.state.isMounted&&(bt(),se().forEach(function(Te){Te._tippy.unmount()}),A.parentNode&&A.parentNode.removeChild(A),fb=fb.filter(function(Te){return Te!==D}),D.state.isMounted=!1,be("onHidden",[D]))}function Qt(){D.state.isDestroyed||(D.clearDelayTimeouts(),D.unmount(),Nt(),delete t._tippy,D.state.isDestroyed=!0,be("onDestroy",[D]))}}function Lh(t,e){e===void 0&&(e={});var n=Ai.plugins.concat(e.plugins||[]);Are();var r=Object.assign({},e,{plugins:n}),s=Cre(t),i=s.reduce(function(a,l){var d=l&&Ire(l,r);return d&&a.push(d),a},[]);return Ky(t)?i[0]:i}Lh.defaultProps=Ai;Lh.setDefaultProps=_re;Lh.currentInput=Wi;Object.assign({},RR,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});Lh.setDefaultProps({render:WR});class Bre{constructor({editor:e,element:n,view:r,tippyOptions:s={},updateDelay:i=250,shouldShow:a}){this.preventHide=!1,this.shouldShow=({view:l,state:d,from:f,to:p})=>{const{doc:m,selection:y}=d,{empty:x}=y,b=!m.textBetween(f,p).length&&Z2(d.selection),S=this.element.contains(document.activeElement);return!(!(l.hasFocus()||S)||x||b||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:l})=>{var d;if(this.preventHide){this.preventHide=!1;return}l?.relatedTarget&&(!((d=this.element.parentNode)===null||d===void 0)&&d.contains(l.relatedTarget))||l?.relatedTarget!==this.editor.view.dom&&this.hide()},this.tippyBlurHandler=l=>{this.blurHandler({event:l})},this.handleDebouncedUpdate=(l,d)=>{const f=!d?.selection.eq(l.state.selection),p=!d?.doc.eq(l.state.doc);!f&&!p||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(l,f,p,d)},this.updateDelay))},this.updateHandler=(l,d,f,p)=>{var m,y,x;const{state:b,composing:S}=l,{selection:C}=b;if(S||!d&&!f)return;this.createTooltip();const{ranges:k}=C,M=Math.min(...k.map(A=>A.$from.pos)),D=Math.max(...k.map(A=>A.$to.pos));if(!((m=this.shouldShow)===null||m===void 0?void 0:m.call(this,{editor:this.editor,element:this.element,view:l,state:b,oldState:p,from:M,to:D}))){this.hide();return}(y=this.tippy)===null||y===void 0||y.setProps({getReferenceClientRect:((x=this.tippyOptions)===null||x===void 0?void 0:x.getReferenceClientRect)||(()=>{if(kR(b.selection)){let A=l.nodeDOM(M);if(A){const F=A.dataset.nodeViewWrapper?A:A.querySelector("[data-node-view-wrapper]");if(F&&(A=F.firstChild),A)return A.getBoundingClientRect()}}return Mte(l,M,D)})}),this.show()},this.editor=e,this.element=n,this.view=r,this.updateDelay=i,a&&(this.shouldShow=a),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=s,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,n=!!e.parentElement;this.element.tabIndex=0,!(this.tippy||!n)&&(this.tippy=Lh(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,n){const{state:r}=e,s=r.selection.from!==r.selection.to;if(this.updateDelay>0&&s){this.handleDebouncedUpdate(e,n);return}const i=!n?.selection.eq(e.state.selection),a=!n?.doc.eq(e.state.doc);this.updateHandler(e,i,a,n)}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,n;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(n=this.tippy)===null||n===void 0||n.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const GR=t=>new Nr({key:typeof t.pluginKey=="string"?new Wr(t.pluginKey):t.pluginKey,view:e=>new Bre({view:e,...t})});Yr.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[GR({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});function Fre(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var XR={exports:{}},hb={};var Jk;function $re(){if(Jk)return hb;Jk=1;var t=Vt;function e(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,i=t.useLayoutEffect,a=t.useDebugValue;function l(m,y){var x=y(),b=r({inst:{value:x,getSnapshot:y}}),S=b[0].inst,C=b[1];return i(function(){S.value=x,S.getSnapshot=y,d(S)&&C({inst:S})},[m,x,y]),s(function(){return d(S)&&C({inst:S}),m(function(){d(S)&&C({inst:S})})},[m]),a(x),x}function d(m){var y=m.getSnapshot;m=m.value;try{var x=y();return!n(m,x)}catch{return!0}}function f(m,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return hb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,hb}XR.exports=$re();var fS=XR.exports;const Ure=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},Vre=({contentComponent:t})=>{const e=fS.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return Vt.createElement(Vt.Fragment,null,Object.values(e))};function Hre(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:M5.createPortal(r.reactElement,r.element,n)},t.forEach(s=>s())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(s=>s())}}}class qre extends Vt.Component{constructor(e){var n;super(e),this.editorContentRef=Vt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=Hre(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...r}=this.props;return Vt.createElement(Vt.Fragment,null,Vt.createElement("div",{ref:Ure(n,this.editorContentRef),...r}),e?.contentComponent&&Vt.createElement(Vre,{contentComponent:e.contentComponent}))}}const Kre=j.forwardRef((t,e)=>{const n=Vt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Vt.createElement(qre,{key:n,innerRef:e,...t})}),Yre=Vt.memo(Kre);var Wre=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;for(s of e.entries())if(!t(s[1],n.get(s[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(e[s]!==n[s])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var a=i[s];if(!(a==="_owner"&&e.$$typeof)&&!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n},Gre=Fre(Wre),JR={exports:{}},pb={};var Qk;function Xre(){if(Qk)return pb;Qk=1;var t=Vt,e=fS;function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,i=t.useRef,a=t.useEffect,l=t.useMemo,d=t.useDebugValue;return pb.useSyncExternalStoreWithSelector=function(f,p,m,y,x){var b=i(null);if(b.current===null){var S={hasValue:!1,value:null};b.current=S}else S=b.current;b=l(function(){function N(A){if(!k){if(k=!0,M=A,A=y(A),x!==void 0&&S.hasValue){var F=S.value;if(x(F,A))return D=F}return D=A}if(F=D,r(M,A))return F;var H=y(A);return x!==void 0&&x(F,H)?F:(M=A,D=H)}var k=!1,M,D,E=m===void 0?null:m;return[function(){return N(p())},E===null?void 0:function(){return N(E())}]},[p,m,y,x]);var C=s(f,b[0],b[1]);return a(function(){S.hasValue=!0,S.value=C},[C]),d(C),C},pb}JR.exports=Xre();var Jre=JR.exports;const Qre=typeof window<"u"?j.useLayoutEffect:j.useEffect;class Zre{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(s=>s())},r=this.editor;return r.on("transaction",n),()=>{r.off("transaction",n)}}}}function ese(t){var e;const[n]=j.useState(()=>new Zre(t.editor)),r=Jre.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!==null&&e!==void 0?e:Gre);return Qre(()=>n.watch(t.editor),[t.editor,n]),j.useDebugValue(r),r}const tse=!1,Y1=typeof window>"u",nse=Y1||!!(typeof window<"u"&&window.next);class hS{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Y1||nse?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onBeforeCreate)===null||i===void 0?void 0:i.call(s,...r)},onBlur:(...r)=>{var s,i;return(i=(s=this.options.current).onBlur)===null||i===void 0?void 0:i.call(s,...r)},onCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onCreate)===null||i===void 0?void 0:i.call(s,...r)},onDestroy:(...r)=>{var s,i;return(i=(s=this.options.current).onDestroy)===null||i===void 0?void 0:i.call(s,...r)},onFocus:(...r)=>{var s,i;return(i=(s=this.options.current).onFocus)===null||i===void 0?void 0:i.call(s,...r)},onSelectionUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onSelectionUpdate)===null||i===void 0?void 0:i.call(s,...r)},onTransaction:(...r)=>{var s,i;return(i=(s=this.options.current).onTransaction)===null||i===void 0?void 0:i.call(s,...r)},onUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onUpdate)===null||i===void 0?void 0:i.call(s,...r)},onContentError:(...r)=>{var s,i;return(i=(s=this.options.current).onContentError)===null||i===void 0?void 0:i.call(s,...r)},onDrop:(...r)=>{var s,i;return(i=(s=this.options.current).onDrop)===null||i===void 0?void 0:i.call(s,...r)},onPaste:(...r)=>{var s,i;return(i=(s=this.options.current).onPaste)===null||i===void 0?void 0:i.call(s,...r)}};return new lne(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((s,i)=>{var a;return s===((a=n.extensions)===null||a===void 0?void 0:a[i])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?hS.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,s)=>r===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function rse(t={},e=[]){const n=j.useRef(t);n.current=t;const[r]=j.useState(()=>new hS(n)),s=fS.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return j.useDebugValue(s),j.useEffect(r.onRender(e)),ese({editor:s,selector:({transactionNumber:i})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&i===0?0:i+1}),s}const pS=j.createContext({editor:null}),sse=pS.Consumer,mS=()=>j.useContext(pS);function ise({children:t,slotAfter:e,slotBefore:n,editorContainerProps:r={},...s}){const i=rse(s);return i?Vt.createElement(pS.Provider,{value:{editor:i}},n,Vt.createElement(sse,null,({editor:a})=>Vt.createElement(Yre,{editor:a,...r})),t,e):null}const ase=t=>{const[e,n]=j.useState(null),{editor:r}=mS();return j.useEffect(()=>{var s;if(!e||!((s=t.editor)===null||s===void 0)&&s.isDestroyed||r?.isDestroyed)return;const{pluginKey:i="bubbleMenu",editor:a,tippyOptions:l={},updateDelay:d,shouldShow:f=null}=t,p=a||r;if(!p){console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");return}const m=GR({updateDelay:d,editor:p,element:e,pluginKey:i,shouldShow:f,tippyOptions:l});return p.registerPlugin(m),()=>{p.unregisterPlugin(i)}},[t.editor,r,e]),Vt.createElement("div",{ref:n,className:t.className,style:{visibility:"hidden"}},t.children)},ose=j.createContext({onDragStart:void 0}),lse=()=>j.useContext(ose);Vt.forwardRef((t,e)=>{const{onDragStart:n}=lse(),r=t.as||"div";return Vt.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});const cse=/^\s*>\s$/,use=cr.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",Gn(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ah({find:cse,type:this.type})]}}),dse=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,fse=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,hse=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,pse=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,mse=Mi.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",Gn(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Au({find:dse,type:this.type}),Au({find:hse,type:this.type})]},addPasteRules(){return[lc({find:fse,type:this.type}),lc({find:pse,type:this.type})]}}),gse="listItem",Zk="textStyle",e3=/^\s*([-+*])\s$/,yse=cr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Gn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(gse,this.editor.getAttributes(Zk)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=ah({find:e3,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ah({find:e3,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Zk),editor:this.editor})),[t]}}),xse=/(^|[^`])`([^`]+)`(?!`)/,vse=/(^|[^`])`([^`]+)`(?!`)/g,bse=Mi.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Gn(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Au({find:xse,type:this.type})]},addPasteRules(){return[lc({find:vse,type:this.type})]}}),wse=/^```([a-z]+)?[\s\n]$/,Sse=/^~~~([a-z]+)?[\s\n]$/,Cse=cr.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,i=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Gn(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!i||!a?!1:t.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:s,empty:i}=n;if(!i||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const l=s.after();return l===void 0?!1:r.nodeAt(l)?t.commands.command(({tr:f})=>(f.setSelection(Yt.near(r.resolve(l))),!0)):t.commands.exitCode()}}},addInputRules(){return[U1({find:wse,type:this.type,getAttributes:t=>({language:t[1]})}),U1({find:Sse,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Nr({key:new Wr("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,i=s?.mode;if(!n||!i)return!1;const{tr:a,schema:l}=t.state,d=l.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:i},d)),a.selection.$from.parent.type!==this.type&&a.setSelection(Ht.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),Nse=cr.create({name:"doc",topNode:!0,content:"block+"});function jse(t={}){return new Nr({view(e){return new Tse(e,t)}})}class Tse{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let i=a=>{this[s](a)};return e.dom.addEventListener(s,i),{name:s,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,s=this.editorView.dom,i=s.getBoundingClientRect(),a=i.width/s.offsetWidth,l=i.height/s.offsetHeight;if(n){let m=e.nodeBefore,y=e.nodeAfter;if(m||y){let x=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(x){let b=x.getBoundingClientRect(),S=m?b.bottom:b.top;m&&y&&(S=(S+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let C=this.width/2*l;r={left:b.left,right:b.right,top:S-C,bottom:S+C}}}}if(!r){let m=this.editorView.coordsAtPos(this.cursorPos),y=this.width/2*a;r={left:m.left-y,right:m.left+y,top:m.top,bottom:m.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let f,p;if(!d||d==document.body&&getComputedStyle(d).position=="static")f=-pageXOffset,p=-pageYOffset;else{let m=d.getBoundingClientRect(),y=m.width/d.offsetWidth,x=m.height/d.offsetHeight;f=m.left-d.scrollLeft*y,p=m.top-d.scrollTop*x}this.element.style.left=(r.left-f)/a+"px",this.element.style.top=(r.top-p)/l+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=r&&r.type.spec.disableDropCursor,i=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!i){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=x6(this.editorView.state.doc,a,this.editorView.dragging.slice);l!=null&&(a=l)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const Ese=Yr.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[jse(this.options)]}});class or extends Yt{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return or.valid(r)?new or(r):Yt.near(r)}content(){return xt.empty}eq(e){return e instanceof or&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new or(e.resolve(n.pos))}getBookmark(){return new gS(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!Ase(e)||!kse(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&or.valid(e))return e;let s=e.pos,i=null;for(let a=e.depth;;a--){let l=e.node(a);if(n>0?e.indexAfter(a)<l.childCount:e.index(a)>0){i=l.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;s+=n;let d=e.doc.resolve(s);if(or.valid(d))return d}for(;;){let a=n>0?i.firstChild:i.lastChild;if(!a){if(i.isAtom&&!i.isText&&!Ut.isSelectable(i)){e=e.doc.resolve(s+i.nodeSize*n),r=!1;continue e}break}i=a,s+=n;let l=e.doc.resolve(s);if(or.valid(l))return l}return null}}}or.prototype.visible=!1;or.findFrom=or.findGapCursorFrom;Yt.jsonID("gapcursor",or);class gS{constructor(e){this.pos=e}map(e){return new gS(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return or.valid(n)?new or(n):Yt.near(n)}}function Ase(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function kse(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function Ose(){return new Nr({props:{decorations:_se,createSelectionBetween(t,e,n){return e.pos==n.pos&&or.valid(n)?new or(n):null},handleClick:Dse,handleKeyDown:Mse,handleDOMEvents:{beforeinput:Rse}}})}const Mse=H2({ArrowLeft:hm("horiz",-1),ArrowRight:hm("horiz",1),ArrowUp:hm("vert",-1),ArrowDown:hm("vert",1)});function hm(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,i){let a=r.selection,l=e>0?a.$to:a.$from,d=a.empty;if(a instanceof Ht){if(!i.endOfTextblock(n)||l.depth==0)return!1;d=!1,l=r.doc.resolve(e>0?l.after():l.before())}let f=or.findGapCursorFrom(l,e,d);return f?(s&&s(r.tr.setSelection(new or(f))),!0):!1}}function Dse(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!or.valid(r))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&Ut.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new or(r))),!0)}function Rse(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof or))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let s=We.empty;for(let a=r.length-1;a>=0;a--)s=We.from(r[a].createAndFill(null,s));let i=t.state.tr.replace(n.pos,n.pos,new xt(s,0,0));return i.setSelection(Ht.near(i.doc.resolve(n.pos+1))),t.dispatch(i),!1}function _se(t){if(!(t.selection instanceof or))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",ar.create(t.doc,[ds.widget(t.selection.head,e,{key:"gapcursor"})])}const Lse=Yr.create({name:"gapCursor",addProseMirrorPlugins(){return[Ose()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=cn(_t(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),Pse=cr.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Gn(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:i}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:l}=r.extensionManager,d=i||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:f,dispatch:p})=>{if(p&&d&&a){const m=d.filter(y=>l.includes(y.type.name));f.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),QR=cr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Gn(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>U1({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var kg=200,Ir=function(){};Ir.prototype.append=function(e){return e.length?(e=Ir.from(e),!this.length&&e||e.length<kg&&this.leafAppend(e)||this.length<kg&&e.leafPrepend(this)||this.appendInner(e)):this};Ir.prototype.prepend=function(e){return e.length?Ir.from(e).append(this):this};Ir.prototype.appendInner=function(e){return new zse(this,e)};Ir.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Ir.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Ir.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ir.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Ir.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(i,a){return s.push(e(i,a))},n,r),s};Ir.from=function(e){return e instanceof Ir?e:e&&e.length?new ZR(e):Ir.empty};var ZR=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new e(this.values.slice(s,i))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,i,a,l){for(var d=i;d<a;d++)if(s(this.values[d],l+d)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,a,l){for(var d=i-1;d>=a;d--)if(s(this.values[d],l+d)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=kg)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=kg)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Ir);Ir.empty=new ZR([]);var zse=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,i,a){var l=this.left.length;if(s<l&&this.left.forEachInner(r,s,Math.min(i,l),a)===!1||i>l&&this.right.forEachInner(r,Math.max(s-l,0),Math.min(this.length,i)-l,a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,i,a){var l=this.left.length;if(s>l&&this.right.forEachInvertedInner(r,s-l,Math.max(i,l)-l,a+l)===!1||i<l&&this.left.forEachInvertedInner(r,Math.min(s,l),i,a)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(r,s):r>=i?this.right.slice(r-i,s-i):this.left.slice(r,i).append(this.right.slice(0,s-i))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Ir);const Ise=500;class Ni{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,i;n&&(s=this.remapping(r,this.items.length),i=s.maps.length);let a=e.tr,l,d,f=[],p=[];return this.items.forEach((m,y)=>{if(!m.step){s||(s=this.remapping(r,y+1),i=s.maps.length),i--,p.push(m);return}if(s){p.push(new Vi(m.map));let x=m.step.map(s.slice(i)),b;x&&a.maybeStep(x).doc&&(b=a.mapping.maps[a.mapping.maps.length-1],f.push(new Vi(b,void 0,void 0,f.length+p.length))),i--,b&&s.appendMap(b,i)}else a.maybeStep(m.step);if(m.selection)return l=s?m.selection.map(s.slice(i)):m.selection,d=new Ni(this.items.slice(0,r).append(p.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:a,selection:l}}addTransform(e,n,r,s){let i=[],a=this.eventCount,l=this.items,d=!s&&l.length?l.get(l.length-1):null;for(let p=0;p<e.steps.length;p++){let m=e.steps[p].invert(e.docs[p]),y=new Vi(e.mapping.maps[p],m,n),x;(x=d&&d.merge(y))&&(y=x,p?i.pop():l=l.slice(0,l.length-1)),i.push(y),n&&(a++,n=void 0),s||(d=y)}let f=a-r.depth;return f>Fse&&(l=Bse(l,f),a-=f),new Ni(l.append(i),a)}remapping(e,n){let r=new Zf;return this.items.forEach((s,i)=>{let a=s.mirrorOffset!=null&&i-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,a)},e,n),r}addMaps(e){return this.eventCount==0?this:new Ni(this.items.append(e.map(n=>new Vi(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),i=e.mapping,a=e.steps.length,l=this.eventCount;this.items.forEach(y=>{y.selection&&l--},s);let d=n;this.items.forEach(y=>{let x=i.getMirror(--d);if(x==null)return;a=Math.min(a,x);let b=i.maps[x];if(y.step){let S=e.steps[x].invert(e.docs[x]),C=y.selection&&y.selection.map(i.slice(d+1,x));C&&l++,r.push(new Vi(b,S,C))}else r.push(new Vi(b))},s);let f=[];for(let y=n;y<a;y++)f.push(new Vi(i.maps[y]));let p=this.items.slice(0,s).append(f).append(r),m=new Ni(p,l);return m.emptyItemCount()>Ise&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,s=[],i=0;return this.items.forEach((a,l)=>{if(l>=e)s.push(a),a.selection&&i++;else if(a.step){let d=a.step.map(n.slice(r)),f=d&&d.getMap();if(r--,f&&n.appendMap(f,r),d){let p=a.selection&&a.selection.map(n.slice(r));p&&i++;let m=new Vi(f.invert(),d,p),y,x=s.length-1;(y=s.length&&s[x].merge(m))?s[x]=y:s.push(m)}}else a.map&&r--},this.items.length,0),new Ni(Ir.from(s.reverse()),i)}}Ni.empty=new Ni(Ir.empty,0);function Bse(t,e){let n;return t.forEach((r,s)=>{if(r.selection&&e--==0)return n=s,!1}),t.slice(n)}class Vi{constructor(e,n,r,s){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Vi(n.getMap().invert(),n,this.selection)}}}class Co{constructor(e,n,r,s,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=i}}const Fse=20;function $se(t,e,n,r){let s=n.getMeta(Ql),i;if(s)return s.historyState;n.getMeta(Hse)&&(t=new Co(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(Ql))return a.getMeta(Ql).redo?new Co(t.done.addTransform(n,void 0,r,Vm(e)),t.undone,t3(n.mapping.maps),t.prevTime,t.prevComposition):new Co(t.done,t.undone.addTransform(n,void 0,r,Vm(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),d=t.prevTime==0||!a&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-r.newGroupDelay||!Use(n,t.prevRanges)),f=a?mb(t.prevRanges,n.mapping):t3(n.mapping.maps);return new Co(t.done.addTransform(n,d?e.selection.getBookmark():void 0,r,Vm(e)),Ni.empty,f,n.time,l??t.prevComposition)}else return(i=n.getMeta("rebased"))?new Co(t.done.rebased(n,i),t.undone.rebased(n,i),mb(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Co(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),mb(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function Use(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,s)=>{for(let i=0;i<e.length;i+=2)r<=e[i+1]&&s>=e[i]&&(n=!0)}),n}function t3(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,s,i,a)=>e.push(i,a));return e}function mb(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let s=e.map(t[r],1),i=e.map(t[r+1],-1);s<=i&&n.push(s,i)}return n}function Vse(t,e,n){let r=Vm(e),s=Ql.get(e).spec.config,i=(n?t.undone:t.done).popEvent(e,r);if(!i)return null;let a=i.selection.resolve(i.transform.doc),l=(n?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),s,r),d=new Co(n?l:i.remaining,n?i.remaining:l,null,0,-1);return i.transform.setSelection(a).setMeta(Ql,{redo:n,historyState:d})}let gb=!1,n3=null;function Vm(t){let e=t.plugins;if(n3!=e){gb=!1,n3=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){gb=!0;break}}return gb}const Ql=new Wr("history"),Hse=new Wr("closeHistory");function qse(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Nr({key:Ql,state:{init(){return new Co(Ni.empty,Ni.empty,null,0,-1)},apply(e,n,r){return $se(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,s=r=="historyUndo"?t_:r=="historyRedo"?n_:null;return s?(n.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function e_(t,e){return(n,r)=>{let s=Ql.getState(n);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(r){let i=Vse(s,n,t);i&&r(e?i.scrollIntoView():i)}return!0}}const t_=e_(!1,!0),n_=e_(!0,!0),Kse=Yr.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>t_(t,e),redo:()=>({state:t,dispatch:e})=>n_(t,e)}},addProseMirrorPlugins(){return[qse(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Yse=cr.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Gn(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!cne(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$from:r,$to:s}=n,i=t();return r.parentOffset===0?i.insertContentAt({from:Math.max(r.pos-1,0),to:s.pos},{type:this.name}):kR(n)?i.insertContentAt(s.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({tr:a,dispatch:l})=>{var d;if(l){const{$to:f}=a.selection,p=f.end();if(f.nodeAfter)f.nodeAfter.isTextblock?a.setSelection(Ht.create(a.doc,f.pos+1)):f.nodeAfter.isBlock?a.setSelection(Ut.create(a.doc,f.pos)):a.setSelection(Ht.create(a.doc,f.pos));else{const m=(d=f.parent.type.contentMatch.defaultType)===null||d===void 0?void 0:d.create();m&&(a.insert(p,m),a.setSelection(Ht.create(a.doc,p+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[OR({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),Wse=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Gse=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Xse=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Jse=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Qse=Mi.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Gn(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Au({find:Wse,type:this.type}),Au({find:Xse,type:this.type})]},addPasteRules(){return[lc({find:Gse,type:this.type}),lc({find:Jse,type:this.type})]}}),Zse=cr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Gn(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),eie="listItem",r3="textStyle",s3=/^(\d+)\.\s$/,tie=cr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Gn(this.options.HTMLAttributes,n),0]:["ol",Gn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(eie,this.editor.getAttributes(r3)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=ah({find:s3,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ah({find:s3,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(r3)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),nie=cr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Gn(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),rie=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,sie=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,iie=Mi.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Gn(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Au({find:rie,type:this.type})]},addPasteRules(){return[lc({find:sie,type:this.type})]}}),aie=cr.create({name:"text",group:"inline"}),oie=Yr.create({name:"starterKit",addExtensions(){const t=[];return this.options.bold!==!1&&t.push(mse.configure(this.options.bold)),this.options.blockquote!==!1&&t.push(use.configure(this.options.blockquote)),this.options.bulletList!==!1&&t.push(yse.configure(this.options.bulletList)),this.options.code!==!1&&t.push(bse.configure(this.options.code)),this.options.codeBlock!==!1&&t.push(Cse.configure(this.options.codeBlock)),this.options.document!==!1&&t.push(Nse.configure(this.options.document)),this.options.dropcursor!==!1&&t.push(Ese.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&t.push(Lse.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&t.push(Pse.configure(this.options.hardBreak)),this.options.heading!==!1&&t.push(QR.configure(this.options.heading)),this.options.history!==!1&&t.push(Kse.configure(this.options.history)),this.options.horizontalRule!==!1&&t.push(Yse.configure(this.options.horizontalRule)),this.options.italic!==!1&&t.push(Qse.configure(this.options.italic)),this.options.listItem!==!1&&t.push(Zse.configure(this.options.listItem)),this.options.orderedList!==!1&&t.push(tie.configure(this.options.orderedList)),this.options.paragraph!==!1&&t.push(nie.configure(this.options.paragraph)),this.options.strike!==!1&&t.push(iie.configure(this.options.strike)),this.options.text!==!1&&t.push(aie.configure(this.options.text)),t}}),lie=Yr.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),cie=Mi.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Gn(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),uie=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,die=cr.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",Gn(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[OR({find:uie,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),fie="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",hie="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",W1="numeric",G1="ascii",X1="alpha",Af="asciinumeric",uf="alphanumeric",J1="domain",r_="emoji",pie="scheme",mie="slashscheme",yb="whitespace";function gie(t,e){return t in e||(e[t]=[]),e[t]}function Bl(t,e,n){e[W1]&&(e[Af]=!0,e[uf]=!0),e[G1]&&(e[Af]=!0,e[X1]=!0),e[Af]&&(e[uf]=!0),e[X1]&&(e[uf]=!0),e[uf]&&(e[J1]=!0),e[r_]&&(e[J1]=!0);for(const r in e){const s=gie(r,n);s.indexOf(t)<0&&s.push(t)}}function yie(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Cs(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Cs.groups={};Cs.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],i=e.jr[r][1];if(i&&s.test(t))return i}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,r)},tr(t,e,n,r){r=r||Cs.groups;let s;return e&&e.j?s=e:(s=new Cs(e),n&&r&&Bl(e,n,r)),this.jr.push([t,s]),s},ts(t,e,n,r){let s=this;const i=t.length;if(!i)return s;for(let a=0;a<i-1;a++)s=s.tt(t[a]);return s.tt(t[i-1],e,n,r)},tt(t,e,n,r){r=r||Cs.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const i=e;let a,l=s.go(t);if(l?(a=new Cs,Object.assign(a.j,l.j),a.jr.push.apply(a.jr,l.jr),a.jd=l.jd,a.t=l.t):a=new Cs,i){if(r)if(a.t&&typeof a.t=="string"){const d=Object.assign(yie(a.t,r),n);Bl(i,d,r)}else n&&Bl(i,n,r);a.t=i}return s.j[t]=a,a}};const ln=(t,e,n,r,s)=>t.ta(e,n,r,s),sr=(t,e,n,r,s)=>t.tr(e,n,r,s),i3=(t,e,n,r,s)=>t.ts(e,n,r,s),it=(t,e,n,r,s)=>t.tt(e,n,r,s),Ra="WORD",Q1="UWORD",s_="ASCIINUMERICAL",i_="ALPHANUMERICAL",ch="LOCALHOST",Z1="TLD",ew="UTLD",Hm="SCHEME",au="SLASH_SCHEME",yS="NUM",tw="WS",xS="NL",kf="OPENBRACE",Of="CLOSEBRACE",Og="OPENBRACKET",Mg="CLOSEBRACKET",Dg="OPENPAREN",Rg="CLOSEPAREN",_g="OPENANGLEBRACKET",Lg="CLOSEANGLEBRACKET",Pg="FULLWIDTHLEFTPAREN",zg="FULLWIDTHRIGHTPAREN",Ig="LEFTCORNERBRACKET",Bg="RIGHTCORNERBRACKET",Fg="LEFTWHITECORNERBRACKET",$g="RIGHTWHITECORNERBRACKET",Ug="FULLWIDTHLESSTHAN",Vg="FULLWIDTHGREATERTHAN",Hg="AMPERSAND",qg="APOSTROPHE",Kg="ASTERISK",No="AT",Yg="BACKSLASH",Wg="BACKTICK",Gg="CARET",ko="COLON",vS="COMMA",Xg="DOLLAR",Hi="DOT",Jg="EQUALS",bS="EXCLAMATION",ai="HYPHEN",Mf="PERCENT",Qg="PIPE",Zg="PLUS",ey="POUND",Df="QUERY",wS="QUOTE",a_="FULLWIDTHMIDDLEDOT",SS="SEMI",qi="SLASH",Rf="TILDE",ty="UNDERSCORE",o_="EMOJI",ny="SYM";var l_=Object.freeze({__proto__:null,ALPHANUMERICAL:i_,AMPERSAND:Hg,APOSTROPHE:qg,ASCIINUMERICAL:s_,ASTERISK:Kg,AT:No,BACKSLASH:Yg,BACKTICK:Wg,CARET:Gg,CLOSEANGLEBRACKET:Lg,CLOSEBRACE:Of,CLOSEBRACKET:Mg,CLOSEPAREN:Rg,COLON:ko,COMMA:vS,DOLLAR:Xg,DOT:Hi,EMOJI:o_,EQUALS:Jg,EXCLAMATION:bS,FULLWIDTHGREATERTHAN:Vg,FULLWIDTHLEFTPAREN:Pg,FULLWIDTHLESSTHAN:Ug,FULLWIDTHMIDDLEDOT:a_,FULLWIDTHRIGHTPAREN:zg,HYPHEN:ai,LEFTCORNERBRACKET:Ig,LEFTWHITECORNERBRACKET:Fg,LOCALHOST:ch,NL:xS,NUM:yS,OPENANGLEBRACKET:_g,OPENBRACE:kf,OPENBRACKET:Og,OPENPAREN:Dg,PERCENT:Mf,PIPE:Qg,PLUS:Zg,POUND:ey,QUERY:Df,QUOTE:wS,RIGHTCORNERBRACKET:Bg,RIGHTWHITECORNERBRACKET:$g,SCHEME:Hm,SEMI:SS,SLASH:qi,SLASH_SCHEME:au,SYM:ny,TILDE:Rf,TLD:Z1,UNDERSCORE:ty,UTLD:ew,UWORD:Q1,WORD:Ra,WS:tw});const Oa=/[a-z]/,ef=new RegExp("\\p{L}","u"),xb=new RegExp("\\p{Emoji}","u"),Ma=/\d/,vb=/\s/,a3="\r",bb=`
`,xie="",vie="",wb="";let pm=null,mm=null;function bie(t=[]){const e={};Cs.groups=e;const n=new Cs;pm==null&&(pm=o3(fie)),mm==null&&(mm=o3(hie)),it(n,"'",qg),it(n,"{",kf),it(n,"}",Of),it(n,"[",Og),it(n,"]",Mg),it(n,"(",Dg),it(n,")",Rg),it(n,"<",_g),it(n,">",Lg),it(n,"",Pg),it(n,"",zg),it(n,"",Ig),it(n,"",Bg),it(n,"",Fg),it(n,"",$g),it(n,"",Ug),it(n,"",Vg),it(n,"&",Hg),it(n,"*",Kg),it(n,"@",No),it(n,"`",Wg),it(n,"^",Gg),it(n,":",ko),it(n,",",vS),it(n,"$",Xg),it(n,".",Hi),it(n,"=",Jg),it(n,"!",bS),it(n,"-",ai),it(n,"%",Mf),it(n,"|",Qg),it(n,"+",Zg),it(n,"#",ey),it(n,"?",Df),it(n,'"',wS),it(n,"/",qi),it(n,";",SS),it(n,"~",Rf),it(n,"_",ty),it(n,"\\",Yg),it(n,"",a_);const r=sr(n,Ma,yS,{[W1]:!0});sr(r,Ma,r);const s=sr(r,Oa,s_,{[Af]:!0}),i=sr(r,ef,i_,{[uf]:!0}),a=sr(n,Oa,Ra,{[G1]:!0});sr(a,Ma,s),sr(a,Oa,a),sr(s,Ma,s),sr(s,Oa,s);const l=sr(n,ef,Q1,{[X1]:!0});sr(l,Oa),sr(l,Ma,i),sr(l,ef,l),sr(i,Ma,i),sr(i,Oa),sr(i,ef,i);const d=it(n,bb,xS,{[yb]:!0}),f=it(n,a3,tw,{[yb]:!0}),p=sr(n,vb,tw,{[yb]:!0});it(n,wb,p),it(f,bb,d),it(f,wb,p),sr(f,vb,p),it(p,a3),it(p,bb),sr(p,vb,p),it(p,wb,p);const m=sr(n,xb,o_,{[r_]:!0});it(m,"#"),sr(m,xb,m),it(m,xie,m);const y=it(m,vie);it(y,"#"),sr(y,xb,m);const x=[[Oa,a],[Ma,s]],b=[[Oa,null],[ef,l],[Ma,i]];for(let S=0;S<pm.length;S++)xo(n,pm[S],Z1,Ra,x);for(let S=0;S<mm.length;S++)xo(n,mm[S],ew,Q1,b);Bl(Z1,{tld:!0,ascii:!0},e),Bl(ew,{utld:!0,alpha:!0},e),xo(n,"file",Hm,Ra,x),xo(n,"mailto",Hm,Ra,x),xo(n,"http",au,Ra,x),xo(n,"https",au,Ra,x),xo(n,"ftp",au,Ra,x),xo(n,"ftps",au,Ra,x),Bl(Hm,{scheme:!0,ascii:!0},e),Bl(au,{slashscheme:!0,ascii:!0},e),t=t.sort((S,C)=>S[0]>C[0]?1:-1);for(let S=0;S<t.length;S++){const C=t[S][0],k=t[S][1]?{[pie]:!0}:{[mie]:!0};C.indexOf("-")>=0?k[J1]=!0:Oa.test(C)?Ma.test(C)?k[Af]=!0:k[G1]=!0:k[W1]=!0,i3(n,C,C,k)}return i3(n,"localhost",ch,{ascii:!0}),n.jd=new Cs(ny),{start:n,tokens:Object.assign({groups:e},l_)}}function c_(t,e){const n=wie(e.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,s=[];let i=0,a=0;for(;a<r;){let l=t,d=null,f=0,p=null,m=-1,y=-1;for(;a<r&&(d=l.go(n[a]));)l=d,l.accepts()?(m=0,y=0,p=l):m>=0&&(m+=n[a].length,y++),f+=n[a].length,i+=n[a].length,a++;i-=m,a-=y,f-=m,s.push({t:p.t,v:e.slice(i-f,i),s:i-f,e:i})}return s}function wie(t){const e=[],n=t.length;let r=0;for(;r<n;){let s=t.charCodeAt(r),i,a=s<55296||s>56319||r+1===n||(i=t.charCodeAt(r+1))<56320||i>57343?t[r]:t.slice(r,r+2);e.push(a),r+=a.length}return e}function xo(t,e,n,r,s){let i;const a=e.length;for(let l=0;l<a-1;l++){const d=e[l];t.j[d]?i=t.j[d]:(i=new Cs(r),i.jr=s.slice(),t.j[d]=i),t=i}return i=new Cs(n),i.jr=s.slice(),t.j[e[a-1]]=i,i}function o3(t){const e=[],n=[];let r=0,s="0123456789";for(;r<t.length;){let i=0;for(;s.indexOf(t[r+i])>=0;)i++;if(i>0){e.push(n.join(""));for(let a=parseInt(t.substring(r,r+i),10);a>0;a--)n.pop();r+=i}else n.push(t[r]),r++}return e}const uh={defaultProtocol:"http",events:null,format:l3,formatHref:l3,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function CS(t,e=null){let n=Object.assign({},uh);t&&(n=Object.assign(n,t instanceof CS?t.o:t));const r=n.ignoreTags,s=[];for(let i=0;i<r.length;i++)s.push(r[i].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}CS.prototype={o:uh,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:uh[t],typeof s=="function"&&r&&(s=s(e,n))):typeof s=="function"&&r&&(s=s(e,n.t,n)),s)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function l3(t){return t}function u_(t,e){this.t="token",this.v=t,this.tk=e}u_.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=uh.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),s=t.get("tagName",n,e),i=this.toFormattedString(t),a={},l=t.get("className",n,e),d=t.get("target",n,e),f=t.get("rel",n,e),p=t.getObj("attributes",n,e),m=t.getObj("events",n,e);return a.href=r,l&&(a.class=l),d&&(a.target=d),f&&(a.rel=f),p&&Object.assign(a,p),{tagName:s,attributes:a,content:i,eventListeners:m}}};function Yy(t,e){class n extends u_{constructor(s,i){super(s,i),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const c3=Yy("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),u3=Yy("text"),Sie=Yy("nl"),gm=Yy("url",{isLink:!0,toHref(t=uh.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==ch&&t[1].t===ko}}),si=t=>new Cs(t);function Cie({groups:t}){const e=t.domain.concat([Hg,Kg,No,Yg,Wg,Gg,Xg,Jg,ai,yS,Mf,Qg,Zg,ey,qi,ny,Rf,ty]),n=[qg,ko,vS,Hi,bS,Mf,Df,wS,SS,_g,Lg,kf,Of,Mg,Og,Dg,Rg,Pg,zg,Ig,Bg,Fg,$g,Ug,Vg],r=[Hg,qg,Kg,Yg,Wg,Gg,Xg,Jg,ai,kf,Of,Mf,Qg,Zg,ey,Df,qi,ny,Rf,ty],s=si(),i=it(s,Rf);ln(i,r,i),ln(i,t.domain,i);const a=si(),l=si(),d=si();ln(s,t.domain,a),ln(s,t.scheme,l),ln(s,t.slashscheme,d),ln(a,r,i),ln(a,t.domain,a);const f=it(a,No);it(i,No,f),it(l,No,f),it(d,No,f);const p=it(i,Hi);ln(p,r,i),ln(p,t.domain,i);const m=si();ln(f,t.domain,m),ln(m,t.domain,m);const y=it(m,Hi);ln(y,t.domain,m);const x=si(c3);ln(y,t.tld,x),ln(y,t.utld,x),it(f,ch,x);const b=it(m,ai);it(b,ai,b),ln(b,t.domain,m),ln(x,t.domain,m),it(x,Hi,y),it(x,ai,b);const S=it(x,ko);ln(S,t.numeric,c3);const C=it(a,ai),N=it(a,Hi);it(C,ai,C),ln(C,t.domain,a),ln(N,r,i),ln(N,t.domain,a);const k=si(gm);ln(N,t.tld,k),ln(N,t.utld,k),ln(k,t.domain,a),ln(k,r,i),it(k,Hi,N),it(k,ai,C),it(k,No,f);const M=it(k,ko),D=si(gm);ln(M,t.numeric,D);const E=si(gm),A=si();ln(E,e,E),ln(E,n,A),ln(A,e,E),ln(A,n,A),it(k,qi,E),it(D,qi,E);const F=it(l,ko),H=it(d,ko),Z=it(H,qi),ve=it(Z,qi);ln(l,t.domain,a),it(l,Hi,N),it(l,ai,C),ln(d,t.domain,a),it(d,Hi,N),it(d,ai,C),ln(F,t.domain,E),it(F,qi,E),it(F,Df,E),ln(ve,t.domain,E),ln(ve,e,E),it(ve,qi,E);const ue=[[kf,Of],[Og,Mg],[Dg,Rg],[_g,Lg],[Pg,zg],[Ig,Bg],[Fg,$g],[Ug,Vg]];for(let oe=0;oe<ue.length;oe++){const[te,ne]=ue[oe],xe=it(E,te);it(A,te,xe),it(xe,ne,E);const W=si(gm);ln(xe,e,W);const le=si();ln(xe,n),ln(W,e,W),ln(W,n,le),ln(le,e,W),ln(le,n,le),it(W,ne,E),it(le,ne,E)}return it(s,ch,k),it(s,xS,Sie),{start:s,tokens:l_}}function Nie(t,e,n){let r=n.length,s=0,i=[],a=[];for(;s<r;){let l=t,d=null,f=null,p=0,m=null,y=-1;for(;s<r&&!(d=l.go(n[s].t));)a.push(n[s++]);for(;s<r&&(f=d||l.go(n[s].t));)d=null,l=f,l.accepts()?(y=0,m=l):y>=0&&y++,s++,p++;if(y<0)s-=p,s<r&&(a.push(n[s]),s++);else{a.length>0&&(i.push(Sb(u3,e,a)),a=[]),s-=y,p-=y;const x=m.t,b=n.slice(s-p,s);i.push(Sb(x,e,b))}}return a.length>0&&i.push(Sb(u3,e,a)),i}function Sb(t,e,n){const r=n[0].s,s=n[n.length-1].e,i=e.slice(r,s);return new t(i,n)}const jie=typeof console<"u"&&console&&console.warn||(()=>{}),Tie="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Un={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Eie(){return Cs.groups={},Un.scanner=null,Un.parser=null,Un.tokenQueue=[],Un.pluginQueue=[],Un.customSchemes=[],Un.initialized=!1,Un}function d3(t,e=!1){if(Un.initialized&&jie(`linkifyjs: already initialized - will not register custom scheme "${t}" ${Tie}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Un.customSchemes.push([t,e])}function Aie(){Un.scanner=bie(Un.customSchemes);for(let t=0;t<Un.tokenQueue.length;t++)Un.tokenQueue[t][1]({scanner:Un.scanner});Un.parser=Cie(Un.scanner.tokens);for(let t=0;t<Un.pluginQueue.length;t++)Un.pluginQueue[t][1]({scanner:Un.scanner,parser:Un.parser});return Un.initialized=!0,Un}function NS(t){return Un.initialized||Aie(),Nie(Un.parser.start,t,c_(Un.scanner.start,t))}NS.scan=c_;function d_(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new CS(n),s=NS(t),i=[];for(let a=0;a<s.length;a++){const l=s[a];l.isLink&&(!e||l.t===e)&&r.check(l)&&i.push(l.toFormattedObject(r))}return i}const jS="[\0- -\u2029]",kie=new RegExp(jS),Oie=new RegExp(`${jS}$`),Mie=new RegExp(jS,"g");function Die(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function Rie(t){return new Nr({key:new Wr("autolink"),appendTransaction:(e,n,r)=>{const s=e.some(f=>f.docChanged)&&!n.doc.eq(r.doc),i=e.some(f=>f.getMeta("preventAutolink"));if(!s||i)return;const{tr:a}=r,l=Ste(n.doc,[...e]);if(kte(l).forEach(({newRange:f})=>{const p=Nte(r.doc,f,x=>x.isTextblock);let m,y;if(p.length>1)m=p[0],y=r.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(p.length){const x=r.doc.textBetween(f.from,f.to," "," ");if(!Oie.test(x))return;m=p[0],y=r.doc.textBetween(m.pos,f.to,void 0," ")}if(m&&y){const x=y.split(kie).filter(Boolean);if(x.length<=0)return!1;const b=x[x.length-1],S=m.pos+y.lastIndexOf(b);if(!b)return!1;const C=NS(b).map(N=>N.toObject(t.defaultProtocol));if(!Die(C))return!1;C.filter(N=>N.isLink).map(N=>({...N,from:S+N.start+1,to:S+N.end+1})).filter(N=>r.schema.marks.code?!r.doc.rangeHasMark(N.from,N.to,r.schema.marks.code):!0).filter(N=>t.validate(N.value)).filter(N=>t.shouldAutoLink(N.value)).forEach(N=>{nS(N.from,N.to,r.doc).some(k=>k.mark.type===t.type)||a.addMark(N.from,N.to,t.type.create({href:N.href}))})}}),!!a.steps.length)return a}})}function _ie(t){return new Nr({key:new Wr("handleClickLink"),props:{handleClick:(e,n,r)=>{var s,i;if(r.button!==0||!e.editable)return!1;let a=r.target;const l=[];for(;a.nodeName!=="DIV";)l.push(a),a=a.parentNode;if(!l.find(y=>y.nodeName==="A"))return!1;const d=AR(e.state,t.type.name),f=r.target,p=(s=f?.href)!==null&&s!==void 0?s:d.href,m=(i=f?.target)!==null&&i!==void 0?i:d.target;return f&&p?(window.open(p,m),!0):!1}}})}function Lie(t){return new Nr({key:new Wr("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:s}=e,{selection:i}=s,{empty:a}=i;if(a)return!1;let l="";r.content.forEach(f=>{l+=f.textContent});const d=d_(l,{defaultProtocol:t.defaultProtocol}).find(f=>f.isLink&&f.value===l);return!l||!d?!1:t.editor.commands.setMark(t.type,{href:d.href})}}})}function Cl(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const s=typeof r=="string"?r:r.scheme;s&&n.push(s)}),!t||t.replace(Mie,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const Pie=Mi.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){d3(t);return}d3(t.scheme,t.optionalSlashes)})},onDestroy(){Eie()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Cl(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Cl(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Cl(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Gn(this.options.HTMLAttributes,t),0]:["a",Gn(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Cl(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Cl(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[lc({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,s=d_(t).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:a=>!!Cl(a,n),protocols:n,defaultProtocol:r}));s.length&&s.forEach(i=>e.push({text:i.value,data:{href:i.href},index:i.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(Rie({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:s=>!!Cl(s,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(_ie({type:this.type})),this.options.linkOnPaste&&t.push(Lie({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}});var nw,rw;if(typeof WeakMap<"u"){let t=new WeakMap;nw=e=>t.get(e),rw=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;nw=r=>{for(let s=0;s<t.length;s+=2)if(t[s]==r)return t[s+1]},rw=(r,s)=>(n==10&&(n=0),t[n++]=r,t[n++]=s)}var lr=class{constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,s=e/this.width|0;let i=r+1,a=s+1;for(let l=1;i<this.width&&this.map[e+l]==n;l++)i++;for(let l=1;a<this.height&&this.map[e+this.width*l]==n;l++)a++;return{left:r,top:s,right:i,bottom:a}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:s,top:i,bottom:a}=this.findCell(t);return e=="horiz"?(n<0?r==0:s==this.width)?null:this.map[i*this.width+(n<0?r-1:s)]:(n<0?i==0:a==this.height)?null:this.map[r+this.width*(n<0?i-1:a)]}rectBetween(t,e){const{left:n,right:r,top:s,bottom:i}=this.findCell(t),{left:a,right:l,top:d,bottom:f}=this.findCell(e);return{left:Math.min(n,a),top:Math.min(s,d),right:Math.max(r,l),bottom:Math.max(i,f)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let s=t.left;s<t.right;s++){const i=r*this.width+s,a=this.map[i];n[a]||(n[a]=!0,!(s==t.left&&s&&this.map[i-1]==a||r==t.top&&r&&this.map[i-this.width]==a)&&e.push(a))}return e}positionAt(t,e,n){for(let r=0,s=0;;r++){const i=s+n.child(r).nodeSize;if(r==t){let a=e+t*this.width;const l=(t+1)*this.width;for(;a<l&&this.map[a]<s;)a++;return a==l?i-1:this.map[a]}s=i}}static get(t){return nw(t)||rw(t,zie(t))}};function zie(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=Iie(t),n=t.childCount,r=[];let s=0,i=null;const a=[];for(let f=0,p=e*n;f<p;f++)r[f]=0;for(let f=0,p=0;f<n;f++){const m=t.child(f);p++;for(let b=0;;b++){for(;s<r.length&&r[s]!=0;)s++;if(b==m.childCount)break;const S=m.child(b),{colspan:C,rowspan:N,colwidth:k}=S.attrs;for(let M=0;M<N;M++){if(M+f>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:p,n:N-M});break}const D=s+M*e;for(let E=0;E<C;E++){r[D+E]==0?r[D+E]=p:(i||(i=[])).push({type:"collision",row:f,pos:p,n:C-E});const A=k&&k[E];if(A){const F=(D+E)%e*2,H=a[F];H==null||H!=A&&a[F+1]==1?(a[F]=A,a[F+1]=1):H==A&&a[F+1]++}}}s+=C,p+=S.nodeSize}const y=(f+1)*e;let x=0;for(;s<y;)r[s++]==0&&x++;x&&(i||(i=[])).push({type:"missing",row:f,n:x}),p++}(e===0||n===0)&&(i||(i=[])).push({type:"zero_sized"});const l=new lr(e,n,r,i);let d=!1;for(let f=0;!d&&f<a.length;f+=2)a[f]!=null&&a[f+1]<n&&(d=!0);return d&&Bie(l,a,t),l}function Iie(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const s=t.child(r);let i=0;if(n)for(let a=0;a<r;a++){const l=t.child(a);for(let d=0;d<l.childCount;d++){const f=l.child(d);a+f.attrs.rowspan>r&&(i+=f.attrs.colspan)}}for(let a=0;a<s.childCount;a++){const l=s.child(a);i+=l.attrs.colspan,l.attrs.rowspan>1&&(n=!0)}e==-1?e=i:e!=i&&(e=Math.max(e,i))}return e}function Bie(t,e,n){t.problems||(t.problems=[]);const r={};for(let s=0;s<t.map.length;s++){const i=t.map[s];if(r[i])continue;r[i]=!0;const a=n.nodeAt(i);if(!a)throw new RangeError(`No cell with offset ${i} found`);let l=null;const d=a.attrs;for(let f=0;f<d.colspan;f++){const p=(s+f)%t.width,m=e[p*2];m!=null&&(!d.colwidth||d.colwidth[f]!=m)&&((l||(l=Fie(d)))[f]=m)}l&&t.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:l})}}function Fie(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function rs(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],s=r.spec.tableRole;s&&(e[s]=r)}}return e}var Oo=new Wr("selectingCells");function Vu(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function $ie(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function Pi(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function Wy(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=Vu(e.$head)||Uie(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function Uie(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function sw(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function Vie(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function TS(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function f_(t,e,n){const r=t.node(-1),s=lr.get(r),i=t.start(-1),a=s.nextCell(t.pos-i,e,n);return a==null?null:t.node(0).resolve(i+a)}function uc(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(s=>s>0)||(r.colwidth=null)),r}function h_(t,e,n=1){const r={...t,colspan:t.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let s=0;s<n;s++)r.colwidth.splice(e,0,0)}return r}function Hie(t,e,n){const r=rs(e.type.schema).header_cell;for(let s=0;s<t.height;s++)if(e.nodeAt(t.map[n+s*t.width]).type!=r)return!1;return!0}var Fn=class _a extends Yt{constructor(e,n=e){const r=e.node(-1),s=lr.get(r),i=e.start(-1),a=s.rectBetween(e.pos-i,n.pos-i),l=e.node(0),d=s.cellsInRect(a).filter(p=>p!=n.pos-i);d.unshift(n.pos-i);const f=d.map(p=>{const m=r.nodeAt(p);if(!m)throw RangeError(`No cell with offset ${p} found`);const y=i+p+1;return new C6(l.resolve(y),l.resolve(y+m.content.size))});super(f[0].$from,f[0].$to,f),this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),s=e.resolve(n.map(this.$headCell.pos));if(sw(r)&&sw(s)&&TS(r,s)){const i=this.$anchorCell.node(-1)!=r.node(-1);return i&&this.isRowSelection()?_a.rowSelection(r,s):i&&this.isColSelection()?_a.colSelection(r,s):new _a(r,s)}return Ht.between(r,s)}content(){const e=this.$anchorCell.node(-1),n=lr.get(e),r=this.$anchorCell.start(-1),s=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),i={},a=[];for(let d=s.top;d<s.bottom;d++){const f=[];for(let p=d*n.width+s.left,m=s.left;m<s.right;m++,p++){const y=n.map[p];if(i[y])continue;i[y]=!0;const x=n.findCell(y);let b=e.nodeAt(y);if(!b)throw RangeError(`No cell with offset ${y} found`);const S=s.left-x.left,C=x.right-s.right;if(S>0||C>0){let N=b.attrs;if(S>0&&(N=uc(N,0,S)),C>0&&(N=uc(N,N.colspan-C,C)),x.left<s.left){if(b=b.type.createAndFill(N),!b)throw RangeError(`Could not create cell with attrs ${JSON.stringify(N)}`)}else b=b.type.create(N,b.content)}if(x.top<s.top||x.bottom>s.bottom){const N={...b.attrs,rowspan:Math.min(x.bottom,s.bottom)-Math.max(x.top,s.top)};x.top<s.top?b=b.type.createAndFill(N):b=b.type.create(N,b.content)}f.push(b)}a.push(e.child(d).copy(We.from(f)))}const l=this.isColSelection()&&this.isRowSelection()?e:a;return new xt(We.from(l),1,1)}replace(e,n=xt.empty){const r=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){const{$from:l,$to:d}=s[a],f=e.mapping.slice(r);e.replace(f.map(l.pos),f.map(d.pos),a?xt.empty:n)}const i=Yt.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);i&&e.setSelection(i)}replaceWith(e,n){this.replace(e,new xt(We.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=lr.get(n),s=this.$anchorCell.start(-1),i=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-s,this.$headCell.pos-s));for(let a=0;a<i.length;a++)e(n.nodeAt(i[a]),s+i[a])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,s=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,s)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=e.node(-1),s=lr.get(r),i=e.start(-1),a=s.findCell(e.pos-i),l=s.findCell(n.pos-i),d=e.node(0);return a.top<=l.top?(a.top>0&&(e=d.resolve(i+s.map[a.left])),l.bottom<s.height&&(n=d.resolve(i+s.map[s.width*(s.height-1)+l.right-1]))):(l.top>0&&(n=d.resolve(i+s.map[l.left])),a.bottom<s.height&&(e=d.resolve(i+s.map[s.width*(s.height-1)+a.right-1]))),new _a(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=lr.get(e),r=this.$anchorCell.start(-1),s=n.colCount(this.$anchorCell.pos-r),i=n.colCount(this.$headCell.pos-r);if(Math.min(s,i)>0)return!1;const a=s+this.$anchorCell.nodeAfter.attrs.colspan,l=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,l)==n.width}eq(e){return e instanceof _a&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=e.node(-1),s=lr.get(r),i=e.start(-1),a=s.findCell(e.pos-i),l=s.findCell(n.pos-i),d=e.node(0);return a.left<=l.left?(a.left>0&&(e=d.resolve(i+s.map[a.top*s.width])),l.right<s.width&&(n=d.resolve(i+s.map[s.width*(l.top+1)-1]))):(l.left>0&&(n=d.resolve(i+s.map[l.top*s.width])),a.right<s.width&&(e=d.resolve(i+s.map[s.width*(a.top+1)-1]))),new _a(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new _a(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new _a(e.resolve(n),e.resolve(r))}getBookmark(){return new qie(this.$anchorCell.pos,this.$headCell.pos)}};Fn.prototype.visible=!1;Yt.jsonID("cell",Fn);var qie=class p_{constructor(e,n){this.anchor=e,this.head=n}map(e){return new p_(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&TS(n,r)?new Fn(n,r):Yt.near(r,1)}};function Kie(t){if(!(t.selection instanceof Fn))return null;const e=[];return t.selection.forEachCell((n,r)=>{e.push(ds.node(r,r+n.nodeSize,{class:"selectedCell"}))}),ar.create(t.doc,e)}function Yie({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,r=e.pos,s=t.depth;for(;s>=0&&!(t.after(s+1)<t.end(s));s--,n++);for(let i=e.depth;i>=0&&!(e.before(i+1)>e.start(i));i--,r--);return n==r&&/row|table/.test(t.node(s).type.spec.tableRole)}function Wie({$from:t,$to:e}){let n,r;for(let s=t.depth;s>0;s--){const i=t.node(s);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){n=i;break}}for(let s=e.depth;s>0;s--){const i=e.node(s);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){r=i;break}}return n!==r&&e.parentOffset===0}function Gie(t,e,n){const r=(e||t).selection,s=(e||t).doc;let i,a;if(r instanceof Ut&&(a=r.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")i=Fn.create(s,r.from);else if(a=="row"){const l=s.resolve(r.from+1);i=Fn.rowSelection(l,l)}else if(!n){const l=lr.get(r.node),d=r.from+1,f=d+l.map[l.width*l.height-1];i=Fn.create(s,d+1,f)}}else r instanceof Ht&&Yie(r)?i=Ht.create(s,r.from):r instanceof Ht&&Wie(r)&&(i=Ht.create(s,r.$from.start(),r.$from.end()));return i&&(e||(e=t.tr)).setSelection(i),e}var Xie=new Wr("fix-tables");function m_(t,e,n,r){const s=t.childCount,i=e.childCount;e:for(let a=0,l=0;a<i;a++){const d=e.child(a);for(let f=l,p=Math.min(s,a+3);f<p;f++)if(t.child(f)==d){l=f+1,n+=d.nodeSize;continue e}r(d,n),l<s&&t.child(l).sameMarkup(d)?m_(t.child(l),d,n+1,r):d.nodesBetween(0,d.content.size,r,n+1),n+=d.nodeSize}}function g_(t,e){let n;const r=(s,i)=>{s.type.spec.tableRole=="table"&&(n=Jie(t,s,i,n))};return e?e.doc!=t.doc&&m_(e.doc,t.doc,0,r):t.doc.descendants(r),n}function Jie(t,e,n,r){const s=lr.get(e);if(!s.problems)return r;r||(r=t.tr);const i=[];for(let d=0;d<s.height;d++)i.push(0);for(let d=0;d<s.problems.length;d++){const f=s.problems[d];if(f.type=="collision"){const p=e.nodeAt(f.pos);if(!p)continue;const m=p.attrs;for(let y=0;y<m.rowspan;y++)i[f.row+y]+=f.n;r.setNodeMarkup(r.mapping.map(n+1+f.pos),null,uc(m,m.colspan-f.n,f.n))}else if(f.type=="missing")i[f.row]+=f.n;else if(f.type=="overlong_rowspan"){const p=e.nodeAt(f.pos);if(!p)continue;r.setNodeMarkup(r.mapping.map(n+1+f.pos),null,{...p.attrs,rowspan:p.attrs.rowspan-f.n})}else if(f.type=="colwidth mismatch"){const p=e.nodeAt(f.pos);if(!p)continue;r.setNodeMarkup(r.mapping.map(n+1+f.pos),null,{...p.attrs,colwidth:f.colwidth})}else if(f.type=="zero_sized"){const p=r.mapping.map(n);r.delete(p,p+e.nodeSize)}}let a,l;for(let d=0;d<i.length;d++)i[d]&&(a==null&&(a=d),l=d);for(let d=0,f=n+1;d<s.height;d++){const p=e.child(d),m=f+p.nodeSize,y=i[d];if(y>0){let x="cell";p.firstChild&&(x=p.firstChild.type.spec.tableRole);const b=[];for(let C=0;C<y;C++){const N=rs(t.schema)[x].createAndFill();N&&b.push(N)}const S=(d==0||a==d-1)&&l==d?f+1:m-1;r.insert(r.mapping.map(S),b)}f=m}return r.setMeta(Xie,{fixTables:!0})}function ua(t){const e=t.selection,n=Wy(t),r=n.node(-1),s=n.start(-1),i=lr.get(r);return{...e instanceof Fn?i.rectBetween(e.$anchorCell.pos-s,e.$headCell.pos-s):i.findCell(n.pos-s),tableStart:s,map:i,table:r}}function y_(t,{map:e,tableStart:n,table:r},s){let i=s>0?-1:0;Hie(e,r,s+i)&&(i=s==0||s==e.width?null:0);for(let a=0;a<e.height;a++){const l=a*e.width+s;if(s>0&&s<e.width&&e.map[l-1]==e.map[l]){const d=e.map[l],f=r.nodeAt(d);t.setNodeMarkup(t.mapping.map(n+d),null,h_(f.attrs,s-e.colCount(d))),a+=f.attrs.rowspan-1}else{const d=i==null?rs(r.type.schema).cell:r.nodeAt(e.map[l+i]).type,f=e.positionAt(a,s,r);t.insert(t.mapping.map(n+f),d.createAndFill())}}return t}function Qie(t,e){if(!Pi(t))return!1;if(e){const n=ua(t);e(y_(t.tr,n,n.left))}return!0}function Zie(t,e){if(!Pi(t))return!1;if(e){const n=ua(t);e(y_(t.tr,n,n.right))}return!0}function eae(t,{map:e,table:n,tableStart:r},s){const i=t.mapping.maps.length;for(let a=0;a<e.height;){const l=a*e.width+s,d=e.map[l],f=n.nodeAt(d),p=f.attrs;if(s>0&&e.map[l-1]==d||s<e.width-1&&e.map[l+1]==d)t.setNodeMarkup(t.mapping.slice(i).map(r+d),null,uc(p,s-e.colCount(d)));else{const m=t.mapping.slice(i).map(r+d);t.delete(m,m+f.nodeSize)}a+=p.rowspan}}function tae(t,e){if(!Pi(t))return!1;if(e){const n=ua(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let s=n.right-1;eae(r,n,s),s!=n.left;s--){const i=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!i)throw RangeError("No table found");n.table=i,n.map=lr.get(i)}e(r)}return!0}function nae(t,e,n){var r;const s=rs(e.type.schema).header_cell;for(let i=0;i<t.width;i++)if(((r=e.nodeAt(t.map[i+n*t.width]))==null?void 0:r.type)!=s)return!1;return!0}function x_(t,{map:e,tableStart:n,table:r},s){var i;let a=n;for(let f=0;f<s;f++)a+=r.child(f).nodeSize;const l=[];let d=s>0?-1:0;nae(e,r,s+d)&&(d=s==0||s==e.height?null:0);for(let f=0,p=e.width*s;f<e.width;f++,p++)if(s>0&&s<e.height&&e.map[p]==e.map[p-e.width]){const m=e.map[p],y=r.nodeAt(m).attrs;t.setNodeMarkup(n+m,null,{...y,rowspan:y.rowspan+1}),f+=y.colspan-1}else{const m=d==null?rs(r.type.schema).cell:(i=r.nodeAt(e.map[p+d*e.width]))==null?void 0:i.type,y=m?.createAndFill();y&&l.push(y)}return t.insert(a,rs(r.type.schema).row.create(null,l)),t}function rae(t,e){if(!Pi(t))return!1;if(e){const n=ua(t);e(x_(t.tr,n,n.top))}return!0}function sae(t,e){if(!Pi(t))return!1;if(e){const n=ua(t);e(x_(t.tr,n,n.bottom))}return!0}function iae(t,{map:e,table:n,tableStart:r},s){let i=0;for(let f=0;f<s;f++)i+=n.child(f).nodeSize;const a=i+n.child(s).nodeSize,l=t.mapping.maps.length;t.delete(i+r,a+r);const d=new Set;for(let f=0,p=s*e.width;f<e.width;f++,p++){const m=e.map[p];if(!d.has(m)){if(d.add(m),s>0&&m==e.map[p-e.width]){const y=n.nodeAt(m).attrs;t.setNodeMarkup(t.mapping.slice(l).map(m+r),null,{...y,rowspan:y.rowspan-1}),f+=y.colspan-1}else if(s<e.height&&m==e.map[p+e.width]){const y=n.nodeAt(m),x=y.attrs,b=y.type.create({...x,rowspan:y.attrs.rowspan-1},y.content),S=e.positionAt(s+1,f,n);t.insert(t.mapping.slice(l).map(r+S),b),f+=x.colspan-1}}}}function aae(t,e){if(!Pi(t))return!1;if(e){const n=ua(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let s=n.bottom-1;iae(r,n,s),s!=n.top;s--){const i=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!i)throw RangeError("No table found");n.table=i,n.map=lr.get(n.table)}e(r)}return!0}function f3(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function oae({width:t,height:e,map:n},r){let s=r.top*t+r.left,i=s,a=(r.bottom-1)*t+r.left,l=s+(r.right-r.left-1);for(let d=r.top;d<r.bottom;d++){if(r.left>0&&n[i]==n[i-1]||r.right<t&&n[l]==n[l+1])return!0;i+=t,l+=t}for(let d=r.left;d<r.right;d++){if(r.top>0&&n[s]==n[s-t]||r.bottom<e&&n[a]==n[a+t])return!0;s++,a++}return!1}function h3(t,e){const n=t.selection;if(!(n instanceof Fn)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=ua(t),{map:s}=r;if(oae(s,r))return!1;if(e){const i=t.tr,a={};let l=We.empty,d,f;for(let p=r.top;p<r.bottom;p++)for(let m=r.left;m<r.right;m++){const y=s.map[p*s.width+m],x=r.table.nodeAt(y);if(!(a[y]||!x))if(a[y]=!0,d==null)d=y,f=x;else{f3(x)||(l=l.append(x.content));const b=i.mapping.map(y+r.tableStart);i.delete(b,b+x.nodeSize)}}if(d==null||f==null)return!0;if(i.setNodeMarkup(d+r.tableStart,null,{...h_(f.attrs,f.attrs.colspan,r.right-r.left-f.attrs.colspan),rowspan:r.bottom-r.top}),l.size){const p=d+1+f.content.size,m=f3(f)?d+1:p;i.replaceWith(m+r.tableStart,p+r.tableStart,l)}i.setSelection(new Fn(i.doc.resolve(d+r.tableStart))),e(i)}return!0}function p3(t,e){const n=rs(t.schema);return lae(({node:r})=>n[r.type.spec.tableRole])(t,e)}function lae(t){return(e,n)=>{var r;const s=e.selection;let i,a;if(s instanceof Fn){if(s.$anchorCell.pos!=s.$headCell.pos)return!1;i=s.$anchorCell.nodeAfter,a=s.$anchorCell.pos}else{if(i=$ie(s.$from),!i)return!1;a=(r=Vu(s.$from))==null?void 0:r.pos}if(i==null||a==null||i.attrs.colspan==1&&i.attrs.rowspan==1)return!1;if(n){let l=i.attrs;const d=[],f=l.colwidth;l.rowspan>1&&(l={...l,rowspan:1}),l.colspan>1&&(l={...l,colspan:1});const p=ua(e),m=e.tr;for(let x=0;x<p.right-p.left;x++)d.push(f?{...l,colwidth:f&&f[x]?[f[x]]:null}:l);let y;for(let x=p.top;x<p.bottom;x++){let b=p.map.positionAt(x,p.left,p.table);x==p.top&&(b+=i.nodeSize);for(let S=p.left,C=0;S<p.right;S++,C++)S==p.left&&x==p.top||m.insert(y=m.mapping.map(b+p.tableStart,1),t({node:i,row:x,col:S}).createAndFill(d[C]))}m.setNodeMarkup(a,t({node:i,row:p.top,col:p.left}),d[0]),s instanceof Fn&&m.setSelection(new Fn(m.doc.resolve(s.$anchorCell.pos),y?m.doc.resolve(y):void 0)),n(m)}return!0}}function cae(t,e){return function(n,r){if(!Pi(n))return!1;const s=Wy(n);if(s.nodeAfter.attrs[t]===e)return!1;if(r){const i=n.tr;n.selection instanceof Fn?n.selection.forEachCell((a,l)=>{a.attrs[t]!==e&&i.setNodeMarkup(l,null,{...a.attrs,[t]:e})}):i.setNodeMarkup(s.pos,null,{...s.nodeAfter.attrs,[t]:e}),r(i)}return!0}}function uae(t){return function(e,n){if(!Pi(e))return!1;if(n){const r=rs(e.schema),s=ua(e),i=e.tr,a=s.map.cellsInRect(t=="column"?{left:s.left,top:0,right:s.right,bottom:s.map.height}:t=="row"?{left:0,top:s.top,right:s.map.width,bottom:s.bottom}:s),l=a.map(d=>s.table.nodeAt(d));for(let d=0;d<a.length;d++)l[d].type==r.header_cell&&i.setNodeMarkup(s.tableStart+a[d],r.cell,l[d].attrs);if(i.steps.length==0)for(let d=0;d<a.length;d++)i.setNodeMarkup(s.tableStart+a[d],r.header_cell,l[d].attrs);n(i)}return!0}}function m3(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let s=0;s<r.length;s++){const i=e.table.nodeAt(r[s]);if(i&&i.type!==n.header_cell)return!1}return!0}function dh(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?uae(t):function(n,r){if(!Pi(n))return!1;if(r){const s=rs(n.schema),i=ua(n),a=n.tr,l=m3("row",i,s),d=m3("column",i,s),p=(t==="column"?l:t==="row"?d:!1)?1:0,m=t=="column"?{left:0,top:p,right:1,bottom:i.map.height}:t=="row"?{left:p,top:0,right:i.map.width,bottom:1}:i,y=t=="column"?d?s.cell:s.header_cell:t=="row"?l?s.cell:s.header_cell:s.cell;i.map.cellsInRect(m).forEach(x=>{const b=x+i.tableStart,S=a.doc.nodeAt(b);S&&a.setNodeMarkup(b,y,S.attrs)}),r(a)}return!0}}dh("row",{useDeprecatedLogic:!0});dh("column",{useDeprecatedLogic:!0});var dae=dh("cell",{useDeprecatedLogic:!0});function fae(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,s=t.before();r>=0;r--){const i=t.node(-1).child(r),a=i.lastChild;if(a)return s-1-a.nodeSize;s-=i.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let r=t.indexAfter(-1),s=t.after();r<n.childCount;r++){const i=n.child(r);if(i.childCount)return s+1;s+=i.nodeSize}}return null}function g3(t){return function(e,n){if(!Pi(e))return!1;const r=fae(Wy(e),t);if(r==null)return!1;if(n){const s=e.doc.resolve(r);n(e.tr.setSelection(Ht.between(s,Vie(s))).scrollIntoView())}return!0}}function hae(t,e){const n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function ym(t,e){const n=t.selection;if(!(n instanceof Fn))return!1;if(e){const r=t.tr,s=rs(t.schema).cell.createAndFill().content;n.forEachCell((i,a)=>{i.content.eq(s)||r.replace(r.mapping.map(a+1),r.mapping.map(a+i.nodeSize-1),new xt(s,0,0))}),r.docChanged&&e(r)}return!0}function pae(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.child(0).type.spec.tableRole=="table");)n--,r--,e=e.child(0).content;const s=e.child(0),i=s.type.spec.tableRole,a=s.type.schema,l=[];if(i=="row")for(let d=0;d<e.childCount;d++){let f=e.child(d).content;const p=d?0:Math.max(0,n-1),m=d<e.childCount-1?0:Math.max(0,r-1);(p||m)&&(f=iw(rs(a).row,new xt(f,p,m)).content),l.push(f)}else if(i=="cell"||i=="header_cell")l.push(n||r?iw(rs(a).row,new xt(e,n,r)).content:e);else return null;return mae(a,l)}function mae(t,e){const n=[];for(let s=0;s<e.length;s++){const i=e[s];for(let a=i.childCount-1;a>=0;a--){const{rowspan:l,colspan:d}=i.child(a).attrs;for(let f=s;f<s+l;f++)n[f]=(n[f]||0)+d}}let r=0;for(let s=0;s<n.length;s++)r=Math.max(r,n[s]);for(let s=0;s<n.length;s++)if(s>=e.length&&e.push(We.empty),n[s]<r){const i=rs(t).cell.createAndFill(),a=[];for(let l=n[s];l<r;l++)a.push(i);e[s]=e[s].append(We.from(a))}return{height:e.length,width:r,rows:e}}function iw(t,e){const n=t.createAndFill();return new R2(n).replace(0,n.content.size,e).doc}function gae({width:t,height:e,rows:n},r,s){if(t!=r){const i=[],a=[];for(let l=0;l<n.length;l++){const d=n[l],f=[];for(let p=i[l]||0,m=0;p<r;m++){let y=d.child(m%d.childCount);p+y.attrs.colspan>r&&(y=y.type.createChecked(uc(y.attrs,y.attrs.colspan,p+y.attrs.colspan-r),y.content)),f.push(y),p+=y.attrs.colspan;for(let x=1;x<y.attrs.rowspan;x++)i[l+x]=(i[l+x]||0)+y.attrs.colspan}a.push(We.from(f))}n=a,t=r}if(e!=s){const i=[];for(let a=0,l=0;a<s;a++,l++){const d=[],f=n[l%e];for(let p=0;p<f.childCount;p++){let m=f.child(p);a+m.attrs.rowspan>s&&(m=m.type.create({...m.attrs,rowspan:Math.max(1,s-m.attrs.rowspan)},m.content)),d.push(m)}i.push(We.from(d))}n=i,e=s}return{width:t,height:e,rows:n}}function yae(t,e,n,r,s,i,a){const l=t.doc.type.schema,d=rs(l);let f,p;if(s>e.width)for(let m=0,y=0;m<e.height;m++){const x=n.child(m);y+=x.nodeSize;const b=[];let S;x.lastChild==null||x.lastChild.type==d.cell?S=f||(f=d.cell.createAndFill()):S=p||(p=d.header_cell.createAndFill());for(let C=e.width;C<s;C++)b.push(S);t.insert(t.mapping.slice(a).map(y-1+r),b)}if(i>e.height){const m=[];for(let b=0,S=(e.height-1)*e.width;b<Math.max(e.width,s);b++){const C=b>=e.width?!1:n.nodeAt(e.map[S+b]).type==d.header_cell;m.push(C?p||(p=d.header_cell.createAndFill()):f||(f=d.cell.createAndFill()))}const y=d.row.create(null,We.from(m)),x=[];for(let b=e.height;b<i;b++)x.push(y);t.insert(t.mapping.slice(a).map(r+n.nodeSize-2),x)}return!!(f||p)}function y3(t,e,n,r,s,i,a,l){if(a==0||a==e.height)return!1;let d=!1;for(let f=s;f<i;f++){const p=a*e.width+f,m=e.map[p];if(e.map[p-e.width]==m){d=!0;const y=n.nodeAt(m),{top:x,left:b}=e.findCell(m);t.setNodeMarkup(t.mapping.slice(l).map(m+r),null,{...y.attrs,rowspan:a-x}),t.insert(t.mapping.slice(l).map(e.positionAt(a,b,n)),y.type.createAndFill({...y.attrs,rowspan:x+y.attrs.rowspan-a})),f+=y.attrs.colspan-1}}return d}function x3(t,e,n,r,s,i,a,l){if(a==0||a==e.width)return!1;let d=!1;for(let f=s;f<i;f++){const p=f*e.width+a,m=e.map[p];if(e.map[p-1]==m){d=!0;const y=n.nodeAt(m),x=e.colCount(m),b=t.mapping.slice(l).map(m+r);t.setNodeMarkup(b,null,uc(y.attrs,a-x,y.attrs.colspan-(a-x))),t.insert(b+y.nodeSize,y.type.createAndFill(uc(y.attrs,0,a-x))),f+=y.attrs.rowspan-1}}return d}function v3(t,e,n,r,s){let i=n?t.doc.nodeAt(n-1):t.doc;if(!i)throw new Error("No table found");let a=lr.get(i);const{top:l,left:d}=r,f=d+s.width,p=l+s.height,m=t.tr;let y=0;function x(){if(i=n?m.doc.nodeAt(n-1):m.doc,!i)throw new Error("No table found");a=lr.get(i),y=m.mapping.maps.length}yae(m,a,i,n,f,p,y)&&x(),y3(m,a,i,n,d,f,l,y)&&x(),y3(m,a,i,n,d,f,p,y)&&x(),x3(m,a,i,n,l,p,d,y)&&x(),x3(m,a,i,n,l,p,f,y)&&x();for(let b=l;b<p;b++){const S=a.positionAt(b,d,i),C=a.positionAt(b,f,i);m.replace(m.mapping.slice(y).map(S+n),m.mapping.slice(y).map(C+n),new xt(s.rows[b-l],0,0))}x(),m.setSelection(new Fn(m.doc.resolve(n+a.positionAt(l,d,i)),m.doc.resolve(n+a.positionAt(p-1,f-1,i)))),e(m)}var xae=H2({ArrowLeft:xm("horiz",-1),ArrowRight:xm("horiz",1),ArrowUp:xm("vert",-1),ArrowDown:xm("vert",1),"Shift-ArrowLeft":vm("horiz",-1),"Shift-ArrowRight":vm("horiz",1),"Shift-ArrowUp":vm("vert",-1),"Shift-ArrowDown":vm("vert",1),Backspace:ym,"Mod-Backspace":ym,Delete:ym,"Mod-Delete":ym});function qm(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function xm(t,e){return(n,r,s)=>{if(!s)return!1;const i=n.selection;if(i instanceof Fn)return qm(n,r,Yt.near(i.$headCell,e));if(t!="horiz"&&!i.empty)return!1;const a=v_(s,t,e);if(a==null)return!1;if(t=="horiz")return qm(n,r,Yt.near(n.doc.resolve(i.head+e),e));{const l=n.doc.resolve(a),d=f_(l,t,e);let f;return d?f=Yt.near(d,1):e<0?f=Yt.near(n.doc.resolve(l.before(-1)),-1):f=Yt.near(n.doc.resolve(l.after(-1)),1),qm(n,r,f)}}}function vm(t,e){return(n,r,s)=>{if(!s)return!1;const i=n.selection;let a;if(i instanceof Fn)a=i;else{const d=v_(s,t,e);if(d==null)return!1;a=new Fn(n.doc.resolve(d))}const l=f_(a.$headCell,t,e);return l?qm(n,r,new Fn(a.$anchorCell,l)):!1}}function vae(t,e){const n=t.state.doc,r=Vu(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new Fn(r))),!0):!1}function bae(t,e,n){if(!Pi(t.state))return!1;let r=pae(n);const s=t.state.selection;if(s instanceof Fn){r||(r={width:1,height:1,rows:[We.from(iw(rs(t.state.schema).cell,n))]});const i=s.$anchorCell.node(-1),a=s.$anchorCell.start(-1),l=lr.get(i).rectBetween(s.$anchorCell.pos-a,s.$headCell.pos-a);return r=gae(r,l.right-l.left,l.bottom-l.top),v3(t.state,t.dispatch,a,l,r),!0}else if(r){const i=Wy(t.state),a=i.start(-1);return v3(t.state,t.dispatch,a,lr.get(i.node(-1)).findCell(i.pos-a),r),!0}else return!1}function wae(t,e){var n;if(e.ctrlKey||e.metaKey)return;const r=b3(t,e.target);let s;if(e.shiftKey&&t.state.selection instanceof Fn)i(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(s=Vu(t.state.selection.$anchor))!=null&&((n=Cb(t,e))==null?void 0:n.pos)!=s.pos)i(s,e),e.preventDefault();else if(!r)return;function i(d,f){let p=Cb(t,f);const m=Oo.getState(t.state)==null;if(!p||!TS(d,p))if(m)p=d;else return;const y=new Fn(d,p);if(m||!t.state.selection.eq(y)){const x=t.state.tr.setSelection(y);m&&x.setMeta(Oo,d.pos),t.dispatch(x)}}function a(){t.root.removeEventListener("mouseup",a),t.root.removeEventListener("dragstart",a),t.root.removeEventListener("mousemove",l),Oo.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(Oo,-1))}function l(d){const f=d,p=Oo.getState(t.state);let m;if(p!=null)m=t.state.doc.resolve(p);else if(b3(t,f.target)!=r&&(m=Cb(t,e),!m))return a();m&&i(m,f)}t.root.addEventListener("mouseup",a),t.root.addEventListener("dragstart",a),t.root.addEventListener("mousemove",l)}function v_(t,e,n){if(!(t.state.selection instanceof Ht))return null;const{$head:r}=t.state.selection;for(let s=r.depth-1;s>=0;s--){const i=r.node(s);if((n<0?r.index(s):r.indexAfter(s))!=(n<0?0:i.childCount))return null;if(i.type.spec.tableRole=="cell"||i.type.spec.tableRole=="header_cell"){const l=r.before(s),d=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(d)?l:null}}return null}function b3(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function Cb(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?Vu(t.state.doc.resolve(n.pos)):null}var Sae=class{constructor(e,n){this.node=e,this.defaultCellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${n}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),aw(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,aw(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function aw(t,e,n,r,s,i){var a;let l=0,d=!0,f=e.firstChild;const p=t.firstChild;if(p){for(let m=0,y=0;m<p.childCount;m++){const{colspan:x,colwidth:b}=p.child(m).attrs;for(let S=0;S<x;S++,y++){const C=s==y?i:b&&b[S],N=C?C+"px":"";if(l+=C||r,C||(d=!1),f)f.style.width!=N&&(f.style.width=N),f=f.nextSibling;else{const k=document.createElement("col");k.style.width=N,e.appendChild(k)}}}for(;f;){const m=f.nextSibling;(a=f.parentNode)==null||a.removeChild(f),f=m}d?(n.style.width=l+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=l+"px")}}var Us=new Wr("tableColumnResizing");function Cae({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:r=Sae,lastColumnResizable:s=!0}={}){const i=new Nr({key:Us,state:{init(a,l){var d,f;const p=(f=(d=i.spec)==null?void 0:d.props)==null?void 0:f.nodeViews,m=rs(l.schema).table.name;return r&&p&&(p[m]=(y,x)=>new r(y,n,x)),new Nae(-1,!1)},apply(a,l){return l.apply(a)}},props:{attributes:a=>{const l=Us.getState(a);return l&&l.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(a,l)=>{jae(a,l,t,s)},mouseleave:a=>{Tae(a)},mousedown:(a,l)=>{Eae(a,l,e,n)}},decorations:a=>{const l=Us.getState(a);if(l&&l.activeHandle>-1)return Dae(a,l.activeHandle)},nodeViews:{}}});return i}var Nae=class Km{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,r=e.getMeta(Us);if(r&&r.setHandle!=null)return new Km(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new Km(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){let s=e.mapping.map(n.activeHandle,-1);return sw(e.doc.resolve(s))||(s=-1),new Km(s,n.dragging)}return n}};function jae(t,e,n,r){if(!t.editable)return;const s=Us.getState(t.state);if(s&&!s.dragging){const i=kae(e.target);let a=-1;if(i){const{left:l,right:d}=i.getBoundingClientRect();e.clientX-l<=n?a=w3(t,e,"left",n):d-e.clientX<=n&&(a=w3(t,e,"right",n))}if(a!=s.activeHandle){if(!r&&a!==-1){const l=t.state.doc.resolve(a),d=l.node(-1),f=lr.get(d),p=l.start(-1);if(f.colCount(l.pos-p)+l.nodeAfter.attrs.colspan-1==f.width-1)return}b_(t,a)}}}function Tae(t){if(!t.editable)return;const e=Us.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&b_(t,-1)}function Eae(t,e,n,r){var s;if(!t.editable)return!1;const i=(s=t.dom.ownerDocument.defaultView)!=null?s:window,a=Us.getState(t.state);if(!a||a.activeHandle==-1||a.dragging)return!1;const l=t.state.doc.nodeAt(a.activeHandle),d=Aae(t,a.activeHandle,l.attrs);t.dispatch(t.state.tr.setMeta(Us,{setDragging:{startX:e.clientX,startWidth:d}}));function f(m){i.removeEventListener("mouseup",f),i.removeEventListener("mousemove",p);const y=Us.getState(t.state);y?.dragging&&(Oae(t,y.activeHandle,S3(y.dragging,m,n)),t.dispatch(t.state.tr.setMeta(Us,{setDragging:null})))}function p(m){if(!m.which)return f(m);const y=Us.getState(t.state);if(y&&y.dragging){const x=S3(y.dragging,m,n);C3(t,y.activeHandle,x,r)}}return C3(t,a.activeHandle,d,r),i.addEventListener("mouseup",f),i.addEventListener("mousemove",p),e.preventDefault(),!0}function Aae(t,e,{colspan:n,colwidth:r}){const s=r&&r[r.length-1];if(s)return s;const i=t.domAtPos(e);let l=i.node.childNodes[i.offset].offsetWidth,d=n;if(r)for(let f=0;f<n;f++)r[f]&&(l-=r[f],d--);return l/d}function kae(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function w3(t,e,n,r){const s=n=="right"?-r:r,i=t.posAtCoords({left:e.clientX+s,top:e.clientY});if(!i)return-1;const{pos:a}=i,l=Vu(t.state.doc.resolve(a));if(!l)return-1;if(n=="right")return l.pos;const d=lr.get(l.node(-1)),f=l.start(-1),p=d.map.indexOf(l.pos-f);return p%d.width==0?-1:f+d.map[p-1]}function S3(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function b_(t,e){t.dispatch(t.state.tr.setMeta(Us,{setHandle:e}))}function Oae(t,e,n){const r=t.state.doc.resolve(e),s=r.node(-1),i=lr.get(s),a=r.start(-1),l=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,d=t.state.tr;for(let f=0;f<i.height;f++){const p=f*i.width+l;if(f&&i.map[p]==i.map[p-i.width])continue;const m=i.map[p],y=s.nodeAt(m).attrs,x=y.colspan==1?0:l-i.colCount(m);if(y.colwidth&&y.colwidth[x]==n)continue;const b=y.colwidth?y.colwidth.slice():Mae(y.colspan);b[x]=n,d.setNodeMarkup(a+m,null,{...y,colwidth:b})}d.docChanged&&t.dispatch(d)}function C3(t,e,n,r){const s=t.state.doc.resolve(e),i=s.node(-1),a=s.start(-1),l=lr.get(i).colCount(s.pos-a)+s.nodeAfter.attrs.colspan-1;let d=t.domAtPos(s.start(-1)).node;for(;d&&d.nodeName!="TABLE";)d=d.parentNode;d&&aw(i,d.firstChild,d,r,l,n)}function Mae(t){return Array(t).fill(0)}function Dae(t,e){var n;const r=[],s=t.doc.resolve(e),i=s.node(-1);if(!i)return ar.empty;const a=lr.get(i),l=s.start(-1),d=a.colCount(s.pos-l)+s.nodeAfter.attrs.colspan-1;for(let f=0;f<a.height;f++){const p=d+f*a.width;if((d==a.width-1||a.map[p]!=a.map[p+1])&&(f==0||a.map[p]!=a.map[p-a.width])){const m=a.map[p],y=l+m+i.nodeAt(m).nodeSize-1,x=document.createElement("div");x.className="column-resize-handle",(n=Us.getState(t))!=null&&n.dragging&&r.push(ds.node(l+m,l+m+i.nodeAt(m).nodeSize,{class:"column-resize-dragging"})),r.push(ds.widget(y,x))}}return ar.create(t.doc,r)}function Rae({allowTableNodeSelection:t=!1}={}){return new Nr({key:Oo,state:{init(){return null},apply(e,n){const r=e.getMeta(Oo);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;const{deleted:s,pos:i}=e.mapping.mapResult(n);return s?null:i}},props:{decorations:Kie,handleDOMEvents:{mousedown:wae},createSelectionBetween(e){return Oo.getState(e.state)!=null?e.state.selection:null},handleTripleClick:vae,handleKeyDown:xae,handlePaste:bae},appendTransaction(e,n,r){return Gie(r,g_(r,n),t)}})}function ow(t,e){return e?["width",`${Math.max(e,t)}px`]:["min-width",`${t}px`]}function N3(t,e,n,r,s,i){var a;let l=0,d=!0,f=e.firstChild;const p=t.firstChild;if(p!==null)for(let m=0,y=0;m<p.childCount;m+=1){const{colspan:x,colwidth:b}=p.child(m).attrs;for(let S=0;S<x;S+=1,y+=1){const C=s===y?i:b&&b[S],N=C?`${C}px`:"";if(l+=C||r,C||(d=!1),f){if(f.style.width!==N){const[k,M]=ow(r,C);f.style.setProperty(k,M)}f=f.nextSibling}else{const k=document.createElement("col"),[M,D]=ow(r,C);k.style.setProperty(M,D),e.appendChild(k)}}}for(;f;){const m=f.nextSibling;(a=f.parentNode)===null||a===void 0||a.removeChild(f),f=m}d?(n.style.width=`${l}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${l}px`)}class _ae{constructor(e,n){this.node=e,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),N3(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,N3(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type==="attributes"&&(e.target===this.table||this.colgroup.contains(e.target))}}function Lae(t,e,n,r){let s=0,i=!0;const a=[],l=t.firstChild;if(!l)return{};for(let m=0,y=0;m<l.childCount;m+=1){const{colspan:x,colwidth:b}=l.child(m).attrs;for(let S=0;S<x;S+=1,y+=1){const C=n===y?r:b&&b[S];s+=C||e,C||(i=!1);const[N,k]=ow(e,C);a.push(["col",{style:`${N}: ${k}`}])}}const d=i?`${s}px`:"",f=i?"":`${s}px`;return{colgroup:["colgroup",{},...a],tableWidth:d,tableMinWidth:f}}function j3(t,e){return t.createAndFill()}function Pae(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(n=>{const r=t.nodes[n];r.spec.tableRole&&(e[r.spec.tableRole]=r)}),t.cached.tableNodeTypes=e,e}function zae(t,e,n,r,s){const i=Pae(t),a=[],l=[];for(let f=0;f<n;f+=1){const p=j3(i.cell);if(p&&l.push(p),r){const m=j3(i.header_cell);m&&a.push(m)}}const d=[];for(let f=0;f<e;f+=1)d.push(i.row.createChecked(null,r&&f===0?a:l));return i.table.createChecked(null,d)}function Iae(t){return t instanceof Fn}const bm=({editor:t})=>{const{selection:e}=t.state;if(!Iae(e))return!1;let n=0;const r=ER(e.ranges[0].$from,i=>i.type.name==="table");return r?.node.descendants(i=>{if(i.type.name==="table")return!1;["tableCell","tableHeader"].includes(i.type.name)&&(n+=1)}),n===e.ranges.length?(t.commands.deleteTable(),!0):!1},Bae=cr.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:_ae,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:t,HTMLAttributes:e}){const{colgroup:n,tableWidth:r,tableMinWidth:s}=Lae(t,this.options.cellMinWidth);return["table",Gn(this.options.HTMLAttributes,e,{style:r?`width: ${r}`:`min-width: ${s}`}),n,["tbody",0]]},addCommands(){return{insertTable:({rows:t=3,cols:e=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:s,editor:i})=>{const a=zae(i.schema,t,e,n);if(s){const l=r.selection.from+1;r.replaceSelectionWith(a).scrollIntoView().setSelection(Ht.near(r.doc.resolve(l)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>Qie(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>Zie(t,e),deleteColumn:()=>({state:t,dispatch:e})=>tae(t,e),addRowBefore:()=>({state:t,dispatch:e})=>rae(t,e),addRowAfter:()=>({state:t,dispatch:e})=>sae(t,e),deleteRow:()=>({state:t,dispatch:e})=>aae(t,e),deleteTable:()=>({state:t,dispatch:e})=>hae(t,e),mergeCells:()=>({state:t,dispatch:e})=>h3(t,e),splitCell:()=>({state:t,dispatch:e})=>p3(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>dh("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>dh("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>dae(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>h3(t,e)?!0:p3(t,e),setCellAttribute:(t,e)=>({state:n,dispatch:r})=>cae(t,e)(n,r),goToNextCell:()=>({state:t,dispatch:e})=>g3(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>g3(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&g_(t),!0),setCellSelection:t=>({tr:e,dispatch:n})=>{if(n){const r=Fn.create(e.doc,t.anchorCell,t.headCell);e.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:bm,"Mod-Backspace":bm,Delete:bm,"Mod-Delete":bm}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[Cae({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],Rae({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:cn(_t(t,"tableRole",e))}}}),Fae=cr.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",Gn(this.options.HTMLAttributes,t),0]}}),$ae=cr.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",Gn(this.options.HTMLAttributes,t),0]}}),Uae=cr.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",Gn(this.options.HTMLAttributes,t),0]}}),Vae=$ae.extend({addAttributes(){return{...this.parent?.(),style:{default:null,parseHTML:t=>t.getAttribute("style"),renderHTML:t=>({style:t.style})},"data-colwidth":{default:null,parseHTML:t=>t.getAttribute("data-colwidth"),renderHTML:t=>({"data-colwidth":t["data-colwidth"]})},"data-colindex":{default:null,parseHTML:t=>t.getAttribute("data-colindex"),renderHTML:t=>({"data-colindex":t["data-colindex"]})}}},renderHTML({node:t,HTMLAttributes:e}){return["td",{...e,class:"tiptap-table-cell","data-colwidth":t.attrs.colwidth?t.attrs.colwidth.join(","):null,"data-colindex":t.attrs["data-colindex"]||null},0]},addNodeView(){return({node:t,getPos:e,editor:n})=>{const{view:r}=n,s=document.createElement("td"),i=document.createElement("div"),a=document.createElement("div");i.contentEditable="true",s.appendChild(i),a.classList.add("column-resize-handle"),s.appendChild(a);const l=Array.from(s.parentElement?.children||[]).indexOf(s);l!==-1&&s.setAttribute("data-colindex",l);let d,f,p=!1;const m=b=>{b.button===0&&(b.preventDefault(),b.stopPropagation(),p=!0,d=b.clientX,f=s.offsetWidth,document.addEventListener("mousemove",y),document.addEventListener("mouseup",x),document.body.style.cursor="col-resize",document.body.style.userSelect="none",a.classList.add("is-resizing"))},y=b=>{if(!p)return;const S=b.clientX-d,C=Math.max(50,f+S),N=s.closest("table");if(N){const k=Array.from(s.parentElement.children).indexOf(s);N.querySelectorAll("tr").forEach(D=>{const E=D.querySelectorAll("td, th");E[k]&&(E[k].style.width=`${C}px`,E[k].style.minWidth=`${C}px`)})}},x=()=>{if(p&&(p=!1,document.body.style.cursor="",document.body.style.userSelect="",a.classList.remove("is-resizing"),document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",x),typeof e=="function")){const b=e(),S=Array.from(s.parentElement.children).indexOf(s),C=s.offsetWidth,N=r.state.tr,k=r.state.doc.resolve(b),M=k.node(-1),D=k.start(-1);M.descendants((E,A)=>{(E.type.name==="tableCell"||E.type.name==="tableHeader")&&(E.attrs.colspan>1?A-1:E.attrs["data-colindex"]||0)===S&&N.setNodeMarkup(D+A,null,{...E.attrs,style:`width: ${C}px; min-width: ${C}px;`,"data-colindex":S})}),N.steps.length>0&&r.dispatch(N)}};return a.addEventListener("mousedown",m),{dom:s,contentDOM:i,destroy:()=>{a.removeEventListener("mousedown",m),document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",x)}}}}}),ES=t=>t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""),Hae=QR.extend({addAttributes(){return{...this.parent?.(),id:{default:null,parseHTML:t=>t.getAttribute("id"),renderHTML:t=>t.id?{id:t.id}:{}}}},addCommands(){return{...this.parent?.(),setHeadingWithId:t=>({commands:e})=>e.setNode(this.name,t)}}}),qae=die.extend({addAttributes(){return{...this.parent?.(),alt:{default:"",parseHTML:t=>t.getAttribute("alt"),renderHTML:t=>t.alt?{alt:t.alt}:{}},title:{default:"",parseHTML:t=>t.getAttribute("title"),renderHTML:t=>t.title?{title:t.title}:{}},content:{default:"",parseHTML:t=>t.getAttribute("data-content"),renderHTML:t=>t.content?{"data-content":t.content}:{}}}}}),Kae=cr.create({name:"infoBox",group:"block",content:"inline*",defining:!0,addAttributes(){return{class:{default:"info-box"}}},parseHTML(){return[{tag:'div[class*="info-box"]'}]},renderHTML({HTMLAttributes:t}){return["div",Gn(t,{class:"info-box"}),0]},addCommands(){return{setInfoBox:()=>({commands:t})=>t.setNode("infoBox")}}}),Yae=Mi.create({name:"dynamicDate",inclusive(){return!1},parseHTML(){return[{tag:"span.dynamic-date"}]},renderHTML(){return["span",{class:"dynamic-date"},0]},addCommands(){return{toggleDynamicDate:()=>({commands:t})=>t.toggleMark(this.name)}}}),Wae=cr.create({name:"video",group:"block",atom:!0,inline:!1,addAttributes(){return{src:{default:null},alt:{default:""},title:{default:""},description:{default:""},type:{default:"local"},youtubeId:{default:null},width:{default:"100%"},height:{default:"auto"}}},parseHTML(){return[{tag:"video",getAttrs:t=>({src:t.getAttribute("src"),alt:t.getAttribute("alt"),title:t.getAttribute("title"),description:t.getAttribute("data-description"),type:t.getAttribute("data-type")||"local",youtubeId:t.getAttribute("data-youtube-id"),width:t.getAttribute("width")||"100%",height:t.getAttribute("height")||"auto"})},{tag:"div[data-video]",getAttrs:t=>({src:t.getAttribute("data-src"),alt:t.getAttribute("data-alt"),title:t.getAttribute("data-title"),description:t.getAttribute("data-description"),type:t.getAttribute("data-type")||"local",youtubeId:t.getAttribute("data-youtube-id"),width:t.getAttribute("width")||"100%",height:t.getAttribute("height")||"auto"})}]},renderHTML({HTMLAttributes:t}){const{src:e,alt:n,title:r,description:s,type:i,youtubeId:a,width:l,height:d}=t;return i==="youtube"&&a?["div",{class:"video-container youtube-video","data-video":!0,"data-type":"youtube","data-youtube-id":a,"data-alt":n,"data-title":r,"data-description":s,"data-width":l,"data-height":d},["iframe",{src:`https://www.youtube.com/embed/${a}`,width:l,height:d==="auto"?"315":d,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0,title:r||n}]]:["video",{src:e,alt:n,title:r,"data-description":s,"data-type":"local",width:l,height:d,controls:!0,preload:"metadata",class:"help-center-video"}]},addCommands(){return{setVideo:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}}}),Gae=cr.create({name:"youtubeVideo",group:"block",atom:!0,inline:!1,defining:!0,content:"",addAttributes(){return{videoId:{default:null},alt:{default:""},title:{default:""},description:{default:""},width:{default:"100%"},height:{default:"400"}}},parseHTML(){return[{tag:"div[data-youtube-video]",getAttrs:t=>({videoId:t.getAttribute("data-video-id"),alt:t.getAttribute("data-alt"),title:t.getAttribute("data-title"),description:t.getAttribute("data-description"),width:t.getAttribute("data-width")||"100%",height:t.getAttribute("data-height")||"400"})}]},renderHTML({HTMLAttributes:t}){const{videoId:e,alt:n,title:r,description:s,width:i,height:a}=t;return["div",{"data-youtube-video":!0,"data-video-id":e,"data-alt":n,"data-title":r,"data-description":s,"data-width":i,"data-height":a,class:"youtube-video-container"},["iframe",{src:`https://www.youtube.com/embed/${e}`,title:r||"YouTube video player",alt:n,width:i,height:a,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowfullscreen:!0,class:"youtube-iframe"}]]},addCommands(){return{setYouTubeVideo:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}}}),Xae=[oie.configure({heading:!1,paragraph:!0,blockquote:!0,codeBlock:!0}),Kae,Hae.configure({levels:[1,2,3,4,5,6],HTMLAttributes:{class:"heading-with-id"}}),lie.configure({types:["heading","paragraph"],alignments:["left","center","right","justify"]}),cie,Yae,qae.configure({inline:!0,allowBase64:!1,HTMLAttributes:{class:"help-center-image"}}),Pie.configure({openOnClick:!1,HTMLAttributes:{class:"custom-link",rel:"noopener noreferrer"}}),Bae.extend({content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({HTMLAttributes:t}){return["div",{class:"table-wrapper"},["table",{...t,class:"tiptap-table"},["tbody",0]]]},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.insertTable({rows:3,cols:3,withHeaderRow:!0})}}}).configure({resizable:!0,lastColumnResizable:!0,allowTableNodeSelection:!0,HTMLAttributes:{class:"tiptap-table"}}),Fae,Uae,Vae.configure({HTMLAttributes:{class:"tiptap-table-cell"}}),Wae,Gae],Jae=({uploadImgUrl:t="",uploadVideoUrl:e="https://api.nexus.com/api/admin/blog-media/upload-video",processYoutubeUrl:n="https://api.nexus.com/api/admin/blog-media/process-youtube"})=>{const{editor:r}=mS(),s=j.useRef(null),i=j.useRef(null),[a,l]=j.useState(!1),[d,f]=j.useState(!1),[p,m]=j.useState(!1),[y,x]=j.useState(""),[b,S]=j.useState(!1),[C,N]=j.useState(""),[k,M]=j.useState(""),[D,E]=j.useState(""),[A,F]=j.useState(null),[H,Z]=j.useState(!1),[ve,ue]=j.useState(""),[oe,te]=j.useState(""),[ne,xe]=j.useState(""),[W,le]=j.useState(null),[be,Fe]=j.useState(!1),[$,de]=j.useState(""),[ie,he]=j.useState(!1),[ke,ze]=j.useState(3),[Me,Ye]=j.useState(3),Re=j.useRef(null),ut=j.useRef(null),Ze=j.useRef(null),St=j.useRef(null);if(!r)return null;const Nt=async me=>{const mt=me.target.files[0];if(mt){l(!0);try{const Lt=new FormData;Lt.append("image",mt);const rt=await Ge.post(t,Lt,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("userToken")}`}});if(rt.data.success&&rt.data.data?.url){const Ae=rt.data.data.url;r.chain().focus().setImage({src:Ae}).run();const{state:lt}=r,{selection:jt}=lt,Et=jt.$anchor.pos-1;F(Et),N(""),M(""),E(""),S(!0),setTimeout(()=>{ut.current?.focus()},100)}else throw new Error("Invalid response format")}catch(Lt){console.error("Image upload failed:",Lt),ye.error("Failed to upload image. Please try again.")}finally{l(!1),me.target.value=""}}},Ft=async me=>{const mt=me.target.files[0];if(!mt)return;if(mt.size>100*1024*1024){ye.error("Video file size must be less than 100MB");return}if(!["video/mp4","video/mov","video/avi","video/wmv","video/webm"].includes(mt.type)){ye.error("Please select a valid video file (MP4, MOV, AVI, WMV, WebM)");return}f(!0);try{const rt=new FormData;rt.append("video",mt);const Ae=await Ge.post(e,rt,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("userToken")}`}});if(Ae.data.success&&Ae.data.data?.url){const lt=Ae.data.data.url;r.chain().focus().setVideo({src:lt,type:"local"}).run();const{state:jt}=r,{selection:Et}=jt,kt=Et.$anchor.pos-1;le(kt),ue(""),te(""),xe(""),Z(!0),setTimeout(()=>{Ze.current?.focus()},100)}else throw new Error("Invalid response format")}catch(rt){console.error("Video upload failed:",rt),ye.error("Failed to upload video. Please try again.")}finally{f(!1),me.target.value=""}},nt=async me=>{if(me.preventDefault(),!$.trim()){ye.error("Please enter a YouTube URL");return}let mt=null;const Lt=$.trim();if(Lt.includes("youtube.com/watch?v=")?mt=Lt.split("v=")[1]?.split("&")[0]:Lt.includes("youtu.be/")?mt=Lt.split("youtu.be/")[1]?.split("?")[0]:Lt.includes("youtube.com/embed/")&&(mt=Lt.split("embed/")[1]?.split("?")[0]),!mt){ye.error("Invalid YouTube URL. Please enter a valid YouTube video URL.");return}try{r.chain().focus().setYouTubeVideo({videoId:mt,alt:"",title:"YouTube video player",description:"",width:"100%",height:"400"}).run(),setTimeout(()=>{const jt=r.getHTML()},100)}catch(jt){console.error("Error inserting YouTube video:",jt),r.chain().focus().insertContent(`[YouTube Video: ${mt}]`).run(),ye.error("Failed to embed YouTube video. Please try again.")}const{state:rt}=r,{selection:Ae}=rt,lt=Ae.$anchor.pos-1;le(lt),ue(""),te(""),xe(""),Z(!0),setTimeout(()=>{Ze.current?.focus()},100),de(""),Fe(!1)},ee=me=>{if(me.preventDefault(),!A)return;const{state:mt}=r,Lt=mt.doc.nodeAt(A);Lt&&Lt.type.name==="image"&&r.chain().focus().command(({tr:rt})=>{const Ae={...Lt.attrs,alt:C,title:k,content:D};return rt.setNodeMarkup(A,void 0,Ae),!0}).run(),S(!1),N(""),M(""),E(""),F(null)},Ve=me=>{if(me.preventDefault(),!W)return;const{state:mt}=r,Lt=mt.doc.nodeAt(W);Lt&&Lt.type.name==="video"&&r.chain().focus().command(({tr:Ae})=>{const lt={...Lt.attrs,alt:ve,title:oe,description:ne};return Ae.setNodeMarkup(W,void 0,lt),!0}).run();const rt=r.getHTML();if(rt.includes("data-youtube-video")){let Ae=rt;Ae=Ae.replace(/<div([^>]*data-youtube-video[^>]*)>/g,(lt,jt)=>{let Et=jt.replace(/data-alt="[^"]*"/g,"").replace(/data-title="[^"]*"/g,"").replace(/data-description="[^"]*"/g,"");return ve&&(Et+=` data-alt="${ve}"`),oe&&(Et+=` data-title="${oe}"`),ne&&(Et+=` data-description="${ne}"`),`<div${Et}>`}),r.commands.setContent(Ae)}Z(!1),ue(""),te(""),xe(""),le(null)},qe=()=>{Z(!1),ue(""),te(""),xe(""),le(null),r.chain().focus().run()},at=()=>{S(!1),N(""),M(""),E(""),F(null),r.chain().focus().run()},bt=me=>{me.preventDefault();const{from:mt,to:Lt}=r.state.selection;if(r.state.doc.textBetween(mt,Lt," ").trim()===""){ye.error("Please select some text first");return}if(r.isActive("link")){const Ae=r.getAttributes("link").href||"";x(Ae)}else x("");m(!0),setTimeout(()=>{Re.current?.focus()},100)},B=me=>{if(me.preventDefault(),y.trim()===""){m(!1);return}let mt=y.trim();!mt.startsWith("http://")&&!mt.startsWith("https://")&&(mt="https://"+mt),r.chain().focus().setLink({href:mt}).run(),m(!1),x("")},se=()=>{m(!1),x(""),r.chain().focus().run()},I=me=>{me.preventDefault(),r.chain().focus().unsetLink().run()},fe=me=>{me.preventDefault(),he(!ie)},we=me=>{me.preventDefault(),r.chain().focus().insertTable({rows:ke,cols:Me,withHeaderRow:!0}).run(),he(!1)},V=me=>{me.preventDefault(),r.chain().focus().addRowAfter().run()},U=me=>{me.preventDefault(),r.chain().focus().addColumnAfter().run()},Ce=me=>{me.preventDefault(),r.chain().focus().deleteRow().run()},et=me=>{me.preventDefault(),r.chain().focus().deleteColumn().run()},ht=me=>{me.preventDefault(),r.chain().focus().deleteTable().run()},Jt=me=>{me.preventDefault(),r.chain().focus().mergeCells().run()},Pt=me=>{me.preventDefault(),r.chain().focus().splitCell().run()},an=me=>{me.preventDefault(),r.chain().focus().toggleHeaderRow().run()},Qt=me=>{me.preventDefault(),r.chain().focus().toggleHeaderColumn().run()},Te=me=>{me.preventDefault(),r.chain().focus().setCellAttribute("textAlign","left").run()},ot=me=>{me.preventDefault(),r.chain().focus().setCellAttribute("textAlign","center").run()},pt=me=>{me.preventDefault(),r.chain().focus().setCellAttribute("textAlign","right").run()};return c.jsxs("div",{className:"tiptap-toolbar single-line",children:[c.jsxs("div",{className:"toolbar-group",children:[c.jsx("button",{onClick:me=>{me.preventDefault(),r.chain().focus().toggleBold().run()},disabled:!r.can().chain().focus().toggleBold().run(),className:r.isActive("bold")?"is-active":"",title:"Bold",children:c.jsx(kH,{size:16})}),c.jsx("button",{onClick:me=>{me.preventDefault(),r.chain().focus().toggleItalic().run()},disabled:!r.can().chain().focus().toggleItalic().run(),className:r.isActive("italic")?"is-active":"",title:"Italic",children:c.jsx(eq,{size:16})}),c.jsx("button",{onClick:me=>{me.preventDefault(),r.chain().focus().toggleStrike().run()},disabled:!r.can().chain().focus().toggleStrike().run(),className:r.isActive("strike")?"is-active":"",title:"Strikethrough",children:c.jsx(xq,{size:16})}),c.jsx("button",{onClick:me=>{me.preventDefault(),r.chain().focus().toggleUnderline().run()},disabled:!r.can().chain().focus().toggleUnderline().run(),className:r.isActive("underline")?"is-active":"",title:"Underline",children:c.jsx(Cq,{size:16})}),c.jsx("button",{onClick:me=>{me.preventDefault(),r.chain().focus().toggleDynamicDate().run()},disabled:!r.can().chain().focus().toggleDynamicDate().run(),className:r.isActive("dynamicDate")?"is-active":"",title:"Dynamic Date",children:c.jsx(MH,{size:16})})]}),c.jsx("div",{className:"toolbar-divider"}),c.jsxs("div",{className:"toolbar-group",children:[c.jsx("button",{onClick:me=>{me.preventDefault(),r.chain().focus().toggleHeading({level:1}).run()},className:r.isActive("heading",{level:1})?"is-active":"",title:"Heading 1",children:c.jsx(BH,{size:16})}),c.jsx("button",{onClick:me=>{me.preventDefault(),r.chain().focus().toggleHeading({level:2}).run()},className:r.isActive("heading",{level:2})?"is-active":"",title:"Heading 2",children:c.jsx($H,{size:16})}),c.jsx("button",{onClick:me=>{me.preventDefault(),r.chain().focus().toggleHeading({level:3}).run()},className:r.isActive("heading",{level:3})?"is-active":"",title:"Heading 3",children:c.jsx(VH,{size:16})}),c.jsx("button",{onClick:me=>{me.preventDefault(),r.chain().focus().toggleHeading({level:4}).run()},className:r.isActive("heading",{level:4})?"is-active":"",title:"Heading 4",children:c.jsx(qH,{size:16})}),c.jsx("button",{onClick:me=>{me.preventDefault(),r.chain().focus().toggleHeading({level:5}).run()},className:r.isActive("heading",{level:5})?"is-active":"",title:"Heading 5",children:c.jsx(YH,{size:16})}),c.jsx("button",{onClick:me=>{me.preventDefault(),r.chain().focus().toggleHeading({level:6}).run()},className:r.isActive("heading",{level:6})?"is-active":"",title:"Heading 6",children:c.jsx(GH,{size:16})})]}),c.jsx("div",{className:"toolbar-divider"}),c.jsxs("div",{className:"toolbar-group",children:[c.jsx("button",{onClick:me=>{me.preventDefault(),r.chain().focus().toggleBulletList().run()},className:r.isActive("bulletList")?"is-active":"",title:"Bullet List",children:c.jsx(iq,{size:16})}),c.jsx("button",{onClick:me=>{me.preventDefault(),r.chain().focus().toggleOrderedList().run()},className:r.isActive("orderedList")?"is-active":"",title:"Numbered List",children:c.jsx(rq,{size:16})})]}),c.jsx("div",{className:"toolbar-divider"}),c.jsxs("div",{className:"toolbar-group",children:[c.jsx("button",{onClick:me=>{me.preventDefault(),r.isActive("blockquote")?r.chain().focus().toggleBlockquote().run():r.chain().focus().toggleBlockquote().updateAttributes("blockquote",{class:""}).run()},className:r.isActive("blockquote")&&r.getAttributes("blockquote").class!=="info-box"?"is-active":"",title:"Blockquote",children:c.jsx(fq,{size:16})}),c.jsx("button",{onClick:me=>{me.preventDefault(),r.isActive("infoBox")?r.chain().focus().setParagraph().run():r.chain().focus().setInfoBox().run()},className:r.isActive("infoBox")?"is-active":"",title:"Info Box",children:c.jsx(QH,{size:16})}),c.jsx("button",{onClick:me=>{me.preventDefault(),r.chain().focus().toggleCodeBlock().run()},className:r.isActive("codeBlock")?"is-active":"",title:"Code Block",children:c.jsx(zH,{size:16})}),c.jsx("button",{onClick:me=>{me.preventDefault(),r.chain().focus().setHorizontalRule().run()},title:"Horizontal Rule",children:c.jsx(cq,{size:16})})]}),c.jsx("div",{className:"toolbar-divider"}),c.jsxs("div",{className:"toolbar-group",children:[c.jsx("button",{onClick:me=>{me.preventDefault(),r.chain().focus().setTextAlign("left").run()},className:r.isActive({textAlign:"left"})?"is-active":"",title:"Align Left",children:c.jsx(QE,{size:16})}),c.jsx("button",{onClick:me=>{me.preventDefault(),r.chain().focus().setTextAlign("center").run()},className:r.isActive({textAlign:"center"})?"is-active":"",title:"Align Center",children:c.jsx(JE,{size:16})}),c.jsx("button",{onClick:me=>{me.preventDefault(),r.chain().focus().setTextAlign("right").run()},className:r.isActive({textAlign:"right"})?"is-active":"",title:"Align Right",children:c.jsx(ZE,{size:16})}),c.jsx("button",{onClick:me=>{me.preventDefault(),r.chain().focus().setTextAlign("justify").run()},className:r.isActive({textAlign:"justify"})?"is-active":"",title:"Justify",children:c.jsx(jH,{size:16})})]}),c.jsx("div",{className:"toolbar-divider"}),c.jsxs("div",{className:"toolbar-group",children:[c.jsx("button",{onClick:bt,className:r.isActive("link")?"is-active":"",title:"Add/Edit Link",children:c.jsx(aM,{size:16})}),r.isActive("link")&&c.jsx("button",{onClick:I,title:"Remove Link",children:c.jsx(oM,{size:16})})]}),c.jsx("div",{className:"toolbar-divider"}),c.jsxs("div",{className:"toolbar-group",children:[c.jsx("input",{type:"file",ref:s,onChange:Nt,accept:"image/*",style:{display:"none"},disabled:a}),c.jsx("button",{onClick:me=>{me.preventDefault(),s.current.click()},title:"Upload Image",disabled:a,className:a?"is-uploading":"",children:a?"Uploading...":c.jsx(iM,{size:16})})]}),c.jsx("div",{className:"toolbar-divider"}),c.jsxs("div",{className:"toolbar-group",children:[c.jsx("input",{type:"file",ref:i,onChange:Ft,accept:"video/*",style:{display:"none"},disabled:d}),c.jsx("button",{onClick:me=>{me.preventDefault(),i.current.click()},title:"Upload Video",disabled:d,className:d?"is-uploading":"",children:d?"Uploading...":c.jsx(lM,{size:16})}),c.jsx("button",{onClick:me=>{me.preventDefault(),Fe(!0),setTimeout(()=>{St.current?.focus()},100)},title:"Add YouTube Video",children:c.jsx(Oq,{size:16})})]}),c.jsx("div",{className:"toolbar-divider"}),c.jsx("div",{className:"toolbar-group",children:c.jsx("button",{onClick:fe,className:r.isActive("table")?"is-active":"",title:"Table",children:c.jsx(bq,{size:16})})}),c.jsx("div",{className:"toolbar-divider"}),c.jsxs("div",{className:"toolbar-group",children:[c.jsx("button",{onClick:me=>{me.preventDefault(),r.chain().focus().undo().run()},disabled:!r.can().undo(),title:"Undo",children:c.jsx(jq,{size:16})}),c.jsx("button",{onClick:me=>{me.preventDefault(),r.chain().focus().redo().run()},disabled:!r.can().redo(),title:"Redo",children:c.jsx(pq,{size:16})})]}),ie&&c.jsxs("div",{className:"table-controls-modal",children:[c.jsx("div",{className:"table-controls-overlay",onClick:()=>he(!1)}),c.jsxs("div",{className:"table-controls-container",children:[c.jsx("h4",{children:"Create Table"}),c.jsxs("div",{className:"table-controls-grid",children:[c.jsxs("div",{className:"table-control-row",children:[c.jsx("label",{children:"Rows:"}),c.jsx("input",{type:"number",min:"1",max:"10",value:ke,onChange:me=>ze(parseInt(me.target.value)||1)})]}),c.jsxs("div",{className:"table-control-row",children:[c.jsx("label",{children:"Columns:"}),c.jsx("input",{type:"number",min:"1",max:"10",value:Me,onChange:me=>Ye(parseInt(me.target.value)||1)})]})]}),c.jsxs("div",{className:"table-controls-buttons",children:[c.jsx("button",{onClick:we,className:"table-create-btn",children:"Create Table"}),c.jsx("button",{onClick:()=>he(!1),className:"table-cancel-btn",children:"Cancel"})]})]})]}),r?.isActive("table")&&c.jsxs("div",{className:"table-edit-controls",children:[c.jsxs("div",{className:"table-controls-group",children:[c.jsx("button",{onClick:V,title:"Add Row",children:c.jsx(t4,{size:14})}),c.jsx("button",{onClick:U,title:"Add Column",children:c.jsx(t4,{size:14,style:{transform:"rotate(90deg)"}})}),c.jsx("button",{onClick:Ce,title:"Delete Row",children:c.jsx(Nv,{size:14})}),c.jsx("button",{onClick:et,title:"Delete Column",children:c.jsx(Nv,{size:14,style:{transform:"rotate(90deg)"}})})]}),c.jsx("div",{className:"table-controls-divider"}),c.jsxs("div",{className:"table-controls-group",children:[c.jsx("button",{onClick:Jt,title:"Merge Cells",children:c.jsx(oq,{size:14})}),c.jsx("button",{onClick:Pt,title:"Split Cell",children:c.jsx(gq,{size:14})})]}),c.jsx("div",{className:"table-controls-divider"}),c.jsxs("div",{className:"table-controls-group",children:[c.jsx("button",{onClick:Te,title:"Align Left",children:c.jsx(QE,{size:14})}),c.jsx("button",{onClick:ot,title:"Align Center",children:c.jsx(JE,{size:14})}),c.jsx("button",{onClick:pt,title:"Align Right",children:c.jsx(ZE,{size:14})})]}),c.jsx("div",{className:"table-controls-divider"}),c.jsxs("div",{className:"table-controls-group",children:[c.jsx("button",{onClick:an,title:"Toggle Header Row",children:"H"}),c.jsx("button",{onClick:Qt,title:"Toggle Header Column",children:"H|"}),c.jsx("button",{onClick:ht,title:"Delete Table",children:c.jsx(Nv,{size:14,color:"#ef4444"})})]})]}),p&&c.jsxs("div",{className:"link-input-modal",children:[c.jsx("div",{className:"link-input-overlay",onClick:se}),c.jsx("div",{className:"link-input-container",children:c.jsxs("div",{children:[c.jsx("input",{ref:Re,type:"text",value:y,onChange:me=>x(me.target.value),placeholder:"Enter URL (e.g., https://example.com)",className:"link-input",onKeyDown:me=>{me.key==="Enter"&&(me.preventDefault(),B(me)),me.key==="Escape"&&se()}}),c.jsxs("div",{className:"link-input-buttons",children:[c.jsxs("button",{type:"button",onClick:B,className:"link-submit-btn",children:[r.isActive("link")?"Update":"Add"," Link"]}),c.jsx("button",{type:"button",onClick:se,className:"link-cancel-btn",children:"Cancel"})]})]})})]}),b&&c.jsxs("div",{className:"link-input-modal",children:[c.jsx("div",{className:"link-input-overlay",onClick:at}),c.jsx("div",{className:"link-input-container",children:c.jsxs("div",{className:"image-meta-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Alt Text"}),c.jsx("input",{ref:ut,type:"text",value:C,onChange:me=>N(me.target.value),placeholder:"Enter alt text for accessibility",className:"link-input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Title"}),c.jsx("input",{type:"text",value:k,onChange:me=>M(me.target.value),placeholder:"Enter title text (shown on hover)",className:"link-input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Content"}),c.jsx("textarea",{value:D,onChange:me=>E(me.target.value),placeholder:"Enter additional content or description",className:"link-input textarea",rows:3})]}),c.jsxs("div",{className:"link-input-buttons",children:[c.jsx("button",{type:"button",onClick:ee,className:"link-submit-btn",children:"Save Image Details"}),c.jsx("button",{type:"button",onClick:at,className:"link-cancel-btn",children:"Cancel"})]})]})})]}),H&&c.jsxs("div",{className:"link-input-modal",children:[c.jsx("div",{className:"link-input-overlay",onClick:qe}),c.jsx("div",{className:"link-input-container",children:c.jsxs("div",{className:"image-meta-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Alt Text"}),c.jsx("input",{ref:Ze,type:"text",value:ve,onChange:me=>ue(me.target.value),placeholder:"Enter alt text for accessibility",className:"link-input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Title"}),c.jsx("input",{type:"text",value:oe,onChange:me=>te(me.target.value),placeholder:"Enter title text (shown on hover)",className:"link-input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Description"}),c.jsx("textarea",{value:ne,onChange:me=>xe(me.target.value),placeholder:"Enter video description",className:"link-input textarea",rows:3})]}),c.jsxs("div",{className:"link-input-buttons",children:[c.jsx("button",{type:"button",onClick:Ve,className:"link-submit-btn",children:"Save Video Details"}),c.jsx("button",{type:"button",onClick:qe,className:"link-cancel-btn",children:"Cancel"})]})]})})]}),be&&c.jsxs("div",{className:"link-input-modal",children:[c.jsx("div",{className:"link-input-overlay",onClick:()=>Fe(!1)}),c.jsx("div",{className:"link-input-container",children:c.jsxs("div",{children:[c.jsx("h4",{children:"Add YouTube Video"}),c.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Enter a YouTube URL to embed the video directly in your content."}),c.jsx("input",{ref:St,type:"text",value:$,onChange:me=>de(me.target.value),placeholder:"Enter YouTube URL (e.g., https://www.youtube.com/watch?v=VIDEO_ID)",className:"link-input",onKeyDown:me=>{me.key==="Enter"&&(me.preventDefault(),nt(me)),me.key==="Escape"&&Fe(!1)}}),c.jsxs("div",{className:"link-input-buttons",children:[c.jsx("button",{type:"button",onClick:nt,className:"link-submit-btn",children:"Embed Video"}),c.jsx("button",{type:"button",onClick:()=>Fe(!1),className:"link-cancel-btn",children:"Cancel"})]})]})})]})]})},Qae=()=>{const{editor:t}=mS(),[e,n]=j.useState(!1),[r,s]=j.useState(""),[i,a]=j.useState(!1),[l,d]=j.useState(""),[f,p]=j.useState(""),[m,y]=j.useState(""),[x,b]=j.useState(null),[S,C]=j.useState(!1),[N,k]=j.useState(""),[M,D]=j.useState(""),[E,A]=j.useState(""),[F,H]=j.useState(null),Z=j.useRef(null),ve=j.useRef(null),ue=j.useRef(null);if(!t)return null;const oe=ie=>{if(ie.preventDefault(),t.isActive("link")){const he=t.getAttributes("link").href||"";s(he)}else s("");n(!0),setTimeout(()=>{Z.current?.focus()},100)},te=ie=>{if(ie.preventDefault(),r.trim()===""){n(!1);return}let he=r.trim();!he.startsWith("http://")&&!he.startsWith("https://")&&(he="https://"+he),t.chain().focus().setLink({href:he}).run(),n(!1),s("")},ne=()=>{n(!1),s(""),t.chain().focus().run()},xe=ie=>{ie.preventDefault(),t.chain().focus().unsetLink().run()},W=ie=>{ie.preventDefault();const{state:he}=t,{from:ke,to:ze}=he.selection;he.doc.nodesBetween(ke,ze,(Me,Ye)=>{if(Me.type.name==="image")return b(Ye),d(Me.attrs.alt||""),p(Me.attrs.title||""),y(Me.attrs.content||""),a(!0),setTimeout(()=>{ve.current?.focus()},100),!1})},le=ie=>{ie.preventDefault(),x!==null&&(t.chain().focus().command(({tr:he})=>{const ke=he.doc.nodeAt(x);return ke&&ke.type.name==="image"&&he.setNodeMarkup(x,void 0,{...ke.attrs,alt:l,title:f,content:m}),!0}).run(),a(!1),d(""),p(""),y(""),b(null))},be=()=>{a(!1),d(""),p(""),y(""),b(null),t.chain().focus().run()},Fe=ie=>{ie.preventDefault();const{state:he}=t,{from:ke,to:ze}=he.selection;he.doc.nodesBetween(ke,ze,(Ye,Re)=>{if(Ye.type.name==="video")return H(Re),k(Ye.attrs.alt||""),D(Ye.attrs.title||""),A(Ye.attrs.description||""),C(!0),setTimeout(()=>{ue.current?.focus()},100),!1});const Me=t.getHTML();if(Me.includes("data-youtube-video")){const Ye=Me.match(/<div[^>]*data-youtube-video[^>]*>/);if(Ye){const Re=Ye[0],ut=Re.match(/data-title="([^"]*)"/),Ze=Re.match(/data-alt="([^"]*)"/),St=Re.match(/data-description="([^"]*)"/);H(ke),k(Ze?Ze[1]:""),D(ut?ut[1]:""),A(St?St[1]:""),C(!0),setTimeout(()=>{ue.current?.focus()},100)}}},$=ie=>{if(ie.preventDefault(),F===null)return;t.chain().focus().command(({tr:ke})=>{const ze=ke.doc.nodeAt(F);return ze&&ze.type.name==="video"?(ke.setNodeMarkup(F,void 0,{...ze.attrs,alt:N,title:M,description:E}),!0):!1}).run();const he=t.getHTML();if(he.includes("data-youtube-video")){let ke=he;ke=ke.replace(/<div([^>]*data-youtube-video[^>]*)>/g,(ze,Me)=>{let Ye=Me.replace(/data-alt="[^"]*"/g,"").replace(/data-title="[^"]*"/g,"").replace(/data-description="[^"]*"/g,"");return N&&(Ye+=` data-alt="${N}"`),M&&(Ye+=` data-title="${M}"`),E&&(Ye+=` data-description="${E}"`),`<div${Ye}>`}),t.commands.setContent(ke)}C(!1),k(""),D(""),A(""),H(null)},de=()=>{C(!1),k(""),D(""),A(""),H(null),t.chain().focus().run()};return c.jsx(ase,{editor:t,tippyOptions:{duration:100,onHidden:()=>{n(!1),a(!1),C(!1),s(""),d(""),p(""),y(""),b(null),k(""),D(""),A(""),H(null)}},children:c.jsxs("div",{className:"bubble-menu",children:[c.jsxs("div",{className:"flex",children:[c.jsx("button",{onClick:oe,className:t.isActive("link")?"is-active":"",title:"Add/Edit Link",children:c.jsx(aM,{size:14})}),t.isActive("link")&&c.jsx("button",{onClick:xe,title:"Remove Link",children:c.jsx(oM,{size:14})}),t.isActive("image")&&c.jsx("button",{onClick:W,title:"Edit Image Details",children:c.jsx(iM,{size:14})}),(t.isActive("video")||t.getHTML().includes("data-youtube-video"))&&c.jsx("button",{onClick:Fe,title:"Edit Video Details",children:c.jsx(lM,{size:14})})]}),i&&c.jsx("div",{className:"bubble-link-input",children:c.jsxs("div",{className:"image-meta-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Alt:"}),c.jsx("input",{ref:ve,type:"text",value:l,onChange:ie=>d(ie.target.value),placeholder:"Alt text",className:"bubble-link-field !w-full"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Title:"}),c.jsx("input",{type:"text",value:f,onChange:ie=>p(ie.target.value),placeholder:"Title",className:"bubble-link-field !w-full"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Content:"}),c.jsx("textarea",{value:m,onChange:ie=>y(ie.target.value),placeholder:"Content",className:"bubble-link-field textarea",rows:2})]}),c.jsxs("div",{className:"form-buttons",children:[c.jsx("button",{type:"button",onClick:le,className:"bubble-link-submit",children:c.jsx(e4,{size:16,color:"green"})}),c.jsx("button",{type:"button",onClick:be,className:"bubble-link-cancel",children:c.jsx(n4,{size:16,color:"red"})})]})]})}),e&&c.jsx("div",{className:"bubble-link-input",children:c.jsxs("div",{children:[c.jsx("input",{ref:Z,type:"text",value:r,onChange:ie=>s(ie.target.value),placeholder:"Enter URL",className:"bubble-link-field",onKeyDown:ie=>{ie.key==="Enter"&&(ie.preventDefault(),te(ie)),ie.key==="Escape"&&ne()}}),c.jsx("button",{type:"button",onClick:te,className:"bubble-link-submit",children:""}),c.jsx("button",{type:"button",onClick:ne,className:"bubble-link-cancel",children:""})]})}),S&&c.jsx("div",{className:"bubble-link-input",children:c.jsxs("div",{className:"image-meta-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Alt:"}),c.jsx("input",{ref:ue,type:"text",value:N,onChange:ie=>k(ie.target.value),placeholder:"Alt text",className:"bubble-link-field !w-full"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Title:"}),c.jsx("input",{type:"text",value:M,onChange:ie=>D(ie.target.value),placeholder:"Title",className:"bubble-link-field !w-full"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Desc:"}),c.jsx("textarea",{value:E,onChange:ie=>A(ie.target.value),placeholder:"Description",className:"bubble-link-field textarea",rows:2})]}),c.jsxs("div",{className:"form-buttons",children:[c.jsx("button",{type:"button",onClick:$,className:"bubble-link-submit",children:c.jsx(e4,{size:16,color:"green"})}),c.jsx("button",{type:"button",onClick:de,className:"bubble-link-cancel",children:c.jsx(n4,{size:16,color:"red"})})]})]})})]})})},Zae=t=>{const r=new DOMParser().parseFromString(t,"text/html").querySelectorAll("h1, h2, h3, h4, h5, h6");return Array.from(r).map(s=>{const i=s.textContent.trim(),a=s.id,l=ES(i);return{id:a||l,text:i,level:parseInt(s.tagName.substring(1)),tag:s.tagName.toLowerCase()}})},eoe=t=>{const n=new DOMParser().parseFromString(t,"text/html"),r=n.querySelectorAll("h1, h2, h3, h4, h5, h6");let s=!1;return r.forEach(i=>{const a=i.textContent.trim();a&&!i.id&&(i.id=ES(a),s=!0)}),s?n.body.innerHTML:t},ui=({content:t="",onUpdate:e,onHeadingsUpdate:n,uploadImgUrl:r="https://nexus-consults.com/api/public/api/admin/blogs/upload-content-image",uploadVideoUrl:s="https://api.nexus.com/api/admin/blog-media/upload-video",processYoutubeUrl:i="https://api.nexus.com/api/admin/blog-media/process-youtube"})=>{const[a,l]=j.useState(!1),[d,f]=j.useState(null),p=j.useRef(null),m=j.useCallback(b=>{!b||!a||(p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{const{state:S}=b,{tr:C}=S;let N=!1;S.doc.descendants((k,M)=>{if(k.type.name==="heading"&&k.textContent){const D=k.attrs.id,E=ES(k.textContent);D!==E&&(C.setNodeMarkup(M,void 0,{...k.attrs,id:E}),N=!0)}}),N&&b.view.dispatch(C)},500))},[a]),y=j.useCallback(({editor:b})=>{if(a){let S=b.getHTML();S=eoe(S);const C=Zae(S);e&&e(S),n&&n(C),m(b)}},[e,n,a,m]),x=j.useCallback(({editor:b})=>{f(b)},[]);return j.useEffect(()=>(l(!0),()=>{p.current&&clearTimeout(p.current)}),[]),c.jsx("div",{className:"tiptap-container",children:c.jsxs(ise,{extensions:Xae,content:t,onUpdate:y,onCreate:x,children:[c.jsx(Jae,{uploadImgUrl:r,uploadVideoUrl:s,processYoutubeUrl:i}),c.jsx(Qae,{})]})})};function Ph({onDateChange:t,initialRange:e}){const[n,r]=j.useState(e?.startDate||null),[s,i]=j.useState(e?.endDate||null),[a,l]=j.useState(!1),d=j.useRef(null),f=j.useRef(null),[p,m]=j.useState({top:0,left:0,width:256});j.useEffect(()=>{(e?.startDate||e?.startDate===null)&&r(e.startDate||null),(e?.endDate||e?.endDate===null)&&i(e.endDate||null)},[e?.startDate,e?.endDate]),j.useEffect(()=>{const N=k=>{d.current&&!d.current.contains(k.target)&&f.current&&!f.current.contains(k.target)&&l(!1)};return a&&document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[a]);const y=()=>{const N=f.current;if(!N)return;const k=N.getBoundingClientRect(),M=4,D=256;let E=k.left;E+D>window.innerWidth-M&&(E=window.innerWidth-M-D),E<M&&(E=M);const A=k.bottom+M;m({top:A,left:E,width:D})};j.useLayoutEffect(()=>{if(a){y();const N=()=>y(),k=()=>y();return window.addEventListener("scroll",N,!0),window.addEventListener("resize",k),()=>{window.removeEventListener("scroll",N,!0),window.removeEventListener("resize",k)}}},[a]);const x=N=>{if(!(N instanceof Date)||isNaN(N))return"";const k=N.getFullYear(),M=String(N.getMonth()+1).padStart(2,"0"),D=String(N.getDate()).padStart(2,"0");return`${k}-${M}-${D}`},b=()=>{const N=x(n),k=x(s);return!N&&!k?"Select date range":N&&!k?`${N}  ...`:!N&&k?`...  ${k}`:`${N}  ${k}`},S=()=>{t?.({startDate:n,endDate:s}),l(!1)},C=()=>{r(null),i(null),t?.({startDate:null,endDate:null}),l(!1)};return c.jsxs("div",{className:"relative",children:[c.jsx("button",{type:"button",ref:f,className:"w-full text-left text-xs p-1.5 border rounded hover:bg-gray-50",onClick:()=>l(N=>!N),title:"Filter by created date range",children:b()}),a&&Aw.createPortal(c.jsx("div",{ref:d,className:"bg-white border rounded shadow p-3",style:{position:"fixed",top:p.top,left:p.left,width:p.width,zIndex:9999},children:c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("label",{className:"text-[10px] text-gray-500",children:"From"}),c.jsx("input",{type:"date",value:x(n),onChange:N=>r(N.target.value?new Date(`${N.target.value}T00:00:00`):null),className:"text-xs p-1 border rounded w-full"}),c.jsx("label",{className:"text-[10px] text-gray-500",children:"To"}),c.jsx("input",{type:"date",value:x(s),onChange:N=>i(N.target.value?new Date(`${N.target.value}T00:00:00`):null),className:"text-xs p-1 border rounded w-full"}),c.jsxs("div",{className:"flex justify-between gap-2 pt-1",children:[c.jsx("button",{type:"button",className:"px-2 py-1 text-xs bg-gray-100 rounded",onClick:C,children:"Clear"}),c.jsx("button",{type:"button",className:"px-2 py-1 text-xs bg-primary text-white rounded",onClick:S,children:"Apply"})]})]})}),document.body)]})}var toe={};function noe(t){if(Array.isArray(t))return t}function roe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,a,l=[],d=!0,f=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw s}}return l}}function lw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function w_(t,e){if(t){if(typeof t=="string")return lw(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lw(t,e):void 0}}function soe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ym(t,e){return noe(t)||roe(t,e)||w_(t,e)||soe()}function Bn(t){"@babel/helpers - typeof";return Bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bn(t)}function na(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e){for(var r=[],s=0;s<e.length;s++){var i=e[s];if(i){var a=Bn(i);if(a==="string"||a==="number")r.push(i);else if(a==="object"){var l=Array.isArray(i)?i:Object.entries(i).map(function(d){var f=Ym(d,2),p=f[0],m=f[1];return m?p:null});r=l.length?r.concat(l.filter(function(d){return!!d})):r}}}return r.join(" ").trim()}}function ioe(t){if(Array.isArray(t))return lw(t)}function aoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ooe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ry(t){return ioe(t)||aoe(t)||w_(t)||ooe()}function AS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function loe(t,e){if(Bn(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function S_(t){var e=loe(t,"string");return Bn(e)=="symbol"?e:e+""}function coe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S_(r.key),r)}}function kS(t,e,n){return n&&coe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gy(t,e,n){return(e=S_(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nb(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=uoe(t))||e){n&&(t=n);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(f){throw f},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var f=n.next();return a=f.done,f},e:function(f){l=!0,i=f},f:function(){try{a||n.return==null||n.return()}finally{if(l)throw i}}}}function uoe(t,e){if(t){if(typeof t=="string")return T3(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T3(t,e):void 0}}function T3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var xn=function(){function t(){AS(this,t)}return kS(t,null,[{key:"innerWidth",value:function(n){if(n){var r=n.offsetWidth,s=getComputedStyle(n);return r=r+(parseFloat(s.paddingLeft)+parseFloat(s.paddingRight)),r}return 0}},{key:"width",value:function(n){if(n){var r=n.offsetWidth,s=getComputedStyle(n);return r=r-(parseFloat(s.paddingLeft)+parseFloat(s.paddingRight)),r}return 0}},{key:"getBrowserLanguage",value:function(){return navigator.userLanguage||navigator.languages&&navigator.languages.length&&navigator.languages[0]||navigator.language||navigator.browserLanguage||navigator.systemLanguage||"en"}},{key:"getWindowScrollTop",value:function(){var n=document.documentElement;return(window.pageYOffset||n.scrollTop)-(n.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var n=document.documentElement;return(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}},{key:"getOuterWidth",value:function(n,r){if(n){var s=n.getBoundingClientRect().width||n.offsetWidth;if(r){var i=getComputedStyle(n);s=s+(parseFloat(i.marginLeft)+parseFloat(i.marginRight))}return s}return 0}},{key:"getOuterHeight",value:function(n,r){if(n){var s=n.getBoundingClientRect().height||n.offsetHeight;if(r){var i=getComputedStyle(n);s=s+(parseFloat(i.marginTop)+parseFloat(i.marginBottom))}return s}return 0}},{key:"getClientHeight",value:function(n,r){if(n){var s=n.clientHeight;if(r){var i=getComputedStyle(n);s=s+(parseFloat(i.marginTop)+parseFloat(i.marginBottom))}return s}return 0}},{key:"getClientWidth",value:function(n,r){if(n){var s=n.clientWidth;if(r){var i=getComputedStyle(n);s=s+(parseFloat(i.marginLeft)+parseFloat(i.marginRight))}return s}return 0}},{key:"getViewport",value:function(){var n=window,r=document,s=r.documentElement,i=r.getElementsByTagName("body")[0],a=n.innerWidth||s.clientWidth||i.clientWidth,l=n.innerHeight||s.clientHeight||i.clientHeight;return{width:a,height:l}}},{key:"getOffset",value:function(n){if(n){var r=n.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}},{key:"index",value:function(n){if(n)for(var r=n.parentNode.childNodes,s=0,i=0;i<r.length;i++){if(r[i]===n)return s;r[i].nodeType===1&&s++}return-1}},{key:"addMultipleClasses",value:function(n,r){if(n&&r)if(n.classList)for(var s=r.split(" "),i=0;i<s.length;i++)n.classList.add(s[i]);else for(var a=r.split(" "),l=0;l<a.length;l++)n.className=n.className+(" "+a[l])}},{key:"removeMultipleClasses",value:function(n,r){if(n&&r)if(n.classList)for(var s=r.split(" "),i=0;i<s.length;i++)n.classList.remove(s[i]);else for(var a=r.split(" "),l=0;l<a.length;l++)n.className=n.className.replace(new RegExp("(^|\\b)"+a[l].split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"addClass",value:function(n,r){n&&r&&(n.classList?n.classList.add(r):n.className=n.className+(" "+r))}},{key:"removeClass",value:function(n,r){n&&r&&(n.classList?n.classList.remove(r):n.className=n.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(n,r){return n?n.classList?n.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(n.className):!1}},{key:"addStyles",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};n&&Object.entries(r).forEach(function(s){var i=Ym(s,2),a=i[0],l=i[1];return n.style[a]=l})}},{key:"find",value:function(n,r){return n?Array.from(n.querySelectorAll(r)):[]}},{key:"findSingle",value:function(n,r){return n?n.querySelector(r):null}},{key:"setAttributes",value:function(n){var r=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n){var i=function(l,d){var f,p,m=n!=null&&(f=n.$attrs)!==null&&f!==void 0&&f[l]?[n==null||(p=n.$attrs)===null||p===void 0?void 0:p[l]]:[];return[d].flat().reduce(function(y,x){if(x!=null){var b=Bn(x);if(b==="string"||b==="number")y.push(x);else if(b==="object"){var S=Array.isArray(x)?i(l,x):Object.entries(x).map(function(C){var N=Ym(C,2),k=N[0],M=N[1];return l==="style"&&(M||M===0)?"".concat(k.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(M):M?k:void 0});y=S.length?y.concat(S.filter(function(C){return!!C})):y}}return y},m)};Object.entries(s).forEach(function(a){var l=Ym(a,2),d=l[0],f=l[1];if(f!=null){var p=d.match(/^on(.+)/);p?n.addEventListener(p[1].toLowerCase(),f):d==="p-bind"?r.setAttributes(n,f):(f=d==="class"?ry(new Set(i("class",f))).join(" ").trim():d==="style"?i("style",f).join(";").trim():f,(n.$attrs=n.$attrs||{})&&(n.$attrs[d]=f),n.setAttribute(d,f))}})}}},{key:"getAttribute",value:function(n,r){if(n){var s=n.getAttribute(r);return isNaN(s)?s==="true"||s==="false"?s==="true":s:+s}}},{key:"isAttributeEquals",value:function(n,r,s){return n?this.getAttribute(n,r)===s:!1}},{key:"isAttributeNotEquals",value:function(n,r,s){return!this.isAttributeEquals(n,r,s)}},{key:"getHeight",value:function(n){if(n){var r=n.offsetHeight,s=getComputedStyle(n);return r=r-(parseFloat(s.paddingTop)+parseFloat(s.paddingBottom)+parseFloat(s.borderTopWidth)+parseFloat(s.borderBottomWidth)),r}return 0}},{key:"getWidth",value:function(n){if(n){var r=n.offsetWidth,s=getComputedStyle(n);return r=r-(parseFloat(s.paddingLeft)+parseFloat(s.paddingRight)+parseFloat(s.borderLeftWidth)+parseFloat(s.borderRightWidth)),r}return 0}},{key:"alignOverlay",value:function(n,r,s){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;n&&r&&(s==="self"?this.relativePosition(n,r):(i&&(n.style.minWidth=t.getOuterWidth(r)+"px"),this.absolutePosition(n,r)))}},{key:"absolutePosition",value:function(n,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left";if(n&&r){var i=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),a=i.height,l=i.width,d=r.offsetHeight,f=r.offsetWidth,p=r.getBoundingClientRect(),m=this.getWindowScrollTop(),y=this.getWindowScrollLeft(),x=this.getViewport(),b,S;p.top+d+a>x.height?(b=p.top+m-a,b<0&&(b=m),n.style.transformOrigin="bottom"):(b=d+p.top+m,n.style.transformOrigin="top");var C=p.left;s==="left"?C+l>x.width?S=Math.max(0,C+y+f-l):S=C+y:C+f-l<0?S=y:S=C+f-l+y,n.style.top=b+"px",n.style.left=S+"px"}}},{key:"relativePosition",value:function(n,r){if(n&&r){var s=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),i=r.offsetHeight,a=r.getBoundingClientRect(),l=this.getViewport(),d,f;a.top+i+s.height>l.height?(d=-1*s.height,a.top+d<0&&(d=-1*a.top),n.style.transformOrigin="bottom"):(d=i,n.style.transformOrigin="top"),s.width>l.width?f=a.left*-1:a.left+s.width>l.width?f=(a.left+s.width-l.width)*-1:f=0,n.style.top=d+"px",n.style.left=f+"px"}}},{key:"flipfitCollision",value:function(n,r){var s=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left top",a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"left bottom",l=arguments.length>4?arguments[4]:void 0;if(n&&r){var d=r.getBoundingClientRect(),f=this.getViewport(),p=i.split(" "),m=a.split(" "),y=function(N,k){return k?+N.substring(N.search(/(\+|-)/g))||0:N.substring(0,N.search(/(\+|-)/g))||N},x={my:{x:y(p[0]),y:y(p[1]||p[0]),offsetX:y(p[0],!0),offsetY:y(p[1]||p[0],!0)},at:{x:y(m[0]),y:y(m[1]||m[0]),offsetX:y(m[0],!0),offsetY:y(m[1]||m[0],!0)}},b={left:function(){var N=x.my.offsetX+x.at.offsetX;return N+d.left+(x.my.x==="left"?0:-1*(x.my.x==="center"?s.getOuterWidth(n)/2:s.getOuterWidth(n)))},top:function(){var N=x.my.offsetY+x.at.offsetY;return N+d.top+(x.my.y==="top"?0:-1*(x.my.y==="center"?s.getOuterHeight(n)/2:s.getOuterHeight(n)))}},S={count:{x:0,y:0},left:function(){var N=b.left(),k=t.getWindowScrollLeft();n.style.left=N+k+"px",this.count.x===2?(n.style.left=k+"px",this.count.x=0):N<0&&(this.count.x++,x.my.x="left",x.at.x="right",x.my.offsetX*=-1,x.at.offsetX*=-1,this.right())},right:function(){var N=b.left()+t.getOuterWidth(r),k=t.getWindowScrollLeft();n.style.left=N+k+"px",this.count.x===2?(n.style.left=f.width-t.getOuterWidth(n)+k+"px",this.count.x=0):N+t.getOuterWidth(n)>f.width&&(this.count.x++,x.my.x="right",x.at.x="left",x.my.offsetX*=-1,x.at.offsetX*=-1,this.left())},top:function(){var N=b.top(),k=t.getWindowScrollTop();n.style.top=N+k+"px",this.count.y===2?(n.style.left=k+"px",this.count.y=0):N<0&&(this.count.y++,x.my.y="top",x.at.y="bottom",x.my.offsetY*=-1,x.at.offsetY*=-1,this.bottom())},bottom:function(){var N=b.top()+t.getOuterHeight(r),k=t.getWindowScrollTop();n.style.top=N+k+"px",this.count.y===2?(n.style.left=f.height-t.getOuterHeight(n)+k+"px",this.count.y=0):N+t.getOuterHeight(r)>f.height&&(this.count.y++,x.my.y="bottom",x.at.y="top",x.my.offsetY*=-1,x.at.offsetY*=-1,this.top())},center:function(N){if(N==="y"){var k=b.top()+t.getOuterHeight(r)/2;n.style.top=k+t.getWindowScrollTop()+"px",k<0?this.bottom():k+t.getOuterHeight(r)>f.height&&this.top()}else{var M=b.left()+t.getOuterWidth(r)/2;n.style.left=M+t.getWindowScrollLeft()+"px",M<0?this.left():M+t.getOuterWidth(n)>f.width&&this.right()}}};S[x.at.x]("x"),S[x.at.y]("y"),this.isFunction(l)&&l(x)}}},{key:"findCollisionPosition",value:function(n){if(n){var r=n==="top"||n==="bottom",s=n==="left"?"right":"left",i=n==="top"?"bottom":"top";return r?{axis:"y",my:"center ".concat(i),at:"center ".concat(n)}:{axis:"x",my:"".concat(s," center"),at:"".concat(n," center")}}}},{key:"getParents",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n.parentNode===null?r:this.getParents(n.parentNode,r.concat([n.parentNode]))}},{key:"getScrollableParents",value:function(n){var r=this,s=[];if(n){var i=this.getParents(n),a=/(auto|scroll)/,l=function(D){var E=D?getComputedStyle(D):null;return E&&(a.test(E.getPropertyValue("overflow"))||a.test(E.getPropertyValue("overflow-x"))||a.test(E.getPropertyValue("overflow-y")))},d=function(D){s.push(D.nodeName==="BODY"||D.nodeName==="HTML"||r.isDocument(D)?window:D)},f=Nb(i),p;try{for(f.s();!(p=f.n()).done;){var m,y=p.value,x=y.nodeType===1&&((m=y.dataset)===null||m===void 0?void 0:m.scrollselectors);if(x){var b=x.split(","),S=Nb(b),C;try{for(S.s();!(C=S.n()).done;){var N=C.value,k=this.findSingle(y,N);k&&l(k)&&d(k)}}catch(M){S.e(M)}finally{S.f()}}y.nodeType===1&&l(y)&&d(y)}}catch(M){f.e(M)}finally{f.f()}}return s}},{key:"getHiddenElementOuterHeight",value:function(n){if(n){n.style.visibility="hidden",n.style.display="block";var r=n.offsetHeight;return n.style.display="none",n.style.visibility="visible",r}return 0}},{key:"getHiddenElementOuterWidth",value:function(n){if(n){n.style.visibility="hidden",n.style.display="block";var r=n.offsetWidth;return n.style.display="none",n.style.visibility="visible",r}return 0}},{key:"getHiddenElementDimensions",value:function(n){var r={};return n&&(n.style.visibility="hidden",n.style.display="block",r.width=n.offsetWidth,r.height=n.offsetHeight,n.style.display="none",n.style.visibility="visible"),r}},{key:"fadeIn",value:function(n,r){if(n){n.style.opacity=0;var s=+new Date,i=0,a=function(){i=+n.style.opacity+(new Date().getTime()-s)/r,n.style.opacity=i,s=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(a)||setTimeout(a,16))};a()}}},{key:"fadeOut",value:function(n,r){if(n)var s=1,i=50,a=i/r,l=setInterval(function(){s=s-a,s<=0&&(s=0,clearInterval(l)),n.style.opacity=s},i)}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isChrome",value:function(){return/(chrome)/i.test(navigator.userAgent)}},{key:"isClient",value:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"appendChild",value:function(n,r){if(this.isElement(r))r.appendChild(n);else if(r.el&&r.el.nativeElement)r.el.nativeElement.appendChild(n);else throw new Error("Cannot append "+r+" to "+n)}},{key:"removeChild",value:function(n,r){if(this.isElement(r))r.removeChild(n);else if(r.el&&r.el.nativeElement)r.el.nativeElement.removeChild(n);else throw new Error("Cannot remove "+n+" from "+r)}},{key:"isElement",value:function(n){return(typeof HTMLElement>"u"?"undefined":Bn(HTMLElement))==="object"?n instanceof HTMLElement:n&&Bn(n)==="object"&&n!==null&&n.nodeType===1&&typeof n.nodeName=="string"}},{key:"isDocument",value:function(n){return(typeof Document>"u"?"undefined":Bn(Document))==="object"?n instanceof Document:n&&Bn(n)==="object"&&n!==null&&n.nodeType===9}},{key:"scrollInView",value:function(n,r){var s=getComputedStyle(n).getPropertyValue("border-top-width"),i=s?parseFloat(s):0,a=getComputedStyle(n).getPropertyValue("padding-top"),l=a?parseFloat(a):0,d=n.getBoundingClientRect(),f=r.getBoundingClientRect(),p=f.top+document.body.scrollTop-(d.top+document.body.scrollTop)-i-l,m=n.scrollTop,y=n.clientHeight,x=this.getOuterHeight(r);p<0?n.scrollTop=m+p:p+x>y&&(n.scrollTop=m+p-y+x)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}},{key:"calculateScrollbarWidth",value:function(n){if(n){var r=getComputedStyle(n);return n.offsetWidth-n.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var s=document.createElement("div");s.className="p-scrollbar-measure",document.body.appendChild(s);var i=s.offsetWidth-s.clientWidth;return document.body.removeChild(s),this.calculatedScrollbarWidth=i,i}},{key:"calculateBodyScrollbarWidth",value:function(){return window.innerWidth-document.documentElement.offsetWidth}},{key:"getBrowser",value:function(){if(!this.browser){var n=this.resolveUserAgent();this.browser={},n.browser&&(this.browser[n.browser]=!0,this.browser.version=n.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}},{key:"resolveUserAgent",value:function(){var n=navigator.userAgent.toLowerCase(),r=/(chrome)[ ]([\w.]+)/.exec(n)||/(webkit)[ ]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:r[1]||"",version:r[2]||"0"}}},{key:"blockBodyScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden",r=!!document.body.style.getPropertyValue("--scrollbar-width");!r&&document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,n)}},{key:"unblockBodyScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,n)}},{key:"isVisible",value:function(n){return n&&(n.clientHeight!==0||n.getClientRects().length!==0||getComputedStyle(n).display!=="none")}},{key:"isExist",value:function(n){return!!(n!==null&&typeof n<"u"&&n.nodeName&&n.parentNode)}},{key:"getFocusableElements",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=t.find(n,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(r,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r)),i=[],a=Nb(s),l;try{for(a.s();!(l=a.n()).done;){var d=l.value;getComputedStyle(d).display!=="none"&&getComputedStyle(d).visibility!=="hidden"&&i.push(d)}}catch(f){a.e(f)}finally{a.f()}return i}},{key:"getFirstFocusableElement",value:function(n,r){var s=t.getFocusableElements(n,r);return s.length>0?s[0]:null}},{key:"getLastFocusableElement",value:function(n,r){var s=t.getFocusableElements(n,r);return s.length>0?s[s.length-1]:null}},{key:"focus",value:function(n,r){var s=r===void 0?!0:!r;n&&document.activeElement!==n&&n.focus({preventScroll:s})}},{key:"focusFirstElement",value:function(n,r){if(n){var s=t.getFirstFocusableElement(n);return s&&t.focus(s,r),s}}},{key:"getCursorOffset",value:function(n,r,s,i){if(n){var a=getComputedStyle(n),l=document.createElement("div");l.style.position="absolute",l.style.top="0px",l.style.left="0px",l.style.visibility="hidden",l.style.pointerEvents="none",l.style.overflow=a.overflow,l.style.width=a.width,l.style.height=a.height,l.style.padding=a.padding,l.style.border=a.border,l.style.overflowWrap=a.overflowWrap,l.style.whiteSpace=a.whiteSpace,l.style.lineHeight=a.lineHeight,l.innerHTML=r.replace(/\r\n|\r|\n/g,"<br />");var d=document.createElement("span");d.textContent=i,l.appendChild(d);var f=document.createTextNode(s);l.appendChild(f),document.body.appendChild(l);var p=d.offsetLeft,m=d.offsetTop,y=d.clientHeight;return document.body.removeChild(l),{left:Math.abs(p-n.scrollLeft),top:Math.abs(m-n.scrollTop)+y}}return{top:"auto",left:"auto"}}},{key:"invokeElementMethod",value:function(n,r,s){n[r].apply(n,s)}},{key:"isClickable",value:function(n){var r=n.nodeName,s=n.parentElement&&n.parentElement.nodeName;return r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||s==="INPUT"||s==="TEXTAREA"||s==="BUTTON"||s==="A"||this.hasClass(n,"p-button")||this.hasClass(n.parentElement,"p-button")||this.hasClass(n.parentElement,"p-checkbox")||this.hasClass(n.parentElement,"p-radiobutton")}},{key:"applyStyle",value:function(n,r){if(typeof r=="string")n.style.cssText=r;else for(var s in r)n.style[s]=r[s]}},{key:"exportCSV",value:function(n,r){var s=new Blob([n],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(s,r+".csv");else{var i=t.saveAs({name:r+".csv",src:URL.createObjectURL(s)});i||(n="data:text/csv;charset=utf-8,"+n,window.open(encodeURI(n)))}}},{key:"saveAs",value:function(n){if(n){var r=document.createElement("a");if(r.download!==void 0){var s=n.name,i=n.src;return r.setAttribute("href",i),r.setAttribute("download",s),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),!0}}return!1}},{key:"createInlineStyle",value:function(n,r){var s=document.createElement("style");return t.addNonce(s,n),r||(r=document.head),r.appendChild(s),s}},{key:"removeInlineStyle",value:function(n){if(this.isExist(n)){try{n.parentNode.removeChild(n)}catch{}n=null}return n}},{key:"addNonce",value:function(n,r){try{r||(r=toe.REACT_APP_CSS_NONCE)}catch{}r&&n.setAttribute("nonce",r)}},{key:"getTargetElement",value:function(n){if(!n)return null;if(n==="document")return document;if(n==="window")return window;if(Bn(n)==="object"&&n.hasOwnProperty("current"))return this.isExist(n.current)?n.current:null;var r=function(a){return!!(a&&a.constructor&&a.call&&a.apply)},s=r(n)?n():n;return this.isDocument(s)||this.isExist(s)?s:null}},{key:"getAttributeNames",value:function(n){var r,s,i;for(s=[],i=n.attributes,r=0;r<i.length;++r)s.push(i[r].nodeName);return s.sort(),s}},{key:"isEqualElement",value:function(n,r){var s,i,a,l,d;if(s=t.getAttributeNames(n),i=t.getAttributeNames(r),s.join(",")!==i.join(","))return!1;for(var f=0;f<s.length;++f)if(a=s[f],a==="style")for(var p=n.style,m=r.style,y=/^\d+$/,x=0,b=Object.keys(p);x<b.length;x++){var S=b[x];if(!y.test(S)&&p[S]!==m[S])return!1}else if(n.getAttribute(a)!==r.getAttribute(a))return!1;for(l=n.firstChild,d=r.firstChild;l&&d;l=l.nextSibling,d=d.nextSibling){if(l.nodeType!==d.nodeType)return!1;if(l.nodeType===1){if(!t.isEqualElement(l,d))return!1}else if(l.nodeValue!==d.nodeValue)return!1}return!(l||d)}},{key:"hasCSSAnimation",value:function(n){if(n){var r=getComputedStyle(n),s=parseFloat(r.getPropertyValue("animation-duration")||"0");return s>0}return!1}},{key:"hasCSSTransition",value:function(n){if(n){var r=getComputedStyle(n),s=parseFloat(r.getPropertyValue("transition-duration")||"0");return s>0}return!1}}])}();Gy(xn,"DATA_PROPS",["data-"]);Gy(xn,"ARIA_PROPS",["aria","focus-target"]);function cw(){return cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cw.apply(null,arguments)}function E3(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=doe(t))||e){n&&(t=n);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(f){throw f},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var f=n.next();return a=f.done,f},e:function(f){l=!0,i=f},f:function(){try{a||n.return==null||n.return()}finally{if(l)throw i}}}}function doe(t,e){if(t){if(typeof t=="string")return A3(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A3(t,e):void 0}}function A3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var dn=function(){function t(){AS(this,t)}return kS(t,null,[{key:"equals",value:function(n,r,s){return s&&n&&Bn(n)==="object"&&r&&Bn(r)==="object"?this.deepEquals(this.resolveFieldData(n,s),this.resolveFieldData(r,s)):this.deepEquals(n,r)}},{key:"deepEquals",value:function(n,r){if(n===r)return!0;if(n&&r&&Bn(n)==="object"&&Bn(r)==="object"){var s=Array.isArray(n),i=Array.isArray(r),a,l,d;if(s&&i){if(l=n.length,l!==r.length)return!1;for(a=l;a--!==0;)if(!this.deepEquals(n[a],r[a]))return!1;return!0}if(s!==i)return!1;var f=n instanceof Date,p=r instanceof Date;if(f!==p)return!1;if(f&&p)return n.getTime()===r.getTime();var m=n instanceof RegExp,y=r instanceof RegExp;if(m!==y)return!1;if(m&&y)return n.toString()===r.toString();var x=Object.keys(n);if(l=x.length,l!==Object.keys(r).length)return!1;for(a=l;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,x[a]))return!1;for(a=l;a--!==0;)if(d=x[a],!this.deepEquals(n[d],r[d]))return!1;return!0}return n!==n&&r!==r}},{key:"resolveFieldData",value:function(n,r){if(!n||!r)return null;try{var s=n[r];if(this.isNotEmpty(s))return s}catch{}if(Object.keys(n).length){if(this.isFunction(r))return r(n);if(this.isNotEmpty(n[r]))return n[r];if(r.indexOf(".")===-1)return n[r];for(var i=r.split("."),a=n,l=0,d=i.length;l<d;++l){if(a==null)return null;a=a[i[l]]}return a}return null}},{key:"findDiffKeys",value:function(n,r){return!n||!r?{}:Object.keys(n).filter(function(s){return!r.hasOwnProperty(s)}).reduce(function(s,i){return s[i]=n[i],s},{})}},{key:"reduceKeys",value:function(n,r){var s={};return!n||!r||r.length===0||Object.keys(n).filter(function(i){return r.some(function(a){return i.startsWith(a)})}).forEach(function(i){s[i]=n[i],delete n[i]}),s}},{key:"reorderArray",value:function(n,r,s){n&&r!==s&&(s>=n.length&&(s=s%n.length,r=r%n.length),n.splice(s,0,n.splice(r,1)[0]))}},{key:"findIndexInList",value:function(n,r,s){var i=this;return r?s?r.findIndex(function(a){return i.equals(a,n,s)}):r.findIndex(function(a){return a===n}):-1}},{key:"getJSXElement",value:function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return this.isFunction(n)?n.apply(void 0,s):n}},{key:"getItemValue",value:function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return this.isFunction(n)?n.apply(void 0,s):n}},{key:"getProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n?n[r]:void 0;return i===void 0?s[r]:i}},{key:"getPropCaseInsensitive",value:function(n,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=this.toFlatCase(r);for(var a in n)if(n.hasOwnProperty(a)&&this.toFlatCase(a)===i)return n[a];for(var l in s)if(s.hasOwnProperty(l)&&this.toFlatCase(l)===i)return s[l]}},{key:"getMergedProps",value:function(n,r){return Object.assign({},r,n)}},{key:"getDiffProps",value:function(n,r){return this.findDiffKeys(n,r)}},{key:"getPropValue",value:function(n){if(!this.isFunction(n))return n;for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];if(s.length===1){var a=s[0];return n(Array.isArray(a)?a[0]:a)}return n.apply(void 0,s)}},{key:"getComponentProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.isNotEmpty(n)?this.getProp(n.props,r,s):void 0}},{key:"getComponentProps",value:function(n,r){return this.isNotEmpty(n)?this.getMergedProps(n.props,r):void 0}},{key:"getComponentDiffProps",value:function(n,r){return this.isNotEmpty(n)?this.getDiffProps(n.props,r):void 0}},{key:"isValidChild",value:function(n,r,s){if(n){var i,a=this.getComponentProp(n,"__TYPE")||(n.type?n.type.displayName:void 0);!a&&n!==null&&n!==void 0&&(i=n.type)!==null&&i!==void 0&&(i=i._payload)!==null&&i!==void 0&&i.value&&(a=n.type._payload.value.find(function(f){return f===r}));var l=a===r;try{var d}catch{}return l}return!1}},{key:"getRefElement",value:function(n){return n?Bn(n)==="object"&&n.hasOwnProperty("current")?n.current:n:null}},{key:"combinedRefs",value:function(n,r){n&&r&&(typeof r=="function"?r(n.current):r.current=n.current)}},{key:"removeAccents",value:function(n){return n&&n.search(/[\xC0-\xFF]/g)>-1&&(n=n.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),n}},{key:"toFlatCase",value:function(n){return this.isNotEmpty(n)&&this.isString(n)?n.replace(/(-|_)/g,"").toLowerCase():n}},{key:"toCapitalCase",value:function(n){return this.isNotEmpty(n)&&this.isString(n)?n[0].toUpperCase()+n.slice(1):n}},{key:"trim",value:function(n){return this.isNotEmpty(n)&&this.isString(n)?n.trim():n}},{key:"isEmpty",value:function(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&Bn(n)==="object"&&Object.keys(n).length===0}},{key:"isNotEmpty",value:function(n){return!this.isEmpty(n)}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"isObject",value:function(n){return n!==null&&n instanceof Object&&n.constructor===Object}},{key:"isDate",value:function(n){return n!==null&&n instanceof Date&&n.constructor===Date}},{key:"isArray",value:function(n){return n!==null&&Array.isArray(n)}},{key:"isString",value:function(n){return n!==null&&typeof n=="string"}},{key:"isPrintableCharacter",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(n)&&n.length===1&&n.match(/\S| /)}},{key:"isLetter",value:function(n){return/^[a-zA-Z\u00C0-\u017F]$/.test(n)}},{key:"isScalar",value:function(n){return n!=null&&(typeof n=="string"||typeof n=="number"||typeof n=="bigint"||typeof n=="boolean")}},{key:"findLast",value:function(n,r){var s;if(this.isNotEmpty(n))try{s=n.findLast(r)}catch{s=ry(n).reverse().find(r)}return s}},{key:"findLastIndex",value:function(n,r){var s=-1;if(this.isNotEmpty(n))try{s=n.findLastIndex(r)}catch{s=n.lastIndexOf(ry(n).reverse().find(r))}return s}},{key:"sort",value:function(n,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,l=this.compare(n,r,i,s),d=s;return(this.isEmpty(n)||this.isEmpty(r))&&(d=a===1?s:a),d*l}},{key:"compare",value:function(n,r,s){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,a=-1,l=this.isEmpty(n),d=this.isEmpty(r);return l&&d?a=0:l?a=i:d?a=-i:typeof n=="string"&&typeof r=="string"?a=s(n,r):a=n<r?-1:n>r?1:0,a}},{key:"localeComparator",value:function(n){return new Intl.Collator(n,{numeric:!0}).compare}},{key:"findChildrenByKey",value:function(n,r){var s=E3(n),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;if(a.key===r)return a.children||[];if(a.children){var l=this.findChildrenByKey(a.children,r);if(l.length>0)return l}}}catch(d){s.e(d)}finally{s.f()}return[]}},{key:"mutateFieldData",value:function(n,r,s){if(!(Bn(n)!=="object"||typeof r!="string"))for(var i=r.split("."),a=n,l=0,d=i.length;l<d;++l){if(l+1-d===0){a[i[l]]=s;break}a[i[l]]||(a[i[l]]={}),a=a[i[l]]}}},{key:"getNestedValue",value:function(n,r){return r.split(".").reduce(function(s,i){return s&&s[i]!==void 0?s[i]:void 0},n)}},{key:"absoluteCompare",value:function(n,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(!n||!r||i>s)return!0;if(Bn(n)!==Bn(r))return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(var d=0,f=a;d<f.length;d++){var p=f[d],m=n[p],y=r[p],x=t.isObject(m)&&t.isObject(y),b=t.isFunction(m)&&t.isFunction(y);if((x||b)&&!this.absoluteCompare(m,y,s,i+1)||!x&&m!==y)return!1}return!0}},{key:"selectiveCompare",value:function(n,r,s){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(n===r)return!0;if(!n||!r||Bn(n)!=="object"||Bn(r)!=="object")return!1;if(!s)return this.absoluteCompare(n,r,1);var a=E3(s),l;try{for(a.s();!(l=a.n()).done;){var d=l.value,f=this.getNestedValue(n,d),p=this.getNestedValue(r,d),m=Bn(f)==="object"&&f!==null&&Bn(p)==="object"&&p!==null;if(m&&!this.absoluteCompare(f,p,i)||!m&&f!==p)return!1}}catch(y){a.e(y)}finally{a.f()}return!0}}])}(),k3=0;function C_(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pr_id_";return k3++,"".concat(t).concat(k3)}function O3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function foe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O3(Object(n),!0).forEach(function(r){Gy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var hoe=function(){function t(){AS(this,t)}return kS(t,null,[{key:"getJSXIcon",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=null;if(n!==null){var a=Bn(n),l=na(r.className,a==="string"&&n);if(i=j.createElement("span",cw({},r,{className:l,key:C_("icon")})),a!=="string"){var d=foe({iconProps:r,element:i},s);return dn.getJSXElement(n,d)}}return i}}])}();function M3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function D3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M3(Object(n),!0).forEach(function(r){Gy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sy(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t){var n=function(a){return typeof a=="function"},r=e.classNameMergeFunction,s=n(r);return t.reduce(function(i,a){if(!a)return i;var l=function(){var p=a[d];if(d==="style")i.style=D3(D3({},i.style),a.style);else if(d==="className"){var m="";s?m=r(i.className,a.className):m=[i.className,a.className].join(" ").trim(),i.className=m||void 0}else if(n(p)){var y=i[d];i[d]=y?function(){y.apply(void 0,arguments),p.apply(void 0,arguments)}:p}else i[d]=p};for(var d in a)l();return i},{})}}function poe(){var t=[],e=function(l,d){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:999,p=s(l,d,f),m=p.value+(p.key===l?0:f)+1;return t.push({key:l,value:m}),m},n=function(l){t=t.filter(function(d){return d.value!==l})},r=function(l,d){return s(l,d).value},s=function(l,d){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return ry(t).reverse().find(function(p){return d?!0:p.key===l})||{key:l,value:f}},i=function(l){return l&&parseInt(l.style.zIndex,10)||0};return{get:i,set:function(l,d,f,p){d&&(d.style.zIndex=String(e(l,f,p)))},clear:function(l){l&&(n(df.get(l)),l.style.zIndex="")},getCurrent:function(l,d){return r(l,d)}}}var df=poe(),Jr=Object.freeze({STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",NOT_IN:"notIn",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter",CUSTOM:"custom"});function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function moe(t,e){if(fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function goe(t){var e=moe(t,"string");return fh(e)=="symbol"?e:e+""}function Ys(t,e,n){return(e=goe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yoe(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function xoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Os=yoe(function t(){xoe(this,t)});Ys(Os,"ripple",!1);Ys(Os,"inputStyle","outlined");Ys(Os,"locale","en");Ys(Os,"appendTo",null);Ys(Os,"cssTransition",!0);Ys(Os,"autoZIndex",!0);Ys(Os,"hideOverlaysOnDocumentScrolling",!1);Ys(Os,"nonce",null);Ys(Os,"nullSortOrder",1);Ys(Os,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200});Ys(Os,"pt",void 0);Ys(Os,"filterMatchModeOptions",{text:[Jr.STARTS_WITH,Jr.CONTAINS,Jr.NOT_CONTAINS,Jr.ENDS_WITH,Jr.EQUALS,Jr.NOT_EQUALS],numeric:[Jr.EQUALS,Jr.NOT_EQUALS,Jr.LESS_THAN,Jr.LESS_THAN_OR_EQUAL_TO,Jr.GREATER_THAN,Jr.GREATER_THAN_OR_EQUAL_TO],date:[Jr.DATE_IS,Jr.DATE_IS_NOT,Jr.DATE_BEFORE,Jr.DATE_AFTER]});Ys(Os,"changeTheme",function(t,e,n,r){var s,i=document.getElementById(n);if(!i)throw Error("Element with id ".concat(n," not found."));var a=i.getAttribute("href").replace(t,e),l=document.createElement("link");l.setAttribute("rel","stylesheet"),l.setAttribute("id",n),l.setAttribute("href",a),l.addEventListener("load",function(){r&&r()}),(s=i.parentNode)===null||s===void 0||s.replaceChild(l,i)});var Hu=Vt.createContext(),Ko=Os;function voe(t){if(Array.isArray(t))return t}function boe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,a,l=[],d=!0,f=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw s}}return l}}function uw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function N_(t,e){if(t){if(typeof t=="string")return uw(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uw(t,e):void 0}}function woe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iy(t,e){return voe(t)||boe(t,e)||N_(t,e)||woe()}var ay=function(e){var n=j.useRef(null);return j.useEffect(function(){return n.current=e,function(){n.current=null}},[e]),n.current},zh=function(e){return j.useEffect(function(){return e},[])},Soe=function(e){var n=e.target,r=n===void 0?"document":n,s=e.type,i=e.listener,a=e.options,l=e.when,d=l===void 0?!0:l,f=j.useRef(null),p=j.useRef(null),m=ay(i),y=ay(a),x=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=k.target;dn.isNotEmpty(M)&&(b(),(k.when||d)&&(f.current=xn.getTargetElement(M))),!p.current&&f.current&&(p.current=function(D){return i&&i(D)},f.current.addEventListener(s,p.current,a))},b=function(){p.current&&(f.current.removeEventListener(s,p.current,a),p.current=null)},S=function(){b(),m=null,y=null},C=j.useCallback(function(){d?f.current=xn.getTargetElement(r):(b(),f.current=null)},[r,d]);return j.useEffect(function(){C()},[C]),j.useEffect(function(){var N="".concat(m)!=="".concat(i),k=y!==a,M=p.current;M&&(N||k)?(b(),d&&x()):M||S()},[i,a,d]),zh(function(){S()}),[x,b]},Nl={},Coe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=j.useState(function(){return C_()}),s=iy(r,1),i=s[0],a=j.useState(0),l=iy(a,2),d=l[0],f=l[1];return j.useEffect(function(){if(n){Nl[e]||(Nl[e]=[]);var p=Nl[e].push(i);return f(p),function(){delete Nl[e][p-1];var m=Nl[e].length-1,y=dn.findLastIndex(Nl[e],function(x){return x!==void 0});y!==m&&Nl[e].splice(y+1),f(void 0)}}},[e,i,n]),d};function Noe(t){if(Array.isArray(t))return uw(t)}function joe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Toe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R3(t){return Noe(t)||joe(t)||N_(t)||Toe()}var Eoe={TOOLTIP:1200},j_={escKeyListeners:new Map,onGlobalKeyDown:function(e){if(e.code==="Escape"){var n=j_.escKeyListeners,r=Math.max.apply(Math,R3(n.keys())),s=n.get(r),i=Math.max.apply(Math,R3(s.keys())),a=s.get(i);a(e)}},refreshGlobalKeyDownListener:function(){var e=xn.getTargetElement("document");this.escKeyListeners.size>0?e.addEventListener("keydown",this.onGlobalKeyDown):e.removeEventListener("keydown",this.onGlobalKeyDown)},addListener:function(e,n){var r=this,s=iy(n,2),i=s[0],a=s[1],l=this.escKeyListeners;l.has(i)||l.set(i,new Map);var d=l.get(i);if(d.has(a))throw new Error("Unexpected: global esc key listener with priority [".concat(i,", ").concat(a,"] already exists."));return d.set(a,e),this.refreshGlobalKeyDownListener(),function(){d.delete(a),d.size===0&&l.delete(i),r.refreshGlobalKeyDownListener()}}},Aoe=function(e){var n=e.callback,r=e.when,s=e.priority;j.useEffect(function(){if(r)return j_.addListener(n,s)},[n,r,s])},T_=function(){var e=j.useContext(Hu);return function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return sy(r,e?.ptOptions)}},Xy=function(e){var n=j.useRef(!1);return j.useEffect(function(){if(!n.current)return n.current=!0,e&&e()},[])},koe=function(e){var n=e.target,r=e.listener,s=e.options,i=e.when,a=i===void 0?!0:i,l=j.useContext(Hu),d=j.useRef(null),f=j.useRef(null),p=j.useRef([]),m=ay(r),y=ay(s),x=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(dn.isNotEmpty(k.target)&&(b(),(k.when||a)&&(d.current=xn.getTargetElement(k.target))),!f.current&&d.current){var M=l?l.hideOverlaysOnDocumentScrolling:Ko.hideOverlaysOnDocumentScrolling,D=p.current=xn.getScrollableParents(d.current);D.some(function(E){return E===document.body||E===window})||D.push(M?window:document.body),f.current=function(E){return r&&r(E)},D.forEach(function(E){return E.addEventListener("scroll",f.current,s)})}},b=function(){if(f.current){var k=p.current;k.forEach(function(M){return M.removeEventListener("scroll",f.current,s)}),f.current=null}},S=function(){b(),p.current=null,m=null,y=null},C=j.useCallback(function(){a?d.current=xn.getTargetElement(n):(b(),d.current=null)},[n,a]);return j.useEffect(function(){C()},[C]),j.useEffect(function(){var N="".concat(m)!=="".concat(r),k=y!==s,M=f.current;M&&(N||k)?(b(),a&&x()):M||S()},[r,s,a]),zh(function(){S()}),[x,b]},Ooe=function(e){var n=e.listener,r=e.when,s=r===void 0?!0:r;return Soe({target:"window",type:"resize",listener:n,when:s})},Moe=0,wm=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=j.useState(!1),s=iy(r,2),i=s[0],a=s[1],l=j.useRef(null),d=j.useContext(Hu),f=xn.isClient()?window.document:void 0,p=n.document,m=p===void 0?f:p,y=n.manual,x=y===void 0?!1:y,b=n.name,S=b===void 0?"style_".concat(++Moe):b,C=n.id,N=C===void 0?void 0:C,k=n.media,M=k===void 0?void 0:k,D=function(Z){var ve=Z.querySelector('style[data-primereact-style-id="'.concat(S,'"]'));if(ve)return ve;if(N!==void 0){var ue=m.getElementById(N);if(ue)return ue}return m.createElement("style")},E=function(Z){i&&e!==Z&&(l.current.textContent=Z)},A=function(){if(!(!m||i)){var Z=d?.styleContainer||m.head;l.current=D(Z),l.current.isConnected||(l.current.type="text/css",N&&(l.current.id=N),M&&(l.current.media=M),xn.addNonce(l.current,d&&d.nonce||Ko.nonce),Z.appendChild(l.current),S&&l.current.setAttribute("data-primereact-style-id",S)),l.current.textContent=e,a(!0)}},F=function(){!m||!l.current||(xn.removeInlineStyle(l.current),a(!1))};return j.useEffect(function(){x||A()},[x]),{id:N,name:S,update:E,unload:F,load:A,isLoaded:i}},_f=function(e,n){var r=j.useRef(!1);return j.useEffect(function(){if(!r.current){r.current=!0;return}return e&&e()},n)};function dw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Doe(t){if(Array.isArray(t))return dw(t)}function Roe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _oe(t,e){if(t){if(typeof t=="string")return dw(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dw(t,e):void 0}}function Loe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _3(t){return Doe(t)||Roe(t)||_oe(t)||Loe()}function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function Poe(t,e){if(hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zoe(t){var e=Poe(t,"string");return hh(e)=="symbol"?e:e+""}function fw(t,e,n){return(e=zoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L3(Object(n),!0).forEach(function(r){fw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Ioe=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    opacity: 0;
    overflow: hidden;
    padding: 0;
    pointer-events: none;
    position: absolute;
    white-space: nowrap;
    width: 1px;
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,Boe=`
.p-button {
    margin: 0;
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    vertical-align: bottom;
    text-align: center;
    overflow: hidden;
    position: relative;
}

.p-button-label {
    flex: 1 1 auto;
}

.p-button-icon-right {
    order: 1;
}

.p-button:disabled {
    cursor: default;
}

.p-button-icon-only {
    justify-content: center;
}

.p-button-icon-only .p-button-label {
    visibility: hidden;
    width: 0;
    flex: 0 0 auto;
}

.p-button-vertical {
    flex-direction: column;
}

.p-button-icon-bottom {
    order: 2;
}

.p-button-group .p-button {
    margin: 0;
}

.p-button-group .p-button:not(:last-child) {
    border-right: 0 none;
}

.p-button-group .p-button:not(:first-of-type):not(:last-of-type) {
    border-radius: 0;
}

.p-button-group .p-button:first-of-type {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}

.p-button-group .p-button:last-of-type {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
}

.p-button-group .p-button:focus {
    position: relative;
    z-index: 1;
}

.p-button-group-single .p-button:first-of-type {
    border-top-right-radius: var(--border-radius) !important;
    border-bottom-right-radius: var(--border-radius) !important;
}

.p-button-group-single .p-button:last-of-type {
    border-top-left-radius: var(--border-radius) !important;
    border-bottom-left-radius: var(--border-radius) !important;
}
`,Foe=`
.p-inputtext {
    margin: 0;
}

.p-fluid .p-inputtext {
    width: 100%;
}

/* InputGroup */
.p-inputgroup {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup-addon {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-inputgroup .p-float-label {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup .p-inputtext,
.p-fluid .p-inputgroup .p-inputtext,
.p-inputgroup .p-inputwrapper,
.p-fluid .p-inputgroup .p-input {
    flex: 1 1 auto;
    width: 1%;
}

/* Floating Label */
.p-float-label {
    display: block;
    position: relative;
}

.p-float-label label {
    position: absolute;
    pointer-events: none;
    top: 50%;
    margin-top: -0.5rem;
    transition-property: all;
    transition-timing-function: ease;
    line-height: 1;
}

.p-float-label textarea ~ label,
.p-float-label .p-mention ~ label {
    top: 1rem;
}

.p-float-label input:focus ~ label,
.p-float-label input:-webkit-autofill ~ label,
.p-float-label input.p-filled ~ label,
.p-float-label textarea:focus ~ label,
.p-float-label textarea.p-filled ~ label,
.p-float-label .p-inputwrapper-focus ~ label,
.p-float-label .p-inputwrapper-filled ~ label,
.p-float-label .p-tooltip-target-wrapper ~ label {
    top: -0.75rem;
    font-size: 12px;
}

.p-float-label .p-placeholder,
.p-float-label input::placeholder,
.p-float-label .p-inputtext::placeholder {
    opacity: 0;
    transition-property: all;
    transition-timing-function: ease;
}

.p-float-label .p-focus .p-placeholder,
.p-float-label input:focus::placeholder,
.p-float-label .p-inputtext:focus::placeholder {
    opacity: 1;
    transition-property: all;
    transition-timing-function: ease;
}

.p-input-icon-left,
.p-input-icon-right {
    position: relative;
    display: inline-block;
}

.p-input-icon-left > i,
.p-input-icon-right > i,
.p-input-icon-left > svg,
.p-input-icon-right > svg,
.p-input-icon-left > .p-input-prefix,
.p-input-icon-right > .p-input-suffix {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
}

.p-fluid .p-input-icon-left,
.p-fluid .p-input-icon-right {
    display: block;
    width: 100%;
}
`,$oe=`
.p-icon {
    display: inline-block;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

svg.p-icon {
    pointer-events: auto;
}

svg.p-icon g,
.p-disabled svg.p-icon {
    pointer-events: none;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,Uoe=`
@layer primereact {
    .p-component, .p-component * {
        box-sizing: border-box;
    }

    .p-hidden {
        display: none;
    }

    .p-hidden-space {
        visibility: hidden;
    }

    .p-reset {
        margin: 0;
        padding: 0;
        border: 0;
        outline: 0;
        text-decoration: none;
        font-size: 100%;
        list-style: none;
    }

    .p-disabled, .p-disabled * {
        cursor: default;
        pointer-events: none;
        user-select: none;
    }

    .p-component-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-unselectable-text {
        user-select: none;
    }

    .p-scrollbar-measure {
        width: 100px;
        height: 100px;
        overflow: scroll;
        position: absolute;
        top: -9999px;
    }

    @-webkit-keyframes p-fadein {
      0%   { opacity: 0; }
      100% { opacity: 1; }
    }
    @keyframes p-fadein {
      0%   { opacity: 0; }
      100% { opacity: 1; }
    }

    .p-link {
        text-align: left;
        background-color: transparent;
        margin: 0;
        padding: 0;
        border: none;
        cursor: pointer;
        user-select: none;
    }

    .p-link:disabled {
        cursor: default;
    }

    /* Non react overlay animations */
    .p-connected-overlay {
        opacity: 0;
        transform: scaleY(0.8);
        transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-visible {
        opacity: 1;
        transform: scaleY(1);
    }

    .p-connected-overlay-hidden {
        opacity: 0;
        transform: scaleY(1);
        transition: opacity .1s linear;
    }

    /* React based overlay animations */
    .p-connected-overlay-enter {
        opacity: 0;
        transform: scaleY(0.8);
    }

    .p-connected-overlay-enter-active {
        opacity: 1;
        transform: scaleY(1);
        transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-enter-done {
        transform: none;
    }

    .p-connected-overlay-exit {
        opacity: 1;
    }

    .p-connected-overlay-exit-active {
        opacity: 0;
        transition: opacity .1s linear;
    }

    /* Toggleable Content */
    .p-toggleable-content-enter {
        max-height: 0;
    }

    .p-toggleable-content-enter-active {
        overflow: hidden;
        max-height: 1000px;
        transition: max-height 1s ease-in-out;
    }

    .p-toggleable-content-enter-done {
        transform: none;
    }

    .p-toggleable-content-exit {
        max-height: 1000px;
    }

    .p-toggleable-content-exit-active {
        overflow: hidden;
        max-height: 0;
        transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
    }

    /* @todo Refactor */
    .p-menu .p-menuitem-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
    }

    `.concat(Boe,`
    `).concat(Foe,`
    `).concat($oe,`
}
`),hr={cProps:void 0,cParams:void 0,cName:void 0,defaultProps:{pt:void 0,ptOptions:void 0,unstyled:!1},context:{},globalCSS:void 0,classes:{},styles:"",extend:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.css,r=Rr(Rr({},e.defaultProps),hr.defaultProps),s={},i=function(p){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return hr.context=m,hr.cProps=p,dn.getMergedProps(p,r)},a=function(p){return dn.getDiffProps(p,r)},l=function(){var p,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;m.hasOwnProperty("pt")&&m.pt!==void 0&&(m=m.pt);var S=y,C=/./g.test(S)&&!!x[S.split(".")[0]],N=C?dn.toFlatCase(S.split(".")[1]):dn.toFlatCase(S),k=x.hostName&&dn.toFlatCase(x.hostName),M=k||x.props&&x.props.__TYPE&&dn.toFlatCase(x.props.__TYPE)||"",D=N==="transition",E="data-pc-",A=function(be){return be!=null&&be.props?be.hostName?be.props.__TYPE===be.hostName?be.props:A(be.parent):be.parent:void 0},F=function(be){var Fe,$;return((Fe=x.props)===null||Fe===void 0?void 0:Fe[be])||(($=A(x))===null||$===void 0?void 0:$[be])};hr.cParams=x,hr.cName=M;var H=F("ptOptions")||hr.context.ptOptions||{},Z=H.mergeSections,ve=Z===void 0?!0:Z,ue=H.mergeProps,oe=ue===void 0?!1:ue,te=function(){var be=Ba.apply(void 0,arguments);return Array.isArray(be)?{className:na.apply(void 0,_3(be))}:dn.isString(be)?{className:be}:be!=null&&be.hasOwnProperty("className")&&Array.isArray(be.className)?{className:na.apply(void 0,_3(be.className))}:be},ne=b?C?E_(te,S,x):A_(te,S,x):void 0,xe=C?void 0:Qy(Jy(m,M),te,S,x),W=!D&&Rr(Rr({},N==="root"&&fw({},"".concat(E,"name"),x.props&&x.props.__parentMetadata?dn.toFlatCase(x.props.__TYPE):M)),{},fw({},"".concat(E,"section"),N));return ve||!ve&&xe?oe?sy([ne,xe,Object.keys(W).length?W:{}],{classNameMergeFunction:(p=hr.context.ptOptions)===null||p===void 0?void 0:p.classNameMergeFunction}):Rr(Rr(Rr({},ne),xe),Object.keys(W).length?W:{}):Rr(Rr({},xe),Object.keys(W).length?W:{})},d=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=p.props,y=p.state,x=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return l((m||{}).pt,M,Rr(Rr({},p),D))},b=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return l(M,D,E,!1)},S=function(){return hr.context.unstyled||Ko.unstyled||m.unstyled},C=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return S()?void 0:Ba(n&&n.classes,M,Rr({props:m,state:y},D))},N=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(E){var A,F=Ba(n&&n.inlineStyles,M,Rr({props:m,state:y},D)),H=Ba(s,M,Rr({props:m,state:y},D));return sy([H,F],{classNameMergeFunction:(A=hr.context.ptOptions)===null||A===void 0?void 0:A.classNameMergeFunction})}};return{ptm:x,ptmo:b,sx:N,cx:C,isUnstyled:S}};return Rr(Rr({getProps:i,getOtherProps:a,setMetaData:d},e),{},{defaultProps:r})}},Ba=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=String(dn.toFlatCase(n)).split("."),i=s.shift(),a=dn.isNotEmpty(e)?Object.keys(e).find(function(l){return dn.toFlatCase(l)===i}):"";return i?dn.isObject(e)?Ba(dn.getItemValue(e[a],r),s.join("."),r):void 0:dn.getItemValue(e,r)},Jy=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,s=e?._usept,i=function(l){var d,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,p=r?r(l):l,m=dn.toFlatCase(n);return(d=f?m!==hr.cName?p?.[m]:void 0:p?.[m])!==null&&d!==void 0?d:p};return dn.isNotEmpty(s)?{_usept:s,originalValue:i(e.originalValue),value:i(e.value)}:i(e,!0)},Qy=function(e,n,r,s){var i=function(S){return n(S,r,s)};if(e!=null&&e.hasOwnProperty("_usept")){var a=e._usept||hr.context.ptOptions||{},l=a.mergeSections,d=l===void 0?!0:l,f=a.mergeProps,p=f===void 0?!1:f,m=a.classNameMergeFunction,y=i(e.originalValue),x=i(e.value);return y===void 0&&x===void 0?void 0:dn.isString(x)?x:dn.isString(y)?y:d||!d&&x?p?sy([y,x],{classNameMergeFunction:m}):Rr(Rr({},y),x):x}return i(e)},Voe=function(){return Jy(hr.context.pt||Ko.pt,void 0,function(e){return dn.getItemValue(e,hr.cParams)})},Hoe=function(){return Jy(hr.context.pt||Ko.pt,void 0,function(e){return Ba(e,hr.cName,hr.cParams)||dn.getItemValue(e,hr.cParams)})},E_=function(e,n,r){return Qy(Voe(),e,n,r)},A_=function(e,n,r){return Qy(Hoe(),e,n,r)},k_=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2?arguments[2]:void 0,s=r.name,i=r.styled,a=i===void 0?!1:i,l=r.hostName,d=l===void 0?"":l,f=E_(Ba,"global.css",hr.cParams),p=dn.toFlatCase(s),m=wm(Ioe,{name:"base",manual:!0}),y=m.load,x=wm(Uoe,{name:"common",manual:!0}),b=x.load,S=wm(f,{name:"global",manual:!0}),C=S.load,N=wm(e,{name:s,manual:!0}),k=N.load,M=function(E){if(!d){var A=Qy(Jy((hr.cProps||{}).pt,p),Ba,"hooks.".concat(E)),F=A_(Ba,"hooks.".concat(E));A?.(),F?.()}};M("useMountEffect"),Xy(function(){y(),C(),n()||(b(),a||k())}),_f(function(){M("useUpdateEffect")}),zh(function(){M("useUnmountEffect")})},Wm={defaultProps:{__TYPE:"IconBase",className:null,label:null,spin:!1},getProps:function(e){return dn.getMergedProps(e,Wm.defaultProps)},getOtherProps:function(e){return dn.getDiffProps(e,Wm.defaultProps)},getPTI:function(e){var n=dn.isEmpty(e.label),r=Wm.getOtherProps(e),s={className:na("p-icon",{"p-icon-spin":e.spin},e.className),role:n?void 0:"img","aria-label":n?void 0:e.label,"aria-hidden":e.label?n:void 0};return dn.getMergedProps(r,s)}};function hw(){return hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hw.apply(null,arguments)}var O_=j.memo(j.forwardRef(function(t,e){var n=Wm.getPTI(t);return j.createElement("svg",hw({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),j.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"}))}));O_.displayName="TimesCircleIcon";function pw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function qoe(t){if(Array.isArray(t))return pw(t)}function Koe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yoe(t,e){if(t){if(typeof t=="string")return pw(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pw(t,e):void 0}}function Woe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Goe(t){return qoe(t)||Koe(t)||Yoe(t)||Woe()}var oy={DEFAULT_MASKS:{pint:/[\d]/,int:/[\d\-]/,pnum:/[\d\.]/,money:/[\d\.\s,]/,num:/[\d\-\.]/,hex:/[0-9a-f]/i,email:/[a-z0-9_\.\-@]/i,alpha:/[a-z_]/i,alphanum:/[a-z0-9_]/i},getRegex:function(e){return oy.DEFAULT_MASKS[e]?oy.DEFAULT_MASKS[e]:e},onBeforeInput:function(e,n,r){r||!xn.isAndroid()||this.validateKey(e,e.data,n)},onKeyPress:function(e,n,r){r||xn.isAndroid()||e.ctrlKey||e.altKey||e.metaKey||this.validateKey(e,e.key,n)},onPaste:function(e,n,r){if(!r){var s=this.getRegex(n),i=e.clipboardData.getData("text");Goe(i).forEach(function(a){if(!s.test(a))return e.preventDefault(),!1})}},validateKey:function(e,n,r){if(n!=null){var s=n.length<=2;if(s){var i=this.getRegex(r);i.test(n)||e.preventDefault()}}},validate:function(e,n){var r=e.target.value,s=!0,i=this.getRegex(n);return r&&!i.test(r)&&(s=!1),s}};function Xoe(t){if(Array.isArray(t))return t}function Joe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,a,l=[],d=!0,f=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw s}}return l}}function P3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Qoe(t,e){if(t){if(typeof t=="string")return P3(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P3(t,e):void 0}}function Zoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ele(t,e){return Xoe(t)||Joe(t,e)||Qoe(t,e)||Zoe()}var mw={defaultProps:{__TYPE:"Portal",element:null,appendTo:null,visible:!1,onMounted:null,onUnmounted:null,children:void 0},getProps:function(e){return dn.getMergedProps(e,mw.defaultProps)},getOtherProps:function(e){return dn.getDiffProps(e,mw.defaultProps)}},M_=j.memo(function(t){var e=mw.getProps(t),n=j.useContext(Hu),r=j.useState(e.visible&&xn.isClient()),s=ele(r,2),i=s[0],a=s[1];Xy(function(){xn.isClient()&&!i&&(a(!0),e.onMounted&&e.onMounted())}),_f(function(){e.onMounted&&e.onMounted()},[i]),zh(function(){e.onUnmounted&&e.onUnmounted()});var l=e.element||e.children;if(l&&i){var d=e.appendTo||n&&n.appendTo||Ko.appendTo;return dn.isFunction(d)&&(d=d()),d||(d=document.body),d==="self"?l:M5.createPortal(l,d)}return null});M_.displayName="Portal";function ly(){return ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ly.apply(null,arguments)}function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function tle(t,e){if(ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nle(t){var e=tle(t,"string");return ph(e)=="symbol"?e:e+""}function D_(t,e,n){return(e=nle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function rle(t){if(Array.isArray(t))return gw(t)}function sle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function R_(t,e){if(t){if(typeof t=="string")return gw(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gw(t,e):void 0}}function ile(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ale(t){return rle(t)||sle(t)||R_(t)||ile()}function ole(t){if(Array.isArray(t))return t}function lle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,a,l=[],d=!0,f=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw s}}return l}}function cle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zc(t,e){return ole(t)||lle(t,e)||R_(t,e)||cle()}var ule={root:function(e){var n=e.positionState,r=e.classNameState;return na("p-tooltip p-component",D_({},"p-tooltip-".concat(n),!0),r)},arrow:"p-tooltip-arrow",text:"p-tooltip-text"},dle={arrow:function(e){var n=e.context;return{top:n.bottom?"0":n.right||n.left||!n.right&&!n.left&&!n.top&&!n.bottom?"50%":null,bottom:n.top?"0":null,left:n.right||!n.right&&!n.left&&!n.top&&!n.bottom?"0":n.top||n.bottom?"50%":null,right:n.left?"0":null}}},fle=`
@layer primereact {
    .p-tooltip {
        position: absolute;
        padding: .25em .5rem;
        /* #3687: Tooltip prevent scrollbar flickering */
        top: -9999px;
        left: -9999px;
    }
    
    .p-tooltip.p-tooltip-right,
    .p-tooltip.p-tooltip-left {
        padding: 0 .25rem;
    }
    
    .p-tooltip.p-tooltip-top,
    .p-tooltip.p-tooltip-bottom {
        padding:.25em 0;
    }
    
    .p-tooltip .p-tooltip-text {
       white-space: pre-line;
       word-break: break-word;
    }
    
    .p-tooltip-arrow {
        position: absolute;
        width: 0;
        height: 0;
        border-color: transparent;
        border-style: solid;
    }
    
    .p-tooltip-right .p-tooltip-arrow {
        top: 50%;
        left: 0;
        margin-top: -.25rem;
        border-width: .25em .25em .25em 0;
    }
    
    .p-tooltip-left .p-tooltip-arrow {
        top: 50%;
        right: 0;
        margin-top: -.25rem;
        border-width: .25em 0 .25em .25rem;
    }
    
    .p-tooltip.p-tooltip-top {
        padding: .25em 0;
    }
    
    .p-tooltip-top .p-tooltip-arrow {
        bottom: 0;
        left: 50%;
        margin-left: -.25rem;
        border-width: .25em .25em 0;
    }
    
    .p-tooltip-bottom .p-tooltip-arrow {
        top: 0;
        left: 50%;
        margin-left: -.25rem;
        border-width: 0 .25em .25rem;
    }

    .p-tooltip-target-wrapper {
        display: inline-flex;
    }
}
`,Sm=hr.extend({defaultProps:{__TYPE:"Tooltip",appendTo:null,at:null,autoHide:!0,autoZIndex:!0,baseZIndex:0,className:null,closeOnEscape:!1,content:null,disabled:!1,event:null,hideDelay:0,hideEvent:"mouseleave",id:null,mouseTrack:!1,mouseTrackLeft:5,mouseTrackTop:5,my:null,onBeforeHide:null,onBeforeShow:null,onHide:null,onShow:null,position:"right",showDelay:0,showEvent:"mouseenter",showOnDisabled:!1,style:null,target:null,updateDelay:0,children:void 0},css:{classes:ule,styles:fle,inlineStyles:dle}});function z3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function hle(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z3(Object(n),!0).forEach(function(r){D_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var __=j.memo(j.forwardRef(function(t,e){var n=T_(),r=j.useContext(Hu),s=Sm.getProps(t,r),i=j.useState(!1),a=Zc(i,2),l=a[0],d=a[1],f=j.useState(s.position||"right"),p=Zc(f,2),m=p[0],y=p[1],x=j.useState(""),b=Zc(x,2),S=b[0],C=b[1],N=j.useState(!1),k=Zc(N,2),M=k[0],D=k[1],E=l&&s.closeOnEscape,A=Coe("tooltip",E),F={props:s,state:{visible:l,position:m,className:S},context:{right:m==="right",left:m==="left",top:m==="top",bottom:m==="bottom"}},H=Sm.setMetaData(F),Z=H.ptm,ve=H.cx,ue=H.sx,oe=H.isUnstyled;k_(Sm.css.styles,oe,{name:"tooltip"}),Aoe({callback:function(){I()},when:E,priority:[Eoe.TOOLTIP,A]});var te=j.useRef(null),ne=j.useRef(null),xe=j.useRef(null),W=j.useRef(null),le=j.useRef(!0),be=j.useRef({}),Fe=j.useRef(null),$=Ooe({listener:function(Ae){!xn.isTouchDevice()&&I(Ae)}}),de=Zc($,2),ie=de[0],he=de[1],ke=koe({target:xe.current,listener:function(Ae){I(Ae)},when:l}),ze=Zc(ke,2),Me=ze[0],Ye=ze[1],Re=function(Ae){return!(s.content||nt(Ae,"tooltip"))},ut=function(Ae){return!(s.content||nt(Ae,"tooltip")||s.children)},Ze=function(Ae){return nt(Ae,"mousetrack")||s.mouseTrack},St=function(Ae){return nt(Ae,"disabled")==="true"||ee(Ae,"disabled")||s.disabled},Nt=function(Ae){return nt(Ae,"showondisabled")||s.showOnDisabled},Ft=function(){return nt(xe.current,"autohide")||s.autoHide},nt=function(Ae,lt){return ee(Ae,"data-pr-".concat(lt))?Ae.getAttribute("data-pr-".concat(lt)):null},ee=function(Ae,lt){return Ae&&Ae.hasAttribute(lt)},Ve=function(Ae){var lt=[nt(Ae,"showevent")||s.showEvent],jt=[nt(Ae,"hideevent")||s.hideEvent];if(Ze(Ae))lt=["mousemove"],jt=["mouseleave"];else{var Et=nt(Ae,"event")||s.event;Et==="focus"&&(lt=["focus"],jt=["blur"]),Et==="both"&&(lt=["focus","mouseenter"],jt=M?["blur"]:["mouseleave","blur"])}return{showEvents:lt,hideEvents:jt}},qe=function(Ae){return nt(Ae,"position")||m},at=function(Ae){var lt=nt(Ae,"mousetracktop")||s.mouseTrackTop,jt=nt(Ae,"mousetrackleft")||s.mouseTrackLeft;return{top:lt,left:jt}},bt=function(Ae,lt){if(ne.current){var jt=nt(Ae,"tooltip")||s.content;jt?(ne.current.innerHTML="",ne.current.appendChild(document.createTextNode(jt)),lt()):s.children&&lt()}},B=function(Ae){bt(xe.current,function(){var lt=Fe.current,jt=lt.pageX,Et=lt.pageY;s.autoZIndex&&!df.get(te.current)&&df.set("tooltip",te.current,r&&r.autoZIndex||Ko.autoZIndex,s.baseZIndex||r&&r.zIndex.tooltip||Ko.zIndex.tooltip),te.current.style.left="",te.current.style.top="",Ft()&&(te.current.style.pointerEvents="none");var kt=Ze(xe.current)||Ae==="mouse";(kt&&!W.current||kt)&&(W.current={width:xn.getOuterWidth(te.current),height:xn.getOuterHeight(te.current)}),fe(xe.current,{x:jt,y:Et},Ae)})},se=function(Ae){Ae.type&&Ae.type==="focus"&&D(!0),xe.current=Ae.currentTarget;var lt=St(xe.current),jt=ut(Nt(xe.current)&&lt?xe.current.firstChild:xe.current);if(!(jt||lt))if(Fe.current=Ae,l)Jt("updateDelay",B);else{var Et=Pt(s.onBeforeShow,{originalEvent:Ae,target:xe.current});Et&&Jt("showDelay",function(){d(!0),Pt(s.onShow,{originalEvent:Ae,target:xe.current})})}},I=function(Ae){if(Ae&&Ae.type==="blur"&&D(!1),an(),l){var lt=Pt(s.onBeforeHide,{originalEvent:Ae,target:xe.current});lt&&Jt("hideDelay",function(){!Ft()&&le.current===!1||(df.clear(te.current),xn.removeClass(te.current,"p-tooltip-active"),d(!1),Pt(s.onHide,{originalEvent:Ae,target:xe.current}))})}else!s.onBeforeHide&&!ht("hideDelay")&&d(!1)},fe=function(Ae,lt,jt){var Et=0,kt=0,tn=jt||m;if((Ze(Ae)||tn=="mouse")&&lt){var Nn={width:xn.getOuterWidth(te.current),height:xn.getOuterHeight(te.current)};Et=lt.x,kt=lt.y;var Q=at(Ae),ge=Q.top,Ee=Q.left;switch(tn){case"left":Et=Et-(Nn.width+Ee),kt=kt-(Nn.height/2-ge);break;case"right":case"mouse":Et=Et+Ee,kt=kt-(Nn.height/2-ge);break;case"top":Et=Et-(Nn.width/2-Ee),kt=kt-(Nn.height+ge);break;case"bottom":Et=Et-(Nn.width/2-Ee),kt=kt+ge;break}Et<=0||W.current.width>Nn.width?(te.current.style.left="0px",te.current.style.right=window.innerWidth-Nn.width-Et+"px"):(te.current.style.right="",te.current.style.left=Et+"px"),te.current.style.top=kt+"px",xn.addClass(te.current,"p-tooltip-active")}else{var $e=xn.findCollisionPosition(tn),Xe=nt(Ae,"my")||s.my||$e.my,vt=nt(Ae,"at")||s.at||$e.at;te.current.style.padding="0px",xn.flipfitCollision(te.current,Ae,Xe,vt,function(At){var ct=At.at,Ct=ct.x,gt=ct.y,Ot=At.my.x,G=s.at?Ct!=="center"&&Ct!==Ot?Ct:gt:At.at["".concat($e.axis)];te.current.style.padding="",y(G),we(G),xn.addClass(te.current,"p-tooltip-active")})}},we=function(Ae){if(te.current){var lt=getComputedStyle(te.current);Ae==="left"?te.current.style.left=parseFloat(lt.left)-parseFloat(lt.paddingLeft)*2+"px":Ae==="top"&&(te.current.style.top=parseFloat(lt.top)-parseFloat(lt.paddingTop)*2+"px")}},V=function(){Ft()||(le.current=!1)},U=function(Ae){Ft()||(le.current=!0,I(Ae))},Ce=function(Ae){if(Ae){var lt=Ve(Ae),jt=lt.showEvents,Et=lt.hideEvents,kt=Qt(Ae);jt.forEach(function(tn){return kt?.addEventListener(tn,se)}),Et.forEach(function(tn){return kt?.addEventListener(tn,I)})}},et=function(Ae){if(Ae){var lt=Ve(Ae),jt=lt.showEvents,Et=lt.hideEvents,kt=Qt(Ae);jt.forEach(function(tn){return kt?.removeEventListener(tn,se)}),Et.forEach(function(tn){return kt?.removeEventListener(tn,I)})}},ht=function(Ae){return nt(xe.current,Ae.toLowerCase())||s[Ae]},Jt=function(Ae,lt){an();var jt=ht(Ae);jt?be.current["".concat(Ae)]=setTimeout(function(){return lt()},jt):lt()},Pt=function(Ae){if(Ae){for(var lt=arguments.length,jt=new Array(lt>1?lt-1:0),Et=1;Et<lt;Et++)jt[Et-1]=arguments[Et];var kt=Ae.apply(void 0,jt);return kt===void 0&&(kt=!0),kt}return!0},an=function(){Object.values(be.current).forEach(function(Ae){return clearTimeout(Ae)})},Qt=function(Ae){if(Ae){if(Nt(Ae)){if(!Ae.hasWrapper){var lt=document.createElement("div"),jt=Ae.nodeName==="INPUT";return jt?xn.addMultipleClasses(lt,"p-tooltip-target-wrapper p-inputwrapper"):xn.addClass(lt,"p-tooltip-target-wrapper"),Ae.parentNode.insertBefore(lt,Ae),lt.appendChild(Ae),Ae.hasWrapper=!0,lt}return Ae.parentElement}else if(Ae.hasWrapper){var Et;(Et=Ae.parentElement).replaceWith.apply(Et,ale(Ae.parentElement.childNodes)),delete Ae.hasWrapper}return Ae}return null},Te=function(Ae){pt(Ae),ot(Ae)},ot=function(Ae){me(Ae||s.target,Ce)},pt=function(Ae){me(Ae||s.target,et)},me=function(Ae,lt){if(Ae=dn.getRefElement(Ae),Ae)if(xn.isElement(Ae))lt(Ae);else{var jt=function(kt){var tn=xn.find(document,kt);tn.forEach(function(Nn){lt(Nn)})};Ae instanceof Array?Ae.forEach(function(Et){jt(Et)}):jt(Ae)}};Xy(function(){l&&xe.current&&St(xe.current)&&I()}),_f(function(){return ot(),function(){pt()}},[se,I,s.target]),_f(function(){if(l){var rt=qe(xe.current),Ae=nt(xe.current,"classname");y(rt),C(Ae),B(rt),ie(),Me()}else y(s.position||"right"),C(""),xe.current=null,W.current=null,le.current=!0;return function(){he(),Ye()}},[l]),_f(function(){var rt=qe(xe.current);l&&rt!=="mouse"&&Jt("updateDelay",function(){bt(xe.current,function(){fe(xe.current)})})},[s.content]),zh(function(){I(),df.clear(te.current)}),j.useImperativeHandle(e,function(){return{props:s,updateTargetEvents:Te,loadTargetEvents:ot,unloadTargetEvents:pt,show:se,hide:I,getElement:function(){return te.current},getTarget:function(){return xe.current}}});var mt=function(){var Ae=Re(xe.current),lt=n({id:s.id,className:na(s.className,ve("root",{positionState:m,classNameState:S})),style:s.style,role:"tooltip","aria-hidden":l,onMouseEnter:function(tn){return V()},onMouseLeave:function(tn){return U(tn)}},Sm.getOtherProps(s),Z("root")),jt=n({className:ve("arrow"),style:ue("arrow",hle({},F))},Z("arrow")),Et=n({className:ve("text")},Z("text"));return j.createElement("div",ly({ref:te},lt),j.createElement("div",jt),j.createElement("div",ly({ref:ne},Et),Ae&&s.children))};if(l){var Lt=mt();return j.createElement(M_,{element:Lt,appendTo:s.appendTo,visible:!0})}return null}));__.displayName="Tooltip";function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function ple(t,e){if(mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mle(t){var e=ple(t,"string");return mh(e)=="symbol"?e:e+""}function gle(t,e,n){return(e=mle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jo(){return jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jo.apply(null,arguments)}function yw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function yle(t){if(Array.isArray(t))return yw(t)}function xle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function L_(t,e){if(t){if(typeof t=="string")return yw(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yw(t,e):void 0}}function vle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cm(t){return yle(t)||xle(t)||L_(t)||vle()}function ble(t){if(Array.isArray(t))return t}function wle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,a,l=[],d=!0,f=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw s}}return l}}function Sle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I3(t,e){return ble(t)||wle(t,e)||L_(t,e)||Sle()}var Cle=`
@layer primereact {
    .p-chips {
        display: inline-flex;
    }
    
    .p-chips-multiple-container {
        margin: 0;
        padding: 0;
        list-style-type: none;
        cursor: text;
        overflow: hidden;
        display: flex;
        align-items: center;
        flex-wrap: wrap;
    }
    
    .p-chips-token {
        cursor: default;
        display: inline-flex;
        align-items: center;
        flex: 0 0 auto;
    }
    
    .p-chips-input-token {
        flex: 1 1 auto;
        display: inline-flex;
    }
    
    .p-chips-token-icon {
        cursor: pointer;
    }
    
    .p-chips-input-token input {
        border: 0 none;
        outline: 0 none;
        background-color: transparent;
        margin: 0;
        padding: 0;
        box-shadow: none;
        border-radius: 0;
        width: 100%;
    }
    
    .p-fluid .p-chips {
        display: flex;
    }
    
    .p-chips-icon-left,
    .p-chips-icon-right {
        position: relative;
        display: inline-block;
    }
    
    .p-chips-icon-left > i,
    .p-chips-icon-right > i,
    .p-chips-icon-left > svg,
    .p-chips-icon-right > svg,
    .p-chips-icon-left > .p-chips-prefix,
    .p-chips-icon-right > .p-chips-suffix {
        position: absolute;
        top: 50%;
        margin-top: -0.5rem;
    }
    
    .p-fluid .p-chips-icon-left,
    .p-fluid .p-chips-icon-right {
        display: block;
        width: 100%;
    }
}
`,Nle={removeTokenIcon:"p-chips-token-icon",label:"p-chips-token-label",token:function(e){var n=e.focusedIndex,r=e.index;return na("p-chips-token",{"p-focus":n===r})},inputToken:"p-chips-input-token",container:function(e){var n=e.props,r=e.context;return na("p-inputtext p-chips-multiple-container",{"p-variant-filled":n.variant?n.variant==="filled":r&&r.inputStyle==="filled"})},root:function(e){var n=e.isFilled,r=e.focusedState,s=e.disabled,i=e.invalid;return na("p-chips p-component p-inputwrapper",{"p-inputwrapper-filled":n,"p-inputwrapper-focus":r,"p-disabled":s,"p-invalid":i,"p-focus":r})}},Nm=hr.extend({defaultProps:{__TYPE:"Chips",addOnBlur:null,allowDuplicate:!0,ariaLabelledBy:null,autoFocus:!1,className:null,disabled:null,id:null,inputId:null,inputRef:null,invalid:!1,variant:null,itemTemplate:null,keyfilter:null,max:null,name:null,onAdd:null,onBlur:null,onChange:null,onFocus:null,onKeyDown:null,onRemove:null,placeholder:null,readOnly:!1,removable:!0,removeIcon:null,separator:null,style:null,tooltip:null,tooltipOptions:null,value:null,children:void 0},css:{classes:Nle,styles:Cle}});function B3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function F3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B3(Object(n),!0).forEach(function(r){gle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var xw=j.memo(j.forwardRef(function(t,e){var n=T_(),r=j.useContext(Hu),s=Nm.getProps(t,r),i=j.useState(!1),a=I3(i,2),l=a[0],d=a[1],f=j.useState(null),p=I3(f,2),m=p[0],y=p[1],x=Nm.setMetaData({props:s,state:{focused:l}}),b=x.ptm,S=x.cx,C=x.isUnstyled;k_(Nm.css.styles,C,{name:"chips"});var N=j.useRef(null),k=j.useRef(null),M=j.useRef(s.inputRef),D=function(ee,Ve){if(!(s.disabled||s.readOnly)){var qe=Cm(s.value),at=qe.splice(Ve,1)[0];ie(at,Ve)&&(s.onRemove&&s.onRemove({originalEvent:ee,value:at}),s.onChange&&s.onChange({originalEvent:ee,value:qe,stopPropagation:function(){ee?.stopPropagation()},preventDefault:function(){ee?.preventDefault()},target:{name:s.name,id:s.id,value:qe}}))}},E=function(ee,Ve,qe){if(Ve&&Ve.trim().length){var at=s.value?Cm(s.value):[];if(s.allowDuplicate||at.indexOf(Ve)===-1){var bt=!0;s.onAdd&&(bt=s.onAdd({originalEvent:ee,value:Ve})),bt!==!1&&at.push(Ve)}oe(ee,at,qe)}},A=function(){xn.focus(M.current)},F=function(ee){switch(ee.code){case"ArrowLeft":H();break;case"ArrowRight":Z();break;case"Backspace":ve(ee);break}},H=function(){var ee=m;M.current.value.length===0&&s.value&&s.value.length>0&&(ee=ee===null?s.value.length-1:ee-1,ee<0&&(ee=0)),y(ee)},Z=function(){var ee=m;M.current.value.length===0&&s.value&&s.value.length>0&&(ee===s.value.length-1?(ee=null,M.current.focus()):ee++),y(ee)},ve=function(ee){m!==null&&D(ee,m)},ue=function(ee){var Ve=ee.target.value,qe=s.value||[];if(s.onKeyDown&&s.onKeyDown(ee),!ee.defaultPrevented)switch(ee.key){case"Backspace":Ve.length===0&&qe.length>0&&D(ee,qe.length-1);break;case"Enter":Ve&&Ve.trim().length&&(!s.max||s.max>qe.length)&&E(ee,Ve,!0);break;case"ArrowLeft":Ve.length===0&&qe&&qe.length>0&&xn.focus(k.current);break;case"ArrowRight":ee.stopPropagation();break;default:s.keyfilter&&oy.onKeyPress(ee,s.keyfilter),Fe()&&ee.preventDefault();break}},oe=function(ee,Ve,qe){s.onChange&&s.onChange({originalEvent:ee,value:Ve,stopPropagation:function(){ee?.stopPropagation()},preventDefault:function(){ee?.preventDefault()},target:{name:s.name,id:s.id,value:Ve}}),M.current.value="",qe&&ee.preventDefault()},te=function(ee){var Ve,qe=(Ve=ee.target.value)===null||Ve===void 0?void 0:Ve.trim();if(qe===s.separator){M.current.value="";return}if(s.separator&&qe.endsWith(s.separator)){var at=qe.slice(0,-1);E(ee,at)}},ne=function(ee){if(s.separator){var Ve=s.separator.replace("\\n",`
`).replace("\\r","\r").replace("\\t","	"),qe=(ee.clipboardData||window.clipboardData).getData("Text");if(s.keyfilter&&oy.onPaste(ee,s.keyfilter),qe){var at=s.value||[],bt=qe.split(Ve);bt=bt.filter(function(B){return(s.allowDuplicate||at.indexOf(B)===-1)&&B.trim().length}),at=[].concat(Cm(at),Cm(bt)),oe(ee,at,!0)}}},xe=function(){d(!0)},W=function(){y(-1),d(!1)},le=function(ee){d(!0),y(null),s.onFocus&&s.onFocus(ee)},be=function(ee){if(s.addOnBlur){var Ve=ee.target.value,qe=s.value||[];Ve&&Ve.trim().length&&(!s.max||s.max>qe.length)&&E(ee,Ve,!0)}d(!1),s.onBlur&&s.onBlur(ee)},Fe=function(){return s.max&&s.value&&s.max===s.value.length},$=M.current&&M.current.value,de=j.useMemo(function(){return dn.isNotEmpty(s.value)||dn.isNotEmpty($)},[s.value,$]),ie=function(ee,Ve){return dn.getPropValue(s.removable,{value:ee,index:Ve,props:s})};j.useImperativeHandle(e,function(){return{props:s,focus:function(){return xn.focus(M.current)},getElement:function(){return N.current},getInput:function(){return M.current}}}),j.useEffect(function(){dn.combinedRefs(M,s.inputRef)},[M,s.inputRef]),Xy(function(){s.autoFocus&&xn.focus(M.current,s.autoFocus)});var he=function(){return m!==null?"".concat(s.inputId,"_chips_item_").concat(m):null},ke=function(ee,Ve){if(!s.disabled&&!s.readOnly&&ie(ee,Ve)){var qe=n({className:S("removeTokenIcon"),onClick:function(se){return D(se,Ve)},"aria-hidden":"true"},b("removeTokenIcon")),at=s.removeIcon||j.createElement(O_,jo({},qe,{key:"".concat(Ve,"_icon")})),bt=hoe.getJSXIcon(at,F3({},qe),{props:s});return bt}return null},ze=function(ee,Ve){var qe=s.itemTemplate?s.itemTemplate(ee):ee,at=n({className:S("label")},b("label")),bt=j.createElement("span",jo({},at,{key:"".concat(Ve,"_").concat(ee,"_span")}),qe),B=ke(ee,Ve),se=n({id:s.inputId+"_chips_item_"+Ve,role:"option","aria-label":ee,className:S("token",{focusedIndex:m,index:Ve}),"aria-selected":!0,"aria-setsize":s.value.length,"aria-posinset":Ve+1,"data-p-highlight":!0,"data-p-focused":m===Ve},b("token"));return j.createElement("li",jo({},se,{key:"".concat(Ve,"_").concat(ee)}),bt,B)},Me=function(){var ee=n({className:S("inputToken")},b("inputToken")),Ve=n(F3({id:s.inputId,ref:M,placeholder:s.placeholder,type:"text",enterKeyHint:"enter",name:s.name,disabled:s.disabled||Fe(),onKeyDown:function(at){return ue(at)},onChange:function(at){return te(at)},onPaste:function(at){return ne(at)},onFocus:function(at){return le(at)},onBlur:function(at){return be(at)},readOnly:s.readOnly},St),b("input"));return j.createElement("li",jo({},ee,{key:s.inputId+"_chips_input"}),j.createElement("input",Ve))},Ye=function(){return s.value?s.value.map(ze):null},Re=function(){var ee=Ye(),Ve=Me(),qe=n({ref:k,className:S("container",{context:r}),onClick:function(bt){return A()},onKeyDown:function(bt){return F(bt)},tabIndex:-1,role:"listbox","aria-orientation":"horizontal","aria-labelledby":s.ariaLabelledby,"aria-label":s.ariaLabel,"aria-activedescendant":l?he():void 0,"data-p-disabled":s.disabled,"data-p-focus":l,onFocus:xe,onBlur:W},b("container"));return j.createElement("ul",qe,ee,Ve)},ut=dn.isNotEmpty(s.tooltip),Ze=Nm.getOtherProps(s),St=dn.reduceKeys(Ze,xn.ARIA_PROPS),Nt=Re(),Ft=n({id:s.id,ref:N,className:na(s.className,S("root",{isFilled:de,focusedState:l,disabled:s.disabled,invalid:s.invalid})),style:s.style},b("root"));return j.createElement(j.Fragment,null,j.createElement("div",jo({},Ft,{key:"chips"}),Nt),ut&&j.createElement(__,jo({target:M,content:s.tooltip,pt:b("tooltip")},s.tooltipOptions)))}));xw.displayName="Chips";function jm(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jb={exports:{}};var $3;function jle(){return $3||($3=1,function(t,e){(function(n){t.exports=n()})(function(){return function n(r,s,i){function a(f,p){if(!s[f]){if(!r[f]){var m=typeof jm=="function"&&jm;if(!p&&m)return m(f,!0);if(l)return l(f,!0);var y=new Error("Cannot find module '"+f+"'");throw y.code="MODULE_NOT_FOUND",y}var x=s[f]={exports:{}};r[f][0].call(x.exports,function(b){var S=r[f][1][b];return a(S||b)},x,x.exports,n,r,s,i)}return s[f].exports}for(var l=typeof jm=="function"&&jm,d=0;d<i.length;d++)a(i[d]);return a}({1:[function(n,r,s){(function(i){var a=i.MutationObserver||i.WebKitMutationObserver,l;if(a){var d=0,f=new a(b),p=i.document.createTextNode("");f.observe(p,{characterData:!0}),l=function(){p.data=d=++d%2}}else if(!i.setImmediate&&typeof i.MessageChannel<"u"){var m=new i.MessageChannel;m.port1.onmessage=b,l=function(){m.port2.postMessage(0)}}else"document"in i&&"onreadystatechange"in i.document.createElement("script")?l=function(){var C=i.document.createElement("script");C.onreadystatechange=function(){b(),C.onreadystatechange=null,C.parentNode.removeChild(C),C=null},i.document.documentElement.appendChild(C)}:l=function(){setTimeout(b,0)};var y,x=[];function b(){y=!0;for(var C,N,k=x.length;k;){for(N=x,x=[],C=-1;++C<k;)N[C]();k=x.length}y=!1}r.exports=S;function S(C){x.push(C)===1&&!y&&l()}}).call(this,typeof Hp<"u"?Hp:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,s){var i=n(1);function a(){}var l={},d=["REJECTED"],f=["FULFILLED"],p=["PENDING"];r.exports=m;function m(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,E!==a&&S(this,E)}m.prototype.catch=function(E){return this.then(null,E)},m.prototype.then=function(E,A){if(typeof E!="function"&&this.state===f||typeof A!="function"&&this.state===d)return this;var F=new this.constructor(a);if(this.state!==p){var H=this.state===f?E:A;x(F,H,this.outcome)}else this.queue.push(new y(F,E,A));return F};function y(E,A,F){this.promise=E,typeof A=="function"&&(this.onFulfilled=A,this.callFulfilled=this.otherCallFulfilled),typeof F=="function"&&(this.onRejected=F,this.callRejected=this.otherCallRejected)}y.prototype.callFulfilled=function(E){l.resolve(this.promise,E)},y.prototype.otherCallFulfilled=function(E){x(this.promise,this.onFulfilled,E)},y.prototype.callRejected=function(E){l.reject(this.promise,E)},y.prototype.otherCallRejected=function(E){x(this.promise,this.onRejected,E)};function x(E,A,F){i(function(){var H;try{H=A(F)}catch(Z){return l.reject(E,Z)}H===E?l.reject(E,new TypeError("Cannot resolve promise with itself")):l.resolve(E,H)})}l.resolve=function(E,A){var F=C(b,A);if(F.status==="error")return l.reject(E,F.value);var H=F.value;if(H)S(E,H);else{E.state=f,E.outcome=A;for(var Z=-1,ve=E.queue.length;++Z<ve;)E.queue[Z].callFulfilled(A)}return E},l.reject=function(E,A){E.state=d,E.outcome=A;for(var F=-1,H=E.queue.length;++F<H;)E.queue[F].callRejected(A);return E};function b(E){var A=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof A=="function")return function(){A.apply(E,arguments)}}function S(E,A){var F=!1;function H(oe){F||(F=!0,l.reject(E,oe))}function Z(oe){F||(F=!0,l.resolve(E,oe))}function ve(){A(Z,H)}var ue=C(ve);ue.status==="error"&&H(ue.value)}function C(E,A){var F={};try{F.value=E(A),F.status="success"}catch(H){F.status="error",F.value=H}return F}m.resolve=N;function N(E){return E instanceof this?E:l.resolve(new this(a),E)}m.reject=k;function k(E){var A=new this(a);return l.reject(A,E)}m.all=M;function M(E){var A=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var F=E.length,H=!1;if(!F)return this.resolve([]);for(var Z=new Array(F),ve=0,ue=-1,oe=new this(a);++ue<F;)te(E[ue],ue);return oe;function te(ne,xe){A.resolve(ne).then(W,function(le){H||(H=!0,l.reject(oe,le))});function W(le){Z[xe]=le,++ve===F&&!H&&(H=!0,l.resolve(oe,Z))}}}m.race=D;function D(E){var A=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var F=E.length,H=!1;if(!F)return this.resolve([]);for(var Z=-1,ve=new this(a);++Z<F;)ue(E[Z]);return ve;function ue(oe){A.resolve(oe).then(function(te){H||(H=!0,l.resolve(ve,te))},function(te){H||(H=!0,l.reject(ve,te))})}}},{1:1}],3:[function(n,r,s){(function(i){typeof i.Promise!="function"&&(i.Promise=n(2))}).call(this,typeof Hp<"u"?Hp:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,s){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T};function a(T,L){if(!(T instanceof L))throw new TypeError("Cannot call a class as a function")}function l(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var d=l();function f(){try{if(!d||!d.open)return!1;var T=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),L=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!T||L)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function p(T,L){T=T||[],L=L||{};try{return new Blob(T,L)}catch(ae){if(ae.name!=="TypeError")throw ae;for(var z=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,J=new z,pe=0;pe<T.length;pe+=1)J.append(T[pe]);return J.getBlob(L.type)}}typeof Promise>"u"&&n(3);var m=Promise;function y(T,L){L&&T.then(function(z){L(null,z)},function(z){L(z)})}function x(T,L,z){typeof L=="function"&&T.then(L),typeof z=="function"&&T.catch(z)}function b(T){return typeof T!="string"&&(console.warn(T+" used as a key, but it is not a string."),T=String(T)),T}function S(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var C="local-forage-detect-blob-support",N=void 0,k={},M=Object.prototype.toString,D="readonly",E="readwrite";function A(T){for(var L=T.length,z=new ArrayBuffer(L),J=new Uint8Array(z),pe=0;pe<L;pe++)J[pe]=T.charCodeAt(pe);return z}function F(T){return new m(function(L){var z=T.transaction(C,E),J=p([""]);z.objectStore(C).put(J,"key"),z.onabort=function(pe){pe.preventDefault(),pe.stopPropagation(),L(!1)},z.oncomplete=function(){var pe=navigator.userAgent.match(/Chrome\/(\d+)/),ae=navigator.userAgent.match(/Edge\//);L(ae||!pe||parseInt(pe[1],10)>=43)}}).catch(function(){return!1})}function H(T){return typeof N=="boolean"?m.resolve(N):F(T).then(function(L){return N=L,N})}function Z(T){var L=k[T.name],z={};z.promise=new m(function(J,pe){z.resolve=J,z.reject=pe}),L.deferredOperations.push(z),L.dbReady?L.dbReady=L.dbReady.then(function(){return z.promise}):L.dbReady=z.promise}function ve(T){var L=k[T.name],z=L.deferredOperations.pop();if(z)return z.resolve(),z.promise}function ue(T,L){var z=k[T.name],J=z.deferredOperations.pop();if(J)return J.reject(L),J.promise}function oe(T,L){return new m(function(z,J){if(k[T.name]=k[T.name]||ie(),T.db)if(L)Z(T),T.db.close();else return z(T.db);var pe=[T.name];L&&pe.push(T.version);var ae=d.open.apply(d,pe);L&&(ae.onupgradeneeded=function(Ie){var Je=ae.result;try{Je.createObjectStore(T.storeName),Ie.oldVersion<=1&&Je.createObjectStore(C)}catch(Qe){if(Qe.name==="ConstraintError")console.warn('The database "'+T.name+'" has been upgraded from version '+Ie.oldVersion+" to version "+Ie.newVersion+', but the storage "'+T.storeName+'" already exists.');else throw Qe}}),ae.onerror=function(Ie){Ie.preventDefault(),J(ae.error)},ae.onsuccess=function(){var Ie=ae.result;Ie.onversionchange=function(Je){Je.target.close()},z(Ie),ve(T)}})}function te(T){return oe(T,!1)}function ne(T){return oe(T,!0)}function xe(T,L){if(!T.db)return!0;var z=!T.db.objectStoreNames.contains(T.storeName),J=T.version<T.db.version,pe=T.version>T.db.version;if(J&&(T.version!==L&&console.warn('The database "'+T.name+`" can't be downgraded from version `+T.db.version+" to version "+T.version+"."),T.version=T.db.version),pe||z){if(z){var ae=T.db.version+1;ae>T.version&&(T.version=ae)}return!0}return!1}function W(T){return new m(function(L,z){var J=new FileReader;J.onerror=z,J.onloadend=function(pe){var ae=btoa(pe.target.result||"");L({__local_forage_encoded_blob:!0,data:ae,type:T.type})},J.readAsBinaryString(T)})}function le(T){var L=A(atob(T.data));return p([L],{type:T.type})}function be(T){return T&&T.__local_forage_encoded_blob}function Fe(T){var L=this,z=L._initReady().then(function(){var J=k[L._dbInfo.name];if(J&&J.dbReady)return J.dbReady});return x(z,T,T),z}function $(T){Z(T);for(var L=k[T.name],z=L.forages,J=0;J<z.length;J++){var pe=z[J];pe._dbInfo.db&&(pe._dbInfo.db.close(),pe._dbInfo.db=null)}return T.db=null,te(T).then(function(ae){return T.db=ae,xe(T)?ne(T):ae}).then(function(ae){T.db=L.db=ae;for(var Ie=0;Ie<z.length;Ie++)z[Ie]._dbInfo.db=ae}).catch(function(ae){throw ue(T,ae),ae})}function de(T,L,z,J){J===void 0&&(J=1);try{var pe=T.db.transaction(T.storeName,L);z(null,pe)}catch(ae){if(J>0&&(!T.db||ae.name==="InvalidStateError"||ae.name==="NotFoundError"))return m.resolve().then(function(){if(!T.db||ae.name==="NotFoundError"&&!T.db.objectStoreNames.contains(T.storeName)&&T.version<=T.db.version)return T.db&&(T.version=T.db.version+1),ne(T)}).then(function(){return $(T).then(function(){de(T,L,z,J-1)})}).catch(z);z(ae)}}function ie(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function he(T){var L=this,z={db:null};if(T)for(var J in T)z[J]=T[J];var pe=k[z.name];pe||(pe=ie(),k[z.name]=pe),pe.forages.push(L),L._initReady||(L._initReady=L.ready,L.ready=Fe);var ae=[];function Ie(){return m.resolve()}for(var Je=0;Je<pe.forages.length;Je++){var Qe=pe.forages[Je];Qe!==L&&ae.push(Qe._initReady().catch(Ie))}var st=pe.forages.slice(0);return m.all(ae).then(function(){return z.db=pe.db,te(z)}).then(function(dt){return z.db=dt,xe(z,L._defaultConfig.version)?ne(z):dt}).then(function(dt){z.db=pe.db=dt,L._dbInfo=z;for(var Dt=0;Dt<st.length;Dt++){var Zt=st[Dt];Zt!==L&&(Zt._dbInfo.db=z.db,Zt._dbInfo.version=z.version)}})}function ke(T,L){var z=this;T=b(T);var J=new m(function(pe,ae){z.ready().then(function(){de(z._dbInfo,D,function(Ie,Je){if(Ie)return ae(Ie);try{var Qe=Je.objectStore(z._dbInfo.storeName),st=Qe.get(T);st.onsuccess=function(){var dt=st.result;dt===void 0&&(dt=null),be(dt)&&(dt=le(dt)),pe(dt)},st.onerror=function(){ae(st.error)}}catch(dt){ae(dt)}})}).catch(ae)});return y(J,L),J}function ze(T,L){var z=this,J=new m(function(pe,ae){z.ready().then(function(){de(z._dbInfo,D,function(Ie,Je){if(Ie)return ae(Ie);try{var Qe=Je.objectStore(z._dbInfo.storeName),st=Qe.openCursor(),dt=1;st.onsuccess=function(){var Dt=st.result;if(Dt){var Zt=Dt.value;be(Zt)&&(Zt=le(Zt));var vn=T(Zt,Dt.key,dt++);vn!==void 0?pe(vn):Dt.continue()}else pe()},st.onerror=function(){ae(st.error)}}catch(Dt){ae(Dt)}})}).catch(ae)});return y(J,L),J}function Me(T,L,z){var J=this;T=b(T);var pe=new m(function(ae,Ie){var Je;J.ready().then(function(){return Je=J._dbInfo,M.call(L)==="[object Blob]"?H(Je.db).then(function(Qe){return Qe?L:W(L)}):L}).then(function(Qe){de(J._dbInfo,E,function(st,dt){if(st)return Ie(st);try{var Dt=dt.objectStore(J._dbInfo.storeName);Qe===null&&(Qe=void 0);var Zt=Dt.put(Qe,T);dt.oncomplete=function(){Qe===void 0&&(Qe=null),ae(Qe)},dt.onabort=dt.onerror=function(){var vn=Zt.error?Zt.error:Zt.transaction.error;Ie(vn)}}catch(vn){Ie(vn)}})}).catch(Ie)});return y(pe,z),pe}function Ye(T,L){var z=this;T=b(T);var J=new m(function(pe,ae){z.ready().then(function(){de(z._dbInfo,E,function(Ie,Je){if(Ie)return ae(Ie);try{var Qe=Je.objectStore(z._dbInfo.storeName),st=Qe.delete(T);Je.oncomplete=function(){pe()},Je.onerror=function(){ae(st.error)},Je.onabort=function(){var dt=st.error?st.error:st.transaction.error;ae(dt)}}catch(dt){ae(dt)}})}).catch(ae)});return y(J,L),J}function Re(T){var L=this,z=new m(function(J,pe){L.ready().then(function(){de(L._dbInfo,E,function(ae,Ie){if(ae)return pe(ae);try{var Je=Ie.objectStore(L._dbInfo.storeName),Qe=Je.clear();Ie.oncomplete=function(){J()},Ie.onabort=Ie.onerror=function(){var st=Qe.error?Qe.error:Qe.transaction.error;pe(st)}}catch(st){pe(st)}})}).catch(pe)});return y(z,T),z}function ut(T){var L=this,z=new m(function(J,pe){L.ready().then(function(){de(L._dbInfo,D,function(ae,Ie){if(ae)return pe(ae);try{var Je=Ie.objectStore(L._dbInfo.storeName),Qe=Je.count();Qe.onsuccess=function(){J(Qe.result)},Qe.onerror=function(){pe(Qe.error)}}catch(st){pe(st)}})}).catch(pe)});return y(z,T),z}function Ze(T,L){var z=this,J=new m(function(pe,ae){if(T<0){pe(null);return}z.ready().then(function(){de(z._dbInfo,D,function(Ie,Je){if(Ie)return ae(Ie);try{var Qe=Je.objectStore(z._dbInfo.storeName),st=!1,dt=Qe.openKeyCursor();dt.onsuccess=function(){var Dt=dt.result;if(!Dt){pe(null);return}T===0||st?pe(Dt.key):(st=!0,Dt.advance(T))},dt.onerror=function(){ae(dt.error)}}catch(Dt){ae(Dt)}})}).catch(ae)});return y(J,L),J}function St(T){var L=this,z=new m(function(J,pe){L.ready().then(function(){de(L._dbInfo,D,function(ae,Ie){if(ae)return pe(ae);try{var Je=Ie.objectStore(L._dbInfo.storeName),Qe=Je.openKeyCursor(),st=[];Qe.onsuccess=function(){var dt=Qe.result;if(!dt){J(st);return}st.push(dt.key),dt.continue()},Qe.onerror=function(){pe(Qe.error)}}catch(dt){pe(dt)}})}).catch(pe)});return y(z,T),z}function Nt(T,L){L=S.apply(this,arguments);var z=this.config();T=typeof T!="function"&&T||{},T.name||(T.name=T.name||z.name,T.storeName=T.storeName||z.storeName);var J=this,pe;if(!T.name)pe=m.reject("Invalid arguments");else{var ae=T.name===z.name&&J._dbInfo.db,Ie=ae?m.resolve(J._dbInfo.db):te(T).then(function(Je){var Qe=k[T.name],st=Qe.forages;Qe.db=Je;for(var dt=0;dt<st.length;dt++)st[dt]._dbInfo.db=Je;return Je});T.storeName?pe=Ie.then(function(Je){if(Je.objectStoreNames.contains(T.storeName)){var Qe=Je.version+1;Z(T);var st=k[T.name],dt=st.forages;Je.close();for(var Dt=0;Dt<dt.length;Dt++){var Zt=dt[Dt];Zt._dbInfo.db=null,Zt._dbInfo.version=Qe}var vn=new m(function(wn,_n){var Qn=d.open(T.name,Qe);Qn.onerror=function(is){var Wa=Qn.result;Wa.close(),_n(is)},Qn.onupgradeneeded=function(){var is=Qn.result;is.deleteObjectStore(T.storeName)},Qn.onsuccess=function(){var is=Qn.result;is.close(),wn(is)}});return vn.then(function(wn){st.db=wn;for(var _n=0;_n<dt.length;_n++){var Qn=dt[_n];Qn._dbInfo.db=wn,ve(Qn._dbInfo)}}).catch(function(wn){throw(ue(T,wn)||m.resolve()).catch(function(){}),wn})}}):pe=Ie.then(function(Je){Z(T);var Qe=k[T.name],st=Qe.forages;Je.close();for(var dt=0;dt<st.length;dt++){var Dt=st[dt];Dt._dbInfo.db=null}var Zt=new m(function(vn,wn){var _n=d.deleteDatabase(T.name);_n.onerror=function(){var Qn=_n.result;Qn&&Qn.close(),wn(_n.error)},_n.onblocked=function(){console.warn('dropInstance blocked for database "'+T.name+'" until all open connections are closed')},_n.onsuccess=function(){var Qn=_n.result;Qn&&Qn.close(),vn(Qn)}});return Zt.then(function(vn){Qe.db=vn;for(var wn=0;wn<st.length;wn++){var _n=st[wn];ve(_n._dbInfo)}}).catch(function(vn){throw(ue(T,vn)||m.resolve()).catch(function(){}),vn})})}return y(pe,L),pe}var Ft={_driver:"asyncStorage",_initStorage:he,_support:f(),iterate:ze,getItem:ke,setItem:Me,removeItem:Ye,clear:Re,length:ut,key:Ze,keys:St,dropInstance:Nt};function nt(){return typeof openDatabase=="function"}var ee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ve="~~local_forage_type~",qe=/^~~local_forage_type~([^~]+)~/,at="__lfsc__:",bt=at.length,B="arbf",se="blob",I="si08",fe="ui08",we="uic8",V="si16",U="si32",Ce="ur16",et="ui32",ht="fl32",Jt="fl64",Pt=bt+B.length,an=Object.prototype.toString;function Qt(T){var L=T.length*.75,z=T.length,J,pe=0,ae,Ie,Je,Qe;T[T.length-1]==="="&&(L--,T[T.length-2]==="="&&L--);var st=new ArrayBuffer(L),dt=new Uint8Array(st);for(J=0;J<z;J+=4)ae=ee.indexOf(T[J]),Ie=ee.indexOf(T[J+1]),Je=ee.indexOf(T[J+2]),Qe=ee.indexOf(T[J+3]),dt[pe++]=ae<<2|Ie>>4,dt[pe++]=(Ie&15)<<4|Je>>2,dt[pe++]=(Je&3)<<6|Qe&63;return st}function Te(T){var L=new Uint8Array(T),z="",J;for(J=0;J<L.length;J+=3)z+=ee[L[J]>>2],z+=ee[(L[J]&3)<<4|L[J+1]>>4],z+=ee[(L[J+1]&15)<<2|L[J+2]>>6],z+=ee[L[J+2]&63];return L.length%3===2?z=z.substring(0,z.length-1)+"=":L.length%3===1&&(z=z.substring(0,z.length-2)+"=="),z}function ot(T,L){var z="";if(T&&(z=an.call(T)),T&&(z==="[object ArrayBuffer]"||T.buffer&&an.call(T.buffer)==="[object ArrayBuffer]")){var J,pe=at;T instanceof ArrayBuffer?(J=T,pe+=B):(J=T.buffer,z==="[object Int8Array]"?pe+=I:z==="[object Uint8Array]"?pe+=fe:z==="[object Uint8ClampedArray]"?pe+=we:z==="[object Int16Array]"?pe+=V:z==="[object Uint16Array]"?pe+=Ce:z==="[object Int32Array]"?pe+=U:z==="[object Uint32Array]"?pe+=et:z==="[object Float32Array]"?pe+=ht:z==="[object Float64Array]"?pe+=Jt:L(new Error("Failed to get type for BinaryArray"))),L(pe+Te(J))}else if(z==="[object Blob]"){var ae=new FileReader;ae.onload=function(){var Ie=Ve+T.type+"~"+Te(this.result);L(at+se+Ie)},ae.readAsArrayBuffer(T)}else try{L(JSON.stringify(T))}catch(Ie){console.error("Couldn't convert value into a JSON string: ",T),L(null,Ie)}}function pt(T){if(T.substring(0,bt)!==at)return JSON.parse(T);var L=T.substring(Pt),z=T.substring(bt,Pt),J;if(z===se&&qe.test(L)){var pe=L.match(qe);J=pe[1],L=L.substring(pe[0].length)}var ae=Qt(L);switch(z){case B:return ae;case se:return p([ae],{type:J});case I:return new Int8Array(ae);case fe:return new Uint8Array(ae);case we:return new Uint8ClampedArray(ae);case V:return new Int16Array(ae);case Ce:return new Uint16Array(ae);case U:return new Int32Array(ae);case et:return new Uint32Array(ae);case ht:return new Float32Array(ae);case Jt:return new Float64Array(ae);default:throw new Error("Unkown type: "+z)}}var me={serialize:ot,deserialize:pt,stringToBuffer:Qt,bufferToString:Te};function mt(T,L,z,J){T.executeSql("CREATE TABLE IF NOT EXISTS "+L.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],z,J)}function Lt(T){var L=this,z={db:null};if(T)for(var J in T)z[J]=typeof T[J]!="string"?T[J].toString():T[J];var pe=new m(function(ae,Ie){try{z.db=openDatabase(z.name,String(z.version),z.description,z.size)}catch(Je){return Ie(Je)}z.db.transaction(function(Je){mt(Je,z,function(){L._dbInfo=z,ae()},function(Qe,st){Ie(st)})},Ie)});return z.serializer=me,pe}function rt(T,L,z,J,pe,ae){T.executeSql(z,J,pe,function(Ie,Je){Je.code===Je.SYNTAX_ERR?Ie.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[L.storeName],function(Qe,st){st.rows.length?ae(Qe,Je):mt(Qe,L,function(){Qe.executeSql(z,J,pe,ae)},ae)},ae):ae(Ie,Je)},ae)}function Ae(T,L){var z=this;T=b(T);var J=new m(function(pe,ae){z.ready().then(function(){var Ie=z._dbInfo;Ie.db.transaction(function(Je){rt(Je,Ie,"SELECT * FROM "+Ie.storeName+" WHERE key = ? LIMIT 1",[T],function(Qe,st){var dt=st.rows.length?st.rows.item(0).value:null;dt&&(dt=Ie.serializer.deserialize(dt)),pe(dt)},function(Qe,st){ae(st)})})}).catch(ae)});return y(J,L),J}function lt(T,L){var z=this,J=new m(function(pe,ae){z.ready().then(function(){var Ie=z._dbInfo;Ie.db.transaction(function(Je){rt(Je,Ie,"SELECT * FROM "+Ie.storeName,[],function(Qe,st){for(var dt=st.rows,Dt=dt.length,Zt=0;Zt<Dt;Zt++){var vn=dt.item(Zt),wn=vn.value;if(wn&&(wn=Ie.serializer.deserialize(wn)),wn=T(wn,vn.key,Zt+1),wn!==void 0){pe(wn);return}}pe()},function(Qe,st){ae(st)})})}).catch(ae)});return y(J,L),J}function jt(T,L,z,J){var pe=this;T=b(T);var ae=new m(function(Ie,Je){pe.ready().then(function(){L===void 0&&(L=null);var Qe=L,st=pe._dbInfo;st.serializer.serialize(L,function(dt,Dt){Dt?Je(Dt):st.db.transaction(function(Zt){rt(Zt,st,"INSERT OR REPLACE INTO "+st.storeName+" (key, value) VALUES (?, ?)",[T,dt],function(){Ie(Qe)},function(vn,wn){Je(wn)})},function(Zt){if(Zt.code===Zt.QUOTA_ERR){if(J>0){Ie(jt.apply(pe,[T,Qe,z,J-1]));return}Je(Zt)}})})}).catch(Je)});return y(ae,z),ae}function Et(T,L,z){return jt.apply(this,[T,L,z,1])}function kt(T,L){var z=this;T=b(T);var J=new m(function(pe,ae){z.ready().then(function(){var Ie=z._dbInfo;Ie.db.transaction(function(Je){rt(Je,Ie,"DELETE FROM "+Ie.storeName+" WHERE key = ?",[T],function(){pe()},function(Qe,st){ae(st)})})}).catch(ae)});return y(J,L),J}function tn(T){var L=this,z=new m(function(J,pe){L.ready().then(function(){var ae=L._dbInfo;ae.db.transaction(function(Ie){rt(Ie,ae,"DELETE FROM "+ae.storeName,[],function(){J()},function(Je,Qe){pe(Qe)})})}).catch(pe)});return y(z,T),z}function Nn(T){var L=this,z=new m(function(J,pe){L.ready().then(function(){var ae=L._dbInfo;ae.db.transaction(function(Ie){rt(Ie,ae,"SELECT COUNT(key) as c FROM "+ae.storeName,[],function(Je,Qe){var st=Qe.rows.item(0).c;J(st)},function(Je,Qe){pe(Qe)})})}).catch(pe)});return y(z,T),z}function Q(T,L){var z=this,J=new m(function(pe,ae){z.ready().then(function(){var Ie=z._dbInfo;Ie.db.transaction(function(Je){rt(Je,Ie,"SELECT key FROM "+Ie.storeName+" WHERE id = ? LIMIT 1",[T+1],function(Qe,st){var dt=st.rows.length?st.rows.item(0).key:null;pe(dt)},function(Qe,st){ae(st)})})}).catch(ae)});return y(J,L),J}function ge(T){var L=this,z=new m(function(J,pe){L.ready().then(function(){var ae=L._dbInfo;ae.db.transaction(function(Ie){rt(Ie,ae,"SELECT key FROM "+ae.storeName,[],function(Je,Qe){for(var st=[],dt=0;dt<Qe.rows.length;dt++)st.push(Qe.rows.item(dt).key);J(st)},function(Je,Qe){pe(Qe)})})}).catch(pe)});return y(z,T),z}function Ee(T){return new m(function(L,z){T.transaction(function(J){J.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(pe,ae){for(var Ie=[],Je=0;Je<ae.rows.length;Je++)Ie.push(ae.rows.item(Je).name);L({db:T,storeNames:Ie})},function(pe,ae){z(ae)})},function(J){z(J)})})}function $e(T,L){L=S.apply(this,arguments);var z=this.config();T=typeof T!="function"&&T||{},T.name||(T.name=T.name||z.name,T.storeName=T.storeName||z.storeName);var J=this,pe;return T.name?pe=new m(function(ae){var Ie;T.name===z.name?Ie=J._dbInfo.db:Ie=openDatabase(T.name,"","",0),T.storeName?ae({db:Ie,storeNames:[T.storeName]}):ae(Ee(Ie))}).then(function(ae){return new m(function(Ie,Je){ae.db.transaction(function(Qe){function st(vn){return new m(function(wn,_n){Qe.executeSql("DROP TABLE IF EXISTS "+vn,[],function(){wn()},function(Qn,is){_n(is)})})}for(var dt=[],Dt=0,Zt=ae.storeNames.length;Dt<Zt;Dt++)dt.push(st(ae.storeNames[Dt]));m.all(dt).then(function(){Ie()}).catch(function(vn){Je(vn)})},function(Qe){Je(Qe)})})}):pe=m.reject("Invalid arguments"),y(pe,L),pe}var Xe={_driver:"webSQLStorage",_initStorage:Lt,_support:nt(),iterate:lt,getItem:Ae,setItem:Et,removeItem:kt,clear:tn,length:Nn,key:Q,keys:ge,dropInstance:$e};function vt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function At(T,L){var z=T.name+"/";return T.storeName!==L.storeName&&(z+=T.storeName+"/"),z}function ct(){var T="_localforage_support_test";try{return localStorage.setItem(T,!0),localStorage.removeItem(T),!1}catch{return!0}}function Ct(){return!ct()||localStorage.length>0}function gt(T){var L=this,z={};if(T)for(var J in T)z[J]=T[J];return z.keyPrefix=At(T,L._defaultConfig),Ct()?(L._dbInfo=z,z.serializer=me,m.resolve()):m.reject()}function Ot(T){var L=this,z=L.ready().then(function(){for(var J=L._dbInfo.keyPrefix,pe=localStorage.length-1;pe>=0;pe--){var ae=localStorage.key(pe);ae.indexOf(J)===0&&localStorage.removeItem(ae)}});return y(z,T),z}function G(T,L){var z=this;T=b(T);var J=z.ready().then(function(){var pe=z._dbInfo,ae=localStorage.getItem(pe.keyPrefix+T);return ae&&(ae=pe.serializer.deserialize(ae)),ae});return y(J,L),J}function _e(T,L){var z=this,J=z.ready().then(function(){for(var pe=z._dbInfo,ae=pe.keyPrefix,Ie=ae.length,Je=localStorage.length,Qe=1,st=0;st<Je;st++){var dt=localStorage.key(st);if(dt.indexOf(ae)===0){var Dt=localStorage.getItem(dt);if(Dt&&(Dt=pe.serializer.deserialize(Dt)),Dt=T(Dt,dt.substring(Ie),Qe++),Dt!==void 0)return Dt}}});return y(J,L),J}function tt(T,L){var z=this,J=z.ready().then(function(){var pe=z._dbInfo,ae;try{ae=localStorage.key(T)}catch{ae=null}return ae&&(ae=ae.substring(pe.keyPrefix.length)),ae});return y(J,L),J}function yt(T){var L=this,z=L.ready().then(function(){for(var J=L._dbInfo,pe=localStorage.length,ae=[],Ie=0;Ie<pe;Ie++){var Je=localStorage.key(Ie);Je.indexOf(J.keyPrefix)===0&&ae.push(Je.substring(J.keyPrefix.length))}return ae});return y(z,T),z}function Wt(T){var L=this,z=L.keys().then(function(J){return J.length});return y(z,T),z}function Mt(T,L){var z=this;T=b(T);var J=z.ready().then(function(){var pe=z._dbInfo;localStorage.removeItem(pe.keyPrefix+T)});return y(J,L),J}function zt(T,L,z){var J=this;T=b(T);var pe=J.ready().then(function(){L===void 0&&(L=null);var ae=L;return new m(function(Ie,Je){var Qe=J._dbInfo;Qe.serializer.serialize(L,function(st,dt){if(dt)Je(dt);else try{localStorage.setItem(Qe.keyPrefix+T,st),Ie(ae)}catch(Dt){(Dt.name==="QuotaExceededError"||Dt.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Je(Dt),Je(Dt)}})})});return y(pe,z),pe}function Xn(T,L){if(L=S.apply(this,arguments),T=typeof T!="function"&&T||{},!T.name){var z=this.config();T.name=T.name||z.name,T.storeName=T.storeName||z.storeName}var J=this,pe;return T.name?pe=new m(function(ae){T.storeName?ae(At(T,J._defaultConfig)):ae(T.name+"/")}).then(function(ae){for(var Ie=localStorage.length-1;Ie>=0;Ie--){var Je=localStorage.key(Ie);Je.indexOf(ae)===0&&localStorage.removeItem(Je)}}):pe=m.reject("Invalid arguments"),y(pe,L),pe}var On={_driver:"localStorageWrapper",_initStorage:gt,_support:vt(),iterate:_e,getItem:G,setItem:zt,removeItem:Mt,clear:Ot,length:Wt,key:tt,keys:yt,dropInstance:Xn},bn=function(L,z){return L===z||typeof L=="number"&&typeof z=="number"&&isNaN(L)&&isNaN(z)},jn=function(L,z){for(var J=L.length,pe=0;pe<J;){if(bn(L[pe],z))return!0;pe++}return!1},gr=Array.isArray||function(T){return Object.prototype.toString.call(T)==="[object Array]"},Jn={},Y={},Ne={INDEXEDDB:Ft,WEBSQL:Xe,LOCALSTORAGE:On},_=[Ne.INDEXEDDB._driver,Ne.WEBSQL._driver,Ne.LOCALSTORAGE._driver],K=["dropInstance"],R=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(K),q={description:"",driver:_.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function re(T,L){T[L]=function(){var z=arguments;return T.ready().then(function(){return T[L].apply(T,z)})}}function Le(){for(var T=1;T<arguments.length;T++){var L=arguments[T];if(L)for(var z in L)L.hasOwnProperty(z)&&(gr(L[z])?arguments[0][z]=L[z].slice():arguments[0][z]=L[z])}return arguments[0]}var ft=function(){function T(L){a(this,T);for(var z in Ne)if(Ne.hasOwnProperty(z)){var J=Ne[z],pe=J._driver;this[z]=pe,Jn[pe]||this.defineDriver(J)}this._defaultConfig=Le({},q),this._config=Le({},this._defaultConfig,L),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return T.prototype.config=function(z){if((typeof z>"u"?"undefined":i(z))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var J in z){if(J==="storeName"&&(z[J]=z[J].replace(/\W/g,"_")),J==="version"&&typeof z[J]!="number")return new Error("Database version must be a number.");this._config[J]=z[J]}return"driver"in z&&z.driver?this.setDriver(this._config.driver):!0}else return typeof z=="string"?this._config[z]:this._config},T.prototype.defineDriver=function(z,J,pe){var ae=new m(function(Ie,Je){try{var Qe=z._driver,st=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!z._driver){Je(st);return}for(var dt=R.concat("_initStorage"),Dt=0,Zt=dt.length;Dt<Zt;Dt++){var vn=dt[Dt],wn=!jn(K,vn);if((wn||z[vn])&&typeof z[vn]!="function"){Je(st);return}}var _n=function(){for(var Wa=function(Yu){return function(){var Wu=new Error("Method "+Yu+" is not implemented by the current driver"),da=m.reject(Wu);return y(da,arguments[arguments.length-1]),da}},sl=0,e0=K.length;sl<e0;sl++){var qu=K[sl];z[qu]||(z[qu]=Wa(qu))}};_n();var Qn=function(Wa){Jn[Qe]&&console.info("Redefining LocalForage driver: "+Qe),Jn[Qe]=z,Y[Qe]=Wa,Ie()};"_support"in z?z._support&&typeof z._support=="function"?z._support().then(Qn,Je):Qn(!!z._support):Qn(!0)}catch(is){Je(is)}});return x(ae,J,pe),ae},T.prototype.driver=function(){return this._driver||null},T.prototype.getDriver=function(z,J,pe){var ae=Jn[z]?m.resolve(Jn[z]):m.reject(new Error("Driver not found."));return x(ae,J,pe),ae},T.prototype.getSerializer=function(z){var J=m.resolve(me);return x(J,z),J},T.prototype.ready=function(z){var J=this,pe=J._driverSet.then(function(){return J._ready===null&&(J._ready=J._initDriver()),J._ready});return x(pe,z,z),pe},T.prototype.setDriver=function(z,J,pe){var ae=this;gr(z)||(z=[z]);var Ie=this._getSupportedDrivers(z);function Je(){ae._config.driver=ae.driver()}function Qe(Dt){return ae._extend(Dt),Je(),ae._ready=ae._initStorage(ae._config),ae._ready}function st(Dt){return function(){var Zt=0;function vn(){for(;Zt<Dt.length;){var wn=Dt[Zt];return Zt++,ae._dbInfo=null,ae._ready=null,ae.getDriver(wn).then(Qe).catch(vn)}Je();var _n=new Error("No available storage method found.");return ae._driverSet=m.reject(_n),ae._driverSet}return vn()}}var dt=this._driverSet!==null?this._driverSet.catch(function(){return m.resolve()}):m.resolve();return this._driverSet=dt.then(function(){var Dt=Ie[0];return ae._dbInfo=null,ae._ready=null,ae.getDriver(Dt).then(function(Zt){ae._driver=Zt._driver,Je(),ae._wrapLibraryMethodsWithReady(),ae._initDriver=st(Ie)})}).catch(function(){Je();var Dt=new Error("No available storage method found.");return ae._driverSet=m.reject(Dt),ae._driverSet}),x(this._driverSet,J,pe),this._driverSet},T.prototype.supports=function(z){return!!Y[z]},T.prototype._extend=function(z){Le(this,z)},T.prototype._getSupportedDrivers=function(z){for(var J=[],pe=0,ae=z.length;pe<ae;pe++){var Ie=z[pe];this.supports(Ie)&&J.push(Ie)}return J},T.prototype._wrapLibraryMethodsWithReady=function(){for(var z=0,J=R.length;z<J;z++)re(this,R[z])},T.prototype.createInstance=function(z){return new T(z)},T}(),nn=new ft;r.exports=nn},{3:3}]},{},[4])(4)})}(jb)),jb.exports}var Tle=jle();const la=Ka(Tle),U3=Vt.memo(({sectionId:t,label:e,existingImage:n,currentImage:r,caption:s,onImageChange:i,onRemoveImage:a,onRemoveExistingImage:l,onCaptionChange:d})=>{const f=n,[p,m]=j.useState(null),y=j.useRef(null);j.useEffect(()=>{if(r&&r instanceof File){const S=URL.createObjectURL(r);return m(S),()=>{URL.revokeObjectURL(S),m(null)}}else m(null)},[r]);const x=S=>{S.target.files&&S.target.files[0]&&i(t,S.target.files[0])},b=S=>{d&&d(t,S.target.value)};return c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),p?c.jsxs("div",{className:"relative mb-4",children:[c.jsx("img",{src:p,alt:"Preview",className:"h-48 w-full object-cover rounded-lg"}),c.jsx("button",{type:"button",onClick:()=>a(t),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 transition-colors",children:c.jsx($t,{size:16})})]}):f?c.jsxs("div",{className:"relative mb-4",children:[c.jsx("img",{src:f,alt:"Current",className:"h-48 w-full object-cover rounded-lg"}),c.jsx("button",{type:"button",onClick:()=>l(t),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2",children:c.jsx($t,{size:16})})]}):c.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[c.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[c.jsx(sa,{className:"w-8 h-8 mb-3 text-gray-400"}),c.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[c.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),c.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, JPEG (MAX. 5MB)"})]}),c.jsx("input",{ref:y,type:"file",className:"hidden",onChange:x,accept:"image/*"})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image Caption"}),c.jsx("input",{type:"text",value:s||"",onChange:b,className:"w-full px-3 py-2 border rounded-md",placeholder:"Enter image caption (optional)"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add a caption for the image (optional)"})]})]})});function Ele({services:t,disciplinesData:e,loading:n,refetch:r}){const s=Hn(),i=Li(),[a,l]=j.useState([]),[d,f]=j.useState(!1),[p,m]=j.useState(!1),[y,x]=j.useState({global:"",title:"",status:"",author:"",discipline:"",order:"",created_from:"",created_to:""}),[b,S]=j.useState(1),[C]=j.useState(10),[N,k]=j.useState(null),[M,D]=j.useState(null),[E,A]=j.useState(!1),[F,H]=j.useState(!1),[Z,ve]=j.useState(!1),[ue,oe]=j.useState(null),[te,ne]=j.useState(!1),[xe,W]=j.useState(!1),[le,be]=j.useState(!1),[Fe,$]=j.useState(null),[de,ie]=j.useState({key:"order",direction:"ascending"}),he="serviceDrafts",[ke,ze]=j.useState([]),[Me,Ye]=j.useState(null),[Re,ut]=j.useState({title:"",slug:"",description:"",is_active:!0,show_on_home:!1,cover_photo:null,disciplines:[],sections:[],order:1}),[Ze,St]=j.useState({id:null,title:"",slug:"",description:"",is_active:!0,show_on_home:!1,cover_photo:null,existing_cover_photo:null,disciplines:[],sections:[],order:1}),{data:Nt,isLoading:Ft}=Cn({queryKey:["currentUser"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}),{data:nt,isLoading:ee,refetch:Ve}=Cn({queryKey:["service",Fe],queryFn:()=>Fe?Ge.get(`https://nexus-consults.com/api/public/api/admin/services/${Fe}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}).then(R=>R.data.data):Promise.resolve(null),enabled:!!Fe,staleTime:5*60*1e3}),qe="serviceDrafts_beforeunload_fallback",at=async()=>{try{const R=await la.getItem(he),q=Array.isArray(R)?R:[];ze(q);const re=localStorage.getItem(qe);if(re){try{const Le=JSON.parse(re);Le&&typeof Le=="object"&&B(Le)}catch{}localStorage.removeItem(qe)}}catch{}},bt=async R=>{try{await la.setItem(he,R)}catch(q){console.error("Persist drafts failed",q),ye.error("Could not save drafts locally")}},B=async R=>{ze(q=>{const re=q.findIndex(nn=>nn.id===R.id);let Le=[...q];const ft=new Date().toISOString();if(re>=0)Le[re]={...q[re],...R,updatedAt:ft};else{const nn=R.slug?q.findIndex(T=>T.slug===R.slug&&T.slug):-1;nn>=0?Le[nn]={...q[nn],...R,id:q[nn].id,updatedAt:ft}:Le.push({...R,updatedAt:ft})}return Le.length>20&&(Le=Le.slice().sort((nn,T)=>new Date(T.updatedAt)-new Date(nn.updatedAt)).slice(0,20)),bt(Le),Le})},se=async R=>{ze(q=>{const re=q.filter(Le=>Le.id!==R);return bt(re),re}),Me===R&&Ye(null)},I=async R=>{R&&ze(q=>{const re=q.filter(Le=>Le.slug!==R);return bt(re),re})};j.useEffect(()=>{at()},[]);const fe=()=>{if(!(Re.title&&Re.title.trim()!==""||Re.description&&Re.description.trim()!==""||Re.sections.some(Le=>Le.content&&Le.content.trim()!=="")))return null;let q=Me;if(!q&&Re.slug){const Le=ke.find(ft=>ft.slug===Re.slug);Le&&(q=Le.id)}const re=Re.sections.map(Le=>({content:Le.content||"",caption:Le.caption||"",image_meta:Le.image?{name:Le.image.name,type:Le.image.type,size:Le.image.size}:null,existing_image:Le.existing_image||null}));return{id:q||`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,title:Re.title,slug:Re.slug,description:Re.description,is_active:Re.is_active,show_on_home:Re.show_on_home||!1,disciplines:Re.disciplines||[],sections:re,order:Re.order||1,cover_photo_meta:Re.cover_photo?{name:Re.cover_photo.name,type:Re.cover_photo.type,size:Re.cover_photo.size}:null}},we=()=>{const R=fe();R&&(Ye(R.id),B(R),ye.success("Draft saved locally"))},V=R=>{const q=R.sections?.map(re=>({id:Date.now()+Math.random(),content:re.content||"",caption:re.caption||"",image:null,existing_image:re.existing_image||null}))||[];ut({title:R.title||"",slug:R.slug||"",description:R.description||"",is_active:R.is_active??!0,show_on_home:R.show_on_home||!1,disciplines:R.disciplines||[],sections:q,cover_photo:null,order:R.order||1}),W(!0),Ye(R.id),A(!0),ye("Draft loaded")},U=j.useRef(null),Ce=j.useRef("");j.useEffect(()=>{if(E){U.current=setInterval(()=>{const q=fe();if(q){const re=JSON.stringify({title:q.title,description:q.description,disciplines:q.disciplines,sections:q.sections,order:q.order});re!==Ce.current&&(Ye(Le=>Le||q.id),B(q),Ce.current=re)}},5e3);const R=()=>{const q=fe();if(q){B(q);try{localStorage.setItem(qe,JSON.stringify(q))}catch{}}};return window.addEventListener("beforeunload",R),()=>{U.current&&clearInterval(U.current),window.removeEventListener("beforeunload",R),Ce.current=""}}else U.current&&clearInterval(U.current),Ce.current=""},[E]);const et=R=>R.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),ht=(R,q)=>{x(re=>({...re,[R]:q})),S(1)},Jt=async(R,q)=>{D(R);try{await Ge.patch(`https://nexus-consults.com/api/public/api/admin/services/${R}/toggle-active`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ye.success(`Service ${q?"deactivated":"activated"} successfully`,{duration:2e3}),r()}catch(re){ye.error(re.response?.data?.message||"An unexpected error occurred",{duration:3e3}),re.response?.status==401,re.response?.status==403&&(ye.error("You are not authorized to view this page"),s("/home"))}finally{D(null)}},Pt=R=>{oe(R),ve(!0)},an=async()=>{if(ue){k(ue),ve(!1);try{await Ge.delete(`https://nexus-consults.com/api/public/api/admin/services/${ue}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ye.success("Service deleted successfully",{duration:2e3}),r()}catch(R){ye.error(R.response?.data?.message||"An unexpected error occurred",{duration:3e3}),R.response?.status==401&&(localStorage.removeItem("userToken"),s("/login")),R.response?.status==403&&(ye.error("You are not authorized to view this page"),s("/home"))}finally{k(null),oe(null)}}},Qt=R=>{const{name:q,value:re,type:Le,checked:ft,files:nn}=R.target;if(ut(Le==="file"?T=>({...T,[q]:nn[0]}):Le==="number"?T=>({...T,[q]:parseInt(re)||1}):T=>({...T,[q]:Le==="checkbox"?ft:re})),q==="title"&&!xe){const T=et(re);ut(L=>({...L,slug:T}))}},Te=R=>{const{value:q}=R.target;ut(re=>({...re,slug:q})),W(!0)},ot=()=>{const R=et(Re.title);ut(q=>({...q,slug:R})),W(!1)},pt=R=>{const{name:q,value:re,type:Le,checked:ft,files:nn}=R.target;if(St(Le==="file"?T=>({...T,[q]:nn[0]}):Le==="number"?T=>({...T,[q]:parseInt(re)||1}):T=>({...T,[q]:Le==="checkbox"?ft:re})),q==="title"&&!le){const T=et(re);St(L=>({...L,slug:T}))}},me=R=>{const{value:q}=R.target;St(re=>({...re,slug:q})),be(!0)},mt=()=>{const R=et(Ze.title);St(q=>({...q,slug:R})),be(!1)},Lt=(R,q)=>{ut(re=>({...re,disciplines:q?[...re.disciplines,R]:re.disciplines.filter(Le=>Le!==R)}))},rt=(R,q)=>{St(re=>({...re,disciplines:q?[...re.disciplines,R]:re.disciplines.filter(Le=>Le!==R)}))},Ae=()=>{const R={id:Date.now()+Math.random(),content:"",caption:"",image:null,existing_image:null};ut(q=>({...q,sections:[...q.sections,R]}))},lt=R=>{ut(q=>({...q,sections:q.sections.filter(re=>re.id!==R)}))},jt=(R,q)=>{ut(re=>({...re,sections:re.sections.map(Le=>Le.id===R?{...Le,content:q}:Le)}))},Et=(R,q)=>{ut(re=>({...re,sections:re.sections.map(Le=>Le.id===R?{...Le,caption:q}:Le)}))},kt=(R,q)=>{ut(re=>({...re,sections:re.sections.map(Le=>Le.id===R?{...Le,image:q}:Le)}))},tn=R=>{ut(q=>({...q,sections:q.sections.map(re=>re.id===R?{...re,image:null}:re)}))},Nn=R=>{ut(q=>({...q,sections:q.sections.map(re=>re.id===R?{...re,existing_image:null,image:null}:re)}))},Q=()=>{const R={id:Date.now()+Math.random(),content:"",caption:"",image:null,existing_image:null};St(q=>({...q,sections:[...q.sections,R]}))};j.useEffect(()=>{console.log(Ze)},[Ze]);const ge=R=>{St(q=>({...q,sections:q.sections.filter(re=>re.id!==R)}))},Ee=(R,q)=>{St(re=>({...re,sections:re.sections.map(Le=>Le.id===R?{...Le,content:q}:Le)}))},$e=(R,q)=>{St(re=>({...re,sections:re.sections.map(Le=>Le.id===R?{...Le,caption:q}:Le)}))},Xe=(R,q)=>{St(re=>({...re,sections:re.sections.map(Le=>Le.id===R?{...Le,image:q}:Le)}))},vt=R=>{St(q=>({...q,sections:q.sections.map(re=>re.id===R?{...re,image:null}:re)}))},At=R=>{St(q=>({...q,sections:q.sections.map(re=>re.id===R?{...re,existing_image:null,image:null}:re)}))},ct=()=>{ut({title:"",slug:"",description:"",is_active:!0,show_on_home:!1,cover_photo:null,disciplines:[],sections:[],order:1}),W(!1)},Ct=R=>{$(R.id)};j.useEffect(()=>{if(nt&&Fe){const q=(nt.sections||[]).map((re,Le)=>({id:Date.now()+Le,content:re.content||"",caption:re.caption||"",image:null,existing_image:re.image||null}));St({id:nt.id,title:nt.title,slug:nt.slug,description:nt.description,is_active:nt.is_active,show_on_home:nt.show_on_home||!1,cover_photo:null,existing_cover_photo:nt.cover_photo,disciplines:nt.disciplines?.map(re=>re.slug)||[],sections:q,order:nt.order||1}),be(!0),H(!0)}},[nt,Fe]);const gt=async R=>{if(R.preventDefault(),!Re.sections.some(re=>re.content&&re.content.trim()!=="")){ye.error("Please add at least one section with content");return}ne(!0);try{const re=new FormData;re.append("title",Re.title),re.append("slug",Re.slug),re.append("is_active",Re.is_active?1:0),re.append("show_on_home",Re.show_on_home?1:0),re.append("description",Re.description),re.append("order",Re.order),Re.disciplines.forEach(Le=>{re.append("disciplines[]",Le)}),Re.sections.forEach((Le,ft)=>{re.append(`content${ft+1}`,Le.content||""),re.append(`caption${ft+1}`,Le.caption||""),Le.image instanceof File&&re.append(`image${ft+1}`,Le.image)}),re.append("cover_photo",Re.cover_photo||""),await Ge.post("https://nexus-consults.com/api/public/api/admin/services",re,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}}),ne(!1),ye.success("Service added successfully",{duration:2e3}),A(!1),ct(),r(),I(Re.slug),Ye(null)}catch(re){ne(!1),ye.error(re.response?.data?.message||"An unexpected error occurred",{duration:3e3}),re.response?.status==401&&(localStorage.removeItem("userToken"),s("/login")),re.response?.status==403&&(ye.error("You are not authorized to view this page"),s("/home"))}},Ot=async R=>{if(R.preventDefault(),!Ze.sections.some(re=>re.content&&re.content.trim()!=="")){ye.error("Please add at least one section with content");return}ne(!0);try{const re=new FormData;re.append("title",Ze.title),re.append("slug",Ze.slug),re.append("is_active",Ze.is_active?1:0),re.append("show_on_home",Ze.show_on_home?1:0),re.append("description",Ze.description),re.append("order",Ze.order),re.append("_method","POST"),Ze.disciplines.forEach(Le=>{re.append("disciplines[]",Le)}),Ze.sections.forEach((Le,ft)=>{re.append(`content${ft+1}`,Le.content||""),re.append(`caption${ft+1}`,Le.caption||""),Le.image instanceof File?re.append(`image${ft+1}`,Le.image):Le.existing_image===null&&re.append(`image${ft+1}`,"")}),Ze.cover_photo instanceof File?re.append("cover_photo",Ze.cover_photo):Ze.existing_cover_photo===null&&re.append("cover_photo",""),await Ge.post(`https://nexus-consults.com/api/public/api/admin/services/${Ze.id}`,re,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}}),ne(!1),ye.success("Service updated successfully",{duration:2e3}),H(!1),$(null),r(),i.invalidateQueries(["service",Ze.id])}catch(re){ne(!1),ye.error(re.response?.data?.message||"An unexpected error occurred",{duration:3e3}),re.response?.status==401&&(localStorage.removeItem("userToken"),s("/login")),re.response?.status==403&&(ye.error("You are not authorized to view this page"),s("/home"))}},_e=[...t?.filter(R=>{const q=y.global===""||R.title.toLowerCase().includes(y.global.toLowerCase())||(R.author?.name?R.author.name.toLowerCase().includes(y.global.toLowerCase()):!1),re=y.title===""||R.title.toLowerCase().includes(y.title.toLowerCase()),Le=y.status===""||(y.status==="active"?R.is_active:!R.is_active),ft=y.author===""||(R.author?.name?R.author.name.toLowerCase().includes(y.author.toLowerCase()):!1),nn=y.discipline===""||R.disciplines&&R.disciplines.some(z=>z.slug.toString()===y.discipline),T=y.order===""||R.order!==void 0&&R.order!==null&&R.order.toString()===y.order;let L=!0;if(R.created_at){const z=new Date(R.created_at);if(y.created_from){const J=new Date(`${y.created_from}T00:00:00`);z<J&&(L=!1)}if(L&&y.created_to){const J=new Date(`${y.created_to}T23:59:59.999`);z>J&&(L=!1)}}return q&&re&&Le&&ft&&nn&&T&&L})||[]].sort((R,q)=>{if(de.key==="order"){const re=R.order||9999,Le=q.order||9999;return de.direction==="ascending"?re-Le:Le-re}else if(de.key==="title")return de.direction==="ascending"?(R.title||"").localeCompare(q.title||""):(q.title||"").localeCompare(R.title||"");return 0}),tt=Math.ceil(_e.length/C),yt=_e.slice((b-1)*C,b*C),Wt=R=>{const q=R?"bg-[#009379] text-white":"bg-[#930002] text-white";return c.jsx("span",{className:`flex justify-center w-fit items-center px-2.5 py-1 rounded-md text-xs font-medium ${q} min-w-16 text-center`,children:R?"Active":"Inactive"})},Mt=R=>{const q=R||0;return c.jsxs("span",{className:"inline-flex items-center justify-center px-2.5 py-1 rounded-md bg-blue-100 text-blue-800 text-xs font-medium min-w-12",children:[c.jsx(w1,{className:"mr-1",size:10}),q]})},zt=()=>tt<=1?null:c.jsxs("div",{className:"flex justify-between items-center mt-4 px-4 pb-1",children:[c.jsxs("div",{className:"text-xs",children:["Showing ",(b-1)*C+1,"-",Math.min(b*C,_e.length)," of ",_e.length," entries"]}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx("button",{onClick:()=>S(1),disabled:b===1,className:"p-1 disabled:opacity-50",children:c.jsx(Qo,{className:"h-4 w-4"})}),c.jsxs("span",{className:"px-3 py-1",children:["Page ",b," of ",tt]}),c.jsx("button",{onClick:()=>S(R=>Math.min(tt,R+1)),disabled:b===tt,className:"p-1 disabled:opacity-50",children:c.jsx(Zo,{className:"h-4 w-4"})})]})]}),Xn=(R,q)=>{l(q?re=>[...re,R]:re=>re.filter(Le=>Le!==R))},On=R=>{R?(l(_e.map(q=>q.id)),f(!0)):(l([]),f(!1))},[bn,jn]=j.useState(!1),gr=async()=>{a.length&&jn(!0)},Jn=async()=>{jn(!1);try{m(!0),await Ge.post("https://nexus-consults.com/api/public/api/admin/services/bulk/delete",{ids:a},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ye.success(`${a.length} service(s) deleted successfully`),l([]),f(!1),r()}catch(R){console.error("Error deleting services:",R),ye.error(R.response?.data?.message||"Failed to delete services")}finally{m(!1)}},Y=async R=>{if(a.length)try{m(!0),await Ge.post("https://nexus-consults.com/api/public/api/admin/services/bulk/update-status",{ids:a,status:R},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ye.success(`Status updated for ${a.length} service(s)`),l([]),f(!1),r()}catch(q){console.error("Error updating service status:",q),ye.error(q.response?.data?.message||"Failed to update service status")}finally{m(!1)}},Ne=Vt.memo(({name:R,label:q,existingImage:re,currentImage:Le,onImageChange:ft,onRemoveImage:nn})=>{const T=re,[L,z]=j.useState(null);return j.useEffect(()=>{if(Le&&Le instanceof File){const J=URL.createObjectURL(Le);return z(J),()=>{URL.revokeObjectURL(J),z(null)}}else z(null)},[Le]),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:q}),L?c.jsxs("div",{className:"relative mb-4",children:[c.jsx("img",{src:L,alt:"Preview",className:"h-48 w-full object-cover rounded-lg"}),c.jsx("button",{type:"button",onClick:()=>nn(R),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 transition-colors",children:c.jsx($t,{size:16})})]}):T?c.jsxs("div",{className:"relative mb-4",children:[c.jsx("img",{src:T,alt:"Current",className:"h-48 w-full object-cover rounded-lg"}),c.jsx("button",{type:"button",onClick:()=>nn(`existing_${R}`),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2",children:c.jsx($t,{size:16})})]}):c.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[c.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[c.jsx(sa,{className:"w-8 h-8 mb-3 text-gray-400"}),c.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[c.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),c.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, JPEG (MAX. 5MB)"})]}),c.jsx("input",{id:R,name:R,type:"file",className:"hidden",onChange:ft,accept:"image/*"})]})]})},(R,q)=>R.name===q.name&&R.label===q.label&&R.existingImage===q.existingImage&&R.currentImage===q.currentImage),_=()=>Re.sections.map((R,q)=>c.jsxs("div",{className:"p-4 border rounded-lg mb-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h3",{className:"text-lg font-medium",children:["Section ",q+1]}),c.jsx("button",{type:"button",onClick:()=>lt(R.id),className:"text-red-500 hover:text-red-700 p-1",disabled:Re.sections.length===1,children:c.jsx(rc,{size:16})})]}),c.jsxs("div",{className:"mb-4",children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Content ",q+1,"*"]}),c.jsx(ui,{content:R.content,onUpdate:re=>jt(R.id,re)})]}),c.jsx(U3,{sectionId:R.id,label:`Image ${q+1}`,existingImage:R.existing_image,currentImage:R.image,caption:R.caption,onImageChange:kt,onRemoveImage:tn,onRemoveExistingImage:Nn,onCaptionChange:Et})]},R.id)),K=()=>Ze.sections.map((R,q)=>c.jsxs("div",{className:"p-4 border rounded-lg mb-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h3",{className:"text-lg font-medium",children:["Section ",q+1]}),c.jsx("button",{type:"button",onClick:()=>ge(R.id),className:"text-red-500 hover:text-red-700 p-1",disabled:Ze.sections.length===1,children:c.jsx(rc,{size:16})})]}),c.jsxs("div",{className:"mb-4",children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Content ",q+1,"*"]}),c.jsx(ui,{content:R.content,onUpdate:re=>Ee(R.id,re)})]}),c.jsx(U3,{sectionId:R.id,label:`Image ${q+1}`,existingImage:R.existing_image,currentImage:R.image,caption:R.caption,onImageChange:Xe,onRemoveImage:vt,onRemoveExistingImage:At,onCaptionChange:$e})]},R.id));return c.jsxs("div",{className:"shadow-2xl rounded-2xl overflow-hidden bg-white",children:[c.jsxs("div",{className:"p-4 border-b flex justify-between items-center gap-4",children:[c.jsx("input",{type:"text",value:y.global,onChange:R=>ht("global",R.target.value),placeholder:"Search services...",className:"px-3 py-2 rounded-xl shadow-sm focus:outline-2 focus:outline-primary w-full border border-primary transition-all"}),Nt?.data?.data?.admin?.permissions?.includes("create_services")&&c.jsxs("button",{onClick:()=>{A(!0),ct()},className:"bg-primary hover:bg-darkBlue transition-all text-white px-3 py-2 rounded-xl shadow-sm min-w-max flex items-center gap-2",children:[c.jsx(Ar,{size:18}),c.jsx("span",{children:"Add Service"})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:d&&_e.length>0,onChange:R=>On(R.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),c.jsx("span",{className:"ml-2",children:"Title"})]})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsx("input",{type:"text",value:y.author,onChange:R=>ht("author",R.target.value),placeholder:"Author",className:"text-xs p-1 border rounded w-full"})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cover Photo"}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsxs("select",{value:y.discipline,onChange:R=>ht("discipline",R.target.value),className:"text-xs p-1 border rounded w-full",children:[c.jsx("option",{value:"",children:"All Disciplines"}),e?.map(R=>c.jsxs("option",{value:R.slug,children:[R.title,!R.is_active&&" (inactive)"]},R.slug))]})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsx("input",{type:"number",value:y.order,onChange:R=>ht("order",R.target.value),placeholder:"Order",className:"text-xs p-1 border rounded w-full",min:"1"})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsxs("select",{value:y.status,onChange:R=>ht("status",R.target.value),className:"text-xs p-1 border rounded w-full",children:[c.jsx("option",{value:"",children:"All Statuses"}),c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"inactive",children:"Inactive"})]})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsx(Ph,{initialRange:{startDate:y.created_from?new Date(`${y.created_from}T00:00:00`):null,endDate:y.created_to?new Date(`${y.created_to}T00:00:00`):null},onDateChange:({startDate:R,endDate:q})=>{const re=Le=>{if(!(Le instanceof Date)||isNaN(Le))return"";const ft=Le.getFullYear(),nn=String(Le.getMonth()+1).padStart(2,"0"),T=String(Le.getDate()).padStart(2,"0");return`${ft}-${nn}-${T}`};ht("created_from",R?re(R):""),ht("created_to",q?re(q):"")}})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:n?c.jsx("tr",{children:c.jsx("td",{colSpan:"8",className:"px-3 py-4 text-center",children:c.jsxs("div",{className:"flex justify-center items-center gap-2",children:[c.jsx(wt,{className:"animate-spin",size:18}),"Loading services..."]})})}):yt.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"8",className:"px-3 py-4 text-center",children:"No services found"})}):yt.map(R=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:a.includes(R.id),onChange:q=>Xn(R.id,q.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),c.jsx("span",{className:"ml-2 text-sm font-medium text-gray-900",children:R.title})]})}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:R.author?.name||"-"}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:R.cover_photo&&c.jsx("img",{src:R.cover_photo,alt:"Cover",className:"h-10 w-10 object-cover rounded"})}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:c.jsx("div",{className:"flex flex-wrap gap-1",children:R.disciplines&&R.disciplines.length>0?R.disciplines.map(q=>c.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium",children:q.title},q.slug)):c.jsx("span",{className:"text-gray-500 text-xs",children:"No disciplines"})})}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Mt(R.order)}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Wt(R.is_active)}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:R.created_at?new Date(R.created_at).toLocaleDateString():"-"}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center gap-2",children:[Nt?.data?.data?.admin?.permissions?.includes("edit_services")&&c.jsx("button",{className:"text-blue-500 hover:text-blue-700 p-1",onClick:()=>Ct(R),disabled:ee,children:ee&&Fe===R.id?c.jsx(wt,{className:"animate-spin",size:18}):c.jsx(ki,{size:18})}),c.jsx("button",{className:`${R.is_active?"text-green-500 hover:text-green-700":"text-red-500 hover:text-red-700"} p-1`,onClick:()=>Jt(R.id,R.is_active),disabled:M===R.id,children:M===R.id?c.jsx(wt,{className:"animate-spin",size:18}):R.is_active?c.jsx(Pr,{}):c.jsx($t,{})}),Nt?.data?.data?.admin?.permissions?.includes("delete_services")&&c.jsx("button",{className:"text-red-500 hover:text-red-700 p-1",onClick:()=>Pt(R.id),disabled:N===R.id,title:"Delete",children:N===R.id?c.jsx(wt,{className:"animate-spin",size:18}):c.jsx(Vn,{size:18})})]})})]},R.id))})]})}),bn&&c.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:"bg-white rounded-lg p-6 max-w-md w-full",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Deletion"}),c.jsx("button",{onClick:()=>jn(!1),className:"text-gray-500 hover:text-gray-700",children:c.jsx($t,{})})]}),c.jsxs("p",{className:"text-gray-700 mb-6",children:["Are you sure you want to delete ",a.length," selected service(s)? This action cannot be undone."]}),c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx("button",{onClick:()=>jn(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:p,children:"Cancel"}),c.jsx("button",{onClick:Jn,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 flex items-center",disabled:p,children:p?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"animate-spin mr-2"}),"Deleting..."]}):"Delete"})]})]})}),a.length>0&&c.jsx("div",{className:"bg-blue-50 p-4 rounded-md mb-6 border border-blue-200",children:c.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[c.jsxs("div",{className:"text-blue-800 font-medium",children:[a.length," service(s) selected"]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsxs("button",{onClick:()=>Y(!0),disabled:p,className:"flex items-center px-3 py-1.5 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 text-sm",children:[c.jsx(Pr,{className:"mr-1.5"}),"Activate"]}),c.jsxs("button",{onClick:()=>Y(!1),disabled:p,className:"flex items-center px-3 py-1.5 bg-yellow-600 text-white rounded hover:bg-yellow-700 disabled:opacity-50 text-sm",children:[c.jsx($t,{className:"mr-1.5"}),"Deactivate"]}),c.jsxs("button",{onClick:gr,disabled:p,className:"flex items-center px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 text-sm",children:[c.jsx(Vn,{className:"mr-1.5"}),"Delete"]}),c.jsxs("button",{onClick:()=>{l([]),f(!1)},className:"flex items-center px-3 py-1.5 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 text-sm",children:[c.jsx($t,{className:"mr-1.5"}),"Clear Selection"]}),p&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(wt,{className:"animate-spin mr-1.5"}),"Loading..."]})]})]})}),!n&&zt(),c.jsxs("div",{className:"p-4 border-t",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Drafts"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Drafts are stored locally in your browser"})]}),ke.length===0?c.jsx("div",{className:"text-sm text-gray-500",children:"No drafts yet"}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full divide-y divide-gray-200 text-sm",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-2 text-left",children:"Title"}),c.jsx("th",{className:"px-4 py-2 text-left",children:"Order"}),c.jsx("th",{className:"px-4 py-2 text-left",children:"Updated"}),c.jsx("th",{className:"px-4 py-2 text-left",children:"Note"}),c.jsx("th",{className:"px-4 py-2 text-left",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:ke.slice().sort((R,q)=>new Date(q.updatedAt)-new Date(R.updatedAt)).map(R=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-2",children:R.title||c.jsx("span",{className:"italic text-gray-400",children:"Untitled"})}),c.jsx("td",{className:"px-4 py-2",children:R.order||1}),c.jsx("td",{className:"px-4 py-2",children:new Date(R.updatedAt).toLocaleString()}),c.jsx("td",{className:"px-4 py-2 text-xs text-gray-500",children:R.cover_photo_meta?`Attachment: ${R.cover_photo_meta.name} (re-attach required)`:"No attachment"}),c.jsx("td",{className:"px-4 py-2",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-1",onClick:()=>V(R),children:[c.jsx(kh,{})," Resume"]}),c.jsx("button",{className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",onClick:()=>se(R.id),children:"Delete"})]})})]},R.id))})]})})]}),E&&c.jsxs(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 ",children:[c.jsx("button",{onClick:()=>{A(!1);const R=fe();R&&B(R)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:c.jsx(ns,{className:"",size:40})}),c.jsx(Tt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-4/5 h-[90vh] overflow-y-auto",onClick:R=>R.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New Service"}),c.jsxs("form",{onSubmit:gt,children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title*"}),c.jsx("input",{type:"text",name:"title",value:Re.title,onChange:Qt,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order*"}),c.jsx("input",{type:"number",name:"order",value:Re.order,onChange:Qt,className:"w-full px-3 py-2 border rounded-md",min:"1",required:!0}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lower numbers appear first. Default is 1."})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug*"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",name:"slug",value:Re.slug,onChange:Te,className:"w-full px-3 py-2 border rounded-md",required:!0}),xe&&c.jsx("button",{type:"button",onClick:ot,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",title:"Reset to auto-generated slug",children:c.jsx($t,{})})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:xe?"Slug is manually edited. Click the X to reset to auto-generated.":"Slug is auto-generated from title. You can edit it manually."})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),c.jsx("textarea",{name:"description",value:Re.description,onChange:Qt,rows:3,className:"w-full px-3 py-2 border rounded-md resize-vertical",placeholder:"Enter service description..."})]}),c.jsx(Ne,{name:"cover_photo",label:"Cover Photo",currentImage:Re.cover_photo,onImageChange:Qt,onRemoveImage:R=>ut(q=>({...q,[R]:null}))}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:Re.is_active,onChange:Qt,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),c.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700",children:"Active"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"show_on_home",name:"show_on_home",checked:Re.show_on_home,onChange:Qt,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),c.jsx("label",{htmlFor:"show_on_home",className:"ml-2 text-sm text-gray-700",children:"Show on Home Screen"})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Disciplines"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 max-h-48 overflow-y-auto p-2 border rounded-md",children:[e?.map(R=>c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:`discipline-${R.slug}`,checked:Re.disciplines.includes(R.slug),onChange:q=>Lt(R.slug,q.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),c.jsxs("label",{htmlFor:`discipline-${R.slug}`,className:"ml-2 text-sm text-gray-700",children:[R.title,!R.is_active&&c.jsx("span",{className:"ml-1 text-xs text-orange-600",children:"(inactive)"})]})]},R.slug)),(!e||e.length===0)&&c.jsx("div",{className:"text-sm text-gray-500 col-span-full",children:"No disciplines available"})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("div",{className:"space-y-4",children:Re.sections.length===0?c.jsxs("div",{className:"text-center p-8 border-2 border-dashed rounded-lg",children:[c.jsx("p",{className:"text-gray-500 mb-4",children:'No sections added yet. Click "Add Section" to get started.'}),c.jsx("p",{className:"text-sm text-gray-400",children:"Note: At least one section with content is required."})]}):_()}),c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-medium",children:"Sections"}),c.jsxs("button",{type:"button",onClick:Ae,className:"bg-primary hover:bg-darkBlue text-white px-3 py-2 rounded-md flex items-center gap-2",children:[c.jsx(Ar,{})," Add Section"]})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[c.jsxs("div",{className:"text-xs text-gray-500 mt-2 flex items-center",children:[c.jsx(wt,{className:`animate-spin mr-1 ${te?"opacity-100":"opacity-0"}`,size:12}),"Auto-saves to drafts every 5s"]}),c.jsxs("button",{type:"button",onClick:we,className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[c.jsx($u,{size:16})," Save as Draft"]}),c.jsx("button",{type:"button",onClick:()=>{const R=fe();R&&B(R),A(!1),ct()},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:te,children:te?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"animate-spin",size:18}),c.jsx("span",{children:"Adding..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Ar,{size:18}),c.jsx("span",{children:"Add Service"})]})})]})]})]})})]}),F&&c.jsxs(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[c.jsx("button",{onClick:()=>{H(!1),$(null)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:c.jsx(ns,{className:"",size:40})}),c.jsx(Tt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-4/5 h-[90vh] overflow-y-auto",onClick:R=>R.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("button",{type:"button",onClick:()=>{H(!1),$(null)},className:"text-blue-600 hover:text-blue-800 font-medium",children:"Services"}),c.jsx("span",{className:"mx-2 text-gray-400",children:">"}),c.jsx("span",{className:"text-xl font-bold text-gray-900",children:Ze.title||"Untitled Service"}),ee&&c.jsxs("div",{className:"ml-4 flex items-center text-sm text-gray-500",children:[c.jsx(wt,{className:"animate-spin mr-2",size:14}),"Loading service data..."]})]}),ee?c.jsxs("div",{className:"flex justify-center items-center py-8",children:[c.jsx(wt,{className:"animate-spin mr-2",size:24}),c.jsx("span",{children:"Loading service data..."})]}):c.jsxs("form",{onSubmit:Ot,children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title*"}),c.jsx("input",{type:"text",name:"title",value:Ze.title,onChange:pt,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order*"}),c.jsx("input",{type:"number",name:"order",value:Ze.order,onChange:pt,className:"w-full px-3 py-2 border rounded-md",min:"1",required:!0}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lower numbers appear first. Default is 1."})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug*"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",name:"slug",value:Ze.slug,onChange:me,className:"w-full px-3 py-2 border rounded-md",required:!0}),le&&c.jsx("button",{type:"button",onClick:mt,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",title:"Reset to auto-generated slug",children:c.jsx($t,{})})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:le?"Slug is manually edited. Click the X to reset to auto-generated.":"Slug is auto-generated from title. You can edit it manually."})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),c.jsx("textarea",{name:"description",value:Ze.description,onChange:pt,rows:3,className:"w-full px-3 py-2 border rounded-md resize-vertical",placeholder:"Enter service description..."})]}),c.jsx(Ne,{name:"cover_photo",label:"Cover Photo",existingImage:Ze.existing_cover_photo,currentImage:Ze.cover_photo,onImageChange:pt,onRemoveImage:R=>{if(R.startsWith("existing_")){const q=R.replace("existing_","");St(re=>({...re,[R]:null,[q]:null}))}else St(q=>({...q,[R]:null}))}}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"edit_is_active",name:"is_active",checked:Ze.is_active,onChange:pt,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),c.jsx("label",{htmlFor:"edit_is_active",className:"ml-2 text-sm text-gray-700",children:"Active"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"edit_show_on_home",name:"show_on_home",checked:Ze.show_on_home,onChange:pt,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),c.jsx("label",{htmlFor:"edit_show_on_home",className:"ml-2 text-sm text-gray-700",children:"Show on Home Screen"})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Disciplines"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 max-h-48 overflow-y-auto p-2 border rounded-md",children:[e?.map(R=>c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:`edit-discipline-${R.slug}`,checked:Ze.disciplines.includes(R.slug),onChange:q=>rt(R.slug,q.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),c.jsxs("label",{htmlFor:`edit-discipline-${R.slug}`,className:"ml-2 text-sm text-gray-700",children:[R.title,!R.is_active&&c.jsx("span",{className:"ml-1 text-xs text-orange-600",children:"(inactive)"})]})]},R.slug)),(!e||e.length===0)&&c.jsx("div",{className:"text-sm text-gray-500 col-span-full",children:"No disciplines available"})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("div",{className:"flex justify-between items-center mb-4",children:c.jsx("h3",{className:"text-lg font-medium",children:"Sections"})}),c.jsx("div",{className:"space-y-4",children:Ze.sections.length===0?c.jsxs("div",{className:"text-center p-8 border-2 border-dashed rounded-lg",children:[c.jsx("p",{className:"text-gray-500 mb-4",children:'No sections added yet. Click "Add Section" to get started.'}),c.jsx("p",{className:"text-sm text-gray-400",children:"Note: At least one section with content is required."})]}):K()}),c.jsx("div",{className:"flex justify-end items-center mb-4",children:c.jsxs("button",{type:"button",onClick:Q,className:"bg-primary hover:bg-darkBlue text-white px-3 py-2 rounded-md flex items-center gap-2",children:[c.jsx(Ar,{})," Add Section"]})})]}),c.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[c.jsx("button",{type:"button",onClick:()=>{H(!1),$(null)},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:te,children:te?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"animate-spin",size:18}),c.jsx("span",{children:"Updating..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Pr,{size:18}),c.jsx("span",{children:"Update Service"})]})})]})]})]})})]}),Z&&c.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>ve(!1),children:c.jsx(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:R=>R.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:c.jsx(Vn,{className:"h-5 w-5 text-red-600"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Service"}),c.jsx("div",{className:"mt-2",children:c.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this service? This action cannot be undone."})})]})]}),c.jsxs("div",{className:"mt-5 flex justify-end gap-3",children:[c.jsx("button",{type:"button",onClick:()=>ve(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{type:"button",onClick:an,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})})})]})}function Ale(){const t=Hn(),{data:e,isLoading:n,isError:r,error:s,refetch:i}=Cn({queryKey:["disciplines"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/disciplines",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})});function a(){return Ge.get("https://nexus-consults.com/api/public/api/admin/services",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}const{data:l,isLoading:d,refetch:f,isError:p,error:m}=Cn({queryKey:["services"],queryFn:a});return j.useEffect(()=>{p&&(m.response?.status==401&&(localStorage.removeItem("userToken"),t("/login")),m.response?.status==403&&(ye.error("You are not authorized to view this page"),t("/home")))},[p]),c.jsxs("div",{className:"p-4",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Services"}),c.jsx(Ele,{services:l?.data?.data||[],disciplinesData:e?.data?.data||[],loading:d,refetch:f})]})}function kle(){const t=Hn();return j.useEffect(()=>{t("/user-setting")},[]),c.jsx("div",{children:"Home"})}const V3=Vt.memo(({sectionId:t,label:e,existingImage:n,currentImage:r,caption:s,onImageChange:i,onRemoveImage:a,onRemoveExistingImage:l,onCaptionChange:d})=>{const f=n,[p,m]=j.useState(null),y=j.useRef(null);j.useEffect(()=>{if(r&&r instanceof File){const S=URL.createObjectURL(r);return m(S),()=>{URL.revokeObjectURL(S),m(null)}}else m(null)},[r]);const x=S=>{S.target.files&&S.target.files[0]&&i(t,S.target.files[0])},b=S=>{d&&d(t,S.target.value)};return c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),p?c.jsxs("div",{className:"relative mb-4",children:[c.jsx("img",{src:p,alt:"Preview",className:"h-48 w-full object-cover rounded-lg"}),c.jsx("button",{type:"button",onClick:()=>a(t),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 transition-colors",children:c.jsx($t,{size:16})})]}):f?c.jsxs("div",{className:"relative mb-4",children:[c.jsx("img",{src:f,alt:"Current",className:"h-48 w-full object-cover rounded-lg"}),c.jsx("button",{type:"button",onClick:()=>l(t),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2",children:c.jsx($t,{size:16})})]}):c.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[c.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[c.jsx(sa,{className:"w-8 h-8 mb-3 text-gray-400"}),c.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[c.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),c.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, JPEG (MAX. 5MB)"})]}),c.jsx("input",{ref:y,type:"file",className:"hidden",onChange:x,accept:"image/*"})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image Caption"}),c.jsx("input",{type:"text",value:s||"",onChange:b,className:"w-full px-3 py-2 border rounded-md",placeholder:"Enter image caption (optional)"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add a caption for the image (optional)"})]})]})});function Ole({projects:t,disciplinesData:e,loading:n,refetch:r}){const s=Hn(),i=Li(),[a,l]=j.useState([]),[d,f]=j.useState(!1),[p,m]=j.useState(!1),[y,x]=j.useState({global:"",title:"",status:"",author:"",discipline:"",created_from:"",created_to:""}),[b,S]=j.useState(1),[C]=j.useState(10),[N,k]=j.useState(null),[M,D]=j.useState(null),[E,A]=j.useState(!1),[F,H]=j.useState(!1),[Z,ve]=j.useState(!1),[ue,oe]=j.useState(null),[te,ne]=j.useState(!1),[xe,W]=j.useState(!1),[le,be]=j.useState(!1),[Fe,$]=j.useState(null),de="projectDrafts",[ie,he]=j.useState([]),[ke,ze]=j.useState(null),[Me,Ye]=j.useState({title:"",slug:"",description:"",is_active:!0,show_on_home:!1,cover_photo:null,disciplines:[],sections:[]}),[Re,ut]=j.useState({id:null,title:"",slug:"",description:"",is_active:!0,show_on_home:!1,cover_photo:null,existing_cover_photo:null,disciplines:[],sections:[]}),{data:Ze,isLoading:St}=Cn({queryKey:["currentUser"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}),{data:Nt,isLoading:Ft,refetch:nt}=Cn({queryKey:["project",Fe],queryFn:()=>Fe?Ge.get(`https://nexus-consults.com/api/public/api/admin/projects/${Fe}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}).then(Y=>Y.data.data):Promise.resolve(null),enabled:!!Fe,staleTime:5*60*1e3}),ee="projectDrafts_beforeunload_fallback",Ve=async()=>{try{const Y=await la.getItem(de),Ne=Array.isArray(Y)?Y:[];he(Ne);const _=localStorage.getItem(ee);if(_){try{const K=JSON.parse(_);K&&typeof K=="object"&&at(K)}catch{}localStorage.removeItem(ee)}}catch{}},qe=async Y=>{try{await la.setItem(de,Y)}catch(Ne){console.error("Persist drafts failed",Ne),ye.error("Could not save drafts locally")}},at=async Y=>{he(Ne=>{const _=Ne.findIndex(q=>q.id===Y.id);let K=[...Ne];const R=new Date().toISOString();if(_>=0)K[_]={...Ne[_],...Y,updatedAt:R};else{const q=Y.slug?Ne.findIndex(re=>re.slug===Y.slug&&re.slug):-1;q>=0?K[q]={...Ne[q],...Y,id:Ne[q].id,updatedAt:R}:K.push({...Y,updatedAt:R})}return K.length>20&&(K=K.slice().sort((q,re)=>new Date(re.updatedAt)-new Date(q.updatedAt)).slice(0,20)),qe(K),K})},bt=async Y=>{he(Ne=>{const _=Ne.filter(K=>K.id!==Y);return qe(_),_}),ke===Y&&ze(null)},B=async Y=>{Y&&he(Ne=>{const _=Ne.filter(K=>K.slug!==Y);return qe(_),_})};j.useEffect(()=>{Ve()},[]);const se=()=>{if(!(Me.title&&Me.title.trim()!==""||Me.description&&Me.description.trim()!==""||Me.sections.some(K=>K.content&&K.content.trim()!=="")))return null;let Ne=ke;if(!Ne&&Me.slug){const K=ie.find(R=>R.slug===Me.slug);K&&(Ne=K.id)}const _=Me.sections.map(K=>({content:K.content||"",caption:K.caption||"",image_meta:K.image?{name:K.image.name,type:K.image.type,size:K.image.size}:null,existing_image:K.existing_image||null}));return{id:Ne||`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,title:Me.title,slug:Me.slug,description:Me.description,is_active:Me.is_active,show_on_home:Me.show_on_home||!1,disciplines:Me.disciplines||[],sections:_,cover_photo_meta:Me.cover_photo?{name:Me.cover_photo.name,type:Me.cover_photo.type,size:Me.cover_photo.size}:null}},I=()=>{const Y=se();Y&&(ze(Y.id),at(Y),ye.success("Draft saved locally"))},fe=Y=>{const Ne=Y.sections?.map(_=>({id:Date.now()+Math.random(),content:_.content||"",caption:_.caption||"",image:null,existing_image:_.existing_image||null}))||[];Ye({title:Y.title||"",slug:Y.slug||"",description:Y.description||"",is_active:Y.is_active??!0,show_on_home:Y.show_on_home||!1,disciplines:Y.disciplines||[],sections:Ne,cover_photo:null}),W(!0),ze(Y.id),A(!0),ye("Draft loaded")},we=j.useRef(null),V=j.useRef("");j.useEffect(()=>{if(E){we.current=setInterval(()=>{const Ne=se();if(Ne){const _=JSON.stringify({title:Ne.title,description:Ne.description,disciplines:Ne.disciplines,sections:Ne.sections});_!==V.current&&(ze(K=>K||Ne.id),at(Ne),V.current=_)}},5e3);const Y=()=>{const Ne=se();if(Ne){at(Ne);try{localStorage.setItem(ee,JSON.stringify(Ne))}catch{}}};return window.addEventListener("beforeunload",Y),()=>{we.current&&clearInterval(we.current),window.removeEventListener("beforeunload",Y)}}else we.current&&clearInterval(we.current),V.current=""},[E]);const U=Y=>Y.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),Ce=(Y,Ne)=>{x(_=>({..._,[Y]:Ne})),S(1)},et=async(Y,Ne)=>{D(Y);try{await Ge.patch(`https://nexus-consults.com/api/public/api/admin/projects/${Y}/toggle-active`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ye.success(`Project ${Ne?"deactivated":"activated"} successfully`,{duration:2e3}),r()}catch(_){ye.error(_.response?.data?.message||"An unexpected error occurred",{duration:3e3}),_.response?.status==401,_.response?.status==403&&(ye.error("You are not authorized to view this page"),s("/home"))}finally{D(null)}},ht=Y=>{oe(Y),ve(!0)},Jt=async()=>{if(ue){k(ue),ve(!1);try{await Ge.delete(`https://nexus-consults.com/api/public/api/admin/projects/${ue}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ye.success("Project deleted successfully",{duration:2e3}),r()}catch(Y){ye.error(Y.response?.data?.message||"An unexpected error occurred",{duration:3e3}),Y.response?.status==401&&(localStorage.removeItem("userToken"),s("/login")),Y.response?.status==403&&(ye.error("You are not authorized to view this page"),s("/home"))}finally{k(null),oe(null)}}},Pt=Y=>{const{name:Ne,value:_,type:K,checked:R,files:q}=Y.target;if(Ye(K==="file"?re=>({...re,[Ne]:q[0]}):re=>({...re,[Ne]:K==="checkbox"?R:_})),Ne==="title"&&!xe){const re=U(_);Ye(Le=>({...Le,slug:re}))}},an=Y=>{const{value:Ne}=Y.target;Ye(_=>({..._,slug:Ne})),W(!0)},Qt=()=>{const Y=U(Me.title);Ye(Ne=>({...Ne,slug:Y})),W(!1)},Te=Y=>{const{name:Ne,value:_,type:K,checked:R,files:q}=Y.target;if(ut(K==="file"?re=>({...re,[Ne]:q[0]}):re=>({...re,[Ne]:K==="checkbox"?R:_})),Ne==="title"&&!le){const re=U(_);ut(Le=>({...Le,slug:re}))}},ot=Y=>{const{value:Ne}=Y.target;ut(_=>({..._,slug:Ne})),be(!0)},pt=()=>{const Y=U(Re.title);ut(Ne=>({...Ne,slug:Y})),be(!1)},me=(Y,Ne)=>{Ye(_=>({..._,disciplines:Ne?[..._.disciplines,Y]:_.disciplines.filter(K=>K!==Y)}))},mt=(Y,Ne)=>{ut(_=>({..._,disciplines:Ne?[..._.disciplines,Y]:_.disciplines.filter(K=>K!==Y)}))},Lt=()=>{const Y={id:Date.now()+Math.random(),content:"",caption:"",image:null,existing_image:null};Ye(Ne=>({...Ne,sections:[...Ne.sections,Y]}))},rt=Y=>{Ye(Ne=>({...Ne,sections:Ne.sections.filter(_=>_.id!==Y)}))},Ae=(Y,Ne)=>{Ye(_=>({..._,sections:_.sections.map(K=>K.id===Y?{...K,content:Ne}:K)}))},lt=(Y,Ne)=>{Ye(_=>({..._,sections:_.sections.map(K=>K.id===Y?{...K,caption:Ne}:K)}))},jt=(Y,Ne)=>{Ye(_=>({..._,sections:_.sections.map(K=>K.id===Y?{...K,image:Ne}:K)}))},Et=Y=>{Ye(Ne=>({...Ne,sections:Ne.sections.map(_=>_.id===Y?{..._,image:null}:_)}))},kt=Y=>{Ye(Ne=>({...Ne,sections:Ne.sections.map(_=>_.id===Y?{..._,existing_image:null,image:null}:_)}))},tn=()=>{const Y={id:Date.now()+Math.random(),content:"",caption:"",image:null,existing_image:null};ut(Ne=>({...Ne,sections:[...Ne.sections,Y]}))},Nn=Y=>{ut(Ne=>({...Ne,sections:Ne.sections.filter(_=>_.id!==Y)}))},Q=(Y,Ne)=>{ut(_=>({..._,sections:_.sections.map(K=>K.id===Y?{...K,content:Ne}:K)}))},ge=(Y,Ne)=>{ut(_=>({..._,sections:_.sections.map(K=>K.id===Y?{...K,caption:Ne}:K)}))},Ee=(Y,Ne)=>{ut(_=>({..._,sections:_.sections.map(K=>K.id===Y?{...K,image:Ne}:K)}))},$e=Y=>{ut(Ne=>({...Ne,sections:Ne.sections.map(_=>_.id===Y?{..._,image:null}:_)}))},Xe=Y=>{ut(Ne=>({...Ne,sections:Ne.sections.map(_=>_.id===Y?{..._,existing_image:null,image:null}:_)}))},vt=()=>{Ye({title:"",slug:"",description:"",is_active:!0,show_on_home:!1,cover_photo:null,disciplines:[],sections:[]}),W(!1)},At=Y=>{$(Y.id)};j.useEffect(()=>{if(Nt&&Fe){const Ne=(Nt.sections||[]).map((_,K)=>({id:Date.now()+K,content:_.content||"",caption:_.caption||"",image:null,existing_image:_.image||null}));ut({id:Nt.id,title:Nt.title,slug:Nt.slug,description:Nt.description||"",is_active:Nt.is_active,show_on_home:Nt.show_on_home||!1,cover_photo:null,existing_cover_photo:Nt.cover_photo,disciplines:Nt.disciplines?Nt.disciplines.map(_=>_.slug):[],sections:Ne}),be(!0),H(!0)}},[Nt,Fe]);const ct=async Y=>{if(Y.preventDefault(),!Me.sections.some(_=>_.content&&_.content.trim()!=="")){ye.error("Please add at least one section with content");return}ne(!0);try{const _=new FormData;_.append("title",Me.title),_.append("slug",Me.slug),_.append("is_active",Me.is_active?1:0),_.append("show_on_home",Me.show_on_home?1:0),_.append("description",Me.description),Me.disciplines.forEach(K=>{_.append("disciplines[]",K)}),Me.sections.forEach((K,R)=>{_.append(`content${R+1}`,K.content||""),_.append(`caption${R+1}`,K.caption||""),K.image instanceof File&&_.append(`image${R+1}`,K.image)}),_.append("cover_photo",Me.cover_photo||""),await Ge.post("https://nexus-consults.com/api/public/api/admin/projects",_,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}}),ne(!1),ye.success("Project added successfully",{duration:2e3}),A(!1),vt(),r(),B(Me.slug),ze(null)}catch(_){ne(!1),ye.error(_.response?.data?.message||"An unexpected error occurred",{duration:3e3}),_.response?.status==401&&(localStorage.removeItem("userToken"),s("/login")),_.response?.status==403&&(ye.error("You are not authorized to view this page"),s("/home"))}},Ct=async Y=>{if(Y.preventDefault(),!Re.sections.some(_=>_.content&&_.content.trim()!=="")){ye.error("Please add at least one section with content");return}ne(!0);try{const _=new FormData;_.append("title",Re.title),_.append("slug",Re.slug),_.append("is_active",Re.is_active?1:0),_.append("show_on_home",Re.show_on_home?1:0),_.append("description",Re.description),_.append("_method","POST"),Re.disciplines.forEach(K=>{_.append("disciplines[]",K)}),Re.sections.forEach((K,R)=>{_.append(`content${R+1}`,K.content||""),_.append(`caption${R+1}`,K.caption||""),K.image instanceof File?_.append(`image${R+1}`,K.image):K.existing_image===null&&_.append(`image${R+1}`,"")}),Re.cover_photo instanceof File?_.append("cover_photo",Re.cover_photo):Re.existing_cover_photo===null&&_.append("cover_photo",""),await Ge.post(`https://nexus-consults.com/api/public/api/admin/projects/${Re.id}`,_,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}}),ne(!1),ye.success("Project updated successfully",{duration:2e3}),H(!1),$(null),r(),i.invalidateQueries(["project",Re.id])}catch(_){ne(!1),ye.error(_.response?.data?.message||"An unexpected error occurred",{duration:3e3}),_.response?.status==401&&(localStorage.removeItem("userToken"),s("/login")),_.response?.status==403&&(ye.error("You are not authorized to view this page"),s("/home"))}},gt=t?.filter(Y=>{const Ne=y.global===""||Y.title.toLowerCase().includes(y.global.toLowerCase())||(Y.author?.name?Y.author.name.toLowerCase().includes(y.global.toLowerCase()):!1),_=y.title===""||Y.title.toLowerCase().includes(y.title.toLowerCase()),K=y.status===""||(y.status==="active"?Y.is_active:!Y.is_active),R=y.author===""||(Y.author?.name?Y.author.name.toLowerCase().includes(y.author.toLowerCase()):!1),q=y.discipline===""||Y.disciplines&&Y.disciplines.some(Le=>Le.id.toString()===y.discipline||Le.title.toLowerCase().includes(y.discipline.toLowerCase()));let re=!0;if(Y.created_at){const Le=new Date(Y.created_at);if(y.created_from){const ft=new Date(`${y.created_from}T00:00:00`);Le<ft&&(re=!1)}if(re&&y.created_to){const ft=new Date(`${y.created_to}T23:59:59.999`);Le>ft&&(re=!1)}}return Ne&&_&&K&&R&&q&&re})||[],Ot=Math.ceil(gt.length/C),G=gt.slice((b-1)*C,b*C),_e=Y=>{const Ne=Y?"bg-[#009379] text-white":"bg-[#930002] text-white";return c.jsx("span",{className:`flex justify-center w-fit items-center px-2.5 py-1 rounded-md text-xs font-medium ${Ne} min-w-16 text-center`,children:Y?"Active":"Inactive"})},tt=()=>Ot<=1?null:c.jsxs("div",{className:"flex justify-between items-center mt-4 px-4 pb-1",children:[c.jsxs("div",{className:"text-xs",children:["Showing ",(b-1)*C+1,"-",Math.min(b*C,gt.length)," of ",gt.length," entries"]}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx("button",{onClick:()=>S(1),disabled:b===1,className:"p-1 disabled:opacity-50",children:c.jsx(Qo,{className:"h-4 w-4"})}),c.jsxs("span",{className:"px-3 py-1",children:["Page ",b," of ",Ot]}),c.jsx("button",{onClick:()=>S(Y=>Math.min(Ot,Y+1)),disabled:b===Ot,className:"p-1 disabled:opacity-50",children:c.jsx(Zo,{className:"h-4 w-4"})})]})]}),yt=(Y,Ne)=>{l(Ne?_=>[..._,Y]:_=>_.filter(K=>K!==Y))},Wt=Y=>{Y?(l(gt.map(Ne=>Ne.id)),f(!0)):(l([]),f(!1))},[Mt,zt]=j.useState(!1),Xn=async()=>{a.length&&zt(!0)},On=async()=>{zt(!1);try{m(!0),await Ge.post("https://nexus-consults.com/api/public/api/admin/projects/bulk/delete",{ids:a},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ye.success(`${a.length} project(s) deleted successfully`),l([]),f(!1),r()}catch(Y){console.error("Error deleting projects:",Y),ye.error(Y.response?.data?.message||"Failed to delete projects")}finally{m(!1)}},bn=async Y=>{if(a.length)try{m(!0),await Ge.post("https://nexus-consults.com/api/public/api/admin/projects/bulk/update-status",{ids:a,status:Y},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ye.success(`Status updated for ${a.length} project(s)`),l([]),f(!1),r()}catch(Ne){console.error("Error updating project status:",Ne),ye.error(Ne.response?.data?.message||"Failed to update project status")}finally{m(!1)}},jn=Vt.memo(({name:Y,label:Ne,existingImage:_,currentImage:K,onImageChange:R,onRemoveImage:q})=>{const re=_,[Le,ft]=j.useState(null);return j.useEffect(()=>{if(K&&K instanceof File){const nn=URL.createObjectURL(K);return ft(nn),()=>{URL.revokeObjectURL(nn),ft(null)}}else ft(null)},[K]),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:Ne}),Le?c.jsxs("div",{className:"relative mb-4",children:[c.jsx("img",{src:Le,alt:"Preview",className:"h-48 w-full object-cover rounded-lg"}),c.jsx("button",{type:"button",onClick:()=>q(Y),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 transition-colors",children:c.jsx($t,{size:16})})]}):re?c.jsxs("div",{className:"relative mb-4",children:[c.jsx("img",{src:re,alt:"Current",className:"h-48 w-full object-cover rounded-lg"}),c.jsx("button",{type:"button",onClick:()=>q(`existing_${Y}`),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2",children:c.jsx($t,{size:16})})]}):c.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[c.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[c.jsx(sa,{className:"w-8 h-8 mb-3 text-gray-400"}),c.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[c.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),c.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, JPEG (MAX. 5MB)"})]}),c.jsx("input",{id:Y,name:Y,type:"file",className:"hidden",onChange:R,accept:"image/*"})]})]})},(Y,Ne)=>Y.name===Ne.name&&Y.label===Ne.label&&Y.existingImage===Ne.existingImage&&Y.currentImage===Ne.currentImage),gr=()=>Me.sections.map((Y,Ne)=>c.jsxs("div",{className:"p-4 border rounded-lg mb-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h3",{className:"text-lg font-medium",children:["Section ",Ne+1]}),c.jsx("button",{type:"button",onClick:()=>rt(Y.id),className:"text-red-500 hover:text-red-700 p-1",disabled:Me.sections.length===1,children:c.jsx(rc,{size:16})})]}),c.jsxs("div",{className:"mb-4",children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Content ",Ne+1,"*"]}),c.jsx(ui,{content:Y.content,onUpdate:_=>Ae(Y.id,_)})]}),c.jsx(V3,{sectionId:Y.id,label:`Image ${Ne+1}`,existingImage:Y.existing_image,currentImage:Y.image,caption:Y.caption,onImageChange:jt,onRemoveImage:Et,onRemoveExistingImage:kt,onCaptionChange:lt})]},Y.id)),Jn=()=>Re.sections.map((Y,Ne)=>c.jsxs("div",{className:"p-4 border rounded-lg mb-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h3",{className:"text-lg font-medium",children:["Section ",Ne+1]}),c.jsx("button",{type:"button",onClick:()=>Nn(Y.id),className:"text-red-500 hover:text-red-700 p-1",disabled:Re.sections.length===1,children:c.jsx(rc,{size:16})})]}),c.jsxs("div",{className:"mb-4",children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Content ",Ne+1,"*"]}),c.jsx(ui,{content:Y.content,onUpdate:_=>Q(Y.id,_)})]}),c.jsx(V3,{sectionId:Y.id,label:`Image ${Ne+1}`,existingImage:Y.existing_image,currentImage:Y.image,caption:Y.caption,onImageChange:Ee,onRemoveImage:$e,onRemoveExistingImage:Xe,onCaptionChange:ge})]},Y.id));return c.jsxs("div",{className:"shadow-2xl rounded-2xl overflow-hidden bg-white",children:[c.jsxs("div",{className:"p-4 border-b flex justify-between items-center gap-4",children:[c.jsx("input",{type:"text",value:y.global,onChange:Y=>Ce("global",Y.target.value),placeholder:"Search projects...",className:"px-3 py-2 rounded-xl shadow-sm focus:outline-2 focus:outline-primary w-full border border-primary transition-all"}),Ze?.data?.data?.admin?.permissions?.includes("create_projects")&&c.jsxs("button",{onClick:()=>{A(!0),vt()},className:"bg-primary hover:bg-darkBlue transition-all text-white px-3 py-2 rounded-xl shadow-sm min-w-max flex items-center gap-2",children:[c.jsx(Ar,{size:18}),c.jsx("span",{children:"Add Project"})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:d&&gt.length>0,onChange:Y=>Wt(Y.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),c.jsx("span",{className:"ml-2",children:"Title"})]})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsx("input",{type:"text",value:y.author,onChange:Y=>Ce("author",Y.target.value),placeholder:"Author",className:"text-xs p-1 border rounded w-full"})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cover Photo"}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsxs("select",{value:y.status,onChange:Y=>Ce("status",Y.target.value),className:"text-xs p-1 border rounded w-full",children:[c.jsx("option",{value:"",children:"All Statuses"}),c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"inactive",children:"Inactive"})]})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsxs("select",{value:y.discipline,onChange:Y=>Ce("discipline",Y.target.value),className:"text-xs p-1 border rounded w-full",children:[c.jsx("option",{value:"",children:"All Disciplines"}),e?.map(Y=>c.jsxs("option",{value:Y.id,children:[Y.title,!Y.is_active&&" (inactive)"]},Y.id))]})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsx(Ph,{initialRange:{startDate:y.created_from?new Date(`${y.created_from}T00:00:00`):null,endDate:y.created_to?new Date(`${y.created_to}T00:00:00`):null},onDateChange:({startDate:Y,endDate:Ne})=>{const _=K=>{if(!(K instanceof Date)||isNaN(K))return"";const R=K.getFullYear(),q=String(K.getMonth()+1).padStart(2,"0"),re=String(K.getDate()).padStart(2,"0");return`${R}-${q}-${re}`};Ce("created_from",Y?_(Y):""),Ce("created_to",Ne?_(Ne):"")}})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:n?c.jsx("tr",{children:c.jsxs("td",{colSpan:"7",className:"px-3 py-4 text-center",children:[" ",c.jsxs("div",{className:"flex justify-center items-center gap-2",children:[c.jsx(wt,{className:"animate-spin",size:18}),"Loading projects..."]})]})}):G.length===0?c.jsx("tr",{children:c.jsxs("td",{colSpan:"7",className:"px-3 py-4 text-center",children:[" ","No projects found"]})}):G.map(Y=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:a.includes(Y.id),onChange:Ne=>yt(Y.id,Ne.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),c.jsx("span",{className:"ml-2 text-sm font-medium text-gray-900",children:Y.title})]})}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Y.author?.name||"-"}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Y.cover_photo&&c.jsx("img",{src:Y.cover_photo,alt:"Cover",className:"h-10 w-10 object-cover rounded"})}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:_e(Y.is_active)}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:c.jsx("div",{className:"flex flex-wrap gap-1",children:Y.disciplines&&Y.disciplines.length>0?Y.disciplines.map(Ne=>c.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium",children:Ne.title},Ne.id)):c.jsx("span",{className:"text-gray-500 text-xs",children:"No disciplines"})})}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Y.created_at?new Date(Y.created_at).toLocaleDateString():"-"}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center gap-2",children:[Ze?.data?.data?.admin?.permissions?.includes("edit_projects")&&c.jsx("button",{className:"text-blue-500 hover:text-blue-700 p-1",onClick:()=>At(Y),disabled:Ft,children:Ft&&Fe===Y.id?c.jsx(wt,{className:"animate-spin",size:18}):c.jsx(ki,{size:18})}),c.jsx("button",{className:`${Y.is_active?"text-green-500 hover:text-green-700":"text-red-500 hover:text-red-700"} p-1`,onClick:()=>et(Y.id,Y.is_active),disabled:M===Y.id,children:M===Y.id?c.jsx(wt,{className:"animate-spin",size:18}):Y.is_active?c.jsx(Pr,{}):c.jsx($t,{})}),Ze?.data?.data?.admin?.permissions?.includes("delete_projects")&&c.jsx("button",{className:"text-red-500 hover:text-red-700 p-1",onClick:()=>ht(Y.id),disabled:N===Y.id,title:"Delete",children:N===Y.id?c.jsx(wt,{className:"animate-spin",size:18}):c.jsx(Vn,{size:18})})]})})]},Y.id))})]})}),Mt&&c.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:"bg-white rounded-lg p-6 max-w-md w-full",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Deletion"}),c.jsx("button",{onClick:()=>zt(!1),className:"text-gray-500 hover:text-gray-700",children:c.jsx($t,{})})]}),c.jsxs("p",{className:"text-gray-700 mb-6",children:["Are you sure you want to delete ",a.length," selected project(s)? This action cannot be undone."]}),c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx("button",{onClick:()=>zt(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:p,children:"Cancel"}),c.jsx("button",{onClick:On,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 flex items-center",disabled:p,children:p?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"animate-spin mr-2"}),"Deleting..."]}):"Delete"})]})]})}),a.length>0&&c.jsx("div",{className:"bg-blue-50 p-4 rounded-md mb-6 border border-blue-200",children:c.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[c.jsxs("div",{className:"text-blue-800 font-medium",children:[a.length," project(s) selected"]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsxs("button",{onClick:()=>bn(!0),disabled:p,className:"flex items-center px-3 py-1.5 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 text-sm",children:[c.jsx(Pr,{className:"mr-1.5"}),"Activate"]}),c.jsxs("button",{onClick:()=>bn(!1),disabled:p,className:"flex items-center px-3 py-1.5 bg-yellow-600 text-white rounded hover:bg-yellow-700 disabled:opacity-50 text-sm",children:[c.jsx($t,{className:"mr-1.5"}),"Deactivate"]}),c.jsxs("button",{onClick:Xn,disabled:p,className:"flex items-center px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 text-sm",children:[c.jsx(Vn,{className:"mr-1.5"}),"Delete"]}),c.jsxs("button",{onClick:()=>{l([]),f(!1)},className:"flex items-center px-3 py-1.5 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 text-sm",children:[c.jsx($t,{className:"mr-1.5"}),"Clear Selection"]}),p&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(wt,{className:"animate-spin mr-1.5"}),"Loading..."]})]})]})}),!n&&tt(),c.jsxs("div",{className:"p-4 border-t",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Drafts"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Drafts are stored locally in your browser"})]}),ie.length===0?c.jsx("div",{className:"text-sm text-gray-500",children:"No drafts yet"}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full divide-y divide-gray-200 text-sm",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-2 text-left",children:"Title"}),c.jsx("th",{className:"px-4 py-2 text-left",children:"Updated"}),c.jsx("th",{className:"px-4 py-2 text-left",children:"Note"}),c.jsx("th",{className:"px-4 py-2 text-left",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:ie.slice().sort((Y,Ne)=>new Date(Ne.updatedAt)-new Date(Y.updatedAt)).map(Y=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-2",children:Y.title||c.jsx("span",{className:"italic text-gray-400",children:"Untitled"})}),c.jsx("td",{className:"px-4 py-2",children:new Date(Y.updatedAt).toLocaleString()}),c.jsx("td",{className:"px-4 py-2 text-xs text-gray-500",children:Y.cover_photo_meta?`Attachment: ${Y.cover_photo_meta.name} (re-attach required)`:"No attachment"}),c.jsx("td",{className:"px-4 py-2",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-1",onClick:()=>fe(Y),children:[c.jsx(kh,{})," Resume"]}),c.jsx("button",{className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",onClick:()=>bt(Y.id),children:"Delete"})]})})]},Y.id))})]})})]}),E&&c.jsxs(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 ",children:[c.jsx("button",{onClick:()=>{A(!1);const Y=se();Y&&at(Y)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:c.jsx(ns,{className:"",size:40})}),c.jsx(Tt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-4/5 h-[90vh] overflow-y-auto",onClick:Y=>Y.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New Project"}),c.jsxs("form",{onSubmit:ct,children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title*"}),c.jsx("input",{type:"text",name:"title",value:Me.title,onChange:Pt,className:"w-full px-3 py-2 border rounded-md",required:!0})]})}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug*"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",name:"slug",value:Me.slug,onChange:an,className:"w-full px-3 py-2 border rounded-md",required:!0}),xe&&c.jsx("button",{type:"button",onClick:Qt,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",title:"Reset to auto-generated slug",children:c.jsx($t,{})})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:xe?"Slug is manually edited. Click the X to reset to auto-generated.":"Slug is auto-generated from title. You can edit it manually."})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),c.jsx("textarea",{name:"description",value:Me.description,onChange:Pt,rows:3,className:"w-full px-3 py-2 border rounded-md resize-vertical",placeholder:"Enter project description..."})]}),c.jsx(jn,{name:"cover_photo",label:"Cover Photo",currentImage:Me.cover_photo,onImageChange:Pt,onRemoveImage:Y=>Ye(Ne=>({...Ne,[Y]:null}))}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:Me.is_active,onChange:Pt,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),c.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700",children:"Active"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"show_on_home",name:"show_on_home",checked:Me.show_on_home,onChange:Pt,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),c.jsx("label",{htmlFor:"show_on_home",className:"ml-2 text-sm text-gray-700",children:"Show on Home Screen"})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Disciplines"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 max-h-48 overflow-y-auto p-2 border rounded-md",children:[e?.map(Y=>c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:`discipline-${Y.slug}`,checked:Me.disciplines.includes(Y.slug),onChange:Ne=>me(Y.slug,Ne.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),c.jsxs("label",{htmlFor:`discipline-${Y.slug}`,className:"ml-2 text-sm text-gray-700",children:[Y.title,!Y.is_active&&c.jsx("span",{className:"ml-1 text-xs text-orange-600",children:"(inactive)"})]})]},Y.id)),(!e||e.length===0)&&c.jsx("div",{className:"text-sm text-gray-500 col-span-full",children:"No disciplines available"})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("div",{className:"space-y-4",children:Me.sections.length===0?c.jsxs("div",{className:"text-center p-8 border-2 border-dashed rounded-lg",children:[c.jsx("p",{className:"text-gray-500 mb-4",children:'No sections added yet. Click "Add Section" to get started.'}),c.jsx("p",{className:"text-sm text-gray-400",children:"Note: At least one section with content is required."})]}):gr()}),c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-medium",children:"Sections"}),c.jsxs("button",{type:"button",onClick:Lt,className:"bg-primary hover:bg-darkBlue text-white px-3 py-2 rounded-md flex items-center gap-2",children:[c.jsx(Ar,{})," Add Section"]})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[c.jsxs("div",{className:"text-xs text-gray-500 mt-2 flex items-center",children:[c.jsx(wt,{className:`animate-spin mr-1 ${te?"opacity-100":"opacity-0"}`,size:12}),"Auto-saves to drafts every 5s"]}),c.jsxs("button",{type:"button",onClick:I,className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[c.jsx($u,{size:16})," Save as Draft"]}),c.jsx("button",{type:"button",onClick:()=>{const Y=se();Y&&at(Y),A(!1),vt()},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:te,children:te?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"animate-spin",size:18}),c.jsx("span",{children:"Adding..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Ar,{size:18}),c.jsx("span",{children:"Add Project"})]})})]})]})]})})]}),F&&c.jsxs(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[c.jsx("button",{onClick:()=>{H(!1),$(null)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:c.jsx(ns,{className:"",size:40})}),c.jsx(Tt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-4/5 h-[90vh] overflow-y-auto",onClick:Y=>Y.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("button",{type:"button",onClick:()=>{H(!1),$(null)},className:"text-blue-600 hover:text-blue-800 font-medium",children:"Projects"}),c.jsx("span",{className:"mx-2 text-gray-400",children:">"}),c.jsx("span",{className:"text-xl font-bold text-gray-900",children:Re.title||"Untitled Project"}),Ft&&c.jsxs("div",{className:"ml-4 flex items-center text-sm text-gray-500",children:[c.jsx(wt,{className:"animate-spin mr-2",size:14}),"Loading project data..."]})]}),Ft?c.jsxs("div",{className:"flex justify-center items-center py-8",children:[c.jsx(wt,{className:"animate-spin mr-2",size:24}),c.jsx("span",{children:"Loading project data..."})]}):c.jsxs("form",{onSubmit:Ct,children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title*"}),c.jsx("input",{type:"text",name:"title",value:Re.title,onChange:Te,className:"w-full px-3 py-2 border rounded-md",required:!0})]})}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug*"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",name:"slug",value:Re.slug,onChange:ot,className:"w-full px-3 py-2 border rounded-md",required:!0}),le&&c.jsx("button",{type:"button",onClick:pt,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",title:"Reset to auto-generated slug",children:c.jsx($t,{})})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:le?"Slug is manually edited. Click the X to reset to auto-generated.":"Slug is auto-generated from title. You can edit it manually."})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),c.jsx("textarea",{name:"description",value:Re.description,onChange:Te,rows:3,className:"w-full px-3 py-2 border rounded-md resize-vertical",placeholder:"Enter project description..."})]}),c.jsx(jn,{name:"cover_photo",label:"Cover Photo",existingImage:Re.existing_cover_photo,currentImage:Re.cover_photo,onImageChange:Te,onRemoveImage:Y=>{if(Y.startsWith("existing_")){const Ne=Y.replace("existing_","");ut(_=>({..._,[Y]:null,[Ne]:null}))}else ut(Ne=>({...Ne,[Y]:null}))}}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"edit_is_active",name:"is_active",checked:Re.is_active,onChange:Te,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),c.jsx("label",{htmlFor:"edit_is_active",className:"ml-2 text-sm text-gray-700",children:"Active"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"edit_show_on_home",name:"show_on_home",checked:Re.show_on_home,onChange:Te,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),c.jsx("label",{htmlFor:"edit_show_on_home",className:"ml-2 text-sm text-gray-700",children:"Show on Home Screen"})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Disciplines"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 max-h-48 overflow-y-auto p-2 border rounded-md",children:[e?.map(Y=>c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:`edit-discipline-${Y.slug}`,checked:Re.disciplines.includes(Y.slug),onChange:Ne=>mt(Y.slug,Ne.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),c.jsxs("label",{htmlFor:`edit-discipline-${Y.slug}`,className:"ml-2 text-sm text-gray-700",children:[Y.title,!Y.is_active&&c.jsx("span",{className:"ml-1 text-xs text-orange-600",children:"(inactive)"})]})]},Y.slug)),(!e||e.length===0)&&c.jsx("div",{className:"text-sm text-gray-500 col-span-full",children:"No disciplines available"})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("div",{className:"flex justify-between items-center mb-4",children:c.jsx("h3",{className:"text-lg font-medium",children:"Sections"})}),c.jsx("div",{className:"space-y-4",children:Re.sections.length===0?c.jsxs("div",{className:"text-center p-8 border-2 border-dashed rounded-lg",children:[c.jsx("p",{className:"text-gray-500 mb-4",children:'No sections added yet. Click "Add Section" to get started.'}),c.jsx("p",{className:"text-sm text-gray-400",children:"Note: At least one section with content is required."})]}):Jn()}),c.jsx("div",{className:"flex justify-end items-center mb-4",children:c.jsxs("button",{type:"button",onClick:tn,className:"bg-primary hover:bg-darkBlue text-white px-3 py-2 rounded-md flex items-center gap-2",children:[c.jsx(Ar,{})," Add Section"]})})]}),c.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[c.jsx("button",{type:"button",onClick:()=>{H(!1),$(null)},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:te,children:te?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"animate-spin",size:18}),c.jsx("span",{children:"Updating..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Pr,{size:18}),c.jsx("span",{children:"Update Project"})]})})]})]})]})})]}),Z&&c.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>ve(!1),children:c.jsx(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:Y=>Y.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:c.jsx(Vn,{className:"h-5 w-5 text-red-600"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Project"}),c.jsx("div",{className:"mt-2",children:c.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this project? This action cannot be undone."})})]})]}),c.jsxs("div",{className:"mt-5 flex justify-end gap-3",children:[c.jsx("button",{type:"button",onClick:()=>ve(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{type:"button",onClick:Jt,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})})})]})}function Mle(){const t=Hn(),{data:e,isLoading:n,isError:r,error:s,refetch:i}=Cn({queryKey:["disciplines"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/disciplines",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})});function a(){return Ge.get("https://nexus-consults.com/api/public/api/admin/projects",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}const{data:l,isLoading:d,refetch:f,isError:p,error:m}=Cn({queryKey:["projects"],queryFn:a});return j.useEffect(()=>{p&&(m.response?.status==401&&(localStorage.removeItem("userToken"),t("/login")),m.response?.status==403&&(ye.error("You are not authorized to view this page"),t("/home")))},[p]),c.jsxs("div",{className:"p-4",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Projects"}),c.jsx(Ole,{projects:l?.data?.data||[],disciplinesData:e?.data?.data||[],loading:d,refetch:f})]})}function Dle({admins:t,allPermissions:e,loading:n,refetch:r}){const s=Hn(),[i,a]=j.useState({global:"",name:"",email:"",status:"",role:""}),[l,d]=j.useState(1),[f]=j.useState(10),[p,m]=j.useState(null),[y,x]=j.useState(null),[b,S]=j.useState(!1),[C,N]=j.useState(!1),[k,M]=j.useState(!1),[D,E]=j.useState(null),[A,F]=j.useState(!1),[H,Z]=j.useState(null),[ve,ue]=j.useState(!1),[oe,te]=j.useState({name:"",email:"",password:"",confirmPassword:"",permissions:[]}),ne=(ee,Ve)=>{a(qe=>({...qe,[ee]:Ve})),d(1)},{data:xe,isLoading:W,error:le,isError:be}=Cn({queryKey:["currentUser"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}),Fe=async(ee,Ve)=>{m(ee);try{const qe=Ve==="active"?"inactive":"active";await Ge.patch(`https://nexus-consults.com/api/public/api/admin/users/${ee}/toggle-active`,{status:qe},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ye.success(`Admin ${qe==="active"?"activated":"deactivated"} successfully`,{duration:2e3}),r()}catch(qe){ye.error(qe.response?.data?.message||"An unexpected error occurred",{duration:3e3}),qe.response?.status==401&&(localStorage.removeItem("userToken"),s("/login"))}finally{m(null)}},$=ee=>{Z(ee),F(!0)},de=async()=>{if(H){x(H),F(!1);try{await Ge.delete(`https://nexus-consults.com/api/public/api/admin/users/${H}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ye.success("Admin deleted successfully",{duration:2e3}),r()}catch(ee){ye.error(ee.response?.data?.message||"An unexpected error occurred",{duration:3e3}),ee.response?.status==401&&(localStorage.removeItem("userToken"),s("/login")),ee.response?.status==403&&(ye.error("You are not authorized to view this page"),s("/home"))}finally{x(null),Z(null)}}},ie=ee=>{const{name:Ve,value:qe,type:at,checked:bt}=ee.target;te(B=>({...B,[Ve]:at==="checkbox"?bt:qe}))},he=(ee,Ve)=>{te(qe=>Ve?{...qe,permissions:[...qe.permissions,ee]}:{...qe,permissions:qe.permissions.filter(at=>at!==ee)})},ke=()=>{te({name:"",email:"",password:"",confirmPassword:"",permissions:[]})},ze=ee=>{E(ee),te({name:ee.name,email:ee.email,password:"",confirmPassword:"",permissions:[...ee.permissions]}),N(!0)},Me=ee=>{E(ee),te({...oe,permissions:[...ee.permissions]}),M(!0)},Ye=async ee=>{if(ee.preventDefault(),oe.password!==oe.confirmPassword){ye.error("Passwords do not match",{duration:3e3});return}ue(!0);try{await Ge.post("https://nexus-consults.com/api/public/api/admin/users",{name:oe.name,email:oe.email,password:oe.password,permissions:oe.permissions},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ue(!1),ye.success("Admin added successfully",{duration:2e3}),S(!1),ke(),r()}catch(Ve){ue(!1),ye.error(Ve.response?.data?.message||"An unexpected error occurred",{duration:3e3}),Ve.response?.status==401&&(localStorage.removeItem("userToken"),s("/login")),Ve.response?.status==403&&(ye.error("You are not authorized to view this page"),s("/home"))}},Re=async ee=>{if(ee.preventDefault(),oe.password&&oe.password!==oe.confirmPassword){ye.error("Passwords do not match",{duration:3e3});return}ue(!0);try{const Ve={name:oe.name,email:oe.email};oe.password&&(Ve.password=oe.password),await Ge.put(`https://nexus-consults.com/api/public/api/admin/users/${D.id}`,Ve,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ue(!1),ye.success("Admin updated successfully",{duration:2e3}),N(!1),ke(),r()}catch(Ve){ue(!1),ye.error(Ve.response?.data?.message||"An unexpected error occurred",{duration:3e3}),Ve.response?.status==401&&(localStorage.removeItem("userToken"),s("/login")),Ve.response?.status==403&&(ye.error("You are not authorized to view this page"),s("/home"))}},ut=async ee=>{ee.preventDefault(),ue(!0);try{await Ge.post(`https://nexus-consults.com/api/public/api/admin/permissions/assign/${D.id}`,{permissions:oe.permissions},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ue(!1),ye.success("Permissions updated successfully",{duration:2e3}),M(!1),ke(),r()}catch(Ve){ue(!1),ye.error(Ve.response?.data?.message||"An unexpected error occurred",{duration:3e3}),Ve.response?.status==401&&(localStorage.removeItem("userToken"),s("/login")),Ve.response?.status==403&&(ye.error("You are not authorized to view this page"),s("/home"))}},Ze=t?.filter(ee=>(i.global===""||ee.name.toLowerCase().includes(i.global.toLowerCase())||ee.email.toLowerCase().includes(i.global.toLowerCase()))&&(i.name===""||ee.name.toLowerCase().includes(i.name.toLowerCase()))&&(i.email===""||ee.email.toLowerCase().includes(i.email.toLowerCase()))&&(i.status===""||ee.status.includes(i.status.toLowerCase()))&&(i.role===""||ee.role.includes(i.role.toLowerCase())))||[],St=Math.ceil(Ze.length/f),Nt=Ze.slice((l-1)*f,l*f),Ft=ee=>{const Ve=ee?"bg-[#009379] text-white":"bg-[#930002] text-white";return c.jsx("span",{className:`flex justify-center w-fit items-center px-2.5 py-1 rounded-md text-xs font-medium ${Ve} min-w-16 text-center`,children:ee?"Active":"Inactive"})},nt=()=>St<=1?null:c.jsxs("div",{className:"flex justify-between items-center mt-4 px-4 pb-1",children:[c.jsxs("div",{className:"text-xs",children:["Showing ",(l-1)*f+1,"-",Math.min(l*f,Ze.length)," of ",Ze.length," entries"]}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx("button",{onClick:()=>d(1),disabled:l===1,className:"p-1 disabled:opacity-50",children:c.jsx(Qo,{className:"h-4 w-4"})}),c.jsxs("span",{className:"px-3 py-1",children:["Page ",l," of ",St]}),c.jsx("button",{onClick:()=>d(ee=>Math.min(St,ee+1)),disabled:l===St,className:"p-1 disabled:opacity-50",children:c.jsx(Zo,{className:"h-4 w-4"})})]})]});return c.jsxs("div",{className:"shadow-2xl rounded-2xl overflow-hidden bg-white",children:[c.jsxs("div",{className:"p-4 border-b flex justify-between items-center gap-4",children:[c.jsx("input",{type:"text",value:i.global,onChange:ee=>ne("global",ee.target.value),placeholder:"Search admins...",className:"px-3 py-2 rounded-xl shadow-sm focus:outline-2 focus:outline-primary w-full border border-primary transition-all"}),xe?.data?.data?.admin?.permissions?.includes("create_admins")&&c.jsxs("button",{onClick:()=>S(!0),className:"bg-primary hover:bg-darkBlue transition-all text-white px-3 py-2 rounded-xl shadow-sm min-w-max flex items-center gap-2",children:[c.jsx(Ar,{size:18}),c.jsx("span",{children:"Add Admin"})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsx("input",{type:"text",placeholder:"Name",value:i.name,onChange:ee=>ne("name",ee.target.value),className:"text-xs p-1 border rounded w-full"})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsx("input",{type:"text",placeholder:"Email",value:i.email,onChange:ee=>ne("email",ee.target.value),className:"text-xs p-1 border rounded w-full"})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsx("input",{type:"text",placeholder:"Status",value:i.status,onChange:ee=>ne("status",ee.target.value),className:"text-xs p-1 border rounded w-full"})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:n?c.jsx("tr",{children:c.jsx("td",{colSpan:"5",className:"px-3 py-4 text-center",children:c.jsxs("div",{className:"flex justify-center items-center gap-2",children:[c.jsx(wt,{className:"animate-spin",size:18}),"Loading admins..."]})})}):Nt.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"5",className:"px-3 py-4 text-center",children:"No admins found"})}):Nt.map(ee=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:c.jsx("div",{className:"font-medium",children:ee.name})}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:ee.email}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap capitalize",children:ee.role}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Ft(ee.is_active)}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center gap-2",children:[xe?.data?.data?.admin?.permissions?.includes("edit_admins")&&c.jsx("button",{className:"text-blue-500 hover:text-blue-700 p-1",onClick:()=>ze(ee),children:c.jsx(ki,{size:18})}),xe?.data?.data?.admin?.permissions?.includes("edit_admins")&&c.jsx("button",{className:"text-purple-500 hover:text-purple-700 p-1",onClick:()=>Me(ee),children:c.jsx(TA,{size:18})}),xe?.data?.data?.admin?.permissions?.includes("edit_admins")&&c.jsx("button",{className:`${ee.status==="active"?"text-red-500 hover:text-red-700":"text-green-500 hover:text-green-700"} p-1`,onClick:()=>Fe(ee.id,ee.status),disabled:p===ee.id,children:p===ee.id?c.jsx(wt,{className:"animate-spin",size:18}):ee.status==="active"?c.jsx($t,{}):c.jsx(Pr,{})}),xe?.data?.data?.admin?.permissions?.includes("delete_admins")&&c.jsx("button",{className:"text-red-500 hover:text-red-700 p-1",onClick:()=>$(ee.id),disabled:y===ee.id,children:y===ee.id?c.jsx(wt,{className:"animate-spin",size:18}):c.jsx(Vn,{size:18})})]})})]},ee.id))})]})}),!n&&nt(),b&&c.jsxs(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[c.jsx("button",{onClick:()=>{S(!1)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:c.jsx(ns,{className:"",size:40})}),c.jsx(Tt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:ee=>ee.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New Admin"}),c.jsxs("form",{onSubmit:Ye,children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),c.jsx("input",{type:"text",name:"name",value:oe.name,onChange:ie,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),c.jsx("input",{type:"email",name:"email",value:oe.email,onChange:ie,className:"w-full px-3 py-2 border rounded-md",required:!0})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),c.jsx("input",{type:"password",name:"password",value:oe.password,onChange:ie,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),c.jsx("input",{type:"password",name:"confirmPassword",value:oe.confirmPassword,onChange:ie,className:"w-full px-3 py-2 border rounded-md",required:!0})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Permissions"}),c.jsx("button",{type:"button",onClick:()=>{te(ee=>({...ee,permissions:e.map(Ve=>Ve.name)}))},className:"mb-2 text-xs bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded",children:"Select All"}),c.jsx("button",{type:"button",onClick:()=>{te(ee=>({...ee,permissions:[]}))},className:"mb-2 text-xs bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded ml-2",children:"Clear All"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 max-h-60 overflow-y-auto p-2 border rounded",children:e.map(ee=>c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:`perm-${ee.name}`,checked:oe.permissions.includes(ee.name),onChange:Ve=>he(ee.name,Ve.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),c.jsxs("label",{htmlFor:`perm-${ee.name}`,className:"ml-2 text-sm text-gray-700",children:[c.jsx("div",{className:"font-medium",children:ee.name.replaceAll("_"," ")}),c.jsx("div",{className:"text-xs text-gray-500",children:ee.description})]})]},ee.name))})]}),c.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[c.jsx("button",{type:"button",onClick:()=>{S(!1),ke()},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:ve,children:ve?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"animate-spin",size:18}),c.jsx("span",{children:"Adding..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Ar,{size:18}),c.jsx("span",{children:"Add Admin"})]})})]})]})]})})]}),C&&c.jsxs(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[c.jsx("button",{onClick:()=>{N(!1)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:c.jsx(ns,{className:"",size:40})}),c.jsx(Tt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:ee=>ee.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-xl font-bold mb-4",children:"Edit Admin"}),c.jsxs("form",{onSubmit:Re,children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),c.jsx("input",{type:"text",name:"name",value:oe.name,onChange:ie,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),c.jsx("input",{type:"email",name:"email",value:oe.email,onChange:ie,className:"w-full px-3 py-2 border rounded-md",required:!0})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password (leave blank to keep current)"}),c.jsx("input",{type:"password",name:"password",value:oe.password,onChange:ie,className:"w-full px-3 py-2 border rounded-md"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),c.jsx("input",{type:"password",name:"confirmPassword",value:oe.confirmPassword,onChange:ie,className:"w-full px-3 py-2 border rounded-md"})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[c.jsx("button",{type:"button",onClick:()=>{N(!1),ke()},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:ve,children:ve?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"animate-spin",size:18}),c.jsx("span",{children:"Updating..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(ki,{size:18}),c.jsx("span",{children:"Update Admin"})]})})]})]})]})})]}),k&&c.jsxs(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[c.jsx("button",{onClick:()=>{M(!1)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:c.jsx(ns,{className:"",size:40})}),c.jsx(Tt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:ee=>ee.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsxs("h2",{className:"text-xl font-bold mb-4",children:["Manage Permissions for ",D?.name]}),c.jsxs("form",{onSubmit:ut,children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Permissions"}),c.jsx("button",{type:"button",onClick:()=>{te(ee=>({...ee,permissions:e.map(Ve=>Ve.name)}))},className:"mb-2 text-xs bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded",children:"Select All"}),c.jsx("button",{type:"button",onClick:()=>{te(ee=>({...ee,permissions:[]}))},className:"mb-2 text-xs bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded ml-2",children:"Clear All"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 max-h-60 overflow-y-auto p-2 border rounded",children:e.map(ee=>c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:`perm-edit-${ee.name}`,checked:oe.permissions.includes(ee.name),onChange:Ve=>he(ee.name,Ve.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),c.jsxs("label",{htmlFor:`perm-edit-${ee.name}`,className:"ml-2 text-sm text-gray-700",children:[c.jsx("div",{className:"font-medium",children:ee.name.replaceAll("_"," ")}),c.jsx("div",{className:"text-xs text-gray-500",children:ee.description})]})]},ee.name))})]}),c.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[c.jsx("button",{type:"button",onClick:()=>{M(!1),ke()},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:ve,children:ve?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"animate-spin",size:18}),c.jsx("span",{children:"Updating..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(TA,{size:18}),c.jsx("span",{children:"Update Permissions"})]})})]})]})]})})]}),A&&c.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>F(!1),children:c.jsx(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:ee=>ee.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:c.jsx(Vn,{className:"h-5 w-5 text-red-600"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Admin"}),c.jsx("div",{className:"mt-2",children:c.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this admin? This action cannot be undone."})})]})]}),c.jsxs("div",{className:"mt-5 flex justify-end gap-3",children:[c.jsx("button",{type:"button",onClick:()=>F(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{type:"button",onClick:de,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})})})]})}function Rle(){const t=Hn();function e(){return Ge.get("https://nexus-consults.com/api/public/api/admin/users",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}const{data:n,isLoading:r,refetch:s,error:i,isError:a}=Cn({queryKey:["admins"],queryFn:e,onError:()=>{i.response?.status==401&&(localStorage.removeItem("userToken"),t("/login"))}});function l(){return Ge.get("https://nexus-consults.com/api/public/api/admin/permissions",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}const{data:d,error:f}=Cn({queryKey:["permissions"],queryFn:l});return j.useEffect(()=>{a&&(i.response?.status==401&&(localStorage.removeItem("userToken"),t("/login")),i.response?.status==403&&(ye.error("You are not authorized to view this page"),t("/home")))},[a]),j.useEffect(()=>{},[d,f]),c.jsxs("div",{className:"p-4",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Admins"}),c.jsx(Dle,{admins:n?.data?.data||[],allPermissions:d?.data?.data?.all_permissions||[],loading:r,refetch:s})]})}function _le({blogs:t,loading:e,refetch:n}){const r=Hn();Li();const[s,i]=j.useState([]),[a,l]=j.useState(!1),[d,f]=j.useState(!1),[p,m]=j.useState({global:"",title:"",category:"",status:"",author:"",created_from:"",created_to:""}),[y,x]=j.useState(1),[b]=j.useState(10),[S,C]=j.useState(null),[N,k]=j.useState(null),[M,D]=j.useState(!1),[E,A]=j.useState(!1),[F,H]=j.useState(!1),[Z,ve]=j.useState(null),[ue,oe]=j.useState(!1),[te,ne]=j.useState([]),[xe,W]=j.useState([]),[le,be]=j.useState(!1),[Fe,$]=j.useState(!1),[de,ie]=j.useState(!1),[he,ke]=j.useState(null),[ze,Me]=j.useState({question:"",answer:"",order:""}),[Ye,Re]=j.useState(null),[ut,Ze]=j.useState(!1),[St,Nt]=j.useState(null),[Ft,nt]=j.useState(null),ee="blogDrafts",[Ve,qe]=j.useState([]),[at,bt]=j.useState(null),[B,se]=j.useState({title:"",slug:"",category:"news",is_active:!0,mark_as_hero:!1,content:"",cover_photo:null,tags:[],headings:[]}),[I,fe]=j.useState({id:null,title:"",slug:"",category:"news",is_active:!0,mark_as_hero:!1,content:"",cover_photo:null,existing_cover_photo:null,tags:[],headings:[]}),{data:we,refetch:V}=Cn({queryKey:["blogFaqs",he],queryFn:()=>he?Ge.get(`https://nexus-consults.com/api/public/api/admin/blogs/${he}/manage/faq`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}).then(T=>T.data.data):Promise.resolve([]),enabled:!!he}),U=di({mutationFn:T=>Ge.post(`https://nexus-consults.com/api/public/api/admin/blogs/${he}/manage/faq`,T,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),onSuccess:()=>{ye.success("FAQ added successfully"),V(),Me({question:"",answer:"",order:""})},onError:T=>{ye.error(T.response?.data?.message||"Failed to add FAQ"),T.response?.status===401&&(localStorage.removeItem("userToken"),r("/login")),T.response?.status===403&&ye.error("You are not authorized to perform this action")}}),Ce=di({mutationFn:T=>Ge.put(`https://nexus-consults.com/api/public/api/admin/blogs/${he}/manage/faq/${Ye}`,T,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),onSuccess:()=>{ye.success("FAQ updated successfully"),V(),Re(null),Me({question:"",answer:"",order:""})},onError:T=>{ye.error(T.response?.data?.message||"Failed to update FAQ"),T.response?.status===401&&(localStorage.removeItem("userToken"),r("/login")),T.response?.status===403&&ye.error("You are not authorized to perform this action")}}),et=di({mutationFn:T=>Ge.delete(`https://nexus-consults.com/api/public/api/admin/blogs/${he}/manage/faq/${T}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),onSuccess:()=>{ye.success("FAQ deleted successfully"),V()},onError:T=>{ye.error(T.response?.data?.message||"Failed to delete FAQ"),T.response?.status===401&&(localStorage.removeItem("userToken"),r("/login")),T.response?.status===403&&ye.error("You are not authorized to perform this action")}}),ht=T=>{ne(T),se(L=>({...L,headings:T}))},Jt="blogDrafts_beforeunload_fallback",Pt=async()=>{try{const T=await la.getItem(ee),L=Array.isArray(T)?T:[];qe(L);const z=localStorage.getItem(Jt);if(z){try{const J=JSON.parse(z);J&&typeof J=="object"&&Qt(J)}catch{}localStorage.removeItem(Jt)}}catch{}},an=async T=>{try{await la.setItem(ee,T)}catch(L){console.error("Persist drafts failed",L),ye.error("Could not save drafts locally")}},Qt=async T=>{qe(L=>{const z=L.findIndex(ae=>ae.id===T.id);let J=[...L];const pe=new Date().toISOString();if(z>=0)J[z]={...L[z],...T,updatedAt:pe};else{const ae=T.slug?L.findIndex(Ie=>Ie.slug===T.slug&&Ie.slug):-1;ae>=0?J[ae]={...L[ae],...T,id:L[ae].id,updatedAt:pe}:J.push({...T,updatedAt:pe})}return J.length>20&&(J=J.slice().sort((ae,Ie)=>new Date(Ie.updatedAt)-new Date(ae.updatedAt)).slice(0,20)),an(J),J})},Te=async T=>{qe(L=>{const z=L.filter(J=>J.id!==T);return an(z),z}),at===T&&bt(null)},ot=async T=>{T&&qe(L=>{const z=L.filter(J=>J.slug!==T);return an(z),z})};j.useEffect(()=>{Pt()},[]);const pt=()=>{if(!(B.title&&B.title.trim()!==""||B.content&&B.content.trim()!==""))return null;let L=at;if(!L&&B.slug){const z=Ve.find(J=>J.slug===B.slug);z&&(L=z.id)}return{id:L||`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,title:B.title,slug:B.slug,category:B.category,is_active:B.is_active,mark_as_hero:B.mark_as_hero,content:B.content,cover_photo_meta:B.cover_photo?{name:B.cover_photo.name,type:B.cover_photo.type,size:B.cover_photo.size}:null,tags:B.tags,headings:B.headings}},me=()=>{const T=pt();T&&(bt(T.id),Qt(T),ye.success("Draft saved locally"))},mt=T=>{se({title:T.title||"",slug:T.slug||"",category:T.category||"news",is_active:T.is_active??!0,mark_as_hero:T.mark_as_hero??!1,content:T.content||"",cover_photo:null,tags:T.tags||[],headings:T.headings||[]}),ne(T.headings||[]),be(!0),bt(T.id),D(!0),ye("Draft loaded")},Lt=j.useRef(null);j.useEffect(()=>{if(M){Lt.current=setInterval(()=>{const L=pt();L&&(bt(z=>z||L.id),Qt(L))},5e3);const T=()=>{const L=pt();if(L){Qt(L);try{localStorage.setItem(Jt,JSON.stringify(L))}catch{}}};return window.addEventListener("beforeunload",T),()=>{Lt.current&&clearInterval(Lt.current),window.removeEventListener("beforeunload",T)}}else Lt.current&&clearInterval(Lt.current)},[M,B]);const rt=T=>{W(T),fe(L=>({...L,headings:T}))},Ae=T=>T.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),lt=(T,L)=>{m(z=>({...z,[T]:L})),x(1)},{data:jt,isLoading:Et}=Cn({queryKey:["currentUser"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")} `}})}),kt=async(T,L)=>{k(T);try{await Ge.patch(`https://nexus-consults.com/api/public/api/admin/blogs/${T}/toggle-active`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ye.success(`Blog ${L?"deactivated":"activated"} successfully`,{duration:2e3}),n()}catch(z){ye.error(z.response?.data?.message||"An unexpected error occurred",{duration:3e3}),z.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),z.response?.status==403&&(ye.error("You are not authorized to view this page"),r("/home"))}finally{k(null)}},tn=T=>{ve(T),H(!0)},Nn=async()=>{if(Z){C(Z),H(!1);try{await Ge.delete(`https://nexus-consults.com/api/public/api/admin/blogs/${Z}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ye.success("Blog deleted successfully",{duration:2e3}),n()}catch(T){ye.error(T.response?.data?.message||"An unexpected error occurred",{duration:3e3}),T.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),T.response?.status==403&&(ye.error("You are not authorized to view this page"),r("/home"))}finally{C(null),ve(null)}}},Q=T=>{const{name:L,value:z,type:J,checked:pe,files:ae}=T.target;if(se(J==="file"?Ie=>({...Ie,[L]:ae[0]}):Ie=>({...Ie,[L]:J==="checkbox"?pe:z})),L==="title"&&!le){const Ie=Ae(z);se(Je=>({...Je,slug:Ie}))}},ge=T=>{const{value:L}=T.target;se(z=>({...z,slug:L})),be(!0)},Ee=()=>{const T=Ae(B.title);se(L=>({...L,slug:T})),be(!1)},$e=T=>{const{name:L,value:z,type:J,checked:pe,files:ae}=T.target;if(fe(J==="file"?Ie=>({...Ie,[L]:ae[0]}):Ie=>({...Ie,[L]:J==="checkbox"?pe:z})),L==="title"&&!Fe){const Ie=Ae(z);fe(Je=>({...Je,slug:Ie}))}},Xe=T=>{const{value:L}=T.target;fe(z=>({...z,slug:L})),$(!0)},vt=()=>{const T=Ae(I.title);fe(L=>({...L,slug:T})),$(!1)},At=T=>{se(L=>({...L,tags:T.value}))},ct=T=>{fe(L=>({...L,tags:T.value}))},Ct=()=>{se({title:"",slug:"",category:"news",is_active:!0,mark_as_hero:!0,content:"",cover_photo:null,tags:[],headings:[]}),ne([]),be(!1)},gt=T=>{fe({id:T.id,title:T.title,slug:T.slug,category:T.category,is_active:T.is_active,mark_as_hero:T.mark_as_hero,content:T.content,cover_photo:null,existing_cover_photo:T.cover_photo,tags:T.tags||[],headings:T.headings||[]}),W(T.headings||[]),$(!0),A(!0)},Ot=async T=>{T.preventDefault(),oe(!0);try{const L=new FormData;L.append("title",B.title),L.append("slug",B.slug),L.append("category",B.category),L.append("is_active",B.is_active?1:0),L.append("mark_as_hero",B.mark_as_hero?1:0),L.append("content",B.content),L.append("headings",JSON.stringify(B.headings)),B.tags.forEach(z=>{L.append("tags[]",z)}),B.cover_photo&&L.append("cover_photo",B.cover_photo),await Ge.post("https://nexus-consults.com/api/public/api/admin/blogs",L,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}}),oe(!1),ye.success("Blog added successfully",{duration:2e3}),D(!1),Ct(),n(),ot(B.slug),bt(null)}catch(L){oe(!1),ye.error(L.response?.data?.message||"An unexpected error occurred",{duration:3e3}),L.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),L.response?.status==403&&(ye.error("You are not authorized to view this page"),r("/home"))}},G=async T=>{T.preventDefault(),tt.current&&clearInterval(tt.current),oe(!0);try{const L=new FormData;L.append("title",I.title),L.append("slug",I.slug),L.append("category",I.category),L.append("is_active",I.is_active?1:0),L.append("mark_as_hero",I.mark_as_hero?1:0),L.append("content",I.content),L.append("headings",JSON.stringify(I.headings)),I.tags.forEach(z=>{L.append("tags[]",z)}),L.append("_method","put"),I.cover_photo&&L.append("cover_photo",I.cover_photo),await Ge.post(`https://nexus-consults.com/api/public/api/admin/blogs/${I.id}`,L,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}}),oe(!1),ye.success("Blog updated successfully",{duration:2e3}),A(!1),n()}catch(L){oe(!1),ye.error(L.response?.data?.message||"An unexpected error occurred",{duration:3e3}),L.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),L.response?.status==403&&(ye.error("You are not authorized to view this page"),r("/home"))}},_e=async()=>{if(!(ue||!I.title||!I.content)){oe(!0);try{const T=new FormData;T.append("title",I.title),T.append("slug",I.slug),T.append("category",I.category),T.append("is_active",I.is_active?1:0),T.append("mark_as_hero",I.mark_as_hero?1:0),T.append("content",I.content),T.append("headings",JSON.stringify(I.headings)),I.tags.forEach(L=>{T.append("tags[]",L)}),T.append("_method","POST"),I.cover_photo&&T.append("cover_photo",I.cover_photo),await Ge.post(`https://nexus-consults.com/api/public/api/admin/blogs/${I.id}`,T,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}}),ye.success("Auto-saved successfully",{duration:2e3,icon:""})}catch(T){console.error("Auto-save failed:",T)}finally{oe(!1)}}},tt=j.useRef(null);j.useEffect(()=>(E?tt.current=setInterval(()=>{_e()},3e4):tt.current&&clearInterval(tt.current),()=>{tt.current&&clearInterval(tt.current)}),[E,I]);const yt=T=>{const{name:L,value:z}=T.target;Me(J=>({...J,[L]:z}))},Wt=T=>{T.preventDefault(),Ye?Ce.mutate(ze):U.mutate(ze)},Mt=T=>{Re(T.id),Me({question:T.question,answer:T.answer,order:T.order})},zt=()=>{Re(null),Me({question:"",answer:"",order:""})},Xn=T=>{Nt(T),Ze(!0)},On=()=>{St&&(et.mutate(St),Ze(!1),Nt(null))},bn=t?.filter(T=>{const L=p.global===""||T.title.toLowerCase().includes(p.global.toLowerCase())||T.category.toLowerCase().includes(p.global.toLowerCase())||(T.author?.name?T.author.name.toLowerCase().includes(p.global.toLowerCase()):!1),z=p.title===""||T.title.toLowerCase().includes(p.title.toLowerCase()),J=p.category===""||T.category.includes(p.category.toLowerCase()),pe=p.status===""||(p.status==="active"?T.is_active:!T.is_active),ae=p.author===""||(T.author?.name?T.author.name.toLowerCase().includes(p.author.toLowerCase()):!1);let Ie=!0;if(T.created_at){const Je=new Date(T.created_at);if(p.created_from){const Qe=new Date(`${p.created_from}T00:00:00`);Je<Qe&&(Ie=!1)}if(Ie&&p.created_to){const Qe=new Date(`${p.created_to}T23:59:59.999`);Je>Qe&&(Ie=!1)}}return L&&z&&J&&pe&&ae&&Ie})||[],jn=Math.ceil(bn.length/b),gr=bn.slice((y-1)*b,y*b),Jn=T=>{const L={news:"bg-blue-100 text-blue-800",trending:"bg-pink-100 text-pink-800"};return c.jsx("span",{className:`${L[T]||"bg-gray-100 text-gray-800"} text-xs font-medium px-2.5 py-1 rounded capitalize`,children:T})},Y=T=>{const L=T?"bg-[#009379] text-white":"bg-[#930002] text-white";return c.jsx("span",{className:`flex justify-center w-fit items-center px-2.5 py-1 rounded-md text-xs font-medium ${L} min-w-16 text-center`,children:T?"Active":"Inactive"})},Ne=()=>jn<=1?null:c.jsxs("div",{className:"flex justify-between items-center mt-4 px-4 pb-1",children:[c.jsxs("div",{className:"text-xs",children:["Showing ",(y-1)*b+1,"-",Math.min(y*b,bn.length)," of ",bn.length," entries"]}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx("button",{onClick:()=>x(1),disabled:y===1,className:"p-1 disabled:opacity-50",children:c.jsx(Qo,{className:"h-4 w-4"})}),c.jsxs("span",{className:"px-3 py-1",children:["Page ",y," of ",jn]}),c.jsx("button",{onClick:()=>x(T=>Math.min(jn,T+1)),disabled:y===jn,className:"p-1 disabled:opacity-50",children:c.jsx(Zo,{className:"h-4 w-4"})})]})]}),_=({blog:T,onClose:L})=>T?c.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:c.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[c.jsx("div",{className:"fixed inset-0 transition-opacity",onClick:L,children:c.jsx("div",{className:"absolute inset-0 bg-black opacity-75"})}),c.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-5xl m-auto sm:w-full max-h-[90vh] flex flex-col",children:[c.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4 flex-grow overflow-y-auto",children:[c.jsxs("div",{className:"sm:flex sm:items-start justify-between",children:[c.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Blog Preview"}),c.jsx("button",{onClick:L,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:c.jsx(dJ,{className:"h-6 w-6"})})]}),c.jsxs("div",{className:"content-container",children:[c.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 mb-12",children:[c.jsxs("div",{className:"lg:w-1/2 font-bold",children:[c.jsx("span",{className:"text-blue-600 capitalize",children:T.category}),c.jsx("h1",{className:"lg:text-[54px] text-3xl font-extrabold lg:leading-[67px]",children:T.title}),c.jsxs("div",{className:"mt-5",children:[c.jsx("p",{children:"By Admin"}),c.jsxs("div",{className:"flex gap-2 items-center text-sm font-medium mt-3",children:[c.jsx("p",{children:"5 minutes read"}),c.jsx("div",{className:"h-full w-[1px] bg-gray-400"}),c.jsxs("p",{children:["Published ",new Date(T.created_at).toLocaleDateString()]})]})]})]}),c.jsx("div",{className:"lg:w-1/2",children:T.cover_photo&&c.jsx("div",{className:"flex justify-center",children:c.jsx("img",{src:T.cover_photo,alt:"cover photo",className:"w-full max-h-[500px] object-contain rounded-lg"})})})]}),c.jsx("div",{className:"content",dangerouslySetInnerHTML:{__html:T.content}}),T.tags&&T.tags.length>0&&c.jsx("div",{className:"flex flex-wrap gap-3 mt-8",children:T.tags.map((z,J)=>c.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-800 text-sm rounded-full",children:z},J))})]})]}),c.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:c.jsx("button",{type:"button",onClick:L,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",children:"Close Preview"})})]})]})}):null,K=(T,L)=>{i(L?z=>[...z,T]:z=>z.filter(J=>J!==T))},R=T=>{T?(i(bn.map(L=>L.id)),l(!0)):(i([]),l(!1))},[q,re]=j.useState(!1),Le=async()=>{s.length&&re(!0)},ft=async()=>{re(!1);try{f(!0),await Ge.post("https://nexus-consults.com/api/public/api/admin/blogs/bulk/delete",{ids:s},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ye.success(`${s.length} blog(s) deleted successfully`),i([]),l(!1),n()}catch(T){console.error("Error deleting blogs:",T),ye.error(T.response?.data?.message||"Failed to delete blogs")}finally{f(!1)}},nn=async T=>{if(s.length)try{f(!0),await Ge.post("https://nexus-consults.com/api/public/api/admin/blogs/bulk/update-status",{ids:s,status:T},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ye.success(`Status updated for ${s.length} blog(s)`),i([]),l(!1),n()}catch(L){console.error("Error updating blog status:",L),ye.error(L.response?.data?.message||"Failed to update blog status")}finally{f(!1)}};return c.jsxs("div",{className:"shadow-2xl rounded-2xl overflow-hidden bg-white",children:[c.jsxs("div",{className:"p-4 border-b flex justify-between items-center gap-4",children:[c.jsx("input",{type:"text",value:p.global,onChange:T=>lt("global",T.target.value),placeholder:"Search blogs...",className:"px-3 py-2 rounded-xl shadow-sm focus:outline-2 focus:outline-primary w-full border border-primary transition-all"}),c.jsxs("button",{onClick:()=>D(!0),className:"bg-primary hover:bg-darkBlue transition-all text-white px-3 py-2 rounded-xl shadow-sm min-w-max flex items-center gap-2",children:[c.jsx(Ar,{size:18}),c.jsx("span",{children:"Add Blog"})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:a&&bn.length>0,onChange:T=>R(T.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),c.jsx("span",{className:"ml-2",children:"Title"})]})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsx("input",{type:"text",value:p.author,onChange:T=>lt("author",T.target.value),placeholder:"Author",className:"text-xs p-1 border rounded w-full"})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cover Photo"}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsxs("select",{value:p.category,onChange:T=>lt("category",T.target.value),className:"text-xs p-1 border rounded w-full",children:[c.jsx("option",{value:"",children:"All Categories"}),c.jsx("option",{value:"news",children:"News"}),c.jsx("option",{value:"trending",children:"Trending"})]})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsxs("select",{value:p.status,onChange:T=>lt("status",T.target.value),className:"text-xs p-1 border rounded w-full",children:[c.jsx("option",{value:"",children:"All Statuses"}),c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"inactive",children:"Inactive"})]})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsx(Ph,{initialRange:{startDate:p.created_from?new Date(`${p.created_from}T00:00:00`):null,endDate:p.created_to?new Date(`${p.created_to}T00:00:00`):null},onDateChange:({startDate:T,endDate:L})=>{const z=J=>{if(!(J instanceof Date)||isNaN(J))return"";const pe=J.getFullYear(),ae=String(J.getMonth()+1).padStart(2,"0"),Ie=String(J.getDate()).padStart(2,"0");return`${pe}-${ae}-${Ie}`};lt("created_from",T?z(T):""),lt("created_to",L?z(L):"")}})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:e?c.jsx("tr",{children:c.jsx("td",{colSpan:"8",className:"px-3 py-4 text-center",children:c.jsxs("div",{className:"flex justify-center items-center gap-2",children:[c.jsx(wt,{className:"animate-spin",size:18}),"Loading blogs..."]})})}):gr.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"8",className:"px-3 py-4 text-center",children:"No blogs found"})}):gr.map(T=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:s.includes(T.id),onChange:L=>K(T.id,L.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),c.jsx("span",{className:"ml-2 text-sm font-medium text-gray-900",children:T.title})]})}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:T.author?.name||"-"}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:T.cover_photo&&c.jsx("img",{src:T.cover_photo,alt:"Cover",className:"h-10 w-10 object-cover rounded"})}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Jn(T.category)}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Y(T.is_active)}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:T.created_at?new Date(T.created_at).toLocaleDateString():"-"}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center gap-2",children:[jt?.data?.data?.admin?.permissions?.includes("edit_blogs")&&c.jsx("button",{className:"text-blue-500 hover:text-blue-700 p-1",onClick:()=>gt(T),children:c.jsx(ki,{size:18})}),jt?.data?.data?.admin?.permissions?.includes("edit_blogs")&&c.jsx("button",{className:`${T.is_active?"text-green-500 hover:text-green-700":"text-red-500 hover:text-red-700"} p-1`,onClick:()=>kt(T.id,T.is_active),disabled:N===T.id,children:N===T.id?c.jsx(wt,{className:"animate-spin",size:18}):T.is_active?c.jsx(Pr,{}):c.jsx($t,{})}),jt?.data?.data?.admin?.permissions?.includes("delete_blogs")&&c.jsx("button",{className:"text-red-500 hover:text-red-700 p-1",onClick:()=>tn(T.id),disabled:S===T.id,title:"Delete",children:S===T.id?c.jsx(wt,{className:"animate-spin",size:18}):c.jsx(Vn,{size:18})}),c.jsx("button",{className:"text-green-500 hover:text-green-700 p-1",onClick:()=>nt(T),title:"Preview Blog",children:c.jsx(Cu,{size:18})})]})})]},T.id))})]})}),q&&c.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:"bg-white rounded-lg p-6 max-w-md w-full",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Deletion"}),c.jsx("button",{onClick:()=>re(!1),className:"text-gray-500 hover:text-gray-700",children:c.jsx($t,{})})]}),c.jsxs("p",{className:"text-gray-700 mb-6",children:["Are you sure you want to delete ",s.length," selected blog(s)? This action cannot be undone."]}),c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx("button",{onClick:()=>re(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:d,children:"Cancel"}),c.jsx("button",{onClick:ft,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 flex items-center",disabled:d,children:d?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"animate-spin mr-2"}),"Deleting..."]}):"Delete"})]})]})}),s.length>0&&c.jsx("div",{className:"bg-blue-50 p-4 rounded-md mb-6 border border-blue-200",children:c.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[c.jsxs("div",{className:"text-blue-800 font-medium",children:[s.length," blog(s) selected"]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsxs("button",{onClick:()=>nn(!0),disabled:d,className:"flex items-center px-3 py-1.5 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 text-sm",children:[c.jsx(Pr,{className:"mr-1.5"}),"Activate"]}),c.jsxs("button",{onClick:()=>nn(!1),disabled:d,className:"flex items-center px-3 py-1.5 bg-yellow-600 text-white rounded hover:bg-yellow-700 disabled:opacity-50 text-sm",children:[c.jsx($t,{className:"mr-1.5"}),"Deactivate"]}),c.jsxs("button",{onClick:Le,disabled:d,className:"flex items-center px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 text-sm",children:[c.jsx(Vn,{className:"mr-1.5"}),"Delete"]}),c.jsxs("button",{onClick:()=>{i([]),l(!1)},className:"flex items-center px-3 py-1.5 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 text-sm",children:[c.jsx($t,{className:"mr-1.5"}),"Clear Selection"]}),d&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(wt,{className:"animate-spin mr-1.5"}),"Loading..."]})]})]})}),!e&&Ne(),c.jsxs("div",{className:"p-4 border-t",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Drafts"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Drafts are stored locally in your browser"})]}),Ve.length===0?c.jsx("div",{className:"text-sm text-gray-500",children:"No drafts yet"}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full divide-y divide-gray-200 text-sm",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-2 text-left",children:"Title"}),c.jsx("th",{className:"px-4 py-2 text-left",children:"Category"}),c.jsx("th",{className:"px-4 py-2 text-left",children:"Updated"}),c.jsx("th",{className:"px-4 py-2 text-left",children:"Note"}),c.jsx("th",{className:"px-4 py-2 text-left",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:Ve.slice().sort((T,L)=>new Date(L.updatedAt)-new Date(T.updatedAt)).map(T=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-2",children:T.title||c.jsx("span",{className:"italic text-gray-400",children:"Untitled"})}),c.jsx("td",{className:"px-4 py-2 capitalize",children:T.category||"-"}),c.jsx("td",{className:"px-4 py-2",children:new Date(T.updatedAt).toLocaleString()}),c.jsx("td",{className:"px-4 py-2 text-xs text-gray-500",children:T.cover_photo_meta?`Attachment: ${T.cover_photo_meta.name} (re-attach required)`:"No attachment"}),c.jsx("td",{className:"px-4 py-2",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-1",onClick:()=>mt(T),children:[c.jsx(kh,{})," Resume"]}),c.jsx("button",{className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",onClick:()=>Te(T.id),children:"Delete"})]})})]},T.id))})]})})]}),M&&c.jsxs(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 ",children:[c.jsx("button",{onClick:()=>{D(!1);const T=pt();T&&Qt(T)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:c.jsx(ns,{className:"",size:40})}),c.jsxs(Tt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-5/6  h-[90vh] overflow-y-auto",onClick:T=>T.stopPropagation(),children:[c.jsx("div",{className:""}),c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New Blog"}),c.jsxs("form",{onSubmit:Ot,children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title*"}),c.jsx("input",{type:"text",name:"title",value:B.title,onChange:Q,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category*"}),c.jsxs("select",{name:"category",value:B.category,onChange:Q,className:"w-full px-3 py-2 border rounded-md",required:!0,children:[c.jsx("option",{value:"news",children:"News"}),c.jsx("option",{value:"trending",children:"Trending"})]})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug*"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",name:"slug",value:B.slug,onChange:ge,className:"w-full px-3 py-2 border rounded-md",required:!0}),le&&c.jsx("button",{type:"button",onClick:Ee,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",title:"Reset to auto-generated slug",children:c.jsx($t,{})})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:le?"Slug is manually edited. Click the X to reset to auto-generated.":"Slug is auto-generated from title. You can edit it manually."})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cover Photo"}),B.cover_photo?c.jsxs("div",{className:"relative mb-4",children:[c.jsx("img",{src:URL.createObjectURL(B.cover_photo),alt:"Preview",className:"h-48 w-full object-cover rounded-lg"}),c.jsx("button",{type:"button",onClick:()=>se(T=>({...T,cover_photo:null})),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2",children:c.jsx($t,{size:16})})]}):c.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[c.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[c.jsx(sa,{className:"w-8 h-8 mb-3 text-gray-400"}),c.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[c.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),c.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, JPEG (MAX. 5MB)"})]}),c.jsx("input",{id:"cover_photo",name:"cover_photo",type:"file",className:"hidden",onChange:Q,accept:"image/*"})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:B.is_active,onChange:Q,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),c.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700",children:"Active"})]})}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium mb-1",children:"Tags"}),c.jsx(xw,{id:"tags",name:"tags",value:B.tags,onChange:At,placeholder:"Enter tags",className:"w-full p-chips dark:bg-dark2",itemTemplate:T=>c.jsx("div",{className:"bg-gray-200 dark:bg-dark1 rounded-full px-3 py-1 text-sm",children:T})})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content*"}),c.jsx(ui,{content:B.content,onUpdate:T=>se(L=>({...L,content:T})),onHeadingsUpdate:ht})]}),c.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[c.jsxs("div",{className:"text-xs text-gray-500 mt-2 flex items-center",children:[c.jsx(wt,{className:`animate-spin mr-1 ${ue?"opacity-100":"opacity-0"}`,size:12}),"Auto-saves to drafts every 10s"]}),c.jsxs("button",{type:"button",onClick:me,className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[c.jsx($u,{size:16})," Save as Draft"]}),c.jsx("button",{type:"button",onClick:()=>{const T=pt();T&&Qt(T),D(!1),Ct()},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:ue,children:ue?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"animate-spin",size:18}),c.jsx("span",{children:"Adding..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Ar,{size:18}),c.jsx("span",{children:"Add Blog"})]})})]})]})]})]})]}),E&&c.jsxs(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[c.jsx("button",{onClick:()=>{A(!1)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:c.jsx(ns,{className:"",size:40})}),c.jsx(Tt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-5/6 h-[90vh] overflow-y-auto",onClick:T=>T.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("button",{type:"button",onClick:()=>A(!1),className:"text-blue-600 hover:text-blue-800 font-medium",children:"Blogs"}),c.jsx("span",{className:"mx-2 text-gray-400",children:">"}),c.jsx("span",{className:"text-xl font-bold text-gray-900",children:I.title||"Untitled Blog"})]}),c.jsxs("form",{onSubmit:G,children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title*"}),c.jsx("input",{type:"text",name:"title",value:I.title,onChange:$e,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category*"}),c.jsxs("select",{name:"category",value:I.category,onChange:$e,className:"w-full px-3 py-2 border rounded-md",required:!0,children:[c.jsx("option",{value:"news",children:"News"}),c.jsx("option",{value:"trending",children:"Trending"})]})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug*"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",name:"slug",value:I.slug,onChange:Xe,className:"w-full px-3 py-2 border rounded-md",required:!0}),Fe&&c.jsx("button",{type:"button",onClick:vt,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",title:"Reset to auto-generated slug",children:c.jsx($t,{})})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Fe?"Slug is manually edited. Click the X to reset to auto-generated.":"Slug is auto-generated from title. You can edit it manually."})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cover Photo"}),I.cover_photo?c.jsxs("div",{className:"relative mb-4",children:[c.jsx("img",{src:URL.createObjectURL(I.cover_photo),alt:"Preview",className:"h-48 w-full object-cover rounded-lg"}),c.jsx("button",{type:"button",onClick:()=>fe(T=>({...T,cover_photo:null})),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2",children:c.jsx($t,{size:16})})]}):I.existing_cover_photo?c.jsxs("div",{className:"relative mb-4",children:[c.jsx("img",{src:I.existing_cover_photo,alt:"Current Cover",className:"h-48 w-full object-cover rounded-lg"}),c.jsx("button",{type:"button",onClick:()=>fe(T=>({...T,existing_cover_photo:null})),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2",children:c.jsx($t,{size:16})})]}):c.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[c.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[c.jsx(sa,{className:"w-8 h-8 mb-3 text-gray-400"}),c.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[c.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),c.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, JPEG (MAX. 5MB)"})]}),c.jsx("input",{id:"edit_cover_photo",name:"cover_photo",type:"file",className:"hidden",onChange:$e,accept:"image/*"})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"edit_is_active",name:"is_active",checked:I.is_active,onChange:$e,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),c.jsx("label",{htmlFor:"edit_is_active",className:"ml-2 text-sm text-gray-700",children:"Active"})]})}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium mb-1",children:"tags"}),c.jsx(xw,{id:"tags",name:"tags",value:I.tags,onChange:ct,placeholder:"Enter tags",className:"w-full p-chips dark:bg-dark2",itemTemplate:T=>c.jsx("div",{className:"bg-gray-200 dark:bg-dark1 rounded-full px-3 py-1 text-sm",children:T})})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content"}),c.jsx(ui,{content:I.content,onUpdate:T=>fe(L=>({...L,content:T})),onHeadingsUpdate:rt})]}),c.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[c.jsxs("div",{className:"text-xs text-gray-500 mt-2 flex items-center",children:[c.jsx(wt,{className:`animate-spin mr-1 ${ue?"opacity-100":"opacity-0"}`,size:12}),ue?"Auto-saving...":"Form will auto-save every 30 seconds"]}),c.jsx("button",{type:"button",onClick:()=>{A(!1),n()},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:ue,children:ue?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"animate-spin",size:18}),c.jsx("span",{children:"Updating..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Pr,{size:18}),c.jsx("span",{children:"Update Blog"})]})})]})]})]})})]}),F&&c.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>H(!1),children:c.jsx(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:T=>T.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:c.jsx(Vn,{className:"h-5 w-5 text-red-600"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Blog"}),c.jsx("div",{className:"mt-2",children:c.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this blog? This action cannot be undone."})})]})]}),c.jsxs("div",{className:"mt-5 flex justify-end gap-3",children:[c.jsx("button",{type:"button",onClick:()=>H(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{type:"button",onClick:Nn,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})})}),de&&c.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>{ie(!1),ke(null),Re(null),Me({question:"",answer:"",order:""})},children:c.jsx(Tt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",onClick:T=>T.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-xl font-bold mb-4",children:"Manage FAQs"}),c.jsxs("form",{onSubmit:Wt,className:"mb-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question*"}),c.jsx("input",{type:"text",name:"question",value:ze.question,onChange:yt,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order*"}),c.jsx("input",{type:"number",name:"order",value:ze.order,onChange:yt,className:"w-full px-3 py-2 border rounded-md",required:!0})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Answer*"}),c.jsx("textarea",{name:"answer",value:ze.answer,onChange:yt,className:"w-full px-3 py-2 border rounded-md",rows:"3",required:!0})]}),c.jsxs("div",{className:"flex justify-end gap-3",children:[Ye&&c.jsx("button",{type:"button",onClick:zt,className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:U.isPending||Ce.isPending,children:U.isPending||Ce.isPending?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"animate-spin",size:18}),c.jsx("span",{children:Ye?"Updating...":"Adding..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Pr,{size:18}),c.jsx("span",{children:Ye?"Update FAQ":"Add FAQ"})]})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium mb-2",children:"Existing FAQs"}),we?.length===0?c.jsx("p",{className:"text-gray-500",children:"No FAQs found for this blog."}):c.jsx("div",{className:"space-y-4",children:we?.map(T=>c.jsx("div",{className:"border rounded-lg p-4",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:T.question}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:T.answer}),c.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Order: ",T.order]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>Mt(T),className:"text-blue-500 hover:text-blue-700 p-1",children:c.jsx(ki,{size:16})}),c.jsx("button",{onClick:()=>Xn(T.id),className:"text-red-500 hover:text-red-700 p-1",disabled:et.isPending,children:et.isPending&&et.variables===T.id?c.jsx(wt,{className:"animate-spin",size:16}):c.jsx(Vn,{size:16})})]})]})},T.id))})]}),c.jsx("div",{className:"flex justify-end mt-6",children:c.jsx("button",{type:"button",onClick:()=>{ie(!1),ke(null),Re(null),Me({question:"",answer:"",order:""})},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Close"})})]})})}),ut&&c.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>Ze(!1),children:c.jsx(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:T=>T.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:c.jsx(Vn,{className:"h-5 w-5 text-red-600"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete FAQ"}),c.jsx("div",{className:"mt-2",children:c.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this FAQ? This action cannot be undone."})})]})]}),c.jsxs("div",{className:"mt-5 flex justify-end gap-3",children:[c.jsx("button",{type:"button",onClick:()=>Ze(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{type:"button",onClick:On,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",disabled:et.isPending,children:et.isPending?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"animate-spin mr-2"}),"Deleting..."]}):"Delete"})]})]})})}),c.jsx(yW,{children:Ft&&c.jsx(_,{blog:Ft,onClose:()=>nt(null)})})]})}function Lle(){const t=Hn();function e(){return Ge.get("https://nexus-consults.com/api/public/api/admin/blogs",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}const{data:n,isLoading:r,refetch:s,isError:i,error:a}=Cn({queryKey:["blogs"],queryFn:e});return j.useEffect(()=>{i&&(a.response?.status==401&&(localStorage.removeItem("userToken"),t("/login")),a.response?.status==403&&(ye.error("You are not authorized to view this page"),t("/home")))},[i]),c.jsxs("div",{className:"p-4",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Blogs"}),c.jsx(_le,{blogs:n?.data?.data||[],loading:r,refetch:s})]})}function Ple({jobs:t,loading:e,refetch:n}){const r=Hn(),s=Li(),[i,a]=j.useState([]),[l,d]=j.useState(!1),[f,p]=j.useState(!1),[m,y]=j.useState({global:"",title:"",location:"",type:"",status:"",author:"",created_from:"",created_to:""}),[x,b]=j.useState(1),[S]=j.useState(10),[C,N]=j.useState(null),[k,M]=j.useState(null),[D,E]=j.useState(!1),[A,F]=j.useState(!1),[H,Z]=j.useState(!1),[ve,ue]=j.useState(null),[oe,te]=j.useState(!1),[ne,xe]=j.useState(!1),[W,le]=j.useState(!1),[be,Fe]=j.useState(null),$="jobDrafts",[de,ie]=j.useState([]),[he,ke]=j.useState(null),[ze,Me]=j.useState({title:"",slug:"",location:"",type:"full-time",key_responsibilities:"",preferred_qualifications:"",is_active:!0}),[Ye,Re]=j.useState({id:null,title:"",slug:"",location:"",type:"full-time",key_responsibilities:"",preferred_qualifications:"",is_active:!0}),ut=[{value:"full-time",label:"Full Time"},{value:"part-time",label:"Part Time"},{value:"contract",label:"Contract"},{value:"freelance",label:"Freelance"},{value:"internship",label:"Internship"}],{data:Ze,isLoading:St}=Cn({queryKey:["currentUser"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}),{data:Nt,isLoading:Ft,refetch:nt}=Cn({queryKey:["job",be],queryFn:()=>be?Ge.get(`https://nexus-consults.com/api/public/api/admin/jobs/${be}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}).then(G=>G.data.data):Promise.resolve(null),enabled:!!be,staleTime:5*60*1e3}),ee="jobDrafts_beforeunload_fallback",Ve=async()=>{try{const G=await la.getItem($),_e=Array.isArray(G)?G:[];ie(_e);const tt=localStorage.getItem(ee);if(tt){try{const yt=JSON.parse(tt);yt&&typeof yt=="object"&&at(yt)}catch{}localStorage.removeItem(ee)}}catch{}},qe=async G=>{try{await la.setItem($,G)}catch(_e){console.error("Persist drafts failed",_e),ye.error("Could not save drafts locally")}},at=async G=>{ie(_e=>{const tt=_e.findIndex(Mt=>Mt.id===G.id);let yt=[..._e];const Wt=new Date().toISOString();if(tt>=0)yt[tt]={..._e[tt],...G,updatedAt:Wt};else{const Mt=G.slug?_e.findIndex(zt=>zt.slug===G.slug&&zt.slug):-1;Mt>=0?yt[Mt]={..._e[Mt],...G,id:_e[Mt].id,updatedAt:Wt}:yt.push({...G,updatedAt:Wt})}return yt.length>20&&(yt=yt.slice().sort((Mt,zt)=>new Date(zt.updatedAt)-new Date(Mt.updatedAt)).slice(0,20)),qe(yt),yt})},bt=async G=>{ie(_e=>{const tt=_e.filter(yt=>yt.id!==G);return qe(tt),tt}),he===G&&ke(null)},B=async G=>{G&&ie(_e=>{const tt=_e.filter(yt=>yt.slug!==G);return qe(tt),tt})};j.useEffect(()=>{Ve()},[]);const se=()=>{if(!(ze.title&&ze.title.trim()!==""||ze.key_responsibilities&&ze.key_responsibilities.trim()!==""||ze.preferred_qualifications&&ze.preferred_qualifications.trim()!==""))return null;let _e=he;if(!_e&&ze.slug){const tt=de.find(yt=>yt.slug===ze.slug);tt&&(_e=tt.id)}return{id:_e||`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,title:ze.title,slug:ze.slug,location:ze.location,type:ze.type,key_responsibilities:ze.key_responsibilities,preferred_qualifications:ze.preferred_qualifications,is_active:ze.is_active}},I=()=>{const G=se();G&&(ke(G.id),at(G),ye.success("Draft saved locally"))},fe=G=>{Me({title:G.title||"",slug:G.slug||"",location:G.location||"",type:G.type||"full-time",key_responsibilities:G.key_responsibilities||"",preferred_qualifications:G.preferred_qualifications||"",is_active:G.is_active??!0}),xe(!0),E(!0),ye("Draft loaded")},we=j.useRef(null),V=j.useRef("");j.useEffect(()=>{if(D){we.current=setInterval(()=>{const _e=se();if(_e){const tt=JSON.stringify({title:_e.title,location:_e.location,type:_e.type,key_responsibilities:_e.key_responsibilities,preferred_qualifications:_e.preferred_qualifications});tt!==V.current&&(ke(yt=>yt||_e.id),at(_e),V.current=tt)}},5e3);const G=()=>{const _e=se();if(_e){at(_e);try{localStorage.setItem(ee,JSON.stringify(_e))}catch{}}};return window.addEventListener("beforeunload",G),()=>{we.current&&clearInterval(we.current),window.removeEventListener("beforeunload",G)}}else we.current&&clearInterval(we.current),V.current=""},[D]);const U=G=>G.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),Ce=(G,_e)=>{y(tt=>({...tt,[G]:_e})),b(1)},et=async(G,_e)=>{M(G);try{await Ge.patch(`https://nexus-consults.com/api/public/api/admin/jobs/${G}/toggle-active`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ye.success(`Job ${_e?"deactivated":"activated"} successfully`,{duration:2e3}),n()}catch(tt){ye.error(tt.response?.data?.message||"An unexpected error occurred",{duration:3e3}),tt.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),tt.response?.status==403&&(ye.error("You are not authorized to view this page"),r("/home"))}finally{M(null)}},ht=G=>{ue(G),Z(!0)},Jt=async()=>{if(ve){N(ve),Z(!1);try{await Ge.delete(`https://nexus-consults.com/api/public/api/admin/jobs/${ve}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ye.success("Job deleted successfully",{duration:2e3}),n()}catch(G){ye.error(G.response?.data?.message||"An unexpected error occurred",{duration:3e3}),G.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),G.response?.status==403&&(ye.error("You are not authorized to view this page"),r("/home"))}finally{N(null),ue(null)}}},Pt=G=>{const{name:_e,value:tt,type:yt,checked:Wt}=G.target;if(Me(Mt=>({...Mt,[_e]:yt==="checkbox"?Wt:tt})),_e==="title"&&!ne){const Mt=U(tt);Me(zt=>({...zt,slug:Mt}))}},an=G=>{const{value:_e}=G.target;Me(tt=>({...tt,slug:_e})),xe(!0)},Qt=()=>{const G=U(ze.title);Me(_e=>({..._e,slug:G})),xe(!1)},Te=G=>{const{name:_e,value:tt,type:yt,checked:Wt}=G.target;if(Re(Mt=>({...Mt,[_e]:yt==="checkbox"?Wt:tt})),_e==="title"&&!W){const Mt=U(tt);Re(zt=>({...zt,slug:Mt}))}},ot=G=>{const{value:_e}=G.target;Re(tt=>({...tt,slug:_e})),le(!0)},pt=()=>{const G=U(Ye.title);Re(_e=>({..._e,slug:G})),le(!1)},me=G=>{Me(_e=>({..._e,key_responsibilities:G}))},mt=G=>{Me(_e=>({..._e,preferred_qualifications:G}))},Lt=G=>{Re(_e=>({..._e,key_responsibilities:G}))},rt=G=>{Re(_e=>({..._e,preferred_qualifications:G}))},Ae=()=>{Me({title:"",slug:"",location:"",type:"full-time",key_responsibilities:"",preferred_qualifications:"",is_active:!0}),xe(!1)},lt=G=>{Fe(G.id)};j.useEffect(()=>{Nt&&be&&(Re({id:Nt.id,title:Nt.title,slug:Nt.slug,location:Nt.location,type:Nt.type,key_responsibilities:Nt.key_responsibilities,preferred_qualifications:Nt.preferred_qualifications,is_active:Nt.is_active}),le(!0),F(!0))},[Nt,be]);const jt=async G=>{G.preventDefault(),te(!0);try{await Ge.post("https://nexus-consults.com/api/public/api/admin/jobs",ze,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"application/json"}}),te(!1),ye.success("Job added successfully",{duration:2e3}),E(!1),Ae(),n(),B(ze.slug),ke(null)}catch(_e){te(!1),ye.error(_e.response?.data?.message||"An unexpected error occurred",{duration:3e3}),_e.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),_e.response?.status==403&&(ye.error("You are not authorized to view this page"),r("/home"))}},Et=async G=>{G.preventDefault(),te(!0);try{await Ge.post(`https://nexus-consults.com/api/public/api/admin/jobs/${Ye.id}`,Ye,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"application/json"}}),te(!1),ye.success("Job updated successfully",{duration:2e3}),F(!1),Fe(null),n(),s.invalidateQueries(["job",Ye.id])}catch(_e){te(!1),ye.error(_e.response?.data?.message||"An unexpected error occurred",{duration:3e3}),_e.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),_e.response?.status==403&&(ye.error("You are not authorized to view this page"),r("/home"))}},kt=t?.filter(G=>{const _e=m.global===""||G.title.toLowerCase().includes(m.global.toLowerCase())||G.location.toLowerCase().includes(m.global.toLowerCase())||(G.author?.name?G.author.name.toLowerCase().includes(m.global.toLowerCase()):!1),tt=m.title===""||G.title.toLowerCase().includes(m.title.toLowerCase()),yt=m.location===""||G.location.toLowerCase().includes(m.location.toLowerCase()),Wt=m.type===""||G.type===m.type,Mt=m.status===""||(m.status==="active"?G.is_active:!G.is_active),zt=m.author===""||(G.author?.name?G.author.name.toLowerCase().includes(m.author.toLowerCase()):!1);let Xn=!0;if(G.created_at){const On=new Date(G.created_at);if(m.created_from){const bn=new Date(`${m.created_from}T00:00:00`);On<bn&&(Xn=!1)}if(Xn&&m.created_to){const bn=new Date(`${m.created_to}T23:59:59.999`);On>bn&&(Xn=!1)}}return _e&&tt&&yt&&Wt&&Mt&&zt&&Xn})||[],tn=Math.ceil(kt.length/S),Nn=kt.slice((x-1)*S,x*S),Q=G=>{const _e=G?"bg-[#009379] text-white":"bg-[#930002] text-white";return c.jsx("span",{className:`flex justify-center w-fit items-center px-2.5 py-1 rounded-md text-xs font-medium ${_e} min-w-16 text-center`,children:G?"Active":"Inactive"})},ge=G=>{const tt={"full-time":{color:"bg-blue-100 text-blue-800",label:"Full Time"},"part-time":{color:"bg-green-100 text-green-800",label:"Part Time"},contract:{color:"bg-purple-100 text-purple-800",label:"Contract"},freelance:{color:"bg-orange-100 text-orange-800",label:"Freelance"},internship:{color:"bg-pink-100 text-pink-800",label:"Internship"}}[G]||{color:"bg-gray-100 text-gray-800",label:G};return c.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${tt.color}`,children:[c.jsx(VD,{className:"mr-1",size:10}),tt.label]})},Ee=G=>{const _e=G||0,tt=_e>0?"bg-green-100 text-green-800 border-green-200":"bg-gray-100 text-gray-600 border-gray-200";return c.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium border ${tt}`,children:[c.jsx(qD,{size:10}),_e]})},$e=()=>tn<=1?null:c.jsxs("div",{className:"flex justify-between items-center mt-4 px-4 pb-1",children:[c.jsxs("div",{className:"text-xs",children:["Showing ",(x-1)*S+1,"-",Math.min(x*S,kt.length)," of ",kt.length," entries"]}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx("button",{onClick:()=>b(1),disabled:x===1,className:"p-1 disabled:opacity-50",children:c.jsx(Qo,{className:"h-4 w-4"})}),c.jsxs("span",{className:"px-3 py-1",children:["Page ",x," of ",tn]}),c.jsx("button",{onClick:()=>b(G=>Math.min(tn,G+1)),disabled:x===tn,className:"p-1 disabled:opacity-50",children:c.jsx(Zo,{className:"h-4 w-4"})})]})]}),Xe=(G,_e)=>{a(_e?tt=>[...tt,G]:tt=>tt.filter(yt=>yt!==G))},vt=G=>{G?(a(kt.map(_e=>_e.id)),d(!0)):(a([]),d(!1))},[At,ct]=j.useState(!1),Ct=async()=>{i.length&&ct(!0)},gt=async()=>{ct(!1);try{p(!0),await Ge.post("https://nexus-consults.com/api/public/api/admin/jobs/bulk/delete",{ids:i},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ye.success(`${i.length} job(s) deleted successfully`),a([]),d(!1),n()}catch(G){console.error("Error deleting jobs:",G),ye.error(G.response?.data?.message||"Failed to delete jobs")}finally{p(!1)}},Ot=async G=>{if(i.length)try{p(!0),await Ge.post("https://nexus-consults.com/api/public/api/admin/jobs/bulk/update-status",{ids:i,status:G},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ye.success(`Status updated for ${i.length} job(s)`),a([]),d(!1),n()}catch(_e){console.error("Error updating job status:",_e),ye.error(_e.response?.data?.message||"Failed to update job status")}finally{p(!1)}};return c.jsxs("div",{className:"shadow-2xl rounded-2xl overflow-hidden bg-white",children:[c.jsxs("div",{className:"p-4 border-b flex justify-between items-center gap-4",children:[c.jsx("input",{type:"text",value:m.global,onChange:G=>Ce("global",G.target.value),placeholder:"Search jobs...",className:"px-3 py-2 rounded-xl shadow-sm focus:outline-2 focus:outline-primary w-full border border-primary transition-all"}),Ze?.data?.data?.admin?.permissions?.includes("create_jobs")&&c.jsxs("button",{onClick:()=>{E(!0),Ae()},className:"bg-primary hover:bg-darkBlue transition-all text-white px-3 py-2 rounded-xl shadow-sm min-w-max flex items-center gap-2",children:[c.jsx(Ar,{size:18}),c.jsx("span",{children:"Add Job"})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:l&&kt.length>0,onChange:G=>vt(G.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),c.jsx("span",{className:"ml-2",children:"Title"})]})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsx("input",{type:"text",value:m.author,onChange:G=>Ce("author",G.target.value),placeholder:"Author",className:"text-xs p-1 border rounded w-full"})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsx("input",{type:"text",value:m.location,onChange:G=>Ce("location",G.target.value),placeholder:"Location",className:"text-xs p-1 border rounded w-full"})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsxs("select",{value:m.type,onChange:G=>Ce("type",G.target.value),className:"text-xs p-1 border rounded w-full",children:[c.jsx("option",{value:"",children:"All Types"}),ut.map(G=>c.jsx("option",{value:G.value,children:G.label},G.value))]})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Applications"}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsxs("select",{value:m.status,onChange:G=>Ce("status",G.target.value),className:"text-xs p-1 border rounded w-full",children:[c.jsx("option",{value:"",children:"All Statuses"}),c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"inactive",children:"Inactive"})]})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsx(Ph,{initialRange:{startDate:m.created_from?new Date(`${m.created_from}T00:00:00`):null,endDate:m.created_to?new Date(`${m.created_to}T00:00:00`):null},onDateChange:({startDate:G,endDate:_e})=>{const tt=yt=>{if(!(yt instanceof Date)||isNaN(yt))return"";const Wt=yt.getFullYear(),Mt=String(yt.getMonth()+1).padStart(2,"0"),zt=String(yt.getDate()).padStart(2,"0");return`${Wt}-${Mt}-${zt}`};Ce("created_from",G?tt(G):""),Ce("created_to",_e?tt(_e):"")}})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:e?c.jsx("tr",{children:c.jsx("td",{colSpan:"8",className:"px-3 py-4 text-center",children:c.jsxs("div",{className:"flex justify-center items-center gap-2",children:[c.jsx(wt,{className:"animate-spin",size:18}),"Loading jobs..."]})})}):Nn.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"8",className:"px-3 py-4 text-center",children:"No jobs found"})}):Nn.map(G=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:i.includes(G.id),onChange:_e=>Xe(G.id,_e.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),c.jsx("span",{className:"ml-2 text-sm font-medium text-gray-900",children:G.title})]})}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:G.author?.name||"-"}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(aJ,{className:"text-gray-400",size:12}),G.location]})}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:ge(G.type)}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Ee(G.applications_count)}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Q(G.is_active)}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:G.created_at?new Date(G.created_at).toLocaleDateString():"-"}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center gap-2",children:[Ze?.data?.data?.admin?.permissions?.includes("edit_jobs")&&c.jsx("button",{className:"text-blue-500 hover:text-blue-700 p-1",onClick:()=>lt(G),disabled:Ft,children:Ft&&be===G.id?c.jsx(wt,{className:"animate-spin",size:18}):c.jsx(ki,{size:18})}),c.jsx("button",{className:`${G.is_active?"text-green-500 hover:text-green-700":"text-red-500 hover:text-red-700"} p-1`,onClick:()=>et(G.id,G.is_active),disabled:k===G.id,children:k===G.id?c.jsx(wt,{className:"animate-spin",size:18}):G.is_active?c.jsx(Pr,{}):c.jsx($t,{})}),Ze?.data?.data?.admin?.permissions?.includes("delete_jobs")&&c.jsx("button",{className:"text-red-500 hover:text-red-700 p-1",onClick:()=>ht(G.id),disabled:C===G.id,title:"Delete",children:C===G.id?c.jsx(wt,{className:"animate-spin",size:18}):c.jsx(Vn,{size:18})})]})})]},G.id))})]})}),At&&c.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:"bg-white rounded-lg p-6 max-w-md w-full",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Deletion"}),c.jsx("button",{onClick:()=>ct(!1),className:"text-gray-500 hover:text-gray-700",children:c.jsx($t,{})})]}),c.jsxs("p",{className:"text-gray-700 mb-6",children:["Are you sure you want to delete ",i.length," selected job(s)? This action cannot be undone."]}),c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx("button",{onClick:()=>ct(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:f,children:"Cancel"}),c.jsx("button",{onClick:gt,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 flex items-center",disabled:f,children:f?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"animate-spin mr-2"}),"Deleting..."]}):"Delete"})]})]})}),i.length>0&&c.jsx("div",{className:"bg-blue-50 p-4 rounded-md mb-6 border border-blue-200",children:c.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[c.jsxs("div",{className:"text-blue-800 font-medium",children:[i.length," job(s) selected"]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsxs("button",{onClick:()=>Ot(!0),disabled:f,className:"flex items-center px-3 py-1.5 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 text-sm",children:[c.jsx(Pr,{className:"mr-1.5"}),"Activate"]}),c.jsxs("button",{onClick:()=>Ot(!1),disabled:f,className:"flex items-center px-3 py-1.5 bg-yellow-600 text-white rounded hover:bg-yellow-700 disabled:opacity-50 text-sm",children:[c.jsx($t,{className:"mr-1.5"}),"Deactivate"]}),c.jsxs("button",{onClick:Ct,disabled:f,className:"flex items-center px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 text-sm",children:[c.jsx(Vn,{className:"mr-1.5"}),"Delete"]}),c.jsxs("button",{onClick:()=>{a([]),d(!1)},className:"flex items-center px-3 py-1.5 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 text-sm",children:[c.jsx($t,{className:"mr-1.5"}),"Clear Selection"]}),f&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(wt,{className:"animate-spin mr-1.5"}),"Loading..."]})]})]})}),!e&&$e(),c.jsxs("div",{className:"p-4 border-t",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Drafts"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Drafts are stored locally in your browser"})]}),de.length===0?c.jsx("div",{className:"text-sm text-gray-500",children:"No drafts yet"}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full divide-y divide-gray-200 text-sm",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-2 text-left",children:"Title"}),c.jsx("th",{className:"px-4 py-2 text-left",children:"Location"}),c.jsx("th",{className:"px-4 py-2 text-left",children:"Type"}),c.jsx("th",{className:"px-4 py-2 text-left",children:"Updated"}),c.jsx("th",{className:"px-4 py-2 text-left",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:de.slice().sort((G,_e)=>new Date(_e.updatedAt)-new Date(G.updatedAt)).map(G=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-2",children:G.title||c.jsx("span",{className:"italic text-gray-400",children:"Untitled"})}),c.jsx("td",{className:"px-4 py-2",children:G.location||"-"}),c.jsx("td",{className:"px-4 py-2",children:ut.find(_e=>_e.value===G.type)?.label||G.type}),c.jsx("td",{className:"px-4 py-2",children:new Date(G.updatedAt).toLocaleString()}),c.jsx("td",{className:"px-4 py-2",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-1",onClick:()=>fe(G),children:[c.jsx(kh,{})," Resume"]}),c.jsx("button",{className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",onClick:()=>bt(G.id),children:"Delete"})]})})]},G.id))})]})})]}),D&&c.jsxs(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 ",children:[c.jsx("button",{onClick:()=>{E(!1);const G=se();G&&at(G)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:c.jsx(ns,{className:"",size:40})}),c.jsx(Tt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-4/5 h-[90vh] overflow-y-auto",onClick:G=>G.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New Job"}),c.jsxs("form",{onSubmit:jt,children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title*"}),c.jsx("input",{type:"text",name:"title",value:ze.title,onChange:Pt,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location*"}),c.jsx("input",{type:"text",name:"location",value:ze.location,onChange:Pt,className:"w-full px-3 py-2 border rounded-md",required:!0})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug*"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",name:"slug",value:ze.slug,onChange:an,className:"w-full px-3 py-2 border rounded-md",required:!0}),ne&&c.jsx("button",{type:"button",onClick:Qt,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",title:"Reset to auto-generated slug",children:c.jsx($t,{})})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ne?"Slug is manually edited. Click the X to reset to auto-generated.":"Slug is auto-generated from title. You can edit it manually."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Type*"}),c.jsx("select",{name:"type",value:ze.type,onChange:Pt,className:"w-full px-3 py-2 border rounded-md",required:!0,children:ut.map(G=>c.jsx("option",{value:G.value,children:G.label},G.value))})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:ze.is_active,onChange:Pt,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),c.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700",children:"Active"})]})]}),c.jsxs("div",{className:"p-4 border rounded-lg mb-4",children:[c.jsx("h3",{className:"text-lg font-medium mb-4",children:"Key Responsibilities*"}),c.jsx("div",{className:"mb-4",children:c.jsx(ui,{content:ze.key_responsibilities,onUpdate:me})})]}),c.jsxs("div",{className:"p-4 border rounded-lg mb-4",children:[c.jsx("h3",{className:"text-lg font-medium mb-4",children:"Preferred Qualifications*"}),c.jsx("div",{className:"mb-4",children:c.jsx(ui,{content:ze.preferred_qualifications,onUpdate:mt})})]}),c.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[c.jsxs("div",{className:"text-xs text-gray-500 mt-2 flex items-center",children:[c.jsx(wt,{className:`animate-spin mr-1 ${oe?"opacity-100":"opacity-0"}`,size:12}),"Auto-saves to drafts every 5s"]}),c.jsxs("button",{type:"button",onClick:I,className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[c.jsx($u,{size:16})," Save as Draft"]}),c.jsx("button",{type:"button",onClick:()=>{const G=se();G&&at(G),E(!1),Ae()},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:oe,children:oe?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"animate-spin",size:18}),c.jsx("span",{children:"Adding..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Ar,{size:18}),c.jsx("span",{children:"Add Job"})]})})]})]})]})})]}),A&&c.jsxs(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[c.jsx("button",{onClick:()=>{F(!1),Fe(null)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:c.jsx(ns,{className:"",size:40})}),c.jsx(Tt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-4/5 h-[90vh] overflow-y-auto",onClick:G=>G.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("button",{type:"button",onClick:()=>{F(!1),Fe(null)},className:"text-blue-600 hover:text-blue-800 font-medium",children:"Jobs"}),c.jsx("span",{className:"mx-2 text-gray-400",children:">"}),c.jsx("span",{className:"text-xl font-bold text-gray-900",children:Ye.title||"Untitled Job"}),Ft&&c.jsxs("div",{className:"ml-4 flex items-center text-sm text-gray-500",children:[c.jsx(wt,{className:"animate-spin mr-2",size:14}),"Loading job data..."]})]}),Ft?c.jsxs("div",{className:"flex justify-center items-center py-8",children:[c.jsx(wt,{className:"animate-spin mr-2",size:24}),c.jsx("span",{children:"Loading job data..."})]}):c.jsxs("form",{onSubmit:Et,children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title*"}),c.jsx("input",{type:"text",name:"title",value:Ye.title,onChange:Te,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location*"}),c.jsx("input",{type:"text",name:"location",value:Ye.location,onChange:Te,className:"w-full px-3 py-2 border rounded-md",required:!0})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug*"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",name:"slug",value:Ye.slug,onChange:ot,className:"w-full px-3 py-2 border rounded-md",required:!0}),W&&c.jsx("button",{type:"button",onClick:pt,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",title:"Reset to auto-generated slug",children:c.jsx($t,{})})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:W?"Slug is manually edited. Click the X to reset to auto-generated.":"Slug is auto-generated from title. You can edit it manually."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Type*"}),c.jsx("select",{name:"type",value:Ye.type,onChange:Te,className:"w-full px-3 py-2 border rounded-md",required:!0,children:ut.map(G=>c.jsx("option",{value:G.value,children:G.label},G.value))})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"edit_is_active",name:"is_active",checked:Ye.is_active,onChange:Te,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),c.jsx("label",{htmlFor:"edit_is_active",className:"ml-2 text-sm text-gray-700",children:"Active"})]})]}),c.jsxs("div",{className:"p-4 border rounded-lg mb-4",children:[c.jsx("h3",{className:"text-lg font-medium mb-4",children:"Key Responsibilities*"}),c.jsx("div",{className:"mb-4",children:c.jsx(ui,{content:Ye.key_responsibilities,onUpdate:Lt})})]}),c.jsxs("div",{className:"p-4 border rounded-lg mb-4",children:[c.jsx("h3",{className:"text-lg font-medium mb-4",children:"Preferred Qualifications*"}),c.jsx("div",{className:"mb-4",children:c.jsx(ui,{content:Ye.preferred_qualifications,onUpdate:rt})})]}),c.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[c.jsx("button",{type:"button",onClick:()=>{F(!1),Fe(null)},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:oe,children:oe?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"animate-spin",size:18}),c.jsx("span",{children:"Updating..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Pr,{size:18}),c.jsx("span",{children:"Update Job"})]})})]})]})]})})]}),H&&c.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>Z(!1),children:c.jsx(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:G=>G.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:c.jsx(Vn,{className:"h-5 w-5 text-red-600"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Job"}),c.jsx("div",{className:"mt-2",children:c.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this job? This action cannot be undone."})})]})]}),c.jsxs("div",{className:"mt-5 flex justify-end gap-3",children:[c.jsx("button",{type:"button",onClick:()=>Z(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{type:"button",onClick:Jt,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})})})]})}function zle(){const t=Hn();function e(){return Ge.get("https://nexus-consults.com/api/public/api/admin/jobs",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}const{data:n,isLoading:r,refetch:s,isError:i,error:a}=Cn({queryKey:["jobs"],queryFn:e});return j.useEffect(()=>{i&&(a.response?.status==401&&(localStorage.removeItem("userToken"),t("/login")),a.response?.status==403&&(ye.error("You are not authorized to view this page"),t("/home")))},[i]),c.jsxs("div",{className:"p-4",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Jobs"}),c.jsx(Ple,{jobs:n?.data?.data||[],loading:r,refetch:s})]})}function Ile({applications:t,loading:e,refetch:n}){const r=Hn();Li();const[s,i]=j.useState([]),[a,l]=j.useState(!1),[d,f]=j.useState(!1),[p,m]=j.useState({global:"",applicant_name:"",applicant_email:"",job_title:"",status:"",created_from:"",created_to:""}),[y,x]=j.useState(1),[b]=j.useState(10),[S,C]=j.useState(null),[N,k]=j.useState(!1),[M,D]=j.useState(null),[E,A]=j.useState(!1),[F,H]=j.useState(null),[Z,ve]=j.useState(!1),[ue,oe]=j.useState(!1),[te,ne]=j.useState(!1),[xe,W]=j.useState(!1),[le,be]=j.useState({status:""}),[Fe,$]=j.useState({notes:""}),{data:de}=Cn({queryKey:["applicationStatusOptions"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/job-applications/status-options",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}).then(U=>U.data.data),staleTime:5*60*1e3}),{data:ie}=Cn({queryKey:["currentUser"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}),{data:he,isLoading:ke,refetch:ze}=Cn({queryKey:["application",F],queryFn:()=>F?Ge.get(`https://nexus-consults.com/api/public/api/admin/job-applications/${F}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}).then(U=>U.data.data):Promise.resolve(null),enabled:!!F}),Me=[...new Set(t?.map(U=>U.job?.title).filter(Boolean))],Ye=(U,Ce)=>{m(et=>({...et,[U]:Ce})),x(1)},Re=U=>{D(U),k(!0)},ut=async()=>{if(M){C(M),k(!1);try{await Ge.delete(`https://nexus-consults.com/api/public/api/admin/job-applications/${M}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ye.success("Application deleted successfully",{duration:2e3}),n()}catch(U){ye.error(U.response?.data?.message||"An unexpected error occurred",{duration:3e3}),U.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),U.response?.status==403&&(ye.error("You are not authorized to view this page"),r("/home"))}finally{C(null),D(null)}}},Ze=U=>{H(U),A(!0)},St=U=>{H(U),be({status:""}),ve(!0)},Nt=U=>{H(U),$({notes:he?.admin_notes||""}),oe(!0)},Ft=di({mutationFn:({applicationId:U,status:Ce})=>Ge.patch(`https://nexus-consults.com/api/public/api/admin/job-applications/${U}/status`,{status:Ce},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),onSuccess:()=>{ye.success("Status updated successfully"),ve(!1),n(),ze()},onError:U=>{ye.error(U.response?.data?.message||"Failed to update status"),U.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),U.response?.status==403&&ye.error("You are not authorized to perform this action")}}),nt=di({mutationFn:({applicationId:U,notes:Ce})=>Ge.patch(`https://nexus-consults.com/api/public/api/admin/job-applications/${U}/notes`,{admin_notes:Ce},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),onSuccess:()=>{ye.success("Notes updated successfully"),oe(!1),ze()},onError:U=>{ye.error(U.response?.data?.message||"Failed to update notes"),U.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),U.response?.status==403&&ye.error("You are not authorized to perform this action")}}),ee=async U=>{try{const Ce=await Ge.get(`https://nexus-consults.com/api/public/api/admin/job-applications/${U}/download/cv`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`},responseType:"blob"}),et=window.URL.createObjectURL(new Blob([Ce.data])),ht=document.createElement("a");ht.href=et,ht.setAttribute("download",`CV-${U}.pdf`),document.body.appendChild(ht),ht.click(),ht.remove(),window.URL.revokeObjectURL(et),ye.success("CV downloaded successfully")}catch(Ce){ye.error(Ce.response?.data?.message||"Failed to download CV")}},Ve=U=>{if(U.preventDefault(),!le.status){ye.error("Please select a status");return}Ft.mutate({applicationId:F,status:le.status})},qe=U=>{U.preventDefault(),nt.mutate({applicationId:F,notes:Fe.notes})},at=t?.filter(U=>{const Ce=p.global===""||U.applicant?.name?.toLowerCase().includes(p.global.toLowerCase())||U.applicant?.email?.toLowerCase().includes(p.global.toLowerCase())||U.job?.title?.toLowerCase().includes(p.global.toLowerCase()),et=p.applicant_name===""||U.applicant?.name?.toLowerCase().includes(p.applicant_name.toLowerCase()),ht=p.applicant_email===""||U.applicant?.email?.toLowerCase().includes(p.applicant_email.toLowerCase()),Jt=p.job_title===""||U.job?.title?.toLowerCase().includes(p.job_title.toLowerCase()),Pt=p.status===""||U.status===p.status;let an=!0;if(U.created_at){const Qt=new Date(U.created_at);if(p.created_from){const Te=new Date(`${p.created_from}T00:00:00`);Qt<Te&&(an=!1)}if(an&&p.created_to){const Te=new Date(`${p.created_to}T23:59:59.999`);Qt>Te&&(an=!1)}}return Ce&&et&&ht&&Jt&&Pt&&an})||[],bt=Math.ceil(at.length/b),B=at.slice((y-1)*b,y*b),se=U=>{const Ce=de?.statuses?.[U]||{label:U,color:"gray"},et={yellow:"bg-yellow-100 text-yellow-800 border-yellow-200",blue:"bg-blue-100 text-blue-800 border-blue-200",purple:"bg-purple-100 text-purple-800 border-purple-200",indigo:"bg-indigo-100 text-indigo-800 border-indigo-200",green:"bg-green-100 text-green-800 border-green-200",red:"bg-red-100 text-red-800 border-red-200",gray:"bg-gray-100 text-gray-800 border-gray-200"};return c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${et[Ce.color]||et.gray}`,children:Ce.label})},I=()=>bt<=1?null:c.jsxs("div",{className:"flex justify-between items-center mt-4 px-4 pb-1",children:[c.jsxs("div",{className:"text-xs",children:["Showing ",(y-1)*b+1,"-",Math.min(y*b,at.length)," of ",at.length," entries"]}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx("button",{onClick:()=>x(1),disabled:y===1,className:"p-1 disabled:opacity-50",children:c.jsx(Qo,{className:"h-4 w-4"})}),c.jsxs("span",{className:"px-3 py-1",children:["Page ",y," of ",bt]}),c.jsx("button",{onClick:()=>x(U=>Math.min(bt,U+1)),disabled:y===bt,className:"p-1 disabled:opacity-50",children:c.jsx(Zo,{className:"h-4 w-4"})})]})]}),fe=(U,Ce)=>{i(Ce?et=>[...et,U]:et=>et.filter(ht=>ht!==U))},we=U=>{U?(i(at.map(Ce=>Ce.id)),l(!0)):(i([]),l(!1))},V=async()=>{if(s.length)try{f(!0),await Ge.post("https://nexus-consults.com/api/public/api/admin/job-applications/bulk/delete",{ids:s},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ye.success(`${s.length} application(s) deleted successfully`),i([]),l(!1),n()}catch(U){console.error("Error deleting applications:",U),ye.error(U.response?.data?.message||"Failed to delete applications")}finally{f(!1)}};return c.jsxs("div",{className:"shadow-2xl rounded-2xl overflow-hidden bg-white",children:[c.jsx("div",{className:"p-4 border-b flex justify-between items-center gap-4",children:c.jsxs("div",{className:"relative flex-1",children:[c.jsx(k2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),c.jsx("input",{type:"text",value:p.global,onChange:U=>Ye("global",U.target.value),placeholder:"Search applications...",className:"pl-10 pr-4 py-2 rounded-xl shadow-sm focus:outline-2 focus:outline-primary w-full border border-primary transition-all"})]})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:a&&at.length>0,onChange:U=>we(U.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),c.jsx("span",{className:"ml-2",children:"Applicant"})]})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsx("input",{type:"text",value:p.applicant_email,onChange:U=>Ye("applicant_email",U.target.value),placeholder:"Email",className:"text-xs p-1 border rounded w-full"})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsxs("select",{value:p.job_title,onChange:U=>Ye("job_title",U.target.value),className:"text-xs p-1 border rounded w-full",children:[c.jsx("option",{value:"",children:"All Jobs"}),Me.map(U=>c.jsx("option",{value:U,children:U},U))]})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsxs("select",{value:p.status,onChange:U=>Ye("status",U.target.value),className:"text-xs p-1 border rounded w-full",children:[c.jsx("option",{value:"",children:"All Statuses"}),de&&Object.entries(de.statuses).map(([U,Ce])=>c.jsx("option",{value:U,children:Ce.label},U))]})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsx(Ph,{initialRange:{startDate:p.created_from?new Date(`${p.created_from}T00:00:00`):null,endDate:p.created_to?new Date(`${p.created_to}T00:00:00`):null},onDateChange:({startDate:U,endDate:Ce})=>{const et=ht=>{if(!(ht instanceof Date)||isNaN(ht))return"";const Jt=ht.getFullYear(),Pt=String(ht.getMonth()+1).padStart(2,"0"),an=String(ht.getDate()).padStart(2,"0");return`${Jt}-${Pt}-${an}`};Ye("created_from",U?et(U):""),Ye("created_to",Ce?et(Ce):"")}})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:e?c.jsx("tr",{children:c.jsx("td",{colSpan:"6",className:"px-3 py-4 text-center",children:c.jsxs("div",{className:"flex justify-center items-center gap-2",children:[c.jsx(wt,{className:"animate-spin",size:18}),"Loading applications..."]})})}):B.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"6",className:"px-3 py-4 text-center",children:"No applications found"})}):B.map(U=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:s.includes(U.id),onChange:Ce=>fe(U.id,Ce.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),c.jsxs("div",{className:"ml-2",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:U.applicant?.name||"N/A"}),c.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[c.jsx(oJ,{size:10}),U.applicant?.phone||"N/A"]})]})]})}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-900",children:[c.jsx(qD,{size:12,className:"text-gray-400"}),U.applicant?.email]})}),c.jsxs("td",{className:"px-3 py-4 whitespace-nowrap",children:[c.jsx("div",{className:"text-sm text-gray-900",children:U.job?.title||"N/A"}),c.jsx("div",{className:"text-xs text-gray-500",children:U.job?.type&&c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(VD,{size:10}),U.job.type]})})]}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:se(U.status)}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-900",children:U.created_at?new Date(U.created_at).toLocaleDateString():"-"})}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{className:"text-blue-500 hover:text-blue-700 p-1",onClick:()=>Ze(U.id),title:"View Details",children:c.jsx(Cu,{size:16})}),c.jsx("button",{className:"text-green-500 hover:text-green-700 p-1",onClick:()=>ee(U.id),title:"Download CV",children:c.jsx(HD,{size:16})}),ie?.data?.data?.admin?.permissions?.includes("manage_job_applications")&&c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"text-purple-500 hover:text-purple-700 p-1",onClick:()=>St(U.id),title:"Update Status",children:c.jsx(ki,{size:16})}),c.jsx("button",{className:"text-indigo-500 hover:text-indigo-700 p-1",onClick:()=>Nt(U.id),title:"Add Notes",children:c.jsx(uJ,{size:16})})]}),ie?.data?.data?.admin?.permissions?.includes("delete_job_applications")&&c.jsx("button",{className:"text-red-500 hover:text-red-700 p-1",onClick:()=>Re(U.id),disabled:S===U.id,title:"Delete",children:S===U.id?c.jsx(wt,{className:"animate-spin",size:16}):c.jsx(Vn,{size:16})})]})})]},U.id))})]})}),s.length>0&&c.jsx("div",{className:"bg-blue-50 p-4 rounded-md mb-6 border border-blue-200",children:c.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[c.jsxs("div",{className:"text-blue-800 font-medium",children:[s.length," application(s) selected"]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsxs("button",{onClick:V,disabled:d,className:"flex items-center px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 text-sm",children:[c.jsx(Vn,{className:"mr-1.5"}),"Delete Selected"]}),c.jsxs("button",{onClick:()=>{i([]),l(!1)},className:"flex items-center px-3 py-1.5 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 text-sm",children:[c.jsx($t,{className:"mr-1.5"}),"Clear Selection"]}),d&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(wt,{className:"animate-spin mr-1.5"}),"Loading..."]})]})]})}),!e&&I(),E&&c.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>A(!1),children:c.jsx(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:U=>U.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Application Details"}),c.jsx("button",{onClick:()=>A(!1),className:"text-gray-500 hover:text-gray-700",children:c.jsx($t,{size:20})})]}),ke?c.jsxs("div",{className:"flex justify-center items-center py-8",children:[c.jsx(wt,{className:"animate-spin mr-2",size:24}),c.jsx("span",{children:"Loading application details..."})]}):he?c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Applicant Information"}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:he.applicant?.name||"N/A"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:he.applicant?.email})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:he.applicant?.phone})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Years of Experience"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:he.applicant?.years_of_experience})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Availability"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900 capitalize",children:he.applicant?.availability?.replace("_"," ")||"N/A"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Message"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900 whitespace-pre-wrap",children:he.applicant?.message||"No message provided"})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Job & Application Information"}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Job Title"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:he.job?.title})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900 capitalize",children:he.job?.location?.replace("-"," ")||"N/A"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Job Type"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900 capitalize",children:he.job?.type?.replace("-"," ")||"N/A"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),c.jsx("div",{className:"mt-1",children:se(he.status)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Applied On"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(he.created_at).toLocaleString()})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Admin Notes"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900 whitespace-pre-wrap",children:he.admin_notes||"No notes added"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"CV"}),c.jsxs("button",{onClick:()=>ee(he.id),className:"mt-1 flex items-center gap-2 px-3 py-2 bg-primary text-white rounded hover:bg-darkBlue transition-all text-sm",children:[c.jsx(nu,{}),"Download CV"]})]})]})]}):c.jsx("div",{className:"text-center py-8 text-gray-500",children:"Failed to load application details"})]})})}),Z&&c.jsxs(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[c.jsx("button",{onClick:()=>{ve(!1)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:c.jsx(ns,{className:"",size:40})}),c.jsx(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:U=>U.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Update Application Status"}),c.jsxs("form",{onSubmit:Ve,children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Status"}),c.jsxs("select",{value:le.status,onChange:U=>be({status:U.target.value}),className:"w-full px-3 py-2 border rounded-md focus:outline-primary",required:!0,children:[c.jsx("option",{value:"",children:"Choose a status"}),de&&Object.entries(de.statuses).map(([U,Ce])=>c.jsx("option",{value:U,children:Ce.label},U))]}),le.status&&de?.statuses[le.status]?.description&&c.jsx("p",{className:"mt-2 text-xs text-gray-500",children:de.statuses[le.status].description})]}),c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx("button",{type:"button",onClick:()=>ve(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:Ft.isPending,className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center gap-2 disabled:opacity-50",children:Ft.isPending?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"animate-spin"}),"Updating..."]}):"Update Status"})]})]})]})})]}),ue&&c.jsxs(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[c.jsx("button",{onClick:()=>{oe(!1)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:c.jsx(ns,{className:"",size:40})}),c.jsx(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:U=>U.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add Admin Notes"}),c.jsxs("form",{onSubmit:qe,children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),c.jsx("textarea",{value:Fe.notes,onChange:U=>$({notes:U.target.value}),rows:6,className:"w-full px-3 py-2 border rounded-md focus:outline-primary resize-vertical",placeholder:"Enter your notes about this application..."})]}),c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx("button",{type:"button",onClick:()=>oe(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:nt.isPending,className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center gap-2 disabled:opacity-50",children:nt.isPending?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"animate-spin"}),"Saving..."]}):"Save Notes"})]})]})]})})]}),N&&c.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>k(!1),children:c.jsx(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:U=>U.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:c.jsx(Vn,{className:"h-5 w-5 text-red-600"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Application"}),c.jsx("div",{className:"mt-2",children:c.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this application? This action cannot be undone."})})]})]}),c.jsxs("div",{className:"mt-5 flex justify-end gap-3",children:[c.jsx("button",{type:"button",onClick:()=>k(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{type:"button",onClick:ut,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})})})]})}function Ble(){const t=Hn();function e(){return Ge.get("https://nexus-consults.com/api/public/api/admin/job-applications",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}const{data:n,isLoading:r,refetch:s,isError:i,error:a}=Cn({queryKey:["Applications"],queryFn:e});return j.useEffect(()=>{i&&(a.response?.status==401&&(localStorage.removeItem("userToken"),t("/login")),a.response?.status==403&&(ye.error("You are not authorized to view this page"),t("/home")))},[i]),c.jsxs("div",{className:"p-4",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Applications"}),c.jsx(Ile,{applications:n?.data?.data||[],loading:r,refetch:s})]})}function Fle({testmonialsData:t,loading:e,refetch:n}){const r=Hn();Li();const[s,i]=j.useState([]),[a,l]=j.useState(!1),[d,f]=j.useState(!1),[p,m]=j.useState({global:"",name:"",title:"",is_active:"",created_from:"",created_to:""}),[y,x]=j.useState(1),[b]=j.useState(10),[S,C]=j.useState(null),[N,k]=j.useState(!1),[M,D]=j.useState(null),[E,A]=j.useState(null),[F,H]=j.useState(!1),[Z,ve]=j.useState(null),[ue,oe]=j.useState(!1),[te,ne]=j.useState(!1),[xe,W]=j.useState(!1),[le,be]=j.useState({name:"",title:"",message:"",image:null,imagePreview:"",removeImage:!1}),Fe=j.useRef(null),{data:$}=Cn({queryKey:["currentUser"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}),{data:de,isLoading:ie,refetch:he}=Cn({queryKey:["testmonial",Z],queryFn:()=>Z?Ge.get(`https://nexus-consults.com/api/public/api/admin/feedbacks/${Z}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}).then(V=>V.data.data):Promise.resolve(null),enabled:!!Z}),ke=(V,U)=>{m(Ce=>({...Ce,[V]:U})),x(1)},ze=V=>{D(V),k(!0)},Me=async()=>{if(M){C(M),k(!1);try{await Ge.delete(`https://nexus-consults.com/api/public/api/admin/feedbacks/${M}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ye.success("Testimonial deleted successfully",{duration:2e3}),n()}catch(V){ye.error(V.response?.data?.message||"An unexpected error occurred",{duration:3e3}),V.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),V.response?.status==403&&(ye.error("You are not authorized to view this page"),r("/home"))}finally{C(null),D(null)}}},Ye=V=>{ve(V),H(!0)},Re=()=>{ne(!1),be({name:"",title:"",message:"",image:null,imagePreview:"",removeImage:!1}),oe(!0)},ut=V=>{ve(V.id),ne(!0),be({name:V.name||"",title:V.title||"",message:V.message||"",image:null,imagePreview:V.image||"",removeImage:!1}),oe(!0)};j.useEffect(()=>{te&&de&&be(V=>({...V,name:de.name||V.name,title:de.title||V.title,message:de.message||V.message,imagePreview:de.image||V.imagePreview,removeImage:!1}))},[te,de]);const Ze=V=>{const U=V.target.files[0];if(U){if(!U.type.startsWith("image/")){ye.error("Please select an image file");return}if(U.size>5*1024*1024){ye.error("Image size should be less than 5MB");return}be(Ce=>({...Ce,image:U,imagePreview:URL.createObjectURL(U),removeImage:!1}))}},St=()=>{be(V=>({...V,image:null,imagePreview:"",removeImage:!0})),Fe.current&&(Fe.current.value="")},Nt=di({mutationFn:V=>{const U=new FormData;return U.append("name",V.name),U.append("title",V.title),U.append("message",V.message),V.image&&U.append("image",V.image),V.image||U.append("image",""),Ge.post("https://nexus-consults.com/api/public/api/admin/feedbacks",U,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}})},onSuccess:()=>{ye.success("Testimonial created successfully"),oe(!1),n()},onError:V=>{ye.error(V.response?.data?.message||"Failed to create testimonial"),V.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),V.response?.status==403&&ye.error("You are not authorized to perform this action")}}),Ft=di({mutationFn:({testmonialId:V,formData:U})=>{const Ce=new FormData;return Ce.append("name",U.name),Ce.append("title",U.title),Ce.append("message",U.message),U.removeImage?Ce.append("image",""):U.image&&Ce.append("image",U.image),Ce.append("_method","PUT"),Ge.post(`https://nexus-consults.com/api/public/api/admin/feedbacks/${V}`,Ce,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}})},onSuccess:()=>{ye.success("Testimonial updated successfully"),oe(!1),n(),he()},onError:V=>{ye.error(V.response?.data?.message||"Failed to update testimonial"),V.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),V.response?.status==403&&ye.error("You are not authorized to perform this action")}}),nt=di({mutationFn:V=>Ge.patch(`https://nexus-consults.com/api/public/api/admin/feedbacks/${V}/toggle-active`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),onMutate:V=>{A(V)},onSuccess:()=>{ye.success("Status updated successfully"),n()},onError:V=>{ye.error(V.response?.data?.message||"Failed to update status"),V.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),V.response?.status==403&&ye.error("You are not authorized to perform this action")},onSettled:()=>{A(null)}}),ee=(V,U)=>{nt.mutate(V)},Ve=V=>{if(V.preventDefault(),!le.name||!le.title||!le.message){ye.error("Please fill in all required fields");return}te?Ft.mutate({testmonialId:Z,formData:le}):Nt.mutate(le)},qe=t?.filter(V=>{const U=p.global===""||V.name?.toLowerCase().includes(p.global.toLowerCase())||V.title?.toLowerCase().includes(p.global.toLowerCase())||V.message?.toLowerCase().includes(p.global.toLowerCase()),Ce=p.name===""||V.name?.toLowerCase().includes(p.name.toLowerCase()),et=p.title===""||V.title?.toLowerCase().includes(p.title.toLowerCase()),ht=p.is_active===""||V.is_active?.toString()===p.is_active;let Jt=!0;if(V.created_at){const Pt=new Date(V.created_at);if(p.created_from){const an=new Date(`${p.created_from}T00:00:00`);Pt<an&&(Jt=!1)}if(Jt&&p.created_to){const an=new Date(`${p.created_to}T23:59:59.999`);Pt>an&&(Jt=!1)}}return U&&Ce&&et&&ht&&Jt})||[],at=Math.ceil(qe.length/b),bt=qe.slice((y-1)*b,y*b),B=V=>{const U=V?"bg-[#009379] text-white":"bg-[#930002] text-white";return c.jsx("span",{className:`flex justify-center w-fit items-center px-2.5 py-1 rounded-md text-xs font-medium ${U} min-w-16 text-center`,children:V?"Active":"Inactive"})},se=()=>at<=1?null:c.jsxs("div",{className:"flex justify-between items-center mt-4 px-4 pb-1",children:[c.jsxs("div",{className:"text-xs",children:["Showing ",(y-1)*b+1,"-",Math.min(y*b,qe.length)," of ",qe.length," entries"]}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx("button",{onClick:()=>x(1),disabled:y===1,className:"p-1 disabled:opacity-50",children:c.jsx(Qo,{className:"h-4 w-4"})}),c.jsxs("span",{className:"px-3 py-1",children:["Page ",y," of ",at]}),c.jsx("button",{onClick:()=>x(V=>Math.min(at,V+1)),disabled:y===at,className:"p-1 disabled:opacity-50",children:c.jsx(Zo,{className:"h-4 w-4"})})]})]}),I=(V,U)=>{i(U?Ce=>[...Ce,V]:Ce=>Ce.filter(et=>et!==V))},fe=V=>{V?(i(qe.map(U=>U.id)),l(!0)):(i([]),l(!1))},we=async()=>{if(s.length)try{f(!0),await Ge.post("https://nexus-consults.com/api/public/api/admin/feedbacks/bulk/delete",{ids:s},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ye.success(`${s.length} testimonial(s) deleted successfully`),i([]),l(!1),n()}catch(V){console.error("Error deleting testimonials:",V),ye.error(V.response?.data?.message||"Failed to delete testimonials")}finally{f(!1)}};return c.jsxs("div",{className:"shadow-2xl rounded-2xl overflow-hidden bg-white",children:[c.jsxs("div",{className:"p-4 border-b flex justify-between items-center gap-4",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(k2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),c.jsx("input",{type:"text",value:p.global,onChange:V=>ke("global",V.target.value),placeholder:"Search testimonials...",className:"pl-10 pr-4 py-2 rounded-xl shadow-sm focus:outline-2 focus:outline-primary w-full border border-primary transition-all"})]}),$?.data?.data?.admin?.permissions?.includes("create_feedbacks")&&c.jsxs("button",{onClick:Re,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl hover:bg-darkBlue transition-all",children:[c.jsx(Ar,{size:16}),"Add Testimonial"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:a&&qe.length>0,onChange:V=>fe(V.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),c.jsx("span",{className:"ml-2",children:"Name"})]})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsx("input",{type:"text",value:p.title,onChange:V=>ke("title",V.target.value),placeholder:"Title",className:"text-xs p-1 border rounded w-full"})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Message"}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsxs("select",{value:p.is_active,onChange:V=>ke("is_active",V.target.value),className:"text-xs p-1 border rounded w-full",children:[c.jsx("option",{value:"",children:"All Status"}),c.jsx("option",{value:"true",children:"Active"}),c.jsx("option",{value:"false",children:"Inactive"})]})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created Date"}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:e?c.jsx("tr",{children:c.jsx("td",{colSpan:"6",className:"px-3 py-4 text-center",children:c.jsxs("div",{className:"flex justify-center items-center gap-2",children:[c.jsx(wt,{className:"animate-spin",size:18}),"Loading testimonials..."]})})}):bt.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"6",className:"px-3 py-4 text-center",children:"No testimonials found"})}):bt.map(V=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:s.includes(V.id),onChange:U=>I(V.id,U.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),c.jsxs("div",{className:"ml-2 flex items-center gap-3",children:[c.jsx("img",{src:V.image,alt:V.name,className:"h-10 w-10 rounded-full object-cover"}),c.jsx("div",{children:c.jsx("div",{className:"text-sm font-medium text-gray-900",children:V.name})})]})]})}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-900",children:V.title})}),c.jsx("td",{className:"px-3 py-4",children:c.jsx("div",{className:"text-sm text-gray-900 line-clamp-2 max-w-xs",children:V.message})}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:B(V.is_active)}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-900",children:V.created_at?new Date(V.created_at).toLocaleDateString():"-"})}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{className:"text-blue-500 hover:text-blue-700 p-1",onClick:()=>Ye(V),title:"View Details",children:c.jsx(Cu,{size:16})}),$?.data?.data?.admin?.permissions?.includes("edit_feedbacks")&&c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"text-purple-500 hover:text-purple-700 p-1",onClick:()=>ut(V),title:"Edit",children:c.jsx(ki,{size:16})}),c.jsx("button",{className:`${V.is_active?"text-green-500 hover:text-green-700":"text-red-500 hover:text-red-700"} p-1`,onClick:()=>ee(V.id,V.is_active),disabled:E===V.id,title:V.is_active?"Deactivate":"Activate",children:E===V.id?c.jsx(wt,{className:"animate-spin",size:16}):V.is_active?c.jsx(Pr,{}):c.jsx($t,{})})]}),$?.data?.data?.admin?.permissions?.includes("delete_feedbacks")&&c.jsx("button",{className:"text-red-500 hover:text-red-700 p-1",onClick:()=>ze(V.id),disabled:S===V.id,title:"Delete",children:S===V.id?c.jsx(wt,{className:"animate-spin",size:16}):c.jsx(Vn,{size:16})})]})})]},V.id))})]})}),s.length>0&&c.jsx("div",{className:"bg-blue-50 p-4 rounded-md mb-6 border border-blue-200",children:c.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[c.jsxs("div",{className:"text-blue-800 font-medium",children:[s.length," testimonial(s) selected"]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsxs("button",{onClick:we,disabled:d,className:"flex items-center px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 text-sm",children:[c.jsx(Vn,{className:"mr-1.5"}),"Delete Selected"]}),c.jsxs("button",{onClick:()=>{i([]),l(!1)},className:"flex items-center px-3 py-1.5 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 text-sm",children:[c.jsx($t,{className:"mr-1.5"}),"Clear Selection"]}),d&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(wt,{className:"animate-spin mr-1.5"}),"Loading..."]})]})]})}),!e&&se(),F&&c.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>H(!1),children:c.jsx(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:V=>V.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Testimonial Details"}),c.jsx("button",{onClick:()=>H(!1),className:"text-gray-500 hover:text-gray-700",children:c.jsx($t,{size:20})})]}),Z?c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-center",children:c.jsx("img",{src:Z.image,alt:Z.name,className:"h-32 w-32 rounded-full object-cover border-4 border-gray-200"})}),c.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),c.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:Z.name})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),c.jsx("p",{className:"mt-1 text-md text-gray-900",children:Z.title})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Message"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900 whitespace-pre-wrap bg-gray-50 p-4 rounded-lg",children:Z.message})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),c.jsx("div",{className:"mt-1",children:B(Z.is_active)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Created On"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(Z.created_at).toLocaleString()})]})]})]})]}):c.jsx("div",{className:"text-center py-8 text-gray-500",children:"Failed to load testimonial details"})]})})}),ue&&c.jsxs(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[c.jsx("button",{onClick:()=>{oe(!1)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:c.jsx(ns,{className:"",size:40})}),c.jsx(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:V=>V.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:te?"Edit Testimonial":"Add New Testimonial"}),c.jsx("button",{onClick:()=>oe(!1),className:"text-gray-500 hover:text-gray-700",children:c.jsx($t,{size:20})})]}),c.jsxs("form",{onSubmit:Ve,children:[c.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Image"}),c.jsxs("div",{className:"flex items-center gap-4",children:[le.imagePreview?c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:le.imagePreview,alt:"Preview",className:"h-20 w-20 rounded-full object-cover border"}),c.jsx("button",{type:"button",onClick:St,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:c.jsx($t,{size:12})})]}):c.jsx("div",{className:"h-20 w-20 rounded-full border-2 border-dashed border-gray-300 flex items-center justify-center",children:c.jsx(sa,{className:"text-gray-400",size:24})}),c.jsxs("div",{children:[c.jsx("input",{type:"file",ref:Fe,onChange:Ze,accept:"image/*",className:"hidden"}),c.jsx("button",{type:"button",onClick:()=>Fe.current?.click(),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Choose Image"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, JPEG up to 5MB"})]})]}),le.removeImage&&c.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Image will be set to default"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),c.jsx("input",{type:"text",value:le.name,onChange:V=>be(U=>({...U,name:V.target.value})),className:"w-full px-3 py-2 border rounded-md focus:outline-primary",placeholder:"Enter full name",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),c.jsx("input",{type:"text",value:le.title,onChange:V=>be(U=>({...U,title:V.target.value})),className:"w-full px-3 py-2 border rounded-md focus:outline-primary",placeholder:"e.g., CEO at Company",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message *"}),c.jsx("textarea",{value:le.message,onChange:V=>be(U=>({...U,message:V.target.value})),rows:6,className:"w-full px-3 py-2 border rounded-md focus:outline-primary resize-vertical",placeholder:"Enter testimonial message",required:!0})]})]}),c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx("button",{type:"button",onClick:()=>oe(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:Nt.isPending||Ft.isPending,className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center gap-2 disabled:opacity-50",children:Nt.isPending||Ft.isPending?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"animate-spin"}),te?"Updating...":"Creating..."]}):te?"Update Testimonial":"Create Testimonial"})]})]})]})})]}),N&&c.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>k(!1),children:c.jsx(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:V=>V.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:c.jsx(Vn,{className:"h-5 w-5 text-red-600"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Testimonial"}),c.jsx("div",{className:"mt-2",children:c.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this testimonial? This action cannot be undone."})})]})]}),c.jsxs("div",{className:"mt-5 flex justify-end gap-3",children:[c.jsx("button",{type:"button",onClick:()=>k(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{type:"button",onClick:Me,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})})})]})}function $le(){const t=Hn(),{data:e,isLoading:n,isError:r,error:s,refetch:i}=Cn({queryKey:["testmonials"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/feedbacks",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})});return j.useEffect(()=>{r&&(s.response?.status==401&&(localStorage.removeItem("userToken"),t("/login")),s.response?.status==403&&(toast.error("You are not authorized to view this page"),t("/home")))},[r]),c.jsxs("div",{className:"p-4",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Testmonials"}),c.jsx(Fle,{testmonialsData:e?.data?.data||[],loading:n,refetch:i})]})}function Ule(){const t=Hn(),e=Li(),[n,r]=j.useState(!1),[s,i]=j.useState(!1),[a,l]=j.useState(""),[d,f]=j.useState(""),{data:p,isLoading:m}=Cn({queryKey:["currentUser"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}),[y,x]=j.useState({our_mission:"",our_vision:"",portfolio:"",years:"",projects:"",clients:"",engineers:"",image:null,portfolio_file:null}),b=Vt.useRef(null),S=Vt.useRef(null),{data:C,isLoading:N,isError:k,error:M}=Cn({queryKey:["aboutUs"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/settings",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),refetchOnWindowFocus:!1});j.useEffect(()=>{if(C?.data?.data){const ne=C.data.data;x({our_mission:ne.our_mission||"",our_vision:ne.our_vision||"",portfolio:ne.portfolio||"",years:ne.years||"",projects:ne.projects||"",clients:ne.clients||"",engineers:ne.engineers||"",image:null,portfolio_file:null}),ne.image&&l(ne.image),ne.portfolio_file&&f(ne.portfolio_file)}},[C]),j.useEffect(()=>{k&&(M.response?.status===401&&(localStorage.removeItem("userToken"),t("/login")),M.response?.status===403&&(ye.error("You are not authorized to view this page"),t("/home")))},[k,M,t]);const D=ne=>{const xe=ne.target.files[0];if(xe){if(!xe.type.startsWith("image/")){ye.error("Please select an image file");return}if(xe.size>6*1024*1024){ye.error("Image size should be less than 6MB");return}x(W=>({...W,image:xe})),l(URL.createObjectURL(xe))}},E=ne=>{const xe=ne.target.files[0];if(xe){if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-rar-compressed","application/x-7z-compressed"].includes(xe.type)){ye.error("Please select a valid file type (PDF, Word, Excel, ZIP, RAR, 7Z)");return}if(xe.size>200*1024*1024){ye.error("File size should be less than 200MB");return}x(le=>({...le,portfolio_file:xe})),f(URL.createObjectURL(xe))}},A=()=>{x(ne=>({...ne,image:null})),l(""),b.current&&(b.current.value="")},F=()=>{x(ne=>({...ne,portfolio_file:null})),f(""),S.current&&(S.current.value="")},H=ne=>{if(!ne)return c.jsx(nu,{className:"text-red-500"});switch(ne.split(".").pop().toLowerCase()){case"pdf":return c.jsx(nu,{className:"text-red-500"});case"doc":case"docx":return c.jsx(iJ,{className:"text-blue-500"});case"xls":case"xlsx":return c.jsx(sJ,{className:"text-green-500"});case"zip":case"rar":case"7z":return c.jsx(rJ,{className:"text-yellow-500"});default:return c.jsx(nu,{className:"text-gray-500"})}},Z=()=>y.portfolio_file instanceof File?y.portfolio_file.name:C?.data?.data?.portfolio_file&&C.data.data.portfolio_file.split("/").pop()||"portfolio-file",ve=di({mutationFn:ne=>{const xe=new FormData;return xe.append("our_mission",ne.our_mission),xe.append("our_vision",ne.our_vision),xe.append("portfolio",ne.portfolio),xe.append("years",ne.years),xe.append("projects",ne.projects),xe.append("clients",ne.clients),xe.append("engineers",ne.engineers),ne.image&&xe.append("image",ne.image),ne.portfolio_file&&xe.append("portfolio_file",ne.portfolio_file),xe.append("_method","PUT"),Ge.post("https://nexus-consults.com/api/public/api/admin/settings",xe,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}})},onSuccess:()=>{ye.success("About Us information updated successfully"),r(!1),e.invalidateQueries(["aboutUs"])},onError:ne=>{ye.error(ne.response?.data?.message||"Failed to update About Us information"),ne.response?.status===401&&(localStorage.removeItem("userToken"),t("/login")),ne.response?.status===403&&ye.error("You are not authorized to perform this action")}}),ue=ne=>{if(ne.preventDefault(),!y.our_mission||!y.our_vision){ye.error("Please fill in all required fields");return}if(y.portfolio&&!oe(y.portfolio)){ye.error("Please enter a valid URL for the portfolio");return}if(!y.years||!y.projects||!y.clients||!y.engineers){ye.error("Please fill in all statistics fields");return}ve.mutate(y)},oe=ne=>{try{return new URL(ne),!0}catch{return!1}},te=()=>{if(r(!1),C?.data?.data){const ne=C.data.data;x({our_mission:ne.our_mission||"",our_vision:ne.our_vision||"",portfolio:ne.portfolio||"",years:ne.years||"",projects:ne.projects||"",clients:ne.clients||"",engineers:ne.engineers||"",image:null,portfolio_file:null}),l(ne.image||""),f(ne.portfolio_file||"")}};return N?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(wt,{className:"animate-spin text-2xl text-primary"}),c.jsx("span",{className:"text-lg",children:"Loading About Us information..."})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"About Us"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your company's about us information and statistics"})]}),c.jsxs(Tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-2xl overflow-hidden",children:[c.jsx("div",{className:"border-b border-gray-200 px-6 py-4",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"About Us Information"}),n?c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:te,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-all",children:[c.jsx($t,{size:16}),"Cancel"]}),c.jsxs("button",{onClick:ue,disabled:ve.isPending,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all disabled:opacity-50",children:[ve.isPending?c.jsx(wt,{className:"animate-spin",size:16}):c.jsx($u,{size:16}),"Save Changes"]})]}):p?.data?.data?.admin?.permissions?.includes("edit_feedbacks")&&c.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-darkBlue transition-all",children:[c.jsx(ki,{size:16}),"Edit Information"]})]})}),c.jsx("div",{className:"p-6",children:c.jsxs("form",{onSubmit:ue,children:[c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Company Image"}),c.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a?c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:a,alt:"Company",className:"h-64 w-full object-cover rounded-lg border-2 border-gray-300"}),n&&c.jsx("button",{type:"button",onClick:A,className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 transition-all",children:c.jsx($t,{size:14})})]}):c.jsxs("div",{className:"h-64 w-full border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center gap-3",children:[c.jsx(sa,{className:"text-gray-400 text-4xl"}),c.jsx("span",{className:"text-gray-500",children:"No image uploaded"})]}),n&&c.jsxs("div",{className:"w-full",children:[c.jsx("input",{type:"file",ref:b,onChange:D,accept:"image/*",className:"hidden"}),c.jsx("button",{type:"button",onClick:()=>b.current?.click(),className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-all",children:"Choose Image"}),c.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"PNG, JPG, JPEG up to 6MB"})]})]})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[c.jsx(tJ,{className:"text-primary"}),"Company Statistics"]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Years in Business"}),n?c.jsx("input",{type:"number",value:y.years,onChange:ne=>x(xe=>({...xe,years:ne.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-primary",min:"0",required:!0}):c.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg",children:[c.jsx(nJ,{className:"text-blue-600"}),c.jsx("span",{className:"font-semibold",children:C?.data?.data?.years||"0"}),c.jsx("span",{className:"text-sm text-gray-600",children:"Years"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Projects Completed"}),n?c.jsx("input",{type:"number",value:y.projects,onChange:ne=>x(xe=>({...xe,projects:ne.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-primary",min:"0",required:!0}):c.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg",children:[c.jsx(lJ,{className:"text-green-600"}),c.jsx("span",{className:"font-semibold",children:C?.data?.data?.projects||"0"}),c.jsx("span",{className:"text-sm text-gray-600",children:"Projects"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Happy Clients"}),n?c.jsx("input",{type:"number",value:y.clients,onChange:ne=>x(xe=>({...xe,clients:ne.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-primary",min:"0",required:!0}):c.jsxs("div",{className:"flex items-center gap-2 p-3 bg-purple-50 rounded-lg",children:[c.jsx(hJ,{className:"text-purple-600"}),c.jsx("span",{className:"font-semibold",children:C?.data?.data?.clients||"0"}),c.jsx("span",{className:"text-sm text-gray-600",children:"Clients"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expert Engineers"}),n?c.jsx("input",{type:"number",value:y.engineers,onChange:ne=>x(xe=>({...xe,engineers:ne.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-primary",min:"0",required:!0}):c.jsxs("div",{className:"flex items-center gap-2 p-3 bg-orange-50 rounded-lg",children:[c.jsx(fJ,{className:"text-orange-600"}),c.jsx("span",{className:"font-semibold",children:C?.data?.data?.engineers||"0"}),c.jsx("span",{className:"text-sm text-gray-600",children:"Engineers"})]})]})]})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[c.jsx(cJ,{className:"text-primary"}),"Our Mission *"]}),n?c.jsx("textarea",{value:y.our_mission,onChange:ne=>x(xe=>({...xe,our_mission:ne.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-primary resize-vertical",placeholder:"Describe your company's mission...",required:!0}):c.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:c.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:C?.data?.data?.our_mission||"No mission statement provided."})})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[c.jsx(Cu,{className:"text-primary"}),"Our Vision *"]}),n?c.jsx("textarea",{value:y.our_vision,onChange:ne=>x(xe=>({...xe,our_vision:ne.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-primary resize-vertical",placeholder:"Describe your company's vision...",required:!0}):c.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:c.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:C?.data?.data?.our_vision||"No vision statement provided."})})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[c.jsx(jA,{className:"text-primary"}),"Portfolio URL"]}),n?c.jsxs("div",{children:[c.jsx("input",{type:"url",value:y.portfolio,onChange:ne=>x(xe=>({...xe,portfolio:ne.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-primary",placeholder:"https://drive.google.com/your-portfolio-link"}),c.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Enter a Google Drive or other URL for your portfolio (optional)"})]}):c.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:C?.data?.data?.portfolio?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(jA,{className:"text-primary",size:14}),c.jsx("a",{href:C.data.data.portfolio,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:text-darkBlue break-all",children:C.data.data.portfolio})]}):c.jsx("p",{className:"text-gray-700",children:"No portfolio URL provided."})})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[c.jsx(nu,{className:"text-primary"}),"Portfolio File"]}),c.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d||C?.data?.data?.portfolio_file?c.jsx("div",{className:"w-full",children:c.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[H(Z()),c.jsx("div",{className:"flex-1 min-w-0",children:c.jsx("p",{className:"font-medium text-gray-700 truncate",children:Z()})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("a",{href:d||C?.data?.data?.portfolio_file,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-green-600 hover:text-green-700 hover:bg-green-50 rounded-lg transition-all",title:"View/Download",children:c.jsx(HD,{size:16})}),n&&c.jsx("button",{type:"button",onClick:F,className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-all",title:"Remove file",children:c.jsx(rc,{size:16})})]})]})}):c.jsxs("div",{className:"w-full p-6 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center gap-3",children:[c.jsx(nu,{className:"text-gray-400 text-4xl"}),c.jsx("span",{className:"text-gray-500",children:"No portfolio file uploaded"})]}),n&&c.jsxs("div",{className:"w-full",children:[c.jsx("input",{type:"file",ref:S,onChange:E,accept:".pdf,.doc,.docx,.xls,.xlsx,.zip,.rar,.7z",className:"hidden"}),c.jsx("button",{type:"button",onClick:()=>S.current?.click(),className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-all",children:"Choose Portfolio File"}),c.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"PDF, Word, Excel, ZIP, RAR, 7Z up to 200MB"})]})]})]})]})]}),!n&&c.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Cu,{className:"text-blue-600"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-blue-800",children:'You are currently in preview mode. Click "Edit Information" to make changes.'}),c.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Note: You can upload a portfolio file (PDF, Word, Excel, or archive) in addition to or instead of a portfolio URL."})]})]})})]})})]}),ve.isPending&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl flex items-center gap-3",children:[c.jsx(wt,{className:"animate-spin text-primary text-xl"}),c.jsx("span",{className:"text-gray-700",children:"Updating About Us information..."})]})})]})})}var Ih=t=>t.type==="checkbox",Fl=t=>t instanceof Date,cs=t=>t==null;const P_=t=>typeof t=="object";var mr=t=>!cs(t)&&!Array.isArray(t)&&P_(t)&&!Fl(t),Vle=t=>mr(t)&&t.target?Ih(t.target)?t.target.checked:t.target.value:t,Hle=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,qle=(t,e)=>t.has(Hle(e)),Kle=t=>{const e=t.constructor&&t.constructor.prototype;return mr(e)&&e.hasOwnProperty("isPrototypeOf")},OS=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Dr(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(OS&&(t instanceof Blob||r))&&(n||mr(t)))if(e=n?[]:{},!n&&!Kle(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Dr(t[s]));else return t;return e}var Zy=t=>/^\w*$/.test(t),wr=t=>t===void 0,MS=t=>Array.isArray(t)?t.filter(Boolean):[],DS=t=>MS(t.replace(/["|']|\]/g,"").split(/\.|\[/)),It=(t,e,n)=>{if(!e||!mr(t))return n;const r=(Zy(e)?[e]:DS(e)).reduce((s,i)=>cs(s)?s:s[i],t);return wr(r)||r===t?wr(t[e])?n:t[e]:r},Yi=t=>typeof t=="boolean",Yn=(t,e,n)=>{let r=-1;const s=Zy(e)?[e]:DS(e),i=s.length,a=i-1;for(;++r<i;){const l=s[r];let d=n;if(r!==a){const f=t[l];d=mr(f)||Array.isArray(f)?f:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=d,t=t[l]}};const H3={BLUR:"blur",FOCUS_OUT:"focusout"},ji={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Da={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Yle=Vt.createContext(null);Yle.displayName="HookFormContext";var Wle=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const a=i;return e._proxyFormState[a]!==ji.all&&(e._proxyFormState[a]=!r||ji.all),t[a]}});return s};const Gle=typeof window<"u"?Vt.useLayoutEffect:Vt.useEffect;var Xi=t=>typeof t=="string",Xle=(t,e,n,r,s)=>Xi(t)?(r&&e.watch.add(t),It(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),It(n,i))):(r&&(e.watchAll=!0),n),vw=t=>cs(t)||!P_(t);function Mo(t,e,n=new WeakSet){if(vw(t)||vw(e))return t===e;if(Fl(t)&&Fl(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of r){const a=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=e[i];if(Fl(a)&&Fl(l)||mr(a)&&mr(l)||Array.isArray(a)&&Array.isArray(l)?!Mo(a,l,n):a!==l)return!1}}return!0}var Jle=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},Lf=t=>Array.isArray(t)?t:[t],q3=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},ws=t=>mr(t)&&!Object.keys(t).length,RS=t=>t.type==="file",Ti=t=>typeof t=="function",cy=t=>{if(!OS)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},z_=t=>t.type==="select-multiple",_S=t=>t.type==="radio",Qle=t=>_S(t)||Ih(t),Tb=t=>cy(t)&&t.isConnected;function Zle(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=wr(t)?r++:t[e[r++]];return t}function ece(t){for(const e in t)if(t.hasOwnProperty(e)&&!wr(t[e]))return!1;return!0}function vr(t,e){const n=Array.isArray(e)?e:Zy(e)?[e]:DS(e),r=n.length===1?t:Zle(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(mr(r)&&ws(r)||Array.isArray(r)&&ece(r))&&vr(t,n.slice(0,-1)),t}var I_=t=>{for(const e in t)if(Ti(t[e]))return!0;return!1};function uy(t,e={}){const n=Array.isArray(t);if(mr(t)||n)for(const r in t)Array.isArray(t[r])||mr(t[r])&&!I_(t[r])?(e[r]=Array.isArray(t[r])?[]:{},uy(t[r],e[r])):cs(t[r])||(e[r]=!0);return e}function B_(t,e,n){const r=Array.isArray(t);if(mr(t)||r)for(const s in t)Array.isArray(t[s])||mr(t[s])&&!I_(t[s])?wr(e)||vw(n[s])?n[s]=Array.isArray(t[s])?uy(t[s],[]):{...uy(t[s])}:B_(t[s],cs(e)?{}:e[s],n[s]):n[s]=!Mo(t[s],e[s]);return n}var tf=(t,e)=>B_(t,e,uy(e));const K3={value:!1,isValid:!1},Y3={value:!0,isValid:!0};var F_=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!wr(t[0].attributes.value)?wr(t[0].value)||t[0].value===""?Y3:{value:t[0].value,isValid:!0}:Y3:K3}return K3},$_=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>wr(t)?t:e?t===""?NaN:t&&+t:n&&Xi(t)?new Date(t):r?r(t):t;const W3={isValid:!1,value:null};var U_=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,W3):W3;function G3(t){const e=t.ref;return RS(e)?e.files:_S(e)?U_(t.refs).value:z_(e)?[...e.selectedOptions].map(({value:n})=>n):Ih(e)?F_(t.refs).value:$_(wr(e.value)?t.ref.value:e.value,t)}var tce=(t,e,n,r)=>{const s={};for(const i of t){const a=It(e,i);a&&Yn(s,i,a._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},dy=t=>t instanceof RegExp,nf=t=>wr(t)?t:dy(t)?t.source:mr(t)?dy(t.value)?t.value.source:t.value:t,X3=t=>({isOnSubmit:!t||t===ji.onSubmit,isOnBlur:t===ji.onBlur,isOnChange:t===ji.onChange,isOnAll:t===ji.all,isOnTouch:t===ji.onTouched});const J3="AsyncFunction";var nce=t=>!!t&&!!t.validate&&!!(Ti(t.validate)&&t.validate.constructor.name===J3||mr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===J3)),rce=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Q3=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Pf=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=It(t,s);if(i){const{_f:a,...l}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(Pf(l,e))break}else if(mr(l)&&Pf(l,e))break}}};function Z3(t,e,n){const r=It(t,n);if(r||Zy(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),a=It(e,i),l=It(t,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:n}}var sce=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return ws(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!r||ji.all))},ice=(t,e,n)=>!t||!e||t===e||Lf(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),ace=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,oce=(t,e)=>!MS(It(t,e)).length&&vr(t,e),lce=(t,e,n)=>{const r=Lf(It(t,n));return Yn(r,"root",e[n]),Yn(t,n,r),t},Gm=t=>Xi(t);function e5(t,e,n="validate"){if(Gm(t)||Array.isArray(t)&&t.every(Gm)||Yi(t)&&!t)return{type:n,message:Gm(t)?t:"",ref:e}}var eu=t=>mr(t)&&!dy(t)?t:{value:t,message:""},t5=async(t,e,n,r,s,i)=>{const{ref:a,refs:l,required:d,maxLength:f,minLength:p,min:m,max:y,pattern:x,validate:b,name:S,valueAsNumber:C,mount:N}=t._f,k=It(n,S);if(!N||e.has(S))return{};const M=l?l[0]:a,D=oe=>{s&&M.reportValidity&&(M.setCustomValidity(Yi(oe)?"":oe||""),M.reportValidity())},E={},A=_S(a),F=Ih(a),H=A||F,Z=(C||RS(a))&&wr(a.value)&&wr(k)||cy(a)&&a.value===""||k===""||Array.isArray(k)&&!k.length,ve=Jle.bind(null,S,r,E),ue=(oe,te,ne,xe=Da.maxLength,W=Da.minLength)=>{const le=oe?te:ne;E[S]={type:oe?xe:W,message:le,ref:a,...ve(oe?xe:W,le)}};if(i?!Array.isArray(k)||!k.length:d&&(!H&&(Z||cs(k))||Yi(k)&&!k||F&&!F_(l).isValid||A&&!U_(l).isValid)){const{value:oe,message:te}=Gm(d)?{value:!!d,message:d}:eu(d);if(oe&&(E[S]={type:Da.required,message:te,ref:M,...ve(Da.required,te)},!r))return D(te),E}if(!Z&&(!cs(m)||!cs(y))){let oe,te;const ne=eu(y),xe=eu(m);if(!cs(k)&&!isNaN(k)){const W=a.valueAsNumber||k&&+k;cs(ne.value)||(oe=W>ne.value),cs(xe.value)||(te=W<xe.value)}else{const W=a.valueAsDate||new Date(k),le=$=>new Date(new Date().toDateString()+" "+$),be=a.type=="time",Fe=a.type=="week";Xi(ne.value)&&k&&(oe=be?le(k)>le(ne.value):Fe?k>ne.value:W>new Date(ne.value)),Xi(xe.value)&&k&&(te=be?le(k)<le(xe.value):Fe?k<xe.value:W<new Date(xe.value))}if((oe||te)&&(ue(!!oe,ne.message,xe.message,Da.max,Da.min),!r))return D(E[S].message),E}if((f||p)&&!Z&&(Xi(k)||i&&Array.isArray(k))){const oe=eu(f),te=eu(p),ne=!cs(oe.value)&&k.length>+oe.value,xe=!cs(te.value)&&k.length<+te.value;if((ne||xe)&&(ue(ne,oe.message,te.message),!r))return D(E[S].message),E}if(x&&!Z&&Xi(k)){const{value:oe,message:te}=eu(x);if(dy(oe)&&!k.match(oe)&&(E[S]={type:Da.pattern,message:te,ref:a,...ve(Da.pattern,te)},!r))return D(te),E}if(b){if(Ti(b)){const oe=await b(k,n),te=e5(oe,M);if(te&&(E[S]={...te,...ve(Da.validate,te.message)},!r))return D(te.message),E}else if(mr(b)){let oe={};for(const te in b){if(!ws(oe)&&!r)break;const ne=e5(await b[te](k,n),M,te);ne&&(oe={...ne,...ve(te,ne.message)},D(ne.message),r&&(E[S]=oe))}if(!ws(oe)&&(E[S]={ref:M,...oe},!r))return E}}return D(!0),E};const cce={mode:ji.onSubmit,reValidateMode:ji.onChange,shouldFocusError:!0};function uce(t={}){let e={...cce,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ti(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=mr(e.defaultValues)||mr(e.values)?Dr(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Dr(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,f=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...p};const y={array:q3(),state:q3()},x=e.criteriaMode===ji.all,b=B=>se=>{clearTimeout(f),f=setTimeout(B,se)},S=async B=>{if(!e.disabled&&(p.isValid||m.isValid||B)){const se=e.resolver?ws((await F()).errors):await Z(r,!0);se!==n.isValid&&y.state.next({isValid:se})}},C=(B,se)=>{!e.disabled&&(p.isValidating||p.validatingFields||m.isValidating||m.validatingFields)&&((B||Array.from(l.mount)).forEach(I=>{I&&(se?Yn(n.validatingFields,I,se):vr(n.validatingFields,I))}),y.state.next({validatingFields:n.validatingFields,isValidating:!ws(n.validatingFields)}))},N=(B,se=[],I,fe,we=!0,V=!0)=>{if(fe&&I&&!e.disabled){if(a.action=!0,V&&Array.isArray(It(r,B))){const U=I(It(r,B),fe.argA,fe.argB);we&&Yn(r,B,U)}if(V&&Array.isArray(It(n.errors,B))){const U=I(It(n.errors,B),fe.argA,fe.argB);we&&Yn(n.errors,B,U),oce(n.errors,B)}if((p.touchedFields||m.touchedFields)&&V&&Array.isArray(It(n.touchedFields,B))){const U=I(It(n.touchedFields,B),fe.argA,fe.argB);we&&Yn(n.touchedFields,B,U)}(p.dirtyFields||m.dirtyFields)&&(n.dirtyFields=tf(s,i)),y.state.next({name:B,isDirty:ue(B,se),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Yn(i,B,se)},k=(B,se)=>{Yn(n.errors,B,se),y.state.next({errors:n.errors})},M=B=>{n.errors=B,y.state.next({errors:n.errors,isValid:!1})},D=(B,se,I,fe)=>{const we=It(r,B);if(we){const V=It(i,B,wr(I)?It(s,B):I);wr(V)||fe&&fe.defaultChecked||se?Yn(i,B,se?V:G3(we._f)):ne(B,V),a.mount&&S()}},E=(B,se,I,fe,we)=>{let V=!1,U=!1;const Ce={name:B};if(!e.disabled){if(!I||fe){(p.isDirty||m.isDirty)&&(U=n.isDirty,n.isDirty=Ce.isDirty=ue(),V=U!==Ce.isDirty);const et=Mo(It(s,B),se);U=!!It(n.dirtyFields,B),et?vr(n.dirtyFields,B):Yn(n.dirtyFields,B,!0),Ce.dirtyFields=n.dirtyFields,V=V||(p.dirtyFields||m.dirtyFields)&&U!==!et}if(I){const et=It(n.touchedFields,B);et||(Yn(n.touchedFields,B,I),Ce.touchedFields=n.touchedFields,V=V||(p.touchedFields||m.touchedFields)&&et!==I)}V&&we&&y.state.next(Ce)}return V?Ce:{}},A=(B,se,I,fe)=>{const we=It(n.errors,B),V=(p.isValid||m.isValid)&&Yi(se)&&n.isValid!==se;if(e.delayError&&I?(d=b(()=>k(B,I)),d(e.delayError)):(clearTimeout(f),d=null,I?Yn(n.errors,B,I):vr(n.errors,B)),(I?!Mo(we,I):we)||!ws(fe)||V){const U={...fe,...V&&Yi(se)?{isValid:se}:{},errors:n.errors,name:B};n={...n,...U},y.state.next(U)}},F=async B=>{C(B,!0);const se=await e.resolver(i,e.context,tce(B||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return C(B),se},H=async B=>{const{errors:se}=await F(B);if(B)for(const I of B){const fe=It(se,I);fe?Yn(n.errors,I,fe):vr(n.errors,I)}else n.errors=se;return se},Z=async(B,se,I={valid:!0})=>{for(const fe in B){const we=B[fe];if(we){const{_f:V,...U}=we;if(V){const Ce=l.array.has(V.name),et=we._f&&nce(we._f);et&&p.validatingFields&&C([fe],!0);const ht=await t5(we,l.disabled,i,x,e.shouldUseNativeValidation&&!se,Ce);if(et&&p.validatingFields&&C([fe]),ht[V.name]&&(I.valid=!1,se))break;!se&&(It(ht,V.name)?Ce?lce(n.errors,ht,V.name):Yn(n.errors,V.name,ht[V.name]):vr(n.errors,V.name))}!ws(U)&&await Z(U,se,I)}}return I.valid},ve=()=>{for(const B of l.unMount){const se=It(r,B);se&&(se._f.refs?se._f.refs.every(I=>!Tb(I)):!Tb(se._f.ref))&&Ye(B)}l.unMount=new Set},ue=(B,se)=>!e.disabled&&(B&&se&&Yn(i,B,se),!Mo($(),s)),oe=(B,se,I)=>Xle(B,l,{...a.mount?i:wr(se)?s:Xi(B)?{[B]:se}:se},I,se),te=B=>MS(It(a.mount?i:s,B,e.shouldUnregister?It(s,B,[]):[])),ne=(B,se,I={})=>{const fe=It(r,B);let we=se;if(fe){const V=fe._f;V&&(!V.disabled&&Yn(i,B,$_(se,V)),we=cy(V.ref)&&cs(se)?"":se,z_(V.ref)?[...V.ref.options].forEach(U=>U.selected=we.includes(U.value)):V.refs?Ih(V.ref)?V.refs.forEach(U=>{(!U.defaultChecked||!U.disabled)&&(Array.isArray(we)?U.checked=!!we.find(Ce=>Ce===U.value):U.checked=we===U.value||!!we)}):V.refs.forEach(U=>U.checked=U.value===we):RS(V.ref)?V.ref.value="":(V.ref.value=we,V.ref.type||y.state.next({name:B,values:Dr(i)})))}(I.shouldDirty||I.shouldTouch)&&E(B,we,I.shouldTouch,I.shouldDirty,!0),I.shouldValidate&&Fe(B)},xe=(B,se,I)=>{for(const fe in se){if(!se.hasOwnProperty(fe))return;const we=se[fe],V=B+"."+fe,U=It(r,V);(l.array.has(B)||mr(we)||U&&!U._f)&&!Fl(we)?xe(V,we,I):ne(V,we,I)}},W=(B,se,I={})=>{const fe=It(r,B),we=l.array.has(B),V=Dr(se);Yn(i,B,V),we?(y.array.next({name:B,values:Dr(i)}),(p.isDirty||p.dirtyFields||m.isDirty||m.dirtyFields)&&I.shouldDirty&&y.state.next({name:B,dirtyFields:tf(s,i),isDirty:ue(B,V)})):fe&&!fe._f&&!cs(V)?xe(B,V,I):ne(B,V,I),Q3(B,l)&&y.state.next({...n,name:B}),y.state.next({name:a.mount?B:void 0,values:Dr(i)})},le=async B=>{a.mount=!0;const se=B.target;let I=se.name,fe=!0;const we=It(r,I),V=et=>{fe=Number.isNaN(et)||Fl(et)&&isNaN(et.getTime())||Mo(et,It(i,I,et))},U=X3(e.mode),Ce=X3(e.reValidateMode);if(we){let et,ht;const Jt=se.type?G3(we._f):Vle(B),Pt=B.type===H3.BLUR||B.type===H3.FOCUS_OUT,an=!rce(we._f)&&!e.resolver&&!It(n.errors,I)&&!we._f.deps||ace(Pt,It(n.touchedFields,I),n.isSubmitted,Ce,U),Qt=Q3(I,l,Pt);Yn(i,I,Jt),Pt?(we._f.onBlur&&we._f.onBlur(B),d&&d(0)):we._f.onChange&&we._f.onChange(B);const Te=E(I,Jt,Pt),ot=!ws(Te)||Qt;if(!Pt&&y.state.next({name:I,type:B.type,values:Dr(i)}),an)return(p.isValid||m.isValid)&&(e.mode==="onBlur"?Pt&&S():Pt||S()),ot&&y.state.next({name:I,...Qt?{}:Te});if(!Pt&&Qt&&y.state.next({...n}),e.resolver){const{errors:pt}=await F([I]);if(V(Jt),fe){const me=Z3(n.errors,r,I),mt=Z3(pt,r,me.name||I);et=mt.error,I=mt.name,ht=ws(pt)}}else C([I],!0),et=(await t5(we,l.disabled,i,x,e.shouldUseNativeValidation))[I],C([I]),V(Jt),fe&&(et?ht=!1:(p.isValid||m.isValid)&&(ht=await Z(r,!0)));fe&&(we._f.deps&&Fe(we._f.deps),A(I,ht,et,Te))}},be=(B,se)=>{if(It(n.errors,se)&&B.focus)return B.focus(),1},Fe=async(B,se={})=>{let I,fe;const we=Lf(B);if(e.resolver){const V=await H(wr(B)?B:we);I=ws(V),fe=B?!we.some(U=>It(V,U)):I}else B?(fe=(await Promise.all(we.map(async V=>{const U=It(r,V);return await Z(U&&U._f?{[V]:U}:U)}))).every(Boolean),!(!fe&&!n.isValid)&&S()):fe=I=await Z(r);return y.state.next({...!Xi(B)||(p.isValid||m.isValid)&&I!==n.isValid?{}:{name:B},...e.resolver||!B?{isValid:I}:{},errors:n.errors}),se.shouldFocus&&!fe&&Pf(r,be,B?we:l.mount),fe},$=B=>{const se={...a.mount?i:s};return wr(B)?se:Xi(B)?It(se,B):B.map(I=>It(se,I))},de=(B,se)=>({invalid:!!It((se||n).errors,B),isDirty:!!It((se||n).dirtyFields,B),error:It((se||n).errors,B),isValidating:!!It(n.validatingFields,B),isTouched:!!It((se||n).touchedFields,B)}),ie=B=>{B&&Lf(B).forEach(se=>vr(n.errors,se)),y.state.next({errors:B?n.errors:{}})},he=(B,se,I)=>{const fe=(It(r,B,{_f:{}})._f||{}).ref,we=It(n.errors,B)||{},{ref:V,message:U,type:Ce,...et}=we;Yn(n.errors,B,{...et,...se,ref:fe}),y.state.next({name:B,errors:n.errors,isValid:!1}),I&&I.shouldFocus&&fe&&fe.focus&&fe.focus()},ke=(B,se)=>Ti(B)?y.state.subscribe({next:I=>"values"in I&&B(oe(void 0,se),I)}):oe(B,se,!0),ze=B=>y.state.subscribe({next:se=>{ice(B.name,se.name,B.exact)&&sce(se,B.formState||p,qe,B.reRenderRoot)&&B.callback({values:{...i},...n,...se,defaultValues:s})}}).unsubscribe,Me=B=>(a.mount=!0,m={...m,...B.formState},ze({...B,formState:m})),Ye=(B,se={})=>{for(const I of B?Lf(B):l.mount)l.mount.delete(I),l.array.delete(I),se.keepValue||(vr(r,I),vr(i,I)),!se.keepError&&vr(n.errors,I),!se.keepDirty&&vr(n.dirtyFields,I),!se.keepTouched&&vr(n.touchedFields,I),!se.keepIsValidating&&vr(n.validatingFields,I),!e.shouldUnregister&&!se.keepDefaultValue&&vr(s,I);y.state.next({values:Dr(i)}),y.state.next({...n,...se.keepDirty?{isDirty:ue()}:{}}),!se.keepIsValid&&S()},Re=({disabled:B,name:se})=>{(Yi(B)&&a.mount||B||l.disabled.has(se))&&(B?l.disabled.add(se):l.disabled.delete(se))},ut=(B,se={})=>{let I=It(r,B);const fe=Yi(se.disabled)||Yi(e.disabled);return Yn(r,B,{...I||{},_f:{...I&&I._f?I._f:{ref:{name:B}},name:B,mount:!0,...se}}),l.mount.add(B),I?Re({disabled:Yi(se.disabled)?se.disabled:e.disabled,name:B}):D(B,!0,se.value),{...fe?{disabled:se.disabled||e.disabled}:{},...e.progressive?{required:!!se.required,min:nf(se.min),max:nf(se.max),minLength:nf(se.minLength),maxLength:nf(se.maxLength),pattern:nf(se.pattern)}:{},name:B,onChange:le,onBlur:le,ref:we=>{if(we){ut(B,se),I=It(r,B);const V=wr(we.value)&&we.querySelectorAll&&we.querySelectorAll("input,select,textarea")[0]||we,U=Qle(V),Ce=I._f.refs||[];if(U?Ce.find(et=>et===V):V===I._f.ref)return;Yn(r,B,{_f:{...I._f,...U?{refs:[...Ce.filter(Tb),V,...Array.isArray(It(s,B))?[{}]:[]],ref:{type:V.type,name:B}}:{ref:V}}}),D(B,!1,void 0,V)}else I=It(r,B,{}),I._f&&(I._f.mount=!1),(e.shouldUnregister||se.shouldUnregister)&&!(qle(l.array,B)&&a.action)&&l.unMount.add(B)}}},Ze=()=>e.shouldFocusError&&Pf(r,be,l.mount),St=B=>{Yi(B)&&(y.state.next({disabled:B}),Pf(r,(se,I)=>{const fe=It(r,I);fe&&(se.disabled=fe._f.disabled||B,Array.isArray(fe._f.refs)&&fe._f.refs.forEach(we=>{we.disabled=fe._f.disabled||B}))},0,!1))},Nt=(B,se)=>async I=>{let fe;I&&(I.preventDefault&&I.preventDefault(),I.persist&&I.persist());let we=Dr(i);if(y.state.next({isSubmitting:!0}),e.resolver){const{errors:V,values:U}=await F();n.errors=V,we=Dr(U)}else await Z(r);if(l.disabled.size)for(const V of l.disabled)vr(we,V);if(vr(n.errors,"root"),ws(n.errors)){y.state.next({errors:{}});try{await B(we,I)}catch(V){fe=V}}else se&&await se({...n.errors},I),Ze(),setTimeout(Ze);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ws(n.errors)&&!fe,submitCount:n.submitCount+1,errors:n.errors}),fe)throw fe},Ft=(B,se={})=>{It(r,B)&&(wr(se.defaultValue)?W(B,Dr(It(s,B))):(W(B,se.defaultValue),Yn(s,B,Dr(se.defaultValue))),se.keepTouched||vr(n.touchedFields,B),se.keepDirty||(vr(n.dirtyFields,B),n.isDirty=se.defaultValue?ue(B,Dr(It(s,B))):ue()),se.keepError||(vr(n.errors,B),p.isValid&&S()),y.state.next({...n}))},nt=(B,se={})=>{const I=B?Dr(B):s,fe=Dr(I),we=ws(B),V=we?s:fe;if(se.keepDefaultValues||(s=I),!se.keepValues){if(se.keepDirtyValues){const U=new Set([...l.mount,...Object.keys(tf(s,i))]);for(const Ce of Array.from(U))It(n.dirtyFields,Ce)?Yn(V,Ce,It(i,Ce)):W(Ce,It(V,Ce))}else{if(OS&&wr(B))for(const U of l.mount){const Ce=It(r,U);if(Ce&&Ce._f){const et=Array.isArray(Ce._f.refs)?Ce._f.refs[0]:Ce._f.ref;if(cy(et)){const ht=et.closest("form");if(ht){ht.reset();break}}}}if(se.keepFieldsRef)for(const U of l.mount)W(U,It(V,U));else r={}}i=e.shouldUnregister?se.keepDefaultValues?Dr(s):{}:Dr(V),y.array.next({values:{...V}}),y.state.next({values:{...V}})}l={mount:se.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!p.isValid||!!se.keepIsValid||!!se.keepDirtyValues,a.watch=!!e.shouldUnregister,y.state.next({submitCount:se.keepSubmitCount?n.submitCount:0,isDirty:we?!1:se.keepDirty?n.isDirty:!!(se.keepDefaultValues&&!Mo(B,s)),isSubmitted:se.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:we?{}:se.keepDirtyValues?se.keepDefaultValues&&i?tf(s,i):n.dirtyFields:se.keepDefaultValues&&B?tf(s,B):se.keepDirty?n.dirtyFields:{},touchedFields:se.keepTouched?n.touchedFields:{},errors:se.keepErrors?n.errors:{},isSubmitSuccessful:se.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},ee=(B,se)=>nt(Ti(B)?B(i):B,se),Ve=(B,se={})=>{const I=It(r,B),fe=I&&I._f;if(fe){const we=fe.refs?fe.refs[0]:fe.ref;we.focus&&(we.focus(),se.shouldSelect&&Ti(we.select)&&we.select())}},qe=B=>{n={...n,...B}},bt={control:{register:ut,unregister:Ye,getFieldState:de,handleSubmit:Nt,setError:he,_subscribe:ze,_runSchema:F,_focusError:Ze,_getWatch:oe,_getDirty:ue,_setValid:S,_setFieldArray:N,_setDisabledField:Re,_setErrors:M,_getFieldArray:te,_reset:nt,_resetDefaultValues:()=>Ti(e.defaultValues)&&e.defaultValues().then(B=>{ee(B,e.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:ve,_disableForm:St,_subjects:y,_proxyFormState:p,get _fields(){return r},get _formValues(){return i},get _state(){return a},set _state(B){a=B},get _defaultValues(){return s},get _names(){return l},set _names(B){l=B},get _formState(){return n},get _options(){return e},set _options(B){e={...e,...B}}},subscribe:Me,trigger:Fe,register:ut,handleSubmit:Nt,watch:ke,setValue:W,getValues:$,reset:ee,resetField:Ft,clearErrors:ie,unregister:Ye,setError:he,setFocus:Ve,getFieldState:de};return{...bt,formControl:bt}}function dce(t={}){const e=Vt.useRef(void 0),n=Vt.useRef(void 0),[r,s]=Vt.useState({isDirty:!1,isValidating:!1,isLoading:Ti(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ti(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!Ti(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...l}=uce(t);e.current={...l,formState:r}}const i=e.current.control;return i._options=t,Gle(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,a},[i]),Vt.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Vt.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),Vt.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),Vt.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),Vt.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==r.isDirty&&i._subjects.state.next({isDirty:a})}},[i,r.isDirty]),Vt.useEffect(()=>{t.values&&!Mo(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=t.values,s(a=>({...a}))):i._resetDefaultValues()},[i,t.values]),Vt.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=Wle(r,i),e.current}function fce(){const t=Li(),[e,n]=j.useState(!1),[r,s]=j.useState(null),[i,a]=j.useState(null),[l,d]=j.useState(!1),[f,p]=j.useState(""),[m,y]=j.useState(null),{register:x,handleSubmit:b,reset:S,watch:C,setValue:N,formState:{errors:k}}=dce(),{data:M,isLoading:D}=Cn({queryKey:["currentUser"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})});j.useEffect(()=>{e&&M?.data?.data?.admin&&(N("name",M.data.data.admin.name),N("email",M.data.data.admin.email),N("bio",M.data.data.admin.bio||""))},[e,M,N]);const E=di({mutationFn:async()=>Ge.post("https://nexus-consults.com/api/public/api/admin/auth/settings/request-update",{},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),onSuccess:()=>{Sr.success("Verification code sent to your email"),d(!0)},onError:ue=>{Sr.error(ue.response?.data?.message||"Failed to send verification code")}}),A=di({mutationFn:async({formData:ue,verificationCode:oe})=>{const te=new FormData;return te.append("name",ue.name),te.append("email",ue.email),te.append("bio",ue.bio),te.append("code",oe),ue.password&&te.append("password",ue.password),r&&te.append("profile_image",r),Ge.post("https://nexus-consults.com/api/public/api/admin/auth/settings/confirm-update",te,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}})},onSuccess:()=>{Sr.success("Profile updated successfully"),t.invalidateQueries(["currentUser"]),n(!1),s(null),a(null),d(!1),p(""),y(null)},onError:ue=>{Sr.error(ue.response?.data?.message||"Failed to update profile")}}),F=ue=>{const oe=ue.target.files[0];if(oe){s(oe);const te=new FileReader;te.onloadend=()=>{a(te.result)},te.readAsDataURL(oe)}},H=ue=>{y(ue),E.mutate()},Z=()=>{if(!f.trim()){Sr.error("Please enter verification code");return}A.mutate({formData:m,verificationCode:f.trim()})},ve=()=>{d(!1),p(""),y(null)};return D?c.jsxs("div",{className:"mx-auto p-6",children:[c.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-8 animate-pulse"}),c.jsxs("div",{className:"flex flex-col gap-8",children:[c.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[c.jsxs("div",{className:"flex items-center mb-8",children:[c.jsx("div",{className:"relative",children:c.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 animate-pulse"})}),c.jsxs("div",{className:"ml-6 space-y-2",children:[c.jsx("div",{className:"h-6 bg-gray-200 rounded w-40 animate-pulse"}),c.jsx("div",{className:"h-4 bg-gray-200 rounded w-48 animate-pulse"}),c.jsx("div",{className:"h-3 bg-gray-200 rounded w-32 animate-pulse"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[[1,2,3,4].map(ue=>c.jsxs("div",{children:[c.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-1 animate-pulse"}),c.jsx("div",{className:"h-10 bg-gray-100 rounded-md animate-pulse"})]},ue)),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/6 mb-1 animate-pulse"}),c.jsx("div",{className:"h-20 bg-gray-100 rounded-md animate-pulse"})]})]}),c.jsx("div",{className:"mt-8 flex justify-end",children:c.jsx("div",{className:"h-10 bg-gray-200 rounded w-32 animate-pulse"})})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[c.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-6 animate-pulse"}),c.jsx("div",{className:"flex flex-wrap gap-3",children:[1,2,3,4,5].map(ue=>c.jsx("div",{className:"h-8 bg-gray-100 rounded-xl w-24 animate-pulse"},ue))})]})]})]}):c.jsxs("div",{className:"mx-auto p-6",children:[c.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:["Welcome ",M?.data?.data?.admin?.name.split(" ")[0]]}),c.jsxs("div",{className:"flex flex-col gap-8",children:[c.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[c.jsxs("div",{className:"flex items-center mb-8",children:[c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:i||M?.data?.data?.admin?.profile_image,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-2 border-gray-200"}),e&&c.jsxs("label",{className:"absolute bottom-0 right-0 bg-blue-500 text-white rounded-full p-2 cursor-pointer",children:[c.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:F}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 3H8.828a2 2 0 00-1.414.586L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})})]})]}),c.jsxs("div",{className:"ml-6",children:[c.jsx("h2",{className:"text-xl font-semibold",children:M?.data?.data?.admin?.name}),c.jsx("p",{className:"text-gray-600",children:M?.data?.data?.admin?.email})]})]}),c.jsxs("form",{onSubmit:b(H),children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),e?c.jsx("input",{type:"text",...x("name",{required:"Name is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:E.isPending}):c.jsx("p",{className:"px-3 py-2 bg-gray-50 rounded-md",children:M?.data?.data?.admin?.name}),k.name&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:k.name.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e?c.jsx("input",{type:"email",...x("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):c.jsx("p",{className:"px-3 py-2 bg-gray-50 rounded-md",children:M?.data?.data?.admin?.email}),k.email&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:k.email.message})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bio"}),e?c.jsx("textarea",{...x("bio"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Tell us about yourself...",disabled:E.isPending}):c.jsx("p",{className:"px-3 py-2 bg-gray-50 rounded-md whitespace-pre-line",children:M?.data?.data?.admin?.bio||"No bio yet"})]}),e&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),c.jsx("input",{type:"password",...x("password"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Leave blank to keep current password",disabled:E.isPending})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),c.jsx("input",{type:"password",...x("confirmPassword",{validate:ue=>{const oe=C("password");return!oe&&!ue?!0:ue===oe||"Passwords do not match"}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Confirm new password",disabled:E.isPending}),k.confirmPassword&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:k.confirmPassword.message})]})]})]}),c.jsx("div",{className:"mt-8 flex justify-end space-x-3",children:e?c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",onClick:()=>{n(!1),S(),s(null),a(null)},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:E.isPending,children:"Cancel"}),c.jsxs("button",{type:"submit",disabled:E.isPending,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[E.isPending&&c.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 714 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),E.isPending?"Sending Code...":"Save Changes"]})]}):c.jsx("button",{type:"button",onClick:()=>n(!0),className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Edit Profile"})})]})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[c.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Permissions"}),c.jsx("div",{className:"flex flex-wrap gap-3",children:M?.data?.data?.admin?.permissions?.map((ue,oe)=>c.jsx("div",{className:"bg-gray-100 shadow p-1 rounded-xl",children:ue.replaceAll("_"," ")},oe))})]})]}),l&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Email Verification"}),c.jsx("button",{onClick:ve,className:"text-gray-500 hover:text-gray-700",disabled:A.isPending,children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("p",{className:"text-gray-600 mb-4",children:"We've sent a verification code to your email address. Please enter it below to confirm your profile changes."}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Verification Code"}),c.jsx("input",{type:"text",value:f,onChange:ue=>p(ue.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter 6-digit code",maxLength:6,disabled:A.isPending})]}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx("button",{type:"button",onClick:ve,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:A.isPending,children:"Cancel"}),c.jsxs("button",{onClick:Z,disabled:A.isPending||!f.trim(),className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[A.isPending&&c.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 714 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),A.isPending?"Updating...":"Verify & Update"]})]}),c.jsx("div",{className:"mt-4 text-center",children:c.jsxs("button",{onClick:()=>E.mutate(),disabled:E.isPending||A.isPending,className:"text-blue-500 hover:text-blue-600 text-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 mx-auto",children:[E.isPending&&c.jsxs("svg",{className:"animate-spin h-3 w-3",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 714 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),E.isPending?"Sending...":"Resend Code"]})})]})})]})}const n5=Vt.memo(({sectionId:t,label:e,existingImage:n,currentImage:r,caption:s,onImageChange:i,onRemoveImage:a,onRemoveExistingImage:l,onCaptionChange:d})=>{const f=n,[p,m]=j.useState(null),y=j.useRef(null);j.useEffect(()=>{if(r&&r instanceof File){const S=URL.createObjectURL(r);return m(S),()=>{URL.revokeObjectURL(S),m(null)}}else m(null)},[r]);const x=S=>{S.target.files&&S.target.files[0]&&i(t,S.target.files[0])},b=S=>{d&&d(t,S.target.value)};return c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),p?c.jsxs("div",{className:"relative mb-4",children:[c.jsx("img",{src:p,alt:"Preview",className:"h-48 w-full object-cover rounded-lg"}),c.jsx("button",{type:"button",onClick:()=>a(t),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 transition-colors",children:c.jsx($t,{size:16})})]}):f?c.jsxs("div",{className:"relative mb-4",children:[c.jsx("img",{src:f,alt:"Current",className:"h-48 w-full object-cover rounded-lg"}),c.jsx("button",{type:"button",onClick:()=>l(t),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2",children:c.jsx($t,{size:16})})]}):c.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[c.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[c.jsx(sa,{className:"w-8 h-8 mb-3 text-gray-400"}),c.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[c.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),c.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, JPEG (MAX. 5MB)"})]}),c.jsx("input",{ref:y,type:"file",className:"hidden",onChange:x,accept:"image/*"})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image Caption"}),c.jsx("input",{type:"text",value:s||"",onChange:b,className:"w-full px-3 py-2 border rounded-md",placeholder:"Enter image caption (optional)"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add a caption for the image (optional)"})]})]})}),r5=Vt.memo(({name:t,label:e,existingImage:n,currentImage:r,onImageChange:s,onRemoveImage:i})=>{const a=n,[l,d]=j.useState(null);return j.useEffect(()=>{if(r&&r instanceof File){const f=URL.createObjectURL(r);return d(f),()=>{URL.revokeObjectURL(f),d(null)}}else d(null)},[r]),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),l?c.jsxs("div",{className:"relative mb-4",children:[c.jsx("img",{src:l,alt:"Preview",className:"h-48 w-full object-cover rounded-lg"}),c.jsx("button",{type:"button",onClick:()=>i(t),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 transition-colors",children:c.jsx($t,{size:16})})]}):a?c.jsxs("div",{className:"relative mb-4",children:[c.jsx("img",{src:a,alt:"Current",className:"h-48 w-full object-cover rounded-lg"}),c.jsx("button",{type:"button",onClick:()=>i(`existing_${t}`),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2",children:c.jsx($t,{size:16})})]}):c.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[c.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[c.jsx(sa,{className:"w-8 h-8 mb-3 text-gray-400"}),c.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[c.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),c.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, JPEG (MAX. 5MB)"})]}),c.jsx("input",{id:t,name:t,type:"file",className:"hidden",onChange:s,accept:"image/*"})]})]})},(t,e)=>t.name===e.name&&t.label===e.label&&t.existingImage===e.existingImage&&t.currentImage===e.currentImage);function hce({disciplinessData:t,loading:e,refetch:n}){const r=Hn(),s=Li(),[i,a]=j.useState([]),[l,d]=j.useState(!1),[f,p]=j.useState(!1),[m,y]=j.useState({global:"",title:"",is_active:"",created_by:"",created_from:"",created_to:""}),[x,b]=j.useState(1),[S]=j.useState(10),[C,N]=j.useState(null),[k,M]=j.useState(!1),[D,E]=j.useState(null),[A,F]=j.useState(null),[H,Z]=j.useState(!1),[ve,ue]=j.useState(!1),[oe,te]=j.useState(!1),[ne,xe]=j.useState(null),[W,le]=j.useState(!1),[be,Fe]=j.useState(!1),[$,de]=j.useState(null),[ie,he]=j.useState({title:"",slug:"",description:"",order:0,is_active:!0,show_on_home:!1,cover_photo:null,sections:[]}),[ke,ze]=j.useState({id:null,title:"",slug:"",description:"",order:0,is_active:!0,show_on_home:!1,cover_photo:null,existing_cover_photo:null,sections:[]}),[Me,Ye]=j.useState(!1),[Re,ut]=j.useState(!1),Ze="disciplineDrafts",St="disciplineDrafts_beforeunload_fallback",[Nt,Ft]=j.useState([]),[nt,ee]=j.useState(null),Ve=j.useRef(null),qe=j.useRef(""),{data:at}=Cn({queryKey:["currentUser"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})}),{data:bt,isLoading:B,refetch:se}=Cn({queryKey:["discipline",ne],queryFn:()=>ne?Ge.get(`https://nexus-consults.com/api/public/api/admin/disciplines/${ne}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}).then(_=>_.data.data):Promise.resolve(null),enabled:!!ne}),I=async()=>{try{const _=await la.getItem(Ze),K=Array.isArray(_)?_:[];Ft(K);const R=localStorage.getItem(St);if(R){try{const q=JSON.parse(R);q&&typeof q=="object"&&we(q)}catch{}localStorage.removeItem(St)}}catch{}},fe=async _=>{try{await la.setItem(Ze,_)}catch(K){console.error("Persist drafts failed",K),ye.error("Could not save drafts locally")}},we=async _=>{Ft(K=>{const R=K.findIndex(Le=>Le.id===_.id);let q=[...K];const re=new Date().toISOString();if(R>=0)q[R]={...K[R],..._,updatedAt:re};else{const Le=_.slug?K.findIndex(ft=>ft.slug===_.slug&&ft.slug):-1;Le>=0?q[Le]={...K[Le],..._,id:K[Le].id,updatedAt:re}:q.push({..._,updatedAt:re})}return q.length>20&&(q=q.slice().sort((Le,ft)=>new Date(ft.updatedAt)-new Date(Le.updatedAt)).slice(0,20)),fe(q),q})},V=async _=>{Ft(K=>{const R=K.filter(q=>q.id!==_);return fe(R),R}),nt===_&&ee(null)},U=async _=>{_&&Ft(K=>{const R=K.filter(q=>q.slug!==_);return fe(R),R})};j.useEffect(()=>{I()},[]);const Ce=()=>{if(!(ie.title&&ie.title.trim()!==""||ie.description&&ie.description.trim()!==""||ie.sections.some(q=>q.content&&q.content.trim()!=="")))return null;let K=nt;if(!K&&ie.slug){const q=Nt.find(re=>re.slug===ie.slug);q&&(K=q.id)}const R=ie.sections.map(q=>({content:q.content||"",caption:q.caption||"",image_meta:q.image?{name:q.image.name,type:q.image.type,size:q.image.size}:null,existing_image:q.existing_image||null}));return{id:K||`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,title:ie.title,slug:ie.slug,description:ie.description,order:ie.order||0,is_active:ie.is_active,show_on_home:ie.show_on_home||!1,sections:R,cover_photo_meta:ie.cover_photo?{name:ie.cover_photo.name,type:ie.cover_photo.type,size:ie.cover_photo.size}:null}},et=()=>{const _=Ce();_&&(ee(_.id),we(_),ye.success("Draft saved locally"))},ht=_=>{const K=_.sections?.map(R=>({id:Date.now()+Math.random(),content:R.content||"",caption:R.caption||"",image:null,existing_image:R.existing_image||null}))||[];he({title:_.title||"",slug:_.slug||"",description:_.description||"",order:_.order||0,is_active:_.is_active??!0,show_on_home:_.show_on_home||!1,sections:K,cover_photo:null}),Ye(!0),ee(_.id),Z(!0),ye("Draft loaded")};j.useEffect(()=>{if(H){Ve.current=setInterval(()=>{const K=Ce();if(K){const R=JSON.stringify({title:K.title,description:K.description,order:K.order,sections:K.sections});R!==qe.current&&(ee(q=>q||K.id),we(K),qe.current=R)}},5e3);const _=()=>{const K=Ce();if(K){we(K);try{localStorage.setItem(St,JSON.stringify(K))}catch{}}};return window.addEventListener("beforeunload",_),()=>{Ve.current&&clearInterval(Ve.current),window.removeEventListener("beforeunload",_),qe.current=""}}else Ve.current&&clearInterval(Ve.current),qe.current=""},[H]);const Jt=(_,K)=>{y(R=>({...R,[_]:K})),b(1)},Pt=_=>_.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),an=_=>{E(_),M(!0)},Qt=async()=>{if(D){N(D),M(!1);try{await Ge.delete(`https://nexus-consults.com/api/public/api/admin/disciplines/${D}`,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ye.success("Discipline deleted successfully",{duration:2e3}),n()}catch(_){ye.error(_.response?.data?.message||"An unexpected error occurred",{duration:3e3}),_.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),_.response?.status==403&&(ye.error("You are not authorized to view this page"),r("/home"))}finally{N(null),E(null)}}},Te=_=>{de(_),Fe(!0)},ot=()=>{he({title:"",slug:"",description:"",order:0,is_active:!0,show_on_home:!1,cover_photo:null,sections:[]}),Ye(!1)},pt=()=>{ot(),Z(!0)},me=_=>{xe(_.id)};j.useEffect(()=>{if(bt&&ne){const K=(bt.sections||[]).map((R,q)=>({id:Date.now()+q,content:R.content||"",caption:R.caption||"",image:null,existing_image:R.image||null}));ze({id:bt.id,title:bt.title,slug:bt.slug,description:bt.description,order:bt.order||0,is_active:bt.is_active,show_on_home:bt.show_on_home||!1,cover_photo:null,existing_cover_photo:bt.cover_photo,sections:K}),ut(!0),ue(!0)}},[bt,ne]);const mt=()=>{const _={id:Date.now()+Math.random(),content:"",caption:"",image:null,existing_image:null};he(K=>({...K,sections:[...K.sections,_]}))},Lt=_=>{he(K=>({...K,sections:K.sections.filter(R=>R.id!==_)}))},rt=(_,K)=>{he(R=>({...R,sections:R.sections.map(q=>q.id===_?{...q,content:K}:q)}))},Ae=(_,K)=>{he(R=>({...R,sections:R.sections.map(q=>q.id===_?{...q,caption:K}:q)}))},lt=(_,K)=>{he(R=>({...R,sections:R.sections.map(q=>q.id===_?{...q,image:K}:q)}))},jt=_=>{he(K=>({...K,sections:K.sections.map(R=>R.id===_?{...R,image:null}:R)}))},Et=_=>{he(K=>({...K,sections:K.sections.map(R=>R.id===_?{...R,existing_image:null,image:null}:R)}))},kt=()=>{const _={id:Date.now()+Math.random(),content:"",caption:"",image:null,existing_image:null};ze(K=>({...K,sections:[...K.sections,_]}))},tn=_=>{ze(K=>({...K,sections:K.sections.filter(R=>R.id!==_)}))},Nn=(_,K)=>{ze(R=>({...R,sections:R.sections.map(q=>q.id===_?{...q,content:K}:q)}))},Q=(_,K)=>{ze(R=>({...R,sections:R.sections.map(q=>q.id===_?{...q,caption:K}:q)}))},ge=(_,K)=>{ze(R=>({...R,sections:R.sections.map(q=>q.id===_?{...q,image:K}:q)}))},Ee=_=>{ze(K=>({...K,sections:K.sections.map(R=>R.id===_?{...R,image:null}:R)}))},$e=_=>{ze(K=>({...K,sections:K.sections.map(R=>R.id===_?{...R,existing_image:null,image:null}:R)}))},Xe=_=>{const{name:K,value:R,type:q,checked:re,files:Le}=_.target;if(he(q==="file"?ft=>({...ft,[K]:Le[0]}):q==="number"?ft=>({...ft,[K]:parseInt(R)||0}):ft=>({...ft,[K]:q==="checkbox"?re:R})),K==="title"&&!Me){const ft=Pt(R);he(nn=>({...nn,slug:ft}))}},vt=_=>{const{value:K}=_.target;he(R=>({...R,slug:K})),Ye(!0)},At=()=>{const _=Pt(ie.title);he(K=>({...K,slug:_})),Ye(!1)},ct=_=>{const{name:K,value:R,type:q,checked:re,files:Le}=_.target;if(ze(q==="file"?ft=>({...ft,[K]:Le[0]}):q==="number"?ft=>({...ft,[K]:parseInt(R)||0}):ft=>({...ft,[K]:q==="checkbox"?re:R})),K==="title"&&!Re){const ft=Pt(R);ze(nn=>({...nn,slug:ft}))}},Ct=_=>{const{value:K}=_.target;ze(R=>({...R,slug:K})),ut(!0)},gt=()=>{const _=Pt(ke.title);ze(K=>({...K,slug:_})),ut(!1)},Ot=async _=>{if(_.preventDefault(),!ie.sections.some(R=>R.content&&R.content.trim()!=="")){ye.error("Please add at least one section with content");return}te(!0);try{const R=new FormData;R.append("title",ie.title),R.append("slug",ie.slug),R.append("order",ie.order||0),R.append("is_active",ie.is_active?1:0),R.append("show_on_home",ie.show_on_home?1:0),R.append("description",ie.description),ie.sections.forEach((q,re)=>{R.append(`content${re+1}`,q.content||""),R.append(`caption${re+1}`,q.caption||""),q.image instanceof File&&R.append(`image${re+1}`,q.image)}),R.append("cover_photo",ie.cover_photo||""),await Ge.post("https://nexus-consults.com/api/public/api/admin/disciplines",R,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}}),te(!1),ye.success("Discipline added successfully",{duration:2e3}),Z(!1),ot(),n(),U(ie.slug),ee(null)}catch(R){te(!1),ye.error(R.response?.data?.message||"An unexpected error occurred",{duration:3e3}),R.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),R.response?.status==403&&(ye.error("You are not authorized to view this page"),r("/home"))}},G=async _=>{if(_.preventDefault(),!ke.sections.some(R=>R.content&&R.content.trim()!=="")){ye.error("Please add at least one section with content");return}te(!0);try{const R=new FormData;R.append("title",ke.title),R.append("slug",ke.slug),R.append("order",ke.order||0),R.append("is_active",ke.is_active?1:0),R.append("show_on_home",ke.show_on_home?1:0),R.append("description",ke.description),R.append("_method","PUT"),ke.sections.forEach((q,re)=>{R.append(`content${re+1}`,q.content||""),R.append(`caption${re+1}`,q.caption||""),q.image instanceof File?R.append(`image${re+1}`,q.image):q.existing_image===null&&R.append(`image${re+1}`,"")}),ke.cover_photo instanceof File?R.append("cover_photo",ke.cover_photo):ke.existing_cover_photo===null&&R.append("cover_photo",""),await Ge.post(`https://nexus-consults.com/api/public/api/admin/disciplines/${ke.id}`,R,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`,"Content-Type":"multipart/form-data"}}),te(!1),ye.success("Discipline updated successfully",{duration:2e3}),ue(!1),xe(null),n(),s.invalidateQueries(["discipline",ke.id])}catch(R){te(!1),ye.error(R.response?.data?.message||"An unexpected error occurred",{duration:3e3}),R.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),R.response?.status==403&&(ye.error("You are not authorized to view this page"),r("/home"))}},_e=di({mutationFn:_=>Ge.patch(`https://nexus-consults.com/api/public/api/admin/disciplines/${_}/toggle-active`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),onMutate:_=>{F(_)},onSuccess:()=>{ye.success("Status updated successfully"),n()},onError:_=>{ye.error(_.response?.data?.message||"Failed to update status"),_.response?.status==401&&(localStorage.removeItem("userToken"),r("/login")),_.response?.status==403&&ye.error("You are not authorized to perform this action")},onSettled:()=>{F(null)}}),tt=_=>{_e.mutate(_)},yt=t?.filter(_=>{const K=m.global===""||_.title?.toLowerCase().includes(m.global.toLowerCase())||_.description?.toLowerCase().includes(m.global.toLowerCase())||_.created_by?.toLowerCase().includes(m.global.toLowerCase()),R=m.title===""||_.title?.toLowerCase().includes(m.title.toLowerCase()),q=m.created_by===""||_.created_by?.toLowerCase().includes(m.created_by.toLowerCase()),re=m.is_active===""||_.is_active?.toString()===m.is_active;let Le=!0;if(_.created_at){const ft=new Date(_.created_at);if(m.created_from){const nn=new Date(`${m.created_from}T00:00:00`);ft<nn&&(Le=!1)}if(Le&&m.created_to){const nn=new Date(`${m.created_to}T23:59:59.999`);ft>nn&&(Le=!1)}}return K&&R&&q&&re&&Le})||[],Wt=Math.ceil(yt.length/S),Mt=yt.slice((x-1)*S,x*S),zt=_=>{const K=_?"bg-[#009379] text-white":"bg-[#930002] text-white";return c.jsx("span",{className:`flex justify-center w-fit items-center px-2.5 py-1 rounded-md text-xs font-medium ${K} min-w-16 text-center`,children:_?"Active":"Inactive"})},Xn=()=>Wt<=1?null:c.jsxs("div",{className:"flex justify-between items-center mt-4 px-4 pb-1",children:[c.jsxs("div",{className:"text-xs",children:["Showing ",(x-1)*S+1,"-",Math.min(x*S,yt.length)," of ",yt.length," entries"]}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx("button",{onClick:()=>b(1),disabled:x===1,className:"p-1 disabled:opacity-50",children:c.jsx(Qo,{className:"h-4 w-4"})}),c.jsxs("span",{className:"px-3 py-1",children:["Page ",x," of ",Wt]}),c.jsx("button",{onClick:()=>b(_=>Math.min(Wt,_+1)),disabled:x===Wt,className:"p-1 disabled:opacity-50",children:c.jsx(Zo,{className:"h-4 w-4"})})]})]}),On=(_,K)=>{a(K?R=>[...R,_]:R=>R.filter(q=>q!==_))},bn=_=>{_?(a(yt.map(K=>K.id)),d(!0)):(a([]),d(!1))},jn=async()=>{i.length&&le(!0)},gr=async()=>{le(!1);try{p(!0),await Ge.post("https://nexus-consults.com/api/public/api/admin/disciplines/bulk/delete",{ids:i},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ye.success(`${i.length} discipline(s) deleted successfully`),a([]),d(!1),n()}catch(_){console.error("Error deleting disciplines:",_),ye.error(_.response?.data?.message||"Failed to delete disciplines")}finally{p(!1)}},Jn=async _=>{if(i.length)try{p(!0),await Ge.post("https://nexus-consults.com/api/public/api/admin/disciplines/bulk/update-status",{ids:i,status:_},{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}),ye.success(`Status updated for ${i.length} discipline(s)`),a([]),d(!1),n()}catch(K){console.error("Error updating discipline status:",K),ye.error(K.response?.data?.message||"Failed to update discipline status")}finally{p(!1)}},Y=()=>ie.sections.map((_,K)=>c.jsxs("div",{className:"p-4 border rounded-lg mb-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h3",{className:"text-lg font-medium",children:["Section ",K+1]}),c.jsx("button",{type:"button",onClick:()=>Lt(_.id),className:"text-red-500 hover:text-red-700 p-1",disabled:ie.sections.length===1,children:c.jsx(rc,{size:16})})]}),c.jsxs("div",{className:"mb-4",children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Content ",K+1,"*"]}),c.jsx(ui,{content:_.content,onUpdate:R=>rt(_.id,R)})]}),c.jsx(n5,{sectionId:_.id,label:`Image ${K+1}`,existingImage:_.existing_image,currentImage:_.image,caption:_.caption,onImageChange:lt,onRemoveImage:jt,onRemoveExistingImage:Et,onCaptionChange:Ae})]},_.id)),Ne=()=>ke.sections.map((_,K)=>c.jsxs("div",{className:"p-4 border rounded-lg mb-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h3",{className:"text-lg font-medium",children:["Section ",K+1]}),c.jsx("button",{type:"button",onClick:()=>tn(_.id),className:"text-red-500 hover:text-red-700 p-1",disabled:ke.sections.length===1,children:c.jsx(rc,{size:16})})]}),c.jsxs("div",{className:"mb-4",children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Content ",K+1,"*"]}),c.jsx(ui,{content:_.content,onUpdate:R=>Nn(_.id,R)})]}),c.jsx(n5,{sectionId:_.id,label:`Image ${K+1}`,existingImage:_.existing_image,currentImage:_.image,caption:_.caption,onImageChange:ge,onRemoveImage:Ee,onRemoveExistingImage:$e,onCaptionChange:Q})]},_.id));return c.jsxs("div",{className:"shadow-2xl rounded-2xl overflow-hidden bg-white",children:[c.jsxs("div",{className:"p-4 border-b flex justify-between items-center gap-4",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(k2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),c.jsx("input",{type:"text",value:m.global,onChange:_=>Jt("global",_.target.value),placeholder:"Search disciplines...",className:"pl-10 pr-4 py-2 rounded-xl shadow-sm focus:outline-2 focus:outline-primary w-full border border-primary transition-all"})]}),at?.data?.data?.admin?.permissions?.includes("create_disciplines")&&c.jsxs("button",{onClick:pt,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl hover:bg-darkBlue transition-all",children:[c.jsx(Ar,{size:16}),"Add Discipline"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:l&&yt.length>0,onChange:_=>bn(_.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),c.jsx("span",{className:"ml-2",children:"Title"})]})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cover Photo"}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsxs("select",{value:m.is_active,onChange:_=>Jt("is_active",_.target.value),className:"text-xs p-1 border rounded w-full",children:[c.jsx("option",{value:"",children:"All Status"}),c.jsx("option",{value:"true",children:"Active"}),c.jsx("option",{value:"false",children:"Inactive"})]})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.jsx("input",{type:"text",value:m.created_by,onChange:_=>Jt("created_by",_.target.value),placeholder:"Created By",className:"text-xs p-1 border rounded w-full"})}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created Date"}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:e?c.jsx("tr",{children:c.jsx("td",{colSpan:"7",className:"px-3 py-4 text-center",children:c.jsxs("div",{className:"flex justify-center items-center gap-2",children:[c.jsx(wt,{className:"animate-spin",size:18}),"Loading disciplines..."]})})}):Mt.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"7",className:"px-3 py-4 text-center",children:"No disciplines found"})}):Mt.map(_=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:i.includes(_.id),onChange:K=>On(_.id,K.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),c.jsxs("div",{className:"ml-2",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.title}),_.description&&c.jsx("div",{className:"text-xs text-gray-500 truncate max-w-xs",children:_.description})]})]})}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:_.cover_photo&&c.jsx("img",{src:_.cover_photo,alt:"Cover",className:"h-10 w-10 object-cover rounded"})}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-900",children:_.order||0})}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:zt(_.is_active)}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-900",children:_.created_by||"-"})}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-900",children:_.created_at?new Date(_.created_at).toLocaleDateString():"-"})}),c.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{className:"text-blue-500 hover:text-blue-700 p-1",onClick:()=>Te(_),title:"View Details",children:c.jsx(Cu,{size:16})}),at?.data?.data?.admin?.permissions?.includes("edit_disciplines")&&c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"text-purple-500 hover:text-purple-700 p-1",onClick:()=>me(_),title:"Edit",disabled:B,children:B&&ne===_.id?c.jsx(wt,{className:"animate-spin",size:16}):c.jsx(ki,{size:16})}),c.jsx("button",{className:`${_.is_active?"text-green-500 hover:text-green-700":"text-red-500 hover:text-red-700"} p-1`,onClick:()=>tt(_.id),disabled:A===_.id,title:_.is_active?"Deactivate":"Activate",children:A===_.id?c.jsx(wt,{className:"animate-spin",size:16}):_.is_active?c.jsx(Pr,{}):c.jsx($t,{})})]}),at?.data?.data?.admin?.permissions?.includes("delete_disciplines")&&c.jsx("button",{className:"text-red-500 hover:text-red-700 p-1",onClick:()=>an(_.id),disabled:C===_.id,title:"Delete",children:C===_.id?c.jsx(wt,{className:"animate-spin",size:16}):c.jsx(Vn,{size:16})})]})})]},_.id))})]})}),W&&c.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:"bg-white rounded-lg p-6 max-w-md w-full",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Deletion"}),c.jsx("button",{onClick:()=>le(!1),className:"text-gray-500 hover:text-gray-700",children:c.jsx($t,{})})]}),c.jsxs("p",{className:"text-gray-700 mb-6",children:["Are you sure you want to delete ",i.length," selected discipline(s)? This action cannot be undone."]}),c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx("button",{onClick:()=>le(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:f,children:"Cancel"}),c.jsx("button",{onClick:gr,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 flex items-center",disabled:f,children:f?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"animate-spin mr-2"}),"Deleting..."]}):"Delete"})]})]})}),i.length>0&&c.jsx("div",{className:"bg-blue-50 p-4 rounded-md mb-6 border border-blue-200",children:c.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[c.jsxs("div",{className:"text-blue-800 font-medium",children:[i.length," discipline(s) selected"]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsxs("button",{onClick:()=>Jn(!0),disabled:f,className:"flex items-center px-3 py-1.5 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 text-sm",children:[c.jsx(Pr,{className:"mr-1.5"}),"Activate"]}),c.jsxs("button",{onClick:()=>Jn(!1),disabled:f,className:"flex items-center px-3 py-1.5 bg-yellow-600 text-white rounded hover:bg-yellow-700 disabled:opacity-50 text-sm",children:[c.jsx($t,{className:"mr-1.5"}),"Deactivate"]}),c.jsxs("button",{onClick:jn,disabled:f,className:"flex items-center px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 text-sm",children:[c.jsx(Vn,{className:"mr-1.5"}),"Delete"]}),c.jsxs("button",{onClick:()=>{a([]),d(!1)},className:"flex items-center px-3 py-1.5 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 text-sm",children:[c.jsx($t,{className:"mr-1.5"}),"Clear Selection"]}),f&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(wt,{className:"animate-spin mr-1.5"}),"Loading..."]})]})]})}),!e&&Xn(),c.jsxs("div",{className:"p-4 border-t",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Drafts"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Drafts are stored locally in your browser"})]}),Nt.length===0?c.jsx("div",{className:"text-sm text-gray-500",children:"No drafts yet"}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full divide-y divide-gray-200 text-sm",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-2 text-left",children:"Title"}),c.jsx("th",{className:"px-4 py-2 text-left",children:"Updated"}),c.jsx("th",{className:"px-4 py-2 text-left",children:"Note"}),c.jsx("th",{className:"px-4 py-2 text-left",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:Nt.slice().sort((_,K)=>new Date(K.updatedAt)-new Date(_.updatedAt)).map(_=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-2",children:_.title||c.jsx("span",{className:"italic text-gray-400",children:"Untitled"})}),c.jsx("td",{className:"px-4 py-2",children:new Date(_.updatedAt).toLocaleString()}),c.jsx("td",{className:"px-4 py-2 text-xs text-gray-500",children:_.cover_photo_meta?`Attachment: ${_.cover_photo_meta.name} (re-attach required)`:"No attachment"}),c.jsx("td",{className:"px-4 py-2",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-1",onClick:()=>ht(_),children:[c.jsx(kh,{})," Resume"]}),c.jsx("button",{className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",onClick:()=>V(_.id),children:"Delete"})]})})]},_.id))})]})})]}),H&&c.jsxs(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 ",children:[c.jsx("button",{onClick:()=>{Z(!1);const _=Ce();_&&we(_)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:c.jsx(ns,{className:"",size:40})}),c.jsx(Tt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-4/5 h-[90vh] overflow-y-auto",onClick:_=>_.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New Discipline"}),c.jsxs("form",{onSubmit:Ot,children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title*"}),c.jsx("input",{type:"text",name:"title",value:ie.title,onChange:Xe,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"number",name:"order",value:ie.order,onChange:Xe,min:"0",step:"1",className:"w-full px-3 py-2 border rounded-md pl-10",placeholder:"0"}),c.jsx(w1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lower numbers appear first"})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug*"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",name:"slug",value:ie.slug,onChange:vt,className:"w-full px-3 py-2 border rounded-md",required:!0}),Me&&c.jsx("button",{type:"button",onClick:At,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",title:"Reset to auto-generated slug",children:c.jsx($t,{})})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Me?"Slug is manually edited. Click the X to reset to auto-generated.":"Slug is auto-generated from title. You can edit it manually."})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),c.jsx("textarea",{name:"description",value:ie.description,onChange:Xe,rows:3,className:"w-full px-3 py-2 border rounded-md resize-vertical",placeholder:"Enter discipline description..."})]}),c.jsx(r5,{name:"cover_photo",label:"Cover Photo",currentImage:ie.cover_photo,onImageChange:Xe,onRemoveImage:_=>he(K=>({...K,[_]:null}))}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:ie.is_active,onChange:Xe,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),c.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700",children:"Active"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"show_on_home",name:"show_on_home",checked:ie.show_on_home,onChange:Xe,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),c.jsx("label",{htmlFor:"show_on_home",className:"ml-2 text-sm text-gray-700",children:"Show on Home Screen"})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("div",{className:"space-y-4",children:ie.sections.length===0?c.jsxs("div",{className:"text-center p-8 border-2 border-dashed rounded-lg",children:[c.jsx("p",{className:"text-gray-500 mb-4",children:'No sections added yet. Click "Add Section" to get started.'}),c.jsx("p",{className:"text-sm text-gray-400",children:"Note: At least one section with content is required."})]}):Y()}),c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-medium",children:"Sections"}),c.jsxs("button",{type:"button",onClick:mt,className:"bg-primary hover:bg-darkBlue text-white px-3 py-2 rounded-md flex items-center gap-2",children:[c.jsx(Ar,{})," Add Section"]})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[c.jsxs("div",{className:"text-xs text-gray-500 mt-2 flex items-center",children:[c.jsx(wt,{className:`animate-spin mr-1 ${oe?"opacity-100":"opacity-0"}`,size:12}),"Auto-saves to drafts every 5s"]}),c.jsxs("button",{type:"button",onClick:et,className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[c.jsx($u,{size:16})," Save as Draft"]}),c.jsx("button",{type:"button",onClick:()=>{const _=Ce();_&&we(_),Z(!1),ot()},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:oe,children:oe?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"animate-spin",size:18}),c.jsx("span",{children:"Adding..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Ar,{size:18}),c.jsx("span",{children:"Add Discipline"})]})})]})]})]})})]}),ve&&c.jsxs(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[c.jsx("button",{onClick:()=>{ue(!1),xe(null)},className:"fixed top-5 right-5 text-red-500 backdrop-blur-lg rounded-full z-50",children:c.jsx(ns,{className:"",size:40})}),c.jsx(Tt.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-lg shadow-xl w-4/5 h-[90vh] overflow-y-auto",onClick:_=>_.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("button",{type:"button",onClick:()=>{ue(!1),xe(null)},className:"text-blue-600 hover:text-blue-800 font-medium",children:"Disciplines"}),c.jsx("span",{className:"mx-2 text-gray-400",children:">"}),c.jsx("span",{className:"text-xl font-bold text-gray-900",children:ke.title||"Untitled Discipline"}),B&&c.jsxs("div",{className:"ml-4 flex items-center text-sm text-gray-500",children:[c.jsx(wt,{className:"animate-spin mr-2",size:14}),"Loading discipline data..."]})]}),B?c.jsxs("div",{className:"flex justify-center items-center py-8",children:[c.jsx(wt,{className:"animate-spin mr-2",size:24}),c.jsx("span",{children:"Loading discipline data..."})]}):c.jsxs("form",{onSubmit:G,children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title*"}),c.jsx("input",{type:"text",name:"title",value:ke.title,onChange:ct,className:"w-full px-3 py-2 border rounded-md",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"number",name:"order",value:ke.order,onChange:ct,min:"0",step:"1",className:"w-full px-3 py-2 border rounded-md pl-10",placeholder:"0"}),c.jsx(w1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lower numbers appear first"})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug*"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",name:"slug",value:ke.slug,onChange:Ct,className:"w-full px-3 py-2 border rounded-md",required:!0}),Re&&c.jsx("button",{type:"button",onClick:gt,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",title:"Reset to auto-generated slug",children:c.jsx($t,{})})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Re?"Slug is manually edited. Click the X to reset to auto-generated.":"Slug is auto-generated from title. You can edit it manually."})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),c.jsx("textarea",{name:"description",value:ke.description,onChange:ct,rows:3,className:"w-full px-3 py-2 border rounded-md resize-vertical",placeholder:"Enter discipline description..."})]}),c.jsx(r5,{name:"cover_photo",label:"Cover Photo",existingImage:ke.existing_cover_photo,currentImage:ke.cover_photo,onImageChange:ct,onRemoveImage:_=>{if(_.startsWith("existing_")){const K=_.replace("existing_","");ze(R=>({...R,[_]:null,[K]:null}))}else ze(K=>({...K,[_]:null}))}}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"edit_is_active",name:"is_active",checked:ke.is_active,onChange:ct,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),c.jsx("label",{htmlFor:"edit_is_active",className:"ml-2 text-sm text-gray-700",children:"Active"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"edit_show_on_home",name:"show_on_home",checked:ke.show_on_home,onChange:ct,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),c.jsx("label",{htmlFor:"edit_show_on_home",className:"ml-2 text-sm text-gray-700",children:"Show on Home Screen"})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("div",{className:"flex justify-between items-center mb-4",children:c.jsx("h3",{className:"text-lg font-medium",children:"Sections"})}),c.jsx("div",{className:"space-y-4",children:ke.sections.length===0?c.jsxs("div",{className:"text-center p-8 border-2 border-dashed rounded-lg",children:[c.jsx("p",{className:"text-gray-500 mb-4",children:'No sections added yet. Click "Add Section" to get started.'}),c.jsx("p",{className:"text-sm text-gray-400",children:"Note: At least one section with content is required."})]}):Ne()}),c.jsx("div",{className:"flex justify-end items-center mb-4",children:c.jsxs("button",{type:"button",onClick:kt,className:"bg-primary hover:bg-darkBlue text-white px-3 py-2 rounded-md flex items-center gap-2",children:[c.jsx(Ar,{})," Add Section"]})})]}),c.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[c.jsx("button",{type:"button",onClick:()=>{ue(!1),xe(null)},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-darkBlue transition-all flex items-center justify-center gap-2",disabled:oe,children:oe?c.jsxs(c.Fragment,{children:[c.jsx(wt,{className:"animate-spin",size:18}),c.jsx("span",{children:"Updating..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Pr,{size:18}),c.jsx("span",{children:"Update Discipline"})]})})]})]})]})})]}),k&&c.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>M(!1),children:c.jsx(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-md",onClick:_=>_.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:c.jsx(Vn,{className:"h-5 w-5 text-red-600"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Discipline"}),c.jsx("div",{className:"mt-2",children:c.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this discipline? This action cannot be undone."})})]})]}),c.jsxs("div",{className:"mt-5 flex justify-end gap-3",children:[c.jsx("button",{type:"button",onClick:()=>M(!1),className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{type:"button",onClick:Qt,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})})}),be&&c.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>Fe(!1),children:c.jsx(Tt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:_=>_.stopPropagation(),children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Discipline Details"}),c.jsx("button",{onClick:()=>Fe(!1),className:"text-gray-500 hover:text-gray-700",children:c.jsx($t,{size:20})})]}),$?c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),c.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:$.title})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:$.description||"No description provided"})]}),$.cover_photo&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cover Photo"}),c.jsx("img",{src:$.cover_photo,alt:"Cover",className:"mt-1 h-48 w-full object-cover rounded-lg"})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Order"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:$.order||0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),c.jsx("div",{className:"mt-1",children:zt($.is_active)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Show on Home"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:$.show_on_home?"Yes":"No"})]})]}),c.jsx("div",{className:"grid grid-cols-2 gap-4",children:c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Created By"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:$.created_by||"-"})]})}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Created On"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date($.created_at).toLocaleString()})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Updated"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date($.updated_at).toLocaleString()})]})]})]})}):c.jsx("div",{className:"text-center py-8 text-gray-500",children:"Failed to load discipline details"})]})})})]})}function pce(){const t=Hn(),{data:e,isLoading:n,isError:r,error:s,refetch:i}=Cn({queryKey:["disciplines"],queryFn:()=>Ge.get("https://nexus-consults.com/api/public/api/admin/disciplines",{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}})});return j.useEffect(()=>{r&&(s.response?.status==401&&(localStorage.removeItem("userToken"),t("/login")),s.response?.status==403&&(toast.error("You are not authorized to view this page"),t("/home")))},[r]),c.jsxs("div",{className:"p-4",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Disciplines"}),c.jsx(hce,{disciplinessData:e?.data?.data||[],loading:n,refetch:i})]})}function mce(){const t=Hn(),e=()=>{window.location.reload()},n=()=>{t("/")};return c.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 px-4",children:c.jsxs("div",{className:"text-center max-w-md mx-auto",children:[c.jsx("div",{className:"mb-6",children:c.jsx("div",{className:"w-24 h-24 mx-auto bg-red-100 rounded-full flex items-center justify-center",children:c.jsx("svg",{className:"w-12 h-12 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})})}),c.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-4",children:"Unexpected Error Occurred"}),c.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"We apologize for the inconvenience. Please try refreshing the page or return to the homepage."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsx("button",{onClick:e,className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors duration-200",children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh Page"]})}),c.jsx("button",{onClick:n,className:"px-6 py-3 bg-gray-200 text-gray-900 font-medium rounded-lg hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 transition-colors duration-200",children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Go Home"]})})]}),c.jsx("p",{className:"text-sm text-gray-500 mt-8",children:"If the problem persists, please contact support."})]})})}function gce(){const t=GP([{path:"/login",element:c.jsx(vV,{})},{path:"/",element:c.jsx(ni,{children:c.jsx(Dq,{})}),errorElement:c.jsx(mce,{}),children:[{index:!0,element:c.jsx(ni,{children:c.jsx(kle,{})})},{path:"/services",element:c.jsx(ni,{children:c.jsx(Ale,{})})},{path:"/projects",element:c.jsx(ni,{children:c.jsx(Mle,{})})},{path:"/admins",element:c.jsx(ni,{children:c.jsx(Rle,{})})},{path:"/blogs",element:c.jsx(ni,{children:c.jsx(Lle,{})})},{path:"/jobs",element:c.jsx(ni,{children:c.jsx(zle,{})})},{path:"/jobs-applications",element:c.jsx(ni,{children:c.jsx(Ble,{})})},{path:"/testmonials",element:c.jsx(ni,{children:c.jsx($le,{})})},{path:"/about-us",element:c.jsx(ni,{children:c.jsx(Ule,{})})},{path:"/user-setting",element:c.jsx(ni,{children:c.jsx(fce,{})})},{path:"/disciplines",element:c.jsx(ni,{children:c.jsx(pce,{})})}]},{path:"*",element:c.jsx(gK,{})}]);let e=new qV({defaultOptions:{queries:{retry:!1}}});return c.jsx(c.Fragment,{children:c.jsx(bV,{children:c.jsxs(XV,{client:e,children:[c.jsx(a9,{router:t}),c.jsx(H$,{position:"bottom-right",reverseOrder:!1})]})})})}Q7.createRoot(document.getElementById("root")).render(c.jsx(j.StrictMode,{children:c.jsx(gce,{})}))});export default yce();
